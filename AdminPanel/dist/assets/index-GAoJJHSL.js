var Zh=Object.defineProperty;var Pu=ee=>{throw TypeError(ee)};var Qh=(ee,$,te)=>$ in ee?Zh(ee,$,{enumerable:!0,configurable:!0,writable:!0,value:te}):ee[$]=te;var vi=(ee,$,te)=>Qh(ee,typeof $!="symbol"?$+"":$,te),Dl=(ee,$,te)=>$.has(ee)||Pu("Cannot "+te);var It=(ee,$,te)=>(Dl(ee,$,"read from private field"),te?te.call(ee):$.get(ee)),Fn=(ee,$,te)=>$.has(ee)?Pu("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(ee):$.set(ee,te),Pn=(ee,$,te,ne)=>(Dl(ee,$,"write to private field"),ne?ne.call(ee,te):$.set(ee,te),te),bn=(ee,$,te)=>(Dl(ee,$,"access private method"),te);var Ol=(ee,$,te,ne)=>({set _(ie){Pn(ee,$,ie,te)},get _(){return It(ee,$,ne)}});function _mergeNamespaces(ee,$){for(var te=0;te<$.length;te++){const ne=$[te];if(typeof ne!="string"&&!Array.isArray(ne)){for(const ie in ne)if(ie!=="default"&&!(ie in ee)){const se=Object.getOwnPropertyDescriptor(ne,ie);se&&Object.defineProperty(ee,ie,se.get?se:{enumerable:!0,get:()=>ne[ie]})}}}return Object.freeze(Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}))}(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const ie of document.querySelectorAll('link[rel="modulepreload"]'))ne(ie);new MutationObserver(ie=>{for(const se of ie)if(se.type==="childList")for(const le of se.addedNodes)le.tagName==="LINK"&&le.rel==="modulepreload"&&ne(le)}).observe(document,{childList:!0,subtree:!0});function te(ie){const se={};return ie.integrity&&(se.integrity=ie.integrity),ie.referrerPolicy&&(se.referrerPolicy=ie.referrerPolicy),ie.crossOrigin==="use-credentials"?se.credentials="include":ie.crossOrigin==="anonymous"?se.credentials="omit":se.credentials="same-origin",se}function ne(ie){if(ie.ep)return;ie.ep=!0;const se=te(ie);fetch(ie.href,se)}})();function getDefaultExportFromCjs(ee){return ee&&ee.__esModule&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee}function getAugmentedNamespace(ee){if(ee.__esModule)return ee;var $=ee.default;if(typeof $=="function"){var te=function ne(){return this instanceof ne?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};te.prototype=$.prototype}else te={};return Object.defineProperty(te,"__esModule",{value:!0}),Object.keys(ee).forEach(function(ne){var ie=Object.getOwnPropertyDescriptor(ee,ne);Object.defineProperty(te,ne,ie.get?ie:{enumerable:!0,get:function(){return ee[ne]}})}),te}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE$3=Symbol.for("react.transitional.element"),REACT_FRAGMENT_TYPE$3=Symbol.for("react.fragment");function jsxProd(ee,$,te){var ne=null;if(te!==void 0&&(ne=""+te),$.key!==void 0&&(ne=""+$.key),"key"in $){te={};for(var ie in $)ie!=="key"&&(te[ie]=$[ie])}else te=$;return $=te.ref,{$$typeof:REACT_ELEMENT_TYPE$3,type:ee,key:ne,ref:$!==void 0?$:null,props:te}}reactJsxRuntime_production.Fragment=REACT_FRAGMENT_TYPE$3;reactJsxRuntime_production.jsx=jsxProd;reactJsxRuntime_production.jsxs=jsxProd;jsxRuntime.exports=reactJsxRuntime_production;var jsxRuntimeExports=jsxRuntime.exports,client={exports:{}},reactDomClient_production={},scheduler$1={exports:{}},scheduler_production$1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ee){function $(Pe,Ue){var Te=Pe.length;Pe.push(Ue);e:for(;0<Te;){var Me=Te-1>>>1,Ve=Pe[Me];if(0<ie(Ve,Ue))Pe[Me]=Ue,Pe[Te]=Ve,Te=Me;else break e}}function te(Pe){return Pe.length===0?null:Pe[0]}function ne(Pe){if(Pe.length===0)return null;var Ue=Pe[0],Te=Pe.pop();if(Te!==Ue){Pe[0]=Te;e:for(var Me=0,Ve=Pe.length,He=Ve>>>1;Me<He;){var Ie=2*(Me+1)-1,Le=Pe[Ie],Oe=Ie+1,Ne=Pe[Oe];if(0>ie(Le,Te))Oe<Ve&&0>ie(Ne,Le)?(Pe[Me]=Ne,Pe[Oe]=Te,Me=Oe):(Pe[Me]=Le,Pe[Ie]=Te,Me=Ie);else if(Oe<Ve&&0>ie(Ne,Te))Pe[Me]=Ne,Pe[Oe]=Te,Me=Oe;else break e}}return Ue}function ie(Pe,Ue){var Te=Pe.sortIndex-Ue.sortIndex;return Te!==0?Te:Pe.id-Ue.id}if(ee.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var se=performance;ee.unstable_now=function(){return se.now()}}else{var le=Date,oe=le.now();ee.unstable_now=function(){return le.now()-oe}}var ce=[],ae=[],he=1,de=null,pe=3,re=!1,Ae=!1,ge=!1,Se=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function xe(Pe){for(var Ue=te(ae);Ue!==null;){if(Ue.callback===null)ne(ae);else if(Ue.startTime<=Pe)ne(ae),Ue.sortIndex=Ue.expirationTime,$(ce,Ue);else break;Ue=te(ae)}}function ue(Pe){if(ge=!1,xe(Pe),!Ae)if(te(ce)!==null)Ae=!0,$e();else{var Ue=te(ae);Ue!==null&&Be(ue,Ue.startTime-Pe)}}var we=!1,Fe=-1,_e=5,Ee=-1;function Ce(){return!(ee.unstable_now()-Ee<_e)}function ye(){if(we){var Pe=ee.unstable_now();Ee=Pe;var Ue=!0;try{e:{Ae=!1,ge&&(ge=!1,fe(Fe),Fe=-1),re=!0;var Te=pe;try{t:{for(xe(Pe),de=te(ce);de!==null&&!(de.expirationTime>Pe&&Ce());){var Me=de.callback;if(typeof Me=="function"){de.callback=null,pe=de.priorityLevel;var Ve=Me(de.expirationTime<=Pe);if(Pe=ee.unstable_now(),typeof Ve=="function"){de.callback=Ve,xe(Pe),Ue=!0;break t}de===te(ce)&&ne(ce),xe(Pe)}else ne(ce);de=te(ce)}if(de!==null)Ue=!0;else{var He=te(ae);He!==null&&Be(ue,He.startTime-Pe),Ue=!1}}break e}finally{de=null,pe=Te,re=!1}Ue=void 0}}finally{Ue?Re():we=!1}}}var Re;if(typeof be=="function")Re=function(){be(ye)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,ke=Ye.port2;Ye.port1.onmessage=ye,Re=function(){ke.postMessage(null)}}else Re=function(){Se(ye,0)};function $e(){we||(we=!0,Re())}function Be(Pe,Ue){Fe=Se(function(){Pe(ee.unstable_now())},Ue)}ee.unstable_IdlePriority=5,ee.unstable_ImmediatePriority=1,ee.unstable_LowPriority=4,ee.unstable_NormalPriority=3,ee.unstable_Profiling=null,ee.unstable_UserBlockingPriority=2,ee.unstable_cancelCallback=function(Pe){Pe.callback=null},ee.unstable_continueExecution=function(){Ae||re||(Ae=!0,$e())},ee.unstable_forceFrameRate=function(Pe){0>Pe||125<Pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<Pe?Math.floor(1e3/Pe):5},ee.unstable_getCurrentPriorityLevel=function(){return pe},ee.unstable_getFirstCallbackNode=function(){return te(ce)},ee.unstable_next=function(Pe){switch(pe){case 1:case 2:case 3:var Ue=3;break;default:Ue=pe}var Te=pe;pe=Ue;try{return Pe()}finally{pe=Te}},ee.unstable_pauseExecution=function(){},ee.unstable_requestPaint=function(){},ee.unstable_runWithPriority=function(Pe,Ue){switch(Pe){case 1:case 2:case 3:case 4:case 5:break;default:Pe=3}var Te=pe;pe=Pe;try{return Ue()}finally{pe=Te}},ee.unstable_scheduleCallback=function(Pe,Ue,Te){var Me=ee.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Me+Te:Me):Te=Me,Pe){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=Te+Ve,Pe={id:he++,callback:Ue,priorityLevel:Pe,startTime:Te,expirationTime:Ve,sortIndex:-1},Te>Me?(Pe.sortIndex=Te,$(ae,Pe),te(ce)===null&&Pe===te(ae)&&(ge?(fe(Fe),Fe=-1):ge=!0,Be(ue,Te-Me))):(Pe.sortIndex=Ve,$(ce,Pe),Ae||re||(Ae=!0,$e())),Pe},ee.unstable_shouldYield=Ce,ee.unstable_wrapCallback=function(Pe){var Ue=pe;return function(){var Te=pe;pe=Ue;try{return Pe.apply(this,arguments)}finally{pe=Te}}}})(scheduler_production$1);scheduler$1.exports=scheduler_production$1;var schedulerExports$1=scheduler$1.exports,react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE$2=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE$3=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE$2=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE$2=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE$2=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE$2=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE$2=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE$2=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE$2=Symbol.for("react.suspense"),REACT_MEMO_TYPE$2=Symbol.for("react.memo"),REACT_LAZY_TYPE$2=Symbol.for("react.lazy"),MAYBE_ITERATOR_SYMBOL$1=Symbol.iterator;function getIteratorFn$1(ee){return ee===null||typeof ee!="object"?null:(ee=MAYBE_ITERATOR_SYMBOL$1&&ee[MAYBE_ITERATOR_SYMBOL$1]||ee["@@iterator"],typeof ee=="function"?ee:null)}var ReactNoopUpdateQueue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},assign$2=Object.assign,emptyObject={};function Component(ee,$,te){this.props=ee,this.context=$,this.refs=emptyObject,this.updater=te||ReactNoopUpdateQueue}Component.prototype.isReactComponent={};Component.prototype.setState=function(ee,$){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,$,"setState")};Component.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function ComponentDummy(){}ComponentDummy.prototype=Component.prototype;function PureComponent(ee,$,te){this.props=ee,this.context=$,this.refs=emptyObject,this.updater=te||ReactNoopUpdateQueue}var pureComponentPrototype=PureComponent.prototype=new ComponentDummy;pureComponentPrototype.constructor=PureComponent;assign$2(pureComponentPrototype,Component.prototype);pureComponentPrototype.isPureReactComponent=!0;var isArrayImpl$1=Array.isArray,ReactSharedInternals$2={H:null,A:null,T:null,S:null},hasOwnProperty$1=Object.prototype.hasOwnProperty;function ReactElement(ee,$,te,ne,ie,se){return te=se.ref,{$$typeof:REACT_ELEMENT_TYPE$2,type:ee,key:$,ref:te!==void 0?te:null,props:se}}function cloneAndReplaceKey(ee,$){return ReactElement(ee.type,$,void 0,void 0,void 0,ee.props)}function isValidElement(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===REACT_ELEMENT_TYPE$2}function escape$1(ee){var $={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(te){return $[te]})}var userProvidedKeyEscapeRegex=/\/+/g;function getElementKey(ee,$){return typeof ee=="object"&&ee!==null&&ee.key!=null?escape$1(""+ee.key):$.toString(36)}function noop$1$1(){}function resolveThenable(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(noop$1$1,noop$1$1):(ee.status="pending",ee.then(function($){ee.status==="pending"&&(ee.status="fulfilled",ee.value=$)},function($){ee.status==="pending"&&(ee.status="rejected",ee.reason=$)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function mapIntoArray(ee,$,te,ne,ie){var se=typeof ee;(se==="undefined"||se==="boolean")&&(ee=null);var le=!1;if(ee===null)le=!0;else switch(se){case"bigint":case"string":case"number":le=!0;break;case"object":switch(ee.$$typeof){case REACT_ELEMENT_TYPE$2:case REACT_PORTAL_TYPE$3:le=!0;break;case REACT_LAZY_TYPE$2:return le=ee._init,mapIntoArray(le(ee._payload),$,te,ne,ie)}}if(le)return ie=ie(ee),le=ne===""?"."+getElementKey(ee,0):ne,isArrayImpl$1(ie)?(te="",le!=null&&(te=le.replace(userProvidedKeyEscapeRegex,"$&/")+"/"),mapIntoArray(ie,$,te,"",function(ae){return ae})):ie!=null&&(isValidElement(ie)&&(ie=cloneAndReplaceKey(ie,te+(ie.key==null||ee&&ee.key===ie.key?"":(""+ie.key).replace(userProvidedKeyEscapeRegex,"$&/")+"/")+le)),$.push(ie)),1;le=0;var oe=ne===""?".":ne+":";if(isArrayImpl$1(ee))for(var ce=0;ce<ee.length;ce++)ne=ee[ce],se=oe+getElementKey(ne,ce),le+=mapIntoArray(ne,$,te,se,ie);else if(ce=getIteratorFn$1(ee),typeof ce=="function")for(ee=ce.call(ee),ce=0;!(ne=ee.next()).done;)ne=ne.value,se=oe+getElementKey(ne,ce++),le+=mapIntoArray(ne,$,te,se,ie);else if(se==="object"){if(typeof ee.then=="function")return mapIntoArray(resolveThenable(ee),$,te,ne,ie);throw $=String(ee),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return le}function mapChildren(ee,$,te){if(ee==null)return ee;var ne=[],ie=0;return mapIntoArray(ee,ne,"","",function(se){return $.call(te,se,ie++)}),ne}function lazyInitializer(ee){if(ee._status===-1){var $=ee._result;$=$(),$.then(function(te){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=te)},function(te){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=te)}),ee._status===-1&&(ee._status=0,ee._result=$)}if(ee._status===1)return ee._result.default;throw ee._result}var reportGlobalError$1=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function noop$6(){}react_production.Children={map:mapChildren,forEach:function(ee,$,te){mapChildren(ee,function(){$.apply(this,arguments)},te)},count:function(ee){var $=0;return mapChildren(ee,function(){$++}),$},toArray:function(ee){return mapChildren(ee,function($){return $})||[]},only:function(ee){if(!isValidElement(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};react_production.Component=Component;react_production.Fragment=REACT_FRAGMENT_TYPE$2;react_production.Profiler=REACT_PROFILER_TYPE$2;react_production.PureComponent=PureComponent;react_production.StrictMode=REACT_STRICT_MODE_TYPE$2;react_production.Suspense=REACT_SUSPENSE_TYPE$2;react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ReactSharedInternals$2;react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production.cache=function(ee){return function(){return ee.apply(null,arguments)}};react_production.cloneElement=function(ee,$,te){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var ne=assign$2({},ee.props),ie=ee.key,se=void 0;if($!=null)for(le in $.ref!==void 0&&(se=void 0),$.key!==void 0&&(ie=""+$.key),$)!hasOwnProperty$1.call($,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&$.ref===void 0||(ne[le]=$[le]);var le=arguments.length-2;if(le===1)ne.children=te;else if(1<le){for(var oe=Array(le),ce=0;ce<le;ce++)oe[ce]=arguments[ce+2];ne.children=oe}return ReactElement(ee.type,ie,void 0,void 0,se,ne)};react_production.createContext=function(ee){return ee={$$typeof:REACT_CONTEXT_TYPE$2,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:REACT_CONSUMER_TYPE$2,_context:ee},ee};react_production.createElement=function(ee,$,te){var ne,ie={},se=null;if($!=null)for(ne in $.key!==void 0&&(se=""+$.key),$)hasOwnProperty$1.call($,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ie[ne]=$[ne]);var le=arguments.length-2;if(le===1)ie.children=te;else if(1<le){for(var oe=Array(le),ce=0;ce<le;ce++)oe[ce]=arguments[ce+2];ie.children=oe}if(ee&&ee.defaultProps)for(ne in le=ee.defaultProps,le)ie[ne]===void 0&&(ie[ne]=le[ne]);return ReactElement(ee,se,void 0,void 0,null,ie)};react_production.createRef=function(){return{current:null}};react_production.forwardRef=function(ee){return{$$typeof:REACT_FORWARD_REF_TYPE$2,render:ee}};react_production.isValidElement=isValidElement;react_production.lazy=function(ee){return{$$typeof:REACT_LAZY_TYPE$2,_payload:{_status:-1,_result:ee},_init:lazyInitializer}};react_production.memo=function(ee,$){return{$$typeof:REACT_MEMO_TYPE$2,type:ee,compare:$===void 0?null:$}};react_production.startTransition=function(ee){var $=ReactSharedInternals$2.T,te={};ReactSharedInternals$2.T=te;try{var ne=ee(),ie=ReactSharedInternals$2.S;ie!==null&&ie(te,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(noop$6,reportGlobalError$1)}catch(se){reportGlobalError$1(se)}finally{ReactSharedInternals$2.T=$}};react_production.unstable_useCacheRefresh=function(){return ReactSharedInternals$2.H.useCacheRefresh()};react_production.use=function(ee){return ReactSharedInternals$2.H.use(ee)};react_production.useActionState=function(ee,$,te){return ReactSharedInternals$2.H.useActionState(ee,$,te)};react_production.useCallback=function(ee,$){return ReactSharedInternals$2.H.useCallback(ee,$)};react_production.useContext=function(ee){return ReactSharedInternals$2.H.useContext(ee)};react_production.useDebugValue=function(){};react_production.useDeferredValue=function(ee,$){return ReactSharedInternals$2.H.useDeferredValue(ee,$)};react_production.useEffect=function(ee,$){return ReactSharedInternals$2.H.useEffect(ee,$)};react_production.useId=function(){return ReactSharedInternals$2.H.useId()};react_production.useImperativeHandle=function(ee,$,te){return ReactSharedInternals$2.H.useImperativeHandle(ee,$,te)};react_production.useInsertionEffect=function(ee,$){return ReactSharedInternals$2.H.useInsertionEffect(ee,$)};react_production.useLayoutEffect=function(ee,$){return ReactSharedInternals$2.H.useLayoutEffect(ee,$)};react_production.useMemo=function(ee,$){return ReactSharedInternals$2.H.useMemo(ee,$)};react_production.useOptimistic=function(ee,$){return ReactSharedInternals$2.H.useOptimistic(ee,$)};react_production.useReducer=function(ee,$,te){return ReactSharedInternals$2.H.useReducer(ee,$,te)};react_production.useRef=function(ee){return ReactSharedInternals$2.H.useRef(ee)};react_production.useState=function(ee){return ReactSharedInternals$2.H.useState(ee)};react_production.useSyncExternalStore=function(ee,$,te){return ReactSharedInternals$2.H.useSyncExternalStore(ee,$,te)};react_production.useTransition=function(){return ReactSharedInternals$2.H.useTransition()};react_production.version="19.0.0";react.exports=react_production;var reactExports=react.exports;const React$4=getDefaultExportFromCjs(reactExports),React$5=_mergeNamespaces({__proto__:null,default:React$4},[reactExports]);var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$3=reactExports;function formatProdErrorMessage$1(ee){var $="https://react.dev/errors/"+ee;if(1<arguments.length){$+="?args[]="+encodeURIComponent(arguments[1]);for(var te=2;te<arguments.length;te++)$+="&args[]="+encodeURIComponent(arguments[te])}return"Minified React error #"+ee+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function noop$5(){}var Internals={d:{f:noop$5,r:function(){throw Error(formatProdErrorMessage$1(522))},D:noop$5,C:noop$5,L:noop$5,m:noop$5,X:noop$5,S:noop$5,M:noop$5},p:0,findDOMNode:null},REACT_PORTAL_TYPE$2=Symbol.for("react.portal");function createPortal$1(ee,$,te){var ne=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:REACT_PORTAL_TYPE$2,key:ne==null?null:""+ne,children:ee,containerInfo:$,implementation:te}}var ReactSharedInternals$1=React$3.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function getCrossOriginStringAs(ee,$){if(ee==="font")return"";if(typeof $=="string")return $==="use-credentials"?$:""}reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Internals;reactDom_production.createPortal=function(ee,$){var te=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$||$.nodeType!==1&&$.nodeType!==9&&$.nodeType!==11)throw Error(formatProdErrorMessage$1(299));return createPortal$1(ee,$,null,te)};reactDom_production.flushSync=function(ee){var $=ReactSharedInternals$1.T,te=Internals.p;try{if(ReactSharedInternals$1.T=null,Internals.p=2,ee)return ee()}finally{ReactSharedInternals$1.T=$,Internals.p=te,Internals.d.f()}};reactDom_production.preconnect=function(ee,$){typeof ee=="string"&&($?($=$.crossOrigin,$=typeof $=="string"?$==="use-credentials"?$:"":void 0):$=null,Internals.d.C(ee,$))};reactDom_production.prefetchDNS=function(ee){typeof ee=="string"&&Internals.d.D(ee)};reactDom_production.preinit=function(ee,$){if(typeof ee=="string"&&$&&typeof $.as=="string"){var te=$.as,ne=getCrossOriginStringAs(te,$.crossOrigin),ie=typeof $.integrity=="string"?$.integrity:void 0,se=typeof $.fetchPriority=="string"?$.fetchPriority:void 0;te==="style"?Internals.d.S(ee,typeof $.precedence=="string"?$.precedence:void 0,{crossOrigin:ne,integrity:ie,fetchPriority:se}):te==="script"&&Internals.d.X(ee,{crossOrigin:ne,integrity:ie,fetchPriority:se,nonce:typeof $.nonce=="string"?$.nonce:void 0})}};reactDom_production.preinitModule=function(ee,$){if(typeof ee=="string")if(typeof $=="object"&&$!==null){if($.as==null||$.as==="script"){var te=getCrossOriginStringAs($.as,$.crossOrigin);Internals.d.M(ee,{crossOrigin:te,integrity:typeof $.integrity=="string"?$.integrity:void 0,nonce:typeof $.nonce=="string"?$.nonce:void 0})}}else $==null&&Internals.d.M(ee)};reactDom_production.preload=function(ee,$){if(typeof ee=="string"&&typeof $=="object"&&$!==null&&typeof $.as=="string"){var te=$.as,ne=getCrossOriginStringAs(te,$.crossOrigin);Internals.d.L(ee,te,{crossOrigin:ne,integrity:typeof $.integrity=="string"?$.integrity:void 0,nonce:typeof $.nonce=="string"?$.nonce:void 0,type:typeof $.type=="string"?$.type:void 0,fetchPriority:typeof $.fetchPriority=="string"?$.fetchPriority:void 0,referrerPolicy:typeof $.referrerPolicy=="string"?$.referrerPolicy:void 0,imageSrcSet:typeof $.imageSrcSet=="string"?$.imageSrcSet:void 0,imageSizes:typeof $.imageSizes=="string"?$.imageSizes:void 0,media:typeof $.media=="string"?$.media:void 0})}};reactDom_production.preloadModule=function(ee,$){if(typeof ee=="string")if($){var te=getCrossOriginStringAs($.as,$.crossOrigin);Internals.d.m(ee,{as:typeof $.as=="string"&&$.as!=="script"?$.as:void 0,crossOrigin:te,integrity:typeof $.integrity=="string"?$.integrity:void 0})}else Internals.d.m(ee)};reactDom_production.requestFormReset=function(ee){Internals.d.r(ee)};reactDom_production.unstable_batchedUpdates=function(ee,$){return ee($)};reactDom_production.useFormState=function(ee,$,te){return ReactSharedInternals$1.H.useFormState(ee,$,te)};reactDom_production.useFormStatus=function(){return ReactSharedInternals$1.H.useHostTransitionStatus()};reactDom_production.version="19.0.0";function checkDCE$1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE$1)}catch(ee){console.error(ee)}}checkDCE$1(),reactDom.exports=reactDom_production;var reactDomExports=reactDom.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Scheduler=schedulerExports$1,React$2=reactExports,ReactDOM$1=reactDomExports;function formatProdErrorMessage(ee){var $="https://react.dev/errors/"+ee;if(1<arguments.length){$+="?args[]="+encodeURIComponent(arguments[1]);for(var te=2;te<arguments.length;te++)$+="&args[]="+encodeURIComponent(arguments[te])}return"Minified React error #"+ee+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function isValidContainer(ee){return!(!ee||ee.nodeType!==1&&ee.nodeType!==9&&ee.nodeType!==11)}var REACT_LEGACY_ELEMENT_TYPE=Symbol.for("react.element"),REACT_ELEMENT_TYPE$1=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE$1=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE$1=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE$1=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE$1=Symbol.for("react.profiler"),REACT_PROVIDER_TYPE=Symbol.for("react.provider"),REACT_CONSUMER_TYPE$1=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE$1=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE$1=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE$1=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE$1=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE$1=Symbol.for("react.memo"),REACT_LAZY_TYPE$1=Symbol.for("react.lazy"),REACT_OFFSCREEN_TYPE$1=Symbol.for("react.offscreen"),REACT_MEMO_CACHE_SENTINEL=Symbol.for("react.memo_cache_sentinel"),MAYBE_ITERATOR_SYMBOL=Symbol.iterator;function getIteratorFn(ee){return ee===null||typeof ee!="object"?null:(ee=MAYBE_ITERATOR_SYMBOL&&ee[MAYBE_ITERATOR_SYMBOL]||ee["@@iterator"],typeof ee=="function"?ee:null)}var REACT_CLIENT_REFERENCE$1=Symbol.for("react.client.reference");function getComponentNameFromType(ee){if(ee==null)return null;if(typeof ee=="function")return ee.$$typeof===REACT_CLIENT_REFERENCE$1?null:ee.displayName||ee.name||null;if(typeof ee=="string")return ee;switch(ee){case REACT_FRAGMENT_TYPE$1:return"Fragment";case REACT_PORTAL_TYPE$1:return"Portal";case REACT_PROFILER_TYPE$1:return"Profiler";case REACT_STRICT_MODE_TYPE$1:return"StrictMode";case REACT_SUSPENSE_TYPE$1:return"Suspense";case REACT_SUSPENSE_LIST_TYPE$1:return"SuspenseList"}if(typeof ee=="object")switch(ee.$$typeof){case REACT_CONTEXT_TYPE$1:return(ee.displayName||"Context")+".Provider";case REACT_CONSUMER_TYPE$1:return(ee._context.displayName||"Context")+".Consumer";case REACT_FORWARD_REF_TYPE$1:var $=ee.render;return ee=ee.displayName,ee||(ee=$.displayName||$.name||"",ee=ee!==""?"ForwardRef("+ee+")":"ForwardRef"),ee;case REACT_MEMO_TYPE$1:return $=ee.displayName||null,$!==null?$:getComponentNameFromType(ee.type)||"Memo";case REACT_LAZY_TYPE$1:$=ee._payload,ee=ee._init;try{return getComponentNameFromType(ee($))}catch{}}return null}var ReactSharedInternals=React$2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,assign$1=Object.assign,prefix$1,suffix;function describeBuiltInComponentFrame(ee){if(prefix$1===void 0)try{throw Error()}catch(te){var $=te.stack.trim().match(/\n( *(at )?)/);prefix$1=$&&$[1]||"",suffix=-1<te.stack.indexOf(`
    at`)?" (<anonymous>)":-1<te.stack.indexOf("@")?"@unknown:0:0":""}return`
`+prefix$1+ee+suffix}var reentry=!1;function describeNativeComponentFrame(ee,$){if(!ee||reentry)return"";reentry=!0;var te=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ne={DetermineComponentFrameRoot:function(){try{if($){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(re){var pe=re}Reflect.construct(ee,[],de)}else{try{de.call()}catch(re){pe=re}ee.call(de.prototype)}}else{try{throw Error()}catch(re){pe=re}(de=ee())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(re){if(re&&pe&&typeof re.stack=="string")return[re.stack,pe.stack]}return[null,null]}};ne.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var ie=Object.getOwnPropertyDescriptor(ne.DetermineComponentFrameRoot,"name");ie&&ie.configurable&&Object.defineProperty(ne.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var se=ne.DetermineComponentFrameRoot(),le=se[0],oe=se[1];if(le&&oe){var ce=le.split(`
`),ae=oe.split(`
`);for(ie=ne=0;ne<ce.length&&!ce[ne].includes("DetermineComponentFrameRoot");)ne++;for(;ie<ae.length&&!ae[ie].includes("DetermineComponentFrameRoot");)ie++;if(ne===ce.length||ie===ae.length)for(ne=ce.length-1,ie=ae.length-1;1<=ne&&0<=ie&&ce[ne]!==ae[ie];)ie--;for(;1<=ne&&0<=ie;ne--,ie--)if(ce[ne]!==ae[ie]){if(ne!==1||ie!==1)do if(ne--,ie--,0>ie||ce[ne]!==ae[ie]){var he=`
`+ce[ne].replace(" at new "," at ");return ee.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",ee.displayName)),he}while(1<=ne&&0<=ie);break}}}finally{reentry=!1,Error.prepareStackTrace=te}return(te=ee?ee.displayName||ee.name:"")?describeBuiltInComponentFrame(te):""}function describeFiber(ee){switch(ee.tag){case 26:case 27:case 5:return describeBuiltInComponentFrame(ee.type);case 16:return describeBuiltInComponentFrame("Lazy");case 13:return describeBuiltInComponentFrame("Suspense");case 19:return describeBuiltInComponentFrame("SuspenseList");case 0:case 15:return ee=describeNativeComponentFrame(ee.type,!1),ee;case 11:return ee=describeNativeComponentFrame(ee.type.render,!1),ee;case 1:return ee=describeNativeComponentFrame(ee.type,!0),ee;default:return""}}function getStackByFiberInDevAndProd(ee){try{var $="";do $+=describeFiber(ee),ee=ee.return;while(ee);return $}catch(te){return`
Error generating stack: `+te.message+`
`+te.stack}}function getNearestMountedFiber(ee){var $=ee,te=ee;if(ee.alternate)for(;$.return;)$=$.return;else{ee=$;do $=ee,$.flags&4098&&(te=$.return),ee=$.return;while(ee)}return $.tag===3?te:null}function getSuspenseInstanceFromFiber(ee){if(ee.tag===13){var $=ee.memoizedState;if($===null&&(ee=ee.alternate,ee!==null&&($=ee.memoizedState)),$!==null)return $.dehydrated}return null}function assertIsMounted(ee){if(getNearestMountedFiber(ee)!==ee)throw Error(formatProdErrorMessage(188))}function findCurrentFiberUsingSlowPath(ee){var $=ee.alternate;if(!$){if($=getNearestMountedFiber(ee),$===null)throw Error(formatProdErrorMessage(188));return $!==ee?null:ee}for(var te=ee,ne=$;;){var ie=te.return;if(ie===null)break;var se=ie.alternate;if(se===null){if(ne=ie.return,ne!==null){te=ne;continue}break}if(ie.child===se.child){for(se=ie.child;se;){if(se===te)return assertIsMounted(ie),ee;if(se===ne)return assertIsMounted(ie),$;se=se.sibling}throw Error(formatProdErrorMessage(188))}if(te.return!==ne.return)te=ie,ne=se;else{for(var le=!1,oe=ie.child;oe;){if(oe===te){le=!0,te=ie,ne=se;break}if(oe===ne){le=!0,ne=ie,te=se;break}oe=oe.sibling}if(!le){for(oe=se.child;oe;){if(oe===te){le=!0,te=se,ne=ie;break}if(oe===ne){le=!0,ne=se,te=ie;break}oe=oe.sibling}if(!le)throw Error(formatProdErrorMessage(189))}}if(te.alternate!==ne)throw Error(formatProdErrorMessage(190))}if(te.tag!==3)throw Error(formatProdErrorMessage(188));return te.stateNode.current===te?ee:$}function findCurrentHostFiberImpl(ee){var $=ee.tag;if($===5||$===26||$===27||$===6)return ee;for(ee=ee.child;ee!==null;){if($=findCurrentHostFiberImpl(ee),$!==null)return $;ee=ee.sibling}return null}var isArrayImpl=Array.isArray,ReactDOMSharedInternals=ReactDOM$1.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sharedNotPendingObject={pending:!1,data:null,method:null,action:null},valueStack=[],index=-1;function createCursor(ee){return{current:ee}}function pop(ee){0>index||(ee.current=valueStack[index],valueStack[index]=null,index--)}function push(ee,$){index++,valueStack[index]=ee.current,ee.current=$}var contextStackCursor=createCursor(null),contextFiberStackCursor=createCursor(null),rootInstanceStackCursor=createCursor(null),hostTransitionProviderCursor=createCursor(null);function pushHostContainer(ee,$){switch(push(rootInstanceStackCursor,$),push(contextFiberStackCursor,ee),push(contextStackCursor,null),ee=$.nodeType,ee){case 9:case 11:$=($=$.documentElement)&&($=$.namespaceURI)?getOwnHostContext($):0;break;default:if(ee=ee===8?$.parentNode:$,$=ee.tagName,ee=ee.namespaceURI)ee=getOwnHostContext(ee),$=getChildHostContextProd(ee,$);else switch($){case"svg":$=1;break;case"math":$=2;break;default:$=0}}pop(contextStackCursor),push(contextStackCursor,$)}function popHostContainer(){pop(contextStackCursor),pop(contextFiberStackCursor),pop(rootInstanceStackCursor)}function pushHostContext(ee){ee.memoizedState!==null&&push(hostTransitionProviderCursor,ee);var $=contextStackCursor.current,te=getChildHostContextProd($,ee.type);$!==te&&(push(contextFiberStackCursor,ee),push(contextStackCursor,te))}function popHostContext(ee){contextFiberStackCursor.current===ee&&(pop(contextStackCursor),pop(contextFiberStackCursor)),hostTransitionProviderCursor.current===ee&&(pop(hostTransitionProviderCursor),HostTransitionContext._currentValue=sharedNotPendingObject)}var hasOwnProperty=Object.prototype.hasOwnProperty,scheduleCallback$3=Scheduler.unstable_scheduleCallback,cancelCallback$1=Scheduler.unstable_cancelCallback,shouldYield=Scheduler.unstable_shouldYield,requestPaint=Scheduler.unstable_requestPaint,now$2=Scheduler.unstable_now,getCurrentPriorityLevel=Scheduler.unstable_getCurrentPriorityLevel,ImmediatePriority=Scheduler.unstable_ImmediatePriority,UserBlockingPriority=Scheduler.unstable_UserBlockingPriority,NormalPriority$1=Scheduler.unstable_NormalPriority,LowPriority=Scheduler.unstable_LowPriority,IdlePriority=Scheduler.unstable_IdlePriority,log$1=Scheduler.log,unstable_setDisableYieldValue=Scheduler.unstable_setDisableYieldValue,rendererID=null,injectedHook=null;function onCommitRoot(ee){if(injectedHook&&typeof injectedHook.onCommitFiberRoot=="function")try{injectedHook.onCommitFiberRoot(rendererID,ee,void 0,(ee.current.flags&128)===128)}catch{}}function setIsStrictModeForDevtools(ee){if(typeof log$1=="function"&&unstable_setDisableYieldValue(ee),injectedHook&&typeof injectedHook.setStrictMode=="function")try{injectedHook.setStrictMode(rendererID,ee)}catch{}}var clz32=Math.clz32?Math.clz32:clz32Fallback,log=Math.log,LN2=Math.LN2;function clz32Fallback(ee){return ee>>>=0,ee===0?32:31-(log(ee)/LN2|0)|0}var nextTransitionLane=128,nextRetryLane=4194304;function getHighestPriorityLanes(ee){var $=ee&42;if($!==0)return $;switch(ee&-ee){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ee&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return ee&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return ee}}function getNextLanes(ee,$){var te=ee.pendingLanes;if(te===0)return 0;var ne=0,ie=ee.suspendedLanes,se=ee.pingedLanes,le=ee.warmLanes;ee=ee.finishedLanes!==0;var oe=te&134217727;return oe!==0?(te=oe&~ie,te!==0?ne=getHighestPriorityLanes(te):(se&=oe,se!==0?ne=getHighestPriorityLanes(se):ee||(le=oe&~le,le!==0&&(ne=getHighestPriorityLanes(le))))):(oe=te&~ie,oe!==0?ne=getHighestPriorityLanes(oe):se!==0?ne=getHighestPriorityLanes(se):ee||(le=te&~le,le!==0&&(ne=getHighestPriorityLanes(le)))),ne===0?0:$!==0&&$!==ne&&!($&ie)&&(ie=ne&-ne,le=$&-$,ie>=le||ie===32&&(le&4194176)!==0)?$:ne}function checkIfRootIsPrerendering(ee,$){return(ee.pendingLanes&~(ee.suspendedLanes&~ee.pingedLanes)&$)===0}function computeExpirationTime(ee,$){switch(ee){case 1:case 2:case 4:case 8:return $+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function claimNextTransitionLane(){var ee=nextTransitionLane;return nextTransitionLane<<=1,!(nextTransitionLane&4194176)&&(nextTransitionLane=128),ee}function claimNextRetryLane(){var ee=nextRetryLane;return nextRetryLane<<=1,!(nextRetryLane&62914560)&&(nextRetryLane=4194304),ee}function createLaneMap(ee){for(var $=[],te=0;31>te;te++)$.push(ee);return $}function markRootUpdated$1(ee,$){ee.pendingLanes|=$,$!==268435456&&(ee.suspendedLanes=0,ee.pingedLanes=0,ee.warmLanes=0)}function markRootFinished(ee,$,te,ne,ie,se){var le=ee.pendingLanes;ee.pendingLanes=te,ee.suspendedLanes=0,ee.pingedLanes=0,ee.warmLanes=0,ee.expiredLanes&=te,ee.entangledLanes&=te,ee.errorRecoveryDisabledLanes&=te,ee.shellSuspendCounter=0;var oe=ee.entanglements,ce=ee.expirationTimes,ae=ee.hiddenUpdates;for(te=le&~te;0<te;){var he=31-clz32(te),de=1<<he;oe[he]=0,ce[he]=-1;var pe=ae[he];if(pe!==null)for(ae[he]=null,he=0;he<pe.length;he++){var re=pe[he];re!==null&&(re.lane&=-536870913)}te&=~de}ne!==0&&markSpawnedDeferredLane(ee,ne,0),se!==0&&ie===0&&ee.tag!==0&&(ee.suspendedLanes|=se&~(le&~$))}function markSpawnedDeferredLane(ee,$,te){ee.pendingLanes|=$,ee.suspendedLanes&=~$;var ne=31-clz32($);ee.entangledLanes|=$,ee.entanglements[ne]=ee.entanglements[ne]|1073741824|te&4194218}function markRootEntangled(ee,$){var te=ee.entangledLanes|=$;for(ee=ee.entanglements;te;){var ne=31-clz32(te),ie=1<<ne;ie&$|ee[ne]&$&&(ee[ne]|=$),te&=~ie}}function lanesToEventPriority(ee){return ee&=-ee,2<ee?8<ee?ee&134217727?32:268435456:8:2}function resolveUpdatePriority(){var ee=ReactDOMSharedInternals.p;return ee!==0?ee:(ee=window.event,ee===void 0?32:getEventPriority(ee.type))}function runWithPriority(ee,$){var te=ReactDOMSharedInternals.p;try{return ReactDOMSharedInternals.p=ee,$()}finally{ReactDOMSharedInternals.p=te}}var randomKey=Math.random().toString(36).slice(2),internalInstanceKey="__reactFiber$"+randomKey,internalPropsKey="__reactProps$"+randomKey,internalContainerInstanceKey="__reactContainer$"+randomKey,internalEventHandlersKey="__reactEvents$"+randomKey,internalEventHandlerListenersKey="__reactListeners$"+randomKey,internalEventHandlesSetKey="__reactHandles$"+randomKey,internalRootNodeResourcesKey="__reactResources$"+randomKey,internalHoistableMarker="__reactMarker$"+randomKey;function detachDeletedInstance(ee){delete ee[internalInstanceKey],delete ee[internalPropsKey],delete ee[internalEventHandlersKey],delete ee[internalEventHandlerListenersKey],delete ee[internalEventHandlesSetKey]}function getClosestInstanceFromNode(ee){var $=ee[internalInstanceKey];if($)return $;for(var te=ee.parentNode;te;){if($=te[internalContainerInstanceKey]||te[internalInstanceKey]){if(te=$.alternate,$.child!==null||te!==null&&te.child!==null)for(ee=getParentSuspenseInstance(ee);ee!==null;){if(te=ee[internalInstanceKey])return te;ee=getParentSuspenseInstance(ee)}return $}ee=te,te=ee.parentNode}return null}function getInstanceFromNode(ee){if(ee=ee[internalInstanceKey]||ee[internalContainerInstanceKey]){var $=ee.tag;if($===5||$===6||$===13||$===26||$===27||$===3)return ee}return null}function getNodeFromInstance(ee){var $=ee.tag;if($===5||$===26||$===27||$===6)return ee.stateNode;throw Error(formatProdErrorMessage(33))}function getResourcesFromRoot(ee){var $=ee[internalRootNodeResourcesKey];return $||($=ee[internalRootNodeResourcesKey]={hoistableStyles:new Map,hoistableScripts:new Map}),$}function markNodeAsHoistable(ee){ee[internalHoistableMarker]=!0}var allNativeEvents=new Set,registrationNameDependencies={};function registerTwoPhaseEvent(ee,$){registerDirectEvent(ee,$),registerDirectEvent(ee+"Capture",$)}function registerDirectEvent(ee,$){for(registrationNameDependencies[ee]=$,ee=0;ee<$.length;ee++)allNativeEvents.add($[ee])}var canUseDOM=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VALID_ATTRIBUTE_NAME_REGEX=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),illegalAttributeNameCache={},validatedAttributeNameCache={};function isAttributeNameSafe(ee){return hasOwnProperty.call(validatedAttributeNameCache,ee)?!0:hasOwnProperty.call(illegalAttributeNameCache,ee)?!1:VALID_ATTRIBUTE_NAME_REGEX.test(ee)?validatedAttributeNameCache[ee]=!0:(illegalAttributeNameCache[ee]=!0,!1)}function setValueForAttribute(ee,$,te){if(isAttributeNameSafe($))if(te===null)ee.removeAttribute($);else{switch(typeof te){case"undefined":case"function":case"symbol":ee.removeAttribute($);return;case"boolean":var ne=$.toLowerCase().slice(0,5);if(ne!=="data-"&&ne!=="aria-"){ee.removeAttribute($);return}}ee.setAttribute($,""+te)}}function setValueForKnownAttribute(ee,$,te){if(te===null)ee.removeAttribute($);else{switch(typeof te){case"undefined":case"function":case"symbol":case"boolean":ee.removeAttribute($);return}ee.setAttribute($,""+te)}}function setValueForNamespacedAttribute(ee,$,te,ne){if(ne===null)ee.removeAttribute(te);else{switch(typeof ne){case"undefined":case"function":case"symbol":case"boolean":ee.removeAttribute(te);return}ee.setAttributeNS($,te,""+ne)}}function getToStringValue(ee){switch(typeof ee){case"bigint":case"boolean":case"number":case"string":case"undefined":return ee;case"object":return ee;default:return""}}function isCheckable(ee){var $=ee.type;return(ee=ee.nodeName)&&ee.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function trackValueOnNode(ee){var $=isCheckable(ee)?"checked":"value",te=Object.getOwnPropertyDescriptor(ee.constructor.prototype,$),ne=""+ee[$];if(!ee.hasOwnProperty($)&&typeof te<"u"&&typeof te.get=="function"&&typeof te.set=="function"){var ie=te.get,se=te.set;return Object.defineProperty(ee,$,{configurable:!0,get:function(){return ie.call(this)},set:function(le){ne=""+le,se.call(this,le)}}),Object.defineProperty(ee,$,{enumerable:te.enumerable}),{getValue:function(){return ne},setValue:function(le){ne=""+le},stopTracking:function(){ee._valueTracker=null,delete ee[$]}}}}function track(ee){ee._valueTracker||(ee._valueTracker=trackValueOnNode(ee))}function updateValueIfChanged(ee){if(!ee)return!1;var $=ee._valueTracker;if(!$)return!0;var te=$.getValue(),ne="";return ee&&(ne=isCheckable(ee)?ee.checked?"true":"false":ee.value),ee=ne,ee!==te?($.setValue(ee),!0):!1}function getActiveElement(ee){if(ee=ee||(typeof document<"u"?document:void 0),typeof ee>"u")return null;try{return ee.activeElement||ee.body}catch{return ee.body}}var escapeSelectorAttributeValueInsideDoubleQuotesRegex=/[\n"\\]/g;function escapeSelectorAttributeValueInsideDoubleQuotes(ee){return ee.replace(escapeSelectorAttributeValueInsideDoubleQuotesRegex,function($){return"\\"+$.charCodeAt(0).toString(16)+" "})}function updateInput(ee,$,te,ne,ie,se,le,oe){ee.name="",le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?ee.type=le:ee.removeAttribute("type"),$!=null?le==="number"?($===0&&ee.value===""||ee.value!=$)&&(ee.value=""+getToStringValue($)):ee.value!==""+getToStringValue($)&&(ee.value=""+getToStringValue($)):le!=="submit"&&le!=="reset"||ee.removeAttribute("value"),$!=null?setDefaultValue(ee,le,getToStringValue($)):te!=null?setDefaultValue(ee,le,getToStringValue(te)):ne!=null&&ee.removeAttribute("value"),ie==null&&se!=null&&(ee.defaultChecked=!!se),ie!=null&&(ee.checked=ie&&typeof ie!="function"&&typeof ie!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?ee.name=""+getToStringValue(oe):ee.removeAttribute("name")}function initInput(ee,$,te,ne,ie,se,le,oe){if(se!=null&&typeof se!="function"&&typeof se!="symbol"&&typeof se!="boolean"&&(ee.type=se),$!=null||te!=null){if(!(se!=="submit"&&se!=="reset"||$!=null))return;te=te!=null?""+getToStringValue(te):"",$=$!=null?""+getToStringValue($):te,oe||$===ee.value||(ee.value=$),ee.defaultValue=$}ne=ne??ie,ne=typeof ne!="function"&&typeof ne!="symbol"&&!!ne,ee.checked=oe?ee.checked:!!ne,ee.defaultChecked=!!ne,le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(ee.name=le)}function setDefaultValue(ee,$,te){$==="number"&&getActiveElement(ee.ownerDocument)===ee||ee.defaultValue===""+te||(ee.defaultValue=""+te)}function updateOptions(ee,$,te,ne){if(ee=ee.options,$){$={};for(var ie=0;ie<te.length;ie++)$["$"+te[ie]]=!0;for(te=0;te<ee.length;te++)ie=$.hasOwnProperty("$"+ee[te].value),ee[te].selected!==ie&&(ee[te].selected=ie),ie&&ne&&(ee[te].defaultSelected=!0)}else{for(te=""+getToStringValue(te),$=null,ie=0;ie<ee.length;ie++){if(ee[ie].value===te){ee[ie].selected=!0,ne&&(ee[ie].defaultSelected=!0);return}$!==null||ee[ie].disabled||($=ee[ie])}$!==null&&($.selected=!0)}}function updateTextarea(ee,$,te){if($!=null&&($=""+getToStringValue($),$!==ee.value&&(ee.value=$),te==null)){ee.defaultValue!==$&&(ee.defaultValue=$);return}ee.defaultValue=te!=null?""+getToStringValue(te):""}function initTextarea(ee,$,te,ne){if($==null){if(ne!=null){if(te!=null)throw Error(formatProdErrorMessage(92));if(isArrayImpl(ne)){if(1<ne.length)throw Error(formatProdErrorMessage(93));ne=ne[0]}te=ne}te==null&&(te=""),$=te}te=getToStringValue($),ee.defaultValue=te,ne=ee.textContent,ne===te&&ne!==""&&ne!==null&&(ee.value=ne)}function setTextContent(ee,$){if($){var te=ee.firstChild;if(te&&te===ee.lastChild&&te.nodeType===3){te.nodeValue=$;return}}ee.textContent=$}var unitlessNumbers=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function setValueForStyle(ee,$,te){var ne=$.indexOf("--")===0;te==null||typeof te=="boolean"||te===""?ne?ee.setProperty($,""):$==="float"?ee.cssFloat="":ee[$]="":ne?ee.setProperty($,te):typeof te!="number"||te===0||unitlessNumbers.has($)?$==="float"?ee.cssFloat=te:ee[$]=(""+te).trim():ee[$]=te+"px"}function setValueForStyles(ee,$,te){if($!=null&&typeof $!="object")throw Error(formatProdErrorMessage(62));if(ee=ee.style,te!=null){for(var ne in te)!te.hasOwnProperty(ne)||$!=null&&$.hasOwnProperty(ne)||(ne.indexOf("--")===0?ee.setProperty(ne,""):ne==="float"?ee.cssFloat="":ee[ne]="");for(var ie in $)ne=$[ie],$.hasOwnProperty(ie)&&te[ie]!==ne&&setValueForStyle(ee,ie,ne)}else for(var se in $)$.hasOwnProperty(se)&&setValueForStyle(ee,se,$[se])}function isCustomElement(ee){if(ee.indexOf("-")===-1)return!1;switch(ee){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aliases$1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),isJavaScriptProtocol=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sanitizeURL(ee){return isJavaScriptProtocol.test(""+ee)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":ee}var currentReplayingEvent=null;function getEventTarget(ee){return ee=ee.target||ee.srcElement||window,ee.correspondingUseElement&&(ee=ee.correspondingUseElement),ee.nodeType===3?ee.parentNode:ee}var restoreTarget=null,restoreQueue=null;function restoreStateOfTarget(ee){var $=getInstanceFromNode(ee);if($&&(ee=$.stateNode)){var te=ee[internalPropsKey]||null;e:switch(ee=$.stateNode,$.type){case"input":if(updateInput(ee,te.value,te.defaultValue,te.defaultValue,te.checked,te.defaultChecked,te.type,te.name),$=te.name,te.type==="radio"&&$!=null){for(te=ee;te.parentNode;)te=te.parentNode;for(te=te.querySelectorAll('input[name="'+escapeSelectorAttributeValueInsideDoubleQuotes(""+$)+'"][type="radio"]'),$=0;$<te.length;$++){var ne=te[$];if(ne!==ee&&ne.form===ee.form){var ie=ne[internalPropsKey]||null;if(!ie)throw Error(formatProdErrorMessage(90));updateInput(ne,ie.value,ie.defaultValue,ie.defaultValue,ie.checked,ie.defaultChecked,ie.type,ie.name)}}for($=0;$<te.length;$++)ne=te[$],ne.form===ee.form&&updateValueIfChanged(ne)}break e;case"textarea":updateTextarea(ee,te.value,te.defaultValue);break e;case"select":$=te.value,$!=null&&updateOptions(ee,!!te.multiple,$,!1)}}}var isInsideEventHandler=!1;function batchedUpdates$1(ee,$,te){if(isInsideEventHandler)return ee($,te);isInsideEventHandler=!0;try{var ne=ee($);return ne}finally{if(isInsideEventHandler=!1,(restoreTarget!==null||restoreQueue!==null)&&(flushSyncWork$1(),restoreTarget&&($=restoreTarget,ee=restoreQueue,restoreQueue=restoreTarget=null,restoreStateOfTarget($),ee)))for($=0;$<ee.length;$++)restoreStateOfTarget(ee[$])}}function getListener(ee,$){var te=ee.stateNode;if(te===null)return null;var ne=te[internalPropsKey]||null;if(ne===null)return null;te=ne[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ne=!ne.disabled)||(ee=ee.type,ne=!(ee==="button"||ee==="input"||ee==="select"||ee==="textarea")),ee=!ne;break e;default:ee=!1}if(ee)return null;if(te&&typeof te!="function")throw Error(formatProdErrorMessage(231,$,typeof te));return te}var passiveBrowserEventsSupported=!1;if(canUseDOM)try{var options={};Object.defineProperty(options,"passive",{get:function(){passiveBrowserEventsSupported=!0}}),window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveBrowserEventsSupported=!1}var root=null,startText=null,fallbackText=null;function getData(){if(fallbackText)return fallbackText;var ee,$=startText,te=$.length,ne,ie="value"in root?root.value:root.textContent,se=ie.length;for(ee=0;ee<te&&$[ee]===ie[ee];ee++);var le=te-ee;for(ne=1;ne<=le&&$[te-ne]===ie[se-ne];ne++);return fallbackText=ie.slice(ee,1<ne?1-ne:void 0)}function getEventCharCode(ee){var $=ee.keyCode;return"charCode"in ee?(ee=ee.charCode,ee===0&&$===13&&(ee=13)):ee=$,ee===10&&(ee=13),32<=ee||ee===13?ee:0}function functionThatReturnsTrue(){return!0}function functionThatReturnsFalse(){return!1}function createSyntheticEvent(ee){function $(te,ne,ie,se,le){this._reactName=te,this._targetInst=ie,this.type=ne,this.nativeEvent=se,this.target=le,this.currentTarget=null;for(var oe in ee)ee.hasOwnProperty(oe)&&(te=ee[oe],this[oe]=te?te(se):se[oe]);return this.isDefaultPrevented=(se.defaultPrevented!=null?se.defaultPrevented:se.returnValue===!1)?functionThatReturnsTrue:functionThatReturnsFalse,this.isPropagationStopped=functionThatReturnsFalse,this}return assign$1($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var te=this.nativeEvent;te&&(te.preventDefault?te.preventDefault():typeof te.returnValue!="unknown"&&(te.returnValue=!1),this.isDefaultPrevented=functionThatReturnsTrue)},stopPropagation:function(){var te=this.nativeEvent;te&&(te.stopPropagation?te.stopPropagation():typeof te.cancelBubble!="unknown"&&(te.cancelBubble=!0),this.isPropagationStopped=functionThatReturnsTrue)},persist:function(){},isPersistent:functionThatReturnsTrue}),$}var EventInterface={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ee){return ee.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SyntheticEvent=createSyntheticEvent(EventInterface),UIEventInterface=assign$1({},EventInterface,{view:0,detail:0}),SyntheticUIEvent=createSyntheticEvent(UIEventInterface),lastMovementX,lastMovementY,lastMouseEvent,MouseEventInterface=assign$1({},UIEventInterface,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:getEventModifierState,button:0,buttons:0,relatedTarget:function(ee){return ee.relatedTarget===void 0?ee.fromElement===ee.srcElement?ee.toElement:ee.fromElement:ee.relatedTarget},movementX:function(ee){return"movementX"in ee?ee.movementX:(ee!==lastMouseEvent&&(lastMouseEvent&&ee.type==="mousemove"?(lastMovementX=ee.screenX-lastMouseEvent.screenX,lastMovementY=ee.screenY-lastMouseEvent.screenY):lastMovementY=lastMovementX=0,lastMouseEvent=ee),lastMovementX)},movementY:function(ee){return"movementY"in ee?ee.movementY:lastMovementY}}),SyntheticMouseEvent=createSyntheticEvent(MouseEventInterface),DragEventInterface=assign$1({},MouseEventInterface,{dataTransfer:0}),SyntheticDragEvent=createSyntheticEvent(DragEventInterface),FocusEventInterface=assign$1({},UIEventInterface,{relatedTarget:0}),SyntheticFocusEvent=createSyntheticEvent(FocusEventInterface),AnimationEventInterface=assign$1({},EventInterface,{animationName:0,elapsedTime:0,pseudoElement:0}),SyntheticAnimationEvent=createSyntheticEvent(AnimationEventInterface),ClipboardEventInterface=assign$1({},EventInterface,{clipboardData:function(ee){return"clipboardData"in ee?ee.clipboardData:window.clipboardData}}),SyntheticClipboardEvent=createSyntheticEvent(ClipboardEventInterface),CompositionEventInterface=assign$1({},EventInterface,{data:0}),SyntheticCompositionEvent=createSyntheticEvent(CompositionEventInterface),normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function modifierStateGetter(ee){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(ee):(ee=modifierKeyToProp[ee])?!!$[ee]:!1}function getEventModifierState(){return modifierStateGetter}var KeyboardEventInterface=assign$1({},UIEventInterface,{key:function(ee){if(ee.key){var $=normalizeKey[ee.key]||ee.key;if($!=="Unidentified")return $}return ee.type==="keypress"?(ee=getEventCharCode(ee),ee===13?"Enter":String.fromCharCode(ee)):ee.type==="keydown"||ee.type==="keyup"?translateToKey[ee.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:getEventModifierState,charCode:function(ee){return ee.type==="keypress"?getEventCharCode(ee):0},keyCode:function(ee){return ee.type==="keydown"||ee.type==="keyup"?ee.keyCode:0},which:function(ee){return ee.type==="keypress"?getEventCharCode(ee):ee.type==="keydown"||ee.type==="keyup"?ee.keyCode:0}}),SyntheticKeyboardEvent=createSyntheticEvent(KeyboardEventInterface),PointerEventInterface=assign$1({},MouseEventInterface,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SyntheticPointerEvent=createSyntheticEvent(PointerEventInterface),TouchEventInterface=assign$1({},UIEventInterface,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:getEventModifierState}),SyntheticTouchEvent=createSyntheticEvent(TouchEventInterface),TransitionEventInterface=assign$1({},EventInterface,{propertyName:0,elapsedTime:0,pseudoElement:0}),SyntheticTransitionEvent=createSyntheticEvent(TransitionEventInterface),WheelEventInterface=assign$1({},MouseEventInterface,{deltaX:function(ee){return"deltaX"in ee?ee.deltaX:"wheelDeltaX"in ee?-ee.wheelDeltaX:0},deltaY:function(ee){return"deltaY"in ee?ee.deltaY:"wheelDeltaY"in ee?-ee.wheelDeltaY:"wheelDelta"in ee?-ee.wheelDelta:0},deltaZ:0,deltaMode:0}),SyntheticWheelEvent=createSyntheticEvent(WheelEventInterface),ToggleEventInterface=assign$1({},EventInterface,{newState:0,oldState:0}),SyntheticToggleEvent=createSyntheticEvent(ToggleEventInterface),END_KEYCODES=[9,13,27,32],canUseCompositionEvent=canUseDOM&&"CompositionEvent"in window,documentMode=null;canUseDOM&&"documentMode"in document&&(documentMode=document.documentMode);var canUseTextInputEvent=canUseDOM&&"TextEvent"in window&&!documentMode,useFallbackCompositionData=canUseDOM&&(!canUseCompositionEvent||documentMode&&8<documentMode&&11>=documentMode),SPACEBAR_CHAR=" ",hasSpaceKeypress=!1;function isFallbackCompositionEnd(ee,$){switch(ee){case"keyup":return END_KEYCODES.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function getDataFromCustomEvent(ee){return ee=ee.detail,typeof ee=="object"&&"data"in ee?ee.data:null}var isComposing=!1;function getNativeBeforeInputChars(ee,$){switch(ee){case"compositionend":return getDataFromCustomEvent($);case"keypress":return $.which!==32?null:(hasSpaceKeypress=!0,SPACEBAR_CHAR);case"textInput":return ee=$.data,ee===SPACEBAR_CHAR&&hasSpaceKeypress?null:ee;default:return null}}function getFallbackBeforeInputChars(ee,$){if(isComposing)return ee==="compositionend"||!canUseCompositionEvent&&isFallbackCompositionEnd(ee,$)?(ee=getData(),fallbackText=startText=root=null,isComposing=!1,ee):null;switch(ee){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return useFallbackCompositionData&&$.locale!=="ko"?null:$.data;default:return null}}var supportedInputTypes={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function isTextInputElement(ee){var $=ee&&ee.nodeName&&ee.nodeName.toLowerCase();return $==="input"?!!supportedInputTypes[ee.type]:$==="textarea"}function createAndAccumulateChangeEvent(ee,$,te,ne){restoreTarget?restoreQueue?restoreQueue.push(ne):restoreQueue=[ne]:restoreTarget=ne,$=accumulateTwoPhaseListeners($,"onChange"),0<$.length&&(te=new SyntheticEvent("onChange","change",null,te,ne),ee.push({event:te,listeners:$}))}var activeElement$1=null,activeElementInst$1=null;function runEventInBatch(ee){processDispatchQueue(ee,0)}function getInstIfValueChanged(ee){var $=getNodeFromInstance(ee);if(updateValueIfChanged($))return ee}function getTargetInstForChangeEvent(ee,$){if(ee==="change")return $}var isInputEventSupported=!1;if(canUseDOM){var JSCompiler_inline_result$jscomp$283;if(canUseDOM){var isSupported$jscomp$inline_418="oninput"in document;if(!isSupported$jscomp$inline_418){var element$jscomp$inline_419=document.createElement("div");element$jscomp$inline_419.setAttribute("oninput","return;"),isSupported$jscomp$inline_418=typeof element$jscomp$inline_419.oninput=="function"}JSCompiler_inline_result$jscomp$283=isSupported$jscomp$inline_418}else JSCompiler_inline_result$jscomp$283=!1;isInputEventSupported=JSCompiler_inline_result$jscomp$283&&(!document.documentMode||9<document.documentMode)}function stopWatchingForValueChange(){activeElement$1&&(activeElement$1.detachEvent("onpropertychange",handlePropertyChange),activeElementInst$1=activeElement$1=null)}function handlePropertyChange(ee){if(ee.propertyName==="value"&&getInstIfValueChanged(activeElementInst$1)){var $=[];createAndAccumulateChangeEvent($,activeElementInst$1,ee,getEventTarget(ee)),batchedUpdates$1(runEventInBatch,$)}}function handleEventsForInputEventPolyfill(ee,$,te){ee==="focusin"?(stopWatchingForValueChange(),activeElement$1=$,activeElementInst$1=te,activeElement$1.attachEvent("onpropertychange",handlePropertyChange)):ee==="focusout"&&stopWatchingForValueChange()}function getTargetInstForInputEventPolyfill(ee){if(ee==="selectionchange"||ee==="keyup"||ee==="keydown")return getInstIfValueChanged(activeElementInst$1)}function getTargetInstForClickEvent(ee,$){if(ee==="click")return getInstIfValueChanged($)}function getTargetInstForInputOrChangeEvent(ee,$){if(ee==="input"||ee==="change")return getInstIfValueChanged($)}function is$3(ee,$){return ee===$&&(ee!==0||1/ee===1/$)||ee!==ee&&$!==$}var objectIs$2=typeof Object.is=="function"?Object.is:is$3;function shallowEqual(ee,$){if(objectIs$2(ee,$))return!0;if(typeof ee!="object"||ee===null||typeof $!="object"||$===null)return!1;var te=Object.keys(ee),ne=Object.keys($);if(te.length!==ne.length)return!1;for(ne=0;ne<te.length;ne++){var ie=te[ne];if(!hasOwnProperty.call($,ie)||!objectIs$2(ee[ie],$[ie]))return!1}return!0}function getLeafNode(ee){for(;ee&&ee.firstChild;)ee=ee.firstChild;return ee}function getNodeForCharacterOffset(ee,$){var te=getLeafNode(ee);ee=0;for(var ne;te;){if(te.nodeType===3){if(ne=ee+te.textContent.length,ee<=$&&ne>=$)return{node:te,offset:$-ee};ee=ne}e:{for(;te;){if(te.nextSibling){te=te.nextSibling;break e}te=te.parentNode}te=void 0}te=getLeafNode(te)}}function containsNode(ee,$){return ee&&$?ee===$?!0:ee&&ee.nodeType===3?!1:$&&$.nodeType===3?containsNode(ee,$.parentNode):"contains"in ee?ee.contains($):ee.compareDocumentPosition?!!(ee.compareDocumentPosition($)&16):!1:!1}function getActiveElementDeep(ee){ee=ee!=null&&ee.ownerDocument!=null&&ee.ownerDocument.defaultView!=null?ee.ownerDocument.defaultView:window;for(var $=getActiveElement(ee.document);$ instanceof ee.HTMLIFrameElement;){try{var te=typeof $.contentWindow.location.href=="string"}catch{te=!1}if(te)ee=$.contentWindow;else break;$=getActiveElement(ee.document)}return $}function hasSelectionCapabilities(ee){var $=ee&&ee.nodeName&&ee.nodeName.toLowerCase();return $&&($==="input"&&(ee.type==="text"||ee.type==="search"||ee.type==="tel"||ee.type==="url"||ee.type==="password")||$==="textarea"||ee.contentEditable==="true")}function restoreSelection(ee,$){var te=getActiveElementDeep($);$=ee.focusedElem;var ne=ee.selectionRange;if(te!==$&&$&&$.ownerDocument&&containsNode($.ownerDocument.documentElement,$)){if(ne!==null&&hasSelectionCapabilities($)){if(ee=ne.start,te=ne.end,te===void 0&&(te=ee),"selectionStart"in $)$.selectionStart=ee,$.selectionEnd=Math.min(te,$.value.length);else if(te=(ee=$.ownerDocument||document)&&ee.defaultView||window,te.getSelection){te=te.getSelection();var ie=$.textContent.length,se=Math.min(ne.start,ie);ne=ne.end===void 0?se:Math.min(ne.end,ie),!te.extend&&se>ne&&(ie=ne,ne=se,se=ie),ie=getNodeForCharacterOffset($,se);var le=getNodeForCharacterOffset($,ne);ie&&le&&(te.rangeCount!==1||te.anchorNode!==ie.node||te.anchorOffset!==ie.offset||te.focusNode!==le.node||te.focusOffset!==le.offset)&&(ee=ee.createRange(),ee.setStart(ie.node,ie.offset),te.removeAllRanges(),se>ne?(te.addRange(ee),te.extend(le.node,le.offset)):(ee.setEnd(le.node,le.offset),te.addRange(ee)))}}for(ee=[],te=$;te=te.parentNode;)te.nodeType===1&&ee.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<ee.length;$++)te=ee[$],te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}var skipSelectionChangeEvent=canUseDOM&&"documentMode"in document&&11>=document.documentMode,activeElement=null,activeElementInst=null,lastSelection=null,mouseDown=!1;function constructSelectEvent(ee,$,te){var ne=te.window===te?te.document:te.nodeType===9?te:te.ownerDocument;mouseDown||activeElement==null||activeElement!==getActiveElement(ne)||(ne=activeElement,"selectionStart"in ne&&hasSelectionCapabilities(ne)?ne={start:ne.selectionStart,end:ne.selectionEnd}:(ne=(ne.ownerDocument&&ne.ownerDocument.defaultView||window).getSelection(),ne={anchorNode:ne.anchorNode,anchorOffset:ne.anchorOffset,focusNode:ne.focusNode,focusOffset:ne.focusOffset}),lastSelection&&shallowEqual(lastSelection,ne)||(lastSelection=ne,ne=accumulateTwoPhaseListeners(activeElementInst,"onSelect"),0<ne.length&&($=new SyntheticEvent("onSelect","select",null,$,te),ee.push({event:$,listeners:ne}),$.target=activeElement)))}function makePrefixMap(ee,$){var te={};return te[ee.toLowerCase()]=$.toLowerCase(),te["Webkit"+ee]="webkit"+$,te["Moz"+ee]="moz"+$,te}var vendorPrefixes={animationend:makePrefixMap("Animation","AnimationEnd"),animationiteration:makePrefixMap("Animation","AnimationIteration"),animationstart:makePrefixMap("Animation","AnimationStart"),transitionrun:makePrefixMap("Transition","TransitionRun"),transitionstart:makePrefixMap("Transition","TransitionStart"),transitioncancel:makePrefixMap("Transition","TransitionCancel"),transitionend:makePrefixMap("Transition","TransitionEnd")},prefixedEventNames={},style$2={};canUseDOM&&(style$2=document.createElement("div").style,"AnimationEvent"in window||(delete vendorPrefixes.animationend.animation,delete vendorPrefixes.animationiteration.animation,delete vendorPrefixes.animationstart.animation),"TransitionEvent"in window||delete vendorPrefixes.transitionend.transition);function getVendorPrefixedEventName(ee){if(prefixedEventNames[ee])return prefixedEventNames[ee];if(!vendorPrefixes[ee])return ee;var $=vendorPrefixes[ee],te;for(te in $)if($.hasOwnProperty(te)&&te in style$2)return prefixedEventNames[ee]=$[te];return ee}var ANIMATION_END=getVendorPrefixedEventName("animationend"),ANIMATION_ITERATION=getVendorPrefixedEventName("animationiteration"),ANIMATION_START=getVendorPrefixedEventName("animationstart"),TRANSITION_RUN=getVendorPrefixedEventName("transitionrun"),TRANSITION_START=getVendorPrefixedEventName("transitionstart"),TRANSITION_CANCEL=getVendorPrefixedEventName("transitioncancel"),TRANSITION_END=getVendorPrefixedEventName("transitionend"),topLevelEventsToReactNames=new Map,simpleEventPluginEvents="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function registerSimpleEvent(ee,$){topLevelEventsToReactNames.set(ee,$),registerTwoPhaseEvent($,[ee])}var concurrentQueues=[],concurrentQueuesIndex=0,concurrentlyUpdatedLanes=0;function finishQueueingConcurrentUpdates(){for(var ee=concurrentQueuesIndex,$=concurrentlyUpdatedLanes=concurrentQueuesIndex=0;$<ee;){var te=concurrentQueues[$];concurrentQueues[$++]=null;var ne=concurrentQueues[$];concurrentQueues[$++]=null;var ie=concurrentQueues[$];concurrentQueues[$++]=null;var se=concurrentQueues[$];if(concurrentQueues[$++]=null,ne!==null&&ie!==null){var le=ne.pending;le===null?ie.next=ie:(ie.next=le.next,le.next=ie),ne.pending=ie}se!==0&&markUpdateLaneFromFiberToRoot(te,ie,se)}}function enqueueUpdate$1(ee,$,te,ne){concurrentQueues[concurrentQueuesIndex++]=ee,concurrentQueues[concurrentQueuesIndex++]=$,concurrentQueues[concurrentQueuesIndex++]=te,concurrentQueues[concurrentQueuesIndex++]=ne,concurrentlyUpdatedLanes|=ne,ee.lanes|=ne,ee=ee.alternate,ee!==null&&(ee.lanes|=ne)}function enqueueConcurrentHookUpdate(ee,$,te,ne){return enqueueUpdate$1(ee,$,te,ne),getRootForUpdatedFiber(ee)}function enqueueConcurrentRenderForLane(ee,$){return enqueueUpdate$1(ee,null,null,$),getRootForUpdatedFiber(ee)}function markUpdateLaneFromFiberToRoot(ee,$,te){ee.lanes|=te;var ne=ee.alternate;ne!==null&&(ne.lanes|=te);for(var ie=!1,se=ee.return;se!==null;)se.childLanes|=te,ne=se.alternate,ne!==null&&(ne.childLanes|=te),se.tag===22&&(ee=se.stateNode,ee===null||ee._visibility&1||(ie=!0)),ee=se,se=se.return;ie&&$!==null&&ee.tag===3&&(se=ee.stateNode,ie=31-clz32(te),se=se.hiddenUpdates,ee=se[ie],ee===null?se[ie]=[$]:ee.push($),$.lane=te|536870912)}function getRootForUpdatedFiber(ee){if(50<nestedUpdateCount)throw nestedUpdateCount=0,rootWithNestedUpdates=null,Error(formatProdErrorMessage(185));for(var $=ee.return;$!==null;)ee=$,$=ee.return;return ee.tag===3?ee.stateNode:null}var emptyContextObject={},CapturedStacks=new WeakMap;function createCapturedValueAtFiber(ee,$){if(typeof ee=="object"&&ee!==null){var te=CapturedStacks.get(ee);return te!==void 0?te:($={value:ee,source:$,stack:getStackByFiberInDevAndProd($)},CapturedStacks.set(ee,$),$)}return{value:ee,source:$,stack:getStackByFiberInDevAndProd($)}}var forkStack=[],forkStackIndex=0,treeForkProvider=null,treeForkCount=0,idStack=[],idStackIndex=0,treeContextProvider=null,treeContextId=1,treeContextOverflow="";function pushTreeFork(ee,$){forkStack[forkStackIndex++]=treeForkCount,forkStack[forkStackIndex++]=treeForkProvider,treeForkProvider=ee,treeForkCount=$}function pushTreeId(ee,$,te){idStack[idStackIndex++]=treeContextId,idStack[idStackIndex++]=treeContextOverflow,idStack[idStackIndex++]=treeContextProvider,treeContextProvider=ee;var ne=treeContextId;ee=treeContextOverflow;var ie=32-clz32(ne)-1;ne&=~(1<<ie),te+=1;var se=32-clz32($)+ie;if(30<se){var le=ie-ie%5;se=(ne&(1<<le)-1).toString(32),ne>>=le,ie-=le,treeContextId=1<<32-clz32($)+ie|te<<ie|ne,treeContextOverflow=se+ee}else treeContextId=1<<se|te<<ie|ne,treeContextOverflow=ee}function pushMaterializedTreeId(ee){ee.return!==null&&(pushTreeFork(ee,1),pushTreeId(ee,1,0))}function popTreeContext(ee){for(;ee===treeForkProvider;)treeForkProvider=forkStack[--forkStackIndex],forkStack[forkStackIndex]=null,treeForkCount=forkStack[--forkStackIndex],forkStack[forkStackIndex]=null;for(;ee===treeContextProvider;)treeContextProvider=idStack[--idStackIndex],idStack[idStackIndex]=null,treeContextOverflow=idStack[--idStackIndex],idStack[idStackIndex]=null,treeContextId=idStack[--idStackIndex],idStack[idStackIndex]=null}var hydrationParentFiber=null,nextHydratableInstance=null,isHydrating=!1,hydrationErrors=null,rootOrSingletonContext=!1,HydrationMismatchException=Error(formatProdErrorMessage(519));function throwOnHydrationMismatch(ee){var $=Error(formatProdErrorMessage(418,""));throw queueHydrationError(createCapturedValueAtFiber($,ee)),HydrationMismatchException}function prepareToHydrateHostInstance(ee){var $=ee.stateNode,te=ee.type,ne=ee.memoizedProps;switch($[internalInstanceKey]=ee,$[internalPropsKey]=ne,te){case"dialog":listenToNonDelegatedEvent("cancel",$),listenToNonDelegatedEvent("close",$);break;case"iframe":case"object":case"embed":listenToNonDelegatedEvent("load",$);break;case"video":case"audio":for(te=0;te<mediaEventTypes.length;te++)listenToNonDelegatedEvent(mediaEventTypes[te],$);break;case"source":listenToNonDelegatedEvent("error",$);break;case"img":case"image":case"link":listenToNonDelegatedEvent("error",$),listenToNonDelegatedEvent("load",$);break;case"details":listenToNonDelegatedEvent("toggle",$);break;case"input":listenToNonDelegatedEvent("invalid",$),initInput($,ne.value,ne.defaultValue,ne.checked,ne.defaultChecked,ne.type,ne.name,!0),track($);break;case"select":listenToNonDelegatedEvent("invalid",$);break;case"textarea":listenToNonDelegatedEvent("invalid",$),initTextarea($,ne.value,ne.defaultValue,ne.children),track($)}te=ne.children,typeof te!="string"&&typeof te!="number"&&typeof te!="bigint"||$.textContent===""+te||ne.suppressHydrationWarning===!0||checkForUnmatchedText($.textContent,te)?(ne.popover!=null&&(listenToNonDelegatedEvent("beforetoggle",$),listenToNonDelegatedEvent("toggle",$)),ne.onScroll!=null&&listenToNonDelegatedEvent("scroll",$),ne.onScrollEnd!=null&&listenToNonDelegatedEvent("scrollend",$),ne.onClick!=null&&($.onclick=noop$1),$=!0):$=!1,$||throwOnHydrationMismatch(ee)}function popToNextHostParent(ee){for(hydrationParentFiber=ee.return;hydrationParentFiber;)switch(hydrationParentFiber.tag){case 3:case 27:rootOrSingletonContext=!0;return;case 5:case 13:rootOrSingletonContext=!1;return;default:hydrationParentFiber=hydrationParentFiber.return}}function popHydrationState(ee){if(ee!==hydrationParentFiber)return!1;if(!isHydrating)return popToNextHostParent(ee),isHydrating=!0,!1;var $=!1,te;if((te=ee.tag!==3&&ee.tag!==27)&&((te=ee.tag===5)&&(te=ee.type,te=!(te!=="form"&&te!=="button")||shouldSetTextContent(ee.type,ee.memoizedProps)),te=!te),te&&($=!0),$&&nextHydratableInstance&&throwOnHydrationMismatch(ee),popToNextHostParent(ee),ee.tag===13){if(ee=ee.memoizedState,ee=ee!==null?ee.dehydrated:null,!ee)throw Error(formatProdErrorMessage(317));e:{for(ee=ee.nextSibling,$=0;ee;){if(ee.nodeType===8)if(te=ee.data,te==="/$"){if($===0){nextHydratableInstance=getNextHydratable(ee.nextSibling);break e}$--}else te!=="$"&&te!=="$!"&&te!=="$?"||$++;ee=ee.nextSibling}nextHydratableInstance=null}}else nextHydratableInstance=hydrationParentFiber?getNextHydratable(ee.stateNode.nextSibling):null;return!0}function resetHydrationState(){nextHydratableInstance=hydrationParentFiber=null,isHydrating=!1}function queueHydrationError(ee){hydrationErrors===null?hydrationErrors=[ee]:hydrationErrors.push(ee)}var SuspenseException=Error(formatProdErrorMessage(460)),SuspenseyCommitException=Error(formatProdErrorMessage(474)),noopSuspenseyCommitThenable={then:function(){}};function isThenableResolved(ee){return ee=ee.status,ee==="fulfilled"||ee==="rejected"}function noop$3(){}function trackUsedThenable(ee,$,te){switch(te=ee[te],te===void 0?ee.push($):te!==$&&($.then(noop$3,noop$3),$=te),$.status){case"fulfilled":return $.value;case"rejected":throw ee=$.reason,ee===SuspenseException?Error(formatProdErrorMessage(483)):ee;default:if(typeof $.status=="string")$.then(noop$3,noop$3);else{if(ee=workInProgressRoot,ee!==null&&100<ee.shellSuspendCounter)throw Error(formatProdErrorMessage(482));ee=$,ee.status="pending",ee.then(function(ne){if($.status==="pending"){var ie=$;ie.status="fulfilled",ie.value=ne}},function(ne){if($.status==="pending"){var ie=$;ie.status="rejected",ie.reason=ne}})}switch($.status){case"fulfilled":return $.value;case"rejected":throw ee=$.reason,ee===SuspenseException?Error(formatProdErrorMessage(483)):ee}throw suspendedThenable=$,SuspenseException}}var suspendedThenable=null;function getSuspendedThenable(){if(suspendedThenable===null)throw Error(formatProdErrorMessage(459));var ee=suspendedThenable;return suspendedThenable=null,ee}var thenableState$1=null,thenableIndexCounter$1=0;function unwrapThenable(ee){var $=thenableIndexCounter$1;return thenableIndexCounter$1+=1,thenableState$1===null&&(thenableState$1=[]),trackUsedThenable(thenableState$1,ee,$)}function coerceRef(ee,$){$=$.props.ref,ee.ref=$!==void 0?$:null}function throwOnInvalidObjectType(ee,$){throw $.$$typeof===REACT_LEGACY_ELEMENT_TYPE?Error(formatProdErrorMessage(525)):(ee=Object.prototype.toString.call($),Error(formatProdErrorMessage(31,ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)))}function resolveLazy(ee){var $=ee._init;return $(ee._payload)}function createChildReconciler(ee){function $(fe,be){if(ee){var xe=fe.deletions;xe===null?(fe.deletions=[be],fe.flags|=16):xe.push(be)}}function te(fe,be){if(!ee)return null;for(;be!==null;)$(fe,be),be=be.sibling;return null}function ne(fe){for(var be=new Map;fe!==null;)fe.key!==null?be.set(fe.key,fe):be.set(fe.index,fe),fe=fe.sibling;return be}function ie(fe,be){return fe=createWorkInProgress(fe,be),fe.index=0,fe.sibling=null,fe}function se(fe,be,xe){return fe.index=xe,ee?(xe=fe.alternate,xe!==null?(xe=xe.index,xe<be?(fe.flags|=33554434,be):xe):(fe.flags|=33554434,be)):(fe.flags|=1048576,be)}function le(fe){return ee&&fe.alternate===null&&(fe.flags|=33554434),fe}function oe(fe,be,xe,ue){return be===null||be.tag!==6?(be=createFiberFromText(xe,fe.mode,ue),be.return=fe,be):(be=ie(be,xe),be.return=fe,be)}function ce(fe,be,xe,ue){var we=xe.type;return we===REACT_FRAGMENT_TYPE$1?he(fe,be,xe.props.children,ue,xe.key):be!==null&&(be.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===REACT_LAZY_TYPE$1&&resolveLazy(we)===be.type)?(be=ie(be,xe.props),coerceRef(be,xe),be.return=fe,be):(be=createFiberFromTypeAndProps(xe.type,xe.key,xe.props,null,fe.mode,ue),coerceRef(be,xe),be.return=fe,be)}function ae(fe,be,xe,ue){return be===null||be.tag!==4||be.stateNode.containerInfo!==xe.containerInfo||be.stateNode.implementation!==xe.implementation?(be=createFiberFromPortal(xe,fe.mode,ue),be.return=fe,be):(be=ie(be,xe.children||[]),be.return=fe,be)}function he(fe,be,xe,ue,we){return be===null||be.tag!==7?(be=createFiberFromFragment(xe,fe.mode,ue,we),be.return=fe,be):(be=ie(be,xe),be.return=fe,be)}function de(fe,be,xe){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=createFiberFromText(""+be,fe.mode,xe),be.return=fe,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case REACT_ELEMENT_TYPE$1:return xe=createFiberFromTypeAndProps(be.type,be.key,be.props,null,fe.mode,xe),coerceRef(xe,be),xe.return=fe,xe;case REACT_PORTAL_TYPE$1:return be=createFiberFromPortal(be,fe.mode,xe),be.return=fe,be;case REACT_LAZY_TYPE$1:var ue=be._init;return be=ue(be._payload),de(fe,be,xe)}if(isArrayImpl(be)||getIteratorFn(be))return be=createFiberFromFragment(be,fe.mode,xe,null),be.return=fe,be;if(typeof be.then=="function")return de(fe,unwrapThenable(be),xe);if(be.$$typeof===REACT_CONTEXT_TYPE$1)return de(fe,readContextDuringReconciliation(fe,be),xe);throwOnInvalidObjectType(fe,be)}return null}function pe(fe,be,xe,ue){var we=be!==null?be.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return we!==null?null:oe(fe,be,""+xe,ue);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case REACT_ELEMENT_TYPE$1:return xe.key===we?ce(fe,be,xe,ue):null;case REACT_PORTAL_TYPE$1:return xe.key===we?ae(fe,be,xe,ue):null;case REACT_LAZY_TYPE$1:return we=xe._init,xe=we(xe._payload),pe(fe,be,xe,ue)}if(isArrayImpl(xe)||getIteratorFn(xe))return we!==null?null:he(fe,be,xe,ue,null);if(typeof xe.then=="function")return pe(fe,be,unwrapThenable(xe),ue);if(xe.$$typeof===REACT_CONTEXT_TYPE$1)return pe(fe,be,readContextDuringReconciliation(fe,xe),ue);throwOnInvalidObjectType(fe,xe)}return null}function re(fe,be,xe,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return fe=fe.get(xe)||null,oe(be,fe,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case REACT_ELEMENT_TYPE$1:return fe=fe.get(ue.key===null?xe:ue.key)||null,ce(be,fe,ue,we);case REACT_PORTAL_TYPE$1:return fe=fe.get(ue.key===null?xe:ue.key)||null,ae(be,fe,ue,we);case REACT_LAZY_TYPE$1:var Fe=ue._init;return ue=Fe(ue._payload),re(fe,be,xe,ue,we)}if(isArrayImpl(ue)||getIteratorFn(ue))return fe=fe.get(xe)||null,he(be,fe,ue,we,null);if(typeof ue.then=="function")return re(fe,be,xe,unwrapThenable(ue),we);if(ue.$$typeof===REACT_CONTEXT_TYPE$1)return re(fe,be,xe,readContextDuringReconciliation(be,ue),we);throwOnInvalidObjectType(be,ue)}return null}function Ae(fe,be,xe,ue){for(var we=null,Fe=null,_e=be,Ee=be=0,Ce=null;_e!==null&&Ee<xe.length;Ee++){_e.index>Ee?(Ce=_e,_e=null):Ce=_e.sibling;var ye=pe(fe,_e,xe[Ee],ue);if(ye===null){_e===null&&(_e=Ce);break}ee&&_e&&ye.alternate===null&&$(fe,_e),be=se(ye,be,Ee),Fe===null?we=ye:Fe.sibling=ye,Fe=ye,_e=Ce}if(Ee===xe.length)return te(fe,_e),isHydrating&&pushTreeFork(fe,Ee),we;if(_e===null){for(;Ee<xe.length;Ee++)_e=de(fe,xe[Ee],ue),_e!==null&&(be=se(_e,be,Ee),Fe===null?we=_e:Fe.sibling=_e,Fe=_e);return isHydrating&&pushTreeFork(fe,Ee),we}for(_e=ne(_e);Ee<xe.length;Ee++)Ce=re(_e,fe,Ee,xe[Ee],ue),Ce!==null&&(ee&&Ce.alternate!==null&&_e.delete(Ce.key===null?Ee:Ce.key),be=se(Ce,be,Ee),Fe===null?we=Ce:Fe.sibling=Ce,Fe=Ce);return ee&&_e.forEach(function(Re){return $(fe,Re)}),isHydrating&&pushTreeFork(fe,Ee),we}function ge(fe,be,xe,ue){if(xe==null)throw Error(formatProdErrorMessage(151));for(var we=null,Fe=null,_e=be,Ee=be=0,Ce=null,ye=xe.next();_e!==null&&!ye.done;Ee++,ye=xe.next()){_e.index>Ee?(Ce=_e,_e=null):Ce=_e.sibling;var Re=pe(fe,_e,ye.value,ue);if(Re===null){_e===null&&(_e=Ce);break}ee&&_e&&Re.alternate===null&&$(fe,_e),be=se(Re,be,Ee),Fe===null?we=Re:Fe.sibling=Re,Fe=Re,_e=Ce}if(ye.done)return te(fe,_e),isHydrating&&pushTreeFork(fe,Ee),we;if(_e===null){for(;!ye.done;Ee++,ye=xe.next())ye=de(fe,ye.value,ue),ye!==null&&(be=se(ye,be,Ee),Fe===null?we=ye:Fe.sibling=ye,Fe=ye);return isHydrating&&pushTreeFork(fe,Ee),we}for(_e=ne(_e);!ye.done;Ee++,ye=xe.next())ye=re(_e,fe,Ee,ye.value,ue),ye!==null&&(ee&&ye.alternate!==null&&_e.delete(ye.key===null?Ee:ye.key),be=se(ye,be,Ee),Fe===null?we=ye:Fe.sibling=ye,Fe=ye);return ee&&_e.forEach(function(Ye){return $(fe,Ye)}),isHydrating&&pushTreeFork(fe,Ee),we}function Se(fe,be,xe,ue){if(typeof xe=="object"&&xe!==null&&xe.type===REACT_FRAGMENT_TYPE$1&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case REACT_ELEMENT_TYPE$1:e:{for(var we=xe.key;be!==null;){if(be.key===we){if(we=xe.type,we===REACT_FRAGMENT_TYPE$1){if(be.tag===7){te(fe,be.sibling),ue=ie(be,xe.props.children),ue.return=fe,fe=ue;break e}}else if(be.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===REACT_LAZY_TYPE$1&&resolveLazy(we)===be.type){te(fe,be.sibling),ue=ie(be,xe.props),coerceRef(ue,xe),ue.return=fe,fe=ue;break e}te(fe,be);break}else $(fe,be);be=be.sibling}xe.type===REACT_FRAGMENT_TYPE$1?(ue=createFiberFromFragment(xe.props.children,fe.mode,ue,xe.key),ue.return=fe,fe=ue):(ue=createFiberFromTypeAndProps(xe.type,xe.key,xe.props,null,fe.mode,ue),coerceRef(ue,xe),ue.return=fe,fe=ue)}return le(fe);case REACT_PORTAL_TYPE$1:e:{for(we=xe.key;be!==null;){if(be.key===we)if(be.tag===4&&be.stateNode.containerInfo===xe.containerInfo&&be.stateNode.implementation===xe.implementation){te(fe,be.sibling),ue=ie(be,xe.children||[]),ue.return=fe,fe=ue;break e}else{te(fe,be);break}else $(fe,be);be=be.sibling}ue=createFiberFromPortal(xe,fe.mode,ue),ue.return=fe,fe=ue}return le(fe);case REACT_LAZY_TYPE$1:return we=xe._init,xe=we(xe._payload),Se(fe,be,xe,ue)}if(isArrayImpl(xe))return Ae(fe,be,xe,ue);if(getIteratorFn(xe)){if(we=getIteratorFn(xe),typeof we!="function")throw Error(formatProdErrorMessage(150));return xe=we.call(xe),ge(fe,be,xe,ue)}if(typeof xe.then=="function")return Se(fe,be,unwrapThenable(xe),ue);if(xe.$$typeof===REACT_CONTEXT_TYPE$1)return Se(fe,be,readContextDuringReconciliation(fe,xe),ue);throwOnInvalidObjectType(fe,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,be!==null&&be.tag===6?(te(fe,be.sibling),ue=ie(be,xe),ue.return=fe,fe=ue):(te(fe,be),ue=createFiberFromText(xe,fe.mode,ue),ue.return=fe,fe=ue),le(fe)):te(fe,be)}return function(fe,be,xe,ue){try{thenableIndexCounter$1=0;var we=Se(fe,be,xe,ue);return thenableState$1=null,we}catch(_e){if(_e===SuspenseException)throw _e;var Fe=createFiberImplClass(29,_e,null,fe.mode);return Fe.lanes=ue,Fe.return=fe,Fe}finally{}}}var reconcileChildFibers=createChildReconciler(!0),mountChildFibers=createChildReconciler(!1),currentTreeHiddenStackCursor=createCursor(null),prevEntangledRenderLanesCursor=createCursor(0);function pushHiddenContext(ee,$){ee=entangledRenderLanes,push(prevEntangledRenderLanesCursor,ee),push(currentTreeHiddenStackCursor,$),entangledRenderLanes=ee|$.baseLanes}function reuseHiddenContextOnStack(){push(prevEntangledRenderLanesCursor,entangledRenderLanes),push(currentTreeHiddenStackCursor,currentTreeHiddenStackCursor.current)}function popHiddenContext(){entangledRenderLanes=prevEntangledRenderLanesCursor.current,pop(currentTreeHiddenStackCursor),pop(prevEntangledRenderLanesCursor)}var suspenseHandlerStackCursor=createCursor(null),shellBoundary=null;function pushPrimaryTreeSuspenseHandler(ee){var $=ee.alternate;push(suspenseStackCursor,suspenseStackCursor.current&1),push(suspenseHandlerStackCursor,ee),shellBoundary===null&&($===null||currentTreeHiddenStackCursor.current!==null||$.memoizedState!==null)&&(shellBoundary=ee)}function pushOffscreenSuspenseHandler(ee){if(ee.tag===22){if(push(suspenseStackCursor,suspenseStackCursor.current),push(suspenseHandlerStackCursor,ee),shellBoundary===null){var $=ee.alternate;$!==null&&$.memoizedState!==null&&(shellBoundary=ee)}}else reuseSuspenseHandlerOnStack()}function reuseSuspenseHandlerOnStack(){push(suspenseStackCursor,suspenseStackCursor.current),push(suspenseHandlerStackCursor,suspenseHandlerStackCursor.current)}function popSuspenseHandler(ee){pop(suspenseHandlerStackCursor),shellBoundary===ee&&(shellBoundary=null),pop(suspenseStackCursor)}var suspenseStackCursor=createCursor(0);function findFirstSuspended(ee){for(var $=ee;$!==null;){if($.tag===13){var te=$.memoizedState;if(te!==null&&(te=te.dehydrated,te===null||te.data==="$?"||te.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===ee)break;for(;$.sibling===null;){if($.return===null||$.return===ee)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var AbortControllerLocal=typeof AbortController<"u"?AbortController:function(){var ee=[],$=this.signal={aborted:!1,addEventListener:function(te,ne){ee.push(ne)}};this.abort=function(){$.aborted=!0,ee.forEach(function(te){return te()})}},scheduleCallback$2=Scheduler.unstable_scheduleCallback,NormalPriority=Scheduler.unstable_NormalPriority,CacheContext={$$typeof:REACT_CONTEXT_TYPE$1,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function createCache$1(){return{controller:new AbortControllerLocal,data:new Map,refCount:0}}function releaseCache(ee){ee.refCount--,ee.refCount===0&&scheduleCallback$2(NormalPriority,function(){ee.controller.abort()})}var currentEntangledListeners=null,currentEntangledPendingCount=0,currentEntangledLane=0,currentEntangledActionThenable=null;function entangleAsyncAction(ee,$){if(currentEntangledListeners===null){var te=currentEntangledListeners=[];currentEntangledPendingCount=0,currentEntangledLane=requestTransitionLane(),currentEntangledActionThenable={status:"pending",value:void 0,then:function(ne){te.push(ne)}}}return currentEntangledPendingCount++,$.then(pingEngtangledActionScope,pingEngtangledActionScope),$}function pingEngtangledActionScope(){if(--currentEntangledPendingCount===0&&currentEntangledListeners!==null){currentEntangledActionThenable!==null&&(currentEntangledActionThenable.status="fulfilled");var ee=currentEntangledListeners;currentEntangledListeners=null,currentEntangledLane=0,currentEntangledActionThenable=null;for(var $=0;$<ee.length;$++)(0,ee[$])()}}function chainThenableValue(ee,$){var te=[],ne={status:"pending",value:null,reason:null,then:function(ie){te.push(ie)}};return ee.then(function(){ne.status="fulfilled",ne.value=$;for(var ie=0;ie<te.length;ie++)(0,te[ie])($)},function(ie){for(ne.status="rejected",ne.reason=ie,ie=0;ie<te.length;ie++)(0,te[ie])(void 0)}),ne}var prevOnStartTransitionFinish=ReactSharedInternals.S;ReactSharedInternals.S=function(ee,$){typeof $=="object"&&$!==null&&typeof $.then=="function"&&entangleAsyncAction(ee,$),prevOnStartTransitionFinish!==null&&prevOnStartTransitionFinish(ee,$)};var resumedCache=createCursor(null);function peekCacheFromPool(){var ee=resumedCache.current;return ee!==null?ee:workInProgressRoot.pooledCache}function pushTransition(ee,$){$===null?push(resumedCache,resumedCache.current):push(resumedCache,$.pool)}function getSuspendedCache(){var ee=peekCacheFromPool();return ee===null?null:{parent:CacheContext._currentValue,pool:ee}}var renderLanes=0,currentlyRenderingFiber$1=null,currentHook=null,workInProgressHook=null,didScheduleRenderPhaseUpdate=!1,didScheduleRenderPhaseUpdateDuringThisPass=!1,shouldDoubleInvokeUserFnsInHooksDEV=!1,localIdCounter=0,thenableIndexCounter=0,thenableState=null,globalClientIdCounter=0;function throwInvalidHookError(){throw Error(formatProdErrorMessage(321))}function areHookInputsEqual(ee,$){if($===null)return!1;for(var te=0;te<$.length&&te<ee.length;te++)if(!objectIs$2(ee[te],$[te]))return!1;return!0}function renderWithHooks(ee,$,te,ne,ie,se){return renderLanes=se,currentlyRenderingFiber$1=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,ReactSharedInternals.H=ee===null||ee.memoizedState===null?HooksDispatcherOnMount:HooksDispatcherOnUpdate,shouldDoubleInvokeUserFnsInHooksDEV=!1,se=te(ne,ie),shouldDoubleInvokeUserFnsInHooksDEV=!1,didScheduleRenderPhaseUpdateDuringThisPass&&(se=renderWithHooksAgain($,te,ne,ie)),finishRenderingHooks(ee),se}function finishRenderingHooks(ee){ReactSharedInternals.H=ContextOnlyDispatcher;var $=currentHook!==null&&currentHook.next!==null;if(renderLanes=0,workInProgressHook=currentHook=currentlyRenderingFiber$1=null,didScheduleRenderPhaseUpdate=!1,thenableIndexCounter=0,thenableState=null,$)throw Error(formatProdErrorMessage(300));ee===null||didReceiveUpdate||(ee=ee.dependencies,ee!==null&&checkIfContextChanged(ee)&&(didReceiveUpdate=!0))}function renderWithHooksAgain(ee,$,te,ne){currentlyRenderingFiber$1=ee;var ie=0;do{if(didScheduleRenderPhaseUpdateDuringThisPass&&(thenableState=null),thenableIndexCounter=0,didScheduleRenderPhaseUpdateDuringThisPass=!1,25<=ie)throw Error(formatProdErrorMessage(301));if(ie+=1,workInProgressHook=currentHook=null,ee.updateQueue!=null){var se=ee.updateQueue;se.lastEffect=null,se.events=null,se.stores=null,se.memoCache!=null&&(se.memoCache.index=0)}ReactSharedInternals.H=HooksDispatcherOnRerender,se=$(te,ne)}while(didScheduleRenderPhaseUpdateDuringThisPass);return se}function TransitionAwareHostComponent(){var ee=ReactSharedInternals.H,$=ee.useState()[0];return $=typeof $.then=="function"?useThenable($):$,ee=ee.useState()[0],(currentHook!==null?currentHook.memoizedState:null)!==ee&&(currentlyRenderingFiber$1.flags|=1024),$}function checkDidRenderIdHook(){var ee=localIdCounter!==0;return localIdCounter=0,ee}function bailoutHooks(ee,$,te){$.updateQueue=ee.updateQueue,$.flags&=-2053,ee.lanes&=~te}function resetHooksOnUnwind(ee){if(didScheduleRenderPhaseUpdate){for(ee=ee.memoizedState;ee!==null;){var $=ee.queue;$!==null&&($.pending=null),ee=ee.next}didScheduleRenderPhaseUpdate=!1}renderLanes=0,workInProgressHook=currentHook=currentlyRenderingFiber$1=null,didScheduleRenderPhaseUpdateDuringThisPass=!1,thenableIndexCounter=localIdCounter=0,thenableState=null}function mountWorkInProgressHook(){var ee={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return workInProgressHook===null?currentlyRenderingFiber$1.memoizedState=workInProgressHook=ee:workInProgressHook=workInProgressHook.next=ee,workInProgressHook}function updateWorkInProgressHook(){if(currentHook===null){var ee=currentlyRenderingFiber$1.alternate;ee=ee!==null?ee.memoizedState:null}else ee=currentHook.next;var $=workInProgressHook===null?currentlyRenderingFiber$1.memoizedState:workInProgressHook.next;if($!==null)workInProgressHook=$,currentHook=ee;else{if(ee===null)throw currentlyRenderingFiber$1.alternate===null?Error(formatProdErrorMessage(467)):Error(formatProdErrorMessage(310));currentHook=ee,ee={memoizedState:currentHook.memoizedState,baseState:currentHook.baseState,baseQueue:currentHook.baseQueue,queue:currentHook.queue,next:null},workInProgressHook===null?currentlyRenderingFiber$1.memoizedState=workInProgressHook=ee:workInProgressHook=workInProgressHook.next=ee}return workInProgressHook}var createFunctionComponentUpdateQueue;createFunctionComponentUpdateQueue=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function useThenable(ee){var $=thenableIndexCounter;return thenableIndexCounter+=1,thenableState===null&&(thenableState=[]),ee=trackUsedThenable(thenableState,ee,$),$=currentlyRenderingFiber$1,(workInProgressHook===null?$.memoizedState:workInProgressHook.next)===null&&($=$.alternate,ReactSharedInternals.H=$===null||$.memoizedState===null?HooksDispatcherOnMount:HooksDispatcherOnUpdate),ee}function use(ee){if(ee!==null&&typeof ee=="object"){if(typeof ee.then=="function")return useThenable(ee);if(ee.$$typeof===REACT_CONTEXT_TYPE$1)return readContext(ee)}throw Error(formatProdErrorMessage(438,String(ee)))}function useMemoCache(ee){var $=null,te=currentlyRenderingFiber$1.updateQueue;if(te!==null&&($=te.memoCache),$==null){var ne=currentlyRenderingFiber$1.alternate;ne!==null&&(ne=ne.updateQueue,ne!==null&&(ne=ne.memoCache,ne!=null&&($={data:ne.data.map(function(ie){return ie.slice()}),index:0})))}if($==null&&($={data:[],index:0}),te===null&&(te=createFunctionComponentUpdateQueue(),currentlyRenderingFiber$1.updateQueue=te),te.memoCache=$,te=$.data[$.index],te===void 0)for(te=$.data[$.index]=Array(ee),ne=0;ne<ee;ne++)te[ne]=REACT_MEMO_CACHE_SENTINEL;return $.index++,te}function basicStateReducer(ee,$){return typeof $=="function"?$(ee):$}function updateReducer(ee){var $=updateWorkInProgressHook();return updateReducerImpl($,currentHook,ee)}function updateReducerImpl(ee,$,te){var ne=ee.queue;if(ne===null)throw Error(formatProdErrorMessage(311));ne.lastRenderedReducer=te;var ie=ee.baseQueue,se=ne.pending;if(se!==null){if(ie!==null){var le=ie.next;ie.next=se.next,se.next=le}$.baseQueue=ie=se,ne.pending=null}if(se=ee.baseState,ie===null)ee.memoizedState=se;else{$=ie.next;var oe=le=null,ce=null,ae=$,he=!1;do{var de=ae.lane&-536870913;if(de!==ae.lane?(workInProgressRootRenderLanes&de)===de:(renderLanes&de)===de){var pe=ae.revertLane;if(pe===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),de===currentEntangledLane&&(he=!0);else if((renderLanes&pe)===pe){ae=ae.next,pe===currentEntangledLane&&(he=!0);continue}else de={lane:0,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},ce===null?(oe=ce=de,le=se):ce=ce.next=de,currentlyRenderingFiber$1.lanes|=pe,workInProgressRootSkippedLanes|=pe;de=ae.action,shouldDoubleInvokeUserFnsInHooksDEV&&te(se,de),se=ae.hasEagerState?ae.eagerState:te(se,de)}else pe={lane:de,revertLane:ae.revertLane,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},ce===null?(oe=ce=pe,le=se):ce=ce.next=pe,currentlyRenderingFiber$1.lanes|=de,workInProgressRootSkippedLanes|=de;ae=ae.next}while(ae!==null&&ae!==$);if(ce===null?le=se:ce.next=oe,!objectIs$2(se,ee.memoizedState)&&(didReceiveUpdate=!0,he&&(te=currentEntangledActionThenable,te!==null)))throw te;ee.memoizedState=se,ee.baseState=le,ee.baseQueue=ce,ne.lastRenderedState=se}return ie===null&&(ne.lanes=0),[ee.memoizedState,ne.dispatch]}function rerenderReducer(ee){var $=updateWorkInProgressHook(),te=$.queue;if(te===null)throw Error(formatProdErrorMessage(311));te.lastRenderedReducer=ee;var ne=te.dispatch,ie=te.pending,se=$.memoizedState;if(ie!==null){te.pending=null;var le=ie=ie.next;do se=ee(se,le.action),le=le.next;while(le!==ie);objectIs$2(se,$.memoizedState)||(didReceiveUpdate=!0),$.memoizedState=se,$.baseQueue===null&&($.baseState=se),te.lastRenderedState=se}return[se,ne]}function updateSyncExternalStore(ee,$,te){var ne=currentlyRenderingFiber$1,ie=updateWorkInProgressHook(),se=isHydrating;if(se){if(te===void 0)throw Error(formatProdErrorMessage(407));te=te()}else te=$();var le=!objectIs$2((currentHook||ie).memoizedState,te);if(le&&(ie.memoizedState=te,didReceiveUpdate=!0),ie=ie.queue,updateEffect(subscribeToStore.bind(null,ne,ie,ee),[ee]),ie.getSnapshot!==$||le||workInProgressHook!==null&&workInProgressHook.memoizedState.tag&1){if(ne.flags|=2048,pushEffect(9,updateStoreInstance.bind(null,ne,ie,te,$),{destroy:void 0},null),workInProgressRoot===null)throw Error(formatProdErrorMessage(349));se||renderLanes&60||pushStoreConsistencyCheck(ne,$,te)}return te}function pushStoreConsistencyCheck(ee,$,te){ee.flags|=16384,ee={getSnapshot:$,value:te},$=currentlyRenderingFiber$1.updateQueue,$===null?($=createFunctionComponentUpdateQueue(),currentlyRenderingFiber$1.updateQueue=$,$.stores=[ee]):(te=$.stores,te===null?$.stores=[ee]:te.push(ee))}function updateStoreInstance(ee,$,te,ne){$.value=te,$.getSnapshot=ne,checkIfSnapshotChanged$1($)&&forceStoreRerender(ee)}function subscribeToStore(ee,$,te){return te(function(){checkIfSnapshotChanged$1($)&&forceStoreRerender(ee)})}function checkIfSnapshotChanged$1(ee){var $=ee.getSnapshot;ee=ee.value;try{var te=$();return!objectIs$2(ee,te)}catch{return!0}}function forceStoreRerender(ee){var $=enqueueConcurrentRenderForLane(ee,2);$!==null&&scheduleUpdateOnFiber($,ee,2)}function mountStateImpl(ee){var $=mountWorkInProgressHook();if(typeof ee=="function"){var te=ee;if(ee=te(),shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{te()}finally{setIsStrictModeForDevtools(!1)}}}return $.memoizedState=$.baseState=ee,$.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:ee},$}function updateOptimisticImpl(ee,$,te,ne){return ee.baseState=te,updateReducerImpl(ee,currentHook,typeof ne=="function"?ne:basicStateReducer)}function dispatchActionState(ee,$,te,ne,ie){if(isRenderPhaseUpdate(ee))throw Error(formatProdErrorMessage(485));if(ee=$.action,ee!==null){var se={payload:ie,action:ee,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){se.listeners.push(le)}};ReactSharedInternals.T!==null?te(!0):se.isTransition=!1,ne(se),te=$.pending,te===null?(se.next=$.pending=se,runActionStateAction($,se)):(se.next=te.next,$.pending=te.next=se)}}function runActionStateAction(ee,$){var te=$.action,ne=$.payload,ie=ee.state;if($.isTransition){var se=ReactSharedInternals.T,le={};ReactSharedInternals.T=le;try{var oe=te(ie,ne),ce=ReactSharedInternals.S;ce!==null&&ce(le,oe),handleActionReturnValue(ee,$,oe)}catch(ae){onActionError(ee,$,ae)}finally{ReactSharedInternals.T=se}}else try{se=te(ie,ne),handleActionReturnValue(ee,$,se)}catch(ae){onActionError(ee,$,ae)}}function handleActionReturnValue(ee,$,te){te!==null&&typeof te=="object"&&typeof te.then=="function"?te.then(function(ne){onActionSuccess(ee,$,ne)},function(ne){return onActionError(ee,$,ne)}):onActionSuccess(ee,$,te)}function onActionSuccess(ee,$,te){$.status="fulfilled",$.value=te,notifyActionListeners($),ee.state=te,$=ee.pending,$!==null&&(te=$.next,te===$?ee.pending=null:(te=te.next,$.next=te,runActionStateAction(ee,te)))}function onActionError(ee,$,te){var ne=ee.pending;if(ee.pending=null,ne!==null){ne=ne.next;do $.status="rejected",$.reason=te,notifyActionListeners($),$=$.next;while($!==ne)}ee.action=null}function notifyActionListeners(ee){ee=ee.listeners;for(var $=0;$<ee.length;$++)(0,ee[$])()}function actionStateReducer(ee,$){return $}function mountActionState(ee,$){if(isHydrating){var te=workInProgressRoot.formState;if(te!==null){e:{var ne=currentlyRenderingFiber$1;if(isHydrating){if(nextHydratableInstance){t:{for(var ie=nextHydratableInstance,se=rootOrSingletonContext;ie.nodeType!==8;){if(!se){ie=null;break t}if(ie=getNextHydratable(ie.nextSibling),ie===null){ie=null;break t}}se=ie.data,ie=se==="F!"||se==="F"?ie:null}if(ie){nextHydratableInstance=getNextHydratable(ie.nextSibling),ne=ie.data==="F!";break e}}throwOnHydrationMismatch(ne)}ne=!1}ne&&($=te[0])}}return te=mountWorkInProgressHook(),te.memoizedState=te.baseState=$,ne={pending:null,lanes:0,dispatch:null,lastRenderedReducer:actionStateReducer,lastRenderedState:$},te.queue=ne,te=dispatchSetState.bind(null,currentlyRenderingFiber$1,ne),ne.dispatch=te,ne=mountStateImpl(!1),se=dispatchOptimisticSetState.bind(null,currentlyRenderingFiber$1,!1,ne.queue),ne=mountWorkInProgressHook(),ie={state:$,dispatch:null,action:ee,pending:null},ne.queue=ie,te=dispatchActionState.bind(null,currentlyRenderingFiber$1,ie,se,te),ie.dispatch=te,ne.memoizedState=ee,[$,te,!1]}function updateActionState(ee){var $=updateWorkInProgressHook();return updateActionStateImpl($,currentHook,ee)}function updateActionStateImpl(ee,$,te){$=updateReducerImpl(ee,$,actionStateReducer)[0],ee=updateReducer(basicStateReducer)[0],$=typeof $=="object"&&$!==null&&typeof $.then=="function"?useThenable($):$;var ne=updateWorkInProgressHook(),ie=ne.queue,se=ie.dispatch;return te!==ne.memoizedState&&(currentlyRenderingFiber$1.flags|=2048,pushEffect(9,actionStateActionEffect.bind(null,ie,te),{destroy:void 0},null)),[$,se,ee]}function actionStateActionEffect(ee,$){ee.action=$}function rerenderActionState(ee){var $=updateWorkInProgressHook(),te=currentHook;if(te!==null)return updateActionStateImpl($,te,ee);updateWorkInProgressHook(),$=$.memoizedState,te=updateWorkInProgressHook();var ne=te.queue.dispatch;return te.memoizedState=ee,[$,ne,!1]}function pushEffect(ee,$,te,ne){return ee={tag:ee,create:$,inst:te,deps:ne,next:null},$=currentlyRenderingFiber$1.updateQueue,$===null&&($=createFunctionComponentUpdateQueue(),currentlyRenderingFiber$1.updateQueue=$),te=$.lastEffect,te===null?$.lastEffect=ee.next=ee:(ne=te.next,te.next=ee,ee.next=ne,$.lastEffect=ee),ee}function updateRef(){return updateWorkInProgressHook().memoizedState}function mountEffectImpl(ee,$,te,ne){var ie=mountWorkInProgressHook();currentlyRenderingFiber$1.flags|=ee,ie.memoizedState=pushEffect(1|$,te,{destroy:void 0},ne===void 0?null:ne)}function updateEffectImpl(ee,$,te,ne){var ie=updateWorkInProgressHook();ne=ne===void 0?null:ne;var se=ie.memoizedState.inst;currentHook!==null&&ne!==null&&areHookInputsEqual(ne,currentHook.memoizedState.deps)?ie.memoizedState=pushEffect($,te,se,ne):(currentlyRenderingFiber$1.flags|=ee,ie.memoizedState=pushEffect(1|$,te,se,ne))}function mountEffect(ee,$){mountEffectImpl(8390656,8,ee,$)}function updateEffect(ee,$){updateEffectImpl(2048,8,ee,$)}function updateInsertionEffect(ee,$){return updateEffectImpl(4,2,ee,$)}function updateLayoutEffect(ee,$){return updateEffectImpl(4,4,ee,$)}function imperativeHandleEffect(ee,$){if(typeof $=="function"){ee=ee();var te=$(ee);return function(){typeof te=="function"?te():$(null)}}if($!=null)return ee=ee(),$.current=ee,function(){$.current=null}}function updateImperativeHandle(ee,$,te){te=te!=null?te.concat([ee]):null,updateEffectImpl(4,4,imperativeHandleEffect.bind(null,$,ee),te)}function mountDebugValue(){}function updateCallback(ee,$){var te=updateWorkInProgressHook();$=$===void 0?null:$;var ne=te.memoizedState;return $!==null&&areHookInputsEqual($,ne[1])?ne[0]:(te.memoizedState=[ee,$],ee)}function updateMemo(ee,$){var te=updateWorkInProgressHook();$=$===void 0?null:$;var ne=te.memoizedState;if($!==null&&areHookInputsEqual($,ne[1]))return ne[0];if(ne=ee(),shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{ee()}finally{setIsStrictModeForDevtools(!1)}}return te.memoizedState=[ne,$],ne}function mountDeferredValueImpl(ee,$,te){return te===void 0||renderLanes&1073741824?ee.memoizedState=$:(ee.memoizedState=te,ee=requestDeferredLane(),currentlyRenderingFiber$1.lanes|=ee,workInProgressRootSkippedLanes|=ee,te)}function updateDeferredValueImpl(ee,$,te,ne){return objectIs$2(te,$)?te:currentTreeHiddenStackCursor.current!==null?(ee=mountDeferredValueImpl(ee,te,ne),objectIs$2(ee,$)||(didReceiveUpdate=!0),ee):renderLanes&42?(ee=requestDeferredLane(),currentlyRenderingFiber$1.lanes|=ee,workInProgressRootSkippedLanes|=ee,$):(didReceiveUpdate=!0,ee.memoizedState=te)}function startTransition(ee,$,te,ne,ie){var se=ReactDOMSharedInternals.p;ReactDOMSharedInternals.p=se!==0&&8>se?se:8;var le=ReactSharedInternals.T,oe={};ReactSharedInternals.T=oe,dispatchOptimisticSetState(ee,!1,$,te);try{var ce=ie(),ae=ReactSharedInternals.S;if(ae!==null&&ae(oe,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var he=chainThenableValue(ce,ne);dispatchSetStateInternal(ee,$,he,requestUpdateLane(ee))}else dispatchSetStateInternal(ee,$,ne,requestUpdateLane(ee))}catch(de){dispatchSetStateInternal(ee,$,{then:function(){},status:"rejected",reason:de},requestUpdateLane())}finally{ReactDOMSharedInternals.p=se,ReactSharedInternals.T=le}}function noop$2(){}function startHostTransition(ee,$,te,ne){if(ee.tag!==5)throw Error(formatProdErrorMessage(476));var ie=ensureFormComponentIsStateful(ee).queue;startTransition(ee,ie,$,sharedNotPendingObject,te===null?noop$2:function(){return requestFormReset$1(ee),te(ne)})}function ensureFormComponentIsStateful(ee){var $=ee.memoizedState;if($!==null)return $;$={memoizedState:sharedNotPendingObject,baseState:sharedNotPendingObject,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:sharedNotPendingObject},next:null};var te={};return $.next={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:basicStateReducer,lastRenderedState:te},next:null},ee.memoizedState=$,ee=ee.alternate,ee!==null&&(ee.memoizedState=$),$}function requestFormReset$1(ee){var $=ensureFormComponentIsStateful(ee).next.queue;dispatchSetStateInternal(ee,$,{},requestUpdateLane())}function useHostTransitionStatus(){return readContext(HostTransitionContext)}function updateId(){return updateWorkInProgressHook().memoizedState}function updateRefresh(){return updateWorkInProgressHook().memoizedState}function refreshCache(ee){for(var $=ee.return;$!==null;){switch($.tag){case 24:case 3:var te=requestUpdateLane();ee=createUpdate(te);var ne=enqueueUpdate($,ee,te);ne!==null&&(scheduleUpdateOnFiber(ne,$,te),entangleTransitions(ne,$,te)),$={cache:createCache$1()},ee.payload=$;return}$=$.return}}function dispatchReducerAction(ee,$,te){var ne=requestUpdateLane();te={lane:ne,revertLane:0,action:te,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(ee)?enqueueRenderPhaseUpdate($,te):(te=enqueueConcurrentHookUpdate(ee,$,te,ne),te!==null&&(scheduleUpdateOnFiber(te,ee,ne),entangleTransitionUpdate(te,$,ne)))}function dispatchSetState(ee,$,te){var ne=requestUpdateLane();dispatchSetStateInternal(ee,$,te,ne)}function dispatchSetStateInternal(ee,$,te,ne){var ie={lane:ne,revertLane:0,action:te,hasEagerState:!1,eagerState:null,next:null};if(isRenderPhaseUpdate(ee))enqueueRenderPhaseUpdate($,ie);else{var se=ee.alternate;if(ee.lanes===0&&(se===null||se.lanes===0)&&(se=$.lastRenderedReducer,se!==null))try{var le=$.lastRenderedState,oe=se(le,te);if(ie.hasEagerState=!0,ie.eagerState=oe,objectIs$2(oe,le))return enqueueUpdate$1(ee,$,ie,0),workInProgressRoot===null&&finishQueueingConcurrentUpdates(),!1}catch{}finally{}if(te=enqueueConcurrentHookUpdate(ee,$,ie,ne),te!==null)return scheduleUpdateOnFiber(te,ee,ne),entangleTransitionUpdate(te,$,ne),!0}return!1}function dispatchOptimisticSetState(ee,$,te,ne){if(ne={lane:2,revertLane:requestTransitionLane(),action:ne,hasEagerState:!1,eagerState:null,next:null},isRenderPhaseUpdate(ee)){if($)throw Error(formatProdErrorMessage(479))}else $=enqueueConcurrentHookUpdate(ee,te,ne,2),$!==null&&scheduleUpdateOnFiber($,ee,2)}function isRenderPhaseUpdate(ee){var $=ee.alternate;return ee===currentlyRenderingFiber$1||$!==null&&$===currentlyRenderingFiber$1}function enqueueRenderPhaseUpdate(ee,$){didScheduleRenderPhaseUpdateDuringThisPass=didScheduleRenderPhaseUpdate=!0;var te=ee.pending;te===null?$.next=$:($.next=te.next,te.next=$),ee.pending=$}function entangleTransitionUpdate(ee,$,te){if(te&4194176){var ne=$.lanes;ne&=ee.pendingLanes,te|=ne,$.lanes=te,markRootEntangled(ee,te)}}var ContextOnlyDispatcher={readContext,use,useCallback:throwInvalidHookError,useContext:throwInvalidHookError,useEffect:throwInvalidHookError,useImperativeHandle:throwInvalidHookError,useLayoutEffect:throwInvalidHookError,useInsertionEffect:throwInvalidHookError,useMemo:throwInvalidHookError,useReducer:throwInvalidHookError,useRef:throwInvalidHookError,useState:throwInvalidHookError,useDebugValue:throwInvalidHookError,useDeferredValue:throwInvalidHookError,useTransition:throwInvalidHookError,useSyncExternalStore:throwInvalidHookError,useId:throwInvalidHookError};ContextOnlyDispatcher.useCacheRefresh=throwInvalidHookError;ContextOnlyDispatcher.useMemoCache=throwInvalidHookError;ContextOnlyDispatcher.useHostTransitionStatus=throwInvalidHookError;ContextOnlyDispatcher.useFormState=throwInvalidHookError;ContextOnlyDispatcher.useActionState=throwInvalidHookError;ContextOnlyDispatcher.useOptimistic=throwInvalidHookError;var HooksDispatcherOnMount={readContext,use,useCallback:function(ee,$){return mountWorkInProgressHook().memoizedState=[ee,$===void 0?null:$],ee},useContext:readContext,useEffect:mountEffect,useImperativeHandle:function(ee,$,te){te=te!=null?te.concat([ee]):null,mountEffectImpl(4194308,4,imperativeHandleEffect.bind(null,$,ee),te)},useLayoutEffect:function(ee,$){return mountEffectImpl(4194308,4,ee,$)},useInsertionEffect:function(ee,$){mountEffectImpl(4,2,ee,$)},useMemo:function(ee,$){var te=mountWorkInProgressHook();$=$===void 0?null:$;var ne=ee();if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{ee()}finally{setIsStrictModeForDevtools(!1)}}return te.memoizedState=[ne,$],ne},useReducer:function(ee,$,te){var ne=mountWorkInProgressHook();if(te!==void 0){var ie=te($);if(shouldDoubleInvokeUserFnsInHooksDEV){setIsStrictModeForDevtools(!0);try{te($)}finally{setIsStrictModeForDevtools(!1)}}}else ie=$;return ne.memoizedState=ne.baseState=ie,ee={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ee,lastRenderedState:ie},ne.queue=ee,ee=ee.dispatch=dispatchReducerAction.bind(null,currentlyRenderingFiber$1,ee),[ne.memoizedState,ee]},useRef:function(ee){var $=mountWorkInProgressHook();return ee={current:ee},$.memoizedState=ee},useState:function(ee){ee=mountStateImpl(ee);var $=ee.queue,te=dispatchSetState.bind(null,currentlyRenderingFiber$1,$);return $.dispatch=te,[ee.memoizedState,te]},useDebugValue:mountDebugValue,useDeferredValue:function(ee,$){var te=mountWorkInProgressHook();return mountDeferredValueImpl(te,ee,$)},useTransition:function(){var ee=mountStateImpl(!1);return ee=startTransition.bind(null,currentlyRenderingFiber$1,ee.queue,!0,!1),mountWorkInProgressHook().memoizedState=ee,[!1,ee]},useSyncExternalStore:function(ee,$,te){var ne=currentlyRenderingFiber$1,ie=mountWorkInProgressHook();if(isHydrating){if(te===void 0)throw Error(formatProdErrorMessage(407));te=te()}else{if(te=$(),workInProgressRoot===null)throw Error(formatProdErrorMessage(349));workInProgressRootRenderLanes&60||pushStoreConsistencyCheck(ne,$,te)}ie.memoizedState=te;var se={value:te,getSnapshot:$};return ie.queue=se,mountEffect(subscribeToStore.bind(null,ne,se,ee),[ee]),ne.flags|=2048,pushEffect(9,updateStoreInstance.bind(null,ne,se,te,$),{destroy:void 0},null),te},useId:function(){var ee=mountWorkInProgressHook(),$=workInProgressRoot.identifierPrefix;if(isHydrating){var te=treeContextOverflow,ne=treeContextId;te=(ne&~(1<<32-clz32(ne)-1)).toString(32)+te,$=":"+$+"R"+te,te=localIdCounter++,0<te&&($+="H"+te.toString(32)),$+=":"}else te=globalClientIdCounter++,$=":"+$+"r"+te.toString(32)+":";return ee.memoizedState=$},useCacheRefresh:function(){return mountWorkInProgressHook().memoizedState=refreshCache.bind(null,currentlyRenderingFiber$1)}};HooksDispatcherOnMount.useMemoCache=useMemoCache;HooksDispatcherOnMount.useHostTransitionStatus=useHostTransitionStatus;HooksDispatcherOnMount.useFormState=mountActionState;HooksDispatcherOnMount.useActionState=mountActionState;HooksDispatcherOnMount.useOptimistic=function(ee){var $=mountWorkInProgressHook();$.memoizedState=$.baseState=ee;var te={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return $.queue=te,$=dispatchOptimisticSetState.bind(null,currentlyRenderingFiber$1,!0,te),te.dispatch=$,[ee,$]};var HooksDispatcherOnUpdate={readContext,use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:updateReducer,useRef:updateRef,useState:function(){return updateReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(ee,$){var te=updateWorkInProgressHook();return updateDeferredValueImpl(te,currentHook.memoizedState,ee,$)},useTransition:function(){var ee=updateReducer(basicStateReducer)[0],$=updateWorkInProgressHook().memoizedState;return[typeof ee=="boolean"?ee:useThenable(ee),$]},useSyncExternalStore:updateSyncExternalStore,useId:updateId};HooksDispatcherOnUpdate.useCacheRefresh=updateRefresh;HooksDispatcherOnUpdate.useMemoCache=useMemoCache;HooksDispatcherOnUpdate.useHostTransitionStatus=useHostTransitionStatus;HooksDispatcherOnUpdate.useFormState=updateActionState;HooksDispatcherOnUpdate.useActionState=updateActionState;HooksDispatcherOnUpdate.useOptimistic=function(ee,$){var te=updateWorkInProgressHook();return updateOptimisticImpl(te,currentHook,ee,$)};var HooksDispatcherOnRerender={readContext,use,useCallback:updateCallback,useContext:readContext,useEffect:updateEffect,useImperativeHandle:updateImperativeHandle,useInsertionEffect:updateInsertionEffect,useLayoutEffect:updateLayoutEffect,useMemo:updateMemo,useReducer:rerenderReducer,useRef:updateRef,useState:function(){return rerenderReducer(basicStateReducer)},useDebugValue:mountDebugValue,useDeferredValue:function(ee,$){var te=updateWorkInProgressHook();return currentHook===null?mountDeferredValueImpl(te,ee,$):updateDeferredValueImpl(te,currentHook.memoizedState,ee,$)},useTransition:function(){var ee=rerenderReducer(basicStateReducer)[0],$=updateWorkInProgressHook().memoizedState;return[typeof ee=="boolean"?ee:useThenable(ee),$]},useSyncExternalStore:updateSyncExternalStore,useId:updateId};HooksDispatcherOnRerender.useCacheRefresh=updateRefresh;HooksDispatcherOnRerender.useMemoCache=useMemoCache;HooksDispatcherOnRerender.useHostTransitionStatus=useHostTransitionStatus;HooksDispatcherOnRerender.useFormState=rerenderActionState;HooksDispatcherOnRerender.useActionState=rerenderActionState;HooksDispatcherOnRerender.useOptimistic=function(ee,$){var te=updateWorkInProgressHook();return currentHook!==null?updateOptimisticImpl(te,currentHook,ee,$):(te.baseState=ee,[ee,te.queue.dispatch])};function applyDerivedStateFromProps(ee,$,te,ne){$=ee.memoizedState,te=te(ne,$),te=te==null?$:assign$1({},$,te),ee.memoizedState=te,ee.lanes===0&&(ee.updateQueue.baseState=te)}var classComponentUpdater={isMounted:function(ee){return(ee=ee._reactInternals)?getNearestMountedFiber(ee)===ee:!1},enqueueSetState:function(ee,$,te){ee=ee._reactInternals;var ne=requestUpdateLane(),ie=createUpdate(ne);ie.payload=$,te!=null&&(ie.callback=te),$=enqueueUpdate(ee,ie,ne),$!==null&&(scheduleUpdateOnFiber($,ee,ne),entangleTransitions($,ee,ne))},enqueueReplaceState:function(ee,$,te){ee=ee._reactInternals;var ne=requestUpdateLane(),ie=createUpdate(ne);ie.tag=1,ie.payload=$,te!=null&&(ie.callback=te),$=enqueueUpdate(ee,ie,ne),$!==null&&(scheduleUpdateOnFiber($,ee,ne),entangleTransitions($,ee,ne))},enqueueForceUpdate:function(ee,$){ee=ee._reactInternals;var te=requestUpdateLane(),ne=createUpdate(te);ne.tag=2,$!=null&&(ne.callback=$),$=enqueueUpdate(ee,ne,te),$!==null&&(scheduleUpdateOnFiber($,ee,te),entangleTransitions($,ee,te))}};function checkShouldComponentUpdate(ee,$,te,ne,ie,se,le){return ee=ee.stateNode,typeof ee.shouldComponentUpdate=="function"?ee.shouldComponentUpdate(ne,se,le):$.prototype&&$.prototype.isPureReactComponent?!shallowEqual(te,ne)||!shallowEqual(ie,se):!0}function callComponentWillReceiveProps(ee,$,te,ne){ee=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(te,ne),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(te,ne),$.state!==ee&&classComponentUpdater.enqueueReplaceState($,$.state,null)}function resolveClassComponentProps(ee,$){var te=$;if("ref"in $){te={};for(var ne in $)ne!=="ref"&&(te[ne]=$[ne])}if(ee=ee.defaultProps){te===$&&(te=assign$1({},te));for(var ie in ee)te[ie]===void 0&&(te[ie]=ee[ie])}return te}var reportGlobalError=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function defaultOnUncaughtError(ee){reportGlobalError(ee)}function defaultOnCaughtError(ee){console.error(ee)}function defaultOnRecoverableError(ee){reportGlobalError(ee)}function logUncaughtError(ee,$){try{var te=ee.onUncaughtError;te($.value,{componentStack:$.stack})}catch(ne){setTimeout(function(){throw ne})}}function logCaughtError(ee,$,te){try{var ne=ee.onCaughtError;ne(te.value,{componentStack:te.stack,errorBoundary:$.tag===1?$.stateNode:null})}catch(ie){setTimeout(function(){throw ie})}}function createRootErrorUpdate(ee,$,te){return te=createUpdate(te),te.tag=3,te.payload={element:null},te.callback=function(){logUncaughtError(ee,$)},te}function createClassErrorUpdate(ee){return ee=createUpdate(ee),ee.tag=3,ee}function initializeClassErrorUpdate(ee,$,te,ne){var ie=te.type.getDerivedStateFromError;if(typeof ie=="function"){var se=ne.value;ee.payload=function(){return ie(se)},ee.callback=function(){logCaughtError($,te,ne)}}var le=te.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(ee.callback=function(){logCaughtError($,te,ne),typeof ie!="function"&&(legacyErrorBoundariesThatAlreadyFailed===null?legacyErrorBoundariesThatAlreadyFailed=new Set([this]):legacyErrorBoundariesThatAlreadyFailed.add(this));var oe=ne.stack;this.componentDidCatch(ne.value,{componentStack:oe!==null?oe:""})})}function throwException(ee,$,te,ne,ie){if(te.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){if($=te.alternate,$!==null&&propagateParentContextChanges($,te,ie,!0),te=suspenseHandlerStackCursor.current,te!==null){switch(te.tag){case 13:return shellBoundary===null?renderDidSuspendDelayIfPossible():te.alternate===null&&workInProgressRootExitStatus===0&&(workInProgressRootExitStatus=3),te.flags&=-257,te.flags|=65536,te.lanes=ie,ne===noopSuspenseyCommitThenable?te.flags|=16384:($=te.updateQueue,$===null?te.updateQueue=new Set([ne]):$.add(ne),attachPingListener(ee,ne,ie)),!1;case 22:return te.flags|=65536,ne===noopSuspenseyCommitThenable?te.flags|=16384:($=te.updateQueue,$===null?($={transitions:null,markerInstances:null,retryQueue:new Set([ne])},te.updateQueue=$):(te=$.retryQueue,te===null?$.retryQueue=new Set([ne]):te.add(ne)),attachPingListener(ee,ne,ie)),!1}throw Error(formatProdErrorMessage(435,te.tag))}return attachPingListener(ee,ne,ie),renderDidSuspendDelayIfPossible(),!1}if(isHydrating)return $=suspenseHandlerStackCursor.current,$!==null?(!($.flags&65536)&&($.flags|=256),$.flags|=65536,$.lanes=ie,ne!==HydrationMismatchException&&(ee=Error(formatProdErrorMessage(422),{cause:ne}),queueHydrationError(createCapturedValueAtFiber(ee,te)))):(ne!==HydrationMismatchException&&($=Error(formatProdErrorMessage(423),{cause:ne}),queueHydrationError(createCapturedValueAtFiber($,te))),ee=ee.current.alternate,ee.flags|=65536,ie&=-ie,ee.lanes|=ie,ne=createCapturedValueAtFiber(ne,te),ie=createRootErrorUpdate(ee.stateNode,ne,ie),enqueueCapturedUpdate(ee,ie),workInProgressRootExitStatus!==4&&(workInProgressRootExitStatus=2)),!1;var se=Error(formatProdErrorMessage(520),{cause:ne});if(se=createCapturedValueAtFiber(se,te),workInProgressRootConcurrentErrors===null?workInProgressRootConcurrentErrors=[se]:workInProgressRootConcurrentErrors.push(se),workInProgressRootExitStatus!==4&&(workInProgressRootExitStatus=2),$===null)return!0;ne=createCapturedValueAtFiber(ne,te),te=$;do{switch(te.tag){case 3:return te.flags|=65536,ee=ie&-ie,te.lanes|=ee,ee=createRootErrorUpdate(te.stateNode,ne,ee),enqueueCapturedUpdate(te,ee),!1;case 1:if($=te.type,se=te.stateNode,(te.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(legacyErrorBoundariesThatAlreadyFailed===null||!legacyErrorBoundariesThatAlreadyFailed.has(se))))return te.flags|=65536,ie&=-ie,te.lanes|=ie,ie=createClassErrorUpdate(ie),initializeClassErrorUpdate(ie,ee,te,ne),enqueueCapturedUpdate(te,ie),!1}te=te.return}while(te!==null);return!1}var SelectiveHydrationException=Error(formatProdErrorMessage(461)),didReceiveUpdate=!1;function reconcileChildren(ee,$,te,ne){$.child=ee===null?mountChildFibers($,null,te,ne):reconcileChildFibers($,ee.child,te,ne)}function updateForwardRef(ee,$,te,ne,ie){te=te.render;var se=$.ref;if("ref"in ne){var le={};for(var oe in ne)oe!=="ref"&&(le[oe]=ne[oe])}else le=ne;return prepareToReadContext($),ne=renderWithHooks(ee,$,te,le,se,ie),oe=checkDidRenderIdHook(),ee!==null&&!didReceiveUpdate?(bailoutHooks(ee,$,ie),bailoutOnAlreadyFinishedWork(ee,$,ie)):(isHydrating&&oe&&pushMaterializedTreeId($),$.flags|=1,reconcileChildren(ee,$,ne,ie),$.child)}function updateMemoComponent(ee,$,te,ne,ie){if(ee===null){var se=te.type;return typeof se=="function"&&!shouldConstruct(se)&&se.defaultProps===void 0&&te.compare===null?($.tag=15,$.type=se,updateSimpleMemoComponent(ee,$,se,ne,ie)):(ee=createFiberFromTypeAndProps(te.type,null,ne,$,$.mode,ie),ee.ref=$.ref,ee.return=$,$.child=ee)}if(se=ee.child,!checkScheduledUpdateOrContext(ee,ie)){var le=se.memoizedProps;if(te=te.compare,te=te!==null?te:shallowEqual,te(le,ne)&&ee.ref===$.ref)return bailoutOnAlreadyFinishedWork(ee,$,ie)}return $.flags|=1,ee=createWorkInProgress(se,ne),ee.ref=$.ref,ee.return=$,$.child=ee}function updateSimpleMemoComponent(ee,$,te,ne,ie){if(ee!==null){var se=ee.memoizedProps;if(shallowEqual(se,ne)&&ee.ref===$.ref)if(didReceiveUpdate=!1,$.pendingProps=ne=se,checkScheduledUpdateOrContext(ee,ie))ee.flags&131072&&(didReceiveUpdate=!0);else return $.lanes=ee.lanes,bailoutOnAlreadyFinishedWork(ee,$,ie)}return updateFunctionComponent(ee,$,te,ne,ie)}function updateOffscreenComponent(ee,$,te){var ne=$.pendingProps,ie=ne.children,se=($.stateNode._pendingVisibility&2)!==0,le=ee!==null?ee.memoizedState:null;if(markRef(ee,$),ne.mode==="hidden"||se){if($.flags&128){if(ne=le!==null?le.baseLanes|te:te,ee!==null){for(ie=$.child=ee.child,se=0;ie!==null;)se=se|ie.lanes|ie.childLanes,ie=ie.sibling;$.childLanes=se&~ne}else $.childLanes=0,$.child=null;return deferHiddenOffscreenComponent(ee,$,ne,te)}if(te&536870912)$.memoizedState={baseLanes:0,cachePool:null},ee!==null&&pushTransition($,le!==null?le.cachePool:null),le!==null?pushHiddenContext($,le):reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler($);else return $.lanes=$.childLanes=536870912,deferHiddenOffscreenComponent(ee,$,le!==null?le.baseLanes|te:te,te)}else le!==null?(pushTransition($,le.cachePool),pushHiddenContext($,le),reuseSuspenseHandlerOnStack(),$.memoizedState=null):(ee!==null&&pushTransition($,null),reuseHiddenContextOnStack(),reuseSuspenseHandlerOnStack());return reconcileChildren(ee,$,ie,te),$.child}function deferHiddenOffscreenComponent(ee,$,te,ne){var ie=peekCacheFromPool();return ie=ie===null?null:{parent:CacheContext._currentValue,pool:ie},$.memoizedState={baseLanes:te,cachePool:ie},ee!==null&&pushTransition($,null),reuseHiddenContextOnStack(),pushOffscreenSuspenseHandler($),ee!==null&&propagateParentContextChanges(ee,$,ne,!0),null}function markRef(ee,$){var te=$.ref;if(te===null)ee!==null&&ee.ref!==null&&($.flags|=2097664);else{if(typeof te!="function"&&typeof te!="object")throw Error(formatProdErrorMessage(284));(ee===null||ee.ref!==te)&&($.flags|=2097664)}}function updateFunctionComponent(ee,$,te,ne,ie){return prepareToReadContext($),te=renderWithHooks(ee,$,te,ne,void 0,ie),ne=checkDidRenderIdHook(),ee!==null&&!didReceiveUpdate?(bailoutHooks(ee,$,ie),bailoutOnAlreadyFinishedWork(ee,$,ie)):(isHydrating&&ne&&pushMaterializedTreeId($),$.flags|=1,reconcileChildren(ee,$,te,ie),$.child)}function replayFunctionComponent(ee,$,te,ne,ie,se){return prepareToReadContext($),$.updateQueue=null,te=renderWithHooksAgain($,ne,te,ie),finishRenderingHooks(ee),ne=checkDidRenderIdHook(),ee!==null&&!didReceiveUpdate?(bailoutHooks(ee,$,se),bailoutOnAlreadyFinishedWork(ee,$,se)):(isHydrating&&ne&&pushMaterializedTreeId($),$.flags|=1,reconcileChildren(ee,$,te,se),$.child)}function updateClassComponent(ee,$,te,ne,ie){if(prepareToReadContext($),$.stateNode===null){var se=emptyContextObject,le=te.contextType;typeof le=="object"&&le!==null&&(se=readContext(le)),se=new te(ne,se),$.memoizedState=se.state!==null&&se.state!==void 0?se.state:null,se.updater=classComponentUpdater,$.stateNode=se,se._reactInternals=$,se=$.stateNode,se.props=ne,se.state=$.memoizedState,se.refs={},initializeUpdateQueue($),le=te.contextType,se.context=typeof le=="object"&&le!==null?readContext(le):emptyContextObject,se.state=$.memoizedState,le=te.getDerivedStateFromProps,typeof le=="function"&&(applyDerivedStateFromProps($,te,le,ne),se.state=$.memoizedState),typeof te.getDerivedStateFromProps=="function"||typeof se.getSnapshotBeforeUpdate=="function"||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(le=se.state,typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount(),le!==se.state&&classComponentUpdater.enqueueReplaceState(se,se.state,null),processUpdateQueue($,ne,se,ie),suspendIfUpdateReadFromEntangledAsyncAction(),se.state=$.memoizedState),typeof se.componentDidMount=="function"&&($.flags|=4194308),ne=!0}else if(ee===null){se=$.stateNode;var oe=$.memoizedProps,ce=resolveClassComponentProps(te,oe);se.props=ce;var ae=se.context,he=te.contextType;le=emptyContextObject,typeof he=="object"&&he!==null&&(le=readContext(he));var de=te.getDerivedStateFromProps;he=typeof de=="function"||typeof se.getSnapshotBeforeUpdate=="function",oe=$.pendingProps!==oe,he||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(oe||ae!==le)&&callComponentWillReceiveProps($,se,ne,le),hasForceUpdate=!1;var pe=$.memoizedState;se.state=pe,processUpdateQueue($,ne,se,ie),suspendIfUpdateReadFromEntangledAsyncAction(),ae=$.memoizedState,oe||pe!==ae||hasForceUpdate?(typeof de=="function"&&(applyDerivedStateFromProps($,te,de,ne),ae=$.memoizedState),(ce=hasForceUpdate||checkShouldComponentUpdate($,te,ce,ne,pe,ae,le))?(he||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&($.flags|=4194308)):(typeof se.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=ne,$.memoizedState=ae),se.props=ne,se.state=ae,se.context=le,ne=ce):(typeof se.componentDidMount=="function"&&($.flags|=4194308),ne=!1)}else{se=$.stateNode,cloneUpdateQueue(ee,$),le=$.memoizedProps,he=resolveClassComponentProps(te,le),se.props=he,de=$.pendingProps,pe=se.context,ae=te.contextType,ce=emptyContextObject,typeof ae=="object"&&ae!==null&&(ce=readContext(ae)),oe=te.getDerivedStateFromProps,(ae=typeof oe=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(le!==de||pe!==ce)&&callComponentWillReceiveProps($,se,ne,ce),hasForceUpdate=!1,pe=$.memoizedState,se.state=pe,processUpdateQueue($,ne,se,ie),suspendIfUpdateReadFromEntangledAsyncAction();var re=$.memoizedState;le!==de||pe!==re||hasForceUpdate||ee!==null&&ee.dependencies!==null&&checkIfContextChanged(ee.dependencies)?(typeof oe=="function"&&(applyDerivedStateFromProps($,te,oe,ne),re=$.memoizedState),(he=hasForceUpdate||checkShouldComponentUpdate($,te,he,ne,pe,re,ce)||ee!==null&&ee.dependencies!==null&&checkIfContextChanged(ee.dependencies))?(ae||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(ne,re,ce),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(ne,re,ce)),typeof se.componentDidUpdate=="function"&&($.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof se.componentDidUpdate!="function"||le===ee.memoizedProps&&pe===ee.memoizedState||($.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||le===ee.memoizedProps&&pe===ee.memoizedState||($.flags|=1024),$.memoizedProps=ne,$.memoizedState=re),se.props=ne,se.state=re,se.context=ce,ne=he):(typeof se.componentDidUpdate!="function"||le===ee.memoizedProps&&pe===ee.memoizedState||($.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||le===ee.memoizedProps&&pe===ee.memoizedState||($.flags|=1024),ne=!1)}return se=ne,markRef(ee,$),ne=($.flags&128)!==0,se||ne?(se=$.stateNode,te=ne&&typeof te.getDerivedStateFromError!="function"?null:se.render(),$.flags|=1,ee!==null&&ne?($.child=reconcileChildFibers($,ee.child,null,ie),$.child=reconcileChildFibers($,null,te,ie)):reconcileChildren(ee,$,te,ie),$.memoizedState=se.state,ee=$.child):ee=bailoutOnAlreadyFinishedWork(ee,$,ie),ee}function mountHostRootWithoutHydrating(ee,$,te,ne){return resetHydrationState(),$.flags|=256,reconcileChildren(ee,$,te,ne),$.child}var SUSPENDED_MARKER={dehydrated:null,treeContext:null,retryLane:0};function mountSuspenseOffscreenState(ee){return{baseLanes:ee,cachePool:getSuspendedCache()}}function getRemainingWorkInPrimaryTree(ee,$,te){return ee=ee!==null?ee.childLanes&~te:0,$&&(ee|=workInProgressDeferredLane),ee}function updateSuspenseComponent(ee,$,te){var ne=$.pendingProps,ie=!1,se=($.flags&128)!==0,le;if((le=se)||(le=ee!==null&&ee.memoizedState===null?!1:(suspenseStackCursor.current&2)!==0),le&&(ie=!0,$.flags&=-129),le=($.flags&32)!==0,$.flags&=-33,ee===null){if(isHydrating){if(ie?pushPrimaryTreeSuspenseHandler($):reuseSuspenseHandlerOnStack(),isHydrating){var oe=nextHydratableInstance,ce;if(ce=oe){e:{for(ce=oe,oe=rootOrSingletonContext;ce.nodeType!==8;){if(!oe){oe=null;break e}if(ce=getNextHydratable(ce.nextSibling),ce===null){oe=null;break e}}oe=ce}oe!==null?($.memoizedState={dehydrated:oe,treeContext:treeContextProvider!==null?{id:treeContextId,overflow:treeContextOverflow}:null,retryLane:536870912},ce=createFiberImplClass(18,null,null,0),ce.stateNode=oe,ce.return=$,$.child=ce,hydrationParentFiber=$,nextHydratableInstance=null,ce=!0):ce=!1}ce||throwOnHydrationMismatch($)}if(oe=$.memoizedState,oe!==null&&(oe=oe.dehydrated,oe!==null))return oe.data==="$!"?$.lanes=16:$.lanes=536870912,null;popSuspenseHandler($)}return oe=ne.children,ne=ne.fallback,ie?(reuseSuspenseHandlerOnStack(),ie=$.mode,oe=mountWorkInProgressOffscreenFiber({mode:"hidden",children:oe},ie),ne=createFiberFromFragment(ne,ie,te,null),oe.return=$,ne.return=$,oe.sibling=ne,$.child=oe,ie=$.child,ie.memoizedState=mountSuspenseOffscreenState(te),ie.childLanes=getRemainingWorkInPrimaryTree(ee,le,te),$.memoizedState=SUSPENDED_MARKER,ne):(pushPrimaryTreeSuspenseHandler($),mountSuspensePrimaryChildren($,oe))}if(ce=ee.memoizedState,ce!==null&&(oe=ce.dehydrated,oe!==null)){if(se)$.flags&256?(pushPrimaryTreeSuspenseHandler($),$.flags&=-257,$=retrySuspenseComponentWithoutHydrating(ee,$,te)):$.memoizedState!==null?(reuseSuspenseHandlerOnStack(),$.child=ee.child,$.flags|=128,$=null):(reuseSuspenseHandlerOnStack(),ie=ne.fallback,oe=$.mode,ne=mountWorkInProgressOffscreenFiber({mode:"visible",children:ne.children},oe),ie=createFiberFromFragment(ie,oe,te,null),ie.flags|=2,ne.return=$,ie.return=$,ne.sibling=ie,$.child=ne,reconcileChildFibers($,ee.child,null,te),ne=$.child,ne.memoizedState=mountSuspenseOffscreenState(te),ne.childLanes=getRemainingWorkInPrimaryTree(ee,le,te),$.memoizedState=SUSPENDED_MARKER,$=ie);else if(pushPrimaryTreeSuspenseHandler($),oe.data==="$!"){if(le=oe.nextSibling&&oe.nextSibling.dataset,le)var ae=le.dgst;le=ae,ne=Error(formatProdErrorMessage(419)),ne.stack="",ne.digest=le,queueHydrationError({value:ne,source:null,stack:null}),$=retrySuspenseComponentWithoutHydrating(ee,$,te)}else if(didReceiveUpdate||propagateParentContextChanges(ee,$,te,!1),le=(te&ee.childLanes)!==0,didReceiveUpdate||le){if(le=workInProgressRoot,le!==null){if(ne=te&-te,ne&42)ne=1;else switch(ne){case 2:ne=1;break;case 8:ne=4;break;case 32:ne=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:ne=64;break;case 268435456:ne=134217728;break;default:ne=0}if(ne=ne&(le.suspendedLanes|te)?0:ne,ne!==0&&ne!==ce.retryLane)throw ce.retryLane=ne,enqueueConcurrentRenderForLane(ee,ne),scheduleUpdateOnFiber(le,ee,ne),SelectiveHydrationException}oe.data==="$?"||renderDidSuspendDelayIfPossible(),$=retrySuspenseComponentWithoutHydrating(ee,$,te)}else oe.data==="$?"?($.flags|=128,$.child=ee.child,$=retryDehydratedSuspenseBoundary.bind(null,ee),oe._reactRetry=$,$=null):(ee=ce.treeContext,nextHydratableInstance=getNextHydratable(oe.nextSibling),hydrationParentFiber=$,isHydrating=!0,hydrationErrors=null,rootOrSingletonContext=!1,ee!==null&&(idStack[idStackIndex++]=treeContextId,idStack[idStackIndex++]=treeContextOverflow,idStack[idStackIndex++]=treeContextProvider,treeContextId=ee.id,treeContextOverflow=ee.overflow,treeContextProvider=$),$=mountSuspensePrimaryChildren($,ne.children),$.flags|=4096);return $}return ie?(reuseSuspenseHandlerOnStack(),ie=ne.fallback,oe=$.mode,ce=ee.child,ae=ce.sibling,ne=createWorkInProgress(ce,{mode:"hidden",children:ne.children}),ne.subtreeFlags=ce.subtreeFlags&31457280,ae!==null?ie=createWorkInProgress(ae,ie):(ie=createFiberFromFragment(ie,oe,te,null),ie.flags|=2),ie.return=$,ne.return=$,ne.sibling=ie,$.child=ne,ne=ie,ie=$.child,oe=ee.child.memoizedState,oe===null?oe=mountSuspenseOffscreenState(te):(ce=oe.cachePool,ce!==null?(ae=CacheContext._currentValue,ce=ce.parent!==ae?{parent:ae,pool:ae}:ce):ce=getSuspendedCache(),oe={baseLanes:oe.baseLanes|te,cachePool:ce}),ie.memoizedState=oe,ie.childLanes=getRemainingWorkInPrimaryTree(ee,le,te),$.memoizedState=SUSPENDED_MARKER,ne):(pushPrimaryTreeSuspenseHandler($),te=ee.child,ee=te.sibling,te=createWorkInProgress(te,{mode:"visible",children:ne.children}),te.return=$,te.sibling=null,ee!==null&&(le=$.deletions,le===null?($.deletions=[ee],$.flags|=16):le.push(ee)),$.child=te,$.memoizedState=null,te)}function mountSuspensePrimaryChildren(ee,$){return $=mountWorkInProgressOffscreenFiber({mode:"visible",children:$},ee.mode),$.return=ee,ee.child=$}function mountWorkInProgressOffscreenFiber(ee,$){return createFiberFromOffscreen(ee,$,0,null)}function retrySuspenseComponentWithoutHydrating(ee,$,te){return reconcileChildFibers($,ee.child,null,te),ee=mountSuspensePrimaryChildren($,$.pendingProps.children),ee.flags|=2,$.memoizedState=null,ee}function scheduleSuspenseWorkOnFiber(ee,$,te){ee.lanes|=$;var ne=ee.alternate;ne!==null&&(ne.lanes|=$),scheduleContextWorkOnParentPath(ee.return,$,te)}function initSuspenseListRenderState(ee,$,te,ne,ie){var se=ee.memoizedState;se===null?ee.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:ne,tail:te,tailMode:ie}:(se.isBackwards=$,se.rendering=null,se.renderingStartTime=0,se.last=ne,se.tail=te,se.tailMode=ie)}function updateSuspenseListComponent(ee,$,te){var ne=$.pendingProps,ie=ne.revealOrder,se=ne.tail;if(reconcileChildren(ee,$,ne.children,te),ne=suspenseStackCursor.current,ne&2)ne=ne&1|2,$.flags|=128;else{if(ee!==null&&ee.flags&128)e:for(ee=$.child;ee!==null;){if(ee.tag===13)ee.memoizedState!==null&&scheduleSuspenseWorkOnFiber(ee,te,$);else if(ee.tag===19)scheduleSuspenseWorkOnFiber(ee,te,$);else if(ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===$)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===$)break e;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}ne&=1}switch(push(suspenseStackCursor,ne),ie){case"forwards":for(te=$.child,ie=null;te!==null;)ee=te.alternate,ee!==null&&findFirstSuspended(ee)===null&&(ie=te),te=te.sibling;te=ie,te===null?(ie=$.child,$.child=null):(ie=te.sibling,te.sibling=null),initSuspenseListRenderState($,!1,ie,te,se);break;case"backwards":for(te=null,ie=$.child,$.child=null;ie!==null;){if(ee=ie.alternate,ee!==null&&findFirstSuspended(ee)===null){$.child=ie;break}ee=ie.sibling,ie.sibling=te,te=ie,ie=ee}initSuspenseListRenderState($,!0,te,null,se);break;case"together":initSuspenseListRenderState($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function bailoutOnAlreadyFinishedWork(ee,$,te){if(ee!==null&&($.dependencies=ee.dependencies),workInProgressRootSkippedLanes|=$.lanes,!(te&$.childLanes))if(ee!==null){if(propagateParentContextChanges(ee,$,te,!1),(te&$.childLanes)===0)return null}else return null;if(ee!==null&&$.child!==ee.child)throw Error(formatProdErrorMessage(153));if($.child!==null){for(ee=$.child,te=createWorkInProgress(ee,ee.pendingProps),$.child=te,te.return=$;ee.sibling!==null;)ee=ee.sibling,te=te.sibling=createWorkInProgress(ee,ee.pendingProps),te.return=$;te.sibling=null}return $.child}function checkScheduledUpdateOrContext(ee,$){return ee.lanes&$?!0:(ee=ee.dependencies,!!(ee!==null&&checkIfContextChanged(ee)))}function attemptEarlyBailoutIfNoScheduledUpdate(ee,$,te){switch($.tag){case 3:pushHostContainer($,$.stateNode.containerInfo),pushProvider($,CacheContext,ee.memoizedState.cache),resetHydrationState();break;case 27:case 5:pushHostContext($);break;case 4:pushHostContainer($,$.stateNode.containerInfo);break;case 10:pushProvider($,$.type,$.memoizedProps.value);break;case 13:var ne=$.memoizedState;if(ne!==null)return ne.dehydrated!==null?(pushPrimaryTreeSuspenseHandler($),$.flags|=128,null):te&$.child.childLanes?updateSuspenseComponent(ee,$,te):(pushPrimaryTreeSuspenseHandler($),ee=bailoutOnAlreadyFinishedWork(ee,$,te),ee!==null?ee.sibling:null);pushPrimaryTreeSuspenseHandler($);break;case 19:var ie=(ee.flags&128)!==0;if(ne=(te&$.childLanes)!==0,ne||(propagateParentContextChanges(ee,$,te,!1),ne=(te&$.childLanes)!==0),ie){if(ne)return updateSuspenseListComponent(ee,$,te);$.flags|=128}if(ie=$.memoizedState,ie!==null&&(ie.rendering=null,ie.tail=null,ie.lastEffect=null),push(suspenseStackCursor,suspenseStackCursor.current),ne)break;return null;case 22:case 23:return $.lanes=0,updateOffscreenComponent(ee,$,te);case 24:pushProvider($,CacheContext,ee.memoizedState.cache)}return bailoutOnAlreadyFinishedWork(ee,$,te)}function beginWork(ee,$,te){if(ee!==null)if(ee.memoizedProps!==$.pendingProps)didReceiveUpdate=!0;else{if(!checkScheduledUpdateOrContext(ee,te)&&!($.flags&128))return didReceiveUpdate=!1,attemptEarlyBailoutIfNoScheduledUpdate(ee,$,te);didReceiveUpdate=!!(ee.flags&131072)}else didReceiveUpdate=!1,isHydrating&&$.flags&1048576&&pushTreeId($,treeForkCount,$.index);switch($.lanes=0,$.tag){case 16:e:{ee=$.pendingProps;var ne=$.elementType,ie=ne._init;if(ne=ie(ne._payload),$.type=ne,typeof ne=="function")shouldConstruct(ne)?(ee=resolveClassComponentProps(ne,ee),$.tag=1,$=updateClassComponent(null,$,ne,ee,te)):($.tag=0,$=updateFunctionComponent(null,$,ne,ee,te));else{if(ne!=null){if(ie=ne.$$typeof,ie===REACT_FORWARD_REF_TYPE$1){$.tag=11,$=updateForwardRef(null,$,ne,ee,te);break e}else if(ie===REACT_MEMO_TYPE$1){$.tag=14,$=updateMemoComponent(null,$,ne,ee,te);break e}}throw $=getComponentNameFromType(ne)||ne,Error(formatProdErrorMessage(306,$,""))}}return $;case 0:return updateFunctionComponent(ee,$,$.type,$.pendingProps,te);case 1:return ne=$.type,ie=resolveClassComponentProps(ne,$.pendingProps),updateClassComponent(ee,$,ne,ie,te);case 3:e:{if(pushHostContainer($,$.stateNode.containerInfo),ee===null)throw Error(formatProdErrorMessage(387));var se=$.pendingProps;ie=$.memoizedState,ne=ie.element,cloneUpdateQueue(ee,$),processUpdateQueue($,se,null,te);var le=$.memoizedState;if(se=le.cache,pushProvider($,CacheContext,se),se!==ie.cache&&propagateContextChanges($,[CacheContext],te,!0),suspendIfUpdateReadFromEntangledAsyncAction(),se=le.element,ie.isDehydrated)if(ie={element:se,isDehydrated:!1,cache:le.cache},$.updateQueue.baseState=ie,$.memoizedState=ie,$.flags&256){$=mountHostRootWithoutHydrating(ee,$,se,te);break e}else if(se!==ne){ne=createCapturedValueAtFiber(Error(formatProdErrorMessage(424)),$),queueHydrationError(ne),$=mountHostRootWithoutHydrating(ee,$,se,te);break e}else for(nextHydratableInstance=getNextHydratable($.stateNode.containerInfo.firstChild),hydrationParentFiber=$,isHydrating=!0,hydrationErrors=null,rootOrSingletonContext=!0,te=mountChildFibers($,null,se,te),$.child=te;te;)te.flags=te.flags&-3|4096,te=te.sibling;else{if(resetHydrationState(),se===ne){$=bailoutOnAlreadyFinishedWork(ee,$,te);break e}reconcileChildren(ee,$,se,te)}$=$.child}return $;case 26:return markRef(ee,$),ee===null?(te=getResource($.type,null,$.pendingProps,null))?$.memoizedState=te:isHydrating||(te=$.type,ee=$.pendingProps,ne=getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current).createElement(te),ne[internalInstanceKey]=$,ne[internalPropsKey]=ee,setInitialProperties(ne,te,ee),markNodeAsHoistable(ne),$.stateNode=ne):$.memoizedState=getResource($.type,ee.memoizedProps,$.pendingProps,ee.memoizedState),null;case 27:return pushHostContext($),ee===null&&isHydrating&&(ne=$.stateNode=resolveSingletonInstance($.type,$.pendingProps,rootInstanceStackCursor.current),hydrationParentFiber=$,rootOrSingletonContext=!0,nextHydratableInstance=getNextHydratable(ne.firstChild)),ne=$.pendingProps.children,ee!==null||isHydrating?reconcileChildren(ee,$,ne,te):$.child=reconcileChildFibers($,null,ne,te),markRef(ee,$),$.child;case 5:return ee===null&&isHydrating&&((ie=ne=nextHydratableInstance)&&(ne=canHydrateInstance(ne,$.type,$.pendingProps,rootOrSingletonContext),ne!==null?($.stateNode=ne,hydrationParentFiber=$,nextHydratableInstance=getNextHydratable(ne.firstChild),rootOrSingletonContext=!1,ie=!0):ie=!1),ie||throwOnHydrationMismatch($)),pushHostContext($),ie=$.type,se=$.pendingProps,le=ee!==null?ee.memoizedProps:null,ne=se.children,shouldSetTextContent(ie,se)?ne=null:le!==null&&shouldSetTextContent(ie,le)&&($.flags|=32),$.memoizedState!==null&&(ie=renderWithHooks(ee,$,TransitionAwareHostComponent,null,null,te),HostTransitionContext._currentValue=ie),markRef(ee,$),reconcileChildren(ee,$,ne,te),$.child;case 6:return ee===null&&isHydrating&&((ee=te=nextHydratableInstance)&&(te=canHydrateTextInstance(te,$.pendingProps,rootOrSingletonContext),te!==null?($.stateNode=te,hydrationParentFiber=$,nextHydratableInstance=null,ee=!0):ee=!1),ee||throwOnHydrationMismatch($)),null;case 13:return updateSuspenseComponent(ee,$,te);case 4:return pushHostContainer($,$.stateNode.containerInfo),ne=$.pendingProps,ee===null?$.child=reconcileChildFibers($,null,ne,te):reconcileChildren(ee,$,ne,te),$.child;case 11:return updateForwardRef(ee,$,$.type,$.pendingProps,te);case 7:return reconcileChildren(ee,$,$.pendingProps,te),$.child;case 8:return reconcileChildren(ee,$,$.pendingProps.children,te),$.child;case 12:return reconcileChildren(ee,$,$.pendingProps.children,te),$.child;case 10:return ne=$.pendingProps,pushProvider($,$.type,ne.value),reconcileChildren(ee,$,ne.children,te),$.child;case 9:return ie=$.type._context,ne=$.pendingProps.children,prepareToReadContext($),ie=readContext(ie),ne=ne(ie),$.flags|=1,reconcileChildren(ee,$,ne,te),$.child;case 14:return updateMemoComponent(ee,$,$.type,$.pendingProps,te);case 15:return updateSimpleMemoComponent(ee,$,$.type,$.pendingProps,te);case 19:return updateSuspenseListComponent(ee,$,te);case 22:return updateOffscreenComponent(ee,$,te);case 24:return prepareToReadContext($),ne=readContext(CacheContext),ee===null?(ie=peekCacheFromPool(),ie===null&&(ie=workInProgressRoot,se=createCache$1(),ie.pooledCache=se,se.refCount++,se!==null&&(ie.pooledCacheLanes|=te),ie=se),$.memoizedState={parent:ne,cache:ie},initializeUpdateQueue($),pushProvider($,CacheContext,ie)):(ee.lanes&te&&(cloneUpdateQueue(ee,$),processUpdateQueue($,null,null,te),suspendIfUpdateReadFromEntangledAsyncAction()),ie=ee.memoizedState,se=$.memoizedState,ie.parent!==ne?(ie={parent:ne,cache:ne},$.memoizedState=ie,$.lanes===0&&($.memoizedState=$.updateQueue.baseState=ie),pushProvider($,CacheContext,ne)):(ne=se.cache,pushProvider($,CacheContext,ne),ne!==ie.cache&&propagateContextChanges($,[CacheContext],te,!0))),reconcileChildren(ee,$,$.pendingProps.children,te),$.child;case 29:throw $.pendingProps}throw Error(formatProdErrorMessage(156,$.tag))}var valueCursor=createCursor(null),currentlyRenderingFiber=null,lastContextDependency=null;function pushProvider(ee,$,te){push(valueCursor,$._currentValue),$._currentValue=te}function popProvider(ee){ee._currentValue=valueCursor.current,pop(valueCursor)}function scheduleContextWorkOnParentPath(ee,$,te){for(;ee!==null;){var ne=ee.alternate;if((ee.childLanes&$)!==$?(ee.childLanes|=$,ne!==null&&(ne.childLanes|=$)):ne!==null&&(ne.childLanes&$)!==$&&(ne.childLanes|=$),ee===te)break;ee=ee.return}}function propagateContextChanges(ee,$,te,ne){var ie=ee.child;for(ie!==null&&(ie.return=ee);ie!==null;){var se=ie.dependencies;if(se!==null){var le=ie.child;se=se.firstContext;e:for(;se!==null;){var oe=se;se=ie;for(var ce=0;ce<$.length;ce++)if(oe.context===$[ce]){se.lanes|=te,oe=se.alternate,oe!==null&&(oe.lanes|=te),scheduleContextWorkOnParentPath(se.return,te,ee),ne||(le=null);break e}se=oe.next}}else if(ie.tag===18){if(le=ie.return,le===null)throw Error(formatProdErrorMessage(341));le.lanes|=te,se=le.alternate,se!==null&&(se.lanes|=te),scheduleContextWorkOnParentPath(le,te,ee),le=null}else le=ie.child;if(le!==null)le.return=ie;else for(le=ie;le!==null;){if(le===ee){le=null;break}if(ie=le.sibling,ie!==null){ie.return=le.return,le=ie;break}le=le.return}ie=le}}function propagateParentContextChanges(ee,$,te,ne){ee=null;for(var ie=$,se=!1;ie!==null;){if(!se){if(ie.flags&524288)se=!0;else if(ie.flags&262144)break}if(ie.tag===10){var le=ie.alternate;if(le===null)throw Error(formatProdErrorMessage(387));if(le=le.memoizedProps,le!==null){var oe=ie.type;objectIs$2(ie.pendingProps.value,le.value)||(ee!==null?ee.push(oe):ee=[oe])}}else if(ie===hostTransitionProviderCursor.current){if(le=ie.alternate,le===null)throw Error(formatProdErrorMessage(387));le.memoizedState.memoizedState!==ie.memoizedState.memoizedState&&(ee!==null?ee.push(HostTransitionContext):ee=[HostTransitionContext])}ie=ie.return}ee!==null&&propagateContextChanges($,ee,te,ne),$.flags|=262144}function checkIfContextChanged(ee){for(ee=ee.firstContext;ee!==null;){if(!objectIs$2(ee.context._currentValue,ee.memoizedValue))return!0;ee=ee.next}return!1}function prepareToReadContext(ee){currentlyRenderingFiber=ee,lastContextDependency=null,ee=ee.dependencies,ee!==null&&(ee.firstContext=null)}function readContext(ee){return readContextForConsumer(currentlyRenderingFiber,ee)}function readContextDuringReconciliation(ee,$){return currentlyRenderingFiber===null&&prepareToReadContext(ee),readContextForConsumer(ee,$)}function readContextForConsumer(ee,$){var te=$._currentValue;if($={context:$,memoizedValue:te,next:null},lastContextDependency===null){if(ee===null)throw Error(formatProdErrorMessage(308));lastContextDependency=$,ee.dependencies={lanes:0,firstContext:$},ee.flags|=524288}else lastContextDependency=lastContextDependency.next=$;return te}var hasForceUpdate=!1;function initializeUpdateQueue(ee){ee.updateQueue={baseState:ee.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cloneUpdateQueue(ee,$){ee=ee.updateQueue,$.updateQueue===ee&&($.updateQueue={baseState:ee.baseState,firstBaseUpdate:ee.firstBaseUpdate,lastBaseUpdate:ee.lastBaseUpdate,shared:ee.shared,callbacks:null})}function createUpdate(ee){return{lane:ee,tag:0,payload:null,callback:null,next:null}}function enqueueUpdate(ee,$,te){var ne=ee.updateQueue;if(ne===null)return null;if(ne=ne.shared,executionContext&2){var ie=ne.pending;return ie===null?$.next=$:($.next=ie.next,ie.next=$),ne.pending=$,$=getRootForUpdatedFiber(ee),markUpdateLaneFromFiberToRoot(ee,null,te),$}return enqueueUpdate$1(ee,ne,$,te),getRootForUpdatedFiber(ee)}function entangleTransitions(ee,$,te){if($=$.updateQueue,$!==null&&($=$.shared,(te&4194176)!==0)){var ne=$.lanes;ne&=ee.pendingLanes,te|=ne,$.lanes=te,markRootEntangled(ee,te)}}function enqueueCapturedUpdate(ee,$){var te=ee.updateQueue,ne=ee.alternate;if(ne!==null&&(ne=ne.updateQueue,te===ne)){var ie=null,se=null;if(te=te.firstBaseUpdate,te!==null){do{var le={lane:te.lane,tag:te.tag,payload:te.payload,callback:null,next:null};se===null?ie=se=le:se=se.next=le,te=te.next}while(te!==null);se===null?ie=se=$:se=se.next=$}else ie=se=$;te={baseState:ne.baseState,firstBaseUpdate:ie,lastBaseUpdate:se,shared:ne.shared,callbacks:ne.callbacks},ee.updateQueue=te;return}ee=te.lastBaseUpdate,ee===null?te.firstBaseUpdate=$:ee.next=$,te.lastBaseUpdate=$}var didReadFromEntangledAsyncAction=!1;function suspendIfUpdateReadFromEntangledAsyncAction(){if(didReadFromEntangledAsyncAction){var ee=currentEntangledActionThenable;if(ee!==null)throw ee}}function processUpdateQueue(ee,$,te,ne){didReadFromEntangledAsyncAction=!1;var ie=ee.updateQueue;hasForceUpdate=!1;var se=ie.firstBaseUpdate,le=ie.lastBaseUpdate,oe=ie.shared.pending;if(oe!==null){ie.shared.pending=null;var ce=oe,ae=ce.next;ce.next=null,le===null?se=ae:le.next=ae,le=ce;var he=ee.alternate;he!==null&&(he=he.updateQueue,oe=he.lastBaseUpdate,oe!==le&&(oe===null?he.firstBaseUpdate=ae:oe.next=ae,he.lastBaseUpdate=ce))}if(se!==null){var de=ie.baseState;le=0,he=ae=ce=null,oe=se;do{var pe=oe.lane&-536870913,re=pe!==oe.lane;if(re?(workInProgressRootRenderLanes&pe)===pe:(ne&pe)===pe){pe!==0&&pe===currentEntangledLane&&(didReadFromEntangledAsyncAction=!0),he!==null&&(he=he.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Ae=ee,ge=oe;pe=$;var Se=te;switch(ge.tag){case 1:if(Ae=ge.payload,typeof Ae=="function"){de=Ae.call(Se,de,pe);break e}de=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ge.payload,pe=typeof Ae=="function"?Ae.call(Se,de,pe):Ae,pe==null)break e;de=assign$1({},de,pe);break e;case 2:hasForceUpdate=!0}}pe=oe.callback,pe!==null&&(ee.flags|=64,re&&(ee.flags|=8192),re=ie.callbacks,re===null?ie.callbacks=[pe]:re.push(pe))}else re={lane:pe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},he===null?(ae=he=re,ce=de):he=he.next=re,le|=pe;if(oe=oe.next,oe===null){if(oe=ie.shared.pending,oe===null)break;re=oe,oe=re.next,re.next=null,ie.lastBaseUpdate=re,ie.shared.pending=null}}while(!0);he===null&&(ce=de),ie.baseState=ce,ie.firstBaseUpdate=ae,ie.lastBaseUpdate=he,se===null&&(ie.shared.lanes=0),workInProgressRootSkippedLanes|=le,ee.lanes=le,ee.memoizedState=de}}function callCallback(ee,$){if(typeof ee!="function")throw Error(formatProdErrorMessage(191,ee));ee.call($)}function commitCallbacks(ee,$){var te=ee.callbacks;if(te!==null)for(ee.callbacks=null,ee=0;ee<te.length;ee++)callCallback(te[ee],$)}function commitHookEffectListMount(ee,$){try{var te=$.updateQueue,ne=te!==null?te.lastEffect:null;if(ne!==null){var ie=ne.next;te=ie;do{if((te.tag&ee)===ee){ne=void 0;var se=te.create,le=te.inst;ne=se(),le.destroy=ne}te=te.next}while(te!==ie)}}catch(oe){captureCommitPhaseError($,$.return,oe)}}function commitHookEffectListUnmount(ee,$,te){try{var ne=$.updateQueue,ie=ne!==null?ne.lastEffect:null;if(ie!==null){var se=ie.next;ne=se;do{if((ne.tag&ee)===ee){var le=ne.inst,oe=le.destroy;if(oe!==void 0){le.destroy=void 0,ie=$;var ce=te;try{oe()}catch(ae){captureCommitPhaseError(ie,ce,ae)}}}ne=ne.next}while(ne!==se)}}catch(ae){captureCommitPhaseError($,$.return,ae)}}function commitClassCallbacks(ee){var $=ee.updateQueue;if($!==null){var te=ee.stateNode;try{commitCallbacks($,te)}catch(ne){captureCommitPhaseError(ee,ee.return,ne)}}}function safelyCallComponentWillUnmount(ee,$,te){te.props=resolveClassComponentProps(ee.type,ee.memoizedProps),te.state=ee.memoizedState;try{te.componentWillUnmount()}catch(ne){captureCommitPhaseError(ee,$,ne)}}function safelyAttachRef(ee,$){try{var te=ee.ref;if(te!==null){var ne=ee.stateNode;switch(ee.tag){case 26:case 27:case 5:var ie=ne;break;default:ie=ne}typeof te=="function"?ee.refCleanup=te(ie):te.current=ie}}catch(se){captureCommitPhaseError(ee,$,se)}}function safelyDetachRef(ee,$){var te=ee.ref,ne=ee.refCleanup;if(te!==null)if(typeof ne=="function")try{ne()}catch(ie){captureCommitPhaseError(ee,$,ie)}finally{ee.refCleanup=null,ee=ee.alternate,ee!=null&&(ee.refCleanup=null)}else if(typeof te=="function")try{te(null)}catch(ie){captureCommitPhaseError(ee,$,ie)}else te.current=null}function commitHostMount(ee){var $=ee.type,te=ee.memoizedProps,ne=ee.stateNode;try{e:switch($){case"button":case"input":case"select":case"textarea":te.autoFocus&&ne.focus();break e;case"img":te.src?ne.src=te.src:te.srcSet&&(ne.srcset=te.srcSet)}}catch(ie){captureCommitPhaseError(ee,ee.return,ie)}}function commitHostUpdate(ee,$,te){try{var ne=ee.stateNode;updateProperties(ne,ee.type,te,$),ne[internalPropsKey]=$}catch(ie){captureCommitPhaseError(ee,ee.return,ie)}}function isHostParent(ee){return ee.tag===5||ee.tag===3||ee.tag===26||ee.tag===27||ee.tag===4}function getHostSibling(ee){e:for(;;){for(;ee.sibling===null;){if(ee.return===null||isHostParent(ee.return))return null;ee=ee.return}for(ee.sibling.return=ee.return,ee=ee.sibling;ee.tag!==5&&ee.tag!==6&&ee.tag!==27&&ee.tag!==18;){if(ee.flags&2||ee.child===null||ee.tag===4)continue e;ee.child.return=ee,ee=ee.child}if(!(ee.flags&2))return ee.stateNode}}function insertOrAppendPlacementNodeIntoContainer(ee,$,te){var ne=ee.tag;if(ne===5||ne===6)ee=ee.stateNode,$?te.nodeType===8?te.parentNode.insertBefore(ee,$):te.insertBefore(ee,$):(te.nodeType===8?($=te.parentNode,$.insertBefore(ee,te)):($=te,$.appendChild(ee)),te=te._reactRootContainer,te!=null||$.onclick!==null||($.onclick=noop$1));else if(ne!==4&&ne!==27&&(ee=ee.child,ee!==null))for(insertOrAppendPlacementNodeIntoContainer(ee,$,te),ee=ee.sibling;ee!==null;)insertOrAppendPlacementNodeIntoContainer(ee,$,te),ee=ee.sibling}function insertOrAppendPlacementNode(ee,$,te){var ne=ee.tag;if(ne===5||ne===6)ee=ee.stateNode,$?te.insertBefore(ee,$):te.appendChild(ee);else if(ne!==4&&ne!==27&&(ee=ee.child,ee!==null))for(insertOrAppendPlacementNode(ee,$,te),ee=ee.sibling;ee!==null;)insertOrAppendPlacementNode(ee,$,te),ee=ee.sibling}var offscreenSubtreeIsHidden=!1,offscreenSubtreeWasHidden=!1,needsFormReset=!1,PossiblyWeakSet=typeof WeakSet=="function"?WeakSet:Set,nextEffect=null,shouldFireAfterActiveInstanceBlur=!1;function commitBeforeMutationEffects(ee,$){if(ee=ee.containerInfo,eventsEnabled=_enabled,ee=getActiveElementDeep(ee),hasSelectionCapabilities(ee)){if("selectionStart"in ee)var te={start:ee.selectionStart,end:ee.selectionEnd};else e:{te=(te=ee.ownerDocument)&&te.defaultView||window;var ne=te.getSelection&&te.getSelection();if(ne&&ne.rangeCount!==0){te=ne.anchorNode;var ie=ne.anchorOffset,se=ne.focusNode;ne=ne.focusOffset;try{te.nodeType,se.nodeType}catch{te=null;break e}var le=0,oe=-1,ce=-1,ae=0,he=0,de=ee,pe=null;t:for(;;){for(var re;de!==te||ie!==0&&de.nodeType!==3||(oe=le+ie),de!==se||ne!==0&&de.nodeType!==3||(ce=le+ne),de.nodeType===3&&(le+=de.nodeValue.length),(re=de.firstChild)!==null;)pe=de,de=re;for(;;){if(de===ee)break t;if(pe===te&&++ae===ie&&(oe=le),pe===se&&++he===ne&&(ce=le),(re=de.nextSibling)!==null)break;de=pe,pe=de.parentNode}de=re}te=oe===-1||ce===-1?null:{start:oe,end:ce}}else te=null}te=te||{start:0,end:0}}else te=null;for(selectionInformation={focusedElem:ee,selectionRange:te},_enabled=!1,nextEffect=$;nextEffect!==null;)if($=nextEffect,ee=$.child,($.subtreeFlags&1028)!==0&&ee!==null)ee.return=$,nextEffect=ee;else for(;nextEffect!==null;){switch($=nextEffect,se=$.alternate,ee=$.flags,$.tag){case 0:break;case 11:case 15:break;case 1:if(ee&1024&&se!==null){ee=void 0,te=$,ie=se.memoizedProps,se=se.memoizedState,ne=te.stateNode;try{var Ae=resolveClassComponentProps(te.type,ie,te.elementType===te.type);ee=ne.getSnapshotBeforeUpdate(Ae,se),ne.__reactInternalSnapshotBeforeUpdate=ee}catch(ge){captureCommitPhaseError(te,te.return,ge)}}break;case 3:if(ee&1024){if(ee=$.stateNode.containerInfo,te=ee.nodeType,te===9)clearContainerSparingly(ee);else if(te===1)switch(ee.nodeName){case"HEAD":case"HTML":case"BODY":clearContainerSparingly(ee);break;default:ee.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(ee&1024)throw Error(formatProdErrorMessage(163))}if(ee=$.sibling,ee!==null){ee.return=$.return,nextEffect=ee;break}nextEffect=$.return}return Ae=shouldFireAfterActiveInstanceBlur,shouldFireAfterActiveInstanceBlur=!1,Ae}function commitLayoutEffectOnFiber(ee,$,te){var ne=te.flags;switch(te.tag){case 0:case 11:case 15:recursivelyTraverseLayoutEffects(ee,te),ne&4&&commitHookEffectListMount(5,te);break;case 1:if(recursivelyTraverseLayoutEffects(ee,te),ne&4)if(ee=te.stateNode,$===null)try{ee.componentDidMount()}catch(oe){captureCommitPhaseError(te,te.return,oe)}else{var ie=resolveClassComponentProps(te.type,$.memoizedProps);$=$.memoizedState;try{ee.componentDidUpdate(ie,$,ee.__reactInternalSnapshotBeforeUpdate)}catch(oe){captureCommitPhaseError(te,te.return,oe)}}ne&64&&commitClassCallbacks(te),ne&512&&safelyAttachRef(te,te.return);break;case 3:if(recursivelyTraverseLayoutEffects(ee,te),ne&64&&(ne=te.updateQueue,ne!==null)){if(ee=null,te.child!==null)switch(te.child.tag){case 27:case 5:ee=te.child.stateNode;break;case 1:ee=te.child.stateNode}try{commitCallbacks(ne,ee)}catch(oe){captureCommitPhaseError(te,te.return,oe)}}break;case 26:recursivelyTraverseLayoutEffects(ee,te),ne&512&&safelyAttachRef(te,te.return);break;case 27:case 5:recursivelyTraverseLayoutEffects(ee,te),$===null&&ne&4&&commitHostMount(te),ne&512&&safelyAttachRef(te,te.return);break;case 12:recursivelyTraverseLayoutEffects(ee,te);break;case 13:recursivelyTraverseLayoutEffects(ee,te),ne&4&&commitSuspenseHydrationCallbacks(ee,te);break;case 22:if(ie=te.memoizedState!==null||offscreenSubtreeIsHidden,!ie){$=$!==null&&$.memoizedState!==null||offscreenSubtreeWasHidden;var se=offscreenSubtreeIsHidden,le=offscreenSubtreeWasHidden;offscreenSubtreeIsHidden=ie,(offscreenSubtreeWasHidden=$)&&!le?recursivelyTraverseReappearLayoutEffects(ee,te,(te.subtreeFlags&8772)!==0):recursivelyTraverseLayoutEffects(ee,te),offscreenSubtreeIsHidden=se,offscreenSubtreeWasHidden=le}ne&512&&(te.memoizedProps.mode==="manual"?safelyAttachRef(te,te.return):safelyDetachRef(te,te.return));break;default:recursivelyTraverseLayoutEffects(ee,te)}}function detachFiberAfterEffects(ee){var $=ee.alternate;$!==null&&(ee.alternate=null,detachFiberAfterEffects($)),ee.child=null,ee.deletions=null,ee.sibling=null,ee.tag===5&&($=ee.stateNode,$!==null&&detachDeletedInstance($)),ee.stateNode=null,ee.return=null,ee.dependencies=null,ee.memoizedProps=null,ee.memoizedState=null,ee.pendingProps=null,ee.stateNode=null,ee.updateQueue=null}var hostParent=null,hostParentIsContainer=!1;function recursivelyTraverseDeletionEffects(ee,$,te){for(te=te.child;te!==null;)commitDeletionEffectsOnFiber(ee,$,te),te=te.sibling}function commitDeletionEffectsOnFiber(ee,$,te){if(injectedHook&&typeof injectedHook.onCommitFiberUnmount=="function")try{injectedHook.onCommitFiberUnmount(rendererID,te)}catch{}switch(te.tag){case 26:offscreenSubtreeWasHidden||safelyDetachRef(te,$),recursivelyTraverseDeletionEffects(ee,$,te),te.memoizedState?te.memoizedState.count--:te.stateNode&&(te=te.stateNode,te.parentNode.removeChild(te));break;case 27:offscreenSubtreeWasHidden||safelyDetachRef(te,$);var ne=hostParent,ie=hostParentIsContainer;for(hostParent=te.stateNode,recursivelyTraverseDeletionEffects(ee,$,te),te=te.stateNode,$=te.attributes;$.length;)te.removeAttributeNode($[0]);detachDeletedInstance(te),hostParent=ne,hostParentIsContainer=ie;break;case 5:offscreenSubtreeWasHidden||safelyDetachRef(te,$);case 6:ie=hostParent;var se=hostParentIsContainer;if(hostParent=null,recursivelyTraverseDeletionEffects(ee,$,te),hostParent=ie,hostParentIsContainer=se,hostParent!==null)if(hostParentIsContainer)try{ee=hostParent,ne=te.stateNode,ee.nodeType===8?ee.parentNode.removeChild(ne):ee.removeChild(ne)}catch(le){captureCommitPhaseError(te,$,le)}else try{hostParent.removeChild(te.stateNode)}catch(le){captureCommitPhaseError(te,$,le)}break;case 18:hostParent!==null&&(hostParentIsContainer?($=hostParent,te=te.stateNode,$.nodeType===8?clearSuspenseBoundary($.parentNode,te):$.nodeType===1&&clearSuspenseBoundary($,te),retryIfBlockedOn($)):clearSuspenseBoundary(hostParent,te.stateNode));break;case 4:ne=hostParent,ie=hostParentIsContainer,hostParent=te.stateNode.containerInfo,hostParentIsContainer=!0,recursivelyTraverseDeletionEffects(ee,$,te),hostParent=ne,hostParentIsContainer=ie;break;case 0:case 11:case 14:case 15:offscreenSubtreeWasHidden||commitHookEffectListUnmount(2,te,$),offscreenSubtreeWasHidden||commitHookEffectListUnmount(4,te,$),recursivelyTraverseDeletionEffects(ee,$,te);break;case 1:offscreenSubtreeWasHidden||(safelyDetachRef(te,$),ne=te.stateNode,typeof ne.componentWillUnmount=="function"&&safelyCallComponentWillUnmount(te,$,ne)),recursivelyTraverseDeletionEffects(ee,$,te);break;case 21:recursivelyTraverseDeletionEffects(ee,$,te);break;case 22:offscreenSubtreeWasHidden||safelyDetachRef(te,$),offscreenSubtreeWasHidden=(ne=offscreenSubtreeWasHidden)||te.memoizedState!==null,recursivelyTraverseDeletionEffects(ee,$,te),offscreenSubtreeWasHidden=ne;break;default:recursivelyTraverseDeletionEffects(ee,$,te)}}function commitSuspenseHydrationCallbacks(ee,$){if($.memoizedState===null&&(ee=$.alternate,ee!==null&&(ee=ee.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))))try{retryIfBlockedOn(ee)}catch(te){captureCommitPhaseError($,$.return,te)}}function getRetryCache(ee){switch(ee.tag){case 13:case 19:var $=ee.stateNode;return $===null&&($=ee.stateNode=new PossiblyWeakSet),$;case 22:return ee=ee.stateNode,$=ee._retryCache,$===null&&($=ee._retryCache=new PossiblyWeakSet),$;default:throw Error(formatProdErrorMessage(435,ee.tag))}}function attachSuspenseRetryListeners(ee,$){var te=getRetryCache(ee);$.forEach(function(ne){var ie=resolveRetryWakeable.bind(null,ee,ne);te.has(ne)||(te.add(ne),ne.then(ie,ie))})}function recursivelyTraverseMutationEffects(ee,$){var te=$.deletions;if(te!==null)for(var ne=0;ne<te.length;ne++){var ie=te[ne],se=ee,le=$,oe=le;e:for(;oe!==null;){switch(oe.tag){case 27:case 5:hostParent=oe.stateNode,hostParentIsContainer=!1;break e;case 3:hostParent=oe.stateNode.containerInfo,hostParentIsContainer=!0;break e;case 4:hostParent=oe.stateNode.containerInfo,hostParentIsContainer=!0;break e}oe=oe.return}if(hostParent===null)throw Error(formatProdErrorMessage(160));commitDeletionEffectsOnFiber(se,le,ie),hostParent=null,hostParentIsContainer=!1,se=ie.alternate,se!==null&&(se.return=null),ie.return=null}if($.subtreeFlags&13878)for($=$.child;$!==null;)commitMutationEffectsOnFiber($,ee),$=$.sibling}var currentHoistableRoot=null;function commitMutationEffectsOnFiber(ee,$){var te=ee.alternate,ne=ee.flags;switch(ee.tag){case 0:case 11:case 14:case 15:recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee),ne&4&&(commitHookEffectListUnmount(3,ee,ee.return),commitHookEffectListMount(3,ee),commitHookEffectListUnmount(5,ee,ee.return));break;case 1:recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee),ne&512&&(offscreenSubtreeWasHidden||te===null||safelyDetachRef(te,te.return)),ne&64&&offscreenSubtreeIsHidden&&(ee=ee.updateQueue,ee!==null&&(ne=ee.callbacks,ne!==null&&(te=ee.shared.hiddenCallbacks,ee.shared.hiddenCallbacks=te===null?ne:te.concat(ne))));break;case 26:var ie=currentHoistableRoot;if(recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee),ne&512&&(offscreenSubtreeWasHidden||te===null||safelyDetachRef(te,te.return)),ne&4){var se=te!==null?te.memoizedState:null;if(ne=ee.memoizedState,te===null)if(ne===null)if(ee.stateNode===null){e:{ne=ee.type,te=ee.memoizedProps,ie=ie.ownerDocument||ie;t:switch(ne){case"title":se=ie.getElementsByTagName("title")[0],(!se||se[internalHoistableMarker]||se[internalInstanceKey]||se.namespaceURI==="http://www.w3.org/2000/svg"||se.hasAttribute("itemprop"))&&(se=ie.createElement(ne),ie.head.insertBefore(se,ie.querySelector("head > title"))),setInitialProperties(se,ne,te),se[internalInstanceKey]=ee,markNodeAsHoistable(se),ne=se;break e;case"link":var le=getHydratableHoistableCache("link","href",ie).get(ne+(te.href||""));if(le){for(var oe=0;oe<le.length;oe++)if(se=le[oe],se.getAttribute("href")===(te.href==null?null:te.href)&&se.getAttribute("rel")===(te.rel==null?null:te.rel)&&se.getAttribute("title")===(te.title==null?null:te.title)&&se.getAttribute("crossorigin")===(te.crossOrigin==null?null:te.crossOrigin)){le.splice(oe,1);break t}}se=ie.createElement(ne),setInitialProperties(se,ne,te),ie.head.appendChild(se);break;case"meta":if(le=getHydratableHoistableCache("meta","content",ie).get(ne+(te.content||""))){for(oe=0;oe<le.length;oe++)if(se=le[oe],se.getAttribute("content")===(te.content==null?null:""+te.content)&&se.getAttribute("name")===(te.name==null?null:te.name)&&se.getAttribute("property")===(te.property==null?null:te.property)&&se.getAttribute("http-equiv")===(te.httpEquiv==null?null:te.httpEquiv)&&se.getAttribute("charset")===(te.charSet==null?null:te.charSet)){le.splice(oe,1);break t}}se=ie.createElement(ne),setInitialProperties(se,ne,te),ie.head.appendChild(se);break;default:throw Error(formatProdErrorMessage(468,ne))}se[internalInstanceKey]=ee,markNodeAsHoistable(se),ne=se}ee.stateNode=ne}else mountHoistable(ie,ee.type,ee.stateNode);else ee.stateNode=acquireResource(ie,ne,ee.memoizedProps);else se!==ne?(se===null?te.stateNode!==null&&(te=te.stateNode,te.parentNode.removeChild(te)):se.count--,ne===null?mountHoistable(ie,ee.type,ee.stateNode):acquireResource(ie,ne,ee.memoizedProps)):ne===null&&ee.stateNode!==null&&commitHostUpdate(ee,ee.memoizedProps,te.memoizedProps)}break;case 27:if(ne&4&&ee.alternate===null){ie=ee.stateNode,se=ee.memoizedProps;try{for(var ce=ie.firstChild;ce;){var ae=ce.nextSibling,he=ce.nodeName;ce[internalHoistableMarker]||he==="HEAD"||he==="BODY"||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&ce.rel.toLowerCase()==="stylesheet"||ie.removeChild(ce),ce=ae}for(var de=ee.type,pe=ie.attributes;pe.length;)ie.removeAttributeNode(pe[0]);setInitialProperties(ie,de,se),ie[internalInstanceKey]=ee,ie[internalPropsKey]=se}catch(Ae){captureCommitPhaseError(ee,ee.return,Ae)}}case 5:if(recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee),ne&512&&(offscreenSubtreeWasHidden||te===null||safelyDetachRef(te,te.return)),ee.flags&32){ie=ee.stateNode;try{setTextContent(ie,"")}catch(Ae){captureCommitPhaseError(ee,ee.return,Ae)}}ne&4&&ee.stateNode!=null&&(ie=ee.memoizedProps,commitHostUpdate(ee,ie,te!==null?te.memoizedProps:ie)),ne&1024&&(needsFormReset=!0);break;case 6:if(recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee),ne&4){if(ee.stateNode===null)throw Error(formatProdErrorMessage(162));ne=ee.memoizedProps,te=ee.stateNode;try{te.nodeValue=ne}catch(Ae){captureCommitPhaseError(ee,ee.return,Ae)}}break;case 3:if(tagCaches=null,ie=currentHoistableRoot,currentHoistableRoot=getHoistableRoot($.containerInfo),recursivelyTraverseMutationEffects($,ee),currentHoistableRoot=ie,commitReconciliationEffects(ee),ne&4&&te!==null&&te.memoizedState.isDehydrated)try{retryIfBlockedOn($.containerInfo)}catch(Ae){captureCommitPhaseError(ee,ee.return,Ae)}needsFormReset&&(needsFormReset=!1,recursivelyResetForms(ee));break;case 4:ne=currentHoistableRoot,currentHoistableRoot=getHoistableRoot(ee.stateNode.containerInfo),recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee),currentHoistableRoot=ne;break;case 12:recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee);break;case 13:recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee),ee.child.flags&8192&&ee.memoizedState!==null!=(te!==null&&te.memoizedState!==null)&&(globalMostRecentFallbackTime=now$2()),ne&4&&(ne=ee.updateQueue,ne!==null&&(ee.updateQueue=null,attachSuspenseRetryListeners(ee,ne)));break;case 22:if(ne&512&&(offscreenSubtreeWasHidden||te===null||safelyDetachRef(te,te.return)),ce=ee.memoizedState!==null,ae=te!==null&&te.memoizedState!==null,he=offscreenSubtreeIsHidden,de=offscreenSubtreeWasHidden,offscreenSubtreeIsHidden=he||ce,offscreenSubtreeWasHidden=de||ae,recursivelyTraverseMutationEffects($,ee),offscreenSubtreeWasHidden=de,offscreenSubtreeIsHidden=he,commitReconciliationEffects(ee),$=ee.stateNode,$._current=ee,$._visibility&=-3,$._visibility|=$._pendingVisibility&2,ne&8192&&($._visibility=ce?$._visibility&-2:$._visibility|1,ce&&($=offscreenSubtreeIsHidden||offscreenSubtreeWasHidden,te===null||ae||$||recursivelyTraverseDisappearLayoutEffects(ee)),ee.memoizedProps===null||ee.memoizedProps.mode!=="manual"))e:for(te=null,$=ee;;){if($.tag===5||$.tag===26||$.tag===27){if(te===null){ae=te=$;try{if(ie=ae.stateNode,ce)se=ie.style,typeof se.setProperty=="function"?se.setProperty("display","none","important"):se.display="none";else{le=ae.stateNode,oe=ae.memoizedProps.style;var re=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;le.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(Ae){captureCommitPhaseError(ae,ae.return,Ae)}}}else if($.tag===6){if(te===null){ae=$;try{ae.stateNode.nodeValue=ce?"":ae.memoizedProps}catch(Ae){captureCommitPhaseError(ae,ae.return,Ae)}}}else if(($.tag!==22&&$.tag!==23||$.memoizedState===null||$===ee)&&$.child!==null){$.child.return=$,$=$.child;continue}if($===ee)break e;for(;$.sibling===null;){if($.return===null||$.return===ee)break e;te===$&&(te=null),$=$.return}te===$&&(te=null),$.sibling.return=$.return,$=$.sibling}ne&4&&(ne=ee.updateQueue,ne!==null&&(te=ne.retryQueue,te!==null&&(ne.retryQueue=null,attachSuspenseRetryListeners(ee,te))));break;case 19:recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee),ne&4&&(ne=ee.updateQueue,ne!==null&&(ee.updateQueue=null,attachSuspenseRetryListeners(ee,ne)));break;case 21:break;default:recursivelyTraverseMutationEffects($,ee),commitReconciliationEffects(ee)}}function commitReconciliationEffects(ee){var $=ee.flags;if($&2){try{if(ee.tag!==27){e:{for(var te=ee.return;te!==null;){if(isHostParent(te)){var ne=te;break e}te=te.return}throw Error(formatProdErrorMessage(160))}switch(ne.tag){case 27:var ie=ne.stateNode,se=getHostSibling(ee);insertOrAppendPlacementNode(ee,se,ie);break;case 5:var le=ne.stateNode;ne.flags&32&&(setTextContent(le,""),ne.flags&=-33);var oe=getHostSibling(ee);insertOrAppendPlacementNode(ee,oe,le);break;case 3:case 4:var ce=ne.stateNode.containerInfo,ae=getHostSibling(ee);insertOrAppendPlacementNodeIntoContainer(ee,ae,ce);break;default:throw Error(formatProdErrorMessage(161))}}}catch(he){captureCommitPhaseError(ee,ee.return,he)}ee.flags&=-3}$&4096&&(ee.flags&=-4097)}function recursivelyResetForms(ee){if(ee.subtreeFlags&1024)for(ee=ee.child;ee!==null;){var $=ee;recursivelyResetForms($),$.tag===5&&$.flags&1024&&$.stateNode.reset(),ee=ee.sibling}}function recursivelyTraverseLayoutEffects(ee,$){if($.subtreeFlags&8772)for($=$.child;$!==null;)commitLayoutEffectOnFiber(ee,$.alternate,$),$=$.sibling}function recursivelyTraverseDisappearLayoutEffects(ee){for(ee=ee.child;ee!==null;){var $=ee;switch($.tag){case 0:case 11:case 14:case 15:commitHookEffectListUnmount(4,$,$.return),recursivelyTraverseDisappearLayoutEffects($);break;case 1:safelyDetachRef($,$.return);var te=$.stateNode;typeof te.componentWillUnmount=="function"&&safelyCallComponentWillUnmount($,$.return,te),recursivelyTraverseDisappearLayoutEffects($);break;case 26:case 27:case 5:safelyDetachRef($,$.return),recursivelyTraverseDisappearLayoutEffects($);break;case 22:safelyDetachRef($,$.return),$.memoizedState===null&&recursivelyTraverseDisappearLayoutEffects($);break;default:recursivelyTraverseDisappearLayoutEffects($)}ee=ee.sibling}}function recursivelyTraverseReappearLayoutEffects(ee,$,te){for(te=te&&($.subtreeFlags&8772)!==0,$=$.child;$!==null;){var ne=$.alternate,ie=ee,se=$,le=se.flags;switch(se.tag){case 0:case 11:case 15:recursivelyTraverseReappearLayoutEffects(ie,se,te),commitHookEffectListMount(4,se);break;case 1:if(recursivelyTraverseReappearLayoutEffects(ie,se,te),ne=se,ie=ne.stateNode,typeof ie.componentDidMount=="function")try{ie.componentDidMount()}catch(ae){captureCommitPhaseError(ne,ne.return,ae)}if(ne=se,ie=ne.updateQueue,ie!==null){var oe=ne.stateNode;try{var ce=ie.shared.hiddenCallbacks;if(ce!==null)for(ie.shared.hiddenCallbacks=null,ie=0;ie<ce.length;ie++)callCallback(ce[ie],oe)}catch(ae){captureCommitPhaseError(ne,ne.return,ae)}}te&&le&64&&commitClassCallbacks(se),safelyAttachRef(se,se.return);break;case 26:case 27:case 5:recursivelyTraverseReappearLayoutEffects(ie,se,te),te&&ne===null&&le&4&&commitHostMount(se),safelyAttachRef(se,se.return);break;case 12:recursivelyTraverseReappearLayoutEffects(ie,se,te);break;case 13:recursivelyTraverseReappearLayoutEffects(ie,se,te),te&&le&4&&commitSuspenseHydrationCallbacks(ie,se);break;case 22:se.memoizedState===null&&recursivelyTraverseReappearLayoutEffects(ie,se,te),safelyAttachRef(se,se.return);break;default:recursivelyTraverseReappearLayoutEffects(ie,se,te)}$=$.sibling}}function commitOffscreenPassiveMountEffects(ee,$){var te=null;ee!==null&&ee.memoizedState!==null&&ee.memoizedState.cachePool!==null&&(te=ee.memoizedState.cachePool.pool),ee=null,$.memoizedState!==null&&$.memoizedState.cachePool!==null&&(ee=$.memoizedState.cachePool.pool),ee!==te&&(ee!=null&&ee.refCount++,te!=null&&releaseCache(te))}function commitCachePassiveMountEffect(ee,$){ee=null,$.alternate!==null&&(ee=$.alternate.memoizedState.cache),$=$.memoizedState.cache,$!==ee&&($.refCount++,ee!=null&&releaseCache(ee))}function recursivelyTraversePassiveMountEffects(ee,$,te,ne){if($.subtreeFlags&10256)for($=$.child;$!==null;)commitPassiveMountOnFiber(ee,$,te,ne),$=$.sibling}function commitPassiveMountOnFiber(ee,$,te,ne){var ie=$.flags;switch($.tag){case 0:case 11:case 15:recursivelyTraversePassiveMountEffects(ee,$,te,ne),ie&2048&&commitHookEffectListMount(9,$);break;case 3:recursivelyTraversePassiveMountEffects(ee,$,te,ne),ie&2048&&(ee=null,$.alternate!==null&&(ee=$.alternate.memoizedState.cache),$=$.memoizedState.cache,$!==ee&&($.refCount++,ee!=null&&releaseCache(ee)));break;case 12:if(ie&2048){recursivelyTraversePassiveMountEffects(ee,$,te,ne),ee=$.stateNode;try{var se=$.memoizedProps,le=se.id,oe=se.onPostCommit;typeof oe=="function"&&oe(le,$.alternate===null?"mount":"update",ee.passiveEffectDuration,-0)}catch(ce){captureCommitPhaseError($,$.return,ce)}}else recursivelyTraversePassiveMountEffects(ee,$,te,ne);break;case 23:break;case 22:se=$.stateNode,$.memoizedState!==null?se._visibility&4?recursivelyTraversePassiveMountEffects(ee,$,te,ne):recursivelyTraverseAtomicPassiveEffects(ee,$):se._visibility&4?recursivelyTraversePassiveMountEffects(ee,$,te,ne):(se._visibility|=4,recursivelyTraverseReconnectPassiveEffects(ee,$,te,ne,($.subtreeFlags&10256)!==0)),ie&2048&&commitOffscreenPassiveMountEffects($.alternate,$);break;case 24:recursivelyTraversePassiveMountEffects(ee,$,te,ne),ie&2048&&commitCachePassiveMountEffect($.alternate,$);break;default:recursivelyTraversePassiveMountEffects(ee,$,te,ne)}}function recursivelyTraverseReconnectPassiveEffects(ee,$,te,ne,ie){for(ie=ie&&($.subtreeFlags&10256)!==0,$=$.child;$!==null;){var se=ee,le=$,oe=te,ce=ne,ae=le.flags;switch(le.tag){case 0:case 11:case 15:recursivelyTraverseReconnectPassiveEffects(se,le,oe,ce,ie),commitHookEffectListMount(8,le);break;case 23:break;case 22:var he=le.stateNode;le.memoizedState!==null?he._visibility&4?recursivelyTraverseReconnectPassiveEffects(se,le,oe,ce,ie):recursivelyTraverseAtomicPassiveEffects(se,le):(he._visibility|=4,recursivelyTraverseReconnectPassiveEffects(se,le,oe,ce,ie)),ie&&ae&2048&&commitOffscreenPassiveMountEffects(le.alternate,le);break;case 24:recursivelyTraverseReconnectPassiveEffects(se,le,oe,ce,ie),ie&&ae&2048&&commitCachePassiveMountEffect(le.alternate,le);break;default:recursivelyTraverseReconnectPassiveEffects(se,le,oe,ce,ie)}$=$.sibling}}function recursivelyTraverseAtomicPassiveEffects(ee,$){if($.subtreeFlags&10256)for($=$.child;$!==null;){var te=ee,ne=$,ie=ne.flags;switch(ne.tag){case 22:recursivelyTraverseAtomicPassiveEffects(te,ne),ie&2048&&commitOffscreenPassiveMountEffects(ne.alternate,ne);break;case 24:recursivelyTraverseAtomicPassiveEffects(te,ne),ie&2048&&commitCachePassiveMountEffect(ne.alternate,ne);break;default:recursivelyTraverseAtomicPassiveEffects(te,ne)}$=$.sibling}}var suspenseyCommitFlag=8192;function recursivelyAccumulateSuspenseyCommit(ee){if(ee.subtreeFlags&suspenseyCommitFlag)for(ee=ee.child;ee!==null;)accumulateSuspenseyCommitOnFiber(ee),ee=ee.sibling}function accumulateSuspenseyCommitOnFiber(ee){switch(ee.tag){case 26:recursivelyAccumulateSuspenseyCommit(ee),ee.flags&suspenseyCommitFlag&&ee.memoizedState!==null&&suspendResource(currentHoistableRoot,ee.memoizedState,ee.memoizedProps);break;case 5:recursivelyAccumulateSuspenseyCommit(ee);break;case 3:case 4:var $=currentHoistableRoot;currentHoistableRoot=getHoistableRoot(ee.stateNode.containerInfo),recursivelyAccumulateSuspenseyCommit(ee),currentHoistableRoot=$;break;case 22:ee.memoizedState===null&&($=ee.alternate,$!==null&&$.memoizedState!==null?($=suspenseyCommitFlag,suspenseyCommitFlag=16777216,recursivelyAccumulateSuspenseyCommit(ee),suspenseyCommitFlag=$):recursivelyAccumulateSuspenseyCommit(ee));break;default:recursivelyAccumulateSuspenseyCommit(ee)}}function detachAlternateSiblings(ee){var $=ee.alternate;if($!==null&&(ee=$.child,ee!==null)){$.child=null;do $=ee.sibling,ee.sibling=null,ee=$;while(ee!==null)}}function recursivelyTraversePassiveUnmountEffects(ee){var $=ee.deletions;if(ee.flags&16){if($!==null)for(var te=0;te<$.length;te++){var ne=$[te];nextEffect=ne,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(ne,ee)}detachAlternateSiblings(ee)}if(ee.subtreeFlags&10256)for(ee=ee.child;ee!==null;)commitPassiveUnmountOnFiber(ee),ee=ee.sibling}function commitPassiveUnmountOnFiber(ee){switch(ee.tag){case 0:case 11:case 15:recursivelyTraversePassiveUnmountEffects(ee),ee.flags&2048&&commitHookEffectListUnmount(9,ee,ee.return);break;case 3:recursivelyTraversePassiveUnmountEffects(ee);break;case 12:recursivelyTraversePassiveUnmountEffects(ee);break;case 22:var $=ee.stateNode;ee.memoizedState!==null&&$._visibility&4&&(ee.return===null||ee.return.tag!==13)?($._visibility&=-5,recursivelyTraverseDisconnectPassiveEffects(ee)):recursivelyTraversePassiveUnmountEffects(ee);break;default:recursivelyTraversePassiveUnmountEffects(ee)}}function recursivelyTraverseDisconnectPassiveEffects(ee){var $=ee.deletions;if(ee.flags&16){if($!==null)for(var te=0;te<$.length;te++){var ne=$[te];nextEffect=ne,commitPassiveUnmountEffectsInsideOfDeletedTree_begin(ne,ee)}detachAlternateSiblings(ee)}for(ee=ee.child;ee!==null;){switch($=ee,$.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,$,$.return),recursivelyTraverseDisconnectPassiveEffects($);break;case 22:te=$.stateNode,te._visibility&4&&(te._visibility&=-5,recursivelyTraverseDisconnectPassiveEffects($));break;default:recursivelyTraverseDisconnectPassiveEffects($)}ee=ee.sibling}}function commitPassiveUnmountEffectsInsideOfDeletedTree_begin(ee,$){for(;nextEffect!==null;){var te=nextEffect;switch(te.tag){case 0:case 11:case 15:commitHookEffectListUnmount(8,te,$);break;case 23:case 22:if(te.memoizedState!==null&&te.memoizedState.cachePool!==null){var ne=te.memoizedState.cachePool.pool;ne!=null&&ne.refCount++}break;case 24:releaseCache(te.memoizedState.cache)}if(ne=te.child,ne!==null)ne.return=te,nextEffect=ne;else e:for(te=ee;nextEffect!==null;){ne=nextEffect;var ie=ne.sibling,se=ne.return;if(detachFiberAfterEffects(ne),ne===te){nextEffect=null;break e}if(ie!==null){ie.return=se,nextEffect=ie;break e}nextEffect=se}}}function FiberNode(ee,$,te,ne){this.tag=ee,this.key=te,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ne,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function createFiberImplClass(ee,$,te,ne){return new FiberNode(ee,$,te,ne)}function shouldConstruct(ee){return ee=ee.prototype,!(!ee||!ee.isReactComponent)}function createWorkInProgress(ee,$){var te=ee.alternate;return te===null?(te=createFiberImplClass(ee.tag,$,ee.key,ee.mode),te.elementType=ee.elementType,te.type=ee.type,te.stateNode=ee.stateNode,te.alternate=ee,ee.alternate=te):(te.pendingProps=$,te.type=ee.type,te.flags=0,te.subtreeFlags=0,te.deletions=null),te.flags=ee.flags&31457280,te.childLanes=ee.childLanes,te.lanes=ee.lanes,te.child=ee.child,te.memoizedProps=ee.memoizedProps,te.memoizedState=ee.memoizedState,te.updateQueue=ee.updateQueue,$=ee.dependencies,te.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},te.sibling=ee.sibling,te.index=ee.index,te.ref=ee.ref,te.refCleanup=ee.refCleanup,te}function resetWorkInProgress(ee,$){ee.flags&=31457282;var te=ee.alternate;return te===null?(ee.childLanes=0,ee.lanes=$,ee.child=null,ee.subtreeFlags=0,ee.memoizedProps=null,ee.memoizedState=null,ee.updateQueue=null,ee.dependencies=null,ee.stateNode=null):(ee.childLanes=te.childLanes,ee.lanes=te.lanes,ee.child=te.child,ee.subtreeFlags=0,ee.deletions=null,ee.memoizedProps=te.memoizedProps,ee.memoizedState=te.memoizedState,ee.updateQueue=te.updateQueue,ee.type=te.type,$=te.dependencies,ee.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext}),ee}function createFiberFromTypeAndProps(ee,$,te,ne,ie,se){var le=0;if(ne=ee,typeof ee=="function")shouldConstruct(ee)&&(le=1);else if(typeof ee=="string")le=isHostHoistableType(ee,te,contextStackCursor.current)?26:ee==="html"||ee==="head"||ee==="body"?27:5;else e:switch(ee){case REACT_FRAGMENT_TYPE$1:return createFiberFromFragment(te.children,ie,se,$);case REACT_STRICT_MODE_TYPE$1:le=8,ie|=24;break;case REACT_PROFILER_TYPE$1:return ee=createFiberImplClass(12,te,$,ie|2),ee.elementType=REACT_PROFILER_TYPE$1,ee.lanes=se,ee;case REACT_SUSPENSE_TYPE$1:return ee=createFiberImplClass(13,te,$,ie),ee.elementType=REACT_SUSPENSE_TYPE$1,ee.lanes=se,ee;case REACT_SUSPENSE_LIST_TYPE$1:return ee=createFiberImplClass(19,te,$,ie),ee.elementType=REACT_SUSPENSE_LIST_TYPE$1,ee.lanes=se,ee;case REACT_OFFSCREEN_TYPE$1:return createFiberFromOffscreen(te,ie,se,$);default:if(typeof ee=="object"&&ee!==null)switch(ee.$$typeof){case REACT_PROVIDER_TYPE:case REACT_CONTEXT_TYPE$1:le=10;break e;case REACT_CONSUMER_TYPE$1:le=9;break e;case REACT_FORWARD_REF_TYPE$1:le=11;break e;case REACT_MEMO_TYPE$1:le=14;break e;case REACT_LAZY_TYPE$1:le=16,ne=null;break e}le=29,te=Error(formatProdErrorMessage(130,ee===null?"null":typeof ee,"")),ne=null}return $=createFiberImplClass(le,te,$,ie),$.elementType=ee,$.type=ne,$.lanes=se,$}function createFiberFromFragment(ee,$,te,ne){return ee=createFiberImplClass(7,ee,ne,$),ee.lanes=te,ee}function createFiberFromOffscreen(ee,$,te,ne){ee=createFiberImplClass(22,ee,ne,$),ee.elementType=REACT_OFFSCREEN_TYPE$1,ee.lanes=te;var ie={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var se=ie._current;if(se===null)throw Error(formatProdErrorMessage(456));if(!(ie._pendingVisibility&2)){var le=enqueueConcurrentRenderForLane(se,2);le!==null&&(ie._pendingVisibility|=2,scheduleUpdateOnFiber(le,se,2))}},attach:function(){var se=ie._current;if(se===null)throw Error(formatProdErrorMessage(456));if(ie._pendingVisibility&2){var le=enqueueConcurrentRenderForLane(se,2);le!==null&&(ie._pendingVisibility&=-3,scheduleUpdateOnFiber(le,se,2))}}};return ee.stateNode=ie,ee}function createFiberFromText(ee,$,te){return ee=createFiberImplClass(6,ee,null,$),ee.lanes=te,ee}function createFiberFromPortal(ee,$,te){return $=createFiberImplClass(4,ee.children!==null?ee.children:[],ee.key,$),$.lanes=te,$.stateNode={containerInfo:ee.containerInfo,pendingChildren:null,implementation:ee.implementation},$}function markUpdate(ee){ee.flags|=4}function preloadResourceAndSuspendIfNeeded(ee,$){if($.type!=="stylesheet"||$.state.loading&4)ee.flags&=-16777217;else if(ee.flags|=16777216,!preloadResource($)){if($=suspenseHandlerStackCursor.current,$!==null&&((workInProgressRootRenderLanes&4194176)===workInProgressRootRenderLanes?shellBoundary!==null:(workInProgressRootRenderLanes&62914560)!==workInProgressRootRenderLanes&&!(workInProgressRootRenderLanes&536870912)||$!==shellBoundary))throw suspendedThenable=noopSuspenseyCommitThenable,SuspenseyCommitException;ee.flags|=8192}}function scheduleRetryEffect(ee,$){$!==null&&(ee.flags|=4),ee.flags&16384&&($=ee.tag!==22?claimNextRetryLane():536870912,ee.lanes|=$,workInProgressSuspendedRetryLanes|=$)}function cutOffTailIfNeeded(ee,$){if(!isHydrating)switch(ee.tailMode){case"hidden":$=ee.tail;for(var te=null;$!==null;)$.alternate!==null&&(te=$),$=$.sibling;te===null?ee.tail=null:te.sibling=null;break;case"collapsed":te=ee.tail;for(var ne=null;te!==null;)te.alternate!==null&&(ne=te),te=te.sibling;ne===null?$||ee.tail===null?ee.tail=null:ee.tail.sibling=null:ne.sibling=null}}function bubbleProperties(ee){var $=ee.alternate!==null&&ee.alternate.child===ee.child,te=0,ne=0;if($)for(var ie=ee.child;ie!==null;)te|=ie.lanes|ie.childLanes,ne|=ie.subtreeFlags&31457280,ne|=ie.flags&31457280,ie.return=ee,ie=ie.sibling;else for(ie=ee.child;ie!==null;)te|=ie.lanes|ie.childLanes,ne|=ie.subtreeFlags,ne|=ie.flags,ie.return=ee,ie=ie.sibling;return ee.subtreeFlags|=ne,ee.childLanes=te,$}function completeWork(ee,$,te){var ne=$.pendingProps;switch(popTreeContext($),$.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bubbleProperties($),null;case 1:return bubbleProperties($),null;case 3:return te=$.stateNode,ne=null,ee!==null&&(ne=ee.memoizedState.cache),$.memoizedState.cache!==ne&&($.flags|=2048),popProvider(CacheContext),popHostContainer(),te.pendingContext&&(te.context=te.pendingContext,te.pendingContext=null),(ee===null||ee.child===null)&&(popHydrationState($)?markUpdate($):ee===null||ee.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,hydrationErrors!==null&&(queueRecoverableErrors(hydrationErrors),hydrationErrors=null))),bubbleProperties($),null;case 26:return te=$.memoizedState,ee===null?(markUpdate($),te!==null?(bubbleProperties($),preloadResourceAndSuspendIfNeeded($,te)):(bubbleProperties($),$.flags&=-16777217)):te?te!==ee.memoizedState?(markUpdate($),bubbleProperties($),preloadResourceAndSuspendIfNeeded($,te)):(bubbleProperties($),$.flags&=-16777217):(ee.memoizedProps!==ne&&markUpdate($),bubbleProperties($),$.flags&=-16777217),null;case 27:popHostContext($),te=rootInstanceStackCursor.current;var ie=$.type;if(ee!==null&&$.stateNode!=null)ee.memoizedProps!==ne&&markUpdate($);else{if(!ne){if($.stateNode===null)throw Error(formatProdErrorMessage(166));return bubbleProperties($),null}ee=contextStackCursor.current,popHydrationState($)?prepareToHydrateHostInstance($):(ee=resolveSingletonInstance(ie,ne,te),$.stateNode=ee,markUpdate($))}return bubbleProperties($),null;case 5:if(popHostContext($),te=$.type,ee!==null&&$.stateNode!=null)ee.memoizedProps!==ne&&markUpdate($);else{if(!ne){if($.stateNode===null)throw Error(formatProdErrorMessage(166));return bubbleProperties($),null}if(ee=contextStackCursor.current,popHydrationState($))prepareToHydrateHostInstance($);else{switch(ie=getOwnerDocumentFromRootContainer(rootInstanceStackCursor.current),ee){case 1:ee=ie.createElementNS("http://www.w3.org/2000/svg",te);break;case 2:ee=ie.createElementNS("http://www.w3.org/1998/Math/MathML",te);break;default:switch(te){case"svg":ee=ie.createElementNS("http://www.w3.org/2000/svg",te);break;case"math":ee=ie.createElementNS("http://www.w3.org/1998/Math/MathML",te);break;case"script":ee=ie.createElement("div"),ee.innerHTML="<script><\/script>",ee=ee.removeChild(ee.firstChild);break;case"select":ee=typeof ne.is=="string"?ie.createElement("select",{is:ne.is}):ie.createElement("select"),ne.multiple?ee.multiple=!0:ne.size&&(ee.size=ne.size);break;default:ee=typeof ne.is=="string"?ie.createElement(te,{is:ne.is}):ie.createElement(te)}}ee[internalInstanceKey]=$,ee[internalPropsKey]=ne;e:for(ie=$.child;ie!==null;){if(ie.tag===5||ie.tag===6)ee.appendChild(ie.stateNode);else if(ie.tag!==4&&ie.tag!==27&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===$)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===$)break e;ie=ie.return}ie.sibling.return=ie.return,ie=ie.sibling}$.stateNode=ee;e:switch(setInitialProperties(ee,te,ne),te){case"button":case"input":case"select":case"textarea":ee=!!ne.autoFocus;break e;case"img":ee=!0;break e;default:ee=!1}ee&&markUpdate($)}}return bubbleProperties($),$.flags&=-16777217,null;case 6:if(ee&&$.stateNode!=null)ee.memoizedProps!==ne&&markUpdate($);else{if(typeof ne!="string"&&$.stateNode===null)throw Error(formatProdErrorMessage(166));if(ee=rootInstanceStackCursor.current,popHydrationState($)){if(ee=$.stateNode,te=$.memoizedProps,ne=null,ie=hydrationParentFiber,ie!==null)switch(ie.tag){case 27:case 5:ne=ie.memoizedProps}ee[internalInstanceKey]=$,ee=!!(ee.nodeValue===te||ne!==null&&ne.suppressHydrationWarning===!0||checkForUnmatchedText(ee.nodeValue,te)),ee||throwOnHydrationMismatch($)}else ee=getOwnerDocumentFromRootContainer(ee).createTextNode(ne),ee[internalInstanceKey]=$,$.stateNode=ee}return bubbleProperties($),null;case 13:if(ne=$.memoizedState,ee===null||ee.memoizedState!==null&&ee.memoizedState.dehydrated!==null){if(ie=popHydrationState($),ne!==null&&ne.dehydrated!==null){if(ee===null){if(!ie)throw Error(formatProdErrorMessage(318));if(ie=$.memoizedState,ie=ie!==null?ie.dehydrated:null,!ie)throw Error(formatProdErrorMessage(317));ie[internalInstanceKey]=$}else resetHydrationState(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;bubbleProperties($),ie=!1}else hydrationErrors!==null&&(queueRecoverableErrors(hydrationErrors),hydrationErrors=null),ie=!0;if(!ie)return $.flags&256?(popSuspenseHandler($),$):(popSuspenseHandler($),null)}if(popSuspenseHandler($),$.flags&128)return $.lanes=te,$;if(te=ne!==null,ee=ee!==null&&ee.memoizedState!==null,te){ne=$.child,ie=null,ne.alternate!==null&&ne.alternate.memoizedState!==null&&ne.alternate.memoizedState.cachePool!==null&&(ie=ne.alternate.memoizedState.cachePool.pool);var se=null;ne.memoizedState!==null&&ne.memoizedState.cachePool!==null&&(se=ne.memoizedState.cachePool.pool),se!==ie&&(ne.flags|=2048)}return te!==ee&&te&&($.child.flags|=8192),scheduleRetryEffect($,$.updateQueue),bubbleProperties($),null;case 4:return popHostContainer(),ee===null&&listenToAllSupportedEvents($.stateNode.containerInfo),bubbleProperties($),null;case 10:return popProvider($.type),bubbleProperties($),null;case 19:if(pop(suspenseStackCursor),ie=$.memoizedState,ie===null)return bubbleProperties($),null;if(ne=($.flags&128)!==0,se=ie.rendering,se===null)if(ne)cutOffTailIfNeeded(ie,!1);else{if(workInProgressRootExitStatus!==0||ee!==null&&ee.flags&128)for(ee=$.child;ee!==null;){if(se=findFirstSuspended(ee),se!==null){for($.flags|=128,cutOffTailIfNeeded(ie,!1),ee=se.updateQueue,$.updateQueue=ee,scheduleRetryEffect($,ee),$.subtreeFlags=0,ee=te,te=$.child;te!==null;)resetWorkInProgress(te,ee),te=te.sibling;return push(suspenseStackCursor,suspenseStackCursor.current&1|2),$.child}ee=ee.sibling}ie.tail!==null&&now$2()>workInProgressRootRenderTargetTime&&($.flags|=128,ne=!0,cutOffTailIfNeeded(ie,!1),$.lanes=4194304)}else{if(!ne)if(ee=findFirstSuspended(se),ee!==null){if($.flags|=128,ne=!0,ee=ee.updateQueue,$.updateQueue=ee,scheduleRetryEffect($,ee),cutOffTailIfNeeded(ie,!0),ie.tail===null&&ie.tailMode==="hidden"&&!se.alternate&&!isHydrating)return bubbleProperties($),null}else 2*now$2()-ie.renderingStartTime>workInProgressRootRenderTargetTime&&te!==536870912&&($.flags|=128,ne=!0,cutOffTailIfNeeded(ie,!1),$.lanes=4194304);ie.isBackwards?(se.sibling=$.child,$.child=se):(ee=ie.last,ee!==null?ee.sibling=se:$.child=se,ie.last=se)}return ie.tail!==null?($=ie.tail,ie.rendering=$,ie.tail=$.sibling,ie.renderingStartTime=now$2(),$.sibling=null,ee=suspenseStackCursor.current,push(suspenseStackCursor,ne?ee&1|2:ee&1),$):(bubbleProperties($),null);case 22:case 23:return popSuspenseHandler($),popHiddenContext(),ne=$.memoizedState!==null,ee!==null?ee.memoizedState!==null!==ne&&($.flags|=8192):ne&&($.flags|=8192),ne?te&536870912&&!($.flags&128)&&(bubbleProperties($),$.subtreeFlags&6&&($.flags|=8192)):bubbleProperties($),te=$.updateQueue,te!==null&&scheduleRetryEffect($,te.retryQueue),te=null,ee!==null&&ee.memoizedState!==null&&ee.memoizedState.cachePool!==null&&(te=ee.memoizedState.cachePool.pool),ne=null,$.memoizedState!==null&&$.memoizedState.cachePool!==null&&(ne=$.memoizedState.cachePool.pool),ne!==te&&($.flags|=2048),ee!==null&&pop(resumedCache),null;case 24:return te=null,ee!==null&&(te=ee.memoizedState.cache),$.memoizedState.cache!==te&&($.flags|=2048),popProvider(CacheContext),bubbleProperties($),null;case 25:return null}throw Error(formatProdErrorMessage(156,$.tag))}function unwindWork(ee,$){switch(popTreeContext($),$.tag){case 1:return ee=$.flags,ee&65536?($.flags=ee&-65537|128,$):null;case 3:return popProvider(CacheContext),popHostContainer(),ee=$.flags,ee&65536&&!(ee&128)?($.flags=ee&-65537|128,$):null;case 26:case 27:case 5:return popHostContext($),null;case 13:if(popSuspenseHandler($),ee=$.memoizedState,ee!==null&&ee.dehydrated!==null){if($.alternate===null)throw Error(formatProdErrorMessage(340));resetHydrationState()}return ee=$.flags,ee&65536?($.flags=ee&-65537|128,$):null;case 19:return pop(suspenseStackCursor),null;case 4:return popHostContainer(),null;case 10:return popProvider($.type),null;case 22:case 23:return popSuspenseHandler($),popHiddenContext(),ee!==null&&pop(resumedCache),ee=$.flags,ee&65536?($.flags=ee&-65537|128,$):null;case 24:return popProvider(CacheContext),null;case 25:return null;default:return null}}function unwindInterruptedWork(ee,$){switch(popTreeContext($),$.tag){case 3:popProvider(CacheContext),popHostContainer();break;case 26:case 27:case 5:popHostContext($);break;case 4:popHostContainer();break;case 13:popSuspenseHandler($);break;case 19:pop(suspenseStackCursor);break;case 10:popProvider($.type);break;case 22:case 23:popSuspenseHandler($),popHiddenContext(),ee!==null&&pop(resumedCache);break;case 24:popProvider(CacheContext)}}var DefaultAsyncDispatcher={getCacheForType:function(ee){var $=readContext(CacheContext),te=$.data.get(ee);return te===void 0&&(te=ee(),$.data.set(ee,te)),te}},PossiblyWeakMap=typeof WeakMap=="function"?WeakMap:Map,executionContext=0,workInProgressRoot=null,workInProgress=null,workInProgressRootRenderLanes=0,workInProgressSuspendedReason=0,workInProgressThrownValue=null,workInProgressRootDidSkipSuspendedSiblings=!1,workInProgressRootIsPrerendering=!1,workInProgressRootDidAttachPingListener=!1,entangledRenderLanes=0,workInProgressRootExitStatus=0,workInProgressRootSkippedLanes=0,workInProgressRootInterleavedUpdatedLanes=0,workInProgressRootPingedLanes=0,workInProgressDeferredLane=0,workInProgressSuspendedRetryLanes=0,workInProgressRootConcurrentErrors=null,workInProgressRootRecoverableErrors=null,workInProgressRootDidIncludeRecursiveRenderUpdate=!1,globalMostRecentFallbackTime=0,workInProgressRootRenderTargetTime=1/0,workInProgressTransitions=null,legacyErrorBoundariesThatAlreadyFailed=null,rootDoesHavePassiveEffects=!1,rootWithPendingPassiveEffects=null,pendingPassiveEffectsLanes=0,pendingPassiveEffectsRemainingLanes=0,pendingPassiveTransitions=null,nestedUpdateCount=0,rootWithNestedUpdates=null;function requestUpdateLane(){if(executionContext&2&&workInProgressRootRenderLanes!==0)return workInProgressRootRenderLanes&-workInProgressRootRenderLanes;if(ReactSharedInternals.T!==null){var ee=currentEntangledLane;return ee!==0?ee:requestTransitionLane()}return resolveUpdatePriority()}function requestDeferredLane(){workInProgressDeferredLane===0&&(workInProgressDeferredLane=!(workInProgressRootRenderLanes&536870912)||isHydrating?claimNextTransitionLane():536870912);var ee=suspenseHandlerStackCursor.current;return ee!==null&&(ee.flags|=32),workInProgressDeferredLane}function scheduleUpdateOnFiber(ee,$,te){(ee===workInProgressRoot&&workInProgressSuspendedReason===2||ee.cancelPendingCommit!==null)&&(prepareFreshStack(ee,0),markRootSuspended(ee,workInProgressRootRenderLanes,workInProgressDeferredLane,!1)),markRootUpdated$1(ee,te),(!(executionContext&2)||ee!==workInProgressRoot)&&(ee===workInProgressRoot&&(!(executionContext&2)&&(workInProgressRootInterleavedUpdatedLanes|=te),workInProgressRootExitStatus===4&&markRootSuspended(ee,workInProgressRootRenderLanes,workInProgressDeferredLane,!1)),ensureRootIsScheduled(ee))}function performWorkOnRoot(ee,$,te){if(executionContext&6)throw Error(formatProdErrorMessage(327));var ne=!te&&($&60)===0&&($&ee.expiredLanes)===0||checkIfRootIsPrerendering(ee,$),ie=ne?renderRootConcurrent(ee,$):renderRootSync(ee,$,!0),se=ne;do{if(ie===0){workInProgressRootIsPrerendering&&!ne&&markRootSuspended(ee,$,0,!1);break}else if(ie===6)markRootSuspended(ee,$,0,!workInProgressRootDidSkipSuspendedSiblings);else{if(te=ee.current.alternate,se&&!isRenderConsistentWithExternalStores(te)){ie=renderRootSync(ee,$,!1),se=!1;continue}if(ie===2){if(se=$,ee.errorRecoveryDisabledLanes&se)var le=0;else le=ee.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){$=le;e:{var oe=ee;ie=workInProgressRootConcurrentErrors;var ce=oe.current.memoizedState.isDehydrated;if(ce&&(prepareFreshStack(oe,le).flags|=256),le=renderRootSync(oe,le,!1),le!==2){if(workInProgressRootDidAttachPingListener&&!ce){oe.errorRecoveryDisabledLanes|=se,workInProgressRootInterleavedUpdatedLanes|=se,ie=4;break e}se=workInProgressRootRecoverableErrors,workInProgressRootRecoverableErrors=ie,se!==null&&queueRecoverableErrors(se)}ie=le}if(se=!1,ie!==2)continue}}if(ie===1){prepareFreshStack(ee,0),markRootSuspended(ee,$,0,!0);break}e:{switch(ne=ee,ie){case 0:case 1:throw Error(formatProdErrorMessage(345));case 4:if(($&4194176)===$){markRootSuspended(ne,$,workInProgressDeferredLane,!workInProgressRootDidSkipSuspendedSiblings);break e}break;case 2:workInProgressRootRecoverableErrors=null;break;case 3:case 5:break;default:throw Error(formatProdErrorMessage(329))}if(ne.finishedWork=te,ne.finishedLanes=$,($&62914560)===$&&(se=globalMostRecentFallbackTime+300-now$2(),10<se)){if(markRootSuspended(ne,$,workInProgressDeferredLane,!workInProgressRootDidSkipSuspendedSiblings),getNextLanes(ne,0)!==0)break e;ne.timeoutHandle=scheduleTimeout(commitRootWhenReady.bind(null,ne,te,workInProgressRootRecoverableErrors,workInProgressTransitions,workInProgressRootDidIncludeRecursiveRenderUpdate,$,workInProgressDeferredLane,workInProgressRootInterleavedUpdatedLanes,workInProgressSuspendedRetryLanes,workInProgressRootDidSkipSuspendedSiblings,2,-0,0),se);break e}commitRootWhenReady(ne,te,workInProgressRootRecoverableErrors,workInProgressTransitions,workInProgressRootDidIncludeRecursiveRenderUpdate,$,workInProgressDeferredLane,workInProgressRootInterleavedUpdatedLanes,workInProgressSuspendedRetryLanes,workInProgressRootDidSkipSuspendedSiblings,0,-0,0)}}break}while(!0);ensureRootIsScheduled(ee)}function queueRecoverableErrors(ee){workInProgressRootRecoverableErrors===null?workInProgressRootRecoverableErrors=ee:workInProgressRootRecoverableErrors.push.apply(workInProgressRootRecoverableErrors,ee)}function commitRootWhenReady(ee,$,te,ne,ie,se,le,oe,ce,ae,he,de,pe){var re=$.subtreeFlags;if((re&8192||(re&16785408)===16785408)&&(suspendedState={stylesheets:null,count:0,unsuspend:noop$4},accumulateSuspenseyCommitOnFiber($),$=waitForCommitToBeReady(),$!==null)){ee.cancelPendingCommit=$(commitRoot.bind(null,ee,te,ne,ie,le,oe,ce,1,de,pe)),markRootSuspended(ee,se,le,!ae);return}commitRoot(ee,te,ne,ie,le,oe,ce,he,de,pe)}function isRenderConsistentWithExternalStores(ee){for(var $=ee;;){var te=$.tag;if((te===0||te===11||te===15)&&$.flags&16384&&(te=$.updateQueue,te!==null&&(te=te.stores,te!==null)))for(var ne=0;ne<te.length;ne++){var ie=te[ne],se=ie.getSnapshot;ie=ie.value;try{if(!objectIs$2(se(),ie))return!1}catch{return!1}}if(te=$.child,$.subtreeFlags&16384&&te!==null)te.return=$,$=te;else{if($===ee)break;for(;$.sibling===null;){if($.return===null||$.return===ee)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function markRootSuspended(ee,$,te,ne){$&=~workInProgressRootPingedLanes,$&=~workInProgressRootInterleavedUpdatedLanes,ee.suspendedLanes|=$,ee.pingedLanes&=~$,ne&&(ee.warmLanes|=$),ne=ee.expirationTimes;for(var ie=$;0<ie;){var se=31-clz32(ie),le=1<<se;ne[se]=-1,ie&=~le}te!==0&&markSpawnedDeferredLane(ee,te,$)}function flushSyncWork$1(){return executionContext&6?!0:(flushSyncWorkAcrossRoots_impl(0),!1)}function resetWorkInProgressStack(){if(workInProgress!==null){if(workInProgressSuspendedReason===0)var ee=workInProgress.return;else ee=workInProgress,lastContextDependency=currentlyRenderingFiber=null,resetHooksOnUnwind(ee),thenableState$1=null,thenableIndexCounter$1=0,ee=workInProgress;for(;ee!==null;)unwindInterruptedWork(ee.alternate,ee),ee=ee.return;workInProgress=null}}function prepareFreshStack(ee,$){ee.finishedWork=null,ee.finishedLanes=0;var te=ee.timeoutHandle;te!==-1&&(ee.timeoutHandle=-1,cancelTimeout(te)),te=ee.cancelPendingCommit,te!==null&&(ee.cancelPendingCommit=null,te()),resetWorkInProgressStack(),workInProgressRoot=ee,workInProgress=te=createWorkInProgress(ee.current,null),workInProgressRootRenderLanes=$,workInProgressSuspendedReason=0,workInProgressThrownValue=null,workInProgressRootDidSkipSuspendedSiblings=!1,workInProgressRootIsPrerendering=checkIfRootIsPrerendering(ee,$),workInProgressRootDidAttachPingListener=!1,workInProgressSuspendedRetryLanes=workInProgressDeferredLane=workInProgressRootPingedLanes=workInProgressRootInterleavedUpdatedLanes=workInProgressRootSkippedLanes=workInProgressRootExitStatus=0,workInProgressRootRecoverableErrors=workInProgressRootConcurrentErrors=null,workInProgressRootDidIncludeRecursiveRenderUpdate=!1,$&8&&($|=$&32);var ne=ee.entangledLanes;if(ne!==0)for(ee=ee.entanglements,ne&=$;0<ne;){var ie=31-clz32(ne),se=1<<ie;$|=ee[ie],ne&=~se}return entangledRenderLanes=$,finishQueueingConcurrentUpdates(),te}function handleThrow(ee,$){currentlyRenderingFiber$1=null,ReactSharedInternals.H=ContextOnlyDispatcher,$===SuspenseException?($=getSuspendedThenable(),workInProgressSuspendedReason=3):$===SuspenseyCommitException?($=getSuspendedThenable(),workInProgressSuspendedReason=4):workInProgressSuspendedReason=$===SelectiveHydrationException?8:$!==null&&typeof $=="object"&&typeof $.then=="function"?6:1,workInProgressThrownValue=$,workInProgress===null&&(workInProgressRootExitStatus=1,logUncaughtError(ee,createCapturedValueAtFiber($,ee.current)))}function pushDispatcher(){var ee=ReactSharedInternals.H;return ReactSharedInternals.H=ContextOnlyDispatcher,ee===null?ContextOnlyDispatcher:ee}function pushAsyncDispatcher(){var ee=ReactSharedInternals.A;return ReactSharedInternals.A=DefaultAsyncDispatcher,ee}function renderDidSuspendDelayIfPossible(){workInProgressRootExitStatus=4,workInProgressRootDidSkipSuspendedSiblings||(workInProgressRootRenderLanes&4194176)!==workInProgressRootRenderLanes&&suspenseHandlerStackCursor.current!==null||(workInProgressRootIsPrerendering=!0),!(workInProgressRootSkippedLanes&134217727)&&!(workInProgressRootInterleavedUpdatedLanes&134217727)||workInProgressRoot===null||markRootSuspended(workInProgressRoot,workInProgressRootRenderLanes,workInProgressDeferredLane,!1)}function renderRootSync(ee,$,te){var ne=executionContext;executionContext|=2;var ie=pushDispatcher(),se=pushAsyncDispatcher();(workInProgressRoot!==ee||workInProgressRootRenderLanes!==$)&&(workInProgressTransitions=null,prepareFreshStack(ee,$)),$=!1;var le=workInProgressRootExitStatus;e:do try{if(workInProgressSuspendedReason!==0&&workInProgress!==null){var oe=workInProgress,ce=workInProgressThrownValue;switch(workInProgressSuspendedReason){case 8:resetWorkInProgressStack(),le=6;break e;case 3:case 2:case 6:suspenseHandlerStackCursor.current===null&&($=!0);var ae=workInProgressSuspendedReason;if(workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(ee,oe,ce,ae),te&&workInProgressRootIsPrerendering){le=0;break e}break;default:ae=workInProgressSuspendedReason,workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(ee,oe,ce,ae)}}workLoopSync(),le=workInProgressRootExitStatus;break}catch(he){handleThrow(ee,he)}while(!0);return $&&ee.shellSuspendCounter++,lastContextDependency=currentlyRenderingFiber=null,executionContext=ne,ReactSharedInternals.H=ie,ReactSharedInternals.A=se,workInProgress===null&&(workInProgressRoot=null,workInProgressRootRenderLanes=0,finishQueueingConcurrentUpdates()),le}function workLoopSync(){for(;workInProgress!==null;)performUnitOfWork(workInProgress)}function renderRootConcurrent(ee,$){var te=executionContext;executionContext|=2;var ne=pushDispatcher(),ie=pushAsyncDispatcher();workInProgressRoot!==ee||workInProgressRootRenderLanes!==$?(workInProgressTransitions=null,workInProgressRootRenderTargetTime=now$2()+500,prepareFreshStack(ee,$)):workInProgressRootIsPrerendering=checkIfRootIsPrerendering(ee,$);e:do try{if(workInProgressSuspendedReason!==0&&workInProgress!==null){$=workInProgress;var se=workInProgressThrownValue;t:switch(workInProgressSuspendedReason){case 1:workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(ee,$,se,1);break;case 2:if(isThenableResolved(se)){workInProgressSuspendedReason=0,workInProgressThrownValue=null,replaySuspendedUnitOfWork($);break}$=function(){workInProgressSuspendedReason===2&&workInProgressRoot===ee&&(workInProgressSuspendedReason=7),ensureRootIsScheduled(ee)},se.then($,$);break e;case 3:workInProgressSuspendedReason=7;break e;case 4:workInProgressSuspendedReason=5;break e;case 7:isThenableResolved(se)?(workInProgressSuspendedReason=0,workInProgressThrownValue=null,replaySuspendedUnitOfWork($)):(workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(ee,$,se,7));break;case 5:var le=null;switch(workInProgress.tag){case 26:le=workInProgress.memoizedState;case 5:case 27:var oe=workInProgress;if(!le||preloadResource(le)){workInProgressSuspendedReason=0,workInProgressThrownValue=null;var ce=oe.sibling;if(ce!==null)workInProgress=ce;else{var ae=oe.return;ae!==null?(workInProgress=ae,completeUnitOfWork(ae)):workInProgress=null}break t}}workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(ee,$,se,5);break;case 6:workInProgressSuspendedReason=0,workInProgressThrownValue=null,throwAndUnwindWorkLoop(ee,$,se,6);break;case 8:resetWorkInProgressStack(),workInProgressRootExitStatus=6;break e;default:throw Error(formatProdErrorMessage(462))}}workLoopConcurrent();break}catch(he){handleThrow(ee,he)}while(!0);return lastContextDependency=currentlyRenderingFiber=null,ReactSharedInternals.H=ne,ReactSharedInternals.A=ie,executionContext=te,workInProgress!==null?0:(workInProgressRoot=null,workInProgressRootRenderLanes=0,finishQueueingConcurrentUpdates(),workInProgressRootExitStatus)}function workLoopConcurrent(){for(;workInProgress!==null&&!shouldYield();)performUnitOfWork(workInProgress)}function performUnitOfWork(ee){var $=beginWork(ee.alternate,ee,entangledRenderLanes);ee.memoizedProps=ee.pendingProps,$===null?completeUnitOfWork(ee):workInProgress=$}function replaySuspendedUnitOfWork(ee){var $=ee,te=$.alternate;switch($.tag){case 15:case 0:$=replayFunctionComponent(te,$,$.pendingProps,$.type,void 0,workInProgressRootRenderLanes);break;case 11:$=replayFunctionComponent(te,$,$.pendingProps,$.type.render,$.ref,workInProgressRootRenderLanes);break;case 5:resetHooksOnUnwind($);default:unwindInterruptedWork(te,$),$=workInProgress=resetWorkInProgress($,entangledRenderLanes),$=beginWork(te,$,entangledRenderLanes)}ee.memoizedProps=ee.pendingProps,$===null?completeUnitOfWork(ee):workInProgress=$}function throwAndUnwindWorkLoop(ee,$,te,ne){lastContextDependency=currentlyRenderingFiber=null,resetHooksOnUnwind($),thenableState$1=null,thenableIndexCounter$1=0;var ie=$.return;try{if(throwException(ee,ie,$,te,workInProgressRootRenderLanes)){workInProgressRootExitStatus=1,logUncaughtError(ee,createCapturedValueAtFiber(te,ee.current)),workInProgress=null;return}}catch(se){if(ie!==null)throw workInProgress=ie,se;workInProgressRootExitStatus=1,logUncaughtError(ee,createCapturedValueAtFiber(te,ee.current)),workInProgress=null;return}$.flags&32768?(isHydrating||ne===1?ee=!0:workInProgressRootIsPrerendering||workInProgressRootRenderLanes&536870912?ee=!1:(workInProgressRootDidSkipSuspendedSiblings=ee=!0,(ne===2||ne===3||ne===6)&&(ne=suspenseHandlerStackCursor.current,ne!==null&&ne.tag===13&&(ne.flags|=16384))),unwindUnitOfWork($,ee)):completeUnitOfWork($)}function completeUnitOfWork(ee){var $=ee;do{if($.flags&32768){unwindUnitOfWork($,workInProgressRootDidSkipSuspendedSiblings);return}ee=$.return;var te=completeWork($.alternate,$,entangledRenderLanes);if(te!==null){workInProgress=te;return}if($=$.sibling,$!==null){workInProgress=$;return}workInProgress=$=ee}while($!==null);workInProgressRootExitStatus===0&&(workInProgressRootExitStatus=5)}function unwindUnitOfWork(ee,$){do{var te=unwindWork(ee.alternate,ee);if(te!==null){te.flags&=32767,workInProgress=te;return}if(te=ee.return,te!==null&&(te.flags|=32768,te.subtreeFlags=0,te.deletions=null),!$&&(ee=ee.sibling,ee!==null)){workInProgress=ee;return}workInProgress=ee=te}while(ee!==null);workInProgressRootExitStatus=6,workInProgress=null}function commitRoot(ee,$,te,ne,ie,se,le,oe,ce,ae){var he=ReactSharedInternals.T,de=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=2,ReactSharedInternals.T=null,commitRootImpl(ee,$,te,ne,de,ie,se,le,oe,ce,ae)}finally{ReactSharedInternals.T=he,ReactDOMSharedInternals.p=de}}function commitRootImpl(ee,$,te,ne,ie,se,le,oe){do flushPassiveEffects();while(rootWithPendingPassiveEffects!==null);if(executionContext&6)throw Error(formatProdErrorMessage(327));var ce=ee.finishedWork;if(ne=ee.finishedLanes,ce===null)return null;if(ee.finishedWork=null,ee.finishedLanes=0,ce===ee.current)throw Error(formatProdErrorMessage(177));ee.callbackNode=null,ee.callbackPriority=0,ee.cancelPendingCommit=null;var ae=ce.lanes|ce.childLanes;if(ae|=concurrentlyUpdatedLanes,markRootFinished(ee,ne,ae,se,le,oe),ee===workInProgressRoot&&(workInProgress=workInProgressRoot=null,workInProgressRootRenderLanes=0),!(ce.subtreeFlags&10256)&&!(ce.flags&10256)||rootDoesHavePassiveEffects||(rootDoesHavePassiveEffects=!0,pendingPassiveEffectsRemainingLanes=ae,pendingPassiveTransitions=te,scheduleCallback$1(NormalPriority$1,function(){return flushPassiveEffects(),null})),te=(ce.flags&15990)!==0,ce.subtreeFlags&15990||te?(te=ReactSharedInternals.T,ReactSharedInternals.T=null,se=ReactDOMSharedInternals.p,ReactDOMSharedInternals.p=2,le=executionContext,executionContext|=4,commitBeforeMutationEffects(ee,ce),commitMutationEffectsOnFiber(ce,ee),restoreSelection(selectionInformation,ee.containerInfo),_enabled=!!eventsEnabled,selectionInformation=eventsEnabled=null,ee.current=ce,commitLayoutEffectOnFiber(ee,ce.alternate,ce),requestPaint(),executionContext=le,ReactDOMSharedInternals.p=se,ReactSharedInternals.T=te):ee.current=ce,rootDoesHavePassiveEffects?(rootDoesHavePassiveEffects=!1,rootWithPendingPassiveEffects=ee,pendingPassiveEffectsLanes=ne):releaseRootPooledCache(ee,ae),ae=ee.pendingLanes,ae===0&&(legacyErrorBoundariesThatAlreadyFailed=null),onCommitRoot(ce.stateNode),ensureRootIsScheduled(ee),$!==null)for(ie=ee.onRecoverableError,ce=0;ce<$.length;ce++)ae=$[ce],ie(ae.value,{componentStack:ae.stack});return pendingPassiveEffectsLanes&3&&flushPassiveEffects(),ae=ee.pendingLanes,ne&4194218&&ae&42?ee===rootWithNestedUpdates?nestedUpdateCount++:(nestedUpdateCount=0,rootWithNestedUpdates=ee):nestedUpdateCount=0,flushSyncWorkAcrossRoots_impl(0),null}function releaseRootPooledCache(ee,$){(ee.pooledCacheLanes&=$)===0&&($=ee.pooledCache,$!=null&&(ee.pooledCache=null,releaseCache($)))}function flushPassiveEffects(){if(rootWithPendingPassiveEffects!==null){var ee=rootWithPendingPassiveEffects,$=pendingPassiveEffectsRemainingLanes;pendingPassiveEffectsRemainingLanes=0;var te=lanesToEventPriority(pendingPassiveEffectsLanes),ne=ReactSharedInternals.T,ie=ReactDOMSharedInternals.p;try{if(ReactDOMSharedInternals.p=32>te?32:te,ReactSharedInternals.T=null,rootWithPendingPassiveEffects===null)var se=!1;else{te=pendingPassiveTransitions,pendingPassiveTransitions=null;var le=rootWithPendingPassiveEffects,oe=pendingPassiveEffectsLanes;if(rootWithPendingPassiveEffects=null,pendingPassiveEffectsLanes=0,executionContext&6)throw Error(formatProdErrorMessage(331));var ce=executionContext;if(executionContext|=4,commitPassiveUnmountOnFiber(le.current),commitPassiveMountOnFiber(le,le.current,oe,te),executionContext=ce,flushSyncWorkAcrossRoots_impl(0,!1),injectedHook&&typeof injectedHook.onPostCommitFiberRoot=="function")try{injectedHook.onPostCommitFiberRoot(rendererID,le)}catch{}se=!0}return se}finally{ReactDOMSharedInternals.p=ie,ReactSharedInternals.T=ne,releaseRootPooledCache(ee,$)}}return!1}function captureCommitPhaseErrorOnRoot(ee,$,te){$=createCapturedValueAtFiber(te,$),$=createRootErrorUpdate(ee.stateNode,$,2),ee=enqueueUpdate(ee,$,2),ee!==null&&(markRootUpdated$1(ee,2),ensureRootIsScheduled(ee))}function captureCommitPhaseError(ee,$,te){if(ee.tag===3)captureCommitPhaseErrorOnRoot(ee,ee,te);else for(;$!==null;){if($.tag===3){captureCommitPhaseErrorOnRoot($,ee,te);break}else if($.tag===1){var ne=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof ne.componentDidCatch=="function"&&(legacyErrorBoundariesThatAlreadyFailed===null||!legacyErrorBoundariesThatAlreadyFailed.has(ne))){ee=createCapturedValueAtFiber(te,ee),te=createClassErrorUpdate(2),ne=enqueueUpdate($,te,2),ne!==null&&(initializeClassErrorUpdate(te,ne,$,ee),markRootUpdated$1(ne,2),ensureRootIsScheduled(ne));break}}$=$.return}}function attachPingListener(ee,$,te){var ne=ee.pingCache;if(ne===null){ne=ee.pingCache=new PossiblyWeakMap;var ie=new Set;ne.set($,ie)}else ie=ne.get($),ie===void 0&&(ie=new Set,ne.set($,ie));ie.has(te)||(workInProgressRootDidAttachPingListener=!0,ie.add(te),ee=pingSuspendedRoot.bind(null,ee,$,te),$.then(ee,ee))}function pingSuspendedRoot(ee,$,te){var ne=ee.pingCache;ne!==null&&ne.delete($),ee.pingedLanes|=ee.suspendedLanes&te,ee.warmLanes&=~te,workInProgressRoot===ee&&(workInProgressRootRenderLanes&te)===te&&(workInProgressRootExitStatus===4||workInProgressRootExitStatus===3&&(workInProgressRootRenderLanes&62914560)===workInProgressRootRenderLanes&&300>now$2()-globalMostRecentFallbackTime?!(executionContext&2)&&prepareFreshStack(ee,0):workInProgressRootPingedLanes|=te,workInProgressSuspendedRetryLanes===workInProgressRootRenderLanes&&(workInProgressSuspendedRetryLanes=0)),ensureRootIsScheduled(ee)}function retryTimedOutBoundary(ee,$){$===0&&($=claimNextRetryLane()),ee=enqueueConcurrentRenderForLane(ee,$),ee!==null&&(markRootUpdated$1(ee,$),ensureRootIsScheduled(ee))}function retryDehydratedSuspenseBoundary(ee){var $=ee.memoizedState,te=0;$!==null&&(te=$.retryLane),retryTimedOutBoundary(ee,te)}function resolveRetryWakeable(ee,$){var te=0;switch(ee.tag){case 13:var ne=ee.stateNode,ie=ee.memoizedState;ie!==null&&(te=ie.retryLane);break;case 19:ne=ee.stateNode;break;case 22:ne=ee.stateNode._retryCache;break;default:throw Error(formatProdErrorMessage(314))}ne!==null&&ne.delete($),retryTimedOutBoundary(ee,te)}function scheduleCallback$1(ee,$){return scheduleCallback$3(ee,$)}var firstScheduledRoot=null,lastScheduledRoot=null,didScheduleMicrotask=!1,mightHavePendingSyncWork=!1,isFlushingWork=!1,currentEventTransitionLane=0;function ensureRootIsScheduled(ee){ee!==lastScheduledRoot&&ee.next===null&&(lastScheduledRoot===null?firstScheduledRoot=lastScheduledRoot=ee:lastScheduledRoot=lastScheduledRoot.next=ee),mightHavePendingSyncWork=!0,didScheduleMicrotask||(didScheduleMicrotask=!0,scheduleImmediateTask(processRootScheduleInMicrotask))}function flushSyncWorkAcrossRoots_impl(ee,$){if(!isFlushingWork&&mightHavePendingSyncWork){isFlushingWork=!0;do for(var te=!1,ne=firstScheduledRoot;ne!==null;){if(ee!==0){var ie=ne.pendingLanes;if(ie===0)var se=0;else{var le=ne.suspendedLanes,oe=ne.pingedLanes;se=(1<<31-clz32(42|ee)+1)-1,se&=ie&~(le&~oe),se=se&201326677?se&201326677|1:se?se|2:0}se!==0&&(te=!0,performSyncWorkOnRoot(ne,se))}else se=workInProgressRootRenderLanes,se=getNextLanes(ne,ne===workInProgressRoot?se:0),!(se&3)||checkIfRootIsPrerendering(ne,se)||(te=!0,performSyncWorkOnRoot(ne,se));ne=ne.next}while(te);isFlushingWork=!1}}function processRootScheduleInMicrotask(){mightHavePendingSyncWork=didScheduleMicrotask=!1;var ee=0;currentEventTransitionLane!==0&&(shouldAttemptEagerTransition()&&(ee=currentEventTransitionLane),currentEventTransitionLane=0);for(var $=now$2(),te=null,ne=firstScheduledRoot;ne!==null;){var ie=ne.next,se=scheduleTaskForRootDuringMicrotask(ne,$);se===0?(ne.next=null,te===null?firstScheduledRoot=ie:te.next=ie,ie===null&&(lastScheduledRoot=te)):(te=ne,(ee!==0||se&3)&&(mightHavePendingSyncWork=!0)),ne=ie}flushSyncWorkAcrossRoots_impl(ee)}function scheduleTaskForRootDuringMicrotask(ee,$){for(var te=ee.suspendedLanes,ne=ee.pingedLanes,ie=ee.expirationTimes,se=ee.pendingLanes&-62914561;0<se;){var le=31-clz32(se),oe=1<<le,ce=ie[le];ce===-1?(!(oe&te)||oe&ne)&&(ie[le]=computeExpirationTime(oe,$)):ce<=$&&(ee.expiredLanes|=oe),se&=~oe}if($=workInProgressRoot,te=workInProgressRootRenderLanes,te=getNextLanes(ee,ee===$?te:0),ne=ee.callbackNode,te===0||ee===$&&workInProgressSuspendedReason===2||ee.cancelPendingCommit!==null)return ne!==null&&ne!==null&&cancelCallback$1(ne),ee.callbackNode=null,ee.callbackPriority=0;if(!(te&3)||checkIfRootIsPrerendering(ee,te)){if($=te&-te,$===ee.callbackPriority)return $;switch(ne!==null&&cancelCallback$1(ne),lanesToEventPriority(te)){case 2:case 8:te=UserBlockingPriority;break;case 32:te=NormalPriority$1;break;case 268435456:te=IdlePriority;break;default:te=NormalPriority$1}return ne=performWorkOnRootViaSchedulerTask.bind(null,ee),te=scheduleCallback$3(te,ne),ee.callbackPriority=$,ee.callbackNode=te,$}return ne!==null&&ne!==null&&cancelCallback$1(ne),ee.callbackPriority=2,ee.callbackNode=null,2}function performWorkOnRootViaSchedulerTask(ee,$){var te=ee.callbackNode;if(flushPassiveEffects()&&ee.callbackNode!==te)return null;var ne=workInProgressRootRenderLanes;return ne=getNextLanes(ee,ee===workInProgressRoot?ne:0),ne===0?null:(performWorkOnRoot(ee,ne,$),scheduleTaskForRootDuringMicrotask(ee,now$2()),ee.callbackNode!=null&&ee.callbackNode===te?performWorkOnRootViaSchedulerTask.bind(null,ee):null)}function performSyncWorkOnRoot(ee,$){if(flushPassiveEffects())return null;performWorkOnRoot(ee,$,!0)}function scheduleImmediateTask(ee){scheduleMicrotask(function(){executionContext&6?scheduleCallback$3(ImmediatePriority,ee):ee()})}function requestTransitionLane(){return currentEventTransitionLane===0&&(currentEventTransitionLane=claimNextTransitionLane()),currentEventTransitionLane}function coerceFormActionProp(ee){return ee==null||typeof ee=="symbol"||typeof ee=="boolean"?null:typeof ee=="function"?ee:sanitizeURL(""+ee)}function createFormDataWithSubmitter(ee,$){var te=$.ownerDocument.createElement("input");return te.name=$.name,te.value=$.value,ee.id&&te.setAttribute("form",ee.id),$.parentNode.insertBefore(te,$),ee=new FormData(ee),te.parentNode.removeChild(te),ee}function extractEvents$1(ee,$,te,ne,ie){if($==="submit"&&te&&te.stateNode===ie){var se=coerceFormActionProp((ie[internalPropsKey]||null).action),le=ne.submitter;le&&($=($=le[internalPropsKey]||null)?coerceFormActionProp($.formAction):le.getAttribute("formAction"),$!==null&&(se=$,le=null));var oe=new SyntheticEvent("action","action",null,ne,ie);ee.push({event:oe,listeners:[{instance:null,listener:function(){if(ne.defaultPrevented){if(currentEventTransitionLane!==0){var ce=le?createFormDataWithSubmitter(ie,le):new FormData(ie);startHostTransition(te,{pending:!0,data:ce,method:ie.method,action:se},null,ce)}}else typeof se=="function"&&(oe.preventDefault(),ce=le?createFormDataWithSubmitter(ie,le):new FormData(ie),startHostTransition(te,{pending:!0,data:ce,method:ie.method,action:se},se,ce))},currentTarget:ie}]})}}for(var i$jscomp$inline_1439=0;i$jscomp$inline_1439<simpleEventPluginEvents.length;i$jscomp$inline_1439++){var eventName$jscomp$inline_1440=simpleEventPluginEvents[i$jscomp$inline_1439],domEventName$jscomp$inline_1441=eventName$jscomp$inline_1440.toLowerCase(),capitalizedEvent$jscomp$inline_1442=eventName$jscomp$inline_1440[0].toUpperCase()+eventName$jscomp$inline_1440.slice(1);registerSimpleEvent(domEventName$jscomp$inline_1441,"on"+capitalizedEvent$jscomp$inline_1442)}registerSimpleEvent(ANIMATION_END,"onAnimationEnd");registerSimpleEvent(ANIMATION_ITERATION,"onAnimationIteration");registerSimpleEvent(ANIMATION_START,"onAnimationStart");registerSimpleEvent("dblclick","onDoubleClick");registerSimpleEvent("focusin","onFocus");registerSimpleEvent("focusout","onBlur");registerSimpleEvent(TRANSITION_RUN,"onTransitionRun");registerSimpleEvent(TRANSITION_START,"onTransitionStart");registerSimpleEvent(TRANSITION_CANCEL,"onTransitionCancel");registerSimpleEvent(TRANSITION_END,"onTransitionEnd");registerDirectEvent("onMouseEnter",["mouseout","mouseover"]);registerDirectEvent("onMouseLeave",["mouseout","mouseover"]);registerDirectEvent("onPointerEnter",["pointerout","pointerover"]);registerDirectEvent("onPointerLeave",["pointerout","pointerover"]);registerTwoPhaseEvent("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));registerTwoPhaseEvent("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));registerTwoPhaseEvent("onBeforeInput",["compositionend","keypress","textInput","paste"]);registerTwoPhaseEvent("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));registerTwoPhaseEvent("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));registerTwoPhaseEvent("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mediaEventTypes="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nonDelegatedEvents=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mediaEventTypes));function processDispatchQueue(ee,$){$=($&4)!==0;for(var te=0;te<ee.length;te++){var ne=ee[te],ie=ne.event;ne=ne.listeners;e:{var se=void 0;if($)for(var le=ne.length-1;0<=le;le--){var oe=ne[le],ce=oe.instance,ae=oe.currentTarget;if(oe=oe.listener,ce!==se&&ie.isPropagationStopped())break e;se=oe,ie.currentTarget=ae;try{se(ie)}catch(he){reportGlobalError(he)}ie.currentTarget=null,se=ce}else for(le=0;le<ne.length;le++){if(oe=ne[le],ce=oe.instance,ae=oe.currentTarget,oe=oe.listener,ce!==se&&ie.isPropagationStopped())break e;se=oe,ie.currentTarget=ae;try{se(ie)}catch(he){reportGlobalError(he)}ie.currentTarget=null,se=ce}}}}function listenToNonDelegatedEvent(ee,$){var te=$[internalEventHandlersKey];te===void 0&&(te=$[internalEventHandlersKey]=new Set);var ne=ee+"__bubble";te.has(ne)||(addTrappedEventListener($,ee,2,!1),te.add(ne))}function listenToNativeEvent(ee,$,te){var ne=0;$&&(ne|=4),addTrappedEventListener(te,ee,ne,$)}var listeningMarker="_reactListening"+Math.random().toString(36).slice(2);function listenToAllSupportedEvents(ee){if(!ee[listeningMarker]){ee[listeningMarker]=!0,allNativeEvents.forEach(function(te){te!=="selectionchange"&&(nonDelegatedEvents.has(te)||listenToNativeEvent(te,!1,ee),listenToNativeEvent(te,!0,ee))});var $=ee.nodeType===9?ee:ee.ownerDocument;$===null||$[listeningMarker]||($[listeningMarker]=!0,listenToNativeEvent("selectionchange",!1,$))}}function addTrappedEventListener(ee,$,te,ne){switch(getEventPriority($)){case 2:var ie=dispatchDiscreteEvent;break;case 8:ie=dispatchContinuousEvent;break;default:ie=dispatchEvent}te=ie.bind(null,$,te,ee),ie=void 0,!passiveBrowserEventsSupported||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(ie=!0),ne?ie!==void 0?ee.addEventListener($,te,{capture:!0,passive:ie}):ee.addEventListener($,te,!0):ie!==void 0?ee.addEventListener($,te,{passive:ie}):ee.addEventListener($,te,!1)}function dispatchEventForPluginEventSystem(ee,$,te,ne,ie){var se=ne;if(!($&1)&&!($&2)&&ne!==null)e:for(;;){if(ne===null)return;var le=ne.tag;if(le===3||le===4){var oe=ne.stateNode.containerInfo;if(oe===ie||oe.nodeType===8&&oe.parentNode===ie)break;if(le===4)for(le=ne.return;le!==null;){var ce=le.tag;if((ce===3||ce===4)&&(ce=le.stateNode.containerInfo,ce===ie||ce.nodeType===8&&ce.parentNode===ie))return;le=le.return}for(;oe!==null;){if(le=getClosestInstanceFromNode(oe),le===null)return;if(ce=le.tag,ce===5||ce===6||ce===26||ce===27){ne=se=le;continue e}oe=oe.parentNode}}ne=ne.return}batchedUpdates$1(function(){var ae=se,he=getEventTarget(te),de=[];e:{var pe=topLevelEventsToReactNames.get(ee);if(pe!==void 0){var re=SyntheticEvent,Ae=ee;switch(ee){case"keypress":if(getEventCharCode(te)===0)break e;case"keydown":case"keyup":re=SyntheticKeyboardEvent;break;case"focusin":Ae="focus",re=SyntheticFocusEvent;break;case"focusout":Ae="blur",re=SyntheticFocusEvent;break;case"beforeblur":case"afterblur":re=SyntheticFocusEvent;break;case"click":if(te.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=SyntheticMouseEvent;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=SyntheticDragEvent;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=SyntheticTouchEvent;break;case ANIMATION_END:case ANIMATION_ITERATION:case ANIMATION_START:re=SyntheticAnimationEvent;break;case TRANSITION_END:re=SyntheticTransitionEvent;break;case"scroll":case"scrollend":re=SyntheticUIEvent;break;case"wheel":re=SyntheticWheelEvent;break;case"copy":case"cut":case"paste":re=SyntheticClipboardEvent;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=SyntheticPointerEvent;break;case"toggle":case"beforetoggle":re=SyntheticToggleEvent}var ge=($&4)!==0,Se=!ge&&(ee==="scroll"||ee==="scrollend"),fe=ge?pe!==null?pe+"Capture":null:pe;ge=[];for(var be=ae,xe;be!==null;){var ue=be;if(xe=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||xe===null||fe===null||(ue=getListener(be,fe),ue!=null&&ge.push(createDispatchListener(be,ue,xe))),Se)break;be=be.return}0<ge.length&&(pe=new re(pe,Ae,null,te,he),de.push({event:pe,listeners:ge}))}}if(!($&7)){e:{if(pe=ee==="mouseover"||ee==="pointerover",re=ee==="mouseout"||ee==="pointerout",pe&&te!==currentReplayingEvent&&(Ae=te.relatedTarget||te.fromElement)&&(getClosestInstanceFromNode(Ae)||Ae[internalContainerInstanceKey]))break e;if((re||pe)&&(pe=he.window===he?he:(pe=he.ownerDocument)?pe.defaultView||pe.parentWindow:window,re?(Ae=te.relatedTarget||te.toElement,re=ae,Ae=Ae?getClosestInstanceFromNode(Ae):null,Ae!==null&&(Se=getNearestMountedFiber(Ae),ge=Ae.tag,Ae!==Se||ge!==5&&ge!==27&&ge!==6)&&(Ae=null)):(re=null,Ae=ae),re!==Ae)){if(ge=SyntheticMouseEvent,ue="onMouseLeave",fe="onMouseEnter",be="mouse",(ee==="pointerout"||ee==="pointerover")&&(ge=SyntheticPointerEvent,ue="onPointerLeave",fe="onPointerEnter",be="pointer"),Se=re==null?pe:getNodeFromInstance(re),xe=Ae==null?pe:getNodeFromInstance(Ae),pe=new ge(ue,be+"leave",re,te,he),pe.target=Se,pe.relatedTarget=xe,ue=null,getClosestInstanceFromNode(he)===ae&&(ge=new ge(fe,be+"enter",Ae,te,he),ge.target=xe,ge.relatedTarget=Se,ue=ge),Se=ue,re&&Ae)t:{for(ge=re,fe=Ae,be=0,xe=ge;xe;xe=getParent(xe))be++;for(xe=0,ue=fe;ue;ue=getParent(ue))xe++;for(;0<be-xe;)ge=getParent(ge),be--;for(;0<xe-be;)fe=getParent(fe),xe--;for(;be--;){if(ge===fe||fe!==null&&ge===fe.alternate)break t;ge=getParent(ge),fe=getParent(fe)}ge=null}else ge=null;re!==null&&accumulateEnterLeaveListenersForEvent(de,pe,re,ge,!1),Ae!==null&&Se!==null&&accumulateEnterLeaveListenersForEvent(de,Se,Ae,ge,!0)}}e:{if(pe=ae?getNodeFromInstance(ae):window,re=pe.nodeName&&pe.nodeName.toLowerCase(),re==="select"||re==="input"&&pe.type==="file")var we=getTargetInstForChangeEvent;else if(isTextInputElement(pe))if(isInputEventSupported)we=getTargetInstForInputOrChangeEvent;else{we=getTargetInstForInputEventPolyfill;var Fe=handleEventsForInputEventPolyfill}else re=pe.nodeName,!re||re.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?ae&&isCustomElement(ae.elementType)&&(we=getTargetInstForChangeEvent):we=getTargetInstForClickEvent;if(we&&(we=we(ee,ae))){createAndAccumulateChangeEvent(de,we,te,he);break e}Fe&&Fe(ee,pe,ae),ee==="focusout"&&ae&&pe.type==="number"&&ae.memoizedProps.value!=null&&setDefaultValue(pe,"number",pe.value)}switch(Fe=ae?getNodeFromInstance(ae):window,ee){case"focusin":(isTextInputElement(Fe)||Fe.contentEditable==="true")&&(activeElement=Fe,activeElementInst=ae,lastSelection=null);break;case"focusout":lastSelection=activeElementInst=activeElement=null;break;case"mousedown":mouseDown=!0;break;case"contextmenu":case"mouseup":case"dragend":mouseDown=!1,constructSelectEvent(de,te,he);break;case"selectionchange":if(skipSelectionChangeEvent)break;case"keydown":case"keyup":constructSelectEvent(de,te,he)}var _e;if(canUseCompositionEvent)e:{switch(ee){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else isComposing?isFallbackCompositionEnd(ee,te)&&(Ee="onCompositionEnd"):ee==="keydown"&&te.keyCode===229&&(Ee="onCompositionStart");Ee&&(useFallbackCompositionData&&te.locale!=="ko"&&(isComposing||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&isComposing&&(_e=getData()):(root=he,startText="value"in root?root.value:root.textContent,isComposing=!0)),Fe=accumulateTwoPhaseListeners(ae,Ee),0<Fe.length&&(Ee=new SyntheticCompositionEvent(Ee,ee,null,te,he),de.push({event:Ee,listeners:Fe}),_e?Ee.data=_e:(_e=getDataFromCustomEvent(te),_e!==null&&(Ee.data=_e)))),(_e=canUseTextInputEvent?getNativeBeforeInputChars(ee,te):getFallbackBeforeInputChars(ee,te))&&(Ee=accumulateTwoPhaseListeners(ae,"onBeforeInput"),0<Ee.length&&(Fe=new SyntheticCompositionEvent("onBeforeInput","beforeinput",null,te,he),de.push({event:Fe,listeners:Ee}),Fe.data=_e)),extractEvents$1(de,ee,ae,te,he)}processDispatchQueue(de,$)})}function createDispatchListener(ee,$,te){return{instance:ee,listener:$,currentTarget:te}}function accumulateTwoPhaseListeners(ee,$){for(var te=$+"Capture",ne=[];ee!==null;){var ie=ee,se=ie.stateNode;ie=ie.tag,ie!==5&&ie!==26&&ie!==27||se===null||(ie=getListener(ee,te),ie!=null&&ne.unshift(createDispatchListener(ee,ie,se)),ie=getListener(ee,$),ie!=null&&ne.push(createDispatchListener(ee,ie,se))),ee=ee.return}return ne}function getParent(ee){if(ee===null)return null;do ee=ee.return;while(ee&&ee.tag!==5&&ee.tag!==27);return ee||null}function accumulateEnterLeaveListenersForEvent(ee,$,te,ne,ie){for(var se=$._reactName,le=[];te!==null&&te!==ne;){var oe=te,ce=oe.alternate,ae=oe.stateNode;if(oe=oe.tag,ce!==null&&ce===ne)break;oe!==5&&oe!==26&&oe!==27||ae===null||(ce=ae,ie?(ae=getListener(te,se),ae!=null&&le.unshift(createDispatchListener(te,ae,ce))):ie||(ae=getListener(te,se),ae!=null&&le.push(createDispatchListener(te,ae,ce)))),te=te.return}le.length!==0&&ee.push({event:$,listeners:le})}var NORMALIZE_NEWLINES_REGEX=/\r\n?/g,NORMALIZE_NULL_AND_REPLACEMENT_REGEX=/\u0000|\uFFFD/g;function normalizeMarkupForTextOrAttribute(ee){return(typeof ee=="string"?ee:""+ee).replace(NORMALIZE_NEWLINES_REGEX,`
`).replace(NORMALIZE_NULL_AND_REPLACEMENT_REGEX,"")}function checkForUnmatchedText(ee,$){return $=normalizeMarkupForTextOrAttribute($),normalizeMarkupForTextOrAttribute(ee)===$}function noop$1(){}function setProp(ee,$,te,ne,ie,se){switch(te){case"children":typeof ne=="string"?$==="body"||$==="textarea"&&ne===""||setTextContent(ee,ne):(typeof ne=="number"||typeof ne=="bigint")&&$!=="body"&&setTextContent(ee,""+ne);break;case"className":setValueForKnownAttribute(ee,"class",ne);break;case"tabIndex":setValueForKnownAttribute(ee,"tabindex",ne);break;case"dir":case"role":case"viewBox":case"width":case"height":setValueForKnownAttribute(ee,te,ne);break;case"style":setValueForStyles(ee,ne,se);break;case"data":if($!=="object"){setValueForKnownAttribute(ee,"data",ne);break}case"src":case"href":if(ne===""&&($!=="a"||te!=="href")){ee.removeAttribute(te);break}if(ne==null||typeof ne=="function"||typeof ne=="symbol"||typeof ne=="boolean"){ee.removeAttribute(te);break}ne=sanitizeURL(""+ne),ee.setAttribute(te,ne);break;case"action":case"formAction":if(typeof ne=="function"){ee.setAttribute(te,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof se=="function"&&(te==="formAction"?($!=="input"&&setProp(ee,$,"name",ie.name,ie,null),setProp(ee,$,"formEncType",ie.formEncType,ie,null),setProp(ee,$,"formMethod",ie.formMethod,ie,null),setProp(ee,$,"formTarget",ie.formTarget,ie,null)):(setProp(ee,$,"encType",ie.encType,ie,null),setProp(ee,$,"method",ie.method,ie,null),setProp(ee,$,"target",ie.target,ie,null)));if(ne==null||typeof ne=="symbol"||typeof ne=="boolean"){ee.removeAttribute(te);break}ne=sanitizeURL(""+ne),ee.setAttribute(te,ne);break;case"onClick":ne!=null&&(ee.onclick=noop$1);break;case"onScroll":ne!=null&&listenToNonDelegatedEvent("scroll",ee);break;case"onScrollEnd":ne!=null&&listenToNonDelegatedEvent("scrollend",ee);break;case"dangerouslySetInnerHTML":if(ne!=null){if(typeof ne!="object"||!("__html"in ne))throw Error(formatProdErrorMessage(61));if(te=ne.__html,te!=null){if(ie.children!=null)throw Error(formatProdErrorMessage(60));ee.innerHTML=te}}break;case"multiple":ee.multiple=ne&&typeof ne!="function"&&typeof ne!="symbol";break;case"muted":ee.muted=ne&&typeof ne!="function"&&typeof ne!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(ne==null||typeof ne=="function"||typeof ne=="boolean"||typeof ne=="symbol"){ee.removeAttribute("xlink:href");break}te=sanitizeURL(""+ne),ee.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",te);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":ne!=null&&typeof ne!="function"&&typeof ne!="symbol"?ee.setAttribute(te,""+ne):ee.removeAttribute(te);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":ne&&typeof ne!="function"&&typeof ne!="symbol"?ee.setAttribute(te,""):ee.removeAttribute(te);break;case"capture":case"download":ne===!0?ee.setAttribute(te,""):ne!==!1&&ne!=null&&typeof ne!="function"&&typeof ne!="symbol"?ee.setAttribute(te,ne):ee.removeAttribute(te);break;case"cols":case"rows":case"size":case"span":ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&!isNaN(ne)&&1<=ne?ee.setAttribute(te,ne):ee.removeAttribute(te);break;case"rowSpan":case"start":ne==null||typeof ne=="function"||typeof ne=="symbol"||isNaN(ne)?ee.removeAttribute(te):ee.setAttribute(te,ne);break;case"popover":listenToNonDelegatedEvent("beforetoggle",ee),listenToNonDelegatedEvent("toggle",ee),setValueForAttribute(ee,"popover",ne);break;case"xlinkActuate":setValueForNamespacedAttribute(ee,"http://www.w3.org/1999/xlink","xlink:actuate",ne);break;case"xlinkArcrole":setValueForNamespacedAttribute(ee,"http://www.w3.org/1999/xlink","xlink:arcrole",ne);break;case"xlinkRole":setValueForNamespacedAttribute(ee,"http://www.w3.org/1999/xlink","xlink:role",ne);break;case"xlinkShow":setValueForNamespacedAttribute(ee,"http://www.w3.org/1999/xlink","xlink:show",ne);break;case"xlinkTitle":setValueForNamespacedAttribute(ee,"http://www.w3.org/1999/xlink","xlink:title",ne);break;case"xlinkType":setValueForNamespacedAttribute(ee,"http://www.w3.org/1999/xlink","xlink:type",ne);break;case"xmlBase":setValueForNamespacedAttribute(ee,"http://www.w3.org/XML/1998/namespace","xml:base",ne);break;case"xmlLang":setValueForNamespacedAttribute(ee,"http://www.w3.org/XML/1998/namespace","xml:lang",ne);break;case"xmlSpace":setValueForNamespacedAttribute(ee,"http://www.w3.org/XML/1998/namespace","xml:space",ne);break;case"is":setValueForAttribute(ee,"is",ne);break;case"innerText":case"textContent":break;default:(!(2<te.length)||te[0]!=="o"&&te[0]!=="O"||te[1]!=="n"&&te[1]!=="N")&&(te=aliases$1.get(te)||te,setValueForAttribute(ee,te,ne))}}function setPropOnCustomElement(ee,$,te,ne,ie,se){switch(te){case"style":setValueForStyles(ee,ne,se);break;case"dangerouslySetInnerHTML":if(ne!=null){if(typeof ne!="object"||!("__html"in ne))throw Error(formatProdErrorMessage(61));if(te=ne.__html,te!=null){if(ie.children!=null)throw Error(formatProdErrorMessage(60));ee.innerHTML=te}}break;case"children":typeof ne=="string"?setTextContent(ee,ne):(typeof ne=="number"||typeof ne=="bigint")&&setTextContent(ee,""+ne);break;case"onScroll":ne!=null&&listenToNonDelegatedEvent("scroll",ee);break;case"onScrollEnd":ne!=null&&listenToNonDelegatedEvent("scrollend",ee);break;case"onClick":ne!=null&&(ee.onclick=noop$1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!registrationNameDependencies.hasOwnProperty(te))e:{if(te[0]==="o"&&te[1]==="n"&&(ie=te.endsWith("Capture"),$=te.slice(2,ie?te.length-7:void 0),se=ee[internalPropsKey]||null,se=se!=null?se[te]:null,typeof se=="function"&&ee.removeEventListener($,se,ie),typeof ne=="function")){typeof se!="function"&&se!==null&&(te in ee?ee[te]=null:ee.hasAttribute(te)&&ee.removeAttribute(te)),ee.addEventListener($,ne,ie);break e}te in ee?ee[te]=ne:ne===!0?ee.setAttribute(te,""):setValueForAttribute(ee,te,ne)}}}function setInitialProperties(ee,$,te){switch($){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":listenToNonDelegatedEvent("error",ee),listenToNonDelegatedEvent("load",ee);var ne=!1,ie=!1,se;for(se in te)if(te.hasOwnProperty(se)){var le=te[se];if(le!=null)switch(se){case"src":ne=!0;break;case"srcSet":ie=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,$));default:setProp(ee,$,se,le,te,null)}}ie&&setProp(ee,$,"srcSet",te.srcSet,te,null),ne&&setProp(ee,$,"src",te.src,te,null);return;case"input":listenToNonDelegatedEvent("invalid",ee);var oe=se=le=ie=null,ce=null,ae=null;for(ne in te)if(te.hasOwnProperty(ne)){var he=te[ne];if(he!=null)switch(ne){case"name":ie=he;break;case"type":le=he;break;case"checked":ce=he;break;case"defaultChecked":ae=he;break;case"value":se=he;break;case"defaultValue":oe=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(formatProdErrorMessage(137,$));break;default:setProp(ee,$,ne,he,te,null)}}initInput(ee,se,oe,ce,ae,le,ie,!1),track(ee);return;case"select":listenToNonDelegatedEvent("invalid",ee),ne=le=se=null;for(ie in te)if(te.hasOwnProperty(ie)&&(oe=te[ie],oe!=null))switch(ie){case"value":se=oe;break;case"defaultValue":le=oe;break;case"multiple":ne=oe;default:setProp(ee,$,ie,oe,te,null)}$=se,te=le,ee.multiple=!!ne,$!=null?updateOptions(ee,!!ne,$,!1):te!=null&&updateOptions(ee,!!ne,te,!0);return;case"textarea":listenToNonDelegatedEvent("invalid",ee),se=ie=ne=null;for(le in te)if(te.hasOwnProperty(le)&&(oe=te[le],oe!=null))switch(le){case"value":ne=oe;break;case"defaultValue":ie=oe;break;case"children":se=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(formatProdErrorMessage(91));break;default:setProp(ee,$,le,oe,te,null)}initTextarea(ee,ne,ie,se),track(ee);return;case"option":for(ce in te)if(te.hasOwnProperty(ce)&&(ne=te[ce],ne!=null))switch(ce){case"selected":ee.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:setProp(ee,$,ce,ne,te,null)}return;case"dialog":listenToNonDelegatedEvent("cancel",ee),listenToNonDelegatedEvent("close",ee);break;case"iframe":case"object":listenToNonDelegatedEvent("load",ee);break;case"video":case"audio":for(ne=0;ne<mediaEventTypes.length;ne++)listenToNonDelegatedEvent(mediaEventTypes[ne],ee);break;case"image":listenToNonDelegatedEvent("error",ee),listenToNonDelegatedEvent("load",ee);break;case"details":listenToNonDelegatedEvent("toggle",ee);break;case"embed":case"source":case"link":listenToNonDelegatedEvent("error",ee),listenToNonDelegatedEvent("load",ee);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in te)if(te.hasOwnProperty(ae)&&(ne=te[ae],ne!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(formatProdErrorMessage(137,$));default:setProp(ee,$,ae,ne,te,null)}return;default:if(isCustomElement($)){for(he in te)te.hasOwnProperty(he)&&(ne=te[he],ne!==void 0&&setPropOnCustomElement(ee,$,he,ne,te,void 0));return}}for(oe in te)te.hasOwnProperty(oe)&&(ne=te[oe],ne!=null&&setProp(ee,$,oe,ne,te,null))}function updateProperties(ee,$,te,ne){switch($){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var ie=null,se=null,le=null,oe=null,ce=null,ae=null,he=null;for(re in te){var de=te[re];if(te.hasOwnProperty(re)&&de!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":ce=de;default:ne.hasOwnProperty(re)||setProp(ee,$,re,null,ne,de)}}for(var pe in ne){var re=ne[pe];if(de=te[pe],ne.hasOwnProperty(pe)&&(re!=null||de!=null))switch(pe){case"type":se=re;break;case"name":ie=re;break;case"checked":ae=re;break;case"defaultChecked":he=re;break;case"value":le=re;break;case"defaultValue":oe=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(formatProdErrorMessage(137,$));break;default:re!==de&&setProp(ee,$,pe,re,ne,de)}}updateInput(ee,le,oe,ce,ae,he,se,ie);return;case"select":re=le=oe=pe=null;for(se in te)if(ce=te[se],te.hasOwnProperty(se)&&ce!=null)switch(se){case"value":break;case"multiple":re=ce;default:ne.hasOwnProperty(se)||setProp(ee,$,se,null,ne,ce)}for(ie in ne)if(se=ne[ie],ce=te[ie],ne.hasOwnProperty(ie)&&(se!=null||ce!=null))switch(ie){case"value":pe=se;break;case"defaultValue":oe=se;break;case"multiple":le=se;default:se!==ce&&setProp(ee,$,ie,se,ne,ce)}$=oe,te=le,ne=re,pe!=null?updateOptions(ee,!!te,pe,!1):!!ne!=!!te&&($!=null?updateOptions(ee,!!te,$,!0):updateOptions(ee,!!te,te?[]:"",!1));return;case"textarea":re=pe=null;for(oe in te)if(ie=te[oe],te.hasOwnProperty(oe)&&ie!=null&&!ne.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:setProp(ee,$,oe,null,ne,ie)}for(le in ne)if(ie=ne[le],se=te[le],ne.hasOwnProperty(le)&&(ie!=null||se!=null))switch(le){case"value":pe=ie;break;case"defaultValue":re=ie;break;case"children":break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(formatProdErrorMessage(91));break;default:ie!==se&&setProp(ee,$,le,ie,ne,se)}updateTextarea(ee,pe,re);return;case"option":for(var Ae in te)if(pe=te[Ae],te.hasOwnProperty(Ae)&&pe!=null&&!ne.hasOwnProperty(Ae))switch(Ae){case"selected":ee.selected=!1;break;default:setProp(ee,$,Ae,null,ne,pe)}for(ce in ne)if(pe=ne[ce],re=te[ce],ne.hasOwnProperty(ce)&&pe!==re&&(pe!=null||re!=null))switch(ce){case"selected":ee.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:setProp(ee,$,ce,pe,ne,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in te)pe=te[ge],te.hasOwnProperty(ge)&&pe!=null&&!ne.hasOwnProperty(ge)&&setProp(ee,$,ge,null,ne,pe);for(ae in ne)if(pe=ne[ae],re=te[ae],ne.hasOwnProperty(ae)&&pe!==re&&(pe!=null||re!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(formatProdErrorMessage(137,$));break;default:setProp(ee,$,ae,pe,ne,re)}return;default:if(isCustomElement($)){for(var Se in te)pe=te[Se],te.hasOwnProperty(Se)&&pe!==void 0&&!ne.hasOwnProperty(Se)&&setPropOnCustomElement(ee,$,Se,void 0,ne,pe);for(he in ne)pe=ne[he],re=te[he],!ne.hasOwnProperty(he)||pe===re||pe===void 0&&re===void 0||setPropOnCustomElement(ee,$,he,pe,ne,re);return}}for(var fe in te)pe=te[fe],te.hasOwnProperty(fe)&&pe!=null&&!ne.hasOwnProperty(fe)&&setProp(ee,$,fe,null,ne,pe);for(de in ne)pe=ne[de],re=te[de],!ne.hasOwnProperty(de)||pe===re||pe==null&&re==null||setProp(ee,$,de,pe,ne,re)}var eventsEnabled=null,selectionInformation=null;function getOwnerDocumentFromRootContainer(ee){return ee.nodeType===9?ee:ee.ownerDocument}function getOwnHostContext(ee){switch(ee){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function getChildHostContextProd(ee,$){if(ee===0)switch($){case"svg":return 1;case"math":return 2;default:return 0}return ee===1&&$==="foreignObject"?0:ee}function shouldSetTextContent(ee,$){return ee==="textarea"||ee==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.children=="bigint"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var currentPopstateTransitionEvent=null;function shouldAttemptEagerTransition(){var ee=window.event;return ee&&ee.type==="popstate"?ee===currentPopstateTransitionEvent?!1:(currentPopstateTransitionEvent=ee,!0):(currentPopstateTransitionEvent=null,!1)}var scheduleTimeout=typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout=typeof clearTimeout=="function"?clearTimeout:void 0,localPromise=typeof Promise=="function"?Promise:void 0,scheduleMicrotask=typeof queueMicrotask=="function"?queueMicrotask:typeof localPromise<"u"?function(ee){return localPromise.resolve(null).then(ee).catch(handleErrorInNextTick)}:scheduleTimeout;function handleErrorInNextTick(ee){setTimeout(function(){throw ee})}function clearSuspenseBoundary(ee,$){var te=$,ne=0;do{var ie=te.nextSibling;if(ee.removeChild(te),ie&&ie.nodeType===8)if(te=ie.data,te==="/$"){if(ne===0){ee.removeChild(ie),retryIfBlockedOn($);return}ne--}else te!=="$"&&te!=="$?"&&te!=="$!"||ne++;te=ie}while(te);retryIfBlockedOn($)}function clearContainerSparingly(ee){var $=ee.firstChild;for($&&$.nodeType===10&&($=$.nextSibling);$;){var te=$;switch($=$.nextSibling,te.nodeName){case"HTML":case"HEAD":case"BODY":clearContainerSparingly(te),detachDeletedInstance(te);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(te.rel.toLowerCase()==="stylesheet")continue}ee.removeChild(te)}}function canHydrateInstance(ee,$,te,ne){for(;ee.nodeType===1;){var ie=te;if(ee.nodeName.toLowerCase()!==$.toLowerCase()){if(!ne&&(ee.nodeName!=="INPUT"||ee.type!=="hidden"))break}else if(ne){if(!ee[internalHoistableMarker])switch($){case"meta":if(!ee.hasAttribute("itemprop"))break;return ee;case"link":if(se=ee.getAttribute("rel"),se==="stylesheet"&&ee.hasAttribute("data-precedence"))break;if(se!==ie.rel||ee.getAttribute("href")!==(ie.href==null?null:ie.href)||ee.getAttribute("crossorigin")!==(ie.crossOrigin==null?null:ie.crossOrigin)||ee.getAttribute("title")!==(ie.title==null?null:ie.title))break;return ee;case"style":if(ee.hasAttribute("data-precedence"))break;return ee;case"script":if(se=ee.getAttribute("src"),(se!==(ie.src==null?null:ie.src)||ee.getAttribute("type")!==(ie.type==null?null:ie.type)||ee.getAttribute("crossorigin")!==(ie.crossOrigin==null?null:ie.crossOrigin))&&se&&ee.hasAttribute("async")&&!ee.hasAttribute("itemprop"))break;return ee;default:return ee}}else if($==="input"&&ee.type==="hidden"){var se=ie.name==null?null:""+ie.name;if(ie.type==="hidden"&&ee.getAttribute("name")===se)return ee}else return ee;if(ee=getNextHydratable(ee.nextSibling),ee===null)break}return null}function canHydrateTextInstance(ee,$,te){if($==="")return null;for(;ee.nodeType!==3;)if((ee.nodeType!==1||ee.nodeName!=="INPUT"||ee.type!=="hidden")&&!te||(ee=getNextHydratable(ee.nextSibling),ee===null))return null;return ee}function getNextHydratable(ee){for(;ee!=null;ee=ee.nextSibling){var $=ee.nodeType;if($===1||$===3)break;if($===8){if($=ee.data,$==="$"||$==="$!"||$==="$?"||$==="F!"||$==="F")break;if($==="/$")return null}}return ee}function getParentSuspenseInstance(ee){ee=ee.previousSibling;for(var $=0;ee;){if(ee.nodeType===8){var te=ee.data;if(te==="$"||te==="$!"||te==="$?"){if($===0)return ee;$--}else te==="/$"&&$++}ee=ee.previousSibling}return null}function resolveSingletonInstance(ee,$,te){switch($=getOwnerDocumentFromRootContainer(te),ee){case"html":if(ee=$.documentElement,!ee)throw Error(formatProdErrorMessage(452));return ee;case"head":if(ee=$.head,!ee)throw Error(formatProdErrorMessage(453));return ee;case"body":if(ee=$.body,!ee)throw Error(formatProdErrorMessage(454));return ee;default:throw Error(formatProdErrorMessage(451))}}var preloadPropsMap=new Map,preconnectsSet=new Set;function getHoistableRoot(ee){return typeof ee.getRootNode=="function"?ee.getRootNode():ee.ownerDocument}var previousDispatcher=ReactDOMSharedInternals.d;ReactDOMSharedInternals.d={f:flushSyncWork,r:requestFormReset,D:prefetchDNS,C:preconnect,L:preload$1,m:preloadModule,X:preinitScript,S:preinitStyle,M:preinitModuleScript};function flushSyncWork(){var ee=previousDispatcher.f(),$=flushSyncWork$1();return ee||$}function requestFormReset(ee){var $=getInstanceFromNode(ee);$!==null&&$.tag===5&&$.type==="form"?requestFormReset$1($):previousDispatcher.r(ee)}var globalDocument=typeof document>"u"?null:document;function preconnectAs(ee,$,te){var ne=globalDocument;if(ne&&typeof $=="string"&&$){var ie=escapeSelectorAttributeValueInsideDoubleQuotes($);ie='link[rel="'+ee+'"][href="'+ie+'"]',typeof te=="string"&&(ie+='[crossorigin="'+te+'"]'),preconnectsSet.has(ie)||(preconnectsSet.add(ie),ee={rel:ee,crossOrigin:te,href:$},ne.querySelector(ie)===null&&($=ne.createElement("link"),setInitialProperties($,"link",ee),markNodeAsHoistable($),ne.head.appendChild($)))}}function prefetchDNS(ee){previousDispatcher.D(ee),preconnectAs("dns-prefetch",ee,null)}function preconnect(ee,$){previousDispatcher.C(ee,$),preconnectAs("preconnect",ee,$)}function preload$1(ee,$,te){previousDispatcher.L(ee,$,te);var ne=globalDocument;if(ne&&ee&&$){var ie='link[rel="preload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes($)+'"]';$==="image"&&te&&te.imageSrcSet?(ie+='[imagesrcset="'+escapeSelectorAttributeValueInsideDoubleQuotes(te.imageSrcSet)+'"]',typeof te.imageSizes=="string"&&(ie+='[imagesizes="'+escapeSelectorAttributeValueInsideDoubleQuotes(te.imageSizes)+'"]')):ie+='[href="'+escapeSelectorAttributeValueInsideDoubleQuotes(ee)+'"]';var se=ie;switch($){case"style":se=getStyleKey(ee);break;case"script":se=getScriptKey(ee)}preloadPropsMap.has(se)||(ee=assign$1({rel:"preload",href:$==="image"&&te&&te.imageSrcSet?void 0:ee,as:$},te),preloadPropsMap.set(se,ee),ne.querySelector(ie)!==null||$==="style"&&ne.querySelector(getStylesheetSelectorFromKey(se))||$==="script"&&ne.querySelector(getScriptSelectorFromKey(se))||($=ne.createElement("link"),setInitialProperties($,"link",ee),markNodeAsHoistable($),ne.head.appendChild($)))}}function preloadModule(ee,$){previousDispatcher.m(ee,$);var te=globalDocument;if(te&&ee){var ne=$&&typeof $.as=="string"?$.as:"script",ie='link[rel="modulepreload"][as="'+escapeSelectorAttributeValueInsideDoubleQuotes(ne)+'"][href="'+escapeSelectorAttributeValueInsideDoubleQuotes(ee)+'"]',se=ie;switch(ne){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":se=getScriptKey(ee)}if(!preloadPropsMap.has(se)&&(ee=assign$1({rel:"modulepreload",href:ee},$),preloadPropsMap.set(se,ee),te.querySelector(ie)===null)){switch(ne){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(te.querySelector(getScriptSelectorFromKey(se)))return}ne=te.createElement("link"),setInitialProperties(ne,"link",ee),markNodeAsHoistable(ne),te.head.appendChild(ne)}}}function preinitStyle(ee,$,te){previousDispatcher.S(ee,$,te);var ne=globalDocument;if(ne&&ee){var ie=getResourcesFromRoot(ne).hoistableStyles,se=getStyleKey(ee);$=$||"default";var le=ie.get(se);if(!le){var oe={loading:0,preload:null};if(le=ne.querySelector(getStylesheetSelectorFromKey(se)))oe.loading=5;else{ee=assign$1({rel:"stylesheet",href:ee,"data-precedence":$},te),(te=preloadPropsMap.get(se))&&adoptPreloadPropsForStylesheet(ee,te);var ce=le=ne.createElement("link");markNodeAsHoistable(ce),setInitialProperties(ce,"link",ee),ce._p=new Promise(function(ae,he){ce.onload=ae,ce.onerror=he}),ce.addEventListener("load",function(){oe.loading|=1}),ce.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,insertStylesheet(le,$,ne)}le={type:"stylesheet",instance:le,count:1,state:oe},ie.set(se,le)}}}function preinitScript(ee,$){previousDispatcher.X(ee,$);var te=globalDocument;if(te&&ee){var ne=getResourcesFromRoot(te).hoistableScripts,ie=getScriptKey(ee),se=ne.get(ie);se||(se=te.querySelector(getScriptSelectorFromKey(ie)),se||(ee=assign$1({src:ee,async:!0},$),($=preloadPropsMap.get(ie))&&adoptPreloadPropsForScript(ee,$),se=te.createElement("script"),markNodeAsHoistable(se),setInitialProperties(se,"link",ee),te.head.appendChild(se)),se={type:"script",instance:se,count:1,state:null},ne.set(ie,se))}}function preinitModuleScript(ee,$){previousDispatcher.M(ee,$);var te=globalDocument;if(te&&ee){var ne=getResourcesFromRoot(te).hoistableScripts,ie=getScriptKey(ee),se=ne.get(ie);se||(se=te.querySelector(getScriptSelectorFromKey(ie)),se||(ee=assign$1({src:ee,async:!0,type:"module"},$),($=preloadPropsMap.get(ie))&&adoptPreloadPropsForScript(ee,$),se=te.createElement("script"),markNodeAsHoistable(se),setInitialProperties(se,"link",ee),te.head.appendChild(se)),se={type:"script",instance:se,count:1,state:null},ne.set(ie,se))}}function getResource(ee,$,te,ne){var ie=(ie=rootInstanceStackCursor.current)?getHoistableRoot(ie):null;if(!ie)throw Error(formatProdErrorMessage(446));switch(ee){case"meta":case"title":return null;case"style":return typeof te.precedence=="string"&&typeof te.href=="string"?($=getStyleKey(te.href),te=getResourcesFromRoot(ie).hoistableStyles,ne=te.get($),ne||(ne={type:"style",instance:null,count:0,state:null},te.set($,ne)),ne):{type:"void",instance:null,count:0,state:null};case"link":if(te.rel==="stylesheet"&&typeof te.href=="string"&&typeof te.precedence=="string"){ee=getStyleKey(te.href);var se=getResourcesFromRoot(ie).hoistableStyles,le=se.get(ee);if(le||(ie=ie.ownerDocument||ie,le={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},se.set(ee,le),(se=ie.querySelector(getStylesheetSelectorFromKey(ee)))&&!se._p&&(le.instance=se,le.state.loading=5),preloadPropsMap.has(ee)||(te={rel:"preload",as:"style",href:te.href,crossOrigin:te.crossOrigin,integrity:te.integrity,media:te.media,hrefLang:te.hrefLang,referrerPolicy:te.referrerPolicy},preloadPropsMap.set(ee,te),se||preloadStylesheet(ie,ee,te,le.state))),$&&ne===null)throw Error(formatProdErrorMessage(528,""));return le}if($&&ne!==null)throw Error(formatProdErrorMessage(529,""));return null;case"script":return $=te.async,te=te.src,typeof te=="string"&&$&&typeof $!="function"&&typeof $!="symbol"?($=getScriptKey(te),te=getResourcesFromRoot(ie).hoistableScripts,ne=te.get($),ne||(ne={type:"script",instance:null,count:0,state:null},te.set($,ne)),ne):{type:"void",instance:null,count:0,state:null};default:throw Error(formatProdErrorMessage(444,ee))}}function getStyleKey(ee){return'href="'+escapeSelectorAttributeValueInsideDoubleQuotes(ee)+'"'}function getStylesheetSelectorFromKey(ee){return'link[rel="stylesheet"]['+ee+"]"}function stylesheetPropsFromRawProps(ee){return assign$1({},ee,{"data-precedence":ee.precedence,precedence:null})}function preloadStylesheet(ee,$,te,ne){ee.querySelector('link[rel="preload"][as="style"]['+$+"]")?ne.loading=1:($=ee.createElement("link"),ne.preload=$,$.addEventListener("load",function(){return ne.loading|=1}),$.addEventListener("error",function(){return ne.loading|=2}),setInitialProperties($,"link",te),markNodeAsHoistable($),ee.head.appendChild($))}function getScriptKey(ee){return'[src="'+escapeSelectorAttributeValueInsideDoubleQuotes(ee)+'"]'}function getScriptSelectorFromKey(ee){return"script[async]"+ee}function acquireResource(ee,$,te){if($.count++,$.instance===null)switch($.type){case"style":var ne=ee.querySelector('style[data-href~="'+escapeSelectorAttributeValueInsideDoubleQuotes(te.href)+'"]');if(ne)return $.instance=ne,markNodeAsHoistable(ne),ne;var ie=assign$1({},te,{"data-href":te.href,"data-precedence":te.precedence,href:null,precedence:null});return ne=(ee.ownerDocument||ee).createElement("style"),markNodeAsHoistable(ne),setInitialProperties(ne,"style",ie),insertStylesheet(ne,te.precedence,ee),$.instance=ne;case"stylesheet":ie=getStyleKey(te.href);var se=ee.querySelector(getStylesheetSelectorFromKey(ie));if(se)return $.state.loading|=4,$.instance=se,markNodeAsHoistable(se),se;ne=stylesheetPropsFromRawProps(te),(ie=preloadPropsMap.get(ie))&&adoptPreloadPropsForStylesheet(ne,ie),se=(ee.ownerDocument||ee).createElement("link"),markNodeAsHoistable(se);var le=se;return le._p=new Promise(function(oe,ce){le.onload=oe,le.onerror=ce}),setInitialProperties(se,"link",ne),$.state.loading|=4,insertStylesheet(se,te.precedence,ee),$.instance=se;case"script":return se=getScriptKey(te.src),(ie=ee.querySelector(getScriptSelectorFromKey(se)))?($.instance=ie,markNodeAsHoistable(ie),ie):(ne=te,(ie=preloadPropsMap.get(se))&&(ne=assign$1({},te),adoptPreloadPropsForScript(ne,ie)),ee=ee.ownerDocument||ee,ie=ee.createElement("script"),markNodeAsHoistable(ie),setInitialProperties(ie,"link",ne),ee.head.appendChild(ie),$.instance=ie);case"void":return null;default:throw Error(formatProdErrorMessage(443,$.type))}else $.type==="stylesheet"&&!($.state.loading&4)&&(ne=$.instance,$.state.loading|=4,insertStylesheet(ne,te.precedence,ee));return $.instance}function insertStylesheet(ee,$,te){for(var ne=te.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),ie=ne.length?ne[ne.length-1]:null,se=ie,le=0;le<ne.length;le++){var oe=ne[le];if(oe.dataset.precedence===$)se=oe;else if(se!==ie)break}se?se.parentNode.insertBefore(ee,se.nextSibling):($=te.nodeType===9?te.head:te,$.insertBefore(ee,$.firstChild))}function adoptPreloadPropsForStylesheet(ee,$){ee.crossOrigin==null&&(ee.crossOrigin=$.crossOrigin),ee.referrerPolicy==null&&(ee.referrerPolicy=$.referrerPolicy),ee.title==null&&(ee.title=$.title)}function adoptPreloadPropsForScript(ee,$){ee.crossOrigin==null&&(ee.crossOrigin=$.crossOrigin),ee.referrerPolicy==null&&(ee.referrerPolicy=$.referrerPolicy),ee.integrity==null&&(ee.integrity=$.integrity)}var tagCaches=null;function getHydratableHoistableCache(ee,$,te){if(tagCaches===null){var ne=new Map,ie=tagCaches=new Map;ie.set(te,ne)}else ie=tagCaches,ne=ie.get(te),ne||(ne=new Map,ie.set(te,ne));if(ne.has(ee))return ne;for(ne.set(ee,null),te=te.getElementsByTagName(ee),ie=0;ie<te.length;ie++){var se=te[ie];if(!(se[internalHoistableMarker]||se[internalInstanceKey]||ee==="link"&&se.getAttribute("rel")==="stylesheet")&&se.namespaceURI!=="http://www.w3.org/2000/svg"){var le=se.getAttribute($)||"";le=ee+le;var oe=ne.get(le);oe?oe.push(se):ne.set(le,[se])}}return ne}function mountHoistable(ee,$,te){ee=ee.ownerDocument||ee,ee.head.insertBefore(te,$==="title"?ee.querySelector("head > title"):null)}function isHostHoistableType(ee,$,te){if(te===1||$.itemProp!=null)return!1;switch(ee){case"meta":case"title":return!0;case"style":if(typeof $.precedence!="string"||typeof $.href!="string"||$.href==="")break;return!0;case"link":if(typeof $.rel!="string"||typeof $.href!="string"||$.href===""||$.onLoad||$.onError)break;switch($.rel){case"stylesheet":return ee=$.disabled,typeof $.precedence=="string"&&ee==null;default:return!0}case"script":if($.async&&typeof $.async!="function"&&typeof $.async!="symbol"&&!$.onLoad&&!$.onError&&$.src&&typeof $.src=="string")return!0}return!1}function preloadResource(ee){return!(ee.type==="stylesheet"&&!(ee.state.loading&3))}var suspendedState=null;function noop$4(){}function suspendResource(ee,$,te){if(suspendedState===null)throw Error(formatProdErrorMessage(475));var ne=suspendedState;if($.type==="stylesheet"&&(typeof te.media!="string"||matchMedia(te.media).matches!==!1)&&!($.state.loading&4)){if($.instance===null){var ie=getStyleKey(te.href),se=ee.querySelector(getStylesheetSelectorFromKey(ie));if(se){ee=se._p,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"&&(ne.count++,ne=onUnsuspend.bind(ne),ee.then(ne,ne)),$.state.loading|=4,$.instance=se,markNodeAsHoistable(se);return}se=ee.ownerDocument||ee,te=stylesheetPropsFromRawProps(te),(ie=preloadPropsMap.get(ie))&&adoptPreloadPropsForStylesheet(te,ie),se=se.createElement("link"),markNodeAsHoistable(se);var le=se;le._p=new Promise(function(oe,ce){le.onload=oe,le.onerror=ce}),setInitialProperties(se,"link",te),$.instance=se}ne.stylesheets===null&&(ne.stylesheets=new Map),ne.stylesheets.set($,ee),(ee=$.state.preload)&&!($.state.loading&3)&&(ne.count++,$=onUnsuspend.bind(ne),ee.addEventListener("load",$),ee.addEventListener("error",$))}}function waitForCommitToBeReady(){if(suspendedState===null)throw Error(formatProdErrorMessage(475));var ee=suspendedState;return ee.stylesheets&&ee.count===0&&insertSuspendedStylesheets(ee,ee.stylesheets),0<ee.count?function($){var te=setTimeout(function(){if(ee.stylesheets&&insertSuspendedStylesheets(ee,ee.stylesheets),ee.unsuspend){var ne=ee.unsuspend;ee.unsuspend=null,ne()}},6e4);return ee.unsuspend=$,function(){ee.unsuspend=null,clearTimeout(te)}}:null}function onUnsuspend(){if(this.count--,this.count===0){if(this.stylesheets)insertSuspendedStylesheets(this,this.stylesheets);else if(this.unsuspend){var ee=this.unsuspend;this.unsuspend=null,ee()}}}var precedencesByRoot=null;function insertSuspendedStylesheets(ee,$){ee.stylesheets=null,ee.unsuspend!==null&&(ee.count++,precedencesByRoot=new Map,$.forEach(insertStylesheetIntoRoot,ee),precedencesByRoot=null,onUnsuspend.call(ee))}function insertStylesheetIntoRoot(ee,$){if(!($.state.loading&4)){var te=precedencesByRoot.get(ee);if(te)var ne=te.get(null);else{te=new Map,precedencesByRoot.set(ee,te);for(var ie=ee.querySelectorAll("link[data-precedence],style[data-precedence]"),se=0;se<ie.length;se++){var le=ie[se];(le.nodeName==="LINK"||le.getAttribute("media")!=="not all")&&(te.set(le.dataset.precedence,le),ne=le)}ne&&te.set(null,ne)}ie=$.instance,le=ie.getAttribute("data-precedence"),se=te.get(le)||ne,se===ne&&te.set(null,ie),te.set(le,ie),this.count++,ne=onUnsuspend.bind(this),ie.addEventListener("load",ne),ie.addEventListener("error",ne),se?se.parentNode.insertBefore(ie,se.nextSibling):(ee=ee.nodeType===9?ee.head:ee,ee.insertBefore(ie,ee.firstChild)),$.state.loading|=4}}var HostTransitionContext={$$typeof:REACT_CONTEXT_TYPE$1,Provider:null,Consumer:null,_currentValue:sharedNotPendingObject,_currentValue2:sharedNotPendingObject,_threadCount:0};function FiberRootNode(ee,$,te,ne,ie,se,le,oe){this.tag=1,this.containerInfo=ee,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=createLaneMap(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=createLaneMap(0),this.hiddenUpdates=createLaneMap(null),this.identifierPrefix=ne,this.onUncaughtError=ie,this.onCaughtError=se,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function createFiberRoot(ee,$,te,ne,ie,se,le,oe,ce,ae,he,de){return ee=new FiberRootNode(ee,$,te,le,oe,ce,ae,de),$=1,se===!0&&($|=24),se=createFiberImplClass(3,null,null,$),ee.current=se,se.stateNode=ee,$=createCache$1(),$.refCount++,ee.pooledCache=$,$.refCount++,se.memoizedState={element:ne,isDehydrated:te,cache:$},initializeUpdateQueue(se),ee}function getContextForSubtree(ee){return ee?(ee=emptyContextObject,ee):emptyContextObject}function updateContainerImpl(ee,$,te,ne,ie,se){ie=getContextForSubtree(ie),ne.context===null?ne.context=ie:ne.pendingContext=ie,ne=createUpdate($),ne.payload={element:te},se=se===void 0?null:se,se!==null&&(ne.callback=se),te=enqueueUpdate(ee,ne,$),te!==null&&(scheduleUpdateOnFiber(te,ee,$),entangleTransitions(te,ee,$))}function markRetryLaneImpl(ee,$){if(ee=ee.memoizedState,ee!==null&&ee.dehydrated!==null){var te=ee.retryLane;ee.retryLane=te!==0&&te<$?te:$}}function markRetryLaneIfNotHydrated(ee,$){markRetryLaneImpl(ee,$),(ee=ee.alternate)&&markRetryLaneImpl(ee,$)}function attemptContinuousHydration(ee){if(ee.tag===13){var $=enqueueConcurrentRenderForLane(ee,67108864);$!==null&&scheduleUpdateOnFiber($,ee,67108864),markRetryLaneIfNotHydrated(ee,67108864)}}var _enabled=!0;function dispatchDiscreteEvent(ee,$,te,ne){var ie=ReactSharedInternals.T;ReactSharedInternals.T=null;var se=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=2,dispatchEvent(ee,$,te,ne)}finally{ReactDOMSharedInternals.p=se,ReactSharedInternals.T=ie}}function dispatchContinuousEvent(ee,$,te,ne){var ie=ReactSharedInternals.T;ReactSharedInternals.T=null;var se=ReactDOMSharedInternals.p;try{ReactDOMSharedInternals.p=8,dispatchEvent(ee,$,te,ne)}finally{ReactDOMSharedInternals.p=se,ReactSharedInternals.T=ie}}function dispatchEvent(ee,$,te,ne){if(_enabled){var ie=findInstanceBlockingEvent(ne);if(ie===null)dispatchEventForPluginEventSystem(ee,$,ne,return_targetInst,te),clearIfContinuousEvent(ee,ne);else if(queueIfContinuousEvent(ie,ee,$,te,ne))ne.stopPropagation();else if(clearIfContinuousEvent(ee,ne),$&4&&-1<discreteReplayableEvents.indexOf(ee)){for(;ie!==null;){var se=getInstanceFromNode(ie);if(se!==null)switch(se.tag){case 3:if(se=se.stateNode,se.current.memoizedState.isDehydrated){var le=getHighestPriorityLanes(se.pendingLanes);if(le!==0){var oe=se;for(oe.pendingLanes|=2,oe.entangledLanes|=2;le;){var ce=1<<31-clz32(le);oe.entanglements[1]|=ce,le&=~ce}ensureRootIsScheduled(se),!(executionContext&6)&&(workInProgressRootRenderTargetTime=now$2()+500,flushSyncWorkAcrossRoots_impl(0))}}break;case 13:oe=enqueueConcurrentRenderForLane(se,2),oe!==null&&scheduleUpdateOnFiber(oe,se,2),flushSyncWork$1(),markRetryLaneIfNotHydrated(se,2)}if(se=findInstanceBlockingEvent(ne),se===null&&dispatchEventForPluginEventSystem(ee,$,ne,return_targetInst,te),se===ie)break;ie=se}ie!==null&&ne.stopPropagation()}else dispatchEventForPluginEventSystem(ee,$,ne,null,te)}}function findInstanceBlockingEvent(ee){return ee=getEventTarget(ee),findInstanceBlockingTarget(ee)}var return_targetInst=null;function findInstanceBlockingTarget(ee){if(return_targetInst=null,ee=getClosestInstanceFromNode(ee),ee!==null){var $=getNearestMountedFiber(ee);if($===null)ee=null;else{var te=$.tag;if(te===13){if(ee=getSuspenseInstanceFromFiber($),ee!==null)return ee;ee=null}else if(te===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;ee=null}else $!==ee&&(ee=null)}}return return_targetInst=ee,null}function getEventPriority(ee){switch(ee){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(getCurrentPriorityLevel()){case ImmediatePriority:return 2;case UserBlockingPriority:return 8;case NormalPriority$1:case LowPriority:return 32;case IdlePriority:return 268435456;default:return 32}default:return 32}}var hasScheduledReplayAttempt=!1,queuedFocus=null,queuedDrag=null,queuedMouse=null,queuedPointers=new Map,queuedPointerCaptures=new Map,queuedExplicitHydrationTargets=[],discreteReplayableEvents="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function clearIfContinuousEvent(ee,$){switch(ee){case"focusin":case"focusout":queuedFocus=null;break;case"dragenter":case"dragleave":queuedDrag=null;break;case"mouseover":case"mouseout":queuedMouse=null;break;case"pointerover":case"pointerout":queuedPointers.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":queuedPointerCaptures.delete($.pointerId)}}function accumulateOrCreateContinuousQueuedReplayableEvent(ee,$,te,ne,ie,se){return ee===null||ee.nativeEvent!==se?(ee={blockedOn:$,domEventName:te,eventSystemFlags:ne,nativeEvent:se,targetContainers:[ie]},$!==null&&($=getInstanceFromNode($),$!==null&&attemptContinuousHydration($)),ee):(ee.eventSystemFlags|=ne,$=ee.targetContainers,ie!==null&&$.indexOf(ie)===-1&&$.push(ie),ee)}function queueIfContinuousEvent(ee,$,te,ne,ie){switch($){case"focusin":return queuedFocus=accumulateOrCreateContinuousQueuedReplayableEvent(queuedFocus,ee,$,te,ne,ie),!0;case"dragenter":return queuedDrag=accumulateOrCreateContinuousQueuedReplayableEvent(queuedDrag,ee,$,te,ne,ie),!0;case"mouseover":return queuedMouse=accumulateOrCreateContinuousQueuedReplayableEvent(queuedMouse,ee,$,te,ne,ie),!0;case"pointerover":var se=ie.pointerId;return queuedPointers.set(se,accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointers.get(se)||null,ee,$,te,ne,ie)),!0;case"gotpointercapture":return se=ie.pointerId,queuedPointerCaptures.set(se,accumulateOrCreateContinuousQueuedReplayableEvent(queuedPointerCaptures.get(se)||null,ee,$,te,ne,ie)),!0}return!1}function attemptExplicitHydrationTarget(ee){var $=getClosestInstanceFromNode(ee.target);if($!==null){var te=getNearestMountedFiber($);if(te!==null){if($=te.tag,$===13){if($=getSuspenseInstanceFromFiber(te),$!==null){ee.blockedOn=$,runWithPriority(ee.priority,function(){if(te.tag===13){var ne=requestUpdateLane(),ie=enqueueConcurrentRenderForLane(te,ne);ie!==null&&scheduleUpdateOnFiber(ie,te,ne),markRetryLaneIfNotHydrated(te,ne)}});return}}else if($===3&&te.stateNode.current.memoizedState.isDehydrated){ee.blockedOn=te.tag===3?te.stateNode.containerInfo:null;return}}}ee.blockedOn=null}function attemptReplayContinuousQueuedEvent(ee){if(ee.blockedOn!==null)return!1;for(var $=ee.targetContainers;0<$.length;){var te=findInstanceBlockingEvent(ee.nativeEvent);if(te===null){te=ee.nativeEvent;var ne=new te.constructor(te.type,te);currentReplayingEvent=ne,te.target.dispatchEvent(ne),currentReplayingEvent=null}else return $=getInstanceFromNode(te),$!==null&&attemptContinuousHydration($),ee.blockedOn=te,!1;$.shift()}return!0}function attemptReplayContinuousQueuedEventInMap(ee,$,te){attemptReplayContinuousQueuedEvent(ee)&&te.delete($)}function replayUnblockedEvents(){hasScheduledReplayAttempt=!1,queuedFocus!==null&&attemptReplayContinuousQueuedEvent(queuedFocus)&&(queuedFocus=null),queuedDrag!==null&&attemptReplayContinuousQueuedEvent(queuedDrag)&&(queuedDrag=null),queuedMouse!==null&&attemptReplayContinuousQueuedEvent(queuedMouse)&&(queuedMouse=null),queuedPointers.forEach(attemptReplayContinuousQueuedEventInMap),queuedPointerCaptures.forEach(attemptReplayContinuousQueuedEventInMap)}function scheduleCallbackIfUnblocked(ee,$){ee.blockedOn===$&&(ee.blockedOn=null,hasScheduledReplayAttempt||(hasScheduledReplayAttempt=!0,Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority,replayUnblockedEvents)))}var lastScheduledReplayQueue=null;function scheduleReplayQueueIfNeeded(ee){lastScheduledReplayQueue!==ee&&(lastScheduledReplayQueue=ee,Scheduler.unstable_scheduleCallback(Scheduler.unstable_NormalPriority,function(){lastScheduledReplayQueue===ee&&(lastScheduledReplayQueue=null);for(var $=0;$<ee.length;$+=3){var te=ee[$],ne=ee[$+1],ie=ee[$+2];if(typeof ne!="function"){if(findInstanceBlockingTarget(ne||te)===null)continue;break}var se=getInstanceFromNode(te);se!==null&&(ee.splice($,3),$-=3,startHostTransition(se,{pending:!0,data:ie,method:te.method,action:ne},ne,ie))}}))}function retryIfBlockedOn(ee){function $(ce){return scheduleCallbackIfUnblocked(ce,ee)}queuedFocus!==null&&scheduleCallbackIfUnblocked(queuedFocus,ee),queuedDrag!==null&&scheduleCallbackIfUnblocked(queuedDrag,ee),queuedMouse!==null&&scheduleCallbackIfUnblocked(queuedMouse,ee),queuedPointers.forEach($),queuedPointerCaptures.forEach($);for(var te=0;te<queuedExplicitHydrationTargets.length;te++){var ne=queuedExplicitHydrationTargets[te];ne.blockedOn===ee&&(ne.blockedOn=null)}for(;0<queuedExplicitHydrationTargets.length&&(te=queuedExplicitHydrationTargets[0],te.blockedOn===null);)attemptExplicitHydrationTarget(te),te.blockedOn===null&&queuedExplicitHydrationTargets.shift();if(te=(ee.ownerDocument||ee).$$reactFormReplay,te!=null)for(ne=0;ne<te.length;ne+=3){var ie=te[ne],se=te[ne+1],le=ie[internalPropsKey]||null;if(typeof se=="function")le||scheduleReplayQueueIfNeeded(te);else if(le){var oe=null;if(se&&se.hasAttribute("formAction")){if(ie=se,le=se[internalPropsKey]||null)oe=le.formAction;else if(findInstanceBlockingTarget(ie)!==null)continue}else oe=le.action;typeof oe=="function"?te[ne+1]=oe:(te.splice(ne,3),ne-=3),scheduleReplayQueueIfNeeded(te)}}}function ReactDOMRoot(ee){this._internalRoot=ee}ReactDOMHydrationRoot.prototype.render=ReactDOMRoot.prototype.render=function(ee){var $=this._internalRoot;if($===null)throw Error(formatProdErrorMessage(409));var te=$.current,ne=requestUpdateLane();updateContainerImpl(te,ne,ee,$,null,null)};ReactDOMHydrationRoot.prototype.unmount=ReactDOMRoot.prototype.unmount=function(){var ee=this._internalRoot;if(ee!==null){this._internalRoot=null;var $=ee.containerInfo;ee.tag===0&&flushPassiveEffects(),updateContainerImpl(ee.current,2,null,ee,null,null),flushSyncWork$1(),$[internalContainerInstanceKey]=null}};function ReactDOMHydrationRoot(ee){this._internalRoot=ee}ReactDOMHydrationRoot.prototype.unstable_scheduleHydration=function(ee){if(ee){var $=resolveUpdatePriority();ee={blockedOn:null,target:ee,priority:$};for(var te=0;te<queuedExplicitHydrationTargets.length&&$!==0&&$<queuedExplicitHydrationTargets[te].priority;te++);queuedExplicitHydrationTargets.splice(te,0,ee),te===0&&attemptExplicitHydrationTarget(ee)}};var isomorphicReactPackageVersion$jscomp$inline_1686=React$2.version;if(isomorphicReactPackageVersion$jscomp$inline_1686!=="19.0.0")throw Error(formatProdErrorMessage(527,isomorphicReactPackageVersion$jscomp$inline_1686,"19.0.0"));ReactDOMSharedInternals.findDOMNode=function(ee){var $=ee._reactInternals;if($===void 0)throw typeof ee.render=="function"?Error(formatProdErrorMessage(188)):(ee=Object.keys(ee).join(","),Error(formatProdErrorMessage(268,ee)));return ee=findCurrentFiberUsingSlowPath($),ee=ee!==null?findCurrentHostFiberImpl(ee):null,ee=ee===null?null:ee.stateNode,ee};var internals$jscomp$inline_2165={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ReactSharedInternals,findFiberByHostInstance:getClosestInstanceFromNode,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hook$jscomp$inline_2166=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hook$jscomp$inline_2166.isDisabled&&hook$jscomp$inline_2166.supportsFiber)try{rendererID=hook$jscomp$inline_2166.inject(internals$jscomp$inline_2165),injectedHook=hook$jscomp$inline_2166}catch{}}reactDomClient_production.createRoot=function(ee,$){if(!isValidContainer(ee))throw Error(formatProdErrorMessage(299));var te=!1,ne="",ie=defaultOnUncaughtError,se=defaultOnCaughtError,le=defaultOnRecoverableError,oe=null;return $!=null&&($.unstable_strictMode===!0&&(te=!0),$.identifierPrefix!==void 0&&(ne=$.identifierPrefix),$.onUncaughtError!==void 0&&(ie=$.onUncaughtError),$.onCaughtError!==void 0&&(se=$.onCaughtError),$.onRecoverableError!==void 0&&(le=$.onRecoverableError),$.unstable_transitionCallbacks!==void 0&&(oe=$.unstable_transitionCallbacks)),$=createFiberRoot(ee,1,!1,null,null,te,ne,ie,se,le,oe,null),ee[internalContainerInstanceKey]=$.current,listenToAllSupportedEvents(ee.nodeType===8?ee.parentNode:ee),new ReactDOMRoot($)};reactDomClient_production.hydrateRoot=function(ee,$,te){if(!isValidContainer(ee))throw Error(formatProdErrorMessage(299));var ne=!1,ie="",se=defaultOnUncaughtError,le=defaultOnCaughtError,oe=defaultOnRecoverableError,ce=null,ae=null;return te!=null&&(te.unstable_strictMode===!0&&(ne=!0),te.identifierPrefix!==void 0&&(ie=te.identifierPrefix),te.onUncaughtError!==void 0&&(se=te.onUncaughtError),te.onCaughtError!==void 0&&(le=te.onCaughtError),te.onRecoverableError!==void 0&&(oe=te.onRecoverableError),te.unstable_transitionCallbacks!==void 0&&(ce=te.unstable_transitionCallbacks),te.formState!==void 0&&(ae=te.formState)),$=createFiberRoot(ee,1,!0,$,te??null,ne,ie,se,le,oe,ce,ae),$.context=getContextForSubtree(null),te=$.current,ne=requestUpdateLane(),ie=createUpdate(ne),ie.callback=null,enqueueUpdate(te,ie,ne),$.current.lanes=ne,markRootUpdated$1($,ne),ensureRootIsScheduled($),ee[internalContainerInstanceKey]=$.current,listenToAllSupportedEvents(ee),new ReactDOMHydrationRoot($)};reactDomClient_production.version="19.0.0";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(ee){console.error(ee)}}checkDCE(),client.exports=reactDomClient_production;var clientExports=client.exports;const ReactDOM=getDefaultExportFromCjs(clientExports);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(ee){for(var $=1;$<arguments.length;$++){var te=arguments[$];for(var ne in te)Object.prototype.hasOwnProperty.call(te,ne)&&(ee[ne]=te[ne])}return ee},_extends$4.apply(this,arguments)}var Action;(function(ee){ee.Pop="POP",ee.Push="PUSH",ee.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(ee){ee===void 0&&(ee={});function $(ne,ie){let{pathname:se,search:le,hash:oe}=ne.location;return createLocation("",{pathname:se,search:le,hash:oe},ie.state&&ie.state.usr||null,ie.state&&ie.state.key||"default")}function te(ne,ie){return typeof ie=="string"?ie:createPath(ie)}return getUrlBasedHistory($,te,null,ee)}function invariant$1(ee,$){if(ee===!1||ee===null||typeof ee>"u")throw new Error($)}function warning(ee,$){if(!ee){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(ee,$){return{usr:ee.state,key:ee.key,idx:$}}function createLocation(ee,$,te,ne){return te===void 0&&(te=null),_extends$4({pathname:typeof ee=="string"?ee:ee.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:te,key:$&&$.key||ne||createKey()})}function createPath(ee){let{pathname:$="/",search:te="",hash:ne=""}=ee;return te&&te!=="?"&&($+=te.charAt(0)==="?"?te:"?"+te),ne&&ne!=="#"&&($+=ne.charAt(0)==="#"?ne:"#"+ne),$}function parsePath(ee){let $={};if(ee){let te=ee.indexOf("#");te>=0&&($.hash=ee.substr(te),ee=ee.substr(0,te));let ne=ee.indexOf("?");ne>=0&&($.search=ee.substr(ne),ee=ee.substr(0,ne)),ee&&($.pathname=ee)}return $}function getUrlBasedHistory(ee,$,te,ne){ne===void 0&&(ne={});let{window:ie=document.defaultView,v5Compat:se=!1}=ne,le=ie.history,oe=Action.Pop,ce=null,ae=he();ae==null&&(ae=0,le.replaceState(_extends$4({},le.state,{idx:ae}),""));function he(){return(le.state||{idx:null}).idx}function de(){oe=Action.Pop;let Se=he(),fe=Se==null?null:Se-ae;ae=Se,ce&&ce({action:oe,location:ge.location,delta:fe})}function pe(Se,fe){oe=Action.Push;let be=createLocation(ge.location,Se,fe);ae=he()+1;let xe=getHistoryState(be,ae),ue=ge.createHref(be);try{le.pushState(xe,"",ue)}catch(we){if(we instanceof DOMException&&we.name==="DataCloneError")throw we;ie.location.assign(ue)}se&&ce&&ce({action:oe,location:ge.location,delta:1})}function re(Se,fe){oe=Action.Replace;let be=createLocation(ge.location,Se,fe);ae=he();let xe=getHistoryState(be,ae),ue=ge.createHref(be);le.replaceState(xe,"",ue),se&&ce&&ce({action:oe,location:ge.location,delta:0})}function Ae(Se){let fe=ie.location.origin!=="null"?ie.location.origin:ie.location.href,be=typeof Se=="string"?Se:createPath(Se);return be=be.replace(/ $/,"%20"),invariant$1(fe,"No window.location.(origin|href) available to create URL for href: "+be),new URL(be,fe)}let ge={get action(){return oe},get location(){return ee(ie,le)},listen(Se){if(ce)throw new Error("A history only accepts one active listener");return ie.addEventListener(PopStateEventType,de),ce=Se,()=>{ie.removeEventListener(PopStateEventType,de),ce=null}},createHref(Se){return $(ie,Se)},createURL:Ae,encodeLocation(Se){let fe=Ae(Se);return{pathname:fe.pathname,search:fe.search,hash:fe.hash}},push:pe,replace:re,go(Se){return le.go(Se)}};return ge}var ResultType;(function(ee){ee.data="data",ee.deferred="deferred",ee.redirect="redirect",ee.error="error"})(ResultType||(ResultType={}));function matchRoutes(ee,$,te){return te===void 0&&(te="/"),matchRoutesImpl(ee,$,te,!1)}function matchRoutesImpl(ee,$,te,ne){let ie=typeof $=="string"?parsePath($):$,se=stripBasename(ie.pathname||"/",te);if(se==null)return null;let le=flattenRoutes(ee);rankRouteBranches(le);let oe=null;for(let ce=0;oe==null&&ce<le.length;++ce){let ae=decodePath(se);oe=matchRouteBranch(le[ce],ae,ne)}return oe}function flattenRoutes(ee,$,te,ne){$===void 0&&($=[]),te===void 0&&(te=[]),ne===void 0&&(ne="");let ie=(se,le,oe)=>{let ce={relativePath:oe===void 0?se.path||"":oe,caseSensitive:se.caseSensitive===!0,childrenIndex:le,route:se};ce.relativePath.startsWith("/")&&(invariant$1(ce.relativePath.startsWith(ne),'Absolute route path "'+ce.relativePath+'" nested under path '+('"'+ne+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ce.relativePath=ce.relativePath.slice(ne.length));let ae=joinPaths([ne,ce.relativePath]),he=te.concat(ce);se.children&&se.children.length>0&&(invariant$1(se.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ae+'".')),flattenRoutes(se.children,$,he,ae)),!(se.path==null&&!se.index)&&$.push({path:ae,score:computeScore(ae,se.index),routesMeta:he})};return ee.forEach((se,le)=>{var oe;if(se.path===""||!((oe=se.path)!=null&&oe.includes("?")))ie(se,le);else for(let ce of explodeOptionalSegments(se.path))ie(se,le,ce)}),$}function explodeOptionalSegments(ee){let $=ee.split("/");if($.length===0)return[];let[te,...ne]=$,ie=te.endsWith("?"),se=te.replace(/\?$/,"");if(ne.length===0)return ie?[se,""]:[se];let le=explodeOptionalSegments(ne.join("/")),oe=[];return oe.push(...le.map(ce=>ce===""?se:[se,ce].join("/"))),ie&&oe.push(...le),oe.map(ce=>ee.startsWith("/")&&ce===""?"/":ce)}function rankRouteBranches(ee){ee.sort(($,te)=>$.score!==te.score?te.score-$.score:compareIndexes($.routesMeta.map(ne=>ne.childrenIndex),te.routesMeta.map(ne=>ne.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=ee=>ee==="*";function computeScore(ee,$){let te=ee.split("/"),ne=te.length;return te.some(isSplat)&&(ne+=splatPenalty),$&&(ne+=indexRouteValue),te.filter(ie=>!isSplat(ie)).reduce((ie,se)=>ie+(paramRe.test(se)?dynamicSegmentValue:se===""?emptySegmentValue:staticSegmentValue),ne)}function compareIndexes(ee,$){return ee.length===$.length&&ee.slice(0,-1).every((ne,ie)=>ne===$[ie])?ee[ee.length-1]-$[$.length-1]:0}function matchRouteBranch(ee,$,te){let{routesMeta:ne}=ee,ie={},se="/",le=[];for(let oe=0;oe<ne.length;++oe){let ce=ne[oe],ae=oe===ne.length-1,he=se==="/"?$:$.slice(se.length)||"/",de=matchPath({path:ce.relativePath,caseSensitive:ce.caseSensitive,end:ae},he),pe=ce.route;if(!de&&ae&&te&&!ne[ne.length-1].route.index&&(de=matchPath({path:ce.relativePath,caseSensitive:ce.caseSensitive,end:!1},he)),!de)return null;Object.assign(ie,de.params),le.push({params:ie,pathname:joinPaths([se,de.pathname]),pathnameBase:normalizePathname(joinPaths([se,de.pathnameBase])),route:pe}),de.pathnameBase!=="/"&&(se=joinPaths([se,de.pathnameBase]))}return le}function matchPath(ee,$){typeof ee=="string"&&(ee={path:ee,caseSensitive:!1,end:!0});let[te,ne]=compilePath(ee.path,ee.caseSensitive,ee.end),ie=$.match(te);if(!ie)return null;let se=ie[0],le=se.replace(/(.)\/+$/,"$1"),oe=ie.slice(1);return{params:ne.reduce((ae,he,de)=>{let{paramName:pe,isOptional:re}=he;if(pe==="*"){let ge=oe[de]||"";le=se.slice(0,se.length-ge.length).replace(/(.)\/+$/,"$1")}const Ae=oe[de];return re&&!Ae?ae[pe]=void 0:ae[pe]=(Ae||"").replace(/%2F/g,"/"),ae},{}),pathname:se,pathnameBase:le,pattern:ee}}function compilePath(ee,$,te){$===void 0&&($=!1),te===void 0&&(te=!0),warning(ee==="*"||!ee.endsWith("*")||ee.endsWith("/*"),'Route path "'+ee+'" will be treated as if it were '+('"'+ee.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+ee.replace(/\*$/,"/*")+'".'));let ne=[],ie="^"+ee.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(le,oe,ce)=>(ne.push({paramName:oe,isOptional:ce!=null}),ce?"/?([^\\/]+)?":"/([^\\/]+)"));return ee.endsWith("*")?(ne.push({paramName:"*"}),ie+=ee==="*"||ee==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):te?ie+="\\/*$":ee!==""&&ee!=="/"&&(ie+="(?:(?=\\/|$))"),[new RegExp(ie,$?void 0:"i"),ne]}function decodePath(ee){try{return ee.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+ee+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),ee}}function stripBasename(ee,$){if($==="/")return ee;if(!ee.toLowerCase().startsWith($.toLowerCase()))return null;let te=$.endsWith("/")?$.length-1:$.length,ne=ee.charAt(te);return ne&&ne!=="/"?null:ee.slice(te)||"/"}function resolvePath(ee,$){$===void 0&&($="/");let{pathname:te,search:ne="",hash:ie=""}=typeof ee=="string"?parsePath(ee):ee;return{pathname:te?te.startsWith("/")?te:resolvePathname(te,$):$,search:normalizeSearch(ne),hash:normalizeHash(ie)}}function resolvePathname(ee,$){let te=$.replace(/\/+$/,"").split("/");return ee.split("/").forEach(ie=>{ie===".."?te.length>1&&te.pop():ie!=="."&&te.push(ie)}),te.length>1?te.join("/"):"/"}function getInvalidPathError(ee,$,te,ne){return"Cannot include a '"+ee+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(ne)+"].  Please separate it out to the ")+("`to."+te+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(ee){return ee.filter(($,te)=>te===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(ee,$){let te=getPathContributingMatches(ee);return $?te.map((ne,ie)=>ie===te.length-1?ne.pathname:ne.pathnameBase):te.map(ne=>ne.pathnameBase)}function resolveTo(ee,$,te,ne){ne===void 0&&(ne=!1);let ie;typeof ee=="string"?ie=parsePath(ee):(ie=_extends$4({},ee),invariant$1(!ie.pathname||!ie.pathname.includes("?"),getInvalidPathError("?","pathname","search",ie)),invariant$1(!ie.pathname||!ie.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ie)),invariant$1(!ie.search||!ie.search.includes("#"),getInvalidPathError("#","search","hash",ie)));let se=ee===""||ie.pathname==="",le=se?"/":ie.pathname,oe;if(le==null)oe=te;else{let de=$.length-1;if(!ne&&le.startsWith("..")){let pe=le.split("/");for(;pe[0]==="..";)pe.shift(),de-=1;ie.pathname=pe.join("/")}oe=de>=0?$[de]:"/"}let ce=resolvePath(ie,oe),ae=le&&le!=="/"&&le.endsWith("/"),he=(se||le===".")&&te.endsWith("/");return!ce.pathname.endsWith("/")&&(ae||he)&&(ce.pathname+="/"),ce}const joinPaths=ee=>ee.join("/").replace(/\/\/+/g,"/"),normalizePathname=ee=>ee.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=ee=>!ee||ee==="?"?"":ee.startsWith("?")?ee:"?"+ee,normalizeHash=ee=>!ee||ee==="#"?"":ee.startsWith("#")?ee:"#"+ee;function isRouteErrorResponse(ee){return ee!=null&&typeof ee.status=="number"&&typeof ee.statusText=="string"&&typeof ee.internal=="boolean"&&"data"in ee}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(ee){for(var $=1;$<arguments.length;$++){var te=arguments[$];for(var ne in te)Object.prototype.hasOwnProperty.call(te,ne)&&(ee[ne]=te[ne])}return ee},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(ee,$){let{relative:te}=$===void 0?{}:$;useInRouterContext()||invariant$1(!1);let{basename:ne,navigator:ie}=reactExports.useContext(NavigationContext),{hash:se,pathname:le,search:oe}=useResolvedPath(ee,{relative:te}),ce=le;return ne!=="/"&&(ce=le==="/"?ne:joinPaths([ne,le])),ie.createHref({pathname:ce,search:oe,hash:se})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$2(ee){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(ee)}function useNavigate(){let{isDataRoute:ee}=reactExports.useContext(RouteContext);return ee?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let ee=reactExports.useContext(DataRouterContext),{basename:$,future:te,navigator:ne}=reactExports.useContext(NavigationContext),{matches:ie}=reactExports.useContext(RouteContext),{pathname:se}=useLocation(),le=JSON.stringify(getResolveToMatches(ie,te.v7_relativeSplatPath)),oe=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{oe.current=!0}),reactExports.useCallback(function(ae,he){if(he===void 0&&(he={}),!oe.current)return;if(typeof ae=="number"){ne.go(ae);return}let de=resolveTo(ae,JSON.parse(le),se,he.relative==="path");ee==null&&$!=="/"&&(de.pathname=de.pathname==="/"?$:joinPaths([$,de.pathname])),(he.replace?ne.replace:ne.push)(de,he.state,he)},[$,ne,le,se,ee])}function useResolvedPath(ee,$){let{relative:te}=$===void 0?{}:$,{future:ne}=reactExports.useContext(NavigationContext),{matches:ie}=reactExports.useContext(RouteContext),{pathname:se}=useLocation(),le=JSON.stringify(getResolveToMatches(ie,ne.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(ee,JSON.parse(le),se,te==="path"),[ee,le,se,te])}function useRoutes(ee,$){return useRoutesImpl(ee,$)}function useRoutesImpl(ee,$,te,ne){useInRouterContext()||invariant$1(!1);let{navigator:ie}=reactExports.useContext(NavigationContext),{matches:se}=reactExports.useContext(RouteContext),le=se[se.length-1],oe=le?le.params:{};le&&le.pathname;let ce=le?le.pathnameBase:"/";le&&le.route;let ae=useLocation(),he;if($){var de;let Se=typeof $=="string"?parsePath($):$;ce==="/"||(de=Se.pathname)!=null&&de.startsWith(ce)||invariant$1(!1),he=Se}else he=ae;let pe=he.pathname||"/",re=pe;if(ce!=="/"){let Se=ce.replace(/^\//,"").split("/");re="/"+pe.replace(/^\//,"").split("/").slice(Se.length).join("/")}let Ae=matchRoutes(ee,{pathname:re}),ge=_renderMatches(Ae&&Ae.map(Se=>Object.assign({},Se,{params:Object.assign({},oe,Se.params),pathname:joinPaths([ce,ie.encodeLocation?ie.encodeLocation(Se.pathname).pathname:Se.pathname]),pathnameBase:Se.pathnameBase==="/"?ce:joinPaths([ce,ie.encodeLocation?ie.encodeLocation(Se.pathnameBase).pathname:Se.pathnameBase])})),se,te,ne);return $&&ge?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},he),navigationType:Action.Pop}},ge):ge}function DefaultErrorComponent(){let ee=useRouteError(),$=isRouteErrorResponse(ee)?ee.status+" "+ee.statusText:ee instanceof Error?ee.message:JSON.stringify(ee),te=ee instanceof Error?ee.stack:null,ie={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),te?reactExports.createElement("pre",{style:ie},te):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,te){return te.location!==$.location||te.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:te.error,location:te.location,revalidation:$.revalidation||te.revalidation}}componentDidCatch($,te){console.error("React Router caught the following error during render",$,te)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(ee){let{routeContext:$,match:te,children:ne}=ee,ie=reactExports.useContext(DataRouterContext);return ie&&ie.static&&ie.staticContext&&(te.route.errorElement||te.route.ErrorBoundary)&&(ie.staticContext._deepestRenderedBoundaryId=te.route.id),reactExports.createElement(RouteContext.Provider,{value:$},ne)}function _renderMatches(ee,$,te,ne){var ie;if($===void 0&&($=[]),te===void 0&&(te=null),ne===void 0&&(ne=null),ee==null){var se;if(!te)return null;if(te.errors)ee=te.matches;else if((se=ne)!=null&&se.v7_partialHydration&&$.length===0&&!te.initialized&&te.matches.length>0)ee=te.matches;else return null}let le=ee,oe=(ie=te)==null?void 0:ie.errors;if(oe!=null){let he=le.findIndex(de=>de.route.id&&(oe==null?void 0:oe[de.route.id])!==void 0);he>=0||invariant$1(!1),le=le.slice(0,Math.min(le.length,he+1))}let ce=!1,ae=-1;if(te&&ne&&ne.v7_partialHydration)for(let he=0;he<le.length;he++){let de=le[he];if((de.route.HydrateFallback||de.route.hydrateFallbackElement)&&(ae=he),de.route.id){let{loaderData:pe,errors:re}=te,Ae=de.route.loader&&pe[de.route.id]===void 0&&(!re||re[de.route.id]===void 0);if(de.route.lazy||Ae){ce=!0,ae>=0?le=le.slice(0,ae+1):le=[le[0]];break}}}return le.reduceRight((he,de,pe)=>{let re,Ae=!1,ge=null,Se=null;te&&(re=oe&&de.route.id?oe[de.route.id]:void 0,ge=de.route.errorElement||defaultErrorElement,ce&&(ae<0&&pe===0?(Ae=!0,Se=null):ae===pe&&(Ae=!0,Se=de.route.hydrateFallbackElement||null)));let fe=$.concat(le.slice(0,pe+1)),be=()=>{let xe;return re?xe=ge:Ae?xe=Se:de.route.Component?xe=reactExports.createElement(de.route.Component,null):de.route.element?xe=de.route.element:xe=he,reactExports.createElement(RenderedRoute,{match:de,routeContext:{outlet:he,matches:fe,isDataRoute:te!=null},children:xe})};return te&&(de.route.ErrorBoundary||de.route.errorElement||pe===0)?reactExports.createElement(RenderErrorBoundary,{location:te.location,revalidation:te.revalidation,component:ge,error:re,children:be(),routeContext:{outlet:null,matches:fe,isDataRoute:!0}}):be()},null)}var DataRouterHook$1=function(ee){return ee.UseBlocker="useBlocker",ee.UseRevalidator="useRevalidator",ee.UseNavigateStable="useNavigate",ee}(DataRouterHook$1||{}),DataRouterStateHook$1=function(ee){return ee.UseBlocker="useBlocker",ee.UseLoaderData="useLoaderData",ee.UseActionData="useActionData",ee.UseRouteError="useRouteError",ee.UseNavigation="useNavigation",ee.UseRouteLoaderData="useRouteLoaderData",ee.UseMatches="useMatches",ee.UseRevalidator="useRevalidator",ee.UseNavigateStable="useNavigate",ee.UseRouteId="useRouteId",ee}(DataRouterStateHook$1||{});function useDataRouterContext(ee){let $=reactExports.useContext(DataRouterContext);return $||invariant$1(!1),$}function useDataRouterState(ee){let $=reactExports.useContext(DataRouterStateContext);return $||invariant$1(!1),$}function useRouteContext(ee){let $=reactExports.useContext(RouteContext);return $||invariant$1(!1),$}function useCurrentRouteId(ee){let $=useRouteContext(),te=$.matches[$.matches.length-1];return te.route.id||invariant$1(!1),te.route.id}function useRouteError(){var ee;let $=reactExports.useContext(RouteErrorContext),te=useDataRouterState(DataRouterStateHook$1.UseRouteError),ne=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(ee=te.errors)==null?void 0:ee[ne]}function useNavigateStable(){let{router:ee}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),te=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{te.current=!0}),reactExports.useCallback(function(ie,se){se===void 0&&(se={}),te.current&&(typeof ie=="number"?ee.navigate(ie):ee.navigate(ie,_extends$3({fromRouteId:$},se)))},[ee,$])}function Route(ee){invariant$1(!1)}function Router(ee){let{basename:$="/",children:te=null,location:ne,navigationType:ie=Action.Pop,navigator:se,static:le=!1,future:oe}=ee;useInRouterContext()&&invariant$1(!1);let ce=$.replace(/^\/*/,"/"),ae=reactExports.useMemo(()=>({basename:ce,navigator:se,static:le,future:_extends$3({v7_relativeSplatPath:!1},oe)}),[ce,oe,se,le]);typeof ne=="string"&&(ne=parsePath(ne));let{pathname:he="/",search:de="",hash:pe="",state:re=null,key:Ae="default"}=ne,ge=reactExports.useMemo(()=>{let Se=stripBasename(he,ce);return Se==null?null:{location:{pathname:Se,search:de,hash:pe,state:re,key:Ae},navigationType:ie}},[ce,he,de,pe,re,Ae,ie]);return ge==null?null:reactExports.createElement(NavigationContext.Provider,{value:ae},reactExports.createElement(LocationContext.Provider,{children:te,value:ge}))}function Routes(ee){let{children:$,location:te}=ee;return useRoutes(createRoutesFromChildren($),te)}new Promise(()=>{});function createRoutesFromChildren(ee,$){$===void 0&&($=[]);let te=[];return reactExports.Children.forEach(ee,(ne,ie)=>{if(!reactExports.isValidElement(ne))return;let se=[...$,ie];if(ne.type===reactExports.Fragment){te.push.apply(te,createRoutesFromChildren(ne.props.children,se));return}ne.type!==Route&&invariant$1(!1),!ne.props.index||!ne.props.children||invariant$1(!1);let le={id:ne.props.id||se.join("-"),caseSensitive:ne.props.caseSensitive,element:ne.props.element,Component:ne.props.Component,index:ne.props.index,path:ne.props.path,loader:ne.props.loader,action:ne.props.action,errorElement:ne.props.errorElement,ErrorBoundary:ne.props.ErrorBoundary,hasErrorBoundary:ne.props.ErrorBoundary!=null||ne.props.errorElement!=null,shouldRevalidate:ne.props.shouldRevalidate,handle:ne.props.handle,lazy:ne.props.lazy};ne.props.children&&(le.children=createRoutesFromChildren(ne.props.children,se)),te.push(le)}),te}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(ee){for(var $=1;$<arguments.length;$++){var te=arguments[$];for(var ne in te)Object.prototype.hasOwnProperty.call(te,ne)&&(ee[ne]=te[ne])}return ee},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$2(ee,$){if(ee==null)return{};var te={},ne=Object.keys(ee),ie,se;for(se=0;se<ne.length;se++)ie=ne[se],!($.indexOf(ie)>=0)&&(te[ie]=ee[ie]);return te}function isModifiedEvent(ee){return!!(ee.metaKey||ee.altKey||ee.ctrlKey||ee.shiftKey)}function shouldProcessLinkClick(ee,$){return ee.button===0&&(!$||$==="_self")&&!isModifiedEvent(ee)}const _excluded$1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$5[START_TRANSITION];function BrowserRouter(ee){let{basename:$,children:te,future:ne,window:ie}=ee,se=reactExports.useRef();se.current==null&&(se.current=createBrowserHistory({window:ie,v5Compat:!0}));let le=se.current,[oe,ce]=reactExports.useState({action:le.action,location:le.location}),{v7_startTransition:ae}=ne||{},he=reactExports.useCallback(de=>{ae&&startTransitionImpl?startTransitionImpl(()=>ce(de)):ce(de)},[ce,ae]);return reactExports.useLayoutEffect(()=>le.listen(he),[le,he]),reactExports.createElement(Router,{basename:$,children:te,location:oe.location,navigationType:oe.action,navigator:le,future:ne})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function($,te){let{onClick:ne,relative:ie,reloadDocument:se,replace:le,state:oe,target:ce,to:ae,preventScrollReset:he,unstable_viewTransition:de}=$,pe=_objectWithoutPropertiesLoose$2($,_excluded$1),{basename:re}=reactExports.useContext(NavigationContext),Ae,ge=!1;if(typeof ae=="string"&&ABSOLUTE_URL_REGEX.test(ae)&&(Ae=ae,isBrowser$2))try{let xe=new URL(window.location.href),ue=ae.startsWith("//")?new URL(xe.protocol+ae):new URL(ae),we=stripBasename(ue.pathname,re);ue.origin===xe.origin&&we!=null?ae=we+ue.search+ue.hash:ge=!0}catch{}let Se=useHref(ae,{relative:ie}),fe=useLinkClickHandler(ae,{replace:le,state:oe,target:ce,preventScrollReset:he,relative:ie,unstable_viewTransition:de});function be(xe){ne&&ne(xe),xe.defaultPrevented||fe(xe)}return reactExports.createElement("a",_extends$2({},pe,{href:Ae||Se,onClick:ge||se?ne:be,ref:te,target:ce}))});var DataRouterHook;(function(ee){ee.UseScrollRestoration="useScrollRestoration",ee.UseSubmit="useSubmit",ee.UseSubmitFetcher="useSubmitFetcher",ee.UseFetcher="useFetcher",ee.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(ee){ee.UseFetcher="useFetcher",ee.UseFetchers="useFetchers",ee.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(ee,$){let{target:te,replace:ne,state:ie,preventScrollReset:se,relative:le,unstable_viewTransition:oe}=$===void 0?{}:$,ce=useNavigate(),ae=useLocation(),he=useResolvedPath(ee,{relative:le});return reactExports.useCallback(de=>{if(shouldProcessLinkClick(de,te)){de.preventDefault();let pe=ne!==void 0?ne:createPath(ae)===createPath(he);ce(ee,{replace:pe,state:ie,preventScrollReset:se,relative:le,unstable_viewTransition:oe})}},[ae,ce,he,ne,ie,te,ee,se,le,oe])}const navigation=[{name:"Home",href:"/"},{name:"Projects",href:"/projects"},{name:"About",href:"/about"},{name:"Blogs",href:"/blogs"}];function classNames(...ee){return ee.filter(Boolean).join(" ")}function NavBar(){const ee=useLocation();return jsxRuntimeExports.jsxs("nav",{className:"bg-appbgcolor cursor-none",children:[jsxRuntimeExports.jsx("div",{className:"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 cursor-none",children:jsxRuntimeExports.jsx("div",{className:"flex h-14 items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"flex space-x-4",children:navigation.map($=>jsxRuntimeExports.jsx(Link,{to:$.href,className:classNames(ee.pathname===$.href?"text-white font-semibold":"text-gray-300 hover:text-white","px-4 py-2 rounded-md text-sm transition duration-200 cursor-none"),children:$.name},$.name))})})}),jsxRuntimeExports.jsx("div",{className:"border-b border-white/20"})]})}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React$4.createContext&&React$4.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(ee,$){if(ee==null)return{};var te=_objectWithoutPropertiesLoose$1(ee,$),ne,ie;if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(ee);for(ie=0;ie<se.length;ie++)ne=se[ie],!($.indexOf(ne)>=0)&&Object.prototype.propertyIsEnumerable.call(ee,ne)&&(te[ne]=ee[ne])}return te}function _objectWithoutPropertiesLoose$1(ee,$){if(ee==null)return{};var te={};for(var ne in ee)if(Object.prototype.hasOwnProperty.call(ee,ne)){if($.indexOf(ne)>=0)continue;te[ne]=ee[ne]}return te}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(ee){for(var $=1;$<arguments.length;$++){var te=arguments[$];for(var ne in te)Object.prototype.hasOwnProperty.call(te,ne)&&(ee[ne]=te[ne])}return ee},_extends$1.apply(this,arguments)}function ownKeys(ee,$){var te=Object.keys(ee);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(ee);$&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(ee,ie).enumerable})),te.push.apply(te,ne)}return te}function _objectSpread(ee){for(var $=1;$<arguments.length;$++){var te=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(te),!0).forEach(function(ne){_defineProperty(ee,ne,te[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(te)):ownKeys(Object(te)).forEach(function(ne){Object.defineProperty(ee,ne,Object.getOwnPropertyDescriptor(te,ne))})}return ee}function _defineProperty(ee,$,te){return $=_toPropertyKey($),$ in ee?Object.defineProperty(ee,$,{value:te,enumerable:!0,configurable:!0,writable:!0}):ee[$]=te,ee}function _toPropertyKey(ee){var $=_toPrimitive(ee,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(ee,$){if(typeof ee!="object"||!ee)return ee;var te=ee[Symbol.toPrimitive];if(te!==void 0){var ne=te.call(ee,$||"default");if(typeof ne!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(ee)}function Tree2Element(ee){return ee&&ee.map(($,te)=>React$4.createElement($.tag,_objectSpread({key:te},$.attr),Tree2Element($.child)))}function GenIcon(ee){return $=>React$4.createElement(IconBase,_extends$1({attr:_objectSpread({},ee.attr)},$),Tree2Element(ee.child))}function IconBase(ee){var $=te=>{var{attr:ne,size:ie,title:se}=ee,le=_objectWithoutProperties(ee,_excluded),oe=ie||te.size||"1em",ce;return te.className&&(ce=te.className),ee.className&&(ce=(ce?ce+" ":"")+ee.className),React$4.createElement("svg",_extends$1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},te.attr,ne,le,{className:ce,style:_objectSpread(_objectSpread({color:ee.color||te.color},te.style),ee.style),height:oe,width:oe,xmlns:"http://www.w3.org/2000/svg"}),se&&React$4.createElement("title",null,se),ee.children)};return IconContext!==void 0?React$4.createElement(IconContext.Consumer,null,te=>$(te)):$(DefaultContext)}function FaGithub(ee){return GenIcon({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(ee)}function FaLinkedin(ee){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(ee)}function FaMedium(ee){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"},child:[]}]})(ee)}function Footer(){return jsxRuntimeExports.jsx("footer",{className:"bg-appbgcolor border-t border-white/20 mt-12",children:jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4 flex flex-col items-center justify-center space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex space-x-5",children:[jsxRuntimeExports.jsx("a",{href:"https://www.linkedin.com/in/hasan-kayan-37a59319b/",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-white transition duration-200 cursor-none","aria-label":"LinkedIn",children:jsxRuntimeExports.jsx(FaLinkedin,{size:20})}),jsxRuntimeExports.jsx("a",{href:"https://github.com/hasan-kayan",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-white transition duration-200 cursor-none","aria-label":"GitHub",children:jsxRuntimeExports.jsx(FaGithub,{size:20})}),jsxRuntimeExports.jsx("a",{href:"https://medium.com/@hasankayan",target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-white transition duration-200 cursor-none","aria-label":"Medium",children:jsxRuntimeExports.jsx(FaMedium,{size:20})})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["© ",new Date().getFullYear()," Hasan. All rights reserved."]})]})})}function CustomCursor(){const[ee,$]=reactExports.useState({x:0,y:0}),[te,ne]=reactExports.useState(!1);return reactExports.useEffect(()=>{const ie=le=>{$({x:le.clientX,y:le.clientY})},se=le=>{const oe=le.target,ce=oe.closest("a")||oe.closest("button")||oe.closest("input")||oe.closest("textarea");ne(!!ce)};return document.addEventListener("mousemove",ie),document.addEventListener("mouseover",se),()=>{document.removeEventListener("mousemove",ie),document.removeEventListener("mouseover",se)}},[]),jsxRuntimeExports.jsx("div",{className:"pointer-events-none fixed z-[9999]",style:{left:ee.x,top:ee.y,transform:"translate(-50%, -50%)"},children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:`absolute rounded-full transition-all duration-200 ${te?"w-16 h-16 bg-white opacity-60 blur-2xl":"w-10 h-10 bg-white opacity-40 blur-2xl animate-ping"}`}),jsxRuntimeExports.jsx("div",{className:`rounded-full transition-all duration-200 ${te?"w-6 h-6 bg-white shadow-[0_0_30px_10px_rgba(255,255,255,0.9)]":"w-4 h-4 bg-white shadow-[0_0_20px_6px_rgba(255,255,255,0.8)]"}`})]})})}function useIsTouchDevice(){const[ee,$]=reactExports.useState(!1);return reactExports.useEffect(()=>{(()=>{("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&$(!0)})()},[]),ee}function createDOMMotionComponentProxy(ee){if(typeof Proxy>"u")return ee;const $=new Map,te=(...ne)=>ee(...ne);return new Proxy(te,{get:(ne,ie)=>ie==="create"?ee:($.has(ie)||$.set(ie,ee(ie)),$.get(ie))})}function isAnimationControls(ee){return ee!==null&&typeof ee=="object"&&typeof ee.start=="function"}const isKeyframesTarget=ee=>Array.isArray(ee);function shallowCompare(ee,$){if(!Array.isArray($))return!1;const te=$.length;if(te!==ee.length)return!1;for(let ne=0;ne<te;ne++)if($[ne]!==ee[ne])return!1;return!0}function isVariantLabel(ee){return typeof ee=="string"||Array.isArray(ee)}function getValueState(ee){const $=[{},{}];return ee==null||ee.values.forEach((te,ne)=>{$[0][ne]=te.get(),$[1][ne]=te.getVelocity()}),$}function resolveVariantFromProps(ee,$,te,ne){if(typeof $=="function"){const[ie,se]=getValueState(ne);$=$(te!==void 0?te:ee.custom,ie,se)}if(typeof $=="string"&&($=ee.variants&&ee.variants[$]),typeof $=="function"){const[ie,se]=getValueState(ne);$=$(te!==void 0?te:ee.custom,ie,se)}return $}function resolveVariant(ee,$,te){const ne=ee.getProps();return resolveVariantFromProps(ne,$,te!==void 0?te:ne.custom,ee)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder],transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),secondsToMilliseconds=ee=>ee*1e3,millisecondsToSeconds=ee=>ee/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=ee=>({type:"spring",stiffness:550,damping:ee===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(ee,{keyframes:$})=>$.length>2?keyframesTransition:transformProps.has(ee)?ee.startsWith("scale")?criticallyDampedSpring($[1]):underDampedSpring:ease;function isTransitionDefined({when:ee,delay:$,delayChildren:te,staggerChildren:ne,staggerDirection:ie,repeat:se,repeatType:le,repeatDelay:oe,from:ce,elapsed:ae,...he}){return!!Object.keys(he).length}function getValueTransition(ee,$){return ee[$]||ee.default||ee}const MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1},isNotNull=ee=>ee!==null;function getFinalKeyframe(ee,{repeat:$,repeatType:te="loop"},ne){const ie=ee.filter(isNotNull),se=$&&te!=="loop"&&$%2===1?0:ie.length-1;return!se||ne===void 0?ie[se]:ne}const noop=ee=>ee;function createRenderStep(ee){let $=new Set,te=new Set,ne=!1,ie=!1;const se=new WeakSet;let le={delta:0,timestamp:0,isProcessing:!1};function oe(ae){se.has(ae)&&(ce.schedule(ae),ee()),ae(le)}const ce={schedule:(ae,he=!1,de=!1)=>{const re=de&&ne?$:te;return he&&se.add(ae),re.has(ae)||re.add(ae),ae},cancel:ae=>{te.delete(ae),se.delete(ae)},process:ae=>{if(le=ae,ne){ie=!0;return}ne=!0,[$,te]=[te,$],te.clear(),$.forEach(oe),ne=!1,ie&&(ie=!1,ce.process(ae))}};return ce}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(ee,$){let te=!1,ne=!0;const ie={delta:0,timestamp:0,isProcessing:!1},se=()=>te=!0,le=stepsOrder.reduce((fe,be)=>(fe[be]=createRenderStep(se),fe),{}),{read:oe,resolveKeyframes:ce,update:ae,preRender:he,render:de,postRender:pe}=le,re=()=>{const fe=performance.now();te=!1,ie.delta=ne?1e3/60:Math.max(Math.min(fe-ie.timestamp,maxElapsed),1),ie.timestamp=fe,ie.isProcessing=!0,oe.process(ie),ce.process(ie),ae.process(ie),he.process(ie),de.process(ie),pe.process(ie),ie.isProcessing=!1,te&&$&&(ne=!1,ee(re))},Ae=()=>{te=!0,ne=!0,ie.isProcessing||ee(re)};return{schedule:stepsOrder.reduce((fe,be)=>{const xe=le[be];return fe[be]=(ue,we=!1,Fe=!1)=>(te||Ae(),xe.schedule(ue,we,Fe)),fe},{}),cancel:fe=>{for(let be=0;be<stepsOrder.length;be++)le[stepsOrder[be]].cancel(fe)},state:ie,steps:le}}const{schedule:frame$1,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),isZeroValueString=ee=>/^0[^.\s]+$/u.test(ee);function isNone(ee){return typeof ee=="number"?ee===0:ee!==null?ee==="none"||ee==="0"||isZeroValueString(ee):!0}let invariant=noop;const isNumericalString=ee=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(ee),checkStringStartsWith=ee=>$=>typeof $=="string"&&$.startsWith(ee),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=ee=>startsAsVariableToken(ee)?singleCssVariableRegex.test(ee.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(ee){const $=splitCSSVariableRegex.exec(ee);if(!$)return[,];const[,te,ne,ie]=$;return[`--${te??ne}`,ie]}function getVariableValue(ee,$,te=1){const[ne,ie]=parseCSSVariable(ee);if(!ne)return;const se=window.getComputedStyle($).getPropertyValue(ne);if(se){const le=se.trim();return isNumericalString(le)?parseFloat(le):le}return isCSSVariableToken(ie)?getVariableValue(ie,$,te+1):ie}const clamp$2=(ee,$,te)=>te>$?$:te<ee?ee:te,number={test:ee=>typeof ee=="number",parse:parseFloat,transform:ee=>ee},alpha$1={...number,transform:ee=>clamp$2(0,1,ee)},scale={...number,default:1},sanitize=ee=>Math.round(ee*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString(ee){return typeof ee=="string"}function isNullish(ee){return ee==null}const createUnitType=ee=>({test:$=>isString($)&&$.endsWith(ee)&&$.split(" ").length===1,parse:parseFloat,transform:$=>`${$}${ee}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:ee=>percent.parse(ee)/100,transform:ee=>percent.transform(ee*100)},positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=ee=>ee===number||ee===px$1,getPosFromMatrix=(ee,$)=>parseFloat(ee.split(", ")[$]),getTranslateFromMatrix=(ee,$)=>(te,{transform:ne})=>{if(ne==="none"||!ne)return 0;const ie=ne.match(/^matrix3d\((.+)\)$/u);if(ie)return getPosFromMatrix(ie[1],$);{const se=ne.match(/^matrix\((.+)\)$/u);return se?getPosFromMatrix(se[1],ee):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(ee=>!transformKeys.has(ee));function removeNonTranslationalTransform(ee){const $=[];return nonTranslationalTransformKeys.forEach(te=>{const ne=ee.getValue(te);ne!==void 0&&($.push([te,ne.get()]),ne.set(te.startsWith("scale")?1:0))}),$}const positionalValues={width:({x:ee},{paddingLeft:$="0",paddingRight:te="0"})=>ee.max-ee.min-parseFloat($)-parseFloat(te),height:({y:ee},{paddingTop:$="0",paddingBottom:te="0"})=>ee.max-ee.min-parseFloat($)-parseFloat(te),top:(ee,{top:$})=>parseFloat($),left:(ee,{left:$})=>parseFloat($),bottom:({y:ee},{top:$})=>parseFloat($)+(ee.max-ee.min),right:({x:ee},{left:$})=>parseFloat($)+(ee.max-ee.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=ee=>$=>$.test(ee),auto={test:ee=>ee==="auto",parse:ee=>ee},dimensionValueTypes=[number,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=ee=>dimensionValueTypes.find(testValueType(ee)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const ee=Array.from(toResolve).filter(ne=>ne.needsMeasurement),$=new Set(ee.map(ne=>ne.element)),te=new Map;$.forEach(ne=>{const ie=removeNonTranslationalTransform(ne);ie.length&&(te.set(ne,ie),ne.render())}),ee.forEach(ne=>ne.measureInitialState()),$.forEach(ne=>{ne.render();const ie=te.get(ne);ie&&ie.forEach(([se,le])=>{var oe;(oe=ne.getValue(se))===null||oe===void 0||oe.set(le)})}),ee.forEach(ne=>ne.measureEndState()),ee.forEach(ne=>{ne.suspendedScrollY!==void 0&&window.scrollTo(0,ne.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(ee=>ee.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(ee=>{ee.readKeyframes(),ee.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor($,te,ne,ie,se,le=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...$],this.onComplete=te,this.name=ne,this.motionValue=ie,this.element=se,this.isAsync=le}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame$1.read(readAllKeyframes),frame$1.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:$,name:te,element:ne,motionValue:ie}=this;for(let se=0;se<$.length;se++)if($[se]===null)if(se===0){const le=ie==null?void 0:ie.get(),oe=$[$.length-1];if(le!==void 0)$[0]=le;else if(ne&&te){const ce=ne.readValue(te,oe);ce!=null&&($[0]=ce)}$[0]===void 0&&($[0]=oe),ie&&le===void 0&&ie.set($[0])}else $[se]=$[se-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(ee,$)=>te=>!!(isString(te)&&singleColorRegex.test(te)&&te.startsWith(ee)||$&&!isNullish(te)&&Object.prototype.hasOwnProperty.call(te,$)),splitColor=(ee,$,te)=>ne=>{if(!isString(ne))return ne;const[ie,se,le,oe]=ne.match(floatRegex);return{[ee]:parseFloat(ie),[$]:parseFloat(se),[te]:parseFloat(le),alpha:oe!==void 0?parseFloat(oe):1}},clampRgbUnit=ee=>clamp$2(0,255,ee),rgbUnit={...number,transform:ee=>Math.round(clampRgbUnit(ee))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:ee,green:$,blue:te,alpha:ne=1})=>"rgba("+rgbUnit.transform(ee)+", "+rgbUnit.transform($)+", "+rgbUnit.transform(te)+", "+sanitize(alpha$1.transform(ne))+")"};function parseHex(ee){let $="",te="",ne="",ie="";return ee.length>5?($=ee.substring(1,3),te=ee.substring(3,5),ne=ee.substring(5,7),ie=ee.substring(7,9)):($=ee.substring(1,2),te=ee.substring(2,3),ne=ee.substring(3,4),ie=ee.substring(4,5),$+=$,te+=te,ne+=ne,ie+=ie),{red:parseInt($,16),green:parseInt(te,16),blue:parseInt(ne,16),alpha:ie?parseInt(ie,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:ee,saturation:$,lightness:te,alpha:ne=1})=>"hsla("+Math.round(ee)+", "+percent.transform(sanitize($))+", "+percent.transform(sanitize(te))+", "+sanitize(alpha$1.transform(ne))+")"},color$1={test:ee=>rgba.test(ee)||hex.test(ee)||hsla.test(ee),parse:ee=>rgba.test(ee)?rgba.parse(ee):hsla.test(ee)?hsla.parse(ee):hex.parse(ee),transform:ee=>isString(ee)?ee:ee.hasOwnProperty("red")?rgba.transform(ee):hsla.transform(ee)};function test(ee){var $,te;return isNaN(ee)&&isString(ee)&&((($=ee.match(floatRegex))===null||$===void 0?void 0:$.length)||0)+(((te=ee.match(colorRegex))===null||te===void 0?void 0:te.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(ee){const $=ee.toString(),te=[],ne={color:[],number:[],var:[]},ie=[];let se=0;const oe=$.replace(complexRegex,ce=>(color$1.test(ce)?(ne.color.push(se),ie.push(COLOR_TOKEN),te.push(color$1.parse(ce))):ce.startsWith(VAR_FUNCTION_TOKEN)?(ne.var.push(se),ie.push(VAR_TOKEN),te.push(ce)):(ne.number.push(se),ie.push(NUMBER_TOKEN),te.push(parseFloat(ce))),++se,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:te,split:oe,indexes:ne,types:ie}}function parseComplexValue(ee){return analyseComplexValue(ee).values}function createTransformer(ee){const{split:$,types:te}=analyseComplexValue(ee),ne=$.length;return ie=>{let se="";for(let le=0;le<ne;le++)if(se+=$[le],ie[le]!==void 0){const oe=te[le];oe===NUMBER_TOKEN?se+=sanitize(ie[le]):oe===COLOR_TOKEN?se+=color$1.transform(ie[le]):se+=ie[le]}return se}}const convertNumbersToZero=ee=>typeof ee=="number"?0:ee;function getAnimatableNone$1(ee){const $=parseComplexValue(ee);return createTransformer(ee)($.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(ee){const[$,te]=ee.slice(0,-1).split("(");if($==="drop-shadow")return ee;const[ne]=te.match(floatRegex)||[];if(!ne)return ee;const ie=te.replace(ne,"");let se=maxDefaults.has($)?1:0;return ne!==te&&(se*=100),$+"("+se+ie+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:ee=>{const $=ee.match(functionRegex);return $?$.map(applyDefaultFilter).join(" "):ee}},int={...number,transform:Math.round},numberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,size:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px$1,zIndex:int,backgroundPositionX:px$1,backgroundPositionY:px$1,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=ee=>defaultValueTypes[ee];function getAnimatableNone(ee,$){let te=getDefaultValueType(ee);return te!==filter&&(te=complex),te.getAnimatableNone?te.getAnimatableNone($):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(ee,$,te){let ne=0,ie;for(;ne<ee.length&&!ie;){const se=ee[ne];typeof se=="string"&&!invalidTemplates.has(se)&&analyseComplexValue(se).values.length&&(ie=ee[ne]),ne++}if(ie&&te)for(const se of $)ee[se]=getAnimatableNone(te,ie)}class DOMKeyframesResolver extends KeyframeResolver{constructor($,te,ne,ie,se){super($,te,ne,ie,se,!0)}readKeyframes(){const{unresolvedKeyframes:$,element:te,name:ne}=this;if(!te||!te.current)return;super.readKeyframes();for(let ce=0;ce<$.length;ce++){let ae=$[ce];if(typeof ae=="string"&&(ae=ae.trim(),isCSSVariableToken(ae))){const he=getVariableValue(ae,te.current);he!==void 0&&($[ce]=he),ce===$.length-1&&(this.finalKeyframe=ae)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(ne)||$.length!==2)return;const[ie,se]=$,le=findDimensionValueType(ie),oe=findDimensionValueType(se);if(le!==oe)if(isNumOrPxType(le)&&isNumOrPxType(oe))for(let ce=0;ce<$.length;ce++){const ae=$[ce];typeof ae=="string"&&($[ce]=parseFloat(ae))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:$,name:te}=this,ne=[];for(let ie=0;ie<$.length;ie++)isNone($[ie])&&ne.push(ie);ne.length&&makeNoneKeyframesAnimatable($,ne,te)}measureInitialState(){const{element:$,unresolvedKeyframes:te,name:ne}=this;if(!$||!$.current)return;ne==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[ne]($.measureViewportBox(),window.getComputedStyle($.current)),te[0]=this.measuredOrigin;const ie=te[te.length-1];ie!==void 0&&$.getValue(ne,ie).jump(ie,!1)}measureEndState(){var $;const{element:te,name:ne,unresolvedKeyframes:ie}=this;if(!te||!te.current)return;const se=te.getValue(ne);se&&se.jump(this.measuredOrigin,!1);const le=ie.length-1,oe=ie[le];ie[le]=positionalValues[ne](te.measureViewportBox(),window.getComputedStyle(te.current)),oe!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=oe),!(($=this.removedTransforms)===null||$===void 0)&&$.length&&this.removedTransforms.forEach(([ce,ae])=>{te.getValue(ce).set(ae)}),this.resolveNoneKeyframes()}}function memo(ee){let $;return()=>($===void 0&&($=ee()),$)}let now$1;function clearTime(){now$1=void 0}const time={now:()=>(now$1===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$1),set:ee=>{now$1=ee,queueMicrotask(clearTime)}},isAnimatable=(ee,$)=>$==="zIndex"?!1:!!(typeof ee=="number"||Array.isArray(ee)||typeof ee=="string"&&(complex.test(ee)||ee==="0")&&!ee.startsWith("url("));function hasKeyframesChanged(ee){const $=ee[0];if(ee.length===1)return!0;for(let te=0;te<ee.length;te++)if(ee[te]!==$)return!0}function canAnimate(ee,$,te,ne){const ie=ee[0];if(ie===null)return!1;if($==="display"||$==="visibility")return!0;const se=ee[ee.length-1],le=isAnimatable(ie,$),oe=isAnimatable(se,$);return!le||!oe?!1:hasKeyframesChanged(ee)||te==="spring"&&ne}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:$=!0,delay:te=0,type:ne="keyframes",repeat:ie=0,repeatDelay:se=0,repeatType:le="loop",...oe}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:$,delay:te,type:ne,repeat:ie,repeatDelay:se,repeatType:le,...oe},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved($,te){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:ne,type:ie,velocity:se,delay:le,onComplete:oe,onUpdate:ce,isGenerator:ae}=this.options;if(!ae&&!canAnimate($,ne,ie,se))if(le)this.options.duration=0;else{ce==null||ce(getFinalKeyframe($,this.options,te)),oe==null||oe(),this.resolveFinishedPromise();return}const he=this.initPlayback($,te);he!==!1&&(this._resolved={keyframes:$,finalKeyframe:te,...he},this.onPostResolved())}onPostResolved(){}then($,te){return this.currentFinishedPromise.then($,te)}updateFinishedPromise(){this.currentFinishedPromise=new Promise($=>{this.resolveFinishedPromise=$})}}function velocityPerSecond(ee,$){return $?ee*(1e3/$):0}const velocitySampleDuration=5;function calcGeneratorVelocity(ee,$,te){const ne=Math.max($-velocitySampleDuration,0);return velocityPerSecond(te-ee(ne),$-ne)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:ee=800,bounce:$=.25,velocity:te=0,mass:ne=1}){let ie,se,le=1-$;le=clamp$2(minDamping,maxDamping,le),ee=clamp$2(minDuration,maxDuration$1,millisecondsToSeconds(ee)),le<1?(ie=ae=>{const he=ae*le,de=he*ee,pe=he-te,re=calcAngularFreq(ae,le),Ae=Math.exp(-de);return safeMin-pe/re*Ae},se=ae=>{const de=ae*le*ee,pe=de*te+te,re=Math.pow(le,2)*Math.pow(ae,2)*ee,Ae=Math.exp(-de),ge=calcAngularFreq(Math.pow(ae,2),le);return(-ie(ae)+safeMin>0?-1:1)*((pe-re)*Ae)/ge}):(ie=ae=>{const he=Math.exp(-ae*ee),de=(ae-te)*ee+1;return-safeMin+he*de},se=ae=>{const he=Math.exp(-ae*ee),de=(te-ae)*(ee*ee);return he*de});const oe=5/ee,ce=approximateRoot(ie,se,oe);if(ee=secondsToMilliseconds(ee),isNaN(ce))return{stiffness:100,damping:10,duration:ee};{const ae=Math.pow(ce,2)*ne;return{stiffness:ae,damping:le*2*Math.sqrt(ne*ae),duration:ee}}}const rootIterations=12;function approximateRoot(ee,$,te){let ne=te;for(let ie=1;ie<rootIterations;ie++)ne=ne-ee(ne)/$(ne);return ne}function calcAngularFreq(ee,$){return ee*Math.sqrt(1-$*$)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(ee,$){return $.some(te=>ee[te]!==void 0)}function getSpringOptions(ee){let $={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...ee};if(!isSpringType(ee,physicsKeys)&&isSpringType(ee,durationKeys)){const te=findSpring(ee);$={...$,...te,mass:1},$.isResolvedFromDuration=!0}return $}function spring({keyframes:ee,restDelta:$,restSpeed:te,...ne}){const ie=ee[0],se=ee[ee.length-1],le={done:!1,value:ie},{stiffness:oe,damping:ce,mass:ae,duration:he,velocity:de,isResolvedFromDuration:pe}=getSpringOptions({...ne,velocity:-millisecondsToSeconds(ne.velocity||0)}),re=de||0,Ae=ce/(2*Math.sqrt(oe*ae)),ge=se-ie,Se=millisecondsToSeconds(Math.sqrt(oe/ae)),fe=Math.abs(ge)<5;te||(te=fe?.01:2),$||($=fe?.005:.5);let be;if(Ae<1){const xe=calcAngularFreq(Se,Ae);be=ue=>{const we=Math.exp(-Ae*Se*ue);return se-we*((re+Ae*Se*ge)/xe*Math.sin(xe*ue)+ge*Math.cos(xe*ue))}}else if(Ae===1)be=xe=>se-Math.exp(-Se*xe)*(ge+(re+Se*ge)*xe);else{const xe=Se*Math.sqrt(Ae*Ae-1);be=ue=>{const we=Math.exp(-Ae*Se*ue),Fe=Math.min(xe*ue,300);return se-we*((re+Ae*Se*ge)*Math.sinh(Fe)+xe*ge*Math.cosh(Fe))/xe}}return{calculatedDuration:pe&&he||null,next:xe=>{const ue=be(xe);if(pe)le.done=xe>=he;else{let we=0;Ae<1&&(we=xe===0?secondsToMilliseconds(re):calcGeneratorVelocity(be,xe,ue));const Fe=Math.abs(we)<=te,_e=Math.abs(se-ue)<=$;le.done=Fe&&_e}return le.value=le.done?se:ue,le}}}function inertia({keyframes:ee,velocity:$=0,power:te=.8,timeConstant:ne=325,bounceDamping:ie=10,bounceStiffness:se=500,modifyTarget:le,min:oe,max:ce,restDelta:ae=.5,restSpeed:he}){const de=ee[0],pe={done:!1,value:de},re=Ee=>oe!==void 0&&Ee<oe||ce!==void 0&&Ee>ce,Ae=Ee=>oe===void 0?ce:ce===void 0||Math.abs(oe-Ee)<Math.abs(ce-Ee)?oe:ce;let ge=te*$;const Se=de+ge,fe=le===void 0?Se:le(Se);fe!==Se&&(ge=fe-de);const be=Ee=>-ge*Math.exp(-Ee/ne),xe=Ee=>fe+be(Ee),ue=Ee=>{const Ce=be(Ee),ye=xe(Ee);pe.done=Math.abs(Ce)<=ae,pe.value=pe.done?fe:ye};let we,Fe;const _e=Ee=>{re(pe.value)&&(we=Ee,Fe=spring({keyframes:[pe.value,Ae(pe.value)],velocity:calcGeneratorVelocity(xe,Ee,pe.value),damping:ie,stiffness:se,restDelta:ae,restSpeed:he}))};return _e(0),{calculatedDuration:null,next:Ee=>{let Ce=!1;return!Fe&&we===void 0&&(Ce=!0,ue(Ee),_e(Ee)),we!==void 0&&Ee>=we?Fe.next(Ee-we):(!Ce&&ue(Ee),pe)}}}const calcBezier=(ee,$,te)=>(((1-3*te+3*$)*ee+(3*te-6*$))*ee+3*$)*ee,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(ee,$,te,ne,ie){let se,le,oe=0;do le=$+(te-$)/2,se=calcBezier(le,ne,ie)-ee,se>0?te=le:$=le;while(Math.abs(se)>subdivisionPrecision&&++oe<subdivisionMaxIterations);return le}function cubicBezier(ee,$,te,ne){if(ee===$&&te===ne)return noop;const ie=se=>binarySubdivide(se,0,1,ee,te);return se=>se===0||se===1?se:calcBezier(ie(se),$,ne)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=ee=>Array.isArray(ee)&&typeof ee[0]!="number",mirrorEasing=ee=>$=>$<=.5?ee(2*$)/2:(2-ee(2*(1-$)))/2,reverseEasing=ee=>$=>1-ee(1-$),circIn=ee=>1-Math.sin(Math.acos(ee)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=ee=>(ee*=2)<1?.5*backIn(ee):.5*(2-Math.pow(2,-10*(ee-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=ee=>{if(Array.isArray(ee)){invariant(ee.length===4);const[$,te,ne,ie]=ee;return cubicBezier($,te,ne,ie)}else if(typeof ee=="string")return invariant(easingLookup[ee]!==void 0),easingLookup[ee];return ee},combineFunctions=(ee,$)=>te=>$(ee(te)),pipe=(...ee)=>ee.reduce(combineFunctions),progress=(ee,$,te)=>{const ne=$-ee;return ne===0?1:(te-ee)/ne},mixNumber$1=(ee,$,te)=>ee+($-ee)*te;function hueToRgb(ee,$,te){return te<0&&(te+=1),te>1&&(te-=1),te<1/6?ee+($-ee)*6*te:te<1/2?$:te<2/3?ee+($-ee)*(2/3-te)*6:ee}function hslaToRgba({hue:ee,saturation:$,lightness:te,alpha:ne}){ee/=360,$/=100,te/=100;let ie=0,se=0,le=0;if(!$)ie=se=le=te;else{const oe=te<.5?te*(1+$):te+$-te*$,ce=2*te-oe;ie=hueToRgb(ce,oe,ee+1/3),se=hueToRgb(ce,oe,ee),le=hueToRgb(ce,oe,ee-1/3)}return{red:Math.round(ie*255),green:Math.round(se*255),blue:Math.round(le*255),alpha:ne}}function mixImmediate(ee,$){return te=>te>0?$:ee}const mixLinearColor=(ee,$,te)=>{const ne=ee*ee,ie=te*($*$-ne)+ne;return ie<0?0:Math.sqrt(ie)},colorTypes=[hex,rgba,hsla],getColorType=ee=>colorTypes.find($=>$.test(ee));function asRGBA(ee){const $=getColorType(ee);if(!$)return!1;let te=$.parse(ee);return $===hsla&&(te=hslaToRgba(te)),te}const mixColor=(ee,$)=>{const te=asRGBA(ee),ne=asRGBA($);if(!te||!ne)return mixImmediate(ee,$);const ie={...te};return se=>(ie.red=mixLinearColor(te.red,ne.red,se),ie.green=mixLinearColor(te.green,ne.green,se),ie.blue=mixLinearColor(te.blue,ne.blue,se),ie.alpha=mixNumber$1(te.alpha,ne.alpha,se),rgba.transform(ie))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(ee,$){return invisibleValues.has(ee)?te=>te<=0?ee:$:te=>te>=1?$:ee}function mixNumber(ee,$){return te=>mixNumber$1(ee,$,te)}function getMixer(ee){return typeof ee=="number"?mixNumber:typeof ee=="string"?isCSSVariableToken(ee)?mixImmediate:color$1.test(ee)?mixColor:mixComplex:Array.isArray(ee)?mixArray:typeof ee=="object"?color$1.test(ee)?mixColor:mixObject:mixImmediate}function mixArray(ee,$){const te=[...ee],ne=te.length,ie=ee.map((se,le)=>getMixer(se)(se,$[le]));return se=>{for(let le=0;le<ne;le++)te[le]=ie[le](se);return te}}function mixObject(ee,$){const te={...ee,...$},ne={};for(const ie in te)ee[ie]!==void 0&&$[ie]!==void 0&&(ne[ie]=getMixer(ee[ie])(ee[ie],$[ie]));return ie=>{for(const se in ne)te[se]=ne[se](ie);return te}}function matchOrder(ee,$){var te;const ne=[],ie={color:0,var:0,number:0};for(let se=0;se<$.values.length;se++){const le=$.types[se],oe=ee.indexes[le][ie[le]],ce=(te=ee.values[oe])!==null&&te!==void 0?te:0;ne[se]=ce,ie[le]++}return ne}const mixComplex=(ee,$)=>{const te=complex.createTransformer($),ne=analyseComplexValue(ee),ie=analyseComplexValue($);return ne.indexes.var.length===ie.indexes.var.length&&ne.indexes.color.length===ie.indexes.color.length&&ne.indexes.number.length>=ie.indexes.number.length?invisibleValues.has(ee)&&!ie.values.length||invisibleValues.has($)&&!ne.values.length?mixVisibility(ee,$):pipe(mixArray(matchOrder(ne,ie),ie.values),te):mixImmediate(ee,$)};function mix(ee,$,te){return typeof ee=="number"&&typeof $=="number"&&typeof te=="number"?mixNumber$1(ee,$,te):getMixer(ee)(ee,$)}function createMixers(ee,$,te){const ne=[],ie=te||mix,se=ee.length-1;for(let le=0;le<se;le++){let oe=ie(ee[le],ee[le+1]);if($){const ce=Array.isArray($)?$[le]||noop:$;oe=pipe(ce,oe)}ne.push(oe)}return ne}function interpolate(ee,$,{clamp:te=!0,ease:ne,mixer:ie}={}){const se=ee.length;if(invariant(se===$.length),se===1)return()=>$[0];if(se===2&&ee[0]===ee[1])return()=>$[1];ee[0]>ee[se-1]&&(ee=[...ee].reverse(),$=[...$].reverse());const le=createMixers($,ne,ie),oe=le.length,ce=ae=>{let he=0;if(oe>1)for(;he<ee.length-2&&!(ae<ee[he+1]);he++);const de=progress(ee[he],ee[he+1],ae);return le[he](de)};return te?ae=>ce(clamp$2(ee[0],ee[se-1],ae)):ce}function fillOffset(ee,$){const te=ee[ee.length-1];for(let ne=1;ne<=$;ne++){const ie=progress(0,$,ne);ee.push(mixNumber$1(te,1,ie))}}function defaultOffset(ee){const $=[0];return fillOffset($,ee.length-1),$}function convertOffsetToTimes(ee,$){return ee.map(te=>te*$)}function defaultEasing(ee,$){return ee.map(()=>$||easeInOut).splice(0,ee.length-1)}function keyframes$1({duration:ee=300,keyframes:$,times:te,ease:ne="easeInOut"}){const ie=isEasingArray(ne)?ne.map(easingDefinitionToFunction):easingDefinitionToFunction(ne),se={done:!1,value:$[0]},le=convertOffsetToTimes(te&&te.length===$.length?te:defaultOffset($),ee),oe=interpolate(le,$,{ease:Array.isArray(ie)?ie:defaultEasing($,ie)});return{calculatedDuration:ee,next:ce=>(se.value=oe(ce),se.done=ce>=ee,se)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(ee){let $=0;const te=50;let ne=ee.next($);for(;!ne.done&&$<maxGeneratorDuration;)$+=te,ne=ee.next($);return $>=maxGeneratorDuration?1/0:$}const frameloopDriver=ee=>{const $=({timestamp:te})=>ee(te);return{start:()=>frame$1.update($,!0),stop:()=>cancelFrame($),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes$1,keyframes:keyframes$1,spring},percentToProgress=ee=>ee/100;class MainThreadAnimation extends BaseAnimation{constructor($){super($),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:ce}=this.options;ce&&ce()};const{name:te,motionValue:ne,element:ie,keyframes:se}=this.options,le=(ie==null?void 0:ie.KeyframeResolver)||KeyframeResolver,oe=(ce,ae)=>this.onKeyframesResolved(ce,ae);this.resolver=new le(se,oe,te,ne,ie),this.resolver.scheduleResolve()}initPlayback($){const{type:te="keyframes",repeat:ne=0,repeatDelay:ie=0,repeatType:se,velocity:le=0}=this.options,oe=generators[te]||keyframes$1;let ce,ae;oe!==keyframes$1&&typeof $[0]!="number"&&(ce=pipe(percentToProgress,mix($[0],$[1])),$=[0,100]);const he=oe({...this.options,keyframes:$});se==="mirror"&&(ae=oe({...this.options,keyframes:[...$].reverse(),velocity:-le})),he.calculatedDuration===null&&(he.calculatedDuration=calcGeneratorDuration(he));const{calculatedDuration:de}=he,pe=de+ie,re=pe*(ne+1)-ie;return{generator:he,mirroredGenerator:ae,mapPercentToKeyframes:ce,calculatedDuration:de,resolvedDuration:pe,totalDuration:re}}onPostResolved(){const{autoplay:$=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!$?this.pause():this.state=this.pendingPlayState}tick($,te=!1){const{resolved:ne}=this;if(!ne){const{keyframes:Ee}=this.options;return{done:!0,value:Ee[Ee.length-1]}}const{finalKeyframe:ie,generator:se,mirroredGenerator:le,mapPercentToKeyframes:oe,keyframes:ce,calculatedDuration:ae,totalDuration:he,resolvedDuration:de}=ne;if(this.startTime===null)return se.next(0);const{delay:pe,repeat:re,repeatType:Ae,repeatDelay:ge,onUpdate:Se}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,$):this.speed<0&&(this.startTime=Math.min($-he/this.speed,this.startTime)),te?this.currentTime=$:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round($-this.startTime)*this.speed;const fe=this.currentTime-pe*(this.speed>=0?1:-1),be=this.speed>=0?fe<0:fe>he;this.currentTime=Math.max(fe,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=he);let xe=this.currentTime,ue=se;if(re){const Ee=Math.min(this.currentTime,he)/de;let Ce=Math.floor(Ee),ye=Ee%1;!ye&&Ee>=1&&(ye=1),ye===1&&Ce--,Ce=Math.min(Ce,re+1),!!(Ce%2)&&(Ae==="reverse"?(ye=1-ye,ge&&(ye-=ge/de)):Ae==="mirror"&&(ue=le)),xe=clamp$2(0,1,ye)*de}const we=be?{done:!1,value:ce[0]}:ue.next(xe);oe&&(we.value=oe(we.value));let{done:Fe}=we;!be&&ae!==null&&(Fe=this.speed>=0?this.currentTime>=he:this.currentTime<=0);const _e=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Fe);return _e&&ie!==void 0&&(we.value=getFinalKeyframe(ce,this.options,ie)),Se&&Se(we.value),_e&&this.finish(),we}get duration(){const{resolved:$}=this;return $?millisecondsToSeconds($.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time($){$=secondsToMilliseconds($),this.currentTime=$,this.holdTime!==null||this.speed===0?this.holdTime=$:this.driver&&(this.startTime=this.driver.now()-$/this.speed)}get speed(){return this.playbackSpeed}set speed($){const te=this.playbackSpeed!==$;this.playbackSpeed=$,te&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:$=frameloopDriver,onPlay:te,startTime:ne}=this.options;this.driver||(this.driver=$(se=>this.tick(se))),te&&te();const ie=this.driver.now();this.holdTime!==null?this.startTime=ie-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=ie):this.startTime=ne??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var $;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=($=this.currentTime)!==null&&$!==void 0?$:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:$}=this.options;$&&$()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample($){return this.startTime=0,this.tick($,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),isBezierDefinition=ee=>Array.isArray(ee)&&typeof ee[0]=="number";function isWaapiSupportedEasing(ee){return!!(!ee||typeof ee=="string"&&ee in supportedWaapiEasing||isBezierDefinition(ee)||Array.isArray(ee)&&ee.every(isWaapiSupportedEasing))}const cubicBezierAsString=([ee,$,te,ne])=>`cubic-bezier(${ee}, ${$}, ${te}, ${ne})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(ee){return mapEasingToNativeEasing(ee)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(ee){if(ee)return isBezierDefinition(ee)?cubicBezierAsString(ee):Array.isArray(ee)?ee.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[ee]}function animateStyle(ee,$,te,{delay:ne=0,duration:ie=300,repeat:se=0,repeatType:le="loop",ease:oe,times:ce}={}){const ae={[$]:te};ce&&(ae.offset=ce);const he=mapEasingToNativeEasing(oe);return Array.isArray(he)&&(ae.easing=he),ee.animate(ae,{delay:ne,duration:ie,easing:Array.isArray(he)?"linear":he,fill:"both",iterations:se+1,direction:le==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(ee){return ee.type==="spring"||!isWaapiSupportedEasing(ee.ease)}function pregenerateKeyframes(ee,$){const te=new MainThreadAnimation({...$,keyframes:ee,repeat:0,delay:0,isGenerator:!0});let ne={done:!1,value:ee[0]};const ie=[];let se=0;for(;!ne.done&&se<maxDuration;)ne=te.sample(se),ie.push(ne.value),se+=sampleDelta;return{times:void 0,keyframes:ie,duration:se-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor($){super($);const{name:te,motionValue:ne,element:ie,keyframes:se}=this.options;this.resolver=new DOMKeyframesResolver(se,(le,oe)=>this.onKeyframesResolved(le,oe),te,ne,ie),this.resolver.scheduleResolve()}initPlayback($,te){var ne;let{duration:ie=300,times:se,ease:le,type:oe,motionValue:ce,name:ae,startTime:he}=this.options;if(!(!((ne=ce.owner)===null||ne===void 0)&&ne.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:pe,onUpdate:re,motionValue:Ae,element:ge,...Se}=this.options,fe=pregenerateKeyframes($,Se);$=fe.keyframes,$.length===1&&($[1]=$[0]),ie=fe.duration,se=fe.times,le=fe.ease,oe="keyframes"}const de=animateStyle(ce.owner.current,ae,$,{...this.options,duration:ie,times:se,ease:le});return de.startTime=he??this.calcStartTime(),this.pendingTimeline?(de.timeline=this.pendingTimeline,this.pendingTimeline=void 0):de.onfinish=()=>{const{onComplete:pe}=this.options;ce.set(getFinalKeyframe($,this.options,te)),pe&&pe(),this.cancel(),this.resolveFinishedPromise()},{animation:de,duration:ie,times:se,type:oe,ease:le,keyframes:$}}get duration(){const{resolved:$}=this;if(!$)return 0;const{duration:te}=$;return millisecondsToSeconds(te)}get time(){const{resolved:$}=this;if(!$)return 0;const{animation:te}=$;return millisecondsToSeconds(te.currentTime||0)}set time($){const{resolved:te}=this;if(!te)return;const{animation:ne}=te;ne.currentTime=secondsToMilliseconds($)}get speed(){const{resolved:$}=this;if(!$)return 1;const{animation:te}=$;return te.playbackRate}set speed($){const{resolved:te}=this;if(!te)return;const{animation:ne}=te;ne.playbackRate=$}get state(){const{resolved:$}=this;if(!$)return"idle";const{animation:te}=$;return te.playState}get startTime(){const{resolved:$}=this;if(!$)return null;const{animation:te}=$;return te.startTime}attachTimeline($){if(!this._resolved)this.pendingTimeline=$;else{const{resolved:te}=this;if(!te)return noop;const{animation:ne}=te;ne.timeline=$,ne.onfinish=null}return noop}play(){if(this.isStopped)return;const{resolved:$}=this;if(!$)return;const{animation:te}=$;te.playState==="finished"&&this.updateFinishedPromise(),te.play()}pause(){const{resolved:$}=this;if(!$)return;const{animation:te}=$;te.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:$}=this;if(!$)return;const{animation:te,keyframes:ne,duration:ie,type:se,ease:le,times:oe}=$;if(te.playState==="idle"||te.playState==="finished")return;if(this.time){const{motionValue:ae,onUpdate:he,onComplete:de,element:pe,...re}=this.options,Ae=new MainThreadAnimation({...re,keyframes:ne,duration:ie,type:se,ease:le,times:oe,isGenerator:!0}),ge=secondsToMilliseconds(this.time);ae.setWithVelocity(Ae.sample(ge-sampleDelta).value,Ae.sample(ge).value,sampleDelta)}const{onStop:ce}=this.options;ce&&ce(),this.cancel()}complete(){const{resolved:$}=this;$&&$.animation.finish()}cancel(){const{resolved:$}=this;$&&$.animation.cancel()}static supports($){const{motionValue:te,name:ne,repeatDelay:ie,repeatType:se,damping:le,type:oe}=$;return supportsWaapi()&&ne&&acceleratedValues.has(ne)&&te&&te.owner&&te.owner.current instanceof HTMLElement&&!te.owner.getProps().onUpdate&&!ie&&se!=="mirror"&&le!==0&&oe!=="inertia"}}function observeTimeline(ee,$){let te;const ne=()=>{const{currentTime:ie}=$,le=(ie===null?0:ie.value)/100;te!==le&&ee(le),te=le};return frame$1.update(ne,!0),()=>cancelFrame(ne)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor($){this.stop=()=>this.runAll("stop"),this.animations=$.filter(Boolean)}then($,te){return Promise.all(this.animations).then($).catch(te)}getAll($){return this.animations[0][$]}setAll($,te){for(let ne=0;ne<this.animations.length;ne++)this.animations[ne][$]=te}attachTimeline($){const te=this.animations.map(ne=>{if(supportsScrollTimeline()&&ne.attachTimeline)ne.attachTimeline($);else return ne.pause(),observeTimeline(ie=>{ne.time=ne.duration*ie},$)});return()=>{te.forEach((ne,ie)=>{ne&&ne(),this.animations[ie].stop()})}}get time(){return this.getAll("time")}set time($){this.setAll("time",$)}get speed(){return this.getAll("speed")}set speed($){this.setAll("speed",$)}get startTime(){return this.getAll("startTime")}get duration(){let $=0;for(let te=0;te<this.animations.length;te++)$=Math.max($,this.animations[te].duration);return $}runAll($){this.animations.forEach(te=>te[$]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(ee,$,te,ne={},ie,se,le)=>oe=>{const ce=getValueTransition(ne,ee)||{},ae=ce.delay||ne.delay||0;let{elapsed:he=0}=ne;he=he-secondsToMilliseconds(ae);let de={keyframes:Array.isArray(te)?te:[null,te],ease:"easeOut",velocity:$.getVelocity(),...ce,delay:-he,onUpdate:re=>{$.set(re),ce.onUpdate&&ce.onUpdate(re)},onComplete:()=>{oe(),ce.onComplete&&ce.onComplete(),le&&le()},onStop:le,name:ee,motionValue:$,element:se?void 0:ie};isTransitionDefined(ce)||(de={...de,...getDefaultTransition(ee,de)}),de.duration&&(de.duration=secondsToMilliseconds(de.duration)),de.repeatDelay&&(de.repeatDelay=secondsToMilliseconds(de.repeatDelay)),de.from!==void 0&&(de.keyframes[0]=de.from);let pe=!1;if((de.type===!1||de.duration===0&&!de.repeatDelay)&&(de.duration=0,de.delay===0&&(pe=!0)),pe&&!se&&$.get()!==void 0){const re=getFinalKeyframe(de.keyframes,ce);if(re!==void 0)return frame$1.update(()=>{de.onUpdate(re),de.onComplete()}),new GroupPlaybackControls([])}return!se&&AcceleratedAnimation.supports(de)?new AcceleratedAnimation(de):new MainThreadAnimation(de)},isCustomValue=ee=>!!(ee&&typeof ee=="object"&&ee.mix&&ee.toValue),resolveFinalValueInKeyframes=ee=>isKeyframesTarget(ee)?ee[ee.length-1]||0:ee;function addUniqueItem(ee,$){ee.indexOf($)===-1&&ee.push($)}function removeItem(ee,$){const te=ee.indexOf($);te>-1&&ee.splice(te,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add($){return addUniqueItem(this.subscriptions,$),()=>removeItem(this.subscriptions,$)}notify($,te,ne){const ie=this.subscriptions.length;if(ie)if(ie===1)this.subscriptions[0]($,te,ne);else for(let se=0;se<ie;se++){const le=this.subscriptions[se];le&&le($,te,ne)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=ee=>!isNaN(parseFloat(ee));class MotionValue{constructor($,te={}){this.version="11.5.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(ne,ie=!0)=>{const se=time.now();this.updatedAt!==se&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(ne),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),ie&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent($),this.owner=te.owner}setCurrent($){this.current=$,this.updatedAt=time.now(),this.canTrackVelocity===null&&$!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue($=this.current){this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt}onChange($){return this.on("change",$)}on($,te){this.events[$]||(this.events[$]=new SubscriptionManager);const ne=this.events[$].add(te);return $==="change"?()=>{ne(),frame$1.read(()=>{this.events.change.getSize()||this.stop()})}:ne}clearListeners(){for(const $ in this.events)this.events[$].clear()}attach($,te){this.passiveEffect=$,this.stopPassiveEffect=te}set($,te=!0){!te||!this.passiveEffect?this.updateAndNotify($,te):this.passiveEffect($,this.updateAndNotify)}setWithVelocity($,te,ne){this.set(te),this.prev=void 0,this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt-ne}jump($,te=!0){this.updateAndNotify($),this.prev=$,this.prevUpdatedAt=this.prevFrameValue=void 0,te&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const $=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||$-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const te=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),te)}start($){return this.stop(),new Promise(te=>{this.hasAnimated=!0,this.animation=$(te),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(ee,$){return new MotionValue(ee,$)}function setMotionValue(ee,$,te){ee.hasValue($)?ee.getValue($).set(te):ee.addValue($,motionValue(te))}function setTarget(ee,$){const te=resolveVariant(ee,$);let{transitionEnd:ne={},transition:ie={},...se}=te||{};se={...se,...ne};for(const le in se){const oe=resolveFinalValueInKeyframes(se[le]);setMotionValue(ee,le,oe)}}const camelToDash=ee=>ee.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);function getOptimisedAppearId(ee){return ee.props[optimizedAppearDataAttribute]}function getWillChangeName(ee){if(transformProps.has(ee))return"transform";if(acceleratedValues.has(ee))return camelToDash(ee)}class WillChangeMotionValue extends MotionValue{constructor(){super(...arguments),this.output=[],this.counts=new Map}add($){const te=getWillChangeName($);if(!te)return;const ne=this.counts.get(te)||0;this.counts.set(te,ne+1),ne===0&&(this.output.push(te),this.update());let ie=!1;return()=>{if(ie)return;ie=!0;const se=this.counts.get(te)-1;this.counts.set(te,se),se===0&&(removeItem(this.output,te),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}const isMotionValue=ee=>!!(ee&&ee.getVelocity);function isWillChangeMotionValue(ee){return!!(isMotionValue(ee)&&ee.add)}function addValueToWillChange(ee,$){var te;if(!ee.applyWillChange)return;let ne=ee.getValue("willChange");if(!ne&&!(!((te=ee.props.style)===null||te===void 0)&&te.willChange)&&(ne=new WillChangeMotionValue("auto"),ee.addValue("willChange",ne)),isWillChangeMotionValue(ne))return ne.add($)}function shouldBlockAnimation({protectedKeys:ee,needsAnimating:$},te){const ne=ee.hasOwnProperty(te)&&$[te]!==!0;return $[te]=!1,ne}function animateTarget(ee,$,{delay:te=0,transitionOverride:ne,type:ie}={}){var se;let{transition:le=ee.getDefaultTransition(),transitionEnd:oe,...ce}=$;ne&&(le=ne);const ae=[],he=ie&&ee.animationState&&ee.animationState.getState()[ie];for(const de in ce){const pe=ee.getValue(de,(se=ee.latestValues[de])!==null&&se!==void 0?se:null),re=ce[de];if(re===void 0||he&&shouldBlockAnimation(he,de))continue;const Ae={delay:te,...getValueTransition(le||{},de)};let ge=!1;if(window.MotionHandoffAnimation){const fe=getOptimisedAppearId(ee);if(fe){const be=window.MotionHandoffAnimation(fe,de,frame$1);be!==null&&(Ae.startTime=be,ge=!0)}}pe.start(animateMotionValue(de,pe,re,ee.shouldReduceMotion&&transformProps.has(de)?{type:!1}:Ae,ee,ge,addValueToWillChange(ee,de)));const Se=pe.animation;Se&&ae.push(Se)}return oe&&Promise.all(ae).then(()=>{frame$1.update(()=>{oe&&setTarget(ee,oe)})}),ae}function animateVariant(ee,$,te={}){var ne;const ie=resolveVariant(ee,$,te.type==="exit"?(ne=ee.presenceContext)===null||ne===void 0?void 0:ne.custom:void 0);let{transition:se=ee.getDefaultTransition()||{}}=ie||{};te.transitionOverride&&(se=te.transitionOverride);const le=ie?()=>Promise.all(animateTarget(ee,ie,te)):()=>Promise.resolve(),oe=ee.variantChildren&&ee.variantChildren.size?(ae=0)=>{const{delayChildren:he=0,staggerChildren:de,staggerDirection:pe}=se;return animateChildren(ee,$,he+ae,de,pe,te)}:()=>Promise.resolve(),{when:ce}=se;if(ce){const[ae,he]=ce==="beforeChildren"?[le,oe]:[oe,le];return ae().then(()=>he())}else return Promise.all([le(),oe(te.delay)])}function animateChildren(ee,$,te=0,ne=0,ie=1,se){const le=[],oe=(ee.variantChildren.size-1)*ne,ce=ie===1?(ae=0)=>ae*ne:(ae=0)=>oe-ae*ne;return Array.from(ee.variantChildren).sort(sortByTreeOrder).forEach((ae,he)=>{ae.notify("AnimationStart",$),le.push(animateVariant(ae,$,{...se,delay:te+ce(he)}).then(()=>ae.notify("AnimationComplete",$)))}),Promise.all(le)}function sortByTreeOrder(ee,$){return ee.sortNodePosition($)}function animateVisualElement(ee,$,te={}){ee.notify("AnimationStart",$);let ne;if(Array.isArray($)){const ie=$.map(se=>animateVariant(ee,se,te));ne=Promise.all(ie)}else if(typeof $=="string")ne=animateVariant(ee,$,te);else{const ie=typeof $=="function"?resolveVariant(ee,$,te.custom):$;ne=Promise.all(animateTarget(ee,ie,te))}return ne.then(()=>{ee.notify("AnimationComplete",$)})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(ee){return $=>Promise.all($.map(({animation:te,options:ne})=>animateVisualElement(ee,te,ne)))}function createAnimationState(ee){let $=animateList(ee),te=createState(),ne=!0;const ie=ce=>(ae,he)=>{var de;const pe=resolveVariant(ee,he,ce==="exit"?(de=ee.presenceContext)===null||de===void 0?void 0:de.custom:void 0);if(pe){const{transition:re,transitionEnd:Ae,...ge}=pe;ae={...ae,...ge,...Ae}}return ae};function se(ce){$=ce(ee)}function le(ce){const ae=ee.getProps(),he=ee.getVariantContext(!0)||{},de=[],pe=new Set;let re={},Ae=1/0;for(let Se=0;Se<numAnimationTypes;Se++){const fe=reversePriorityOrder[Se],be=te[fe],xe=ae[fe]!==void 0?ae[fe]:he[fe],ue=isVariantLabel(xe),we=fe===ce?be.isActive:null;we===!1&&(Ae=Se);let Fe=xe===he[fe]&&xe!==ae[fe]&&ue;if(Fe&&ne&&ee.manuallyAnimateOnMount&&(Fe=!1),be.protectedKeys={...re},!be.isActive&&we===null||!xe&&!be.prevProp||isAnimationControls(xe)||typeof xe=="boolean")continue;let Ee=checkVariantsDidChange(be.prevProp,xe)||fe===ce&&be.isActive&&!Fe&&ue||Se>Ae&&ue,Ce=!1;const ye=Array.isArray(xe)?xe:[xe];let Re=ye.reduce(ie(fe),{});we===!1&&(Re={});const{prevResolvedValues:Ye={}}=be,ke={...Ye,...Re},$e=Be=>{Ee=!0,pe.has(Be)&&(Ce=!0,pe.delete(Be)),be.needsAnimating[Be]=!0;const Pe=ee.getValue(Be);Pe&&(Pe.liveStyle=!1)};for(const Be in ke){const Pe=Re[Be],Ue=Ye[Be];if(re.hasOwnProperty(Be))continue;let Te=!1;isKeyframesTarget(Pe)&&isKeyframesTarget(Ue)?Te=!shallowCompare(Pe,Ue):Te=Pe!==Ue,Te?Pe!=null?$e(Be):pe.add(Be):Pe!==void 0&&pe.has(Be)?$e(Be):be.protectedKeys[Be]=!0}be.prevProp=xe,be.prevResolvedValues=Re,be.isActive&&(re={...re,...Re}),ne&&ee.blockInitialAnimation&&(Ee=!1),Ee&&(!Fe||Ce)&&de.push(...ye.map(Be=>({animation:Be,options:{type:fe}})))}if(pe.size){const Se={};pe.forEach(fe=>{const be=ee.getBaseTarget(fe),xe=ee.getValue(fe);xe&&(xe.liveStyle=!0),Se[fe]=be??null}),de.push({animation:Se})}let ge=!!de.length;return ne&&(ae.initial===!1||ae.initial===ae.animate)&&!ee.manuallyAnimateOnMount&&(ge=!1),ne=!1,ge?$(de):Promise.resolve()}function oe(ce,ae){var he;if(te[ce].isActive===ae)return Promise.resolve();(he=ee.variantChildren)===null||he===void 0||he.forEach(pe=>{var re;return(re=pe.animationState)===null||re===void 0?void 0:re.setActive(ce,ae)}),te[ce].isActive=ae;const de=le(ce);for(const pe in te)te[pe].protectedKeys={};return de}return{animateChanges:le,setActive:oe,setAnimateFunction:se,getState:()=>te,reset:()=>{te=createState(),ne=!0}}}function checkVariantsDidChange(ee,$){return typeof $=="string"?$!==ee:Array.isArray($)?!shallowCompare($,ee):!1}function createTypeState(ee=!1){return{isActive:ee,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor($){this.isMounted=!1,this.node=$}update(){}}class AnimationFeature extends Feature{constructor($){super($),$.animationState||($.animationState=createAnimationState($))}updateAnimationControlsSubscription(){const{animate:$}=this.node.getProps();isAnimationControls($)&&(this.unmountControls=$.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:$}=this.node.getProps(),{animate:te}=this.node.prevProps||{};$!==te&&this.updateAnimationControlsSubscription()}unmount(){var $;this.node.animationState.reset(),($=this.unmountControls)===null||$===void 0||$.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:$,onExitComplete:te}=this.node.presenceContext,{isPresent:ne}=this.node.prevPresenceContext||{};if(!this.node.animationState||$===ne)return;const ie=this.node.animationState.setActive("exit",!$);te&&!$&&ie.then(()=>te(this.id))}mount(){const{register:$}=this.node.presenceContext||{};$&&(this.unmount=$(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},isPrimaryPointer=ee=>ee.pointerType==="mouse"?typeof ee.button!="number"||ee.button<=0:ee.isPrimary!==!1;function extractEventInfo(ee,$="page"){return{point:{x:ee[`${$}X`],y:ee[`${$}Y`]}}}const addPointerInfo=ee=>$=>isPrimaryPointer($)&&ee($,extractEventInfo($));function addDomEvent(ee,$,te,ne={passive:!0}){return ee.addEventListener($,te,ne),()=>ee.removeEventListener($,te)}function addPointerEvent(ee,$,te,ne){return addDomEvent(ee,$,addPointerInfo(te),ne)}const distance=(ee,$)=>Math.abs(ee-$);function distance2D(ee,$){const te=distance(ee.x,$.x),ne=distance(ee.y,$.y);return Math.sqrt(te**2+ne**2)}class PanSession{constructor($,te,{transformPagePoint:ne,contextWindow:ie,dragSnapToOrigin:se=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const de=getPanInfo(this.lastMoveEventInfo,this.history),pe=this.startEvent!==null,re=distance2D(de.offset,{x:0,y:0})>=3;if(!pe&&!re)return;const{point:Ae}=de,{timestamp:ge}=frameData;this.history.push({...Ae,timestamp:ge});const{onStart:Se,onMove:fe}=this.handlers;pe||(Se&&Se(this.lastMoveEvent,de),this.startEvent=this.lastMoveEvent),fe&&fe(this.lastMoveEvent,de)},this.handlePointerMove=(de,pe)=>{this.lastMoveEvent=de,this.lastMoveEventInfo=transformPoint(pe,this.transformPagePoint),frame$1.update(this.updatePoint,!0)},this.handlePointerUp=(de,pe)=>{this.end();const{onEnd:re,onSessionEnd:Ae,resumeAnimation:ge}=this.handlers;if(this.dragSnapToOrigin&&ge&&ge(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Se=getPanInfo(de.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(pe,this.transformPagePoint),this.history);this.startEvent&&re&&re(de,Se),Ae&&Ae(de,Se)},!isPrimaryPointer($))return;this.dragSnapToOrigin=se,this.handlers=te,this.transformPagePoint=ne,this.contextWindow=ie||window;const le=extractEventInfo($),oe=transformPoint(le,this.transformPagePoint),{point:ce}=oe,{timestamp:ae}=frameData;this.history=[{...ce,timestamp:ae}];const{onSessionStart:he}=te;he&&he($,getPanInfo(oe,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers($){this.handlers=$}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(ee,$){return $?{point:$(ee.point)}:ee}function subtractPoint(ee,$){return{x:ee.x-$.x,y:ee.y-$.y}}function getPanInfo({point:ee},$){return{point:ee,delta:subtractPoint(ee,lastDevicePoint($)),offset:subtractPoint(ee,startDevicePoint($)),velocity:getVelocity($,.1)}}function startDevicePoint(ee){return ee[0]}function lastDevicePoint(ee){return ee[ee.length-1]}function getVelocity(ee,$){if(ee.length<2)return{x:0,y:0};let te=ee.length-1,ne=null;const ie=lastDevicePoint(ee);for(;te>=0&&(ne=ee[te],!(ie.timestamp-ne.timestamp>secondsToMilliseconds($)));)te--;if(!ne)return{x:0,y:0};const se=millisecondsToSeconds(ie.timestamp-ne.timestamp);if(se===0)return{x:0,y:0};const le={x:(ie.x-ne.x)/se,y:(ie.y-ne.y)/se};return le.x===1/0&&(le.x=0),le.y===1/0&&(le.y=0),le}function createLock(ee){let $=null;return()=>{const te=()=>{$=null};return $===null?($=ee,te):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(ee){let $=!1;if(ee==="y")$=globalVerticalLock();else if(ee==="x")$=globalHorizontalLock();else{const te=globalHorizontalLock(),ne=globalVerticalLock();te&&ne?$=()=>{te(),ne()}:(te&&te(),ne&&ne())}return $}function isDragActive(){const ee=getGlobalLock(!0);return ee?(ee(),!1):!0}function isRefObject(ee){return ee&&typeof ee=="object"&&Object.prototype.hasOwnProperty.call(ee,"current")}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(ee){return ee.max-ee.min}function isNear(ee,$,te){return Math.abs(ee-$)<=te}function calcAxisDelta(ee,$,te,ne=.5){ee.origin=ne,ee.originPoint=mixNumber$1($.min,$.max,ee.origin),ee.scale=calcLength(te)/calcLength($),ee.translate=mixNumber$1(te.min,te.max,ee.origin)-ee.originPoint,(ee.scale>=SCALE_MIN&&ee.scale<=SCALE_MAX||isNaN(ee.scale))&&(ee.scale=1),(ee.translate>=TRANSLATE_MIN&&ee.translate<=TRANSLATE_MAX||isNaN(ee.translate))&&(ee.translate=0)}function calcBoxDelta(ee,$,te,ne){calcAxisDelta(ee.x,$.x,te.x,ne?ne.originX:void 0),calcAxisDelta(ee.y,$.y,te.y,ne?ne.originY:void 0)}function calcRelativeAxis(ee,$,te){ee.min=te.min+$.min,ee.max=ee.min+calcLength($)}function calcRelativeBox(ee,$,te){calcRelativeAxis(ee.x,$.x,te.x),calcRelativeAxis(ee.y,$.y,te.y)}function calcRelativeAxisPosition(ee,$,te){ee.min=$.min-te.min,ee.max=ee.min+calcLength($)}function calcRelativePosition(ee,$,te){calcRelativeAxisPosition(ee.x,$.x,te.x),calcRelativeAxisPosition(ee.y,$.y,te.y)}function applyConstraints(ee,{min:$,max:te},ne){return $!==void 0&&ee<$?ee=ne?mixNumber$1($,ee,ne.min):Math.max(ee,$):te!==void 0&&ee>te&&(ee=ne?mixNumber$1(te,ee,ne.max):Math.min(ee,te)),ee}function calcRelativeAxisConstraints(ee,$,te){return{min:$!==void 0?ee.min+$:void 0,max:te!==void 0?ee.max+te-(ee.max-ee.min):void 0}}function calcRelativeConstraints(ee,{top:$,left:te,bottom:ne,right:ie}){return{x:calcRelativeAxisConstraints(ee.x,te,ie),y:calcRelativeAxisConstraints(ee.y,$,ne)}}function calcViewportAxisConstraints(ee,$){let te=$.min-ee.min,ne=$.max-ee.max;return $.max-$.min<ee.max-ee.min&&([te,ne]=[ne,te]),{min:te,max:ne}}function calcViewportConstraints(ee,$){return{x:calcViewportAxisConstraints(ee.x,$.x),y:calcViewportAxisConstraints(ee.y,$.y)}}function calcOrigin$1(ee,$){let te=.5;const ne=calcLength(ee),ie=calcLength($);return ie>ne?te=progress($.min,$.max-ne,ee.min):ne>ie&&(te=progress(ee.min,ee.max-ie,$.min)),clamp$2(0,1,te)}function rebaseAxisConstraints(ee,$){const te={};return $.min!==void 0&&(te.min=$.min-ee.min),$.max!==void 0&&(te.max=$.max-ee.min),te}const defaultElastic=.35;function resolveDragElastic(ee=defaultElastic){return ee===!1?ee=0:ee===!0&&(ee=defaultElastic),{x:resolveAxisElastic(ee,"left","right"),y:resolveAxisElastic(ee,"top","bottom")}}function resolveAxisElastic(ee,$,te){return{min:resolvePointElastic(ee,$),max:resolvePointElastic(ee,te)}}function resolvePointElastic(ee,$){return typeof ee=="number"?ee:ee[$]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(ee){return[ee("x"),ee("y")]}function convertBoundingBoxToBox({top:ee,left:$,right:te,bottom:ne}){return{x:{min:$,max:te},y:{min:ee,max:ne}}}function convertBoxToBoundingBox({x:ee,y:$}){return{top:$.min,right:ee.max,bottom:$.max,left:ee.min}}function transformBoxPoints(ee,$){if(!$)return ee;const te=$({x:ee.left,y:ee.top}),ne=$({x:ee.right,y:ee.bottom});return{top:te.y,left:te.x,bottom:ne.y,right:ne.x}}function isIdentityScale(ee){return ee===void 0||ee===1}function hasScale({scale:ee,scaleX:$,scaleY:te}){return!isIdentityScale(ee)||!isIdentityScale($)||!isIdentityScale(te)}function hasTransform(ee){return hasScale(ee)||has2DTranslate(ee)||ee.z||ee.rotate||ee.rotateX||ee.rotateY||ee.skewX||ee.skewY}function has2DTranslate(ee){return is2DTranslate(ee.x)||is2DTranslate(ee.y)}function is2DTranslate(ee){return ee&&ee!=="0%"}function scalePoint(ee,$,te){const ne=ee-te,ie=$*ne;return te+ie}function applyPointDelta(ee,$,te,ne,ie){return ie!==void 0&&(ee=scalePoint(ee,ie,ne)),scalePoint(ee,te,ne)+$}function applyAxisDelta(ee,$=0,te=1,ne,ie){ee.min=applyPointDelta(ee.min,$,te,ne,ie),ee.max=applyPointDelta(ee.max,$,te,ne,ie)}function applyBoxDelta(ee,{x:$,y:te}){applyAxisDelta(ee.x,$.translate,$.scale,$.originPoint),applyAxisDelta(ee.y,te.translate,te.scale,te.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(ee,$,te,ne=!1){const ie=te.length;if(!ie)return;$.x=$.y=1;let se,le;for(let oe=0;oe<ie;oe++){se=te[oe],le=se.projectionDelta;const{visualElement:ce}=se.options;ce&&ce.props.style&&ce.props.style.display==="contents"||(ne&&se.options.layoutScroll&&se.scroll&&se!==se.root&&transformBox(ee,{x:-se.scroll.offset.x,y:-se.scroll.offset.y}),le&&($.x*=le.x.scale,$.y*=le.y.scale,applyBoxDelta(ee,le)),ne&&hasTransform(se.latestValues)&&transformBox(ee,se.latestValues))}$.x<TREE_SCALE_SNAP_MAX&&$.x>TREE_SCALE_SNAP_MIN&&($.x=1),$.y<TREE_SCALE_SNAP_MAX&&$.y>TREE_SCALE_SNAP_MIN&&($.y=1)}function translateAxis(ee,$){ee.min=ee.min+$,ee.max=ee.max+$}function transformAxis(ee,$,te,ne,ie=.5){const se=mixNumber$1(ee.min,ee.max,ie);applyAxisDelta(ee,$,te,se,ne)}function transformBox(ee,$){transformAxis(ee.x,$.x,$.scaleX,$.scale,$.originX),transformAxis(ee.y,$.y,$.scaleY,$.scale,$.originY)}function measureViewportBox(ee,$){return convertBoundingBoxToBox(transformBoxPoints(ee.getBoundingClientRect(),$))}function measurePageBox(ee,$,te){const ne=measureViewportBox(ee,te),{scroll:ie}=$;return ie&&(translateAxis(ne.x,ie.offset.x),translateAxis(ne.y,ie.offset.y)),ne}const getContextWindow=({current:ee})=>ee?ee.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor($){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=$}start($,{snapToCursor:te=!1}={}){const{presenceContext:ne}=this.visualElement;if(ne&&ne.isPresent===!1)return;const ie=he=>{const{dragSnapToOrigin:de}=this.getProps();de?this.pauseAnimation():this.stopAnimation(),te&&this.snapToCursor(extractEventInfo(he,"page").point)},se=(he,de)=>{var pe;const{drag:re,dragPropagation:Ae,onDragStart:ge}=this.getProps();if(re&&!Ae&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(re),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(fe=>{let be=this.getAxisMotionValue(fe).get()||0;if(percent.test(be)){const{projection:xe}=this.visualElement;if(xe&&xe.layout){const ue=xe.layout.layoutBox[fe];ue&&(be=calcLength(ue)*(parseFloat(be)/100))}}this.originPoint[fe]=be}),ge&&frame$1.postRender(()=>ge(he,de)),(pe=this.removeWillChange)===null||pe===void 0||pe.call(this),this.removeWillChange=addValueToWillChange(this.visualElement,"transform");const{animationState:Se}=this.visualElement;Se&&Se.setActive("whileDrag",!0)},le=(he,de)=>{const{dragPropagation:pe,dragDirectionLock:re,onDirectionLock:Ae,onDrag:ge}=this.getProps();if(!pe&&!this.openGlobalLock)return;const{offset:Se}=de;if(re&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Se),this.currentDirection!==null&&Ae&&Ae(this.currentDirection);return}this.updateAxis("x",de.point,Se),this.updateAxis("y",de.point,Se),this.visualElement.render(),ge&&ge(he,de)},oe=(he,de)=>this.stop(he,de),ce=()=>eachAxis(he=>{var de;return this.getAnimationState(he)==="paused"&&((de=this.getAxisMotionValue(he).animation)===null||de===void 0?void 0:de.play())}),{dragSnapToOrigin:ae}=this.getProps();this.panSession=new PanSession($,{onSessionStart:ie,onStart:se,onMove:le,onSessionEnd:oe,resumeAnimation:ce},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:ae,contextWindow:getContextWindow(this.visualElement)})}stop($,te){var ne;(ne=this.removeWillChange)===null||ne===void 0||ne.call(this);const ie=this.isDragging;if(this.cancel(),!ie)return;const{velocity:se}=te;this.startAnimation(se);const{onDragEnd:le}=this.getProps();le&&frame$1.postRender(()=>le($,te))}cancel(){this.isDragging=!1;const{projection:$,animationState:te}=this.visualElement;$&&($.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:ne}=this.getProps();!ne&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),te&&te.setActive("whileDrag",!1)}updateAxis($,te,ne){const{drag:ie}=this.getProps();if(!ne||!shouldDrag($,ie,this.currentDirection))return;const se=this.getAxisMotionValue($);let le=this.originPoint[$]+ne[$];this.constraints&&this.constraints[$]&&(le=applyConstraints(le,this.constraints[$],this.elastic[$])),se.set(le)}resolveConstraints(){var $;const{dragConstraints:te,dragElastic:ne}=this.getProps(),ie=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):($=this.visualElement.projection)===null||$===void 0?void 0:$.layout,se=this.constraints;te&&isRefObject(te)?this.constraints||(this.constraints=this.resolveRefConstraints()):te&&ie?this.constraints=calcRelativeConstraints(ie.layoutBox,te):this.constraints=!1,this.elastic=resolveDragElastic(ne),se!==this.constraints&&ie&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(le=>{this.constraints!==!1&&this.getAxisMotionValue(le)&&(this.constraints[le]=rebaseAxisConstraints(ie.layoutBox[le],this.constraints[le]))})}resolveRefConstraints(){const{dragConstraints:$,onMeasureDragConstraints:te}=this.getProps();if(!$||!isRefObject($))return!1;const ne=$.current,{projection:ie}=this.visualElement;if(!ie||!ie.layout)return!1;const se=measurePageBox(ne,ie.root,this.visualElement.getTransformPagePoint());let le=calcViewportConstraints(ie.layout.layoutBox,se);if(te){const oe=te(convertBoxToBoundingBox(le));this.hasMutatedConstraints=!!oe,oe&&(le=convertBoundingBoxToBox(oe))}return le}startAnimation($){const{drag:te,dragMomentum:ne,dragElastic:ie,dragTransition:se,dragSnapToOrigin:le,onDragTransitionEnd:oe}=this.getProps(),ce=this.constraints||{},ae=eachAxis(he=>{if(!shouldDrag(he,te,this.currentDirection))return;let de=ce&&ce[he]||{};le&&(de={min:0,max:0});const pe=ie?200:1e6,re=ie?40:1e7,Ae={type:"inertia",velocity:ne?$[he]:0,bounceStiffness:pe,bounceDamping:re,timeConstant:750,restDelta:1,restSpeed:10,...se,...de};return this.startAxisValueAnimation(he,Ae)});return Promise.all(ae).then(oe)}startAxisValueAnimation($,te){const ne=this.getAxisMotionValue($);return ne.start(animateMotionValue($,ne,0,te,this.visualElement,!1,addValueToWillChange(this.visualElement,$)))}stopAnimation(){eachAxis($=>this.getAxisMotionValue($).stop())}pauseAnimation(){eachAxis($=>{var te;return(te=this.getAxisMotionValue($).animation)===null||te===void 0?void 0:te.pause()})}getAnimationState($){var te;return(te=this.getAxisMotionValue($).animation)===null||te===void 0?void 0:te.state}getAxisMotionValue($){const te=`_drag${$.toUpperCase()}`,ne=this.visualElement.getProps(),ie=ne[te];return ie||this.visualElement.getValue($,(ne.initial?ne.initial[$]:void 0)||0)}snapToCursor($){eachAxis(te=>{const{drag:ne}=this.getProps();if(!shouldDrag(te,ne,this.currentDirection))return;const{projection:ie}=this.visualElement,se=this.getAxisMotionValue(te);if(ie&&ie.layout){const{min:le,max:oe}=ie.layout.layoutBox[te];se.set($[te]-mixNumber$1(le,oe,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:$,dragConstraints:te}=this.getProps(),{projection:ne}=this.visualElement;if(!isRefObject(te)||!ne||!this.constraints)return;this.stopAnimation();const ie={x:0,y:0};eachAxis(le=>{const oe=this.getAxisMotionValue(le);if(oe&&this.constraints!==!1){const ce=oe.get();ie[le]=calcOrigin$1({min:ce,max:ce},this.constraints[le])}});const{transformTemplate:se}=this.visualElement.getProps();this.visualElement.current.style.transform=se?se({},""):"none",ne.root&&ne.root.updateScroll(),ne.updateLayout(),this.resolveConstraints(),eachAxis(le=>{if(!shouldDrag(le,$,null))return;const oe=this.getAxisMotionValue(le),{min:ce,max:ae}=this.constraints[le];oe.set(mixNumber$1(ce,ae,ie[le]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const $=this.visualElement.current,te=addPointerEvent($,"pointerdown",ce=>{const{drag:ae,dragListener:he=!0}=this.getProps();ae&&he&&this.start(ce)}),ne=()=>{const{dragConstraints:ce}=this.getProps();isRefObject(ce)&&ce.current&&(this.constraints=this.resolveRefConstraints())},{projection:ie}=this.visualElement,se=ie.addEventListener("measure",ne);ie&&!ie.layout&&(ie.root&&ie.root.updateScroll(),ie.updateLayout()),frame$1.read(ne);const le=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),oe=ie.addEventListener("didUpdate",({delta:ce,hasLayoutChanged:ae})=>{this.isDragging&&ae&&(eachAxis(he=>{const de=this.getAxisMotionValue(he);de&&(this.originPoint[he]+=ce[he].translate,de.set(de.get()+ce[he].translate))}),this.visualElement.render())});return()=>{le(),te(),se(),oe&&oe()}}getProps(){const $=this.visualElement.getProps(),{drag:te=!1,dragDirectionLock:ne=!1,dragPropagation:ie=!1,dragConstraints:se=!1,dragElastic:le=defaultElastic,dragMomentum:oe=!0}=$;return{...$,drag:te,dragDirectionLock:ne,dragPropagation:ie,dragConstraints:se,dragElastic:le,dragMomentum:oe}}}function shouldDrag(ee,$,te){return($===!0||$===ee)&&(te===null||te===ee)}function getCurrentDirection(ee,$=10){let te=null;return Math.abs(ee.y)>$?te="y":Math.abs(ee.x)>$&&(te="x"),te}class DragGesture extends Feature{constructor($){super($),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls($)}mount(){const{dragControls:$}=this.node.getProps();$&&(this.removeGroupControls=$.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=ee=>($,te)=>{ee&&frame$1.postRender(()=>ee($,te))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown($){this.session=new PanSession($,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:$,onPanStart:te,onPan:ne,onPanEnd:ie}=this.node.getProps();return{onSessionStart:asyncHandler($),onStart:asyncHandler(te),onMove:ne,onEnd:(se,le)=>{delete this.session,ie&&frame$1.postRender(()=>ie(se,le))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",$=>this.onPointerDown($))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const PresenceContext=reactExports.createContext(null);function usePresence(){const ee=reactExports.useContext(PresenceContext);if(ee===null)return[!0,null];const{isPresent:$,onExitComplete:te,register:ne}=ee,ie=reactExports.useId();reactExports.useEffect(()=>ne(ie),[]);const se=reactExports.useCallback(()=>te&&te(ie),[ie,te]);return!$&&te?[!1,se]:[!0]}const LayoutGroupContext=reactExports.createContext({}),SwitchLayoutGroupContext=reactExports.createContext({}),globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(ee,$){return $.max===$.min?0:ee/($.max-$.min)*100}const correctBorderRadius={correct:(ee,$)=>{if(!$.target)return ee;if(typeof ee=="string")if(px$1.test(ee))ee=parseFloat(ee);else return ee;const te=pixelsToPercent(ee,$.target.x),ne=pixelsToPercent(ee,$.target.y);return`${te}% ${ne}%`}},correctBoxShadow={correct:(ee,{treeScale:$,projectionDelta:te})=>{const ne=ee,ie=complex.parse(ee);if(ie.length>5)return ne;const se=complex.createTransformer(ee),le=typeof ie[0]!="number"?1:0,oe=te.x.scale*$.x,ce=te.y.scale*$.y;ie[0+le]/=oe,ie[1+le]/=ce;const ae=mixNumber$1(oe,ce,.5);return typeof ie[2+le]=="number"&&(ie[2+le]/=ae),typeof ie[3+le]=="number"&&(ie[3+le]/=ae),se(ie)}},scaleCorrectors={};function addScaleCorrector(ee){Object.assign(scaleCorrectors,ee)}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:$,layoutGroup:te,switchLayoutGroup:ne,layoutId:ie}=this.props,{projection:se}=$;addScaleCorrector(defaultScaleCorrectors),se&&(te.group&&te.group.add(se),ne&&ne.register&&ie&&ne.register(se),se.root.didUpdate(),se.addEventListener("animationComplete",()=>{this.safeToRemove()}),se.setOptions({...se.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate($){const{layoutDependency:te,visualElement:ne,drag:ie,isPresent:se}=this.props,le=ne.projection;return le&&(le.isPresent=se,ie||$.layoutDependency!==te||te===void 0?le.willUpdate():this.safeToRemove(),$.isPresent!==se&&(se?le.promote():le.relegate()||frame$1.postRender(()=>{const oe=le.getStack();(!oe||!oe.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:$}=this.props.visualElement;$&&($.root.didUpdate(),microtask.postRender(()=>{!$.currentAnimation&&$.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:$,layoutGroup:te,switchLayoutGroup:ne}=this.props,{projection:ie}=$;ie&&(ie.scheduleCheckAfterUnmount(),te&&te.group&&te.group.remove(ie),ne&&ne.deregister&&ne.deregister(ie))}safeToRemove(){const{safeToRemove:$}=this.props;$&&$()}render(){return null}}function MeasureLayout(ee){const[$,te]=usePresence(),ne=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...ee,layoutGroup:ne,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:$,safeToRemove:te})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=ee=>typeof ee=="string"?parseFloat(ee):ee,isPx=ee=>typeof ee=="number"||px$1.test(ee);function mixValues(ee,$,te,ne,ie,se){ie?(ee.opacity=mixNumber$1(0,te.opacity!==void 0?te.opacity:1,easeCrossfadeIn(ne)),ee.opacityExit=mixNumber$1($.opacity!==void 0?$.opacity:1,0,easeCrossfadeOut(ne))):se&&(ee.opacity=mixNumber$1($.opacity!==void 0?$.opacity:1,te.opacity!==void 0?te.opacity:1,ne));for(let le=0;le<numBorders;le++){const oe=`border${borders[le]}Radius`;let ce=getRadius($,oe),ae=getRadius(te,oe);if(ce===void 0&&ae===void 0)continue;ce||(ce=0),ae||(ae=0),ce===0||ae===0||isPx(ce)===isPx(ae)?(ee[oe]=Math.max(mixNumber$1(asNumber(ce),asNumber(ae),ne),0),(percent.test(ae)||percent.test(ce))&&(ee[oe]+="%")):ee[oe]=ae}($.rotate||te.rotate)&&(ee.rotate=mixNumber$1($.rotate||0,te.rotate||0,ne))}function getRadius(ee,$){return ee[$]!==void 0?ee[$]:ee.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(ee,$,te){return ne=>ne<ee?0:ne>$?1:te(progress(ee,$,ne))}function copyAxisInto(ee,$){ee.min=$.min,ee.max=$.max}function copyBoxInto(ee,$){copyAxisInto(ee.x,$.x),copyAxisInto(ee.y,$.y)}function copyAxisDeltaInto(ee,$){ee.translate=$.translate,ee.scale=$.scale,ee.originPoint=$.originPoint,ee.origin=$.origin}function removePointDelta(ee,$,te,ne,ie){return ee-=$,ee=scalePoint(ee,1/te,ne),ie!==void 0&&(ee=scalePoint(ee,1/ie,ne)),ee}function removeAxisDelta(ee,$=0,te=1,ne=.5,ie,se=ee,le=ee){if(percent.test($)&&($=parseFloat($),$=mixNumber$1(le.min,le.max,$/100)-le.min),typeof $!="number")return;let oe=mixNumber$1(se.min,se.max,ne);ee===se&&(oe-=$),ee.min=removePointDelta(ee.min,$,te,oe,ie),ee.max=removePointDelta(ee.max,$,te,oe,ie)}function removeAxisTransforms(ee,$,[te,ne,ie],se,le){removeAxisDelta(ee,$[te],$[ne],$[ie],$.scale,se,le)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(ee,$,te,ne){removeAxisTransforms(ee.x,$,xKeys,te?te.x:void 0,ne?ne.x:void 0),removeAxisTransforms(ee.y,$,yKeys,te?te.y:void 0,ne?ne.y:void 0)}function isAxisDeltaZero(ee){return ee.translate===0&&ee.scale===1}function isDeltaZero(ee){return isAxisDeltaZero(ee.x)&&isAxisDeltaZero(ee.y)}function axisEquals(ee,$){return ee.min===$.min&&ee.max===$.max}function boxEquals(ee,$){return axisEquals(ee.x,$.x)&&axisEquals(ee.y,$.y)}function axisEqualsRounded(ee,$){return Math.round(ee.min)===Math.round($.min)&&Math.round(ee.max)===Math.round($.max)}function boxEqualsRounded(ee,$){return axisEqualsRounded(ee.x,$.x)&&axisEqualsRounded(ee.y,$.y)}function aspectRatio(ee){return calcLength(ee.x)/calcLength(ee.y)}function axisDeltaEquals(ee,$){return ee.translate===$.translate&&ee.scale===$.scale&&ee.originPoint===$.originPoint}class NodeStack{constructor(){this.members=[]}add($){addUniqueItem(this.members,$),$.scheduleRender()}remove($){if(removeItem(this.members,$),$===this.prevLead&&(this.prevLead=void 0),$===this.lead){const te=this.members[this.members.length-1];te&&this.promote(te)}}relegate($){const te=this.members.findIndex(ie=>$===ie);if(te===0)return!1;let ne;for(let ie=te;ie>=0;ie--){const se=this.members[ie];if(se.isPresent!==!1){ne=se;break}}return ne?(this.promote(ne),!0):!1}promote($,te){const ne=this.lead;if($!==ne&&(this.prevLead=ne,this.lead=$,$.show(),ne)){ne.instance&&ne.scheduleRender(),$.scheduleRender(),$.resumeFrom=ne,te&&($.resumeFrom.preserveOpacity=!0),ne.snapshot&&($.snapshot=ne.snapshot,$.snapshot.latestValues=ne.animationValues||ne.latestValues),$.root&&$.root.isUpdating&&($.isLayoutDirty=!0);const{crossfade:ie}=$.options;ie===!1&&ne.hide()}}exitAnimationComplete(){this.members.forEach($=>{const{options:te,resumingFrom:ne}=$;te.onExitComplete&&te.onExitComplete(),ne&&ne.options.onExitComplete&&ne.options.onExitComplete()})}scheduleRender(){this.members.forEach($=>{$.instance&&$.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(ee,$,te){let ne="";const ie=ee.x.translate/$.x,se=ee.y.translate/$.y,le=(te==null?void 0:te.z)||0;if((ie||se||le)&&(ne=`translate3d(${ie}px, ${se}px, ${le}px) `),($.x!==1||$.y!==1)&&(ne+=`scale(${1/$.x}, ${1/$.y}) `),te){const{transformPerspective:ae,rotate:he,rotateX:de,rotateY:pe,skewX:re,skewY:Ae}=te;ae&&(ne=`perspective(${ae}px) ${ne}`),he&&(ne+=`rotate(${he}deg) `),de&&(ne+=`rotateX(${de}deg) `),pe&&(ne+=`rotateY(${pe}deg) `),re&&(ne+=`skewX(${re}deg) `),Ae&&(ne+=`skewY(${Ae}deg) `)}const oe=ee.x.scale*$.x,ce=ee.y.scale*$.y;return(oe!==1||ce!==1)&&(ne+=`scale(${oe}, ${ce})`),ne||"none"}const compareByDepth=(ee,$)=>ee.depth-$.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add($){addUniqueItem(this.children,$),this.isDirty=!0}remove($){removeItem(this.children,$),this.isDirty=!0}forEach($){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach($)}}function resolveMotionValue(ee){const $=isMotionValue(ee)?ee.get():ee;return isCustomValue($)?$.toValue():$}function delay(ee,$){const te=time.now(),ne=({timestamp:ie})=>{const se=ie-te;se>=$&&(cancelFrame(ne),ee(se-$))};return frame$1.read(ne,!0),()=>cancelFrame(ne)}function isSVGElement(ee){return ee instanceof SVGElement&&ee.tagName!=="svg"}function animateSingleValue(ee,$,te){const ne=isMotionValue(ee)?ee:motionValue(ee);return ne.start(animateMotionValue("",ne,$,te)),ne.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(ee,$,te,ne){const{latestValues:ie}=$;ie[ee]&&(te[ee]=ie[ee],$.setStaticValue(ee,0),ne&&(ne[ee]=0))}function cancelTreeOptimisedTransformAnimations(ee){if(ee.hasCheckedOptimisedAppear=!0,ee.root===ee)return;const{visualElement:$}=ee.options;if(!$)return;const te=getOptimisedAppearId($);if(window.MotionHasOptimisedAnimation(te,"transform")){const{layout:ie,layoutId:se}=ee.options;window.MotionCancelOptimisedAnimation(te,"transform",frame$1,!(ie||se))}const{parent:ne}=ee;ne&&!ne.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(ne)}function createProjectionNode$1({attachResizeListener:ee,defaultParent:$,measureScroll:te,checkIsScrollRoot:ne,resetTransform:ie}){return class{constructor(le={},oe=$==null?void 0:$()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=le,this.root=oe?oe.root||oe:this,this.path=oe?[...oe.path,oe]:[],this.parent=oe,this.depth=oe?oe.depth+1:0;for(let ce=0;ce<this.path.length;ce++)this.path[ce].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(le,oe){return this.eventHandlers.has(le)||this.eventHandlers.set(le,new SubscriptionManager),this.eventHandlers.get(le).add(oe)}notifyListeners(le,...oe){const ce=this.eventHandlers.get(le);ce&&ce.notify(...oe)}hasListeners(le){return this.eventHandlers.has(le)}mount(le,oe=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(le),this.instance=le;const{layoutId:ce,layout:ae,visualElement:he}=this.options;if(he&&!he.current&&he.mount(le),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),oe&&(ae||ce)&&(this.isLayoutDirty=!0),ee){let de;const pe=()=>this.root.updateBlockedByResize=!1;ee(le,()=>{this.root.updateBlockedByResize=!0,de&&de(),de=delay(pe,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}ce&&this.root.registerSharedNode(ce,this),this.options.animate!==!1&&he&&(ce||ae)&&this.addEventListener("didUpdate",({delta:de,hasLayoutChanged:pe,hasRelativeTargetChanged:re,layout:Ae})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const ge=this.options.transition||he.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Se,onLayoutAnimationComplete:fe}=he.getProps(),be=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Ae)||re,xe=!pe&&re;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||xe||pe&&(be||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(de,xe);const ue={...getValueTransition(ge,"layout"),onPlay:Se,onComplete:fe};(he.shouldReduceMotion||this.options.layoutRoot)&&(ue.delay=0,ue.type=!1),this.startAnimation(ue)}else pe||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Ae})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const le=this.getStack();le&&le.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:le}=this.options;return le&&le.getProps().transformTemplate}willUpdate(le=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let he=0;he<this.path.length;he++){const de=this.path[he];de.shouldResetTransform=!0,de.updateScroll("snapshot"),de.options.layoutRoot&&de.willUpdate(!1)}const{layoutId:oe,layout:ce}=this.options;if(oe===void 0&&!ce)return;const ae=this.getTransformTemplate();this.prevTransformTemplateValue=ae?ae(this.latestValues,""):void 0,this.updateSnapshot(),le&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const oe=time.now();frameData.delta=clamp$2(0,1e3/60,oe-frameData.timestamp),frameData.timestamp=oe,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame$1.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame$1.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let ce=0;ce<this.path.length;ce++)this.path[ce].updateScroll();const le=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:oe}=this.options;oe&&oe.notify("LayoutMeasure",this.layout.layoutBox,le?le.layoutBox:void 0)}updateScroll(le="measure"){let oe=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===le&&(oe=!1),oe){const ce=ne(this.instance);this.scroll={animationId:this.root.animationId,phase:le,isRoot:ce,offset:te(this.instance),wasRoot:this.scroll?this.scroll.isRoot:ce}}}resetTransform(){if(!ie)return;const le=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,oe=this.projectionDelta&&!isDeltaZero(this.projectionDelta),ce=this.getTransformTemplate(),ae=ce?ce(this.latestValues,""):void 0,he=ae!==this.prevTransformTemplateValue;le&&(oe||hasTransform(this.latestValues)||he)&&(ie(this.instance,ae),this.shouldResetTransform=!1,this.scheduleRender())}measure(le=!0){const oe=this.measurePageBox();let ce=this.removeElementScroll(oe);return le&&(ce=this.removeTransform(ce)),roundBox(ce),{animationId:this.root.animationId,measuredBox:oe,layoutBox:ce,latestValues:{},source:this.id}}measurePageBox(){var le;const{visualElement:oe}=this.options;if(!oe)return createBox();const ce=oe.measureViewportBox();if(!(((le=this.scroll)===null||le===void 0?void 0:le.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:he}=this.root;he&&(translateAxis(ce.x,he.offset.x),translateAxis(ce.y,he.offset.y))}return ce}removeElementScroll(le){var oe;const ce=createBox();if(copyBoxInto(ce,le),!((oe=this.scroll)===null||oe===void 0)&&oe.wasRoot)return ce;for(let ae=0;ae<this.path.length;ae++){const he=this.path[ae],{scroll:de,options:pe}=he;he!==this.root&&de&&pe.layoutScroll&&(de.wasRoot&&copyBoxInto(ce,le),translateAxis(ce.x,de.offset.x),translateAxis(ce.y,de.offset.y))}return ce}applyTransform(le,oe=!1){const ce=createBox();copyBoxInto(ce,le);for(let ae=0;ae<this.path.length;ae++){const he=this.path[ae];!oe&&he.options.layoutScroll&&he.scroll&&he!==he.root&&transformBox(ce,{x:-he.scroll.offset.x,y:-he.scroll.offset.y}),hasTransform(he.latestValues)&&transformBox(ce,he.latestValues)}return hasTransform(this.latestValues)&&transformBox(ce,this.latestValues),ce}removeTransform(le){const oe=createBox();copyBoxInto(oe,le);for(let ce=0;ce<this.path.length;ce++){const ae=this.path[ce];if(!ae.instance||!hasTransform(ae.latestValues))continue;hasScale(ae.latestValues)&&ae.updateSnapshot();const he=createBox(),de=ae.measurePageBox();copyBoxInto(he,de),removeBoxTransforms(oe,ae.latestValues,ae.snapshot?ae.snapshot.layoutBox:void 0,he)}return hasTransform(this.latestValues)&&removeBoxTransforms(oe,this.latestValues),oe}setTargetDelta(le){this.targetDelta=le,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(le){this.options={...this.options,...le,crossfade:le.crossfade!==void 0?le.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(le=!1){var oe;const ce=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=ce.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=ce.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=ce.isSharedProjectionDirty);const ae=!!this.resumingFrom||this!==ce;if(!(le||ae&&this.isSharedProjectionDirty||this.isProjectionDirty||!((oe=this.parent)===null||oe===void 0)&&oe.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:de,layoutId:pe}=this.options;if(!(!this.layout||!(de||pe))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const re=this.getClosestProjectingParent();re&&re.layout&&this.animationProgress!==1?(this.relativeParent=re,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,re.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const re=this.getClosestProjectingParent();re&&!!re.resumingFrom==!!this.resumingFrom&&!re.options.layoutScroll&&re.target&&this.animationProgress!==1?(this.relativeParent=re,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,re.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var le;const oe=this.getLead(),ce=!!this.resumingFrom||this!==oe;let ae=!0;if((this.isProjectionDirty||!((le=this.parent)===null||le===void 0)&&le.isProjectionDirty)&&(ae=!1),ce&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(ae=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(ae=!1),ae)return;const{layout:he,layoutId:de}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(he||de))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const pe=this.treeScale.x,re=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,ce),oe.layout&&!oe.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(oe.target=oe.layout.layoutBox,oe.targetWithTransforms=createBox());const{target:Ae}=oe;if(!Ae){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,Ae,this.latestValues),(this.treeScale.x!==pe||this.treeScale.y!==re||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Ae)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(le=!0){var oe;if((oe=this.options.visualElement)===null||oe===void 0||oe.scheduleRender(),le){const ce=this.getStack();ce&&ce.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(le,oe=!1){const ce=this.snapshot,ae=ce?ce.latestValues:{},he={...this.latestValues},de=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!oe;const pe=createBox(),re=ce?ce.source:void 0,Ae=this.layout?this.layout.source:void 0,ge=re!==Ae,Se=this.getStack(),fe=!Se||Se.members.length<=1,be=!!(ge&&!fe&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let xe;this.mixTargetDelta=ue=>{const we=ue/1e3;mixAxisDelta(de.x,le.x,we),mixAxisDelta(de.y,le.y,we),this.setTargetDelta(de),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(pe,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,pe,we),xe&&boxEquals(this.relativeTarget,xe)&&(this.isProjectionDirty=!1),xe||(xe=createBox()),copyBoxInto(xe,this.relativeTarget)),ge&&(this.animationValues=he,mixValues(he,ae,this.latestValues,we,be,fe)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=we},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(le){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame$1.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...le,onUpdate:oe=>{this.mixTargetDelta(oe),le.onUpdate&&le.onUpdate(oe)},onComplete:()=>{le.onComplete&&le.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const le=this.getStack();le&&le.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const le=this.getLead();let{targetWithTransforms:oe,target:ce,layout:ae,latestValues:he}=le;if(!(!oe||!ce||!ae)){if(this!==le&&this.layout&&ae&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,ae.layoutBox)){ce=this.target||createBox();const de=calcLength(this.layout.layoutBox.x);ce.x.min=le.target.x.min,ce.x.max=ce.x.min+de;const pe=calcLength(this.layout.layoutBox.y);ce.y.min=le.target.y.min,ce.y.max=ce.y.min+pe}copyBoxInto(oe,ce),transformBox(oe,he),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,oe,he)}}registerSharedNode(le,oe){this.sharedNodes.has(le)||this.sharedNodes.set(le,new NodeStack),this.sharedNodes.get(le).add(oe);const ae=oe.options.initialPromotionConfig;oe.promote({transition:ae?ae.transition:void 0,preserveFollowOpacity:ae&&ae.shouldPreserveFollowOpacity?ae.shouldPreserveFollowOpacity(oe):void 0})}isLead(){const le=this.getStack();return le?le.lead===this:!0}getLead(){var le;const{layoutId:oe}=this.options;return oe?((le=this.getStack())===null||le===void 0?void 0:le.lead)||this:this}getPrevLead(){var le;const{layoutId:oe}=this.options;return oe?(le=this.getStack())===null||le===void 0?void 0:le.prevLead:void 0}getStack(){const{layoutId:le}=this.options;if(le)return this.root.sharedNodes.get(le)}promote({needsReset:le,transition:oe,preserveFollowOpacity:ce}={}){const ae=this.getStack();ae&&ae.promote(this,ce),le&&(this.projectionDelta=void 0,this.needsReset=!0),oe&&this.setOptions({transition:oe})}relegate(){const le=this.getStack();return le?le.relegate(this):!1}resetSkewAndRotation(){const{visualElement:le}=this.options;if(!le)return;let oe=!1;const{latestValues:ce}=le;if((ce.z||ce.rotate||ce.rotateX||ce.rotateY||ce.rotateZ||ce.skewX||ce.skewY)&&(oe=!0),!oe)return;const ae={};ce.z&&resetDistortingTransform("z",le,ae,this.animationValues);for(let he=0;he<transformAxes.length;he++)resetDistortingTransform(`rotate${transformAxes[he]}`,le,ae,this.animationValues),resetDistortingTransform(`skew${transformAxes[he]}`,le,ae,this.animationValues);le.render();for(const he in ae)le.setStaticValue(he,ae[he]),this.animationValues&&(this.animationValues[he]=ae[he]);le.scheduleRender()}getProjectionStyles(le){var oe,ce;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const ae={visibility:""},he=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,ae.opacity="",ae.pointerEvents=resolveMotionValue(le==null?void 0:le.pointerEvents)||"",ae.transform=he?he(this.latestValues,""):"none",ae;const de=this.getLead();if(!this.projectionDelta||!this.layout||!de.target){const ge={};return this.options.layoutId&&(ge.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,ge.pointerEvents=resolveMotionValue(le==null?void 0:le.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(ge.transform=he?he({},""):"none",this.hasProjected=!1),ge}const pe=de.animationValues||de.latestValues;this.applyTransformsToTarget(),ae.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,pe),he&&(ae.transform=he(pe,ae.transform));const{x:re,y:Ae}=this.projectionDelta;ae.transformOrigin=`${re.origin*100}% ${Ae.origin*100}% 0`,de.animationValues?ae.opacity=de===this?(ce=(oe=pe.opacity)!==null&&oe!==void 0?oe:this.latestValues.opacity)!==null&&ce!==void 0?ce:1:this.preserveOpacity?this.latestValues.opacity:pe.opacityExit:ae.opacity=de===this?pe.opacity!==void 0?pe.opacity:"":pe.opacityExit!==void 0?pe.opacityExit:0;for(const ge in scaleCorrectors){if(pe[ge]===void 0)continue;const{correct:Se,applyTo:fe}=scaleCorrectors[ge],be=ae.transform==="none"?pe[ge]:Se(pe[ge],de);if(fe){const xe=fe.length;for(let ue=0;ue<xe;ue++)ae[fe[ue]]=be}else ae[ge]=be}return this.options.layoutId&&(ae.pointerEvents=de===this?resolveMotionValue(le==null?void 0:le.pointerEvents)||"":"none"),ae}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(le=>{var oe;return(oe=le.currentAnimation)===null||oe===void 0?void 0:oe.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(ee){ee.updateLayout()}function notifyLayoutUpdate(ee){var $;const te=(($=ee.resumeFrom)===null||$===void 0?void 0:$.snapshot)||ee.snapshot;if(ee.isLead()&&ee.layout&&te&&ee.hasListeners("didUpdate")){const{layoutBox:ne,measuredBox:ie}=ee.layout,{animationType:se}=ee.options,le=te.source!==ee.layout.source;se==="size"?eachAxis(de=>{const pe=le?te.measuredBox[de]:te.layoutBox[de],re=calcLength(pe);pe.min=ne[de].min,pe.max=pe.min+re}):shouldAnimatePositionOnly(se,te.layoutBox,ne)&&eachAxis(de=>{const pe=le?te.measuredBox[de]:te.layoutBox[de],re=calcLength(ne[de]);pe.max=pe.min+re,ee.relativeTarget&&!ee.currentAnimation&&(ee.isProjectionDirty=!0,ee.relativeTarget[de].max=ee.relativeTarget[de].min+re)});const oe=createDelta();calcBoxDelta(oe,ne,te.layoutBox);const ce=createDelta();le?calcBoxDelta(ce,ee.applyTransform(ie,!0),te.measuredBox):calcBoxDelta(ce,ne,te.layoutBox);const ae=!isDeltaZero(oe);let he=!1;if(!ee.resumeFrom){const de=ee.getClosestProjectingParent();if(de&&!de.resumeFrom){const{snapshot:pe,layout:re}=de;if(pe&&re){const Ae=createBox();calcRelativePosition(Ae,te.layoutBox,pe.layoutBox);const ge=createBox();calcRelativePosition(ge,ne,re.layoutBox),boxEqualsRounded(Ae,ge)||(he=!0),de.options.layoutRoot&&(ee.relativeTarget=ge,ee.relativeTargetOrigin=Ae,ee.relativeParent=de)}}}ee.notifyListeners("didUpdate",{layout:ne,snapshot:te,delta:ce,layoutDelta:oe,hasLayoutChanged:ae,hasRelativeTargetChanged:he})}else if(ee.isLead()){const{onExitComplete:ne}=ee.options;ne&&ne()}ee.options.transition=void 0}function propagateDirtyNodes(ee){isDebug&&metrics.totalNodes++,ee.parent&&(ee.isProjecting()||(ee.isProjectionDirty=ee.parent.isProjectionDirty),ee.isSharedProjectionDirty||(ee.isSharedProjectionDirty=!!(ee.isProjectionDirty||ee.parent.isProjectionDirty||ee.parent.isSharedProjectionDirty)),ee.isTransformDirty||(ee.isTransformDirty=ee.parent.isTransformDirty))}function cleanDirtyNodes(ee){ee.isProjectionDirty=ee.isSharedProjectionDirty=ee.isTransformDirty=!1}function clearSnapshot(ee){ee.clearSnapshot()}function clearMeasurements(ee){ee.clearMeasurements()}function clearIsLayoutDirty(ee){ee.isLayoutDirty=!1}function resetTransformStyle(ee){const{visualElement:$}=ee.options;$&&$.getProps().onBeforeLayoutMeasure&&$.notify("BeforeLayoutMeasure"),ee.resetTransform()}function finishAnimation(ee){ee.finishAnimation(),ee.targetDelta=ee.relativeTarget=ee.target=void 0,ee.isProjectionDirty=!0}function resolveTargetDelta(ee){ee.resolveTargetDelta()}function calcProjection(ee){ee.calcProjection()}function resetSkewAndRotation(ee){ee.resetSkewAndRotation()}function removeLeadSnapshots(ee){ee.removeLeadSnapshot()}function mixAxisDelta(ee,$,te){ee.translate=mixNumber$1($.translate,0,te),ee.scale=mixNumber$1($.scale,1,te),ee.origin=$.origin,ee.originPoint=$.originPoint}function mixAxis(ee,$,te,ne){ee.min=mixNumber$1($.min,te.min,ne),ee.max=mixNumber$1($.max,te.max,ne)}function mixBox(ee,$,te,ne){mixAxis(ee.x,$.x,te.x,ne),mixAxis(ee.y,$.y,te.y,ne)}function hasOpacityCrossfade(ee){return ee.animationValues&&ee.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=ee=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(ee),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(ee){ee.min=roundPoint(ee.min),ee.max=roundPoint(ee.max)}function roundBox(ee){roundAxis(ee.x),roundAxis(ee.y)}function shouldAnimatePositionOnly(ee,$,te){return ee==="position"||ee==="preserve-aspect"&&!isNear(aspectRatio($),aspectRatio(te),.2)}function checkNodeWasScrollRoot(ee){var $;return ee!==ee.root&&(($=ee.scroll)===null||$===void 0?void 0:$.wasRoot)}const DocumentProjectionNode=createProjectionNode$1({attachResizeListener:(ee,$)=>addDomEvent(ee,"resize",$),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode$1({measureScroll:ee=>({x:ee.scrollLeft,y:ee.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const ee=new DocumentProjectionNode({});ee.mount(window),ee.setOptions({layoutScroll:!0}),rootProjectionNode.current=ee}return rootProjectionNode.current},resetTransform:(ee,$)=>{ee.style.transform=$!==void 0?$:"none"},checkIsScrollRoot:ee=>window.getComputedStyle(ee).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function addHoverEvent(ee,$){const te=$?"pointerenter":"pointerleave",ne=$?"onHoverStart":"onHoverEnd",ie=(se,le)=>{if(se.pointerType==="touch"||isDragActive())return;const oe=ee.getProps();ee.animationState&&oe.whileHover&&ee.animationState.setActive("whileHover",$);const ce=oe[ne];ce&&frame$1.postRender(()=>ce(se,le))};return addPointerEvent(ee.current,te,ie,{passive:!ee.getProps()[ne]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let $=!1;try{$=this.node.current.matches(":focus-visible")}catch{$=!0}!$||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(ee,$)=>$?ee===$?!0:isNodeOrChild(ee,$.parentElement):!1;function fireSyntheticPointerEvent(ee,$){if(!$)return;const te=new PointerEvent("pointer"+ee);$(te,extractEventInfo(te))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=($,te)=>{if(this.isPressing)return;this.removeEndListeners();const ne=this.node.getProps(),se=addPointerEvent(window,"pointerup",(oe,ce)=>{if(!this.checkPressEnd())return;const{onTap:ae,onTapCancel:he,globalTapTarget:de}=this.node.getProps(),pe=!de&&!isNodeOrChild(this.node.current,oe.target)?he:ae;pe&&frame$1.update(()=>pe(oe,ce))},{passive:!(ne.onTap||ne.onPointerUp)}),le=addPointerEvent(window,"pointercancel",(oe,ce)=>this.cancelPress(oe,ce),{passive:!(ne.onTapCancel||ne.onPointerCancel)});this.removeEndListeners=pipe(se,le),this.startPress($,te)},this.startAccessiblePress=()=>{const $=se=>{if(se.key!=="Enter"||this.isPressing)return;const le=oe=>{oe.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(ce,ae)=>{const{onTap:he}=this.node.getProps();he&&frame$1.postRender(()=>he(ce,ae))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",le),fireSyntheticPointerEvent("down",(oe,ce)=>{this.startPress(oe,ce)})},te=addDomEvent(this.node.current,"keydown",$),ne=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(se,le)=>this.cancelPress(se,le))},ie=addDomEvent(this.node.current,"blur",ne);this.removeAccessibleListeners=pipe(te,ie)}}startPress($,te){this.isPressing=!0;const{onTapStart:ne,whileTap:ie}=this.node.getProps();ie&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),ne&&frame$1.postRender(()=>ne($,te))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress($,te){if(!this.checkPressEnd())return;const{onTapCancel:ne}=this.node.getProps();ne&&frame$1.postRender(()=>ne($,te))}mount(){const $=this.node.getProps(),te=addPointerEvent($.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!($.onTapStart||$.onPointerStart)}),ne=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(te,ne)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=ee=>{const $=observerCallbacks.get(ee.target);$&&$(ee)},fireAllObserverCallbacks=ee=>{ee.forEach(fireObserverCallback)};function initIntersectionObserver({root:ee,...$}){const te=ee||document;observers.has(te)||observers.set(te,{});const ne=observers.get(te),ie=JSON.stringify($);return ne[ie]||(ne[ie]=new IntersectionObserver(fireAllObserverCallbacks,{root:ee,...$})),ne[ie]}function observeIntersection(ee,$,te){const ne=initIntersectionObserver($);return observerCallbacks.set(ee,te),ne.observe(ee),()=>{observerCallbacks.delete(ee),ne.unobserve(ee)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:$={}}=this.node.getProps(),{root:te,margin:ne,amount:ie="some",once:se}=$,le={root:te?te.current:void 0,rootMargin:ne,threshold:typeof ie=="number"?ie:thresholdNames[ie]},oe=ce=>{const{isIntersecting:ae}=ce;if(this.isInView===ae||(this.isInView=ae,se&&!ae&&this.hasEnteredView))return;ae&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",ae);const{onViewportEnter:he,onViewportLeave:de}=this.node.getProps(),pe=ae?he:de;pe&&pe(ce)};return observeIntersection(this.node.current,le,oe)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:$,prevProps:te}=this.node;["amount","margin","root"].some(hasViewportOptionChanged($,te))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:ee={}},{viewport:$={}}={}){return te=>ee[te]!==$[te]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},MotionConfigContext=reactExports.createContext({transformPagePoint:ee=>ee,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});let scheduleHandoffComplete=!1;function useVisualElement(ee,$,te,ne,ie){var se;const{visualElement:le}=reactExports.useContext(MotionContext),oe=reactExports.useContext(LazyContext),ce=reactExports.useContext(PresenceContext),ae=reactExports.useContext(MotionConfigContext).reducedMotion,he=reactExports.useRef();ne=ne||oe.renderer,!he.current&&ne&&(he.current=ne(ee,{visualState:$,parent:le,props:te,presenceContext:ce,blockInitialAnimation:ce?ce.initial===!1:!1,reducedMotionConfig:ae}));const de=he.current,pe=reactExports.useContext(SwitchLayoutGroupContext);de&&!de.projection&&ie&&(de.type==="html"||de.type==="svg")&&createProjectionNode(he.current,te,ie,pe),reactExports.useInsertionEffect(()=>{de&&de.update(te,ce)});const re=te[optimizedAppearDataAttribute],Ae=reactExports.useRef(!!re&&!window.MotionHandoffIsComplete&&((se=window.MotionHasOptimisedAnimation)===null||se===void 0?void 0:se.call(window,re)));return useIsomorphicLayoutEffect$1(()=>{de&&(de.updateFeatures(),microtask.render(de.render),Ae.current&&de.animationState&&de.animationState.animateChanges())}),reactExports.useEffect(()=>{de&&(!Ae.current&&de.animationState&&de.animationState.animateChanges(),Ae.current=!1,scheduleHandoffComplete||(scheduleHandoffComplete=!0,queueMicrotask(completeHandoff)))}),de}function completeHandoff(){window.MotionHandoffIsComplete=!0}function createProjectionNode(ee,$,te,ne){const{layoutId:ie,layout:se,drag:le,dragConstraints:oe,layoutScroll:ce,layoutRoot:ae}=$;ee.projection=new te(ee.latestValues,$["data-framer-portal-id"]?void 0:getClosestProjectingNode(ee.parent)),ee.projection.setOptions({layoutId:ie,layout:se,alwaysMeasureLayout:!!le||oe&&isRefObject(oe),visualElement:ee,animationType:typeof se=="string"?se:"both",initialPromotionConfig:ne,layoutScroll:ce,layoutRoot:ae})}function getClosestProjectingNode(ee){if(ee)return ee.options.allowProjection!==!1?ee.projection:getClosestProjectingNode(ee.parent)}function useMotionRef(ee,$,te){return reactExports.useCallback(ne=>{ne&&ee.mount&&ee.mount(ne),$&&(ne?$.mount(ne):$.unmount()),te&&(typeof te=="function"?te(ne):isRefObject(te)&&(te.current=ne))},[$])}function isControllingVariants(ee){return isAnimationControls(ee.animate)||variantProps.some($=>isVariantLabel(ee[$]))}function isVariantNode(ee){return!!(isControllingVariants(ee)||ee.variants)}function getCurrentTreeVariants(ee,$){if(isControllingVariants(ee)){const{initial:te,animate:ne}=ee;return{initial:te===!1||isVariantLabel(te)?te:void 0,animate:isVariantLabel(ne)?ne:void 0}}return ee.inherit!==!1?$:{}}function useCreateMotionContext(ee){const{initial:$,animate:te}=getCurrentTreeVariants(ee,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:$,animate:te}),[variantLabelsAsDependency($),variantLabelsAsDependency(te)])}function variantLabelsAsDependency(ee){return Array.isArray(ee)?ee.join(" "):ee}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const ee in featureProps)featureDefinitions[ee]={isEnabled:$=>featureProps[ee].some(te=>!!$[te])};function loadFeatures(ee){for(const $ in ee)featureDefinitions[$]={...featureDefinitions[$],...ee[$]}}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function createRendererMotionComponent({preloadedFeatures:ee,createVisualElement:$,useRender:te,useVisualState:ne,Component:ie}){ee&&loadFeatures(ee);function se(oe,ce){let ae;const he={...reactExports.useContext(MotionConfigContext),...oe,layoutId:useLayoutId(oe)},{isStatic:de}=he,pe=useCreateMotionContext(oe),re=ne(oe,de);if(!de&&isBrowser$1){useStrictMode();const Ae=getProjectionFunctionality(he);ae=Ae.MeasureLayout,pe.visualElement=useVisualElement(ie,re,he,$,Ae.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:pe,children:[ae&&pe.visualElement?jsxRuntimeExports.jsx(ae,{visualElement:pe.visualElement,...he}):null,te(ie,oe,useMotionRef(re,pe.visualElement,ce),re,de,pe.visualElement)]})}const le=reactExports.forwardRef(se);return le[motionComponentSymbol]=ie,le}function useLayoutId({layoutId:ee}){const $=reactExports.useContext(LayoutGroupContext).id;return $&&ee!==void 0?$+"-"+ee:ee}function useStrictMode(ee,$){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(ee){const{drag:$,layout:te}=featureDefinitions;if(!$&&!te)return{};const ne={...$,...te};return{MeasureLayout:$!=null&&$.isEnabled(ee)||te!=null&&te.isEnabled(ee)?ne.MeasureLayout:void 0,ProjectionNode:ne.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(ee){return typeof ee!="string"||ee.includes("-")?!1:!!(lowercaseSVGElements.indexOf(ee)>-1||/[A-Z]/u.test(ee))}function renderHTML(ee,{style:$,vars:te},ne,ie){Object.assign(ee.style,$,ie&&ie.getProjectionStyles(ne));for(const se in te)ee.style.setProperty(se,te[se])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(ee,$,te,ne){renderHTML(ee,$,void 0,ne);for(const ie in $.attrs)ee.setAttribute(camelCaseAttributes.has(ie)?ie:camelToDash(ie),$.attrs[ie])}function isForcedMotionValue(ee,{layout:$,layoutId:te}){return transformProps.has(ee)||ee.startsWith("origin")||($||te!==void 0)&&(!!scaleCorrectors[ee]||ee==="opacity")}function scrapeMotionValuesFromProps$1(ee,$,te){var ne;const{style:ie}=ee,se={};for(const le in ie)(isMotionValue(ie[le])||$.style&&isMotionValue($.style[le])||isForcedMotionValue(le,ee)||((ne=te==null?void 0:te.getValue(le))===null||ne===void 0?void 0:ne.liveStyle)!==void 0)&&(se[le]=ie[le]);return te&&ie&&typeof ie.willChange=="string"&&(te.applyWillChange=!1),se}function scrapeMotionValuesFromProps(ee,$,te){const ne=scrapeMotionValuesFromProps$1(ee,$,te);for(const ie in ee)if(isMotionValue(ee[ie])||isMotionValue($[ie])){const se=transformPropOrder.indexOf(ie)!==-1?"attr"+ie.charAt(0).toUpperCase()+ie.substring(1):ie;ne[se]=ee[ie]}return ne}function useConstant(ee){const $=reactExports.useRef(null);return $.current===null&&($.current=ee()),$.current}function makeState({applyWillChange:ee=!1,scrapeMotionValuesFromProps:$,createRenderState:te,onMount:ne},ie,se,le,oe){const ce={latestValues:makeLatestValues(ie,se,le,oe?!1:ee,$),renderState:te()};return ne&&(ce.mount=ae=>ne(ie,ae,ce)),ce}const makeUseVisualState=ee=>($,te)=>{const ne=reactExports.useContext(MotionContext),ie=reactExports.useContext(PresenceContext),se=()=>makeState(ee,$,ne,ie,te);return te?se():useConstant(se)};function addWillChange(ee,$){const te=getWillChangeName($);te&&addUniqueItem(ee,te)}function forEachDefinition(ee,$,te){const ne=Array.isArray($)?$:[$];for(let ie=0;ie<ne.length;ie++){const se=resolveVariantFromProps(ee,ne[ie]);if(se){const{transitionEnd:le,transition:oe,...ce}=se;te(ce,le)}}}function makeLatestValues(ee,$,te,ne,ie){var se;const le={},oe=[],ce=ne&&((se=ee.style)===null||se===void 0?void 0:se.willChange)===void 0,ae=ie(ee,{});for(const Se in ae)le[Se]=resolveMotionValue(ae[Se]);let{initial:he,animate:de}=ee;const pe=isControllingVariants(ee),re=isVariantNode(ee);$&&re&&!pe&&ee.inherit!==!1&&(he===void 0&&(he=$.initial),de===void 0&&(de=$.animate));let Ae=te?te.initial===!1:!1;Ae=Ae||he===!1;const ge=Ae?de:he;return ge&&typeof ge!="boolean"&&!isAnimationControls(ge)&&forEachDefinition(ee,ge,(Se,fe)=>{for(const be in Se){let xe=Se[be];if(Array.isArray(xe)){const ue=Ae?xe.length-1:0;xe=xe[ue]}xe!==null&&(le[be]=xe)}for(const be in fe)le[be]=fe[be]}),ce&&(de&&he!==!1&&!isAnimationControls(de)&&forEachDefinition(ee,de,Se=>{for(const fe in Se)addWillChange(oe,fe)}),oe.length&&(le.willChange=oe.join(","))),le}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),getValueAsType=(ee,$)=>$&&typeof ee=="number"?$.transform(ee):ee,translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(ee,$,te){let ne="",ie=!0;for(let se=0;se<numTransforms;se++){const le=transformPropOrder[se],oe=ee[le];if(oe===void 0)continue;let ce=!0;if(typeof oe=="number"?ce=oe===(le.startsWith("scale")?1:0):ce=parseFloat(oe)===0,!ce||te){const ae=getValueAsType(oe,numberValueTypes[le]);if(!ce){ie=!1;const he=translateAlias[le]||le;ne+=`${he}(${ae}) `}te&&($[le]=ae)}}return ne=ne.trim(),te?ne=te($,ie?"":ne):ie&&(ne="none"),ne}function buildHTMLStyles(ee,$,te){const{style:ne,vars:ie,transformOrigin:se}=ee;let le=!1,oe=!1;for(const ce in $){const ae=$[ce];if(transformProps.has(ce)){le=!0;continue}else if(isCSSVariableName(ce)){ie[ce]=ae;continue}else{const he=getValueAsType(ae,numberValueTypes[ce]);ce.startsWith("origin")?(oe=!0,se[ce]=he):ne[ce]=he}}if($.transform||(le||te?ne.transform=buildTransform($,ee.transform,te):ne.transform&&(ne.transform="none")),oe){const{originX:ce="50%",originY:ae="50%",originZ:he=0}=se;ne.transformOrigin=`${ce} ${ae} ${he}`}}function calcOrigin(ee,$,te){return typeof ee=="string"?ee:px$1.transform($+te*ee)}function calcSVGTransformOrigin(ee,$,te){const ne=calcOrigin($,ee.x,ee.width),ie=calcOrigin(te,ee.y,ee.height);return`${ne} ${ie}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(ee,$,te=1,ne=0,ie=!0){ee.pathLength=1;const se=ie?dashKeys:camelKeys;ee[se.offset]=px$1.transform(-ne);const le=px$1.transform($),oe=px$1.transform(te);ee[se.array]=`${le} ${oe}`}function buildSVGAttrs(ee,{attrX:$,attrY:te,attrScale:ne,originX:ie,originY:se,pathLength:le,pathSpacing:oe=1,pathOffset:ce=0,...ae},he,de){if(buildHTMLStyles(ee,ae,de),he){ee.style.viewBox&&(ee.attrs.viewBox=ee.style.viewBox);return}ee.attrs=ee.style,ee.style={};const{attrs:pe,style:re,dimensions:Ae}=ee;pe.transform&&(Ae&&(re.transform=pe.transform),delete pe.transform),Ae&&(ie!==void 0||se!==void 0||re.transform)&&(re.transformOrigin=calcSVGTransformOrigin(Ae,ie!==void 0?ie:.5,se!==void 0?se:.5)),$!==void 0&&(pe.x=$),te!==void 0&&(pe.y=te),ne!==void 0&&(pe.scale=ne),le!==void 0&&buildSVGPath(pe,le,oe,ce,!1)}const isSVGTag=ee=>typeof ee=="string"&&ee.toLowerCase()==="svg",svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(ee,$,{renderState:te,latestValues:ne})=>{frame$1.read(()=>{try{te.dimensions=typeof $.getBBox=="function"?$.getBBox():$.getBoundingClientRect()}catch{te.dimensions={x:0,y:0,width:0,height:0}}}),frame$1.render(()=>{buildSVGAttrs(te,ne,isSVGTag($.tagName),ee.transformTemplate),renderSVG($,te)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({applyWillChange:!0,scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(ee,$,te){for(const ne in $)!isMotionValue($[ne])&&!isForcedMotionValue(ne,te)&&(ee[ne]=$[ne])}function useInitialMotionValues({transformTemplate:ee},$){return reactExports.useMemo(()=>{const te=createHtmlRenderState();return buildHTMLStyles(te,$,ee),Object.assign({},te.vars,te.style)},[$])}function useStyle(ee,$){const te=ee.style||{},ne={};return copyRawValuesOnly(ne,te,ee),Object.assign(ne,useInitialMotionValues(ee,$)),ne}function useHTMLProps(ee,$){const te={},ne=useStyle(ee,$);return ee.drag&&ee.dragListener!==!1&&(te.draggable=!1,ne.userSelect=ne.WebkitUserSelect=ne.WebkitTouchCallout="none",ne.touchAction=ee.drag===!0?"none":`pan-${ee.drag==="x"?"y":"x"}`),ee.tabIndex===void 0&&(ee.onTap||ee.onTapStart||ee.whileTap)&&(te.tabIndex=0),te.style=ne,te}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(ee){return ee.startsWith("while")||ee.startsWith("drag")&&ee!=="draggable"||ee.startsWith("layout")||ee.startsWith("onTap")||ee.startsWith("onPan")||ee.startsWith("onLayout")||validMotionProps.has(ee)}let shouldForward=ee=>!isValidMotionProp(ee);function loadExternalIsValidProp(ee){ee&&(shouldForward=$=>$.startsWith("on")?!isValidMotionProp($):ee($))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(ee,$,te){const ne={};for(const ie in ee)ie==="values"&&typeof ee.values=="object"||(shouldForward(ie)||te===!0&&isValidMotionProp(ie)||!$&&!isValidMotionProp(ie)||ee.draggable&&ie.startsWith("onDrag"))&&(ne[ie]=ee[ie]);return ne}function useSVGProps(ee,$,te,ne){const ie=reactExports.useMemo(()=>{const se=createSvgRenderState();return buildSVGAttrs(se,$,isSVGTag(ne),ee.transformTemplate),{...se.attrs,style:{...se.style}}},[$]);if(ee.style){const se={};copyRawValuesOnly(se,ee.style,ee),ie.style={...se,...ie.style}}return ie}function createUseRender(ee=!1){return(te,ne,ie,{latestValues:se},le)=>{const ce=(isSVGComponent(te)?useSVGProps:useHTMLProps)(ne,se,le,te),ae=filterProps(ne,typeof te=="string",ee),he=te!==reactExports.Fragment?{...ae,...ce,ref:ie}:{},{children:de}=ne,pe=reactExports.useMemo(()=>isMotionValue(de)?de.get():de,[de]);return reactExports.createElement(te,{...he,children:pe})}}function createMotionComponentFactory(ee,$){return function(ne,{forwardMotionProps:ie}={forwardMotionProps:!1}){const le={...isSVGComponent(ne)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:ee,useRender:createUseRender(ie),createVisualElement:$,Component:ne};return createRendererMotionComponent(le)}}const prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const ee=window.matchMedia("(prefers-reduced-motion)"),$=()=>prefersReducedMotion.current=ee.matches;ee.addListener($),$()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(ee,$,te){for(const ne in $){const ie=$[ne],se=te[ne];if(isMotionValue(ie))ee.addValue(ne,ie);else if(isMotionValue(se))ee.addValue(ne,motionValue(ie,{owner:ee}));else if(se!==ie)if(ee.hasValue(ne)){const le=ee.getValue(ne);le.liveStyle===!0?le.jump(ie):le.hasAnimated||le.set(ie)}else{const le=ee.getStaticValue(ne);ee.addValue(ne,motionValue(le!==void 0?le:ie,{owner:ee}))}}for(const ne in te)$[ne]===void 0&&ee.removeValue(ne);return $}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=ee=>valueTypes.find(testValueType(ee)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{scrapeMotionValuesFromProps($,te,ne){return{}}constructor({parent:$,props:te,presenceContext:ne,reducedMotionConfig:ie,blockInitialAnimation:se,visualState:le},oe={}){this.applyWillChange=!1,this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,frame$1.render(this.render,!1,!0))};const{latestValues:ce,renderState:ae}=le;this.latestValues=ce,this.baseTarget={...ce},this.initialValues=te.initial?{...ce}:{},this.renderState=ae,this.parent=$,this.props=te,this.presenceContext=ne,this.depth=$?$.depth+1:0,this.reducedMotionConfig=ie,this.options=oe,this.blockInitialAnimation=!!se,this.isControllingVariants=isControllingVariants(te),this.isVariantNode=isVariantNode(te),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!($&&$.current);const{willChange:he,...de}=this.scrapeMotionValuesFromProps(te,{},this);for(const pe in de){const re=de[pe];ce[pe]!==void 0&&isMotionValue(re)&&re.set(ce[pe],!1)}}mount($){this.current=$,visualElementStore.set($,this),this.projection&&!this.projection.instance&&this.projection.mount($),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((te,ne)=>this.bindToMotionValue(ne,te)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach($=>$()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const $ in this.events)this.events[$].clear();for(const $ in this.features){const te=this.features[$];te&&(te.unmount(),te.isMounted=!1)}this.current=null}bindToMotionValue($,te){this.valueSubscriptions.has($)&&this.valueSubscriptions.get($)();const ne=transformProps.has($),ie=te.on("change",oe=>{this.latestValues[$]=oe,this.props.onUpdate&&frame$1.preRender(this.notifyUpdate),ne&&this.projection&&(this.projection.isTransformDirty=!0)}),se=te.on("renderRequest",this.scheduleRender);let le;window.MotionCheckAppearSync&&(le=window.MotionCheckAppearSync(this,$,te)),this.valueSubscriptions.set($,()=>{ie(),se(),le&&le(),te.owner&&te.stop()})}sortNodePosition($){return!this.current||!this.sortInstanceNodePosition||this.type!==$.type?0:this.sortInstanceNodePosition(this.current,$.current)}updateFeatures(){let $="animation";for($ in featureDefinitions){const te=featureDefinitions[$];if(!te)continue;const{isEnabled:ne,Feature:ie}=te;if(!this.features[$]&&ie&&ne(this.props)&&(this.features[$]=new ie(this)),this.features[$]){const se=this.features[$];se.isMounted?se.update():(se.mount(),se.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue($){return this.latestValues[$]}setStaticValue($,te){this.latestValues[$]=te}update($,te){($.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=$,this.prevPresenceContext=this.presenceContext,this.presenceContext=te;for(let ne=0;ne<propEventHandlers.length;ne++){const ie=propEventHandlers[ne];this.propEventSubscriptions[ie]&&(this.propEventSubscriptions[ie](),delete this.propEventSubscriptions[ie]);const se="on"+ie,le=$[se];le&&(this.propEventSubscriptions[ie]=this.on(ie,le))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps($,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant($){return this.props.variants?this.props.variants[$]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext($=!1){if($)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const ne=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(ne.initial=this.props.initial),ne}const te={};for(let ne=0;ne<numVariantProps;ne++){const ie=variantProps[ne],se=this.props[ie];(isVariantLabel(se)||se===!1)&&(te[ie]=se)}return te}addVariantChild($){const te=this.getClosestVariantNode();if(te)return te.variantChildren&&te.variantChildren.add($),()=>te.variantChildren.delete($)}addValue($,te){const ne=this.values.get($);te!==ne&&(ne&&this.removeValue($),this.bindToMotionValue($,te),this.values.set($,te),this.latestValues[$]=te.get())}removeValue($){this.values.delete($);const te=this.valueSubscriptions.get($);te&&(te(),this.valueSubscriptions.delete($)),delete this.latestValues[$],this.removeValueFromRenderState($,this.renderState)}hasValue($){return this.values.has($)}getValue($,te){if(this.props.values&&this.props.values[$])return this.props.values[$];let ne=this.values.get($);return ne===void 0&&te!==void 0&&(ne=motionValue(te===null?void 0:te,{owner:this}),this.addValue($,ne)),ne}readValue($,te){var ne;let ie=this.latestValues[$]!==void 0||!this.current?this.latestValues[$]:(ne=this.getBaseTargetFromProps(this.props,$))!==null&&ne!==void 0?ne:this.readValueFromInstance(this.current,$,this.options);return ie!=null&&(typeof ie=="string"&&(isNumericalString(ie)||isZeroValueString(ie))?ie=parseFloat(ie):!findValueType(ie)&&complex.test(te)&&(ie=getAnimatableNone($,te)),this.setBaseTarget($,isMotionValue(ie)?ie.get():ie)),isMotionValue(ie)?ie.get():ie}setBaseTarget($,te){this.baseTarget[$]=te}getBaseTarget($){var te;const{initial:ne}=this.props;let ie;if(typeof ne=="string"||typeof ne=="object"){const le=resolveVariantFromProps(this.props,ne,(te=this.presenceContext)===null||te===void 0?void 0:te.custom);le&&(ie=le[$])}if(ne&&ie!==void 0)return ie;const se=this.getBaseTargetFromProps(this.props,$);return se!==void 0&&!isMotionValue(se)?se:this.initialValues[$]!==void 0&&ie===void 0?void 0:this.baseTarget[$]}on($,te){return this.events[$]||(this.events[$]=new SubscriptionManager),this.events[$].add(te)}notify($,...te){this.events[$]&&this.events[$].notify(...te)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition($,te){return $.compareDocumentPosition(te)&2?1:-1}getBaseTargetFromProps($,te){return $.style?$.style[te]:void 0}removeValueFromRenderState($,{vars:te,style:ne}){delete te[$],delete ne[$]}}function getComputedStyle$1(ee){return window.getComputedStyle(ee)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=renderHTML}readValueFromInstance($,te){if(transformProps.has(te)){const ne=getDefaultValueType(te);return ne&&ne.default||0}else{const ne=getComputedStyle$1($),ie=(isCSSVariableName(te)?ne.getPropertyValue(te):ne[te])||0;return typeof ie=="string"?ie.trim():ie}}measureInstanceViewportBox($,{transformPagePoint:te}){return measureViewportBox($,te)}build($,te,ne){buildHTMLStyles($,te,ne.transformTemplate)}scrapeMotionValuesFromProps($,te,ne){return scrapeMotionValuesFromProps$1($,te,ne)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:$}=this.props;isMotionValue($)&&(this.childSubscription=$.on("change",te=>{this.current&&(this.current.textContent=`${te}`)}))}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps($,te){return $[te]}readValueFromInstance($,te){if(transformProps.has(te)){const ne=getDefaultValueType(te);return ne&&ne.default||0}return te=camelCaseAttributes.has(te)?te:camelToDash(te),$.getAttribute(te)}scrapeMotionValuesFromProps($,te,ne){return scrapeMotionValuesFromProps($,te,ne)}build($,te,ne){buildSVGAttrs($,te,this.isSVGTag,ne.transformTemplate)}renderInstance($,te,ne,ie){renderSVG($,te,ne,ie)}mount($){this.isSVGTag=isSVGTag($.tagName),super.mount($)}}const createDomVisualElement=(ee,$)=>isSVGComponent(ee)?new SVGVisualElement($):new HTMLVisualElement($,{allowProjection:ee!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function resolveElements(ee,$,te){return typeof ee=="string"?ee=document.querySelectorAll(ee):ee instanceof Element&&(ee=[ee]),Array.from(ee||[])}const thresholds={some:0,all:1};function inView(ee,$,{root:te,margin:ne,amount:ie="some"}={}){const se=resolveElements(ee),le=new WeakMap,oe=ae=>{ae.forEach(he=>{const de=le.get(he.target);if(he.isIntersecting!==!!de)if(he.isIntersecting){const pe=$(he);typeof pe=="function"?le.set(he.target,pe):ce.unobserve(he.target)}else de&&(de(he),le.delete(he.target))})},ce=new IntersectionObserver(oe,{root:te,rootMargin:ne,threshold:typeof ie=="number"?ie:thresholds[ie]});return se.forEach(ae=>ce.observe(ae)),()=>ce.disconnect()}function useInView(ee,{root:$,margin:te,amount:ne,once:ie=!1}={}){const[se,le]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!ee.current||ie&&se)return;const oe=()=>(le(!0),ie?void 0:()=>le(!1)),ce={root:$&&$.current||void 0,margin:te,amount:ne};return inView(ee.current,oe,ce)},[$,ee,te,ie,ne]),se}const isNil=ee=>ee==null,insertCursor=(ee,$)=>{if(typeof $!="string"){const{children:ne,...ie}=$.props;$.key||(ie.key="typist-cursor"),$=React$4.cloneElement($,ie,ne)}const te=ne=>{if(!ne)return ne;if(ne.length===0)return[$];const ie=ne[ne.length-1];if(typeof ie=="string")return[...ne,$];const{children:se,...le}=ie.props;if(isNil(se))return[...ne,$];const oe=te(se),ce=React$4.cloneElement(ie,le,oe);return[...ne.slice(0,-1),ce]};return te(ee)},emptyFunc=()=>{},defaultSplitter=ee=>ee.split(""),Backspace=ee=>null,Delay=ee=>null,getTypedChildren=(ee,$)=>{let te=0;const ne=ie=>reactExports.Children.map(ie,le=>{if(te>=$.length)return null;if(reactExports.isValidElement(le)){if(le.type===Backspace||le.type===Delay)return null;const{children:oe,...ce}=le.props;if(isNil(oe))return $[te++];const ae=ne(oe);return ae&&ae.length===0?null:reactExports.cloneElement(le,ce,ae)}return typeof le=="string"||typeof le=="number"?$[te++]:null});return ne(ee)},Paste=({children:ee})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ee});function getTypedChildrenArray(ee,$){const te=[],ne=[];let ie=!1;const se=le=>{reactExports.Children.forEach(le,oe=>{if(reactExports.isValidElement(oe)){if(oe.type===Delay)return;if(oe.type===Backspace){let de=oe.props.count;for(;de--;){let pe=ne.length-1,re=ne[pe];for(;re===null&&pe>0;)pe-=1,re=ne[pe];if(re===null)break;if(typeof re=="object"&&(ne[pe]=null),typeof re=="string"){const ge=$(re).slice(0,-1).join("");ne[pe]=ge||null}te.push([...ne])}return}if(oe.type===Paste){ie=!0,reactExports.Children.forEach(oe.props.children,se),ie=!1;return}if(isNil(oe.props.children)){ne.push(oe),te.push([...ne]);return}reactExports.Children.forEach(oe.props.children,se)}const ce=(()=>{if(typeof oe=="number")return oe.toString(10);if(typeof oe=="string")return oe})();if(ce===void 0)return;if(ie){ne.push(ce),te.push([...ne]);return}const ae=$(ce),he=ne.length;for(let de=1;de<=ae.length;de++){const pe=ae.slice(0,de).join("");ne[he]=pe,te.push([...ne])}})};return se(ee),te.map(le=>getTypedChildren(ee,le))}const typeToken=ee=>({type:"TYPE_TOKEN",payload:ee}),backspace=ee=>({type:"BACKSPACE",payload:ee}),pause=ee=>({type:"DELAY",payload:ee}),paste=ee=>({type:"PASTE",payload:ee}),getActions=(ee,$)=>{const te=[];let ne=!1,ie=0;const se=le=>{reactExports.Children.forEach(le,oe=>{if(reactExports.isValidElement(oe)){if(oe.type===Backspace){const he=oe.props.count,de=he>ie?ie:he;ie-=de,te.push(backspace(de));return}if(oe.type===Delay){te.push(pause(oe.props.ms));return}if(oe.type===Paste){ne=!0,reactExports.Children.forEach(oe.props.children,se),ne=!1;return}if(isNil(oe.props.children)){ie+=1,te.push(typeToken(oe));return}reactExports.Children.forEach(oe.props.children,se)}const ce=(()=>{if(typeof oe=="number")return oe.toString(10);if(typeof oe=="string")return oe})();if(ce===void 0)return;if(ne){ie+=$(ce).length,te.push(paste(ce));return}const ae=$(ce);ie+=ae.length,ae.forEach(he=>{te.push(typeToken(he))})})};return se(ee),te},Main=({cursor:ee,disabled:$=!1,restartKey:te,children:ne,splitter:ie=defaultSplitter,typingDelay:se=75,backspaceDelay:le=se,onTypingDone:oe,startDelay:ce=0,finishDelay:ae=0,loop:he=!1,pause:de=!1,hideCursorWhenDone:pe=!1})=>{const[re,Ae]=reactExports.useState([]),[ge,Se]=reactExports.useState(-1),fe=reactExports.useRef(emptyFunc),be=reactExports.useRef(he),xe=reactExports.useRef(de),ue=reactExports.useRef(pe),[we,Fe]=reactExports.useState(!0),_e=reactExports.useCallback(Re=>new Promise((Ye,ke)=>{const $e=typeof Re=="number"?Re:Re(),Be=setTimeout(Ye,$e);fe.current=()=>{clearTimeout(Be),ke()}}),[]),Ee=reactExports.useCallback(()=>new Promise((Re,Ye)=>{const ke=setInterval(()=>{xe.current||(clearInterval(ke),Re())});fe.current=()=>{clearInterval(ke),Ye()}}),[]),Ce=reactExports.useCallback(()=>new Promise((Re,Ye)=>{const ke=setInterval(()=>{be.current&&(clearInterval(ke),Re())});fe.current=()=>{clearInterval(ke),Ye()}}),[]);reactExports.useEffect(()=>{be.current=he,xe.current=de,ue.current=pe},[he,de,pe]),reactExports.useEffect(()=>{const Re=getTypedChildrenArray(ne,ie);if(Ae(Re),$){Se(Re.length-1);return}return(async()=>{try{do{Fe(!0),Se(-1);const Ye=getActions(ne,ie);ce>0&&await _e(ce);for(const{type:ke,payload:$e}of Ye)if(xe.current&&await Ee(),ke==="TYPE_TOKEN")Se(Be=>Be+1),await _e(se);else if(ke==="BACKSPACE"){let Be=$e;for(;Be--;)Se(Pe=>Pe+1),await _e(le)}else ke==="PASTE"?Se(Be=>Be+1):ke==="DELAY"&&await _e($e);oe==null||oe(),ue.current&&Fe(!1),ae>0&&await _e(ae),be.current||await Ce()}while(be.current)}catch{}})(),()=>{fe.current()}},[te,$]);const ye=re[ge];return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ee&&we?insertCursor(ye,ee):ye})},Typist=Object.assign(Main,{Delay,Backspace,Paste});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="174",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001,TimestampQuery={COMPUTE:"compute",RENDER:"render"};let EventDispatcher$1=class{addEventListener($,te){this._listeners===void 0&&(this._listeners={});const ne=this._listeners;ne[$]===void 0&&(ne[$]=[]),ne[$].indexOf(te)===-1&&ne[$].push(te)}hasEventListener($,te){const ne=this._listeners;return ne===void 0?!1:ne[$]!==void 0&&ne[$].indexOf(te)!==-1}removeEventListener($,te){const ne=this._listeners;if(ne===void 0)return;const ie=ne[$];if(ie!==void 0){const se=ie.indexOf(te);se!==-1&&ie.splice(se,1)}}dispatchEvent($){const te=this._listeners;if(te===void 0)return;const ne=te[$.type];if(ne!==void 0){$.target=this;const ie=ne.slice(0);for(let se=0,le=ie.length;se<le;se++)ie[se].call(this,$);$.target=null}}};const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const ee=Math.random()*4294967295|0,$=Math.random()*4294967295|0,te=Math.random()*4294967295|0,ne=Math.random()*4294967295|0;return(_lut[ee&255]+_lut[ee>>8&255]+_lut[ee>>16&255]+_lut[ee>>24&255]+"-"+_lut[$&255]+_lut[$>>8&255]+"-"+_lut[$>>16&15|64]+_lut[$>>24&255]+"-"+_lut[te&63|128]+_lut[te>>8&255]+"-"+_lut[te>>16&255]+_lut[te>>24&255]+_lut[ne&255]+_lut[ne>>8&255]+_lut[ne>>16&255]+_lut[ne>>24&255]).toLowerCase()}function clamp$1(ee,$,te){return Math.max($,Math.min(te,ee))}function euclideanModulo(ee,$){return(ee%$+$)%$}function mapLinear(ee,$,te,ne,ie){return ne+(ee-$)*(ie-ne)/(te-$)}function inverseLerp(ee,$,te){return ee!==$?(te-ee)/($-ee):0}function lerp(ee,$,te){return(1-te)*ee+te*$}function damp(ee,$,te,ne){return lerp(ee,$,1-Math.exp(-te*ne))}function pingpong(ee,$=1){return $-Math.abs(euclideanModulo(ee,$*2)-$)}function smoothstep(ee,$,te){return ee<=$?0:ee>=te?1:(ee=(ee-$)/(te-$),ee*ee*(3-2*ee))}function smootherstep(ee,$,te){return ee<=$?0:ee>=te?1:(ee=(ee-$)/(te-$),ee*ee*ee*(ee*(ee*6-15)+10))}function randInt(ee,$){return ee+Math.floor(Math.random()*($-ee+1))}function randFloat(ee,$){return ee+Math.random()*($-ee)}function randFloatSpread(ee){return ee*(.5-Math.random())}function seededRandom(ee){ee!==void 0&&(_seed=ee);let $=_seed+=1831565813;return $=Math.imul($^$>>>15,$|1),$^=$+Math.imul($^$>>>7,$|61),(($^$>>>14)>>>0)/4294967296}function degToRad(ee){return ee*DEG2RAD}function radToDeg(ee){return ee*RAD2DEG}function isPowerOfTwo(ee){return(ee&ee-1)===0&&ee!==0}function ceilPowerOfTwo(ee){return Math.pow(2,Math.ceil(Math.log(ee)/Math.LN2))}function floorPowerOfTwo(ee){return Math.pow(2,Math.floor(Math.log(ee)/Math.LN2))}function setQuaternionFromProperEuler(ee,$,te,ne,ie){const se=Math.cos,le=Math.sin,oe=se(te/2),ce=le(te/2),ae=se(($+ne)/2),he=le(($+ne)/2),de=se(($-ne)/2),pe=le(($-ne)/2),re=se((ne-$)/2),Ae=le((ne-$)/2);switch(ie){case"XYX":ee.set(oe*he,ce*de,ce*pe,oe*ae);break;case"YZY":ee.set(ce*pe,oe*he,ce*de,oe*ae);break;case"ZXZ":ee.set(ce*de,ce*pe,oe*he,oe*ae);break;case"XZX":ee.set(oe*he,ce*Ae,ce*re,oe*ae);break;case"YXY":ee.set(ce*re,oe*he,ce*Ae,oe*ae);break;case"ZYZ":ee.set(ce*Ae,ce*re,oe*he,oe*ae);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+ie)}}function denormalize(ee,$){switch($.constructor){case Float32Array:return ee;case Uint32Array:return ee/4294967295;case Uint16Array:return ee/65535;case Uint8Array:return ee/255;case Int32Array:return Math.max(ee/2147483647,-1);case Int16Array:return Math.max(ee/32767,-1);case Int8Array:return Math.max(ee/127,-1);default:throw new Error("Invalid component type.")}}function normalize(ee,$){switch($.constructor){case Float32Array:return ee;case Uint32Array:return Math.round(ee*4294967295);case Uint16Array:return Math.round(ee*65535);case Uint8Array:return Math.round(ee*255);case Int32Array:return Math.round(ee*2147483647);case Int16Array:return Math.round(ee*32767);case Int8Array:return Math.round(ee*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp:clamp$1,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor($=0,te=0){Vector2.prototype.isVector2=!0,this.x=$,this.y=te}get width(){return this.x}set width($){this.x=$}get height(){return this.y}set height($){this.y=$}set($,te){return this.x=$,this.y=te,this}setScalar($){return this.x=$,this.y=$,this}setX($){return this.x=$,this}setY($){return this.y=$,this}setComponent($,te){switch($){case 0:this.x=te;break;case 1:this.y=te;break;default:throw new Error("index is out of range: "+$)}return this}getComponent($){switch($){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+$)}}clone(){return new this.constructor(this.x,this.y)}copy($){return this.x=$.x,this.y=$.y,this}add($){return this.x+=$.x,this.y+=$.y,this}addScalar($){return this.x+=$,this.y+=$,this}addVectors($,te){return this.x=$.x+te.x,this.y=$.y+te.y,this}addScaledVector($,te){return this.x+=$.x*te,this.y+=$.y*te,this}sub($){return this.x-=$.x,this.y-=$.y,this}subScalar($){return this.x-=$,this.y-=$,this}subVectors($,te){return this.x=$.x-te.x,this.y=$.y-te.y,this}multiply($){return this.x*=$.x,this.y*=$.y,this}multiplyScalar($){return this.x*=$,this.y*=$,this}divide($){return this.x/=$.x,this.y/=$.y,this}divideScalar($){return this.multiplyScalar(1/$)}applyMatrix3($){const te=this.x,ne=this.y,ie=$.elements;return this.x=ie[0]*te+ie[3]*ne+ie[6],this.y=ie[1]*te+ie[4]*ne+ie[7],this}min($){return this.x=Math.min(this.x,$.x),this.y=Math.min(this.y,$.y),this}max($){return this.x=Math.max(this.x,$.x),this.y=Math.max(this.y,$.y),this}clamp($,te){return this.x=clamp$1(this.x,$.x,te.x),this.y=clamp$1(this.y,$.y,te.y),this}clampScalar($,te){return this.x=clamp$1(this.x,$,te),this.y=clamp$1(this.y,$,te),this}clampLength($,te){const ne=this.length();return this.divideScalar(ne||1).multiplyScalar(clamp$1(ne,$,te))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot($){return this.x*$.x+this.y*$.y}cross($){return this.x*$.y-this.y*$.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo($){const te=Math.sqrt(this.lengthSq()*$.lengthSq());if(te===0)return Math.PI/2;const ne=this.dot($)/te;return Math.acos(clamp$1(ne,-1,1))}distanceTo($){return Math.sqrt(this.distanceToSquared($))}distanceToSquared($){const te=this.x-$.x,ne=this.y-$.y;return te*te+ne*ne}manhattanDistanceTo($){return Math.abs(this.x-$.x)+Math.abs(this.y-$.y)}setLength($){return this.normalize().multiplyScalar($)}lerp($,te){return this.x+=($.x-this.x)*te,this.y+=($.y-this.y)*te,this}lerpVectors($,te,ne){return this.x=$.x+(te.x-$.x)*ne,this.y=$.y+(te.y-$.y)*ne,this}equals($){return $.x===this.x&&$.y===this.y}fromArray($,te=0){return this.x=$[te],this.y=$[te+1],this}toArray($=[],te=0){return $[te]=this.x,$[te+1]=this.y,$}fromBufferAttribute($,te){return this.x=$.getX(te),this.y=$.getY(te),this}rotateAround($,te){const ne=Math.cos(te),ie=Math.sin(te),se=this.x-$.x,le=this.y-$.y;return this.x=se*ne-le*ie+$.x,this.y=se*ie+le*ne+$.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor($,te,ne,ie,se,le,oe,ce,ae){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],$!==void 0&&this.set($,te,ne,ie,se,le,oe,ce,ae)}set($,te,ne,ie,se,le,oe,ce,ae){const he=this.elements;return he[0]=$,he[1]=ie,he[2]=oe,he[3]=te,he[4]=se,he[5]=ce,he[6]=ne,he[7]=le,he[8]=ae,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy($){const te=this.elements,ne=$.elements;return te[0]=ne[0],te[1]=ne[1],te[2]=ne[2],te[3]=ne[3],te[4]=ne[4],te[5]=ne[5],te[6]=ne[6],te[7]=ne[7],te[8]=ne[8],this}extractBasis($,te,ne){return $.setFromMatrix3Column(this,0),te.setFromMatrix3Column(this,1),ne.setFromMatrix3Column(this,2),this}setFromMatrix4($){const te=$.elements;return this.set(te[0],te[4],te[8],te[1],te[5],te[9],te[2],te[6],te[10]),this}multiply($){return this.multiplyMatrices(this,$)}premultiply($){return this.multiplyMatrices($,this)}multiplyMatrices($,te){const ne=$.elements,ie=te.elements,se=this.elements,le=ne[0],oe=ne[3],ce=ne[6],ae=ne[1],he=ne[4],de=ne[7],pe=ne[2],re=ne[5],Ae=ne[8],ge=ie[0],Se=ie[3],fe=ie[6],be=ie[1],xe=ie[4],ue=ie[7],we=ie[2],Fe=ie[5],_e=ie[8];return se[0]=le*ge+oe*be+ce*we,se[3]=le*Se+oe*xe+ce*Fe,se[6]=le*fe+oe*ue+ce*_e,se[1]=ae*ge+he*be+de*we,se[4]=ae*Se+he*xe+de*Fe,se[7]=ae*fe+he*ue+de*_e,se[2]=pe*ge+re*be+Ae*we,se[5]=pe*Se+re*xe+Ae*Fe,se[8]=pe*fe+re*ue+Ae*_e,this}multiplyScalar($){const te=this.elements;return te[0]*=$,te[3]*=$,te[6]*=$,te[1]*=$,te[4]*=$,te[7]*=$,te[2]*=$,te[5]*=$,te[8]*=$,this}determinant(){const $=this.elements,te=$[0],ne=$[1],ie=$[2],se=$[3],le=$[4],oe=$[5],ce=$[6],ae=$[7],he=$[8];return te*le*he-te*oe*ae-ne*se*he+ne*oe*ce+ie*se*ae-ie*le*ce}invert(){const $=this.elements,te=$[0],ne=$[1],ie=$[2],se=$[3],le=$[4],oe=$[5],ce=$[6],ae=$[7],he=$[8],de=he*le-oe*ae,pe=oe*ce-he*se,re=ae*se-le*ce,Ae=te*de+ne*pe+ie*re;if(Ae===0)return this.set(0,0,0,0,0,0,0,0,0);const ge=1/Ae;return $[0]=de*ge,$[1]=(ie*ae-he*ne)*ge,$[2]=(oe*ne-ie*le)*ge,$[3]=pe*ge,$[4]=(he*te-ie*ce)*ge,$[5]=(ie*se-oe*te)*ge,$[6]=re*ge,$[7]=(ne*ce-ae*te)*ge,$[8]=(le*te-ne*se)*ge,this}transpose(){let $;const te=this.elements;return $=te[1],te[1]=te[3],te[3]=$,$=te[2],te[2]=te[6],te[6]=$,$=te[5],te[5]=te[7],te[7]=$,this}getNormalMatrix($){return this.setFromMatrix4($).invert().transpose()}transposeIntoArray($){const te=this.elements;return $[0]=te[0],$[1]=te[3],$[2]=te[6],$[3]=te[1],$[4]=te[4],$[5]=te[7],$[6]=te[2],$[7]=te[5],$[8]=te[8],this}setUvTransform($,te,ne,ie,se,le,oe){const ce=Math.cos(se),ae=Math.sin(se);return this.set(ne*ce,ne*ae,-ne*(ce*le+ae*oe)+le+$,-ie*ae,ie*ce,-ie*(-ae*le+ce*oe)+oe+te,0,0,1),this}scale($,te){return this.premultiply(_m3.makeScale($,te)),this}rotate($){return this.premultiply(_m3.makeRotation(-$)),this}translate($,te){return this.premultiply(_m3.makeTranslation($,te)),this}makeTranslation($,te){return $.isVector2?this.set(1,0,$.x,0,1,$.y,0,0,1):this.set(1,0,$,0,1,te,0,0,1),this}makeRotation($){const te=Math.cos($),ne=Math.sin($);return this.set(te,-ne,0,ne,te,0,0,0,1),this}makeScale($,te){return this.set($,0,0,0,te,0,0,0,1),this}equals($){const te=this.elements,ne=$.elements;for(let ie=0;ie<9;ie++)if(te[ie]!==ne[ie])return!1;return!0}fromArray($,te=0){for(let ne=0;ne<9;ne++)this.elements[ne]=$[ne+te];return this}toArray($=[],te=0){const ne=this.elements;return $[te]=ne[0],$[te+1]=ne[1],$[te+2]=ne[2],$[te+3]=ne[3],$[te+4]=ne[4],$[te+5]=ne[5],$[te+6]=ne[6],$[te+7]=ne[7],$[te+8]=ne[8],$}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(ee){for(let $=ee.length-1;$>=0;--$)if(ee[$]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(ee,$){return new TYPED_ARRAYS[ee]($)}function createElementNS(ee){return document.createElementNS("http://www.w3.org/1999/xhtml",ee)}function createCanvasElement(){const ee=createElementNS("canvas");return ee.style.display="block",ee}const _cache={};function warnOnce(ee){ee in _cache||(_cache[ee]=!0,console.warn(ee))}function probeAsync(ee,$,te){return new Promise(function(ne,ie){function se(){switch(ee.clientWaitSync($,ee.SYNC_FLUSH_COMMANDS_BIT,0)){case ee.WAIT_FAILED:ie();break;case ee.TIMEOUT_EXPIRED:setTimeout(se,te);break;default:ne()}}setTimeout(se,te)})}function toNormalizedProjectionMatrix(ee){const $=ee.elements;$[2]=.5*$[2]+.5*$[3],$[6]=.5*$[6]+.5*$[7],$[10]=.5*$[10]+.5*$[11],$[14]=.5*$[14]+.5*$[15]}function toReversedProjectionMatrix(ee){const $=ee.elements;$[11]===-1?($[10]=-$[10]-1,$[14]=-$[14]):($[10]=-$[10],$[14]=-$[14]+1)}const LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function createColorManagement(){const ee={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(ie,se,le){return this.enabled===!1||se===le||!se||!le||(this.spaces[se].transfer===SRGBTransfer&&(ie.r=SRGBToLinear(ie.r),ie.g=SRGBToLinear(ie.g),ie.b=SRGBToLinear(ie.b)),this.spaces[se].primaries!==this.spaces[le].primaries&&(ie.applyMatrix3(this.spaces[se].toXYZ),ie.applyMatrix3(this.spaces[le].fromXYZ)),this.spaces[le].transfer===SRGBTransfer&&(ie.r=LinearToSRGB(ie.r),ie.g=LinearToSRGB(ie.g),ie.b=LinearToSRGB(ie.b))),ie},fromWorkingColorSpace:function(ie,se){return this.convert(ie,this.workingColorSpace,se)},toWorkingColorSpace:function(ie,se){return this.convert(ie,se,this.workingColorSpace)},getPrimaries:function(ie){return this.spaces[ie].primaries},getTransfer:function(ie){return ie===NoColorSpace?LinearTransfer:this.spaces[ie].transfer},getLuminanceCoefficients:function(ie,se=this.workingColorSpace){return ie.fromArray(this.spaces[se].luminanceCoefficients)},define:function(ie){Object.assign(this.spaces,ie)},_getMatrix:function(ie,se,le){return ie.copy(this.spaces[se].toXYZ).multiply(this.spaces[le].fromXYZ)},_getDrawingBufferColorSpace:function(ie){return this.spaces[ie].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(ie=this.workingColorSpace){return this.spaces[ie].workingColorSpaceConfig.unpackColorSpace}},$=[.64,.33,.3,.6,.15,.06],te=[.2126,.7152,.0722],ne=[.3127,.329];return ee.define({[LinearSRGBColorSpace]:{primaries:$,whitePoint:ne,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:te,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:$,whitePoint:ne,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:te,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}}),ee}const ColorManagement=createColorManagement();function SRGBToLinear(ee){return ee<.04045?ee*.0773993808:Math.pow(ee*.9478672986+.0521327014,2.4)}function LinearToSRGB(ee){return ee<.0031308?ee*12.92:1.055*Math.pow(ee,.41666)-.055}let _canvas;class ImageUtils{static getDataURL($){if(/^data:/i.test($.src)||typeof HTMLCanvasElement>"u")return $.src;let te;if($ instanceof HTMLCanvasElement)te=$;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=$.width,_canvas.height=$.height;const ne=_canvas.getContext("2d");$ instanceof ImageData?ne.putImageData($,0,0):ne.drawImage($,0,0,$.width,$.height),te=_canvas}return te.toDataURL("image/png")}static sRGBToLinear($){if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const te=createElementNS("canvas");te.width=$.width,te.height=$.height;const ne=te.getContext("2d");ne.drawImage($,0,0,$.width,$.height);const ie=ne.getImageData(0,0,$.width,$.height),se=ie.data;for(let le=0;le<se.length;le++)se[le]=SRGBToLinear(se[le]/255)*255;return ne.putImageData(ie,0,0),te}else if($.data){const te=$.data.slice(0);for(let ne=0;ne<te.length;ne++)te instanceof Uint8Array||te instanceof Uint8ClampedArray?te[ne]=Math.floor(SRGBToLinear(te[ne]/255)*255):te[ne]=SRGBToLinear(te[ne]);return{data:te,width:$.width,height:$.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),$}}let _sourceId=0;class Source{constructor($=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=$,this.dataReady=!0,this.version=0}set needsUpdate($){$===!0&&this.version++}toJSON($){const te=$===void 0||typeof $=="string";if(!te&&$.images[this.uuid]!==void 0)return $.images[this.uuid];const ne={uuid:this.uuid,url:""},ie=this.data;if(ie!==null){let se;if(Array.isArray(ie)){se=[];for(let le=0,oe=ie.length;le<oe;le++)ie[le].isDataTexture?se.push(serializeImage(ie[le].image)):se.push(serializeImage(ie[le]))}else se=serializeImage(ie);ne.url=se}return te||($.images[this.uuid]=ne),ne}}function serializeImage(ee){return typeof HTMLImageElement<"u"&&ee instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ee instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ee instanceof ImageBitmap?ImageUtils.getDataURL(ee):ee.data?{data:Array.from(ee.data),width:ee.width,height:ee.height,type:ee.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher$1{constructor($=Texture.DEFAULT_IMAGE,te=Texture.DEFAULT_MAPPING,ne=ClampToEdgeWrapping,ie=ClampToEdgeWrapping,se=LinearFilter,le=LinearMipmapLinearFilter,oe=RGBAFormat,ce=UnsignedByteType,ae=Texture.DEFAULT_ANISOTROPY,he=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source($),this.mipmaps=[],this.mapping=te,this.channel=0,this.wrapS=ne,this.wrapT=ie,this.magFilter=se,this.minFilter=le,this.anisotropy=ae,this.format=oe,this.internalFormat=null,this.type=ce,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=he,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image($=null){this.source.data=$}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy($){return this.name=$.name,this.source=$.source,this.mipmaps=$.mipmaps.slice(0),this.mapping=$.mapping,this.channel=$.channel,this.wrapS=$.wrapS,this.wrapT=$.wrapT,this.magFilter=$.magFilter,this.minFilter=$.minFilter,this.anisotropy=$.anisotropy,this.format=$.format,this.internalFormat=$.internalFormat,this.type=$.type,this.offset.copy($.offset),this.repeat.copy($.repeat),this.center.copy($.center),this.rotation=$.rotation,this.matrixAutoUpdate=$.matrixAutoUpdate,this.matrix.copy($.matrix),this.generateMipmaps=$.generateMipmaps,this.premultiplyAlpha=$.premultiplyAlpha,this.flipY=$.flipY,this.unpackAlignment=$.unpackAlignment,this.colorSpace=$.colorSpace,this.renderTarget=$.renderTarget,this.isRenderTargetTexture=$.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify($.userData)),this.needsUpdate=!0,this}toJSON($){const te=$===void 0||typeof $=="string";if(!te&&$.textures[this.uuid]!==void 0)return $.textures[this.uuid];const ne={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON($).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(ne.userData=this.userData),te||($.textures[this.uuid]=ne),ne}dispose(){this.dispatchEvent({type:"dispose"})}transformUv($){if(this.mapping!==UVMapping)return $;if($.applyMatrix3(this.matrix),$.x<0||$.x>1)switch(this.wrapS){case RepeatWrapping:$.x=$.x-Math.floor($.x);break;case ClampToEdgeWrapping:$.x=$.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor($.x)%2)===1?$.x=Math.ceil($.x)-$.x:$.x=$.x-Math.floor($.x);break}if($.y<0||$.y>1)switch(this.wrapT){case RepeatWrapping:$.y=$.y-Math.floor($.y);break;case ClampToEdgeWrapping:$.y=$.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor($.y)%2)===1?$.y=Math.ceil($.y)-$.y:$.y=$.y-Math.floor($.y);break}return this.flipY&&($.y=1-$.y),$}set needsUpdate($){$===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate($){$===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor($=0,te=0,ne=0,ie=1){Vector4.prototype.isVector4=!0,this.x=$,this.y=te,this.z=ne,this.w=ie}get width(){return this.z}set width($){this.z=$}get height(){return this.w}set height($){this.w=$}set($,te,ne,ie){return this.x=$,this.y=te,this.z=ne,this.w=ie,this}setScalar($){return this.x=$,this.y=$,this.z=$,this.w=$,this}setX($){return this.x=$,this}setY($){return this.y=$,this}setZ($){return this.z=$,this}setW($){return this.w=$,this}setComponent($,te){switch($){case 0:this.x=te;break;case 1:this.y=te;break;case 2:this.z=te;break;case 3:this.w=te;break;default:throw new Error("index is out of range: "+$)}return this}getComponent($){switch($){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+$)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy($){return this.x=$.x,this.y=$.y,this.z=$.z,this.w=$.w!==void 0?$.w:1,this}add($){return this.x+=$.x,this.y+=$.y,this.z+=$.z,this.w+=$.w,this}addScalar($){return this.x+=$,this.y+=$,this.z+=$,this.w+=$,this}addVectors($,te){return this.x=$.x+te.x,this.y=$.y+te.y,this.z=$.z+te.z,this.w=$.w+te.w,this}addScaledVector($,te){return this.x+=$.x*te,this.y+=$.y*te,this.z+=$.z*te,this.w+=$.w*te,this}sub($){return this.x-=$.x,this.y-=$.y,this.z-=$.z,this.w-=$.w,this}subScalar($){return this.x-=$,this.y-=$,this.z-=$,this.w-=$,this}subVectors($,te){return this.x=$.x-te.x,this.y=$.y-te.y,this.z=$.z-te.z,this.w=$.w-te.w,this}multiply($){return this.x*=$.x,this.y*=$.y,this.z*=$.z,this.w*=$.w,this}multiplyScalar($){return this.x*=$,this.y*=$,this.z*=$,this.w*=$,this}applyMatrix4($){const te=this.x,ne=this.y,ie=this.z,se=this.w,le=$.elements;return this.x=le[0]*te+le[4]*ne+le[8]*ie+le[12]*se,this.y=le[1]*te+le[5]*ne+le[9]*ie+le[13]*se,this.z=le[2]*te+le[6]*ne+le[10]*ie+le[14]*se,this.w=le[3]*te+le[7]*ne+le[11]*ie+le[15]*se,this}divide($){return this.x/=$.x,this.y/=$.y,this.z/=$.z,this.w/=$.w,this}divideScalar($){return this.multiplyScalar(1/$)}setAxisAngleFromQuaternion($){this.w=2*Math.acos($.w);const te=Math.sqrt(1-$.w*$.w);return te<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=$.x/te,this.y=$.y/te,this.z=$.z/te),this}setAxisAngleFromRotationMatrix($){let te,ne,ie,se;const ce=$.elements,ae=ce[0],he=ce[4],de=ce[8],pe=ce[1],re=ce[5],Ae=ce[9],ge=ce[2],Se=ce[6],fe=ce[10];if(Math.abs(he-pe)<.01&&Math.abs(de-ge)<.01&&Math.abs(Ae-Se)<.01){if(Math.abs(he+pe)<.1&&Math.abs(de+ge)<.1&&Math.abs(Ae+Se)<.1&&Math.abs(ae+re+fe-3)<.1)return this.set(1,0,0,0),this;te=Math.PI;const xe=(ae+1)/2,ue=(re+1)/2,we=(fe+1)/2,Fe=(he+pe)/4,_e=(de+ge)/4,Ee=(Ae+Se)/4;return xe>ue&&xe>we?xe<.01?(ne=0,ie=.707106781,se=.707106781):(ne=Math.sqrt(xe),ie=Fe/ne,se=_e/ne):ue>we?ue<.01?(ne=.707106781,ie=0,se=.707106781):(ie=Math.sqrt(ue),ne=Fe/ie,se=Ee/ie):we<.01?(ne=.707106781,ie=.707106781,se=0):(se=Math.sqrt(we),ne=_e/se,ie=Ee/se),this.set(ne,ie,se,te),this}let be=Math.sqrt((Se-Ae)*(Se-Ae)+(de-ge)*(de-ge)+(pe-he)*(pe-he));return Math.abs(be)<.001&&(be=1),this.x=(Se-Ae)/be,this.y=(de-ge)/be,this.z=(pe-he)/be,this.w=Math.acos((ae+re+fe-1)/2),this}setFromMatrixPosition($){const te=$.elements;return this.x=te[12],this.y=te[13],this.z=te[14],this.w=te[15],this}min($){return this.x=Math.min(this.x,$.x),this.y=Math.min(this.y,$.y),this.z=Math.min(this.z,$.z),this.w=Math.min(this.w,$.w),this}max($){return this.x=Math.max(this.x,$.x),this.y=Math.max(this.y,$.y),this.z=Math.max(this.z,$.z),this.w=Math.max(this.w,$.w),this}clamp($,te){return this.x=clamp$1(this.x,$.x,te.x),this.y=clamp$1(this.y,$.y,te.y),this.z=clamp$1(this.z,$.z,te.z),this.w=clamp$1(this.w,$.w,te.w),this}clampScalar($,te){return this.x=clamp$1(this.x,$,te),this.y=clamp$1(this.y,$,te),this.z=clamp$1(this.z,$,te),this.w=clamp$1(this.w,$,te),this}clampLength($,te){const ne=this.length();return this.divideScalar(ne||1).multiplyScalar(clamp$1(ne,$,te))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot($){return this.x*$.x+this.y*$.y+this.z*$.z+this.w*$.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength($){return this.normalize().multiplyScalar($)}lerp($,te){return this.x+=($.x-this.x)*te,this.y+=($.y-this.y)*te,this.z+=($.z-this.z)*te,this.w+=($.w-this.w)*te,this}lerpVectors($,te,ne){return this.x=$.x+(te.x-$.x)*ne,this.y=$.y+(te.y-$.y)*ne,this.z=$.z+(te.z-$.z)*ne,this.w=$.w+(te.w-$.w)*ne,this}equals($){return $.x===this.x&&$.y===this.y&&$.z===this.z&&$.w===this.w}fromArray($,te=0){return this.x=$[te],this.y=$[te+1],this.z=$[te+2],this.w=$[te+3],this}toArray($=[],te=0){return $[te]=this.x,$[te+1]=this.y,$[te+2]=this.z,$[te+3]=this.w,$}fromBufferAttribute($,te){return this.x=$.getX(te),this.y=$.getY(te),this.z=$.getZ(te),this.w=$.getW(te),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher$1{constructor($=1,te=1,ne={}){super(),this.isRenderTarget=!0,this.width=$,this.height=te,this.depth=1,this.scissor=new Vector4(0,0,$,te),this.scissorTest=!1,this.viewport=new Vector4(0,0,$,te);const ie={width:$,height:te,depth:1};ne=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},ne);const se=new Texture(ie,ne.mapping,ne.wrapS,ne.wrapT,ne.magFilter,ne.minFilter,ne.format,ne.type,ne.anisotropy,ne.colorSpace);se.flipY=!1,se.generateMipmaps=ne.generateMipmaps,se.internalFormat=ne.internalFormat,this.textures=[];const le=ne.count;for(let oe=0;oe<le;oe++)this.textures[oe]=se.clone(),this.textures[oe].isRenderTargetTexture=!0,this.textures[oe].renderTarget=this;this.depthBuffer=ne.depthBuffer,this.stencilBuffer=ne.stencilBuffer,this.resolveDepthBuffer=ne.resolveDepthBuffer,this.resolveStencilBuffer=ne.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=ne.depthTexture,this.samples=ne.samples}get texture(){return this.textures[0]}set texture($){this.textures[0]=$}set depthTexture($){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),$!==null&&($.renderTarget=this),this._depthTexture=$}get depthTexture(){return this._depthTexture}setSize($,te,ne=1){if(this.width!==$||this.height!==te||this.depth!==ne){this.width=$,this.height=te,this.depth=ne;for(let ie=0,se=this.textures.length;ie<se;ie++)this.textures[ie].image.width=$,this.textures[ie].image.height=te,this.textures[ie].image.depth=ne;this.dispose()}this.viewport.set(0,0,$,te),this.scissor.set(0,0,$,te)}clone(){return new this.constructor().copy(this)}copy($){this.width=$.width,this.height=$.height,this.depth=$.depth,this.scissor.copy($.scissor),this.scissorTest=$.scissorTest,this.viewport.copy($.viewport),this.textures.length=0;for(let te=0,ne=$.textures.length;te<ne;te++){this.textures[te]=$.textures[te].clone(),this.textures[te].isRenderTargetTexture=!0,this.textures[te].renderTarget=this;const ie=Object.assign({},$.textures[te].image);this.textures[te].source=new Source(ie)}return this.depthBuffer=$.depthBuffer,this.stencilBuffer=$.stencilBuffer,this.resolveDepthBuffer=$.resolveDepthBuffer,this.resolveStencilBuffer=$.resolveStencilBuffer,$.depthTexture!==null&&(this.depthTexture=$.depthTexture.clone()),this.samples=$.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor($=1,te=1,ne={}){super($,te,ne),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor($=null,te=1,ne=1,ie=1){super(null),this.isDataArrayTexture=!0,this.image={data:$,width:te,height:ne,depth:ie},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate($){this.layerUpdates.add($)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor($=1,te=1,ne=1,ie={}){super($,te,ie),this.isWebGLArrayRenderTarget=!0,this.depth=ne,this.texture=new DataArrayTexture(null,$,te,ne),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor($=null,te=1,ne=1,ie=1){super(null),this.isData3DTexture=!0,this.image={data:$,width:te,height:ne,depth:ie},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor($=1,te=1,ne=1,ie={}){super($,te,ie),this.isWebGL3DRenderTarget=!0,this.depth=ne,this.texture=new Data3DTexture(null,$,te,ne),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor($=0,te=0,ne=0,ie=1){this.isQuaternion=!0,this._x=$,this._y=te,this._z=ne,this._w=ie}static slerpFlat($,te,ne,ie,se,le,oe){let ce=ne[ie+0],ae=ne[ie+1],he=ne[ie+2],de=ne[ie+3];const pe=se[le+0],re=se[le+1],Ae=se[le+2],ge=se[le+3];if(oe===0){$[te+0]=ce,$[te+1]=ae,$[te+2]=he,$[te+3]=de;return}if(oe===1){$[te+0]=pe,$[te+1]=re,$[te+2]=Ae,$[te+3]=ge;return}if(de!==ge||ce!==pe||ae!==re||he!==Ae){let Se=1-oe;const fe=ce*pe+ae*re+he*Ae+de*ge,be=fe>=0?1:-1,xe=1-fe*fe;if(xe>Number.EPSILON){const we=Math.sqrt(xe),Fe=Math.atan2(we,fe*be);Se=Math.sin(Se*Fe)/we,oe=Math.sin(oe*Fe)/we}const ue=oe*be;if(ce=ce*Se+pe*ue,ae=ae*Se+re*ue,he=he*Se+Ae*ue,de=de*Se+ge*ue,Se===1-oe){const we=1/Math.sqrt(ce*ce+ae*ae+he*he+de*de);ce*=we,ae*=we,he*=we,de*=we}}$[te]=ce,$[te+1]=ae,$[te+2]=he,$[te+3]=de}static multiplyQuaternionsFlat($,te,ne,ie,se,le){const oe=ne[ie],ce=ne[ie+1],ae=ne[ie+2],he=ne[ie+3],de=se[le],pe=se[le+1],re=se[le+2],Ae=se[le+3];return $[te]=oe*Ae+he*de+ce*re-ae*pe,$[te+1]=ce*Ae+he*pe+ae*de-oe*re,$[te+2]=ae*Ae+he*re+oe*pe-ce*de,$[te+3]=he*Ae-oe*de-ce*pe-ae*re,$}get x(){return this._x}set x($){this._x=$,this._onChangeCallback()}get y(){return this._y}set y($){this._y=$,this._onChangeCallback()}get z(){return this._z}set z($){this._z=$,this._onChangeCallback()}get w(){return this._w}set w($){this._w=$,this._onChangeCallback()}set($,te,ne,ie){return this._x=$,this._y=te,this._z=ne,this._w=ie,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy($){return this._x=$.x,this._y=$.y,this._z=$.z,this._w=$.w,this._onChangeCallback(),this}setFromEuler($,te=!0){const ne=$._x,ie=$._y,se=$._z,le=$._order,oe=Math.cos,ce=Math.sin,ae=oe(ne/2),he=oe(ie/2),de=oe(se/2),pe=ce(ne/2),re=ce(ie/2),Ae=ce(se/2);switch(le){case"XYZ":this._x=pe*he*de+ae*re*Ae,this._y=ae*re*de-pe*he*Ae,this._z=ae*he*Ae+pe*re*de,this._w=ae*he*de-pe*re*Ae;break;case"YXZ":this._x=pe*he*de+ae*re*Ae,this._y=ae*re*de-pe*he*Ae,this._z=ae*he*Ae-pe*re*de,this._w=ae*he*de+pe*re*Ae;break;case"ZXY":this._x=pe*he*de-ae*re*Ae,this._y=ae*re*de+pe*he*Ae,this._z=ae*he*Ae+pe*re*de,this._w=ae*he*de-pe*re*Ae;break;case"ZYX":this._x=pe*he*de-ae*re*Ae,this._y=ae*re*de+pe*he*Ae,this._z=ae*he*Ae-pe*re*de,this._w=ae*he*de+pe*re*Ae;break;case"YZX":this._x=pe*he*de+ae*re*Ae,this._y=ae*re*de+pe*he*Ae,this._z=ae*he*Ae-pe*re*de,this._w=ae*he*de-pe*re*Ae;break;case"XZY":this._x=pe*he*de-ae*re*Ae,this._y=ae*re*de-pe*he*Ae,this._z=ae*he*Ae+pe*re*de,this._w=ae*he*de+pe*re*Ae;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+le)}return te===!0&&this._onChangeCallback(),this}setFromAxisAngle($,te){const ne=te/2,ie=Math.sin(ne);return this._x=$.x*ie,this._y=$.y*ie,this._z=$.z*ie,this._w=Math.cos(ne),this._onChangeCallback(),this}setFromRotationMatrix($){const te=$.elements,ne=te[0],ie=te[4],se=te[8],le=te[1],oe=te[5],ce=te[9],ae=te[2],he=te[6],de=te[10],pe=ne+oe+de;if(pe>0){const re=.5/Math.sqrt(pe+1);this._w=.25/re,this._x=(he-ce)*re,this._y=(se-ae)*re,this._z=(le-ie)*re}else if(ne>oe&&ne>de){const re=2*Math.sqrt(1+ne-oe-de);this._w=(he-ce)/re,this._x=.25*re,this._y=(ie+le)/re,this._z=(se+ae)/re}else if(oe>de){const re=2*Math.sqrt(1+oe-ne-de);this._w=(se-ae)/re,this._x=(ie+le)/re,this._y=.25*re,this._z=(ce+he)/re}else{const re=2*Math.sqrt(1+de-ne-oe);this._w=(le-ie)/re,this._x=(se+ae)/re,this._y=(ce+he)/re,this._z=.25*re}return this._onChangeCallback(),this}setFromUnitVectors($,te){let ne=$.dot(te)+1;return ne<Number.EPSILON?(ne=0,Math.abs($.x)>Math.abs($.z)?(this._x=-$.y,this._y=$.x,this._z=0,this._w=ne):(this._x=0,this._y=-$.z,this._z=$.y,this._w=ne)):(this._x=$.y*te.z-$.z*te.y,this._y=$.z*te.x-$.x*te.z,this._z=$.x*te.y-$.y*te.x,this._w=ne),this.normalize()}angleTo($){return 2*Math.acos(Math.abs(clamp$1(this.dot($),-1,1)))}rotateTowards($,te){const ne=this.angleTo($);if(ne===0)return this;const ie=Math.min(1,te/ne);return this.slerp($,ie),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot($){return this._x*$._x+this._y*$._y+this._z*$._z+this._w*$._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let $=this.length();return $===0?(this._x=0,this._y=0,this._z=0,this._w=1):($=1/$,this._x=this._x*$,this._y=this._y*$,this._z=this._z*$,this._w=this._w*$),this._onChangeCallback(),this}multiply($){return this.multiplyQuaternions(this,$)}premultiply($){return this.multiplyQuaternions($,this)}multiplyQuaternions($,te){const ne=$._x,ie=$._y,se=$._z,le=$._w,oe=te._x,ce=te._y,ae=te._z,he=te._w;return this._x=ne*he+le*oe+ie*ae-se*ce,this._y=ie*he+le*ce+se*oe-ne*ae,this._z=se*he+le*ae+ne*ce-ie*oe,this._w=le*he-ne*oe-ie*ce-se*ae,this._onChangeCallback(),this}slerp($,te){if(te===0)return this;if(te===1)return this.copy($);const ne=this._x,ie=this._y,se=this._z,le=this._w;let oe=le*$._w+ne*$._x+ie*$._y+se*$._z;if(oe<0?(this._w=-$._w,this._x=-$._x,this._y=-$._y,this._z=-$._z,oe=-oe):this.copy($),oe>=1)return this._w=le,this._x=ne,this._y=ie,this._z=se,this;const ce=1-oe*oe;if(ce<=Number.EPSILON){const re=1-te;return this._w=re*le+te*this._w,this._x=re*ne+te*this._x,this._y=re*ie+te*this._y,this._z=re*se+te*this._z,this.normalize(),this}const ae=Math.sqrt(ce),he=Math.atan2(ae,oe),de=Math.sin((1-te)*he)/ae,pe=Math.sin(te*he)/ae;return this._w=le*de+this._w*pe,this._x=ne*de+this._x*pe,this._y=ie*de+this._y*pe,this._z=se*de+this._z*pe,this._onChangeCallback(),this}slerpQuaternions($,te,ne){return this.copy($).slerp(te,ne)}random(){const $=2*Math.PI*Math.random(),te=2*Math.PI*Math.random(),ne=Math.random(),ie=Math.sqrt(1-ne),se=Math.sqrt(ne);return this.set(ie*Math.sin($),ie*Math.cos($),se*Math.sin(te),se*Math.cos(te))}equals($){return $._x===this._x&&$._y===this._y&&$._z===this._z&&$._w===this._w}fromArray($,te=0){return this._x=$[te],this._y=$[te+1],this._z=$[te+2],this._w=$[te+3],this._onChangeCallback(),this}toArray($=[],te=0){return $[te]=this._x,$[te+1]=this._y,$[te+2]=this._z,$[te+3]=this._w,$}fromBufferAttribute($,te){return this._x=$.getX(te),this._y=$.getY(te),this._z=$.getZ(te),this._w=$.getW(te),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange($){return this._onChangeCallback=$,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor($=0,te=0,ne=0){Vector3.prototype.isVector3=!0,this.x=$,this.y=te,this.z=ne}set($,te,ne){return ne===void 0&&(ne=this.z),this.x=$,this.y=te,this.z=ne,this}setScalar($){return this.x=$,this.y=$,this.z=$,this}setX($){return this.x=$,this}setY($){return this.y=$,this}setZ($){return this.z=$,this}setComponent($,te){switch($){case 0:this.x=te;break;case 1:this.y=te;break;case 2:this.z=te;break;default:throw new Error("index is out of range: "+$)}return this}getComponent($){switch($){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+$)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy($){return this.x=$.x,this.y=$.y,this.z=$.z,this}add($){return this.x+=$.x,this.y+=$.y,this.z+=$.z,this}addScalar($){return this.x+=$,this.y+=$,this.z+=$,this}addVectors($,te){return this.x=$.x+te.x,this.y=$.y+te.y,this.z=$.z+te.z,this}addScaledVector($,te){return this.x+=$.x*te,this.y+=$.y*te,this.z+=$.z*te,this}sub($){return this.x-=$.x,this.y-=$.y,this.z-=$.z,this}subScalar($){return this.x-=$,this.y-=$,this.z-=$,this}subVectors($,te){return this.x=$.x-te.x,this.y=$.y-te.y,this.z=$.z-te.z,this}multiply($){return this.x*=$.x,this.y*=$.y,this.z*=$.z,this}multiplyScalar($){return this.x*=$,this.y*=$,this.z*=$,this}multiplyVectors($,te){return this.x=$.x*te.x,this.y=$.y*te.y,this.z=$.z*te.z,this}applyEuler($){return this.applyQuaternion(_quaternion$4.setFromEuler($))}applyAxisAngle($,te){return this.applyQuaternion(_quaternion$4.setFromAxisAngle($,te))}applyMatrix3($){const te=this.x,ne=this.y,ie=this.z,se=$.elements;return this.x=se[0]*te+se[3]*ne+se[6]*ie,this.y=se[1]*te+se[4]*ne+se[7]*ie,this.z=se[2]*te+se[5]*ne+se[8]*ie,this}applyNormalMatrix($){return this.applyMatrix3($).normalize()}applyMatrix4($){const te=this.x,ne=this.y,ie=this.z,se=$.elements,le=1/(se[3]*te+se[7]*ne+se[11]*ie+se[15]);return this.x=(se[0]*te+se[4]*ne+se[8]*ie+se[12])*le,this.y=(se[1]*te+se[5]*ne+se[9]*ie+se[13])*le,this.z=(se[2]*te+se[6]*ne+se[10]*ie+se[14])*le,this}applyQuaternion($){const te=this.x,ne=this.y,ie=this.z,se=$.x,le=$.y,oe=$.z,ce=$.w,ae=2*(le*ie-oe*ne),he=2*(oe*te-se*ie),de=2*(se*ne-le*te);return this.x=te+ce*ae+le*de-oe*he,this.y=ne+ce*he+oe*ae-se*de,this.z=ie+ce*de+se*he-le*ae,this}project($){return this.applyMatrix4($.matrixWorldInverse).applyMatrix4($.projectionMatrix)}unproject($){return this.applyMatrix4($.projectionMatrixInverse).applyMatrix4($.matrixWorld)}transformDirection($){const te=this.x,ne=this.y,ie=this.z,se=$.elements;return this.x=se[0]*te+se[4]*ne+se[8]*ie,this.y=se[1]*te+se[5]*ne+se[9]*ie,this.z=se[2]*te+se[6]*ne+se[10]*ie,this.normalize()}divide($){return this.x/=$.x,this.y/=$.y,this.z/=$.z,this}divideScalar($){return this.multiplyScalar(1/$)}min($){return this.x=Math.min(this.x,$.x),this.y=Math.min(this.y,$.y),this.z=Math.min(this.z,$.z),this}max($){return this.x=Math.max(this.x,$.x),this.y=Math.max(this.y,$.y),this.z=Math.max(this.z,$.z),this}clamp($,te){return this.x=clamp$1(this.x,$.x,te.x),this.y=clamp$1(this.y,$.y,te.y),this.z=clamp$1(this.z,$.z,te.z),this}clampScalar($,te){return this.x=clamp$1(this.x,$,te),this.y=clamp$1(this.y,$,te),this.z=clamp$1(this.z,$,te),this}clampLength($,te){const ne=this.length();return this.divideScalar(ne||1).multiplyScalar(clamp$1(ne,$,te))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot($){return this.x*$.x+this.y*$.y+this.z*$.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength($){return this.normalize().multiplyScalar($)}lerp($,te){return this.x+=($.x-this.x)*te,this.y+=($.y-this.y)*te,this.z+=($.z-this.z)*te,this}lerpVectors($,te,ne){return this.x=$.x+(te.x-$.x)*ne,this.y=$.y+(te.y-$.y)*ne,this.z=$.z+(te.z-$.z)*ne,this}cross($){return this.crossVectors(this,$)}crossVectors($,te){const ne=$.x,ie=$.y,se=$.z,le=te.x,oe=te.y,ce=te.z;return this.x=ie*ce-se*oe,this.y=se*le-ne*ce,this.z=ne*oe-ie*le,this}projectOnVector($){const te=$.lengthSq();if(te===0)return this.set(0,0,0);const ne=$.dot(this)/te;return this.copy($).multiplyScalar(ne)}projectOnPlane($){return _vector$c.copy(this).projectOnVector($),this.sub(_vector$c)}reflect($){return this.sub(_vector$c.copy($).multiplyScalar(2*this.dot($)))}angleTo($){const te=Math.sqrt(this.lengthSq()*$.lengthSq());if(te===0)return Math.PI/2;const ne=this.dot($)/te;return Math.acos(clamp$1(ne,-1,1))}distanceTo($){return Math.sqrt(this.distanceToSquared($))}distanceToSquared($){const te=this.x-$.x,ne=this.y-$.y,ie=this.z-$.z;return te*te+ne*ne+ie*ie}manhattanDistanceTo($){return Math.abs(this.x-$.x)+Math.abs(this.y-$.y)+Math.abs(this.z-$.z)}setFromSpherical($){return this.setFromSphericalCoords($.radius,$.phi,$.theta)}setFromSphericalCoords($,te,ne){const ie=Math.sin(te)*$;return this.x=ie*Math.sin(ne),this.y=Math.cos(te)*$,this.z=ie*Math.cos(ne),this}setFromCylindrical($){return this.setFromCylindricalCoords($.radius,$.theta,$.y)}setFromCylindricalCoords($,te,ne){return this.x=$*Math.sin(te),this.y=ne,this.z=$*Math.cos(te),this}setFromMatrixPosition($){const te=$.elements;return this.x=te[12],this.y=te[13],this.z=te[14],this}setFromMatrixScale($){const te=this.setFromMatrixColumn($,0).length(),ne=this.setFromMatrixColumn($,1).length(),ie=this.setFromMatrixColumn($,2).length();return this.x=te,this.y=ne,this.z=ie,this}setFromMatrixColumn($,te){return this.fromArray($.elements,te*4)}setFromMatrix3Column($,te){return this.fromArray($.elements,te*3)}setFromEuler($){return this.x=$._x,this.y=$._y,this.z=$._z,this}setFromColor($){return this.x=$.r,this.y=$.g,this.z=$.b,this}equals($){return $.x===this.x&&$.y===this.y&&$.z===this.z}fromArray($,te=0){return this.x=$[te],this.y=$[te+1],this.z=$[te+2],this}toArray($=[],te=0){return $[te]=this.x,$[te+1]=this.y,$[te+2]=this.z,$}fromBufferAttribute($,te){return this.x=$.getX(te),this.y=$.getY(te),this.z=$.getZ(te),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const $=Math.random()*Math.PI*2,te=Math.random()*2-1,ne=Math.sqrt(1-te*te);return this.x=ne*Math.cos($),this.y=te,this.z=ne*Math.sin($),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor($=new Vector3(1/0,1/0,1/0),te=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=$,this.max=te}set($,te){return this.min.copy($),this.max.copy(te),this}setFromArray($){this.makeEmpty();for(let te=0,ne=$.length;te<ne;te+=3)this.expandByPoint(_vector$b.fromArray($,te));return this}setFromBufferAttribute($){this.makeEmpty();for(let te=0,ne=$.count;te<ne;te++)this.expandByPoint(_vector$b.fromBufferAttribute($,te));return this}setFromPoints($){this.makeEmpty();for(let te=0,ne=$.length;te<ne;te++)this.expandByPoint($[te]);return this}setFromCenterAndSize($,te){const ne=_vector$b.copy(te).multiplyScalar(.5);return this.min.copy($).sub(ne),this.max.copy($).add(ne),this}setFromObject($,te=!1){return this.makeEmpty(),this.expandByObject($,te)}clone(){return new this.constructor().copy(this)}copy($){return this.min.copy($.min),this.max.copy($.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter($){return this.isEmpty()?$.set(0,0,0):$.addVectors(this.min,this.max).multiplyScalar(.5)}getSize($){return this.isEmpty()?$.set(0,0,0):$.subVectors(this.max,this.min)}expandByPoint($){return this.min.min($),this.max.max($),this}expandByVector($){return this.min.sub($),this.max.add($),this}expandByScalar($){return this.min.addScalar(-$),this.max.addScalar($),this}expandByObject($,te=!1){$.updateWorldMatrix(!1,!1);const ne=$.geometry;if(ne!==void 0){const se=ne.getAttribute("position");if(te===!0&&se!==void 0&&$.isInstancedMesh!==!0)for(let le=0,oe=se.count;le<oe;le++)$.isMesh===!0?$.getVertexPosition(le,_vector$b):_vector$b.fromBufferAttribute(se,le),_vector$b.applyMatrix4($.matrixWorld),this.expandByPoint(_vector$b);else $.boundingBox!==void 0?($.boundingBox===null&&$.computeBoundingBox(),_box$4.copy($.boundingBox)):(ne.boundingBox===null&&ne.computeBoundingBox(),_box$4.copy(ne.boundingBox)),_box$4.applyMatrix4($.matrixWorld),this.union(_box$4)}const ie=$.children;for(let se=0,le=ie.length;se<le;se++)this.expandByObject(ie[se],te);return this}containsPoint($){return $.x>=this.min.x&&$.x<=this.max.x&&$.y>=this.min.y&&$.y<=this.max.y&&$.z>=this.min.z&&$.z<=this.max.z}containsBox($){return this.min.x<=$.min.x&&$.max.x<=this.max.x&&this.min.y<=$.min.y&&$.max.y<=this.max.y&&this.min.z<=$.min.z&&$.max.z<=this.max.z}getParameter($,te){return te.set(($.x-this.min.x)/(this.max.x-this.min.x),($.y-this.min.y)/(this.max.y-this.min.y),($.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox($){return $.max.x>=this.min.x&&$.min.x<=this.max.x&&$.max.y>=this.min.y&&$.min.y<=this.max.y&&$.max.z>=this.min.z&&$.min.z<=this.max.z}intersectsSphere($){return this.clampPoint($.center,_vector$b),_vector$b.distanceToSquared($.center)<=$.radius*$.radius}intersectsPlane($){let te,ne;return $.normal.x>0?(te=$.normal.x*this.min.x,ne=$.normal.x*this.max.x):(te=$.normal.x*this.max.x,ne=$.normal.x*this.min.x),$.normal.y>0?(te+=$.normal.y*this.min.y,ne+=$.normal.y*this.max.y):(te+=$.normal.y*this.max.y,ne+=$.normal.y*this.min.y),$.normal.z>0?(te+=$.normal.z*this.min.z,ne+=$.normal.z*this.max.z):(te+=$.normal.z*this.max.z,ne+=$.normal.z*this.min.z),te<=-$.constant&&ne>=-$.constant}intersectsTriangle($){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors($.a,_center),_v1$7.subVectors($.b,_center),_v2$4.subVectors($.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let te=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(te,_v0$2,_v1$7,_v2$4,_extents)||(te=[1,0,0,0,1,0,0,0,1],!satForAxes(te,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),te=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(te,_v0$2,_v1$7,_v2$4,_extents))}clampPoint($,te){return te.copy($).clamp(this.min,this.max)}distanceToPoint($){return this.clampPoint($,_vector$b).distanceTo($)}getBoundingSphere($){return this.isEmpty()?$.makeEmpty():(this.getCenter($.center),$.radius=this.getSize(_vector$b).length()*.5),$}intersect($){return this.min.max($.min),this.max.min($.max),this.isEmpty()&&this.makeEmpty(),this}union($){return this.min.min($.min),this.max.max($.max),this}applyMatrix4($){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4($),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4($),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4($),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4($),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4($),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4($),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4($),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4($),this.setFromPoints(_points),this)}translate($){return this.min.add($),this.max.add($),this}equals($){return $.min.equals(this.min)&&$.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(ee,$,te,ne,ie){for(let se=0,le=ee.length-3;se<=le;se+=3){_testAxis.fromArray(ee,se);const oe=ie.x*Math.abs(_testAxis.x)+ie.y*Math.abs(_testAxis.y)+ie.z*Math.abs(_testAxis.z),ce=$.dot(_testAxis),ae=te.dot(_testAxis),he=ne.dot(_testAxis);if(Math.max(-Math.max(ce,ae,he),Math.min(ce,ae,he))>oe)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor($=new Vector3,te=-1){this.isSphere=!0,this.center=$,this.radius=te}set($,te){return this.center.copy($),this.radius=te,this}setFromPoints($,te){const ne=this.center;te!==void 0?ne.copy(te):_box$3.setFromPoints($).getCenter(ne);let ie=0;for(let se=0,le=$.length;se<le;se++)ie=Math.max(ie,ne.distanceToSquared($[se]));return this.radius=Math.sqrt(ie),this}copy($){return this.center.copy($.center),this.radius=$.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint($){return $.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint($){return $.distanceTo(this.center)-this.radius}intersectsSphere($){const te=this.radius+$.radius;return $.center.distanceToSquared(this.center)<=te*te}intersectsBox($){return $.intersectsSphere(this)}intersectsPlane($){return Math.abs($.distanceToPoint(this.center))<=this.radius}clampPoint($,te){const ne=this.center.distanceToSquared($);return te.copy($),ne>this.radius*this.radius&&(te.sub(this.center).normalize(),te.multiplyScalar(this.radius).add(this.center)),te}getBoundingBox($){return this.isEmpty()?($.makeEmpty(),$):($.set(this.center,this.center),$.expandByScalar(this.radius),$)}applyMatrix4($){return this.center.applyMatrix4($),this.radius=this.radius*$.getMaxScaleOnAxis(),this}translate($){return this.center.add($),this}expandByPoint($){if(this.isEmpty())return this.center.copy($),this.radius=0,this;_v1$6.subVectors($,this.center);const te=_v1$6.lengthSq();if(te>this.radius*this.radius){const ne=Math.sqrt(te),ie=(ne-this.radius)*.5;this.center.addScaledVector(_v1$6,ie/ne),this.radius+=ie}return this}union($){return $.isEmpty()?this:this.isEmpty()?(this.copy($),this):(this.center.equals($.center)===!0?this.radius=Math.max(this.radius,$.radius):(_v2$3.subVectors($.center,this.center).setLength($.radius),this.expandByPoint(_v1$6.copy($.center).add(_v2$3)),this.expandByPoint(_v1$6.copy($.center).sub(_v2$3))),this)}equals($){return $.center.equals(this.center)&&$.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor($=new Vector3,te=new Vector3(0,0,-1)){this.origin=$,this.direction=te}set($,te){return this.origin.copy($),this.direction.copy(te),this}copy($){return this.origin.copy($.origin),this.direction.copy($.direction),this}at($,te){return te.copy(this.origin).addScaledVector(this.direction,$)}lookAt($){return this.direction.copy($).sub(this.origin).normalize(),this}recast($){return this.origin.copy(this.at($,_vector$a)),this}closestPointToPoint($,te){te.subVectors($,this.origin);const ne=te.dot(this.direction);return ne<0?te.copy(this.origin):te.copy(this.origin).addScaledVector(this.direction,ne)}distanceToPoint($){return Math.sqrt(this.distanceSqToPoint($))}distanceSqToPoint($){const te=_vector$a.subVectors($,this.origin).dot(this.direction);return te<0?this.origin.distanceToSquared($):(_vector$a.copy(this.origin).addScaledVector(this.direction,te),_vector$a.distanceToSquared($))}distanceSqToSegment($,te,ne,ie){_segCenter.copy($).add(te).multiplyScalar(.5),_segDir.copy(te).sub($).normalize(),_diff.copy(this.origin).sub(_segCenter);const se=$.distanceTo(te)*.5,le=-this.direction.dot(_segDir),oe=_diff.dot(this.direction),ce=-_diff.dot(_segDir),ae=_diff.lengthSq(),he=Math.abs(1-le*le);let de,pe,re,Ae;if(he>0)if(de=le*ce-oe,pe=le*oe-ce,Ae=se*he,de>=0)if(pe>=-Ae)if(pe<=Ae){const ge=1/he;de*=ge,pe*=ge,re=de*(de+le*pe+2*oe)+pe*(le*de+pe+2*ce)+ae}else pe=se,de=Math.max(0,-(le*pe+oe)),re=-de*de+pe*(pe+2*ce)+ae;else pe=-se,de=Math.max(0,-(le*pe+oe)),re=-de*de+pe*(pe+2*ce)+ae;else pe<=-Ae?(de=Math.max(0,-(-le*se+oe)),pe=de>0?-se:Math.min(Math.max(-se,-ce),se),re=-de*de+pe*(pe+2*ce)+ae):pe<=Ae?(de=0,pe=Math.min(Math.max(-se,-ce),se),re=pe*(pe+2*ce)+ae):(de=Math.max(0,-(le*se+oe)),pe=de>0?se:Math.min(Math.max(-se,-ce),se),re=-de*de+pe*(pe+2*ce)+ae);else pe=le>0?-se:se,de=Math.max(0,-(le*pe+oe)),re=-de*de+pe*(pe+2*ce)+ae;return ne&&ne.copy(this.origin).addScaledVector(this.direction,de),ie&&ie.copy(_segCenter).addScaledVector(_segDir,pe),re}intersectSphere($,te){_vector$a.subVectors($.center,this.origin);const ne=_vector$a.dot(this.direction),ie=_vector$a.dot(_vector$a)-ne*ne,se=$.radius*$.radius;if(ie>se)return null;const le=Math.sqrt(se-ie),oe=ne-le,ce=ne+le;return ce<0?null:oe<0?this.at(ce,te):this.at(oe,te)}intersectsSphere($){return this.distanceSqToPoint($.center)<=$.radius*$.radius}distanceToPlane($){const te=$.normal.dot(this.direction);if(te===0)return $.distanceToPoint(this.origin)===0?0:null;const ne=-(this.origin.dot($.normal)+$.constant)/te;return ne>=0?ne:null}intersectPlane($,te){const ne=this.distanceToPlane($);return ne===null?null:this.at(ne,te)}intersectsPlane($){const te=$.distanceToPoint(this.origin);return te===0||$.normal.dot(this.direction)*te<0}intersectBox($,te){let ne,ie,se,le,oe,ce;const ae=1/this.direction.x,he=1/this.direction.y,de=1/this.direction.z,pe=this.origin;return ae>=0?(ne=($.min.x-pe.x)*ae,ie=($.max.x-pe.x)*ae):(ne=($.max.x-pe.x)*ae,ie=($.min.x-pe.x)*ae),he>=0?(se=($.min.y-pe.y)*he,le=($.max.y-pe.y)*he):(se=($.max.y-pe.y)*he,le=($.min.y-pe.y)*he),ne>le||se>ie||((se>ne||isNaN(ne))&&(ne=se),(le<ie||isNaN(ie))&&(ie=le),de>=0?(oe=($.min.z-pe.z)*de,ce=($.max.z-pe.z)*de):(oe=($.max.z-pe.z)*de,ce=($.min.z-pe.z)*de),ne>ce||oe>ie)||((oe>ne||ne!==ne)&&(ne=oe),(ce<ie||ie!==ie)&&(ie=ce),ie<0)?null:this.at(ne>=0?ne:ie,te)}intersectsBox($){return this.intersectBox($,_vector$a)!==null}intersectTriangle($,te,ne,ie,se){_edge1.subVectors(te,$),_edge2.subVectors(ne,$),_normal$1.crossVectors(_edge1,_edge2);let le=this.direction.dot(_normal$1),oe;if(le>0){if(ie)return null;oe=1}else if(le<0)oe=-1,le=-le;else return null;_diff.subVectors(this.origin,$);const ce=oe*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(ce<0)return null;const ae=oe*this.direction.dot(_edge1.cross(_diff));if(ae<0||ce+ae>le)return null;const he=-oe*_diff.dot(_normal$1);return he<0?null:this.at(he/le,se)}applyMatrix4($){return this.origin.applyMatrix4($),this.direction.transformDirection($),this}equals($){return $.origin.equals(this.origin)&&$.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor($,te,ne,ie,se,le,oe,ce,ae,he,de,pe,re,Ae,ge,Se){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],$!==void 0&&this.set($,te,ne,ie,se,le,oe,ce,ae,he,de,pe,re,Ae,ge,Se)}set($,te,ne,ie,se,le,oe,ce,ae,he,de,pe,re,Ae,ge,Se){const fe=this.elements;return fe[0]=$,fe[4]=te,fe[8]=ne,fe[12]=ie,fe[1]=se,fe[5]=le,fe[9]=oe,fe[13]=ce,fe[2]=ae,fe[6]=he,fe[10]=de,fe[14]=pe,fe[3]=re,fe[7]=Ae,fe[11]=ge,fe[15]=Se,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy($){const te=this.elements,ne=$.elements;return te[0]=ne[0],te[1]=ne[1],te[2]=ne[2],te[3]=ne[3],te[4]=ne[4],te[5]=ne[5],te[6]=ne[6],te[7]=ne[7],te[8]=ne[8],te[9]=ne[9],te[10]=ne[10],te[11]=ne[11],te[12]=ne[12],te[13]=ne[13],te[14]=ne[14],te[15]=ne[15],this}copyPosition($){const te=this.elements,ne=$.elements;return te[12]=ne[12],te[13]=ne[13],te[14]=ne[14],this}setFromMatrix3($){const te=$.elements;return this.set(te[0],te[3],te[6],0,te[1],te[4],te[7],0,te[2],te[5],te[8],0,0,0,0,1),this}extractBasis($,te,ne){return $.setFromMatrixColumn(this,0),te.setFromMatrixColumn(this,1),ne.setFromMatrixColumn(this,2),this}makeBasis($,te,ne){return this.set($.x,te.x,ne.x,0,$.y,te.y,ne.y,0,$.z,te.z,ne.z,0,0,0,0,1),this}extractRotation($){const te=this.elements,ne=$.elements,ie=1/_v1$5.setFromMatrixColumn($,0).length(),se=1/_v1$5.setFromMatrixColumn($,1).length(),le=1/_v1$5.setFromMatrixColumn($,2).length();return te[0]=ne[0]*ie,te[1]=ne[1]*ie,te[2]=ne[2]*ie,te[3]=0,te[4]=ne[4]*se,te[5]=ne[5]*se,te[6]=ne[6]*se,te[7]=0,te[8]=ne[8]*le,te[9]=ne[9]*le,te[10]=ne[10]*le,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,this}makeRotationFromEuler($){const te=this.elements,ne=$.x,ie=$.y,se=$.z,le=Math.cos(ne),oe=Math.sin(ne),ce=Math.cos(ie),ae=Math.sin(ie),he=Math.cos(se),de=Math.sin(se);if($.order==="XYZ"){const pe=le*he,re=le*de,Ae=oe*he,ge=oe*de;te[0]=ce*he,te[4]=-ce*de,te[8]=ae,te[1]=re+Ae*ae,te[5]=pe-ge*ae,te[9]=-oe*ce,te[2]=ge-pe*ae,te[6]=Ae+re*ae,te[10]=le*ce}else if($.order==="YXZ"){const pe=ce*he,re=ce*de,Ae=ae*he,ge=ae*de;te[0]=pe+ge*oe,te[4]=Ae*oe-re,te[8]=le*ae,te[1]=le*de,te[5]=le*he,te[9]=-oe,te[2]=re*oe-Ae,te[6]=ge+pe*oe,te[10]=le*ce}else if($.order==="ZXY"){const pe=ce*he,re=ce*de,Ae=ae*he,ge=ae*de;te[0]=pe-ge*oe,te[4]=-le*de,te[8]=Ae+re*oe,te[1]=re+Ae*oe,te[5]=le*he,te[9]=ge-pe*oe,te[2]=-le*ae,te[6]=oe,te[10]=le*ce}else if($.order==="ZYX"){const pe=le*he,re=le*de,Ae=oe*he,ge=oe*de;te[0]=ce*he,te[4]=Ae*ae-re,te[8]=pe*ae+ge,te[1]=ce*de,te[5]=ge*ae+pe,te[9]=re*ae-Ae,te[2]=-ae,te[6]=oe*ce,te[10]=le*ce}else if($.order==="YZX"){const pe=le*ce,re=le*ae,Ae=oe*ce,ge=oe*ae;te[0]=ce*he,te[4]=ge-pe*de,te[8]=Ae*de+re,te[1]=de,te[5]=le*he,te[9]=-oe*he,te[2]=-ae*he,te[6]=re*de+Ae,te[10]=pe-ge*de}else if($.order==="XZY"){const pe=le*ce,re=le*ae,Ae=oe*ce,ge=oe*ae;te[0]=ce*he,te[4]=-de,te[8]=ae*he,te[1]=pe*de+ge,te[5]=le*he,te[9]=re*de-Ae,te[2]=Ae*de-re,te[6]=oe*he,te[10]=ge*de+pe}return te[3]=0,te[7]=0,te[11]=0,te[12]=0,te[13]=0,te[14]=0,te[15]=1,this}makeRotationFromQuaternion($){return this.compose(_zero,$,_one)}lookAt($,te,ne){const ie=this.elements;return _z.subVectors($,te),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(ne,_z),_x.lengthSq()===0&&(Math.abs(ne.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(ne,_z)),_x.normalize(),_y.crossVectors(_z,_x),ie[0]=_x.x,ie[4]=_y.x,ie[8]=_z.x,ie[1]=_x.y,ie[5]=_y.y,ie[9]=_z.y,ie[2]=_x.z,ie[6]=_y.z,ie[10]=_z.z,this}multiply($){return this.multiplyMatrices(this,$)}premultiply($){return this.multiplyMatrices($,this)}multiplyMatrices($,te){const ne=$.elements,ie=te.elements,se=this.elements,le=ne[0],oe=ne[4],ce=ne[8],ae=ne[12],he=ne[1],de=ne[5],pe=ne[9],re=ne[13],Ae=ne[2],ge=ne[6],Se=ne[10],fe=ne[14],be=ne[3],xe=ne[7],ue=ne[11],we=ne[15],Fe=ie[0],_e=ie[4],Ee=ie[8],Ce=ie[12],ye=ie[1],Re=ie[5],Ye=ie[9],ke=ie[13],$e=ie[2],Be=ie[6],Pe=ie[10],Ue=ie[14],Te=ie[3],Me=ie[7],Ve=ie[11],He=ie[15];return se[0]=le*Fe+oe*ye+ce*$e+ae*Te,se[4]=le*_e+oe*Re+ce*Be+ae*Me,se[8]=le*Ee+oe*Ye+ce*Pe+ae*Ve,se[12]=le*Ce+oe*ke+ce*Ue+ae*He,se[1]=he*Fe+de*ye+pe*$e+re*Te,se[5]=he*_e+de*Re+pe*Be+re*Me,se[9]=he*Ee+de*Ye+pe*Pe+re*Ve,se[13]=he*Ce+de*ke+pe*Ue+re*He,se[2]=Ae*Fe+ge*ye+Se*$e+fe*Te,se[6]=Ae*_e+ge*Re+Se*Be+fe*Me,se[10]=Ae*Ee+ge*Ye+Se*Pe+fe*Ve,se[14]=Ae*Ce+ge*ke+Se*Ue+fe*He,se[3]=be*Fe+xe*ye+ue*$e+we*Te,se[7]=be*_e+xe*Re+ue*Be+we*Me,se[11]=be*Ee+xe*Ye+ue*Pe+we*Ve,se[15]=be*Ce+xe*ke+ue*Ue+we*He,this}multiplyScalar($){const te=this.elements;return te[0]*=$,te[4]*=$,te[8]*=$,te[12]*=$,te[1]*=$,te[5]*=$,te[9]*=$,te[13]*=$,te[2]*=$,te[6]*=$,te[10]*=$,te[14]*=$,te[3]*=$,te[7]*=$,te[11]*=$,te[15]*=$,this}determinant(){const $=this.elements,te=$[0],ne=$[4],ie=$[8],se=$[12],le=$[1],oe=$[5],ce=$[9],ae=$[13],he=$[2],de=$[6],pe=$[10],re=$[14],Ae=$[3],ge=$[7],Se=$[11],fe=$[15];return Ae*(+se*ce*de-ie*ae*de-se*oe*pe+ne*ae*pe+ie*oe*re-ne*ce*re)+ge*(+te*ce*re-te*ae*pe+se*le*pe-ie*le*re+ie*ae*he-se*ce*he)+Se*(+te*ae*de-te*oe*re-se*le*de+ne*le*re+se*oe*he-ne*ae*he)+fe*(-ie*oe*he-te*ce*de+te*oe*pe+ie*le*de-ne*le*pe+ne*ce*he)}transpose(){const $=this.elements;let te;return te=$[1],$[1]=$[4],$[4]=te,te=$[2],$[2]=$[8],$[8]=te,te=$[6],$[6]=$[9],$[9]=te,te=$[3],$[3]=$[12],$[12]=te,te=$[7],$[7]=$[13],$[13]=te,te=$[11],$[11]=$[14],$[14]=te,this}setPosition($,te,ne){const ie=this.elements;return $.isVector3?(ie[12]=$.x,ie[13]=$.y,ie[14]=$.z):(ie[12]=$,ie[13]=te,ie[14]=ne),this}invert(){const $=this.elements,te=$[0],ne=$[1],ie=$[2],se=$[3],le=$[4],oe=$[5],ce=$[6],ae=$[7],he=$[8],de=$[9],pe=$[10],re=$[11],Ae=$[12],ge=$[13],Se=$[14],fe=$[15],be=de*Se*ae-ge*pe*ae+ge*ce*re-oe*Se*re-de*ce*fe+oe*pe*fe,xe=Ae*pe*ae-he*Se*ae-Ae*ce*re+le*Se*re+he*ce*fe-le*pe*fe,ue=he*ge*ae-Ae*de*ae+Ae*oe*re-le*ge*re-he*oe*fe+le*de*fe,we=Ae*de*ce-he*ge*ce-Ae*oe*pe+le*ge*pe+he*oe*Se-le*de*Se,Fe=te*be+ne*xe+ie*ue+se*we;if(Fe===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const _e=1/Fe;return $[0]=be*_e,$[1]=(ge*pe*se-de*Se*se-ge*ie*re+ne*Se*re+de*ie*fe-ne*pe*fe)*_e,$[2]=(oe*Se*se-ge*ce*se+ge*ie*ae-ne*Se*ae-oe*ie*fe+ne*ce*fe)*_e,$[3]=(de*ce*se-oe*pe*se-de*ie*ae+ne*pe*ae+oe*ie*re-ne*ce*re)*_e,$[4]=xe*_e,$[5]=(he*Se*se-Ae*pe*se+Ae*ie*re-te*Se*re-he*ie*fe+te*pe*fe)*_e,$[6]=(Ae*ce*se-le*Se*se-Ae*ie*ae+te*Se*ae+le*ie*fe-te*ce*fe)*_e,$[7]=(le*pe*se-he*ce*se+he*ie*ae-te*pe*ae-le*ie*re+te*ce*re)*_e,$[8]=ue*_e,$[9]=(Ae*de*se-he*ge*se-Ae*ne*re+te*ge*re+he*ne*fe-te*de*fe)*_e,$[10]=(le*ge*se-Ae*oe*se+Ae*ne*ae-te*ge*ae-le*ne*fe+te*oe*fe)*_e,$[11]=(he*oe*se-le*de*se-he*ne*ae+te*de*ae+le*ne*re-te*oe*re)*_e,$[12]=we*_e,$[13]=(he*ge*ie-Ae*de*ie+Ae*ne*pe-te*ge*pe-he*ne*Se+te*de*Se)*_e,$[14]=(Ae*oe*ie-le*ge*ie-Ae*ne*ce+te*ge*ce+le*ne*Se-te*oe*Se)*_e,$[15]=(le*de*ie-he*oe*ie+he*ne*ce-te*de*ce-le*ne*pe+te*oe*pe)*_e,this}scale($){const te=this.elements,ne=$.x,ie=$.y,se=$.z;return te[0]*=ne,te[4]*=ie,te[8]*=se,te[1]*=ne,te[5]*=ie,te[9]*=se,te[2]*=ne,te[6]*=ie,te[10]*=se,te[3]*=ne,te[7]*=ie,te[11]*=se,this}getMaxScaleOnAxis(){const $=this.elements,te=$[0]*$[0]+$[1]*$[1]+$[2]*$[2],ne=$[4]*$[4]+$[5]*$[5]+$[6]*$[6],ie=$[8]*$[8]+$[9]*$[9]+$[10]*$[10];return Math.sqrt(Math.max(te,ne,ie))}makeTranslation($,te,ne){return $.isVector3?this.set(1,0,0,$.x,0,1,0,$.y,0,0,1,$.z,0,0,0,1):this.set(1,0,0,$,0,1,0,te,0,0,1,ne,0,0,0,1),this}makeRotationX($){const te=Math.cos($),ne=Math.sin($);return this.set(1,0,0,0,0,te,-ne,0,0,ne,te,0,0,0,0,1),this}makeRotationY($){const te=Math.cos($),ne=Math.sin($);return this.set(te,0,ne,0,0,1,0,0,-ne,0,te,0,0,0,0,1),this}makeRotationZ($){const te=Math.cos($),ne=Math.sin($);return this.set(te,-ne,0,0,ne,te,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis($,te){const ne=Math.cos(te),ie=Math.sin(te),se=1-ne,le=$.x,oe=$.y,ce=$.z,ae=se*le,he=se*oe;return this.set(ae*le+ne,ae*oe-ie*ce,ae*ce+ie*oe,0,ae*oe+ie*ce,he*oe+ne,he*ce-ie*le,0,ae*ce-ie*oe,he*ce+ie*le,se*ce*ce+ne,0,0,0,0,1),this}makeScale($,te,ne){return this.set($,0,0,0,0,te,0,0,0,0,ne,0,0,0,0,1),this}makeShear($,te,ne,ie,se,le){return this.set(1,ne,se,0,$,1,le,0,te,ie,1,0,0,0,0,1),this}compose($,te,ne){const ie=this.elements,se=te._x,le=te._y,oe=te._z,ce=te._w,ae=se+se,he=le+le,de=oe+oe,pe=se*ae,re=se*he,Ae=se*de,ge=le*he,Se=le*de,fe=oe*de,be=ce*ae,xe=ce*he,ue=ce*de,we=ne.x,Fe=ne.y,_e=ne.z;return ie[0]=(1-(ge+fe))*we,ie[1]=(re+ue)*we,ie[2]=(Ae-xe)*we,ie[3]=0,ie[4]=(re-ue)*Fe,ie[5]=(1-(pe+fe))*Fe,ie[6]=(Se+be)*Fe,ie[7]=0,ie[8]=(Ae+xe)*_e,ie[9]=(Se-be)*_e,ie[10]=(1-(pe+ge))*_e,ie[11]=0,ie[12]=$.x,ie[13]=$.y,ie[14]=$.z,ie[15]=1,this}decompose($,te,ne){const ie=this.elements;let se=_v1$5.set(ie[0],ie[1],ie[2]).length();const le=_v1$5.set(ie[4],ie[5],ie[6]).length(),oe=_v1$5.set(ie[8],ie[9],ie[10]).length();this.determinant()<0&&(se=-se),$.x=ie[12],$.y=ie[13],$.z=ie[14],_m1$2.copy(this);const ae=1/se,he=1/le,de=1/oe;return _m1$2.elements[0]*=ae,_m1$2.elements[1]*=ae,_m1$2.elements[2]*=ae,_m1$2.elements[4]*=he,_m1$2.elements[5]*=he,_m1$2.elements[6]*=he,_m1$2.elements[8]*=de,_m1$2.elements[9]*=de,_m1$2.elements[10]*=de,te.setFromRotationMatrix(_m1$2),ne.x=se,ne.y=le,ne.z=oe,this}makePerspective($,te,ne,ie,se,le,oe=WebGLCoordinateSystem){const ce=this.elements,ae=2*se/(te-$),he=2*se/(ne-ie),de=(te+$)/(te-$),pe=(ne+ie)/(ne-ie);let re,Ae;if(oe===WebGLCoordinateSystem)re=-(le+se)/(le-se),Ae=-2*le*se/(le-se);else if(oe===WebGPUCoordinateSystem)re=-le/(le-se),Ae=-le*se/(le-se);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+oe);return ce[0]=ae,ce[4]=0,ce[8]=de,ce[12]=0,ce[1]=0,ce[5]=he,ce[9]=pe,ce[13]=0,ce[2]=0,ce[6]=0,ce[10]=re,ce[14]=Ae,ce[3]=0,ce[7]=0,ce[11]=-1,ce[15]=0,this}makeOrthographic($,te,ne,ie,se,le,oe=WebGLCoordinateSystem){const ce=this.elements,ae=1/(te-$),he=1/(ne-ie),de=1/(le-se),pe=(te+$)*ae,re=(ne+ie)*he;let Ae,ge;if(oe===WebGLCoordinateSystem)Ae=(le+se)*de,ge=-2*de;else if(oe===WebGPUCoordinateSystem)Ae=se*de,ge=-1*de;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+oe);return ce[0]=2*ae,ce[4]=0,ce[8]=0,ce[12]=-pe,ce[1]=0,ce[5]=2*he,ce[9]=0,ce[13]=-re,ce[2]=0,ce[6]=0,ce[10]=ge,ce[14]=-Ae,ce[3]=0,ce[7]=0,ce[11]=0,ce[15]=1,this}equals($){const te=this.elements,ne=$.elements;for(let ie=0;ie<16;ie++)if(te[ie]!==ne[ie])return!1;return!0}fromArray($,te=0){for(let ne=0;ne<16;ne++)this.elements[ne]=$[ne+te];return this}toArray($=[],te=0){const ne=this.elements;return $[te]=ne[0],$[te+1]=ne[1],$[te+2]=ne[2],$[te+3]=ne[3],$[te+4]=ne[4],$[te+5]=ne[5],$[te+6]=ne[6],$[te+7]=ne[7],$[te+8]=ne[8],$[te+9]=ne[9],$[te+10]=ne[10],$[te+11]=ne[11],$[te+12]=ne[12],$[te+13]=ne[13],$[te+14]=ne[14],$[te+15]=ne[15],$}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor($=0,te=0,ne=0,ie=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=$,this._y=te,this._z=ne,this._order=ie}get x(){return this._x}set x($){this._x=$,this._onChangeCallback()}get y(){return this._y}set y($){this._y=$,this._onChangeCallback()}get z(){return this._z}set z($){this._z=$,this._onChangeCallback()}get order(){return this._order}set order($){this._order=$,this._onChangeCallback()}set($,te,ne,ie=this._order){return this._x=$,this._y=te,this._z=ne,this._order=ie,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy($){return this._x=$._x,this._y=$._y,this._z=$._z,this._order=$._order,this._onChangeCallback(),this}setFromRotationMatrix($,te=this._order,ne=!0){const ie=$.elements,se=ie[0],le=ie[4],oe=ie[8],ce=ie[1],ae=ie[5],he=ie[9],de=ie[2],pe=ie[6],re=ie[10];switch(te){case"XYZ":this._y=Math.asin(clamp$1(oe,-1,1)),Math.abs(oe)<.9999999?(this._x=Math.atan2(-he,re),this._z=Math.atan2(-le,se)):(this._x=Math.atan2(pe,ae),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$1(he,-1,1)),Math.abs(he)<.9999999?(this._y=Math.atan2(oe,re),this._z=Math.atan2(ce,ae)):(this._y=Math.atan2(-de,se),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$1(pe,-1,1)),Math.abs(pe)<.9999999?(this._y=Math.atan2(-de,re),this._z=Math.atan2(-le,ae)):(this._y=0,this._z=Math.atan2(ce,se));break;case"ZYX":this._y=Math.asin(-clamp$1(de,-1,1)),Math.abs(de)<.9999999?(this._x=Math.atan2(pe,re),this._z=Math.atan2(ce,se)):(this._x=0,this._z=Math.atan2(-le,ae));break;case"YZX":this._z=Math.asin(clamp$1(ce,-1,1)),Math.abs(ce)<.9999999?(this._x=Math.atan2(-he,ae),this._y=Math.atan2(-de,se)):(this._x=0,this._y=Math.atan2(oe,re));break;case"XZY":this._z=Math.asin(-clamp$1(le,-1,1)),Math.abs(le)<.9999999?(this._x=Math.atan2(pe,ae),this._y=Math.atan2(oe,se)):(this._x=Math.atan2(-he,re),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+te)}return this._order=te,ne===!0&&this._onChangeCallback(),this}setFromQuaternion($,te,ne){return _matrix$2.makeRotationFromQuaternion($),this.setFromRotationMatrix(_matrix$2,te,ne)}setFromVector3($,te=this._order){return this.set($.x,$.y,$.z,te)}reorder($){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,$)}equals($){return $._x===this._x&&$._y===this._y&&$._z===this._z&&$._order===this._order}fromArray($){return this._x=$[0],this._y=$[1],this._z=$[2],$[3]!==void 0&&(this._order=$[3]),this._onChangeCallback(),this}toArray($=[],te=0){return $[te]=this._x,$[te+1]=this._y,$[te+2]=this._z,$[te+3]=this._order,$}_onChange($){return this._onChangeCallback=$,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set($){this.mask=(1<<$|0)>>>0}enable($){this.mask|=1<<$|0}enableAll(){this.mask=-1}toggle($){this.mask^=1<<$|0}disable($){this.mask&=~(1<<$|0)}disableAll(){this.mask=0}test($){return(this.mask&$.mask)!==0}isEnabled($){return(this.mask&(1<<$|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher$1{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const $=new Vector3,te=new Euler,ne=new Quaternion,ie=new Vector3(1,1,1);function se(){ne.setFromEuler(te,!1)}function le(){te.setFromQuaternion(ne,void 0,!1)}te._onChange(se),ne._onChange(le),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:$},rotation:{configurable:!0,enumerable:!0,value:te},quaternion:{configurable:!0,enumerable:!0,value:ne},scale:{configurable:!0,enumerable:!0,value:ie},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4($){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply($),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion($){return this.quaternion.premultiply($),this}setRotationFromAxisAngle($,te){this.quaternion.setFromAxisAngle($,te)}setRotationFromEuler($){this.quaternion.setFromEuler($,!0)}setRotationFromMatrix($){this.quaternion.setFromRotationMatrix($)}setRotationFromQuaternion($){this.quaternion.copy($)}rotateOnAxis($,te){return _q1.setFromAxisAngle($,te),this.quaternion.multiply(_q1),this}rotateOnWorldAxis($,te){return _q1.setFromAxisAngle($,te),this.quaternion.premultiply(_q1),this}rotateX($){return this.rotateOnAxis(_xAxis,$)}rotateY($){return this.rotateOnAxis(_yAxis,$)}rotateZ($){return this.rotateOnAxis(_zAxis,$)}translateOnAxis($,te){return _v1$4.copy($).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(te)),this}translateX($){return this.translateOnAxis(_xAxis,$)}translateY($){return this.translateOnAxis(_yAxis,$)}translateZ($){return this.translateOnAxis(_zAxis,$)}localToWorld($){return this.updateWorldMatrix(!0,!1),$.applyMatrix4(this.matrixWorld)}worldToLocal($){return this.updateWorldMatrix(!0,!1),$.applyMatrix4(_m1$1$1.copy(this.matrixWorld).invert())}lookAt($,te,ne){$.isVector3?_target.copy($):_target.set($,te,ne);const ie=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1$1.lookAt(_position$3,_target,this.up):_m1$1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1$1),ie&&(_m1$1$1.extractRotation(ie.matrixWorld),_q1.setFromRotationMatrix(_m1$1$1),this.quaternion.premultiply(_q1.invert()))}add($){if(arguments.length>1){for(let te=0;te<arguments.length;te++)this.add(arguments[te]);return this}return $===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",$),this):($&&$.isObject3D?($.removeFromParent(),$.parent=this,this.children.push($),$.dispatchEvent(_addedEvent),_childaddedEvent.child=$,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",$),this)}remove($){if(arguments.length>1){for(let ne=0;ne<arguments.length;ne++)this.remove(arguments[ne]);return this}const te=this.children.indexOf($);return te!==-1&&($.parent=null,this.children.splice(te,1),$.dispatchEvent(_removedEvent),_childremovedEvent.child=$,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const $=this.parent;return $!==null&&$.remove(this),this}clear(){return this.remove(...this.children)}attach($){return this.updateWorldMatrix(!0,!1),_m1$1$1.copy(this.matrixWorld).invert(),$.parent!==null&&($.parent.updateWorldMatrix(!0,!1),_m1$1$1.multiply($.parent.matrixWorld)),$.applyMatrix4(_m1$1$1),$.removeFromParent(),$.parent=this,this.children.push($),$.updateWorldMatrix(!1,!0),$.dispatchEvent(_addedEvent),_childaddedEvent.child=$,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById($){return this.getObjectByProperty("id",$)}getObjectByName($){return this.getObjectByProperty("name",$)}getObjectByProperty($,te){if(this[$]===te)return this;for(let ne=0,ie=this.children.length;ne<ie;ne++){const le=this.children[ne].getObjectByProperty($,te);if(le!==void 0)return le}}getObjectsByProperty($,te,ne=[]){this[$]===te&&ne.push(this);const ie=this.children;for(let se=0,le=ie.length;se<le;se++)ie[se].getObjectsByProperty($,te,ne);return ne}getWorldPosition($){return this.updateWorldMatrix(!0,!1),$.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion($){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,$,_scale$2),$}getWorldScale($){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,$),$}getWorldDirection($){this.updateWorldMatrix(!0,!1);const te=this.matrixWorld.elements;return $.set(te[8],te[9],te[10]).normalize()}raycast(){}traverse($){$(this);const te=this.children;for(let ne=0,ie=te.length;ne<ie;ne++)te[ne].traverse($)}traverseVisible($){if(this.visible===!1)return;$(this);const te=this.children;for(let ne=0,ie=te.length;ne<ie;ne++)te[ne].traverseVisible($)}traverseAncestors($){const te=this.parent;te!==null&&($(te),te.traverseAncestors($))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld($){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||$)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,$=!0);const te=this.children;for(let ne=0,ie=te.length;ne<ie;ne++)te[ne].updateMatrixWorld($)}updateWorldMatrix($,te){const ne=this.parent;if($===!0&&ne!==null&&ne.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),te===!0){const ie=this.children;for(let se=0,le=ie.length;se<le;se++)ie[se].updateWorldMatrix(!1,!0)}}toJSON($){const te=$===void 0||typeof $=="string",ne={};te&&($={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},ne.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const ie={};ie.uuid=this.uuid,ie.type=this.type,this.name!==""&&(ie.name=this.name),this.castShadow===!0&&(ie.castShadow=!0),this.receiveShadow===!0&&(ie.receiveShadow=!0),this.visible===!1&&(ie.visible=!1),this.frustumCulled===!1&&(ie.frustumCulled=!1),this.renderOrder!==0&&(ie.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(ie.userData=this.userData),ie.layers=this.layers.mask,ie.matrix=this.matrix.toArray(),ie.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(ie.matrixAutoUpdate=!1),this.isInstancedMesh&&(ie.type="InstancedMesh",ie.count=this.count,ie.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(ie.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(ie.type="BatchedMesh",ie.perObjectFrustumCulled=this.perObjectFrustumCulled,ie.sortObjects=this.sortObjects,ie.drawRanges=this._drawRanges,ie.reservedRanges=this._reservedRanges,ie.visibility=this._visibility,ie.active=this._active,ie.bounds=this._bounds.map(oe=>({boxInitialized:oe.boxInitialized,boxMin:oe.box.min.toArray(),boxMax:oe.box.max.toArray(),sphereInitialized:oe.sphereInitialized,sphereRadius:oe.sphere.radius,sphereCenter:oe.sphere.center.toArray()})),ie.maxInstanceCount=this._maxInstanceCount,ie.maxVertexCount=this._maxVertexCount,ie.maxIndexCount=this._maxIndexCount,ie.geometryInitialized=this._geometryInitialized,ie.geometryCount=this._geometryCount,ie.matricesTexture=this._matricesTexture.toJSON($),this._colorsTexture!==null&&(ie.colorsTexture=this._colorsTexture.toJSON($)),this.boundingSphere!==null&&(ie.boundingSphere={center:ie.boundingSphere.center.toArray(),radius:ie.boundingSphere.radius}),this.boundingBox!==null&&(ie.boundingBox={min:ie.boundingBox.min.toArray(),max:ie.boundingBox.max.toArray()}));function se(oe,ce){return oe[ce.uuid]===void 0&&(oe[ce.uuid]=ce.toJSON($)),ce.uuid}if(this.isScene)this.background&&(this.background.isColor?ie.background=this.background.toJSON():this.background.isTexture&&(ie.background=this.background.toJSON($).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(ie.environment=this.environment.toJSON($).uuid);else if(this.isMesh||this.isLine||this.isPoints){ie.geometry=se($.geometries,this.geometry);const oe=this.geometry.parameters;if(oe!==void 0&&oe.shapes!==void 0){const ce=oe.shapes;if(Array.isArray(ce))for(let ae=0,he=ce.length;ae<he;ae++){const de=ce[ae];se($.shapes,de)}else se($.shapes,ce)}}if(this.isSkinnedMesh&&(ie.bindMode=this.bindMode,ie.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(se($.skeletons,this.skeleton),ie.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const oe=[];for(let ce=0,ae=this.material.length;ce<ae;ce++)oe.push(se($.materials,this.material[ce]));ie.material=oe}else ie.material=se($.materials,this.material);if(this.children.length>0){ie.children=[];for(let oe=0;oe<this.children.length;oe++)ie.children.push(this.children[oe].toJSON($).object)}if(this.animations.length>0){ie.animations=[];for(let oe=0;oe<this.animations.length;oe++){const ce=this.animations[oe];ie.animations.push(se($.animations,ce))}}if(te){const oe=le($.geometries),ce=le($.materials),ae=le($.textures),he=le($.images),de=le($.shapes),pe=le($.skeletons),re=le($.animations),Ae=le($.nodes);oe.length>0&&(ne.geometries=oe),ce.length>0&&(ne.materials=ce),ae.length>0&&(ne.textures=ae),he.length>0&&(ne.images=he),de.length>0&&(ne.shapes=de),pe.length>0&&(ne.skeletons=pe),re.length>0&&(ne.animations=re),Ae.length>0&&(ne.nodes=Ae)}return ne.object=ie,ne;function le(oe){const ce=[];for(const ae in oe){const he=oe[ae];delete he.metadata,ce.push(he)}return ce}}clone($){return new this.constructor().copy(this,$)}copy($,te=!0){if(this.name=$.name,this.up.copy($.up),this.position.copy($.position),this.rotation.order=$.rotation.order,this.quaternion.copy($.quaternion),this.scale.copy($.scale),this.matrix.copy($.matrix),this.matrixWorld.copy($.matrixWorld),this.matrixAutoUpdate=$.matrixAutoUpdate,this.matrixWorldAutoUpdate=$.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=$.matrixWorldNeedsUpdate,this.layers.mask=$.layers.mask,this.visible=$.visible,this.castShadow=$.castShadow,this.receiveShadow=$.receiveShadow,this.frustumCulled=$.frustumCulled,this.renderOrder=$.renderOrder,this.animations=$.animations.slice(),this.userData=JSON.parse(JSON.stringify($.userData)),te===!0)for(let ne=0;ne<$.children.length;ne++){const ie=$.children[ne];this.add(ie.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor($=new Vector3,te=new Vector3,ne=new Vector3){this.a=$,this.b=te,this.c=ne}static getNormal($,te,ne,ie){ie.subVectors(ne,te),_v0$1.subVectors($,te),ie.cross(_v0$1);const se=ie.lengthSq();return se>0?ie.multiplyScalar(1/Math.sqrt(se)):ie.set(0,0,0)}static getBarycoord($,te,ne,ie,se){_v0$1.subVectors(ie,te),_v1$3.subVectors(ne,te),_v2$2.subVectors($,te);const le=_v0$1.dot(_v0$1),oe=_v0$1.dot(_v1$3),ce=_v0$1.dot(_v2$2),ae=_v1$3.dot(_v1$3),he=_v1$3.dot(_v2$2),de=le*ae-oe*oe;if(de===0)return se.set(0,0,0),null;const pe=1/de,re=(ae*ce-oe*he)*pe,Ae=(le*he-oe*ce)*pe;return se.set(1-re-Ae,Ae,re)}static containsPoint($,te,ne,ie){return this.getBarycoord($,te,ne,ie,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation($,te,ne,ie,se,le,oe,ce){return this.getBarycoord($,te,ne,ie,_v3$2)===null?(ce.x=0,ce.y=0,"z"in ce&&(ce.z=0),"w"in ce&&(ce.w=0),null):(ce.setScalar(0),ce.addScaledVector(se,_v3$2.x),ce.addScaledVector(le,_v3$2.y),ce.addScaledVector(oe,_v3$2.z),ce)}static getInterpolatedAttribute($,te,ne,ie,se,le){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute($,te),_v41.fromBufferAttribute($,ne),_v42.fromBufferAttribute($,ie),le.setScalar(0),le.addScaledVector(_v40,se.x),le.addScaledVector(_v41,se.y),le.addScaledVector(_v42,se.z),le}static isFrontFacing($,te,ne,ie){return _v0$1.subVectors(ne,te),_v1$3.subVectors($,te),_v0$1.cross(_v1$3).dot(ie)<0}set($,te,ne){return this.a.copy($),this.b.copy(te),this.c.copy(ne),this}setFromPointsAndIndices($,te,ne,ie){return this.a.copy($[te]),this.b.copy($[ne]),this.c.copy($[ie]),this}setFromAttributeAndIndices($,te,ne,ie){return this.a.fromBufferAttribute($,te),this.b.fromBufferAttribute($,ne),this.c.fromBufferAttribute($,ie),this}clone(){return new this.constructor().copy(this)}copy($){return this.a.copy($.a),this.b.copy($.b),this.c.copy($.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint($){return $.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal($){return Triangle.getNormal(this.a,this.b,this.c,$)}getPlane($){return $.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord($,te){return Triangle.getBarycoord($,this.a,this.b,this.c,te)}getInterpolation($,te,ne,ie,se){return Triangle.getInterpolation($,this.a,this.b,this.c,te,ne,ie,se)}containsPoint($){return Triangle.containsPoint($,this.a,this.b,this.c)}isFrontFacing($){return Triangle.isFrontFacing(this.a,this.b,this.c,$)}intersectsBox($){return $.intersectsTriangle(this)}closestPointToPoint($,te){const ne=this.a,ie=this.b,se=this.c;let le,oe;_vab.subVectors(ie,ne),_vac.subVectors(se,ne),_vap.subVectors($,ne);const ce=_vab.dot(_vap),ae=_vac.dot(_vap);if(ce<=0&&ae<=0)return te.copy(ne);_vbp.subVectors($,ie);const he=_vab.dot(_vbp),de=_vac.dot(_vbp);if(he>=0&&de<=he)return te.copy(ie);const pe=ce*de-he*ae;if(pe<=0&&ce>=0&&he<=0)return le=ce/(ce-he),te.copy(ne).addScaledVector(_vab,le);_vcp.subVectors($,se);const re=_vab.dot(_vcp),Ae=_vac.dot(_vcp);if(Ae>=0&&re<=Ae)return te.copy(se);const ge=re*ae-ce*Ae;if(ge<=0&&ae>=0&&Ae<=0)return oe=ae/(ae-Ae),te.copy(ne).addScaledVector(_vac,oe);const Se=he*Ae-re*de;if(Se<=0&&de-he>=0&&re-Ae>=0)return _vbc.subVectors(se,ie),oe=(de-he)/(de-he+(re-Ae)),te.copy(ie).addScaledVector(_vbc,oe);const fe=1/(Se+ge+pe);return le=ge*fe,oe=pe*fe,te.copy(ne).addScaledVector(_vab,le).addScaledVector(_vac,oe)}equals($){return $.a.equals(this.a)&&$.b.equals(this.b)&&$.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(ee,$,te){return te<0&&(te+=1),te>1&&(te-=1),te<1/6?ee+($-ee)*6*te:te<1/2?$:te<2/3?ee+($-ee)*6*(2/3-te):ee}class Color{constructor($,te,ne){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set($,te,ne)}set($,te,ne){if(te===void 0&&ne===void 0){const ie=$;ie&&ie.isColor?this.copy(ie):typeof ie=="number"?this.setHex(ie):typeof ie=="string"&&this.setStyle(ie)}else this.setRGB($,te,ne);return this}setScalar($){return this.r=$,this.g=$,this.b=$,this}setHex($,te=SRGBColorSpace){return $=Math.floor($),this.r=($>>16&255)/255,this.g=($>>8&255)/255,this.b=($&255)/255,ColorManagement.toWorkingColorSpace(this,te),this}setRGB($,te,ne,ie=ColorManagement.workingColorSpace){return this.r=$,this.g=te,this.b=ne,ColorManagement.toWorkingColorSpace(this,ie),this}setHSL($,te,ne,ie=ColorManagement.workingColorSpace){if($=euclideanModulo($,1),te=clamp$1(te,0,1),ne=clamp$1(ne,0,1),te===0)this.r=this.g=this.b=ne;else{const se=ne<=.5?ne*(1+te):ne+te-ne*te,le=2*ne-se;this.r=hue2rgb(le,se,$+1/3),this.g=hue2rgb(le,se,$),this.b=hue2rgb(le,se,$-1/3)}return ColorManagement.toWorkingColorSpace(this,ie),this}setStyle($,te=SRGBColorSpace){function ne(se){se!==void 0&&parseFloat(se)<1&&console.warn("THREE.Color: Alpha component of "+$+" will be ignored.")}let ie;if(ie=/^(\w+)\(([^\)]*)\)/.exec($)){let se;const le=ie[1],oe=ie[2];switch(le){case"rgb":case"rgba":if(se=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(oe))return ne(se[4]),this.setRGB(Math.min(255,parseInt(se[1],10))/255,Math.min(255,parseInt(se[2],10))/255,Math.min(255,parseInt(se[3],10))/255,te);if(se=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(oe))return ne(se[4]),this.setRGB(Math.min(100,parseInt(se[1],10))/100,Math.min(100,parseInt(se[2],10))/100,Math.min(100,parseInt(se[3],10))/100,te);break;case"hsl":case"hsla":if(se=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(oe))return ne(se[4]),this.setHSL(parseFloat(se[1])/360,parseFloat(se[2])/100,parseFloat(se[3])/100,te);break;default:console.warn("THREE.Color: Unknown color model "+$)}}else if(ie=/^\#([A-Fa-f\d]+)$/.exec($)){const se=ie[1],le=se.length;if(le===3)return this.setRGB(parseInt(se.charAt(0),16)/15,parseInt(se.charAt(1),16)/15,parseInt(se.charAt(2),16)/15,te);if(le===6)return this.setHex(parseInt(se,16),te);console.warn("THREE.Color: Invalid hex color "+$)}else if($&&$.length>0)return this.setColorName($,te);return this}setColorName($,te=SRGBColorSpace){const ne=_colorKeywords[$.toLowerCase()];return ne!==void 0?this.setHex(ne,te):console.warn("THREE.Color: Unknown color "+$),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy($){return this.r=$.r,this.g=$.g,this.b=$.b,this}copySRGBToLinear($){return this.r=SRGBToLinear($.r),this.g=SRGBToLinear($.g),this.b=SRGBToLinear($.b),this}copyLinearToSRGB($){return this.r=LinearToSRGB($.r),this.g=LinearToSRGB($.g),this.b=LinearToSRGB($.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex($=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),$),Math.round(clamp$1(_color.r*255,0,255))*65536+Math.round(clamp$1(_color.g*255,0,255))*256+Math.round(clamp$1(_color.b*255,0,255))}getHexString($=SRGBColorSpace){return("000000"+this.getHex($).toString(16)).slice(-6)}getHSL($,te=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),te);const ne=_color.r,ie=_color.g,se=_color.b,le=Math.max(ne,ie,se),oe=Math.min(ne,ie,se);let ce,ae;const he=(oe+le)/2;if(oe===le)ce=0,ae=0;else{const de=le-oe;switch(ae=he<=.5?de/(le+oe):de/(2-le-oe),le){case ne:ce=(ie-se)/de+(ie<se?6:0);break;case ie:ce=(se-ne)/de+2;break;case se:ce=(ne-ie)/de+4;break}ce/=6}return $.h=ce,$.s=ae,$.l=he,$}getRGB($,te=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),te),$.r=_color.r,$.g=_color.g,$.b=_color.b,$}getStyle($=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),$);const te=_color.r,ne=_color.g,ie=_color.b;return $!==SRGBColorSpace?`color(${$} ${te.toFixed(3)} ${ne.toFixed(3)} ${ie.toFixed(3)})`:`rgb(${Math.round(te*255)},${Math.round(ne*255)},${Math.round(ie*255)})`}offsetHSL($,te,ne){return this.getHSL(_hslA),this.setHSL(_hslA.h+$,_hslA.s+te,_hslA.l+ne)}add($){return this.r+=$.r,this.g+=$.g,this.b+=$.b,this}addColors($,te){return this.r=$.r+te.r,this.g=$.g+te.g,this.b=$.b+te.b,this}addScalar($){return this.r+=$,this.g+=$,this.b+=$,this}sub($){return this.r=Math.max(0,this.r-$.r),this.g=Math.max(0,this.g-$.g),this.b=Math.max(0,this.b-$.b),this}multiply($){return this.r*=$.r,this.g*=$.g,this.b*=$.b,this}multiplyScalar($){return this.r*=$,this.g*=$,this.b*=$,this}lerp($,te){return this.r+=($.r-this.r)*te,this.g+=($.g-this.g)*te,this.b+=($.b-this.b)*te,this}lerpColors($,te,ne){return this.r=$.r+(te.r-$.r)*ne,this.g=$.g+(te.g-$.g)*ne,this.b=$.b+(te.b-$.b)*ne,this}lerpHSL($,te){this.getHSL(_hslA),$.getHSL(_hslB);const ne=lerp(_hslA.h,_hslB.h,te),ie=lerp(_hslA.s,_hslB.s,te),se=lerp(_hslA.l,_hslB.l,te);return this.setHSL(ne,ie,se),this}setFromVector3($){return this.r=$.x,this.g=$.y,this.b=$.z,this}applyMatrix3($){const te=this.r,ne=this.g,ie=this.b,se=$.elements;return this.r=se[0]*te+se[3]*ne+se[6]*ie,this.g=se[1]*te+se[4]*ne+se[7]*ie,this.b=se[2]*te+se[5]*ne+se[8]*ie,this}equals($){return $.r===this.r&&$.g===this.g&&$.b===this.b}fromArray($,te=0){return this.r=$[te],this.g=$[te+1],this.b=$[te+2],this}toArray($=[],te=0){return $[te]=this.r,$[te+1]=this.g,$[te+2]=this.b,$}fromBufferAttribute($,te){return this.r=$.getX(te),this.g=$.getY(te),this.b=$.getZ(te),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher$1{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest($){this._alphaTest>0!=$>0&&this.version++,this._alphaTest=$}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues($){if($!==void 0)for(const te in $){const ne=$[te];if(ne===void 0){console.warn(`THREE.Material: parameter '${te}' has value of undefined.`);continue}const ie=this[te];if(ie===void 0){console.warn(`THREE.Material: '${te}' is not a property of THREE.${this.type}.`);continue}ie&&ie.isColor?ie.set(ne):ie&&ie.isVector3&&ne&&ne.isVector3?ie.copy(ne):this[te]=ne}}toJSON($){const te=$===void 0||typeof $=="string";te&&($={textures:{},images:{}});const ne={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};ne.uuid=this.uuid,ne.type=this.type,this.name!==""&&(ne.name=this.name),this.color&&this.color.isColor&&(ne.color=this.color.getHex()),this.roughness!==void 0&&(ne.roughness=this.roughness),this.metalness!==void 0&&(ne.metalness=this.metalness),this.sheen!==void 0&&(ne.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(ne.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(ne.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(ne.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(ne.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(ne.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(ne.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(ne.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(ne.shininess=this.shininess),this.clearcoat!==void 0&&(ne.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(ne.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(ne.clearcoatMap=this.clearcoatMap.toJSON($).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(ne.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON($).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(ne.clearcoatNormalMap=this.clearcoatNormalMap.toJSON($).uuid,ne.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(ne.dispersion=this.dispersion),this.iridescence!==void 0&&(ne.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(ne.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(ne.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(ne.iridescenceMap=this.iridescenceMap.toJSON($).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(ne.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON($).uuid),this.anisotropy!==void 0&&(ne.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(ne.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(ne.anisotropyMap=this.anisotropyMap.toJSON($).uuid),this.map&&this.map.isTexture&&(ne.map=this.map.toJSON($).uuid),this.matcap&&this.matcap.isTexture&&(ne.matcap=this.matcap.toJSON($).uuid),this.alphaMap&&this.alphaMap.isTexture&&(ne.alphaMap=this.alphaMap.toJSON($).uuid),this.lightMap&&this.lightMap.isTexture&&(ne.lightMap=this.lightMap.toJSON($).uuid,ne.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(ne.aoMap=this.aoMap.toJSON($).uuid,ne.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(ne.bumpMap=this.bumpMap.toJSON($).uuid,ne.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(ne.normalMap=this.normalMap.toJSON($).uuid,ne.normalMapType=this.normalMapType,ne.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(ne.displacementMap=this.displacementMap.toJSON($).uuid,ne.displacementScale=this.displacementScale,ne.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(ne.roughnessMap=this.roughnessMap.toJSON($).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(ne.metalnessMap=this.metalnessMap.toJSON($).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(ne.emissiveMap=this.emissiveMap.toJSON($).uuid),this.specularMap&&this.specularMap.isTexture&&(ne.specularMap=this.specularMap.toJSON($).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(ne.specularIntensityMap=this.specularIntensityMap.toJSON($).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(ne.specularColorMap=this.specularColorMap.toJSON($).uuid),this.envMap&&this.envMap.isTexture&&(ne.envMap=this.envMap.toJSON($).uuid,this.combine!==void 0&&(ne.combine=this.combine)),this.envMapRotation!==void 0&&(ne.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(ne.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(ne.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(ne.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(ne.gradientMap=this.gradientMap.toJSON($).uuid),this.transmission!==void 0&&(ne.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(ne.transmissionMap=this.transmissionMap.toJSON($).uuid),this.thickness!==void 0&&(ne.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(ne.thicknessMap=this.thicknessMap.toJSON($).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(ne.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(ne.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(ne.size=this.size),this.shadowSide!==null&&(ne.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(ne.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(ne.blending=this.blending),this.side!==FrontSide&&(ne.side=this.side),this.vertexColors===!0&&(ne.vertexColors=!0),this.opacity<1&&(ne.opacity=this.opacity),this.transparent===!0&&(ne.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(ne.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(ne.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(ne.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(ne.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(ne.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(ne.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(ne.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(ne.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(ne.depthFunc=this.depthFunc),this.depthTest===!1&&(ne.depthTest=this.depthTest),this.depthWrite===!1&&(ne.depthWrite=this.depthWrite),this.colorWrite===!1&&(ne.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(ne.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(ne.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(ne.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(ne.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(ne.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(ne.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(ne.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(ne.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(ne.rotation=this.rotation),this.polygonOffset===!0&&(ne.polygonOffset=!0),this.polygonOffsetFactor!==0&&(ne.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(ne.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(ne.linewidth=this.linewidth),this.dashSize!==void 0&&(ne.dashSize=this.dashSize),this.gapSize!==void 0&&(ne.gapSize=this.gapSize),this.scale!==void 0&&(ne.scale=this.scale),this.dithering===!0&&(ne.dithering=!0),this.alphaTest>0&&(ne.alphaTest=this.alphaTest),this.alphaHash===!0&&(ne.alphaHash=!0),this.alphaToCoverage===!0&&(ne.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(ne.premultipliedAlpha=!0),this.forceSinglePass===!0&&(ne.forceSinglePass=!0),this.wireframe===!0&&(ne.wireframe=!0),this.wireframeLinewidth>1&&(ne.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(ne.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(ne.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(ne.flatShading=!0),this.visible===!1&&(ne.visible=!1),this.toneMapped===!1&&(ne.toneMapped=!1),this.fog===!1&&(ne.fog=!1),Object.keys(this.userData).length>0&&(ne.userData=this.userData);function ie(se){const le=[];for(const oe in se){const ce=se[oe];delete ce.metadata,le.push(ce)}return le}if(te){const se=ie($.textures),le=ie($.images);se.length>0&&(ne.textures=se),le.length>0&&(ne.images=le)}return ne}clone(){return new this.constructor().copy(this)}copy($){this.name=$.name,this.blending=$.blending,this.side=$.side,this.vertexColors=$.vertexColors,this.opacity=$.opacity,this.transparent=$.transparent,this.blendSrc=$.blendSrc,this.blendDst=$.blendDst,this.blendEquation=$.blendEquation,this.blendSrcAlpha=$.blendSrcAlpha,this.blendDstAlpha=$.blendDstAlpha,this.blendEquationAlpha=$.blendEquationAlpha,this.blendColor.copy($.blendColor),this.blendAlpha=$.blendAlpha,this.depthFunc=$.depthFunc,this.depthTest=$.depthTest,this.depthWrite=$.depthWrite,this.stencilWriteMask=$.stencilWriteMask,this.stencilFunc=$.stencilFunc,this.stencilRef=$.stencilRef,this.stencilFuncMask=$.stencilFuncMask,this.stencilFail=$.stencilFail,this.stencilZFail=$.stencilZFail,this.stencilZPass=$.stencilZPass,this.stencilWrite=$.stencilWrite;const te=$.clippingPlanes;let ne=null;if(te!==null){const ie=te.length;ne=new Array(ie);for(let se=0;se!==ie;++se)ne[se]=te[se].clone()}return this.clippingPlanes=ne,this.clipIntersection=$.clipIntersection,this.clipShadows=$.clipShadows,this.shadowSide=$.shadowSide,this.colorWrite=$.colorWrite,this.precision=$.precision,this.polygonOffset=$.polygonOffset,this.polygonOffsetFactor=$.polygonOffsetFactor,this.polygonOffsetUnits=$.polygonOffsetUnits,this.dithering=$.dithering,this.alphaTest=$.alphaTest,this.alphaHash=$.alphaHash,this.alphaToCoverage=$.alphaToCoverage,this.premultipliedAlpha=$.premultipliedAlpha,this.forceSinglePass=$.forceSinglePass,this.visible=$.visible,this.toneMapped=$.toneMapped,this.userData=JSON.parse(JSON.stringify($.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate($){$===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class MeshBasicMaterial extends Material{constructor($){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.specularMap=$.specularMap,this.alphaMap=$.alphaMap,this.envMap=$.envMap,this.envMapRotation.copy($.envMapRotation),this.combine=$.combine,this.reflectivity=$.reflectivity,this.refractionRatio=$.refractionRatio,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.fog=$.fog,this}}const _tables=_generateTables();function _generateTables(){const ee=new ArrayBuffer(4),$=new Float32Array(ee),te=new Uint32Array(ee),ne=new Uint32Array(512),ie=new Uint32Array(512);for(let ce=0;ce<256;++ce){const ae=ce-127;ae<-27?(ne[ce]=0,ne[ce|256]=32768,ie[ce]=24,ie[ce|256]=24):ae<-14?(ne[ce]=1024>>-ae-14,ne[ce|256]=1024>>-ae-14|32768,ie[ce]=-ae-1,ie[ce|256]=-ae-1):ae<=15?(ne[ce]=ae+15<<10,ne[ce|256]=ae+15<<10|32768,ie[ce]=13,ie[ce|256]=13):ae<128?(ne[ce]=31744,ne[ce|256]=64512,ie[ce]=24,ie[ce|256]=24):(ne[ce]=31744,ne[ce|256]=64512,ie[ce]=13,ie[ce|256]=13)}const se=new Uint32Array(2048),le=new Uint32Array(64),oe=new Uint32Array(64);for(let ce=1;ce<1024;++ce){let ae=ce<<13,he=0;for(;!(ae&8388608);)ae<<=1,he-=8388608;ae&=-8388609,he+=947912704,se[ce]=ae|he}for(let ce=1024;ce<2048;++ce)se[ce]=939524096+(ce-1024<<13);for(let ce=1;ce<31;++ce)le[ce]=ce<<23;le[31]=1199570944,le[32]=2147483648;for(let ce=33;ce<63;++ce)le[ce]=2147483648+(ce-32<<23);le[63]=3347054592;for(let ce=1;ce<64;++ce)ce!==32&&(oe[ce]=1024);return{floatView:$,uint32View:te,baseTable:ne,shiftTable:ie,mantissaTable:se,exponentTable:le,offsetTable:oe}}function toHalfFloat(ee){Math.abs(ee)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),ee=clamp$1(ee,-65504,65504),_tables.floatView[0]=ee;const $=_tables.uint32View[0],te=$>>23&511;return _tables.baseTable[te]+(($&8388607)>>_tables.shiftTable[te])}function fromHalfFloat(ee){const $=ee>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[$]+(ee&1023)]+_tables.exponentTable[$],_tables.floatView[0]}class DataUtils{static toHalfFloat($){return toHalfFloat($)}static fromHalfFloat($){return fromHalfFloat($)}}const _vector$9=new Vector3,_vector2$1=new Vector2;let _id$2=0;class BufferAttribute{constructor($,te,ne=!1){if(Array.isArray($))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.name="",this.array=$,this.itemSize=te,this.count=$!==void 0?$.length/te:0,this.normalized=ne,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate($){$===!0&&this.version++}setUsage($){return this.usage=$,this}addUpdateRange($,te){this.updateRanges.push({start:$,count:te})}clearUpdateRanges(){this.updateRanges.length=0}copy($){return this.name=$.name,this.array=new $.array.constructor($.array),this.itemSize=$.itemSize,this.count=$.count,this.normalized=$.normalized,this.usage=$.usage,this.gpuType=$.gpuType,this}copyAt($,te,ne){$*=this.itemSize,ne*=te.itemSize;for(let ie=0,se=this.itemSize;ie<se;ie++)this.array[$+ie]=te.array[ne+ie];return this}copyArray($){return this.array.set($),this}applyMatrix3($){if(this.itemSize===2)for(let te=0,ne=this.count;te<ne;te++)_vector2$1.fromBufferAttribute(this,te),_vector2$1.applyMatrix3($),this.setXY(te,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let te=0,ne=this.count;te<ne;te++)_vector$9.fromBufferAttribute(this,te),_vector$9.applyMatrix3($),this.setXYZ(te,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4($){for(let te=0,ne=this.count;te<ne;te++)_vector$9.fromBufferAttribute(this,te),_vector$9.applyMatrix4($),this.setXYZ(te,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix($){for(let te=0,ne=this.count;te<ne;te++)_vector$9.fromBufferAttribute(this,te),_vector$9.applyNormalMatrix($),this.setXYZ(te,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection($){for(let te=0,ne=this.count;te<ne;te++)_vector$9.fromBufferAttribute(this,te),_vector$9.transformDirection($),this.setXYZ(te,_vector$9.x,_vector$9.y,_vector$9.z);return this}set($,te=0){return this.array.set($,te),this}getComponent($,te){let ne=this.array[$*this.itemSize+te];return this.normalized&&(ne=denormalize(ne,this.array)),ne}setComponent($,te,ne){return this.normalized&&(ne=normalize(ne,this.array)),this.array[$*this.itemSize+te]=ne,this}getX($){let te=this.array[$*this.itemSize];return this.normalized&&(te=denormalize(te,this.array)),te}setX($,te){return this.normalized&&(te=normalize(te,this.array)),this.array[$*this.itemSize]=te,this}getY($){let te=this.array[$*this.itemSize+1];return this.normalized&&(te=denormalize(te,this.array)),te}setY($,te){return this.normalized&&(te=normalize(te,this.array)),this.array[$*this.itemSize+1]=te,this}getZ($){let te=this.array[$*this.itemSize+2];return this.normalized&&(te=denormalize(te,this.array)),te}setZ($,te){return this.normalized&&(te=normalize(te,this.array)),this.array[$*this.itemSize+2]=te,this}getW($){let te=this.array[$*this.itemSize+3];return this.normalized&&(te=denormalize(te,this.array)),te}setW($,te){return this.normalized&&(te=normalize(te,this.array)),this.array[$*this.itemSize+3]=te,this}setXY($,te,ne){return $*=this.itemSize,this.normalized&&(te=normalize(te,this.array),ne=normalize(ne,this.array)),this.array[$+0]=te,this.array[$+1]=ne,this}setXYZ($,te,ne,ie){return $*=this.itemSize,this.normalized&&(te=normalize(te,this.array),ne=normalize(ne,this.array),ie=normalize(ie,this.array)),this.array[$+0]=te,this.array[$+1]=ne,this.array[$+2]=ie,this}setXYZW($,te,ne,ie,se){return $*=this.itemSize,this.normalized&&(te=normalize(te,this.array),ne=normalize(ne,this.array),ie=normalize(ie,this.array),se=normalize(se,this.array)),this.array[$+0]=te,this.array[$+1]=ne,this.array[$+2]=ie,this.array[$+3]=se,this}onUpload($){return this.onUploadCallback=$,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const $={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&($.name=this.name),this.usage!==StaticDrawUsage&&($.usage=this.usage),$}}class Int8BufferAttribute extends BufferAttribute{constructor($,te,ne){super(new Int8Array($),te,ne)}}class Uint8BufferAttribute extends BufferAttribute{constructor($,te,ne){super(new Uint8Array($),te,ne)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor($,te,ne){super(new Uint8ClampedArray($),te,ne)}}class Int16BufferAttribute extends BufferAttribute{constructor($,te,ne){super(new Int16Array($),te,ne)}}class Uint16BufferAttribute extends BufferAttribute{constructor($,te,ne){super(new Uint16Array($),te,ne)}}class Int32BufferAttribute extends BufferAttribute{constructor($,te,ne){super(new Int32Array($),te,ne)}}class Uint32BufferAttribute extends BufferAttribute{constructor($,te,ne){super(new Uint32Array($),te,ne)}}class Float16BufferAttribute extends BufferAttribute{constructor($,te,ne){super(new Uint16Array($),te,ne),this.isFloat16BufferAttribute=!0}getX($){let te=fromHalfFloat(this.array[$*this.itemSize]);return this.normalized&&(te=denormalize(te,this.array)),te}setX($,te){return this.normalized&&(te=normalize(te,this.array)),this.array[$*this.itemSize]=toHalfFloat(te),this}getY($){let te=fromHalfFloat(this.array[$*this.itemSize+1]);return this.normalized&&(te=denormalize(te,this.array)),te}setY($,te){return this.normalized&&(te=normalize(te,this.array)),this.array[$*this.itemSize+1]=toHalfFloat(te),this}getZ($){let te=fromHalfFloat(this.array[$*this.itemSize+2]);return this.normalized&&(te=denormalize(te,this.array)),te}setZ($,te){return this.normalized&&(te=normalize(te,this.array)),this.array[$*this.itemSize+2]=toHalfFloat(te),this}getW($){let te=fromHalfFloat(this.array[$*this.itemSize+3]);return this.normalized&&(te=denormalize(te,this.array)),te}setW($,te){return this.normalized&&(te=normalize(te,this.array)),this.array[$*this.itemSize+3]=toHalfFloat(te),this}setXY($,te,ne){return $*=this.itemSize,this.normalized&&(te=normalize(te,this.array),ne=normalize(ne,this.array)),this.array[$+0]=toHalfFloat(te),this.array[$+1]=toHalfFloat(ne),this}setXYZ($,te,ne,ie){return $*=this.itemSize,this.normalized&&(te=normalize(te,this.array),ne=normalize(ne,this.array),ie=normalize(ie,this.array)),this.array[$+0]=toHalfFloat(te),this.array[$+1]=toHalfFloat(ne),this.array[$+2]=toHalfFloat(ie),this}setXYZW($,te,ne,ie,se){return $*=this.itemSize,this.normalized&&(te=normalize(te,this.array),ne=normalize(ne,this.array),ie=normalize(ie,this.array),se=normalize(se,this.array)),this.array[$+0]=toHalfFloat(te),this.array[$+1]=toHalfFloat(ne),this.array[$+2]=toHalfFloat(ie),this.array[$+3]=toHalfFloat(se),this}}class Float32BufferAttribute extends BufferAttribute{constructor($,te,ne){super(new Float32Array($),te,ne)}}let _id$1=0;const _m1$3=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher$1{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex($){return Array.isArray($)?this.index=new(arrayNeedsUint32($)?Uint32BufferAttribute:Uint16BufferAttribute)($,1):this.index=$,this}setIndirect($){return this.indirect=$,this}getIndirect(){return this.indirect}getAttribute($){return this.attributes[$]}setAttribute($,te){return this.attributes[$]=te,this}deleteAttribute($){return delete this.attributes[$],this}hasAttribute($){return this.attributes[$]!==void 0}addGroup($,te,ne=0){this.groups.push({start:$,count:te,materialIndex:ne})}clearGroups(){this.groups=[]}setDrawRange($,te){this.drawRange.start=$,this.drawRange.count=te}applyMatrix4($){const te=this.attributes.position;te!==void 0&&(te.applyMatrix4($),te.needsUpdate=!0);const ne=this.attributes.normal;if(ne!==void 0){const se=new Matrix3().getNormalMatrix($);ne.applyNormalMatrix(se),ne.needsUpdate=!0}const ie=this.attributes.tangent;return ie!==void 0&&(ie.transformDirection($),ie.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion($){return _m1$3.makeRotationFromQuaternion($),this.applyMatrix4(_m1$3),this}rotateX($){return _m1$3.makeRotationX($),this.applyMatrix4(_m1$3),this}rotateY($){return _m1$3.makeRotationY($),this.applyMatrix4(_m1$3),this}rotateZ($){return _m1$3.makeRotationZ($),this.applyMatrix4(_m1$3),this}translate($,te,ne){return _m1$3.makeTranslation($,te,ne),this.applyMatrix4(_m1$3),this}scale($,te,ne){return _m1$3.makeScale($,te,ne),this.applyMatrix4(_m1$3),this}lookAt($){return _obj.lookAt($),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints($){const te=this.getAttribute("position");if(te===void 0){const ne=[];for(let ie=0,se=$.length;ie<se;ie++){const le=$[ie];ne.push(le.x,le.y,le.z||0)}this.setAttribute("position",new Float32BufferAttribute(ne,3))}else{const ne=Math.min($.length,te.count);for(let ie=0;ie<ne;ie++){const se=$[ie];te.setXYZ(ie,se.x,se.y,se.z||0)}$.length>te.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),te.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const $=this.attributes.position,te=this.morphAttributes.position;if($&&$.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if($!==void 0){if(this.boundingBox.setFromBufferAttribute($),te)for(let ne=0,ie=te.length;ne<ie;ne++){const se=te[ne];_box$2.setFromBufferAttribute(se),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const $=this.attributes.position,te=this.morphAttributes.position;if($&&$.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if($){const ne=this.boundingSphere.center;if(_box$2.setFromBufferAttribute($),te)for(let se=0,le=te.length;se<le;se++){const oe=te[se];_boxMorphTargets.setFromBufferAttribute(oe),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(ne);let ie=0;for(let se=0,le=$.count;se<le;se++)_vector$8.fromBufferAttribute($,se),ie=Math.max(ie,ne.distanceToSquared(_vector$8));if(te)for(let se=0,le=te.length;se<le;se++){const oe=te[se],ce=this.morphTargetsRelative;for(let ae=0,he=oe.count;ae<he;ae++)_vector$8.fromBufferAttribute(oe,ae),ce&&(_offset.fromBufferAttribute($,ae),_vector$8.add(_offset)),ie=Math.max(ie,ne.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(ie),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const $=this.index,te=this.attributes;if($===null||te.position===void 0||te.normal===void 0||te.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const ne=te.position,ie=te.normal,se=te.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*ne.count),4));const le=this.getAttribute("tangent"),oe=[],ce=[];for(let Ee=0;Ee<ne.count;Ee++)oe[Ee]=new Vector3,ce[Ee]=new Vector3;const ae=new Vector3,he=new Vector3,de=new Vector3,pe=new Vector2,re=new Vector2,Ae=new Vector2,ge=new Vector3,Se=new Vector3;function fe(Ee,Ce,ye){ae.fromBufferAttribute(ne,Ee),he.fromBufferAttribute(ne,Ce),de.fromBufferAttribute(ne,ye),pe.fromBufferAttribute(se,Ee),re.fromBufferAttribute(se,Ce),Ae.fromBufferAttribute(se,ye),he.sub(ae),de.sub(ae),re.sub(pe),Ae.sub(pe);const Re=1/(re.x*Ae.y-Ae.x*re.y);isFinite(Re)&&(ge.copy(he).multiplyScalar(Ae.y).addScaledVector(de,-re.y).multiplyScalar(Re),Se.copy(de).multiplyScalar(re.x).addScaledVector(he,-Ae.x).multiplyScalar(Re),oe[Ee].add(ge),oe[Ce].add(ge),oe[ye].add(ge),ce[Ee].add(Se),ce[Ce].add(Se),ce[ye].add(Se))}let be=this.groups;be.length===0&&(be=[{start:0,count:$.count}]);for(let Ee=0,Ce=be.length;Ee<Ce;++Ee){const ye=be[Ee],Re=ye.start,Ye=ye.count;for(let ke=Re,$e=Re+Ye;ke<$e;ke+=3)fe($.getX(ke+0),$.getX(ke+1),$.getX(ke+2))}const xe=new Vector3,ue=new Vector3,we=new Vector3,Fe=new Vector3;function _e(Ee){we.fromBufferAttribute(ie,Ee),Fe.copy(we);const Ce=oe[Ee];xe.copy(Ce),xe.sub(we.multiplyScalar(we.dot(Ce))).normalize(),ue.crossVectors(Fe,Ce);const Re=ue.dot(ce[Ee])<0?-1:1;le.setXYZW(Ee,xe.x,xe.y,xe.z,Re)}for(let Ee=0,Ce=be.length;Ee<Ce;++Ee){const ye=be[Ee],Re=ye.start,Ye=ye.count;for(let ke=Re,$e=Re+Ye;ke<$e;ke+=3)_e($.getX(ke+0)),_e($.getX(ke+1)),_e($.getX(ke+2))}}computeVertexNormals(){const $=this.index,te=this.getAttribute("position");if(te!==void 0){let ne=this.getAttribute("normal");if(ne===void 0)ne=new BufferAttribute(new Float32Array(te.count*3),3),this.setAttribute("normal",ne);else for(let pe=0,re=ne.count;pe<re;pe++)ne.setXYZ(pe,0,0,0);const ie=new Vector3,se=new Vector3,le=new Vector3,oe=new Vector3,ce=new Vector3,ae=new Vector3,he=new Vector3,de=new Vector3;if($)for(let pe=0,re=$.count;pe<re;pe+=3){const Ae=$.getX(pe+0),ge=$.getX(pe+1),Se=$.getX(pe+2);ie.fromBufferAttribute(te,Ae),se.fromBufferAttribute(te,ge),le.fromBufferAttribute(te,Se),he.subVectors(le,se),de.subVectors(ie,se),he.cross(de),oe.fromBufferAttribute(ne,Ae),ce.fromBufferAttribute(ne,ge),ae.fromBufferAttribute(ne,Se),oe.add(he),ce.add(he),ae.add(he),ne.setXYZ(Ae,oe.x,oe.y,oe.z),ne.setXYZ(ge,ce.x,ce.y,ce.z),ne.setXYZ(Se,ae.x,ae.y,ae.z)}else for(let pe=0,re=te.count;pe<re;pe+=3)ie.fromBufferAttribute(te,pe+0),se.fromBufferAttribute(te,pe+1),le.fromBufferAttribute(te,pe+2),he.subVectors(le,se),de.subVectors(ie,se),he.cross(de),ne.setXYZ(pe+0,he.x,he.y,he.z),ne.setXYZ(pe+1,he.x,he.y,he.z),ne.setXYZ(pe+2,he.x,he.y,he.z);this.normalizeNormals(),ne.needsUpdate=!0}}normalizeNormals(){const $=this.attributes.normal;for(let te=0,ne=$.count;te<ne;te++)_vector$8.fromBufferAttribute($,te),_vector$8.normalize(),$.setXYZ(te,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function $(oe,ce){const ae=oe.array,he=oe.itemSize,de=oe.normalized,pe=new ae.constructor(ce.length*he);let re=0,Ae=0;for(let ge=0,Se=ce.length;ge<Se;ge++){oe.isInterleavedBufferAttribute?re=ce[ge]*oe.data.stride+oe.offset:re=ce[ge]*he;for(let fe=0;fe<he;fe++)pe[Ae++]=ae[re++]}return new BufferAttribute(pe,he,de)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const te=new BufferGeometry,ne=this.index.array,ie=this.attributes;for(const oe in ie){const ce=ie[oe],ae=$(ce,ne);te.setAttribute(oe,ae)}const se=this.morphAttributes;for(const oe in se){const ce=[],ae=se[oe];for(let he=0,de=ae.length;he<de;he++){const pe=ae[he],re=$(pe,ne);ce.push(re)}te.morphAttributes[oe]=ce}te.morphTargetsRelative=this.morphTargetsRelative;const le=this.groups;for(let oe=0,ce=le.length;oe<ce;oe++){const ae=le[oe];te.addGroup(ae.start,ae.count,ae.materialIndex)}return te}toJSON(){const $={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if($.uuid=this.uuid,$.type=this.type,this.name!==""&&($.name=this.name),Object.keys(this.userData).length>0&&($.userData=this.userData),this.parameters!==void 0){const ce=this.parameters;for(const ae in ce)ce[ae]!==void 0&&($[ae]=ce[ae]);return $}$.data={attributes:{}};const te=this.index;te!==null&&($.data.index={type:te.array.constructor.name,array:Array.prototype.slice.call(te.array)});const ne=this.attributes;for(const ce in ne){const ae=ne[ce];$.data.attributes[ce]=ae.toJSON($.data)}const ie={};let se=!1;for(const ce in this.morphAttributes){const ae=this.morphAttributes[ce],he=[];for(let de=0,pe=ae.length;de<pe;de++){const re=ae[de];he.push(re.toJSON($.data))}he.length>0&&(ie[ce]=he,se=!0)}se&&($.data.morphAttributes=ie,$.data.morphTargetsRelative=this.morphTargetsRelative);const le=this.groups;le.length>0&&($.data.groups=JSON.parse(JSON.stringify(le)));const oe=this.boundingSphere;return oe!==null&&($.data.boundingSphere={center:oe.center.toArray(),radius:oe.radius}),$}clone(){return new this.constructor().copy(this)}copy($){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const te={};this.name=$.name;const ne=$.index;ne!==null&&this.setIndex(ne.clone(te));const ie=$.attributes;for(const ae in ie){const he=ie[ae];this.setAttribute(ae,he.clone(te))}const se=$.morphAttributes;for(const ae in se){const he=[],de=se[ae];for(let pe=0,re=de.length;pe<re;pe++)he.push(de[pe].clone(te));this.morphAttributes[ae]=he}this.morphTargetsRelative=$.morphTargetsRelative;const le=$.groups;for(let ae=0,he=le.length;ae<he;ae++){const de=le[ae];this.addGroup(de.start,de.count,de.materialIndex)}const oe=$.boundingBox;oe!==null&&(this.boundingBox=oe.clone());const ce=$.boundingSphere;return ce!==null&&(this.boundingSphere=ce.clone()),this.drawRange.start=$.drawRange.start,this.drawRange.count=$.drawRange.count,this.userData=$.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor($=new BufferGeometry,te=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=$,this.material=te,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy($,te){return super.copy($,te),$.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=$.morphTargetInfluences.slice()),$.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},$.morphTargetDictionary)),this.material=Array.isArray($.material)?$.material.slice():$.material,this.geometry=$.geometry,this}updateMorphTargets(){const te=this.geometry.morphAttributes,ne=Object.keys(te);if(ne.length>0){const ie=te[ne[0]];if(ie!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let se=0,le=ie.length;se<le;se++){const oe=ie[se].name||String(se);this.morphTargetInfluences.push(0),this.morphTargetDictionary[oe]=se}}}}getVertexPosition($,te){const ne=this.geometry,ie=ne.attributes.position,se=ne.morphAttributes.position,le=ne.morphTargetsRelative;te.fromBufferAttribute(ie,$);const oe=this.morphTargetInfluences;if(se&&oe){_morphA.set(0,0,0);for(let ce=0,ae=se.length;ce<ae;ce++){const he=oe[ce],de=se[ce];he!==0&&(_tempA.fromBufferAttribute(de,$),le?_morphA.addScaledVector(_tempA,he):_morphA.addScaledVector(_tempA.sub(te),he))}te.add(_morphA)}return te}raycast($,te){const ne=this.geometry,ie=this.material,se=this.matrixWorld;ie!==void 0&&(ne.boundingSphere===null&&ne.computeBoundingSphere(),_sphere$6.copy(ne.boundingSphere),_sphere$6.applyMatrix4(se),_ray$3.copy($.ray).recast($.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>($.far-$.near)**2))&&(_inverseMatrix$3.copy(se).invert(),_ray$3.copy($.ray).applyMatrix4(_inverseMatrix$3),!(ne.boundingBox!==null&&_ray$3.intersectsBox(ne.boundingBox)===!1)&&this._computeIntersections($,te,_ray$3)))}_computeIntersections($,te,ne){let ie;const se=this.geometry,le=this.material,oe=se.index,ce=se.attributes.position,ae=se.attributes.uv,he=se.attributes.uv1,de=se.attributes.normal,pe=se.groups,re=se.drawRange;if(oe!==null)if(Array.isArray(le))for(let Ae=0,ge=pe.length;Ae<ge;Ae++){const Se=pe[Ae],fe=le[Se.materialIndex],be=Math.max(Se.start,re.start),xe=Math.min(oe.count,Math.min(Se.start+Se.count,re.start+re.count));for(let ue=be,we=xe;ue<we;ue+=3){const Fe=oe.getX(ue),_e=oe.getX(ue+1),Ee=oe.getX(ue+2);ie=checkGeometryIntersection(this,fe,$,ne,ae,he,de,Fe,_e,Ee),ie&&(ie.faceIndex=Math.floor(ue/3),ie.face.materialIndex=Se.materialIndex,te.push(ie))}}else{const Ae=Math.max(0,re.start),ge=Math.min(oe.count,re.start+re.count);for(let Se=Ae,fe=ge;Se<fe;Se+=3){const be=oe.getX(Se),xe=oe.getX(Se+1),ue=oe.getX(Se+2);ie=checkGeometryIntersection(this,le,$,ne,ae,he,de,be,xe,ue),ie&&(ie.faceIndex=Math.floor(Se/3),te.push(ie))}}else if(ce!==void 0)if(Array.isArray(le))for(let Ae=0,ge=pe.length;Ae<ge;Ae++){const Se=pe[Ae],fe=le[Se.materialIndex],be=Math.max(Se.start,re.start),xe=Math.min(ce.count,Math.min(Se.start+Se.count,re.start+re.count));for(let ue=be,we=xe;ue<we;ue+=3){const Fe=ue,_e=ue+1,Ee=ue+2;ie=checkGeometryIntersection(this,fe,$,ne,ae,he,de,Fe,_e,Ee),ie&&(ie.faceIndex=Math.floor(ue/3),ie.face.materialIndex=Se.materialIndex,te.push(ie))}}else{const Ae=Math.max(0,re.start),ge=Math.min(ce.count,re.start+re.count);for(let Se=Ae,fe=ge;Se<fe;Se+=3){const be=Se,xe=Se+1,ue=Se+2;ie=checkGeometryIntersection(this,le,$,ne,ae,he,de,be,xe,ue),ie&&(ie.faceIndex=Math.floor(Se/3),te.push(ie))}}}}function checkIntersection$1(ee,$,te,ne,ie,se,le,oe){let ce;if($.side===BackSide?ce=ne.intersectTriangle(le,se,ie,!0,oe):ce=ne.intersectTriangle(ie,se,le,$.side===FrontSide,oe),ce===null)return null;_intersectionPointWorld.copy(oe),_intersectionPointWorld.applyMatrix4(ee.matrixWorld);const ae=te.ray.origin.distanceTo(_intersectionPointWorld);return ae<te.near||ae>te.far?null:{distance:ae,point:_intersectionPointWorld.clone(),object:ee}}function checkGeometryIntersection(ee,$,te,ne,ie,se,le,oe,ce,ae){ee.getVertexPosition(oe,_vA$1),ee.getVertexPosition(ce,_vB$1),ee.getVertexPosition(ae,_vC$1);const he=checkIntersection$1(ee,$,te,ne,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(he){const de=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,de),ie&&(he.uv=Triangle.getInterpolatedAttribute(ie,oe,ce,ae,de,new Vector2)),se&&(he.uv1=Triangle.getInterpolatedAttribute(se,oe,ce,ae,de,new Vector2)),le&&(he.normal=Triangle.getInterpolatedAttribute(le,oe,ce,ae,de,new Vector3),he.normal.dot(ne.direction)>0&&he.normal.multiplyScalar(-1));const pe={a:oe,b:ce,c:ae,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,pe.normal),he.face=pe,he.barycoord=de}return he}class BoxGeometry extends BufferGeometry{constructor($=1,te=1,ne=1,ie=1,se=1,le=1){super(),this.type="BoxGeometry",this.parameters={width:$,height:te,depth:ne,widthSegments:ie,heightSegments:se,depthSegments:le};const oe=this;ie=Math.floor(ie),se=Math.floor(se),le=Math.floor(le);const ce=[],ae=[],he=[],de=[];let pe=0,re=0;Ae("z","y","x",-1,-1,ne,te,$,le,se,0),Ae("z","y","x",1,-1,ne,te,-$,le,se,1),Ae("x","z","y",1,1,$,ne,te,ie,le,2),Ae("x","z","y",1,-1,$,ne,-te,ie,le,3),Ae("x","y","z",1,-1,$,te,ne,ie,se,4),Ae("x","y","z",-1,-1,$,te,-ne,ie,se,5),this.setIndex(ce),this.setAttribute("position",new Float32BufferAttribute(ae,3)),this.setAttribute("normal",new Float32BufferAttribute(he,3)),this.setAttribute("uv",new Float32BufferAttribute(de,2));function Ae(ge,Se,fe,be,xe,ue,we,Fe,_e,Ee,Ce){const ye=ue/_e,Re=we/Ee,Ye=ue/2,ke=we/2,$e=Fe/2,Be=_e+1,Pe=Ee+1;let Ue=0,Te=0;const Me=new Vector3;for(let Ve=0;Ve<Pe;Ve++){const He=Ve*Re-ke;for(let Ie=0;Ie<Be;Ie++){const Le=Ie*ye-Ye;Me[ge]=Le*be,Me[Se]=He*xe,Me[fe]=$e,ae.push(Me.x,Me.y,Me.z),Me[ge]=0,Me[Se]=0,Me[fe]=Fe>0?1:-1,he.push(Me.x,Me.y,Me.z),de.push(Ie/_e),de.push(1-Ve/Ee),Ue+=1}}for(let Ve=0;Ve<Ee;Ve++)for(let He=0;He<_e;He++){const Ie=pe+He+Be*Ve,Le=pe+He+Be*(Ve+1),Oe=pe+(He+1)+Be*(Ve+1),Ne=pe+(He+1)+Be*Ve;ce.push(Ie,Le,Ne),ce.push(Le,Oe,Ne),Te+=6}oe.addGroup(re,Te,Ce),re+=Te,pe+=Ue}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new BoxGeometry($.width,$.height,$.depth,$.widthSegments,$.heightSegments,$.depthSegments)}}function cloneUniforms(ee){const $={};for(const te in ee){$[te]={};for(const ne in ee[te]){const ie=ee[te][ne];ie&&(ie.isColor||ie.isMatrix3||ie.isMatrix4||ie.isVector2||ie.isVector3||ie.isVector4||ie.isTexture||ie.isQuaternion)?ie.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),$[te][ne]=null):$[te][ne]=ie.clone():Array.isArray(ie)?$[te][ne]=ie.slice():$[te][ne]=ie}}return $}function mergeUniforms(ee){const $={};for(let te=0;te<ee.length;te++){const ne=cloneUniforms(ee[te]);for(const ie in ne)$[ie]=ne[ie]}return $}function cloneUniformsGroups(ee){const $=[];for(let te=0;te<ee.length;te++)$.push(ee[te].clone());return $}function getUnlitUniformColorSpace(ee){const $=ee.getRenderTarget();return $===null?ee.outputColorSpace:$.isXRRenderTarget===!0?$.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor($){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,$!==void 0&&this.setValues($)}copy($){return super.copy($),this.fragmentShader=$.fragmentShader,this.vertexShader=$.vertexShader,this.uniforms=cloneUniforms($.uniforms),this.uniformsGroups=cloneUniformsGroups($.uniformsGroups),this.defines=Object.assign({},$.defines),this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.fog=$.fog,this.lights=$.lights,this.clipping=$.clipping,this.extensions=Object.assign({},$.extensions),this.glslVersion=$.glslVersion,this}toJSON($){const te=super.toJSON($);te.glslVersion=this.glslVersion,te.uniforms={};for(const ie in this.uniforms){const le=this.uniforms[ie].value;le&&le.isTexture?te.uniforms[ie]={type:"t",value:le.toJSON($).uuid}:le&&le.isColor?te.uniforms[ie]={type:"c",value:le.getHex()}:le&&le.isVector2?te.uniforms[ie]={type:"v2",value:le.toArray()}:le&&le.isVector3?te.uniforms[ie]={type:"v3",value:le.toArray()}:le&&le.isVector4?te.uniforms[ie]={type:"v4",value:le.toArray()}:le&&le.isMatrix3?te.uniforms[ie]={type:"m3",value:le.toArray()}:le&&le.isMatrix4?te.uniforms[ie]={type:"m4",value:le.toArray()}:te.uniforms[ie]={value:le}}Object.keys(this.defines).length>0&&(te.defines=this.defines),te.vertexShader=this.vertexShader,te.fragmentShader=this.fragmentShader,te.lights=this.lights,te.clipping=this.clipping;const ne={};for(const ie in this.extensions)this.extensions[ie]===!0&&(ne[ie]=!0);return Object.keys(ne).length>0&&(te.extensions=ne),te}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy($,te){return super.copy($,te),this.matrixWorldInverse.copy($.matrixWorldInverse),this.projectionMatrix.copy($.projectionMatrix),this.projectionMatrixInverse.copy($.projectionMatrixInverse),this.coordinateSystem=$.coordinateSystem,this}getWorldDirection($){return super.getWorldDirection($).negate()}updateMatrixWorld($){super.updateMatrixWorld($),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix($,te){super.updateWorldMatrix($,te),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor($=50,te=1,ne=.1,ie=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=$,this.zoom=1,this.near=ne,this.far=ie,this.focus=10,this.aspect=te,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy($,te){return super.copy($,te),this.fov=$.fov,this.zoom=$.zoom,this.near=$.near,this.far=$.far,this.focus=$.focus,this.aspect=$.aspect,this.view=$.view===null?null:Object.assign({},$.view),this.filmGauge=$.filmGauge,this.filmOffset=$.filmOffset,this}setFocalLength($){const te=.5*this.getFilmHeight()/$;this.fov=RAD2DEG*2*Math.atan(te),this.updateProjectionMatrix()}getFocalLength(){const $=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/$}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds($,te,ne){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),te.set(_v3$1.x,_v3$1.y).multiplyScalar(-$/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),ne.set(_v3$1.x,_v3$1.y).multiplyScalar(-$/_v3$1.z)}getViewSize($,te){return this.getViewBounds($,_minTarget,_maxTarget),te.subVectors(_maxTarget,_minTarget)}setViewOffset($,te,ne,ie,se,le){this.aspect=$/te,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=$,this.view.fullHeight=te,this.view.offsetX=ne,this.view.offsetY=ie,this.view.width=se,this.view.height=le,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const $=this.near;let te=$*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,ne=2*te,ie=this.aspect*ne,se=-.5*ie;const le=this.view;if(this.view!==null&&this.view.enabled){const ce=le.fullWidth,ae=le.fullHeight;se+=le.offsetX*ie/ce,te-=le.offsetY*ne/ae,ie*=le.width/ce,ne*=le.height/ae}const oe=this.filmOffset;oe!==0&&(se+=$*oe/this.getFilmWidth()),this.projectionMatrix.makePerspective(se,se+ie,te,te-ne,$,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON($){const te=super.toJSON($);return te.object.fov=this.fov,te.object.zoom=this.zoom,te.object.near=this.near,te.object.far=this.far,te.object.focus=this.focus,te.object.aspect=this.aspect,this.view!==null&&(te.object.view=Object.assign({},this.view)),te.object.filmGauge=this.filmGauge,te.object.filmOffset=this.filmOffset,te}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor($,te,ne){super(),this.type="CubeCamera",this.renderTarget=ne,this.coordinateSystem=null,this.activeMipmapLevel=0;const ie=new PerspectiveCamera(fov,aspect,$,te);ie.layers=this.layers,this.add(ie);const se=new PerspectiveCamera(fov,aspect,$,te);se.layers=this.layers,this.add(se);const le=new PerspectiveCamera(fov,aspect,$,te);le.layers=this.layers,this.add(le);const oe=new PerspectiveCamera(fov,aspect,$,te);oe.layers=this.layers,this.add(oe);const ce=new PerspectiveCamera(fov,aspect,$,te);ce.layers=this.layers,this.add(ce);const ae=new PerspectiveCamera(fov,aspect,$,te);ae.layers=this.layers,this.add(ae)}updateCoordinateSystem(){const $=this.coordinateSystem,te=this.children.concat(),[ne,ie,se,le,oe,ce]=te;for(const ae of te)this.remove(ae);if($===WebGLCoordinateSystem)ne.up.set(0,1,0),ne.lookAt(1,0,0),ie.up.set(0,1,0),ie.lookAt(-1,0,0),se.up.set(0,0,-1),se.lookAt(0,1,0),le.up.set(0,0,1),le.lookAt(0,-1,0),oe.up.set(0,1,0),oe.lookAt(0,0,1),ce.up.set(0,1,0),ce.lookAt(0,0,-1);else if($===WebGPUCoordinateSystem)ne.up.set(0,-1,0),ne.lookAt(-1,0,0),ie.up.set(0,-1,0),ie.lookAt(1,0,0),se.up.set(0,0,1),se.lookAt(0,1,0),le.up.set(0,0,-1),le.lookAt(0,-1,0),oe.up.set(0,-1,0),oe.lookAt(0,0,1),ce.up.set(0,-1,0),ce.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+$);for(const ae of te)this.add(ae),ae.updateMatrixWorld()}update($,te){this.parent===null&&this.updateMatrixWorld();const{renderTarget:ne,activeMipmapLevel:ie}=this;this.coordinateSystem!==$.coordinateSystem&&(this.coordinateSystem=$.coordinateSystem,this.updateCoordinateSystem());const[se,le,oe,ce,ae,he]=this.children,de=$.getRenderTarget(),pe=$.getActiveCubeFace(),re=$.getActiveMipmapLevel(),Ae=$.xr.enabled;$.xr.enabled=!1;const ge=ne.texture.generateMipmaps;ne.texture.generateMipmaps=!1,$.setRenderTarget(ne,0,ie),$.render(te,se),$.setRenderTarget(ne,1,ie),$.render(te,le),$.setRenderTarget(ne,2,ie),$.render(te,oe),$.setRenderTarget(ne,3,ie),$.render(te,ce),$.setRenderTarget(ne,4,ie),$.render(te,ae),ne.texture.generateMipmaps=ge,$.setRenderTarget(ne,5,ie),$.render(te,he),$.setRenderTarget(de,pe,re),$.xr.enabled=Ae,ne.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor($,te,ne,ie,se,le,oe,ce,ae,he){$=$!==void 0?$:[],te=te!==void 0?te:CubeReflectionMapping,super($,te,ne,ie,se,le,oe,ce,ae,he),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images($){this.image=$}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor($=1,te={}){super($,$,te),this.isWebGLCubeRenderTarget=!0;const ne={width:$,height:$,depth:1},ie=[ne,ne,ne,ne,ne,ne];this.texture=new CubeTexture(ie,te.mapping,te.wrapS,te.wrapT,te.magFilter,te.minFilter,te.format,te.type,te.anisotropy,te.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=te.generateMipmaps!==void 0?te.generateMipmaps:!1,this.texture.minFilter=te.minFilter!==void 0?te.minFilter:LinearFilter}fromEquirectangularTexture($,te){this.texture.type=te.type,this.texture.colorSpace=te.colorSpace,this.texture.generateMipmaps=te.generateMipmaps,this.texture.minFilter=te.minFilter,this.texture.magFilter=te.magFilter;const ne={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},ie=new BoxGeometry(5,5,5),se=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(ne.uniforms),vertexShader:ne.vertexShader,fragmentShader:ne.fragmentShader,side:BackSide,blending:NoBlending});se.uniforms.tEquirect.value=te;const le=new Mesh(ie,se),oe=te.minFilter;return te.minFilter===LinearMipmapLinearFilter&&(te.minFilter=LinearFilter),new CubeCamera(1,10,this).update($,le),te.minFilter=oe,le.geometry.dispose(),le.material.dispose(),this}clear($,te,ne,ie){const se=$.getRenderTarget();for(let le=0;le<6;le++)$.setRenderTarget(this,le),$.clear(te,ne,ie);$.setRenderTarget(se)}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent($){return this._targetRay!==null&&this._targetRay.dispatchEvent($),this._grip!==null&&this._grip.dispatchEvent($),this._hand!==null&&this._hand.dispatchEvent($),this}connect($){if($&&$.hand){const te=this._hand;if(te)for(const ne of $.hand.values())this._getHandJoint(te,ne)}return this.dispatchEvent({type:"connected",data:$}),this}disconnect($){return this.dispatchEvent({type:"disconnected",data:$}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update($,te,ne){let ie=null,se=null,le=null;const oe=this._targetRay,ce=this._grip,ae=this._hand;if($&&te.session.visibilityState!=="visible-blurred"){if(ae&&$.hand){le=!0;for(const ge of $.hand.values()){const Se=te.getJointPose(ge,ne),fe=this._getHandJoint(ae,ge);Se!==null&&(fe.matrix.fromArray(Se.transform.matrix),fe.matrix.decompose(fe.position,fe.rotation,fe.scale),fe.matrixWorldNeedsUpdate=!0,fe.jointRadius=Se.radius),fe.visible=Se!==null}const he=ae.joints["index-finger-tip"],de=ae.joints["thumb-tip"],pe=he.position.distanceTo(de.position),re=.02,Ae=.005;ae.inputState.pinching&&pe>re+Ae?(ae.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:$.handedness,target:this})):!ae.inputState.pinching&&pe<=re-Ae&&(ae.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:$.handedness,target:this}))}else ce!==null&&$.gripSpace&&(se=te.getPose($.gripSpace,ne),se!==null&&(ce.matrix.fromArray(se.transform.matrix),ce.matrix.decompose(ce.position,ce.rotation,ce.scale),ce.matrixWorldNeedsUpdate=!0,se.linearVelocity?(ce.hasLinearVelocity=!0,ce.linearVelocity.copy(se.linearVelocity)):ce.hasLinearVelocity=!1,se.angularVelocity?(ce.hasAngularVelocity=!0,ce.angularVelocity.copy(se.angularVelocity)):ce.hasAngularVelocity=!1));oe!==null&&(ie=te.getPose($.targetRaySpace,ne),ie===null&&se!==null&&(ie=se),ie!==null&&(oe.matrix.fromArray(ie.transform.matrix),oe.matrix.decompose(oe.position,oe.rotation,oe.scale),oe.matrixWorldNeedsUpdate=!0,ie.linearVelocity?(oe.hasLinearVelocity=!0,oe.linearVelocity.copy(ie.linearVelocity)):oe.hasLinearVelocity=!1,ie.angularVelocity?(oe.hasAngularVelocity=!0,oe.angularVelocity.copy(ie.angularVelocity)):oe.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return oe!==null&&(oe.visible=ie!==null),ce!==null&&(ce.visible=se!==null),ae!==null&&(ae.visible=le!==null),this}_getHandJoint($,te){if($.joints[te.jointName]===void 0){const ne=new Group;ne.matrixAutoUpdate=!1,ne.visible=!1,$.joints[te.jointName]=ne,$.add(ne)}return $.joints[te.jointName]}}class FogExp2{constructor($,te=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color($),this.density=te}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor($,te=1,ne=1e3){this.isFog=!0,this.name="",this.color=new Color($),this.near=te,this.far=ne}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy($,te){return super.copy($,te),$.background!==null&&(this.background=$.background.clone()),$.environment!==null&&(this.environment=$.environment.clone()),$.fog!==null&&(this.fog=$.fog.clone()),this.backgroundBlurriness=$.backgroundBlurriness,this.backgroundIntensity=$.backgroundIntensity,this.backgroundRotation.copy($.backgroundRotation),this.environmentIntensity=$.environmentIntensity,this.environmentRotation.copy($.environmentRotation),$.overrideMaterial!==null&&(this.overrideMaterial=$.overrideMaterial.clone()),this.matrixAutoUpdate=$.matrixAutoUpdate,this}toJSON($){const te=super.toJSON($);return this.fog!==null&&(te.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(te.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(te.object.backgroundIntensity=this.backgroundIntensity),te.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(te.object.environmentIntensity=this.environmentIntensity),te.object.environmentRotation=this.environmentRotation.toArray(),te}}class InterleavedBuffer{constructor($,te){this.isInterleavedBuffer=!0,this.array=$,this.stride=te,this.count=$!==void 0?$.length/te:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate($){$===!0&&this.version++}setUsage($){return this.usage=$,this}addUpdateRange($,te){this.updateRanges.push({start:$,count:te})}clearUpdateRanges(){this.updateRanges.length=0}copy($){return this.array=new $.array.constructor($.array),this.count=$.count,this.stride=$.stride,this.usage=$.usage,this}copyAt($,te,ne){$*=this.stride,ne*=te.stride;for(let ie=0,se=this.stride;ie<se;ie++)this.array[$+ie]=te.array[ne+ie];return this}set($,te=0){return this.array.set($,te),this}clone($){$.arrayBuffers===void 0&&($.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),$.arrayBuffers[this.array.buffer._uuid]===void 0&&($.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const te=new this.array.constructor($.arrayBuffers[this.array.buffer._uuid]),ne=new this.constructor(te,this.stride);return ne.setUsage(this.usage),ne}onUpload($){return this.onUploadCallback=$,this}toJSON($){return $.arrayBuffers===void 0&&($.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),$.arrayBuffers[this.array.buffer._uuid]===void 0&&($.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor($,te,ne,ie=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=$,this.itemSize=te,this.offset=ne,this.normalized=ie}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate($){this.data.needsUpdate=$}applyMatrix4($){for(let te=0,ne=this.data.count;te<ne;te++)_vector$7.fromBufferAttribute(this,te),_vector$7.applyMatrix4($),this.setXYZ(te,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix($){for(let te=0,ne=this.count;te<ne;te++)_vector$7.fromBufferAttribute(this,te),_vector$7.applyNormalMatrix($),this.setXYZ(te,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection($){for(let te=0,ne=this.count;te<ne;te++)_vector$7.fromBufferAttribute(this,te),_vector$7.transformDirection($),this.setXYZ(te,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent($,te){let ne=this.array[$*this.data.stride+this.offset+te];return this.normalized&&(ne=denormalize(ne,this.array)),ne}setComponent($,te,ne){return this.normalized&&(ne=normalize(ne,this.array)),this.data.array[$*this.data.stride+this.offset+te]=ne,this}setX($,te){return this.normalized&&(te=normalize(te,this.array)),this.data.array[$*this.data.stride+this.offset]=te,this}setY($,te){return this.normalized&&(te=normalize(te,this.array)),this.data.array[$*this.data.stride+this.offset+1]=te,this}setZ($,te){return this.normalized&&(te=normalize(te,this.array)),this.data.array[$*this.data.stride+this.offset+2]=te,this}setW($,te){return this.normalized&&(te=normalize(te,this.array)),this.data.array[$*this.data.stride+this.offset+3]=te,this}getX($){let te=this.data.array[$*this.data.stride+this.offset];return this.normalized&&(te=denormalize(te,this.array)),te}getY($){let te=this.data.array[$*this.data.stride+this.offset+1];return this.normalized&&(te=denormalize(te,this.array)),te}getZ($){let te=this.data.array[$*this.data.stride+this.offset+2];return this.normalized&&(te=denormalize(te,this.array)),te}getW($){let te=this.data.array[$*this.data.stride+this.offset+3];return this.normalized&&(te=denormalize(te,this.array)),te}setXY($,te,ne){return $=$*this.data.stride+this.offset,this.normalized&&(te=normalize(te,this.array),ne=normalize(ne,this.array)),this.data.array[$+0]=te,this.data.array[$+1]=ne,this}setXYZ($,te,ne,ie){return $=$*this.data.stride+this.offset,this.normalized&&(te=normalize(te,this.array),ne=normalize(ne,this.array),ie=normalize(ie,this.array)),this.data.array[$+0]=te,this.data.array[$+1]=ne,this.data.array[$+2]=ie,this}setXYZW($,te,ne,ie,se){return $=$*this.data.stride+this.offset,this.normalized&&(te=normalize(te,this.array),ne=normalize(ne,this.array),ie=normalize(ie,this.array),se=normalize(se,this.array)),this.data.array[$+0]=te,this.data.array[$+1]=ne,this.data.array[$+2]=ie,this.data.array[$+3]=se,this}clone($){if($===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const te=[];for(let ne=0;ne<this.count;ne++){const ie=ne*this.data.stride+this.offset;for(let se=0;se<this.itemSize;se++)te.push(this.data.array[ie+se])}return new BufferAttribute(new this.array.constructor(te),this.itemSize,this.normalized)}else return $.interleavedBuffers===void 0&&($.interleavedBuffers={}),$.interleavedBuffers[this.data.uuid]===void 0&&($.interleavedBuffers[this.data.uuid]=this.data.clone($)),new InterleavedBufferAttribute($.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON($){if($===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const te=[];for(let ne=0;ne<this.count;ne++){const ie=ne*this.data.stride+this.offset;for(let se=0;se<this.itemSize;se++)te.push(this.data.array[ie+se])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:te,normalized:this.normalized}}else return $.interleavedBuffers===void 0&&($.interleavedBuffers={}),$.interleavedBuffers[this.data.uuid]===void 0&&($.interleavedBuffers[this.data.uuid]=this.data.toJSON($)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor($){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.alphaMap=$.alphaMap,this.rotation=$.rotation,this.sizeAttenuation=$.sizeAttenuation,this.fog=$.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor($=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const te=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),ne=new InterleavedBuffer(te,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(ne,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(ne,2,3,!1))}this.geometry=_geometry,this.material=$,this.center=new Vector2(.5,.5)}raycast($,te){$.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy($.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices($.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),$.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const ne=this.material.rotation;let ie,se;ne!==0&&(se=Math.cos(ne),ie=Math.sin(ne));const le=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,le,_worldScale,ie,se),transformVertex(_vB.set(.5,-.5,0),_mvPosition,le,_worldScale,ie,se),transformVertex(_vC.set(.5,.5,0),_mvPosition,le,_worldScale,ie,se),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let oe=$.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(oe===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,le,_worldScale,ie,se),_uvB.set(0,1),oe=$.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),oe===null))return;const ce=$.ray.origin.distanceTo(_intersectPoint);ce<$.near||ce>$.far||te.push({distance:ce,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy($,te){return super.copy($,te),$.center!==void 0&&this.center.copy($.center),this.material=$.material,this}}function transformVertex(ee,$,te,ne,ie,se){_alignedPosition.subVectors(ee,te).addScalar(.5).multiply(ne),ie!==void 0?(_rotatedPosition.x=se*_alignedPosition.x-ie*_alignedPosition.y,_rotatedPosition.y=ie*_alignedPosition.x+se*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),ee.copy($),ee.x+=_rotatedPosition.x,ee.y+=_rotatedPosition.y,ee.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy($){super.copy($,!1);const te=$.levels;for(let ne=0,ie=te.length;ne<ie;ne++){const se=te[ne];this.addLevel(se.object.clone(),se.distance,se.hysteresis)}return this.autoUpdate=$.autoUpdate,this}addLevel($,te=0,ne=0){te=Math.abs(te);const ie=this.levels;let se;for(se=0;se<ie.length&&!(te<ie[se].distance);se++);return ie.splice(se,0,{distance:te,hysteresis:ne,object:$}),this.add($),this}removeLevel($){const te=this.levels;for(let ne=0;ne<te.length;ne++)if(te[ne].distance===$){const ie=te.splice(ne,1);return this.remove(ie[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance($){const te=this.levels;if(te.length>0){let ne,ie;for(ne=1,ie=te.length;ne<ie;ne++){let se=te[ne].distance;if(te[ne].object.visible&&(se-=se*te[ne].hysteresis),$<se)break}return te[ne-1].object}return null}raycast($,te){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const ie=$.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(ie).raycast($,te)}}update($){const te=this.levels;if(te.length>1){_v1$2.setFromMatrixPosition($.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const ne=_v1$2.distanceTo(_v2$1)/$.zoom;te[0].object.visible=!0;let ie,se;for(ie=1,se=te.length;ie<se;ie++){let le=te[ie].distance;if(te[ie].object.visible&&(le-=le*te[ie].hysteresis),ne>=le)te[ie-1].object.visible=!1,te[ie].object.visible=!0;else break}for(this._currentLevel=ie-1;ie<se;ie++)te[ie].object.visible=!1}}toJSON($){const te=super.toJSON($);this.autoUpdate===!1&&(te.object.autoUpdate=!1),te.object.levels=[];const ne=this.levels;for(let ie=0,se=ne.length;ie<se;ie++){const le=ne[ie];te.object.levels.push({object:le.object.uuid,distance:le.distance,hysteresis:le.hysteresis})}return te}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$5=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor($,te){super($,te),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const $=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const te=$.getAttribute("position");for(let ne=0;ne<te.count;ne++)this.getVertexPosition(ne,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const $=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const te=$.getAttribute("position");for(let ne=0;ne<te.count;ne++)this.getVertexPosition(ne,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy($,te){return super.copy($,te),this.bindMode=$.bindMode,this.bindMatrix.copy($.bindMatrix),this.bindMatrixInverse.copy($.bindMatrixInverse),this.skeleton=$.skeleton,$.boundingBox!==null&&(this.boundingBox=$.boundingBox.clone()),$.boundingSphere!==null&&(this.boundingSphere=$.boundingSphere.clone()),this}raycast($,te){const ne=this.material,ie=this.matrixWorld;ne!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$5.copy(this.boundingSphere),_sphere$5.applyMatrix4(ie),$.ray.intersectsSphere(_sphere$5)!==!1&&(_inverseMatrix$2.copy(ie).invert(),_ray$2.copy($.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections($,te,_ray$2)))}getVertexPosition($,te){return super.getVertexPosition($,te),this.applyBoneTransform($,te),te}bind($,te){this.skeleton=$,te===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),te=this.matrixWorld),this.bindMatrix.copy(te),this.bindMatrixInverse.copy(te).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const $=new Vector4,te=this.geometry.attributes.skinWeight;for(let ne=0,ie=te.count;ne<ie;ne++){$.fromBufferAttribute(te,ne);const se=1/$.manhattanLength();se!==1/0?$.multiplyScalar(se):$.set(1,0,0,0),te.setXYZW(ne,$.x,$.y,$.z,$.w)}}updateMatrixWorld($){super.updateMatrixWorld($),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform($,te){const ne=this.skeleton,ie=this.geometry;_skinIndex.fromBufferAttribute(ie.attributes.skinIndex,$),_skinWeight.fromBufferAttribute(ie.attributes.skinWeight,$),_basePosition.copy(te).applyMatrix4(this.bindMatrix),te.set(0,0,0);for(let se=0;se<4;se++){const le=_skinWeight.getComponent(se);if(le!==0){const oe=_skinIndex.getComponent(se);_matrix4.multiplyMatrices(ne.bones[oe].matrixWorld,ne.boneInverses[oe]),te.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),le)}}return te.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor($=null,te=1,ne=1,ie,se,le,oe,ce,ae=NearestFilter,he=NearestFilter,de,pe){super(null,le,oe,ce,ae,he,ie,se,de,pe),this.isDataTexture=!0,this.image={data:$,width:te,height:ne},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;let Skeleton$1=class Du{constructor($=[],te=[]){this.uuid=generateUUID(),this.bones=$.slice(0),this.boneInverses=te,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const $=this.bones,te=this.boneInverses;if(this.boneMatrices=new Float32Array($.length*16),te.length===0)this.calculateInverses();else if($.length!==te.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let ne=0,ie=this.bones.length;ne<ie;ne++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let $=0,te=this.bones.length;$<te;$++){const ne=new Matrix4;this.bones[$]&&ne.copy(this.bones[$].matrixWorld).invert(),this.boneInverses.push(ne)}}pose(){for(let $=0,te=this.bones.length;$<te;$++){const ne=this.bones[$];ne&&ne.matrixWorld.copy(this.boneInverses[$]).invert()}for(let $=0,te=this.bones.length;$<te;$++){const ne=this.bones[$];ne&&(ne.parent&&ne.parent.isBone?(ne.matrix.copy(ne.parent.matrixWorld).invert(),ne.matrix.multiply(ne.matrixWorld)):ne.matrix.copy(ne.matrixWorld),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale))}}update(){const $=this.bones,te=this.boneInverses,ne=this.boneMatrices,ie=this.boneTexture;for(let se=0,le=$.length;se<le;se++){const oe=$[se]?$[se].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(oe,te[se]),_offsetMatrix.toArray(ne,se*16)}ie!==null&&(ie.needsUpdate=!0)}clone(){return new Du(this.bones,this.boneInverses)}computeBoneTexture(){let $=Math.sqrt(this.bones.length*4);$=Math.ceil($/4)*4,$=Math.max($,4);const te=new Float32Array($*$*4);te.set(this.boneMatrices);const ne=new DataTexture(te,$,$,RGBAFormat,FloatType);return ne.needsUpdate=!0,this.boneMatrices=te,this.boneTexture=ne,this}getBoneByName($){for(let te=0,ne=this.bones.length;te<ne;te++){const ie=this.bones[te];if(ie.name===$)return ie}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON($,te){this.uuid=$.uuid;for(let ne=0,ie=$.bones.length;ne<ie;ne++){const se=$.bones[ne];let le=te[se];le===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",se),le=new Bone),this.bones.push(le),this.boneInverses.push(new Matrix4().fromArray($.boneInverses[ne]))}return this.init(),this}toJSON(){const $={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};$.uuid=this.uuid;const te=this.bones,ne=this.boneInverses;for(let ie=0,se=te.length;ie<se;ie++){const le=te[ie];$.bones.push(le.uuid);const oe=ne[ie];$.boneInverses.push(oe.toArray())}return $}};class InstancedBufferAttribute extends BufferAttribute{constructor($,te,ne,ie=1){super($,te,ne),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=ie}copy($){return super.copy($),this.meshPerAttribute=$.meshPerAttribute,this}toJSON(){const $=super.toJSON();return $.meshPerAttribute=this.meshPerAttribute,$.isInstancedBufferAttribute=!0,$}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$4=new Sphere;class InstancedMesh extends Mesh{constructor($,te,ne){super($,te),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ne*16),16),this.instanceColor=null,this.morphTexture=null,this.count=ne,this.boundingBox=null,this.boundingSphere=null;for(let ie=0;ie<ne;ie++)this.setMatrixAt(ie,_identity)}computeBoundingBox(){const $=this.geometry,te=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),$.boundingBox===null&&$.computeBoundingBox(),this.boundingBox.makeEmpty();for(let ne=0;ne<te;ne++)this.getMatrixAt(ne,_instanceLocalMatrix),_box3.copy($.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const $=this.geometry,te=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),$.boundingSphere===null&&$.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let ne=0;ne<te;ne++)this.getMatrixAt(ne,_instanceLocalMatrix),_sphere$4.copy($.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$4)}copy($,te){return super.copy($,te),this.instanceMatrix.copy($.instanceMatrix),$.morphTexture!==null&&(this.morphTexture=$.morphTexture.clone()),$.instanceColor!==null&&(this.instanceColor=$.instanceColor.clone()),this.count=$.count,$.boundingBox!==null&&(this.boundingBox=$.boundingBox.clone()),$.boundingSphere!==null&&(this.boundingSphere=$.boundingSphere.clone()),this}getColorAt($,te){te.fromArray(this.instanceColor.array,$*3)}getMatrixAt($,te){te.fromArray(this.instanceMatrix.array,$*16)}getMorphAt($,te){const ne=te.morphTargetInfluences,ie=this.morphTexture.source.data.data,se=ne.length+1,le=$*se+1;for(let oe=0;oe<ne.length;oe++)ne[oe]=ie[le+oe]}raycast($,te){const ne=this.matrixWorld,ie=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(ne),$.ray.intersectsSphere(_sphere$4)!==!1))for(let se=0;se<ie;se++){this.getMatrixAt(se,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(ne,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast($,_instanceIntersects);for(let le=0,oe=_instanceIntersects.length;le<oe;le++){const ce=_instanceIntersects[le];ce.instanceId=se,ce.object=this,te.push(ce)}_instanceIntersects.length=0}}setColorAt($,te){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),te.toArray(this.instanceColor.array,$*3)}setMatrixAt($,te){te.toArray(this.instanceMatrix.array,$*16)}setMorphAt($,te){const ne=te.morphTargetInfluences,ie=ne.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(ie*this.count),ie,this.count,RedFormat,FloatType));const se=this.morphTexture.source.data.data;let le=0;for(let ae=0;ae<ne.length;ae++)le+=ne[ae];const oe=this.geometry.morphTargetsRelative?1:1-le,ce=ie*$;se[ce]=oe,se.set(ne,ce+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor($=new Vector3(1,0,0),te=0){this.isPlane=!0,this.normal=$,this.constant=te}set($,te){return this.normal.copy($),this.constant=te,this}setComponents($,te,ne,ie){return this.normal.set($,te,ne),this.constant=ie,this}setFromNormalAndCoplanarPoint($,te){return this.normal.copy($),this.constant=-te.dot(this.normal),this}setFromCoplanarPoints($,te,ne){const ie=_vector1.subVectors(ne,te).cross(_vector2.subVectors($,te)).normalize();return this.setFromNormalAndCoplanarPoint(ie,$),this}copy($){return this.normal.copy($.normal),this.constant=$.constant,this}normalize(){const $=1/this.normal.length();return this.normal.multiplyScalar($),this.constant*=$,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint($){return this.normal.dot($)+this.constant}distanceToSphere($){return this.distanceToPoint($.center)-$.radius}projectPoint($,te){return te.copy($).addScaledVector(this.normal,-this.distanceToPoint($))}intersectLine($,te){const ne=$.delta(_vector1),ie=this.normal.dot(ne);if(ie===0)return this.distanceToPoint($.start)===0?te.copy($.start):null;const se=-($.start.dot(this.normal)+this.constant)/ie;return se<0||se>1?null:te.copy($.start).addScaledVector(ne,se)}intersectsLine($){const te=this.distanceToPoint($.start),ne=this.distanceToPoint($.end);return te<0&&ne>0||ne<0&&te>0}intersectsBox($){return $.intersectsPlane(this)}intersectsSphere($){return $.intersectsPlane(this)}coplanarPoint($){return $.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4($,te){const ne=te||_normalMatrix.getNormalMatrix($),ie=this.coplanarPoint(_vector1).applyMatrix4($),se=this.normal.applyMatrix3(ne).normalize();return this.constant=-ie.dot(se),this}translate($){return this.constant-=$.dot(this.normal),this}equals($){return $.normal.equals(this.normal)&&$.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor($=new Plane,te=new Plane,ne=new Plane,ie=new Plane,se=new Plane,le=new Plane){this.planes=[$,te,ne,ie,se,le]}set($,te,ne,ie,se,le){const oe=this.planes;return oe[0].copy($),oe[1].copy(te),oe[2].copy(ne),oe[3].copy(ie),oe[4].copy(se),oe[5].copy(le),this}copy($){const te=this.planes;for(let ne=0;ne<6;ne++)te[ne].copy($.planes[ne]);return this}setFromProjectionMatrix($,te=WebGLCoordinateSystem){const ne=this.planes,ie=$.elements,se=ie[0],le=ie[1],oe=ie[2],ce=ie[3],ae=ie[4],he=ie[5],de=ie[6],pe=ie[7],re=ie[8],Ae=ie[9],ge=ie[10],Se=ie[11],fe=ie[12],be=ie[13],xe=ie[14],ue=ie[15];if(ne[0].setComponents(ce-se,pe-ae,Se-re,ue-fe).normalize(),ne[1].setComponents(ce+se,pe+ae,Se+re,ue+fe).normalize(),ne[2].setComponents(ce+le,pe+he,Se+Ae,ue+be).normalize(),ne[3].setComponents(ce-le,pe-he,Se-Ae,ue-be).normalize(),ne[4].setComponents(ce-oe,pe-de,Se-ge,ue-xe).normalize(),te===WebGLCoordinateSystem)ne[5].setComponents(ce+oe,pe+de,Se+ge,ue+xe).normalize();else if(te===WebGPUCoordinateSystem)ne[5].setComponents(oe,de,ge,xe).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+te);return this}intersectsObject($){if($.boundingSphere!==void 0)$.boundingSphere===null&&$.computeBoundingSphere(),_sphere$3.copy($.boundingSphere).applyMatrix4($.matrixWorld);else{const te=$.geometry;te.boundingSphere===null&&te.computeBoundingSphere(),_sphere$3.copy(te.boundingSphere).applyMatrix4($.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite($){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4($.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere($){const te=this.planes,ne=$.center,ie=-$.radius;for(let se=0;se<6;se++)if(te[se].distanceToPoint(ne)<ie)return!1;return!0}intersectsBox($){const te=this.planes;for(let ne=0;ne<6;ne++){const ie=te[ne];if(_vector$6.x=ie.normal.x>0?$.max.x:$.min.x,_vector$6.y=ie.normal.y>0?$.max.y:$.min.y,_vector$6.z=ie.normal.z>0?$.max.z:$.min.z,ie.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint($){const te=this.planes;for(let ne=0;ne<6;ne++)if(te[ne].distanceToPoint($)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ascIdSort(ee,$){return ee-$}function sortOpaque(ee,$){return ee.z-$.z}function sortTransparent(ee,$){return $.z-ee.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push($,te,ne,ie){const se=this.pool,le=this.list;this.index>=se.length&&se.push({start:-1,count:-1,z:-1,index:-1});const oe=se[this.index];le.push(oe),this.index++,oe.start=$,oe.count=te,oe.z=ne,oe.index=ie}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_whiteColor=new Color(1,1,1),_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(ee,$,te=0){const ne=$.itemSize;if(ee.isInterleavedBufferAttribute||ee.array.constructor!==$.array.constructor){const ie=ee.count;for(let se=0;se<ie;se++)for(let le=0;le<ne;le++)$.setComponent(se+te,le,ee.getComponent(se,le))}else $.array.set(ee.array,te*ne);$.needsUpdate=!0}function copyArrayContents(ee,$){if(ee.constructor!==$.constructor){const te=Math.min(ee.length,$.length);for(let ne=0;ne<te;ne++)$[ne]=ee[ne]}else{const te=Math.min(ee.length,$.length);$.set(new ee.constructor(ee.buffer,0,te))}}class BatchedMesh extends Mesh{constructor($,te,ne=te*2,ie){super(new BufferGeometry,ie),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=$,this._maxVertexCount=te,this._maxIndexCount=ne,this._multiDrawCounts=new Int32Array($),this._multiDrawStarts=new Int32Array($),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let $=Math.sqrt(this._maxInstanceCount*4);$=Math.ceil($/4)*4,$=Math.max($,4);const te=new Float32Array($*$*4),ne=new DataTexture(te,$,$,RGBAFormat,FloatType);this._matricesTexture=ne}_initIndirectTexture(){let $=Math.sqrt(this._maxInstanceCount);$=Math.ceil($);const te=new Uint32Array($*$),ne=new DataTexture(te,$,$,RedIntegerFormat,UnsignedIntType);this._indirectTexture=ne}_initColorsTexture(){let $=Math.sqrt(this._maxInstanceCount);$=Math.ceil($);const te=new Float32Array($*$*4).fill(1),ne=new DataTexture(te,$,$,RGBAFormat,FloatType);ne.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=ne}_initializeGeometry($){const te=this.geometry,ne=this._maxVertexCount,ie=this._maxIndexCount;if(this._geometryInitialized===!1){for(const se in $.attributes){const le=$.getAttribute(se),{array:oe,itemSize:ce,normalized:ae}=le,he=new oe.constructor(ne*ce),de=new BufferAttribute(he,ce,ae);te.setAttribute(se,de)}if($.getIndex()!==null){const se=ne>65535?new Uint32Array(ie):new Uint16Array(ie);te.setIndex(new BufferAttribute(se,1))}this._geometryInitialized=!0}}_validateGeometry($){const te=this.geometry;if(!!$.getIndex()!=!!te.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const ne in te.attributes){if(!$.hasAttribute(ne))throw new Error(`THREE.BatchedMesh: Added geometry missing "${ne}". All geometries must have consistent attributes.`);const ie=$.getAttribute(ne),se=te.getAttribute(ne);if(ie.itemSize!==se.itemSize||ie.normalized!==se.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId($){const te=this._instanceInfo;if($<0||$>=te.length||te[$].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${$}. Instance is either out of range or has been deleted.`)}validateGeometryId($){const te=this._geometryInfo;if($<0||$>=te.length||te[$].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${$}. Geometry is either out of range or has been deleted.`)}setCustomSort($){return this.customSort=$,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const $=this.boundingBox,te=this._instanceInfo;$.makeEmpty();for(let ne=0,ie=te.length;ne<ie;ne++){if(te[ne].active===!1)continue;const se=te[ne].geometryIndex;this.getMatrixAt(ne,_matrix$1),this.getBoundingBoxAt(se,_box$1).applyMatrix4(_matrix$1),$.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const $=this.boundingSphere,te=this._instanceInfo;$.makeEmpty();for(let ne=0,ie=te.length;ne<ie;ne++){if(te[ne].active===!1)continue;const se=te[ne].geometryIndex;this.getMatrixAt(ne,_matrix$1),this.getBoundingSphereAt(se,_sphere$2).applyMatrix4(_matrix$1),$.union(_sphere$2)}}addInstance($){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const ne={visible:!0,active:!0,geometryIndex:$};let ie=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ascIdSort),ie=this._availableInstanceIds.shift(),this._instanceInfo[ie]=ne):(ie=this._instanceInfo.length,this._instanceInfo.push(ne));const se=this._matricesTexture;_matrix$1.identity().toArray(se.image.data,ie*16),se.needsUpdate=!0;const le=this._colorsTexture;return le&&(_whiteColor.toArray(le.image.data,ie*4),le.needsUpdate=!0),this._visibilityChanged=!0,ie}addGeometry($,te=-1,ne=-1){this._initializeGeometry($),this._validateGeometry($);const ie={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},se=this._geometryInfo;ie.vertexStart=this._nextVertexStart,ie.reservedVertexCount=te===-1?$.getAttribute("position").count:te;const le=$.getIndex();if(le!==null&&(ie.indexStart=this._nextIndexStart,ie.reservedIndexCount=ne===-1?le.count:ne),ie.indexStart!==-1&&ie.indexStart+ie.reservedIndexCount>this._maxIndexCount||ie.vertexStart+ie.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let ce;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ascIdSort),ce=this._availableGeometryIds.shift(),se[ce]=ie):(ce=this._geometryCount,this._geometryCount++,se.push(ie)),this.setGeometryAt(ce,$),this._nextIndexStart=ie.indexStart+ie.reservedIndexCount,this._nextVertexStart=ie.vertexStart+ie.reservedVertexCount,ce}setGeometryAt($,te){if($>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(te);const ne=this.geometry,ie=ne.getIndex()!==null,se=ne.getIndex(),le=te.getIndex(),oe=this._geometryInfo[$];if(ie&&le.count>oe.reservedIndexCount||te.attributes.position.count>oe.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const ce=oe.vertexStart,ae=oe.reservedVertexCount;oe.vertexCount=te.getAttribute("position").count;for(const he in ne.attributes){const de=te.getAttribute(he),pe=ne.getAttribute(he);copyAttributeData(de,pe,ce);const re=de.itemSize;for(let Ae=de.count,ge=ae;Ae<ge;Ae++){const Se=ce+Ae;for(let fe=0;fe<re;fe++)pe.setComponent(Se,fe,0)}pe.needsUpdate=!0,pe.addUpdateRange(ce*re,ae*re)}if(ie){const he=oe.indexStart,de=oe.reservedIndexCount;oe.indexCount=te.getIndex().count;for(let pe=0;pe<le.count;pe++)se.setX(he+pe,ce+le.getX(pe));for(let pe=le.count,re=de;pe<re;pe++)se.setX(he+pe,ce);se.needsUpdate=!0,se.addUpdateRange(he,oe.reservedIndexCount)}return oe.start=ie?oe.indexStart:oe.vertexStart,oe.count=ie?oe.indexCount:oe.vertexCount,oe.boundingBox=null,te.boundingBox!==null&&(oe.boundingBox=te.boundingBox.clone()),oe.boundingSphere=null,te.boundingSphere!==null&&(oe.boundingSphere=te.boundingSphere.clone()),this._visibilityChanged=!0,$}deleteGeometry($){const te=this._geometryInfo;if($>=te.length||te[$].active===!1)return this;const ne=this._instanceInfo;for(let ie=0,se=ne.length;ie<se;ie++)ne[ie].active&&ne[ie].geometryIndex===$&&this.deleteInstance(ie);return te[$].active=!1,this._availableGeometryIds.push($),this._visibilityChanged=!0,this}deleteInstance($){return this.validateInstanceId($),this._instanceInfo[$].active=!1,this._availableInstanceIds.push($),this._visibilityChanged=!0,this}optimize(){let $=0,te=0;const ne=this._geometryInfo,ie=ne.map((le,oe)=>oe).sort((le,oe)=>ne[le].vertexStart-ne[oe].vertexStart),se=this.geometry;for(let le=0,oe=ne.length;le<oe;le++){const ce=ie[le],ae=ne[ce];if(ae.active!==!1){if(se.index!==null){if(ae.indexStart!==te){const{indexStart:he,vertexStart:de,reservedIndexCount:pe}=ae,re=se.index,Ae=re.array,ge=$-de;for(let Se=he;Se<he+pe;Se++)Ae[Se]=Ae[Se]+ge;re.array.copyWithin(te,he,he+pe),re.addUpdateRange(te,pe),ae.indexStart=te}te+=ae.reservedIndexCount}if(ae.vertexStart!==$){const{vertexStart:he,reservedVertexCount:de}=ae,pe=se.attributes;for(const re in pe){const Ae=pe[re],{array:ge,itemSize:Se}=Ae;ge.copyWithin($*Se,he*Se,(he+de)*Se),Ae.addUpdateRange($*Se,de*Se)}ae.vertexStart=$}$+=ae.reservedVertexCount,ae.start=se.index?ae.indexStart:ae.vertexStart,this._nextIndexStart=se.index?ae.indexStart+ae.reservedIndexCount:0,this._nextVertexStart=ae.vertexStart+ae.reservedVertexCount}}return this}getBoundingBoxAt($,te){if($>=this._geometryCount)return null;const ne=this.geometry,ie=this._geometryInfo[$];if(ie.boundingBox===null){const se=new Box3,le=ne.index,oe=ne.attributes.position;for(let ce=ie.start,ae=ie.start+ie.count;ce<ae;ce++){let he=ce;le&&(he=le.getX(he)),se.expandByPoint(_vector$5.fromBufferAttribute(oe,he))}ie.boundingBox=se}return te.copy(ie.boundingBox),te}getBoundingSphereAt($,te){if($>=this._geometryCount)return null;const ne=this.geometry,ie=this._geometryInfo[$];if(ie.boundingSphere===null){const se=new Sphere;this.getBoundingBoxAt($,_box$1),_box$1.getCenter(se.center);const le=ne.index,oe=ne.attributes.position;let ce=0;for(let ae=ie.start,he=ie.start+ie.count;ae<he;ae++){let de=ae;le&&(de=le.getX(de)),_vector$5.fromBufferAttribute(oe,de),ce=Math.max(ce,se.center.distanceToSquared(_vector$5))}se.radius=Math.sqrt(ce),ie.boundingSphere=se}return te.copy(ie.boundingSphere),te}setMatrixAt($,te){this.validateInstanceId($);const ne=this._matricesTexture,ie=this._matricesTexture.image.data;return te.toArray(ie,$*16),ne.needsUpdate=!0,this}getMatrixAt($,te){return this.validateInstanceId($),te.fromArray(this._matricesTexture.image.data,$*16)}setColorAt($,te){return this.validateInstanceId($),this._colorsTexture===null&&this._initColorsTexture(),te.toArray(this._colorsTexture.image.data,$*4),this._colorsTexture.needsUpdate=!0,this}getColorAt($,te){return this.validateInstanceId($),te.fromArray(this._colorsTexture.image.data,$*4)}setVisibleAt($,te){return this.validateInstanceId($),this._instanceInfo[$].visible===te?this:(this._instanceInfo[$].visible=te,this._visibilityChanged=!0,this)}getVisibleAt($){return this.validateInstanceId($),this._instanceInfo[$].visible}setGeometryIdAt($,te){return this.validateInstanceId($),this.validateGeometryId(te),this._instanceInfo[$].geometryIndex=te,this}getGeometryIdAt($){return this.validateInstanceId($),this._instanceInfo[$].geometryIndex}getGeometryRangeAt($,te={}){this.validateGeometryId($);const ne=this._geometryInfo[$];return te.vertexStart=ne.vertexStart,te.vertexCount=ne.vertexCount,te.reservedVertexCount=ne.reservedVertexCount,te.indexStart=ne.indexStart,te.indexCount=ne.indexCount,te.reservedIndexCount=ne.reservedIndexCount,te.start=ne.start,te.count=ne.count,te}setInstanceCount($){const te=this._availableInstanceIds,ne=this._instanceInfo;for(te.sort(ascIdSort);te[te.length-1]===ne.length;)ne.pop(),te.pop();if($<ne.length)throw new Error(`BatchedMesh: Instance ids outside the range ${$} are being used. Cannot shrink instance count.`);const ie=new Int32Array($),se=new Int32Array($);copyArrayContents(this._multiDrawCounts,ie),copyArrayContents(this._multiDrawStarts,se),this._multiDrawCounts=ie,this._multiDrawStarts=se,this._maxInstanceCount=$;const le=this._indirectTexture,oe=this._matricesTexture,ce=this._colorsTexture;le.dispose(),this._initIndirectTexture(),copyArrayContents(le.image.data,this._indirectTexture.image.data),oe.dispose(),this._initMatricesTexture(),copyArrayContents(oe.image.data,this._matricesTexture.image.data),ce&&(ce.dispose(),this._initColorsTexture(),copyArrayContents(ce.image.data,this._colorsTexture.image.data))}setGeometrySize($,te){const ne=[...this._geometryInfo].filter(oe=>oe.active);if(Math.max(...ne.map(oe=>oe.vertexStart+oe.reservedVertexCount))>$)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${te}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...ne.map(ce=>ce.indexStart+ce.reservedIndexCount))>te)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${te}. Cannot shrink further.`);const se=this.geometry;se.dispose(),this._maxVertexCount=$,this._maxIndexCount=te,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(se));const le=this.geometry;se.index&&copyArrayContents(se.index.array,le.index.array);for(const oe in se.attributes)copyArrayContents(se.attributes[oe].array,le.attributes[oe].array)}raycast($,te){const ne=this._instanceInfo,ie=this._geometryInfo,se=this.matrixWorld,le=this.geometry;_mesh.material=this.material,_mesh.geometry.index=le.index,_mesh.geometry.attributes=le.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let oe=0,ce=ne.length;oe<ce;oe++){if(!ne[oe].visible||!ne[oe].active)continue;const ae=ne[oe].geometryIndex,he=ie[ae];_mesh.geometry.setDrawRange(he.start,he.count),this.getMatrixAt(oe,_mesh.matrixWorld).premultiply(se),this.getBoundingBoxAt(ae,_mesh.geometry.boundingBox),this.getBoundingSphereAt(ae,_mesh.geometry.boundingSphere),_mesh.raycast($,_batchIntersects);for(let de=0,pe=_batchIntersects.length;de<pe;de++){const re=_batchIntersects[de];re.object=this,re.batchId=oe,te.push(re)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy($){return super.copy($),this.geometry=$.geometry.clone(),this.perObjectFrustumCulled=$.perObjectFrustumCulled,this.sortObjects=$.sortObjects,this.boundingBox=$.boundingBox!==null?$.boundingBox.clone():null,this.boundingSphere=$.boundingSphere!==null?$.boundingSphere.clone():null,this._geometryInfo=$._geometryInfo.map(te=>({...te,boundingBox:te.boundingBox!==null?te.boundingBox.clone():null,boundingSphere:te.boundingSphere!==null?te.boundingSphere.clone():null})),this._instanceInfo=$._instanceInfo.map(te=>({...te})),this._maxInstanceCount=$._maxInstanceCount,this._maxVertexCount=$._maxVertexCount,this._maxIndexCount=$._maxIndexCount,this._geometryInitialized=$._geometryInitialized,this._geometryCount=$._geometryCount,this._multiDrawCounts=$._multiDrawCounts.slice(),this._multiDrawStarts=$._multiDrawStarts.slice(),this._matricesTexture=$._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=$._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender($,te,ne,ie,se){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const le=ie.getIndex(),oe=le===null?1:le.array.BYTES_PER_ELEMENT,ce=this._instanceInfo,ae=this._multiDrawStarts,he=this._multiDrawCounts,de=this._geometryInfo,pe=this.perObjectFrustumCulled,re=this._indirectTexture,Ae=re.image.data;pe&&(_matrix$1.multiplyMatrices(ne.projectionMatrix,ne.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_matrix$1,$.coordinateSystem));let ge=0;if(this.sortObjects){_matrix$1.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(_matrix$1),_forward.set(0,0,-1).transformDirection(ne.matrixWorld).transformDirection(_matrix$1);for(let be=0,xe=ce.length;be<xe;be++)if(ce[be].visible&&ce[be].active){const ue=ce[be].geometryIndex;this.getMatrixAt(be,_matrix$1),this.getBoundingSphereAt(ue,_sphere$2).applyMatrix4(_matrix$1);let we=!1;if(pe&&(we=!_frustum.intersectsSphere(_sphere$2)),!we){const Fe=de[ue],_e=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push(Fe.start,Fe.count,_e,be)}}const Se=_renderList.list,fe=this.customSort;fe===null?Se.sort(se.transparent?sortTransparent:sortOpaque):fe.call(this,Se,ne);for(let be=0,xe=Se.length;be<xe;be++){const ue=Se[be];ae[ge]=ue.start*oe,he[ge]=ue.count,Ae[ge]=ue.index,ge++}_renderList.reset()}else for(let Se=0,fe=ce.length;Se<fe;Se++)if(ce[Se].visible&&ce[Se].active){const be=ce[Se].geometryIndex;let xe=!1;if(pe&&(this.getMatrixAt(Se,_matrix$1),this.getBoundingSphereAt(be,_sphere$2).applyMatrix4(_matrix$1),xe=!_frustum.intersectsSphere(_sphere$2)),!xe){const ue=de[be];ae[ge]=ue.start*oe,he[ge]=ue.count,Ae[ge]=Se,ge++}}re.needsUpdate=!0,this._multiDrawCount=ge,this._visibilityChanged=!1}onBeforeShadow($,te,ne,ie,se,le){this.onBeforeRender($,null,ie,se,le)}}class LineBasicMaterial extends Material{constructor($){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.linewidth=$.linewidth,this.linecap=$.linecap,this.linejoin=$.linejoin,this.fog=$.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor($=new BufferGeometry,te=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=$,this.material=te,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy($,te){return super.copy($,te),this.material=Array.isArray($.material)?$.material.slice():$.material,this.geometry=$.geometry,this}computeLineDistances(){const $=this.geometry;if($.index===null){const te=$.attributes.position,ne=[0];for(let ie=1,se=te.count;ie<se;ie++)_vStart.fromBufferAttribute(te,ie-1),_vEnd.fromBufferAttribute(te,ie),ne[ie]=ne[ie-1],ne[ie]+=_vStart.distanceTo(_vEnd);$.setAttribute("lineDistance",new Float32BufferAttribute(ne,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast($,te){const ne=this.geometry,ie=this.matrixWorld,se=$.params.Line.threshold,le=ne.drawRange;if(ne.boundingSphere===null&&ne.computeBoundingSphere(),_sphere$1.copy(ne.boundingSphere),_sphere$1.applyMatrix4(ie),_sphere$1.radius+=se,$.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(ie).invert(),_ray$1.copy($.ray).applyMatrix4(_inverseMatrix$1);const oe=se/((this.scale.x+this.scale.y+this.scale.z)/3),ce=oe*oe,ae=this.isLineSegments?2:1,he=ne.index,pe=ne.attributes.position;if(he!==null){const re=Math.max(0,le.start),Ae=Math.min(he.count,le.start+le.count);for(let ge=re,Se=Ae-1;ge<Se;ge+=ae){const fe=he.getX(ge),be=he.getX(ge+1),xe=checkIntersection(this,$,_ray$1,ce,fe,be,ge);xe&&te.push(xe)}if(this.isLineLoop){const ge=he.getX(Ae-1),Se=he.getX(re),fe=checkIntersection(this,$,_ray$1,ce,ge,Se,Ae-1);fe&&te.push(fe)}}else{const re=Math.max(0,le.start),Ae=Math.min(pe.count,le.start+le.count);for(let ge=re,Se=Ae-1;ge<Se;ge+=ae){const fe=checkIntersection(this,$,_ray$1,ce,ge,ge+1,ge);fe&&te.push(fe)}if(this.isLineLoop){const ge=checkIntersection(this,$,_ray$1,ce,Ae-1,re,Ae-1);ge&&te.push(ge)}}}updateMorphTargets(){const te=this.geometry.morphAttributes,ne=Object.keys(te);if(ne.length>0){const ie=te[ne[0]];if(ie!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let se=0,le=ie.length;se<le;se++){const oe=ie[se].name||String(se);this.morphTargetInfluences.push(0),this.morphTargetDictionary[oe]=se}}}}}function checkIntersection(ee,$,te,ne,ie,se,le){const oe=ee.geometry.attributes.position;if(_vStart.fromBufferAttribute(oe,ie),_vEnd.fromBufferAttribute(oe,se),te.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>ne)return;_intersectPointOnRay.applyMatrix4(ee.matrixWorld);const ae=$.ray.origin.distanceTo(_intersectPointOnRay);if(!(ae<$.near||ae>$.far))return{distance:ae,point:_intersectPointOnSegment.clone().applyMatrix4(ee.matrixWorld),index:le,face:null,faceIndex:null,barycoord:null,object:ee}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor($,te){super($,te),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const $=this.geometry;if($.index===null){const te=$.attributes.position,ne=[];for(let ie=0,se=te.count;ie<se;ie+=2)_start.fromBufferAttribute(te,ie),_end.fromBufferAttribute(te,ie+1),ne[ie]=ie===0?0:ne[ie-1],ne[ie+1]=ne[ie]+_start.distanceTo(_end);$.setAttribute("lineDistance",new Float32BufferAttribute(ne,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor($,te){super($,te),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor($){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.alphaMap=$.alphaMap,this.size=$.size,this.sizeAttenuation=$.sizeAttenuation,this.fog=$.fog,this}}const _inverseMatrix=new Matrix4,_ray$4=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor($=new BufferGeometry,te=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=$,this.material=te,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy($,te){return super.copy($,te),this.material=Array.isArray($.material)?$.material.slice():$.material,this.geometry=$.geometry,this}raycast($,te){const ne=this.geometry,ie=this.matrixWorld,se=$.params.Points.threshold,le=ne.drawRange;if(ne.boundingSphere===null&&ne.computeBoundingSphere(),_sphere.copy(ne.boundingSphere),_sphere.applyMatrix4(ie),_sphere.radius+=se,$.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(ie).invert(),_ray$4.copy($.ray).applyMatrix4(_inverseMatrix);const oe=se/((this.scale.x+this.scale.y+this.scale.z)/3),ce=oe*oe,ae=ne.index,de=ne.attributes.position;if(ae!==null){const pe=Math.max(0,le.start),re=Math.min(ae.count,le.start+le.count);for(let Ae=pe,ge=re;Ae<ge;Ae++){const Se=ae.getX(Ae);_position$2.fromBufferAttribute(de,Se),testPoint(_position$2,Se,ce,ie,$,te,this)}}else{const pe=Math.max(0,le.start),re=Math.min(de.count,le.start+le.count);for(let Ae=pe,ge=re;Ae<ge;Ae++)_position$2.fromBufferAttribute(de,Ae),testPoint(_position$2,Ae,ce,ie,$,te,this)}}updateMorphTargets(){const te=this.geometry.morphAttributes,ne=Object.keys(te);if(ne.length>0){const ie=te[ne[0]];if(ie!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let se=0,le=ie.length;se<le;se++){const oe=ie[se].name||String(se);this.morphTargetInfluences.push(0),this.morphTargetDictionary[oe]=se}}}}}function testPoint(ee,$,te,ne,ie,se,le){const oe=_ray$4.distanceSqToPoint(ee);if(oe<te){const ce=new Vector3;_ray$4.closestPointToPoint(ee,ce),ce.applyMatrix4(ne);const ae=ie.ray.origin.distanceTo(ce);if(ae<ie.near||ae>ie.far)return;se.push({distance:ae,distanceToRay:Math.sqrt(oe),point:ce,index:$,face:null,faceIndex:null,barycoord:null,object:le})}}class VideoTexture extends Texture{constructor($,te,ne,ie,se,le,oe,ce,ae){super($,te,ne,ie,se,le,oe,ce,ae),this.isVideoTexture=!0,this.minFilter=le!==void 0?le:LinearFilter,this.magFilter=se!==void 0?se:LinearFilter,this.generateMipmaps=!1;const he=this;function de(){he.needsUpdate=!0,$.requestVideoFrameCallback(de)}"requestVideoFrameCallback"in $&&$.requestVideoFrameCallback(de)}clone(){return new this.constructor(this.image).copy(this)}update(){const $=this.image;"requestVideoFrameCallback"in $===!1&&$.readyState>=$.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class VideoFrameTexture extends VideoTexture{constructor($,te,ne,ie,se,le,oe,ce){super({},$,te,ne,ie,se,le,oe,ce),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame($){this.image=$,this.needsUpdate=!0}}class FramebufferTexture extends Texture{constructor($,te){super({width:$,height:te}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor($,te,ne,ie,se,le,oe,ce,ae,he,de,pe){super(null,le,oe,ce,ae,he,ie,se,de,pe),this.isCompressedTexture=!0,this.image={width:te,height:ne},this.mipmaps=$,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor($,te,ne,ie,se,le){super($,te,ne,se,le),this.isCompressedArrayTexture=!0,this.image.depth=ie,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate($){this.layerUpdates.add($)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor($,te,ne){super(void 0,$[0].width,$[0].height,te,ne,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=$}}class CanvasTexture extends Texture{constructor($,te,ne,ie,se,le,oe,ce,ae){super($,te,ne,ie,se,le,oe,ce,ae),this.isCanvasTexture=!0,this.needsUpdate=!0}}class DepthTexture extends Texture{constructor($,te,ne,ie,se,le,oe,ce,ae,he=DepthFormat){if(he!==DepthFormat&&he!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");ne===void 0&&he===DepthFormat&&(ne=UnsignedIntType),ne===void 0&&he===DepthStencilFormat&&(ne=UnsignedInt248Type),super(null,ie,se,le,oe,ce,he,ne,ae),this.isDepthTexture=!0,this.image={width:$,height:te},this.magFilter=oe!==void 0?oe:NearestFilter,this.minFilter=ce!==void 0?ce:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy($){return super.copy($),this.source=new Source(Object.assign({},$.image)),this.compareFunction=$.compareFunction,this}toJSON($){const te=super.toJSON($);return this.compareFunction!==null&&(te.compareFunction=this.compareFunction),te}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt($,te){const ne=this.getUtoTmapping($);return this.getPoint(ne,te)}getPoints($=5){const te=[];for(let ne=0;ne<=$;ne++)te.push(this.getPoint(ne/$));return te}getSpacedPoints($=5){const te=[];for(let ne=0;ne<=$;ne++)te.push(this.getPointAt(ne/$));return te}getLength(){const $=this.getLengths();return $[$.length-1]}getLengths($=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===$+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const te=[];let ne,ie=this.getPoint(0),se=0;te.push(0);for(let le=1;le<=$;le++)ne=this.getPoint(le/$),se+=ne.distanceTo(ie),te.push(se),ie=ne;return this.cacheArcLengths=te,te}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping($,te=null){const ne=this.getLengths();let ie=0;const se=ne.length;let le;te?le=te:le=$*ne[se-1];let oe=0,ce=se-1,ae;for(;oe<=ce;)if(ie=Math.floor(oe+(ce-oe)/2),ae=ne[ie]-le,ae<0)oe=ie+1;else if(ae>0)ce=ie-1;else{ce=ie;break}if(ie=ce,ne[ie]===le)return ie/(se-1);const he=ne[ie],pe=ne[ie+1]-he,re=(le-he)/pe;return(ie+re)/(se-1)}getTangent($,te){let ie=$-1e-4,se=$+1e-4;ie<0&&(ie=0),se>1&&(se=1);const le=this.getPoint(ie),oe=this.getPoint(se),ce=te||(le.isVector2?new Vector2:new Vector3);return ce.copy(oe).sub(le).normalize(),ce}getTangentAt($,te){const ne=this.getUtoTmapping($);return this.getTangent(ne,te)}computeFrenetFrames($,te=!1){const ne=new Vector3,ie=[],se=[],le=[],oe=new Vector3,ce=new Matrix4;for(let re=0;re<=$;re++){const Ae=re/$;ie[re]=this.getTangentAt(Ae,new Vector3)}se[0]=new Vector3,le[0]=new Vector3;let ae=Number.MAX_VALUE;const he=Math.abs(ie[0].x),de=Math.abs(ie[0].y),pe=Math.abs(ie[0].z);he<=ae&&(ae=he,ne.set(1,0,0)),de<=ae&&(ae=de,ne.set(0,1,0)),pe<=ae&&ne.set(0,0,1),oe.crossVectors(ie[0],ne).normalize(),se[0].crossVectors(ie[0],oe),le[0].crossVectors(ie[0],se[0]);for(let re=1;re<=$;re++){if(se[re]=se[re-1].clone(),le[re]=le[re-1].clone(),oe.crossVectors(ie[re-1],ie[re]),oe.length()>Number.EPSILON){oe.normalize();const Ae=Math.acos(clamp$1(ie[re-1].dot(ie[re]),-1,1));se[re].applyMatrix4(ce.makeRotationAxis(oe,Ae))}le[re].crossVectors(ie[re],se[re])}if(te===!0){let re=Math.acos(clamp$1(se[0].dot(se[$]),-1,1));re/=$,ie[0].dot(oe.crossVectors(se[0],se[$]))>0&&(re=-re);for(let Ae=1;Ae<=$;Ae++)se[Ae].applyMatrix4(ce.makeRotationAxis(ie[Ae],re*Ae)),le[Ae].crossVectors(ie[Ae],se[Ae])}return{tangents:ie,normals:se,binormals:le}}clone(){return new this.constructor().copy(this)}copy($){return this.arcLengthDivisions=$.arcLengthDivisions,this}toJSON(){const $={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return $.arcLengthDivisions=this.arcLengthDivisions,$.type=this.type,$}fromJSON($){return this.arcLengthDivisions=$.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor($=0,te=0,ne=1,ie=1,se=0,le=Math.PI*2,oe=!1,ce=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=$,this.aY=te,this.xRadius=ne,this.yRadius=ie,this.aStartAngle=se,this.aEndAngle=le,this.aClockwise=oe,this.aRotation=ce}getPoint($,te=new Vector2){const ne=te,ie=Math.PI*2;let se=this.aEndAngle-this.aStartAngle;const le=Math.abs(se)<Number.EPSILON;for(;se<0;)se+=ie;for(;se>ie;)se-=ie;se<Number.EPSILON&&(le?se=0:se=ie),this.aClockwise===!0&&!le&&(se===ie?se=-ie:se=se-ie);const oe=this.aStartAngle+$*se;let ce=this.aX+this.xRadius*Math.cos(oe),ae=this.aY+this.yRadius*Math.sin(oe);if(this.aRotation!==0){const he=Math.cos(this.aRotation),de=Math.sin(this.aRotation),pe=ce-this.aX,re=ae-this.aY;ce=pe*he-re*de+this.aX,ae=pe*de+re*he+this.aY}return ne.set(ce,ae)}copy($){return super.copy($),this.aX=$.aX,this.aY=$.aY,this.xRadius=$.xRadius,this.yRadius=$.yRadius,this.aStartAngle=$.aStartAngle,this.aEndAngle=$.aEndAngle,this.aClockwise=$.aClockwise,this.aRotation=$.aRotation,this}toJSON(){const $=super.toJSON();return $.aX=this.aX,$.aY=this.aY,$.xRadius=this.xRadius,$.yRadius=this.yRadius,$.aStartAngle=this.aStartAngle,$.aEndAngle=this.aEndAngle,$.aClockwise=this.aClockwise,$.aRotation=this.aRotation,$}fromJSON($){return super.fromJSON($),this.aX=$.aX,this.aY=$.aY,this.xRadius=$.xRadius,this.yRadius=$.yRadius,this.aStartAngle=$.aStartAngle,this.aEndAngle=$.aEndAngle,this.aClockwise=$.aClockwise,this.aRotation=$.aRotation,this}}class ArcCurve extends EllipseCurve{constructor($,te,ne,ie,se,le){super($,te,ne,ne,ie,se,le),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let ee=0,$=0,te=0,ne=0;function ie(se,le,oe,ce){ee=se,$=oe,te=-3*se+3*le-2*oe-ce,ne=2*se-2*le+oe+ce}return{initCatmullRom:function(se,le,oe,ce,ae){ie(le,oe,ae*(oe-se),ae*(ce-le))},initNonuniformCatmullRom:function(se,le,oe,ce,ae,he,de){let pe=(le-se)/ae-(oe-se)/(ae+he)+(oe-le)/he,re=(oe-le)/he-(ce-le)/(he+de)+(ce-oe)/de;pe*=he,re*=he,ie(le,oe,pe,re)},calc:function(se){const le=se*se,oe=le*se;return ee+$*se+te*le+ne*oe}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor($=[],te=!1,ne="centripetal",ie=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=$,this.closed=te,this.curveType=ne,this.tension=ie}getPoint($,te=new Vector3){const ne=te,ie=this.points,se=ie.length,le=(se-(this.closed?0:1))*$;let oe=Math.floor(le),ce=le-oe;this.closed?oe+=oe>0?0:(Math.floor(Math.abs(oe)/se)+1)*se:ce===0&&oe===se-1&&(oe=se-2,ce=1);let ae,he;this.closed||oe>0?ae=ie[(oe-1)%se]:(tmp.subVectors(ie[0],ie[1]).add(ie[0]),ae=tmp);const de=ie[oe%se],pe=ie[(oe+1)%se];if(this.closed||oe+2<se?he=ie[(oe+2)%se]:(tmp.subVectors(ie[se-1],ie[se-2]).add(ie[se-1]),he=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const re=this.curveType==="chordal"?.5:.25;let Ae=Math.pow(ae.distanceToSquared(de),re),ge=Math.pow(de.distanceToSquared(pe),re),Se=Math.pow(pe.distanceToSquared(he),re);ge<1e-4&&(ge=1),Ae<1e-4&&(Ae=ge),Se<1e-4&&(Se=ge),px.initNonuniformCatmullRom(ae.x,de.x,pe.x,he.x,Ae,ge,Se),py.initNonuniformCatmullRom(ae.y,de.y,pe.y,he.y,Ae,ge,Se),pz.initNonuniformCatmullRom(ae.z,de.z,pe.z,he.z,Ae,ge,Se)}else this.curveType==="catmullrom"&&(px.initCatmullRom(ae.x,de.x,pe.x,he.x,this.tension),py.initCatmullRom(ae.y,de.y,pe.y,he.y,this.tension),pz.initCatmullRom(ae.z,de.z,pe.z,he.z,this.tension));return ne.set(px.calc(ce),py.calc(ce),pz.calc(ce)),ne}copy($){super.copy($),this.points=[];for(let te=0,ne=$.points.length;te<ne;te++){const ie=$.points[te];this.points.push(ie.clone())}return this.closed=$.closed,this.curveType=$.curveType,this.tension=$.tension,this}toJSON(){const $=super.toJSON();$.points=[];for(let te=0,ne=this.points.length;te<ne;te++){const ie=this.points[te];$.points.push(ie.toArray())}return $.closed=this.closed,$.curveType=this.curveType,$.tension=this.tension,$}fromJSON($){super.fromJSON($),this.points=[];for(let te=0,ne=$.points.length;te<ne;te++){const ie=$.points[te];this.points.push(new Vector3().fromArray(ie))}return this.closed=$.closed,this.curveType=$.curveType,this.tension=$.tension,this}}function CatmullRom(ee,$,te,ne,ie){const se=(ne-$)*.5,le=(ie-te)*.5,oe=ee*ee,ce=ee*oe;return(2*te-2*ne+se+le)*ce+(-3*te+3*ne-2*se-le)*oe+se*ee+te}function QuadraticBezierP0(ee,$){const te=1-ee;return te*te*$}function QuadraticBezierP1(ee,$){return 2*(1-ee)*ee*$}function QuadraticBezierP2(ee,$){return ee*ee*$}function QuadraticBezier(ee,$,te,ne){return QuadraticBezierP0(ee,$)+QuadraticBezierP1(ee,te)+QuadraticBezierP2(ee,ne)}function CubicBezierP0(ee,$){const te=1-ee;return te*te*te*$}function CubicBezierP1(ee,$){const te=1-ee;return 3*te*te*ee*$}function CubicBezierP2(ee,$){return 3*(1-ee)*ee*ee*$}function CubicBezierP3(ee,$){return ee*ee*ee*$}function CubicBezier(ee,$,te,ne,ie){return CubicBezierP0(ee,$)+CubicBezierP1(ee,te)+CubicBezierP2(ee,ne)+CubicBezierP3(ee,ie)}class CubicBezierCurve extends Curve{constructor($=new Vector2,te=new Vector2,ne=new Vector2,ie=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=$,this.v1=te,this.v2=ne,this.v3=ie}getPoint($,te=new Vector2){const ne=te,ie=this.v0,se=this.v1,le=this.v2,oe=this.v3;return ne.set(CubicBezier($,ie.x,se.x,le.x,oe.x),CubicBezier($,ie.y,se.y,le.y,oe.y)),ne}copy($){return super.copy($),this.v0.copy($.v0),this.v1.copy($.v1),this.v2.copy($.v2),this.v3.copy($.v3),this}toJSON(){const $=super.toJSON();return $.v0=this.v0.toArray(),$.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$.v3=this.v3.toArray(),$}fromJSON($){return super.fromJSON($),this.v0.fromArray($.v0),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this.v3.fromArray($.v3),this}}class CubicBezierCurve3 extends Curve{constructor($=new Vector3,te=new Vector3,ne=new Vector3,ie=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=$,this.v1=te,this.v2=ne,this.v3=ie}getPoint($,te=new Vector3){const ne=te,ie=this.v0,se=this.v1,le=this.v2,oe=this.v3;return ne.set(CubicBezier($,ie.x,se.x,le.x,oe.x),CubicBezier($,ie.y,se.y,le.y,oe.y),CubicBezier($,ie.z,se.z,le.z,oe.z)),ne}copy($){return super.copy($),this.v0.copy($.v0),this.v1.copy($.v1),this.v2.copy($.v2),this.v3.copy($.v3),this}toJSON(){const $=super.toJSON();return $.v0=this.v0.toArray(),$.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$.v3=this.v3.toArray(),$}fromJSON($){return super.fromJSON($),this.v0.fromArray($.v0),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this.v3.fromArray($.v3),this}}class LineCurve extends Curve{constructor($=new Vector2,te=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=$,this.v2=te}getPoint($,te=new Vector2){const ne=te;return $===1?ne.copy(this.v2):(ne.copy(this.v2).sub(this.v1),ne.multiplyScalar($).add(this.v1)),ne}getPointAt($,te){return this.getPoint($,te)}getTangent($,te=new Vector2){return te.subVectors(this.v2,this.v1).normalize()}getTangentAt($,te){return this.getTangent($,te)}copy($){return super.copy($),this.v1.copy($.v1),this.v2.copy($.v2),this}toJSON(){const $=super.toJSON();return $.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$}fromJSON($){return super.fromJSON($),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this}}class LineCurve3 extends Curve{constructor($=new Vector3,te=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=$,this.v2=te}getPoint($,te=new Vector3){const ne=te;return $===1?ne.copy(this.v2):(ne.copy(this.v2).sub(this.v1),ne.multiplyScalar($).add(this.v1)),ne}getPointAt($,te){return this.getPoint($,te)}getTangent($,te=new Vector3){return te.subVectors(this.v2,this.v1).normalize()}getTangentAt($,te){return this.getTangent($,te)}copy($){return super.copy($),this.v1.copy($.v1),this.v2.copy($.v2),this}toJSON(){const $=super.toJSON();return $.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$}fromJSON($){return super.fromJSON($),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this}}class QuadraticBezierCurve extends Curve{constructor($=new Vector2,te=new Vector2,ne=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=$,this.v1=te,this.v2=ne}getPoint($,te=new Vector2){const ne=te,ie=this.v0,se=this.v1,le=this.v2;return ne.set(QuadraticBezier($,ie.x,se.x,le.x),QuadraticBezier($,ie.y,se.y,le.y)),ne}copy($){return super.copy($),this.v0.copy($.v0),this.v1.copy($.v1),this.v2.copy($.v2),this}toJSON(){const $=super.toJSON();return $.v0=this.v0.toArray(),$.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$}fromJSON($){return super.fromJSON($),this.v0.fromArray($.v0),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor($=new Vector3,te=new Vector3,ne=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=$,this.v1=te,this.v2=ne}getPoint($,te=new Vector3){const ne=te,ie=this.v0,se=this.v1,le=this.v2;return ne.set(QuadraticBezier($,ie.x,se.x,le.x),QuadraticBezier($,ie.y,se.y,le.y),QuadraticBezier($,ie.z,se.z,le.z)),ne}copy($){return super.copy($),this.v0.copy($.v0),this.v1.copy($.v1),this.v2.copy($.v2),this}toJSON(){const $=super.toJSON();return $.v0=this.v0.toArray(),$.v1=this.v1.toArray(),$.v2=this.v2.toArray(),$}fromJSON($){return super.fromJSON($),this.v0.fromArray($.v0),this.v1.fromArray($.v1),this.v2.fromArray($.v2),this}}class SplineCurve extends Curve{constructor($=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=$}getPoint($,te=new Vector2){const ne=te,ie=this.points,se=(ie.length-1)*$,le=Math.floor(se),oe=se-le,ce=ie[le===0?le:le-1],ae=ie[le],he=ie[le>ie.length-2?ie.length-1:le+1],de=ie[le>ie.length-3?ie.length-1:le+2];return ne.set(CatmullRom(oe,ce.x,ae.x,he.x,de.x),CatmullRom(oe,ce.y,ae.y,he.y,de.y)),ne}copy($){super.copy($),this.points=[];for(let te=0,ne=$.points.length;te<ne;te++){const ie=$.points[te];this.points.push(ie.clone())}return this}toJSON(){const $=super.toJSON();$.points=[];for(let te=0,ne=this.points.length;te<ne;te++){const ie=this.points[te];$.points.push(ie.toArray())}return $}fromJSON($){super.fromJSON($),this.points=[];for(let te=0,ne=$.points.length;te<ne;te++){const ie=$.points[te];this.points.push(new Vector2().fromArray(ie))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add($){this.curves.push($)}closePath(){const $=this.curves[0].getPoint(0),te=this.curves[this.curves.length-1].getPoint(1);if(!$.equals(te)){const ne=$.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[ne](te,$))}return this}getPoint($,te){const ne=$*this.getLength(),ie=this.getCurveLengths();let se=0;for(;se<ie.length;){if(ie[se]>=ne){const le=ie[se]-ne,oe=this.curves[se],ce=oe.getLength(),ae=ce===0?0:1-le/ce;return oe.getPointAt(ae,te)}se++}return null}getLength(){const $=this.getCurveLengths();return $[$.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const $=[];let te=0;for(let ne=0,ie=this.curves.length;ne<ie;ne++)te+=this.curves[ne].getLength(),$.push(te);return this.cacheLengths=$,$}getSpacedPoints($=40){const te=[];for(let ne=0;ne<=$;ne++)te.push(this.getPoint(ne/$));return this.autoClose&&te.push(te[0]),te}getPoints($=12){const te=[];let ne;for(let ie=0,se=this.curves;ie<se.length;ie++){const le=se[ie],oe=le.isEllipseCurve?$*2:le.isLineCurve||le.isLineCurve3?1:le.isSplineCurve?$*le.points.length:$,ce=le.getPoints(oe);for(let ae=0;ae<ce.length;ae++){const he=ce[ae];ne&&ne.equals(he)||(te.push(he),ne=he)}}return this.autoClose&&te.length>1&&!te[te.length-1].equals(te[0])&&te.push(te[0]),te}copy($){super.copy($),this.curves=[];for(let te=0,ne=$.curves.length;te<ne;te++){const ie=$.curves[te];this.curves.push(ie.clone())}return this.autoClose=$.autoClose,this}toJSON(){const $=super.toJSON();$.autoClose=this.autoClose,$.curves=[];for(let te=0,ne=this.curves.length;te<ne;te++){const ie=this.curves[te];$.curves.push(ie.toJSON())}return $}fromJSON($){super.fromJSON($),this.autoClose=$.autoClose,this.curves=[];for(let te=0,ne=$.curves.length;te<ne;te++){const ie=$.curves[te];this.curves.push(new Curves[ie.type]().fromJSON(ie))}return this}}class Path extends CurvePath{constructor($){super(),this.type="Path",this.currentPoint=new Vector2,$&&this.setFromPoints($)}setFromPoints($){this.moveTo($[0].x,$[0].y);for(let te=1,ne=$.length;te<ne;te++)this.lineTo($[te].x,$[te].y);return this}moveTo($,te){return this.currentPoint.set($,te),this}lineTo($,te){const ne=new LineCurve(this.currentPoint.clone(),new Vector2($,te));return this.curves.push(ne),this.currentPoint.set($,te),this}quadraticCurveTo($,te,ne,ie){const se=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2($,te),new Vector2(ne,ie));return this.curves.push(se),this.currentPoint.set(ne,ie),this}bezierCurveTo($,te,ne,ie,se,le){const oe=new CubicBezierCurve(this.currentPoint.clone(),new Vector2($,te),new Vector2(ne,ie),new Vector2(se,le));return this.curves.push(oe),this.currentPoint.set(se,le),this}splineThru($){const te=[this.currentPoint.clone()].concat($),ne=new SplineCurve(te);return this.curves.push(ne),this.currentPoint.copy($[$.length-1]),this}arc($,te,ne,ie,se,le){const oe=this.currentPoint.x,ce=this.currentPoint.y;return this.absarc($+oe,te+ce,ne,ie,se,le),this}absarc($,te,ne,ie,se,le){return this.absellipse($,te,ne,ne,ie,se,le),this}ellipse($,te,ne,ie,se,le,oe,ce){const ae=this.currentPoint.x,he=this.currentPoint.y;return this.absellipse($+ae,te+he,ne,ie,se,le,oe,ce),this}absellipse($,te,ne,ie,se,le,oe,ce){const ae=new EllipseCurve($,te,ne,ie,se,le,oe,ce);if(this.curves.length>0){const de=ae.getPoint(0);de.equals(this.currentPoint)||this.lineTo(de.x,de.y)}this.curves.push(ae);const he=ae.getPoint(1);return this.currentPoint.copy(he),this}copy($){return super.copy($),this.currentPoint.copy($.currentPoint),this}toJSON(){const $=super.toJSON();return $.currentPoint=this.currentPoint.toArray(),$}fromJSON($){return super.fromJSON($),this.currentPoint.fromArray($.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor($=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],te=12,ne=0,ie=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:$,segments:te,phiStart:ne,phiLength:ie},te=Math.floor(te),ie=clamp$1(ie,0,Math.PI*2);const se=[],le=[],oe=[],ce=[],ae=[],he=1/te,de=new Vector3,pe=new Vector2,re=new Vector3,Ae=new Vector3,ge=new Vector3;let Se=0,fe=0;for(let be=0;be<=$.length-1;be++)switch(be){case 0:Se=$[be+1].x-$[be].x,fe=$[be+1].y-$[be].y,re.x=fe*1,re.y=-Se,re.z=fe*0,ge.copy(re),re.normalize(),ce.push(re.x,re.y,re.z);break;case $.length-1:ce.push(ge.x,ge.y,ge.z);break;default:Se=$[be+1].x-$[be].x,fe=$[be+1].y-$[be].y,re.x=fe*1,re.y=-Se,re.z=fe*0,Ae.copy(re),re.x+=ge.x,re.y+=ge.y,re.z+=ge.z,re.normalize(),ce.push(re.x,re.y,re.z),ge.copy(Ae)}for(let be=0;be<=te;be++){const xe=ne+be*he*ie,ue=Math.sin(xe),we=Math.cos(xe);for(let Fe=0;Fe<=$.length-1;Fe++){de.x=$[Fe].x*ue,de.y=$[Fe].y,de.z=$[Fe].x*we,le.push(de.x,de.y,de.z),pe.x=be/te,pe.y=Fe/($.length-1),oe.push(pe.x,pe.y);const _e=ce[3*Fe+0]*ue,Ee=ce[3*Fe+1],Ce=ce[3*Fe+0]*we;ae.push(_e,Ee,Ce)}}for(let be=0;be<te;be++)for(let xe=0;xe<$.length-1;xe++){const ue=xe+be*$.length,we=ue,Fe=ue+$.length,_e=ue+$.length+1,Ee=ue+1;se.push(we,Fe,Ee),se.push(_e,Ee,Fe)}this.setIndex(se),this.setAttribute("position",new Float32BufferAttribute(le,3)),this.setAttribute("uv",new Float32BufferAttribute(oe,2)),this.setAttribute("normal",new Float32BufferAttribute(ae,3))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new LatheGeometry($.points,$.segments,$.phiStart,$.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor($=1,te=1,ne=4,ie=8){const se=new Path;se.absarc(0,-te/2,$,Math.PI*1.5,0),se.absarc(0,te/2,$,0,Math.PI*.5),super(se.getPoints(ne),ie),this.type="CapsuleGeometry",this.parameters={radius:$,length:te,capSegments:ne,radialSegments:ie}}static fromJSON($){return new CapsuleGeometry($.radius,$.length,$.capSegments,$.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor($=1,te=32,ne=0,ie=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:$,segments:te,thetaStart:ne,thetaLength:ie},te=Math.max(3,te);const se=[],le=[],oe=[],ce=[],ae=new Vector3,he=new Vector2;le.push(0,0,0),oe.push(0,0,1),ce.push(.5,.5);for(let de=0,pe=3;de<=te;de++,pe+=3){const re=ne+de/te*ie;ae.x=$*Math.cos(re),ae.y=$*Math.sin(re),le.push(ae.x,ae.y,ae.z),oe.push(0,0,1),he.x=(le[pe]/$+1)/2,he.y=(le[pe+1]/$+1)/2,ce.push(he.x,he.y)}for(let de=1;de<=te;de++)se.push(de,de+1,0);this.setIndex(se),this.setAttribute("position",new Float32BufferAttribute(le,3)),this.setAttribute("normal",new Float32BufferAttribute(oe,3)),this.setAttribute("uv",new Float32BufferAttribute(ce,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new CircleGeometry($.radius,$.segments,$.thetaStart,$.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor($=1,te=1,ne=1,ie=32,se=1,le=!1,oe=0,ce=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:$,radiusBottom:te,height:ne,radialSegments:ie,heightSegments:se,openEnded:le,thetaStart:oe,thetaLength:ce};const ae=this;ie=Math.floor(ie),se=Math.floor(se);const he=[],de=[],pe=[],re=[];let Ae=0;const ge=[],Se=ne/2;let fe=0;be(),le===!1&&($>0&&xe(!0),te>0&&xe(!1)),this.setIndex(he),this.setAttribute("position",new Float32BufferAttribute(de,3)),this.setAttribute("normal",new Float32BufferAttribute(pe,3)),this.setAttribute("uv",new Float32BufferAttribute(re,2));function be(){const ue=new Vector3,we=new Vector3;let Fe=0;const _e=(te-$)/ne;for(let Ee=0;Ee<=se;Ee++){const Ce=[],ye=Ee/se,Re=ye*(te-$)+$;for(let Ye=0;Ye<=ie;Ye++){const ke=Ye/ie,$e=ke*ce+oe,Be=Math.sin($e),Pe=Math.cos($e);we.x=Re*Be,we.y=-ye*ne+Se,we.z=Re*Pe,de.push(we.x,we.y,we.z),ue.set(Be,_e,Pe).normalize(),pe.push(ue.x,ue.y,ue.z),re.push(ke,1-ye),Ce.push(Ae++)}ge.push(Ce)}for(let Ee=0;Ee<ie;Ee++)for(let Ce=0;Ce<se;Ce++){const ye=ge[Ce][Ee],Re=ge[Ce+1][Ee],Ye=ge[Ce+1][Ee+1],ke=ge[Ce][Ee+1];($>0||Ce!==0)&&(he.push(ye,Re,ke),Fe+=3),(te>0||Ce!==se-1)&&(he.push(Re,Ye,ke),Fe+=3)}ae.addGroup(fe,Fe,0),fe+=Fe}function xe(ue){const we=Ae,Fe=new Vector2,_e=new Vector3;let Ee=0;const Ce=ue===!0?$:te,ye=ue===!0?1:-1;for(let Ye=1;Ye<=ie;Ye++)de.push(0,Se*ye,0),pe.push(0,ye,0),re.push(.5,.5),Ae++;const Re=Ae;for(let Ye=0;Ye<=ie;Ye++){const $e=Ye/ie*ce+oe,Be=Math.cos($e),Pe=Math.sin($e);_e.x=Ce*Pe,_e.y=Se*ye,_e.z=Ce*Be,de.push(_e.x,_e.y,_e.z),pe.push(0,ye,0),Fe.x=Be*.5+.5,Fe.y=Pe*.5*ye+.5,re.push(Fe.x,Fe.y),Ae++}for(let Ye=0;Ye<ie;Ye++){const ke=we+Ye,$e=Re+Ye;ue===!0?he.push($e,$e+1,ke):he.push($e+1,$e,ke),Ee+=3}ae.addGroup(fe,Ee,ue===!0?1:2),fe+=Ee}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new CylinderGeometry($.radiusTop,$.radiusBottom,$.height,$.radialSegments,$.heightSegments,$.openEnded,$.thetaStart,$.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor($=1,te=1,ne=32,ie=1,se=!1,le=0,oe=Math.PI*2){super(0,$,te,ne,ie,se,le,oe),this.type="ConeGeometry",this.parameters={radius:$,height:te,radialSegments:ne,heightSegments:ie,openEnded:se,thetaStart:le,thetaLength:oe}}static fromJSON($){return new ConeGeometry($.radius,$.height,$.radialSegments,$.heightSegments,$.openEnded,$.thetaStart,$.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor($=[],te=[],ne=1,ie=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:$,indices:te,radius:ne,detail:ie};const se=[],le=[];oe(ie),ae(ne),he(),this.setAttribute("position",new Float32BufferAttribute(se,3)),this.setAttribute("normal",new Float32BufferAttribute(se.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(le,2)),ie===0?this.computeVertexNormals():this.normalizeNormals();function oe(be){const xe=new Vector3,ue=new Vector3,we=new Vector3;for(let Fe=0;Fe<te.length;Fe+=3)re(te[Fe+0],xe),re(te[Fe+1],ue),re(te[Fe+2],we),ce(xe,ue,we,be)}function ce(be,xe,ue,we){const Fe=we+1,_e=[];for(let Ee=0;Ee<=Fe;Ee++){_e[Ee]=[];const Ce=be.clone().lerp(ue,Ee/Fe),ye=xe.clone().lerp(ue,Ee/Fe),Re=Fe-Ee;for(let Ye=0;Ye<=Re;Ye++)Ye===0&&Ee===Fe?_e[Ee][Ye]=Ce:_e[Ee][Ye]=Ce.clone().lerp(ye,Ye/Re)}for(let Ee=0;Ee<Fe;Ee++)for(let Ce=0;Ce<2*(Fe-Ee)-1;Ce++){const ye=Math.floor(Ce/2);Ce%2===0?(pe(_e[Ee][ye+1]),pe(_e[Ee+1][ye]),pe(_e[Ee][ye])):(pe(_e[Ee][ye+1]),pe(_e[Ee+1][ye+1]),pe(_e[Ee+1][ye]))}}function ae(be){const xe=new Vector3;for(let ue=0;ue<se.length;ue+=3)xe.x=se[ue+0],xe.y=se[ue+1],xe.z=se[ue+2],xe.normalize().multiplyScalar(be),se[ue+0]=xe.x,se[ue+1]=xe.y,se[ue+2]=xe.z}function he(){const be=new Vector3;for(let xe=0;xe<se.length;xe+=3){be.x=se[xe+0],be.y=se[xe+1],be.z=se[xe+2];const ue=Se(be)/2/Math.PI+.5,we=fe(be)/Math.PI+.5;le.push(ue,1-we)}Ae(),de()}function de(){for(let be=0;be<le.length;be+=6){const xe=le[be+0],ue=le[be+2],we=le[be+4],Fe=Math.max(xe,ue,we),_e=Math.min(xe,ue,we);Fe>.9&&_e<.1&&(xe<.2&&(le[be+0]+=1),ue<.2&&(le[be+2]+=1),we<.2&&(le[be+4]+=1))}}function pe(be){se.push(be.x,be.y,be.z)}function re(be,xe){const ue=be*3;xe.x=$[ue+0],xe.y=$[ue+1],xe.z=$[ue+2]}function Ae(){const be=new Vector3,xe=new Vector3,ue=new Vector3,we=new Vector3,Fe=new Vector2,_e=new Vector2,Ee=new Vector2;for(let Ce=0,ye=0;Ce<se.length;Ce+=9,ye+=6){be.set(se[Ce+0],se[Ce+1],se[Ce+2]),xe.set(se[Ce+3],se[Ce+4],se[Ce+5]),ue.set(se[Ce+6],se[Ce+7],se[Ce+8]),Fe.set(le[ye+0],le[ye+1]),_e.set(le[ye+2],le[ye+3]),Ee.set(le[ye+4],le[ye+5]),we.copy(be).add(xe).add(ue).divideScalar(3);const Re=Se(we);ge(Fe,ye+0,be,Re),ge(_e,ye+2,xe,Re),ge(Ee,ye+4,ue,Re)}}function ge(be,xe,ue,we){we<0&&be.x===1&&(le[xe]=be.x-1),ue.x===0&&ue.z===0&&(le[xe]=we/2/Math.PI+.5)}function Se(be){return Math.atan2(be.z,-be.x)}function fe(be){return Math.atan2(-be.y,Math.sqrt(be.x*be.x+be.z*be.z))}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new PolyhedronGeometry($.vertices,$.indices,$.radius,$.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor($=1,te=0){const ne=(1+Math.sqrt(5))/2,ie=1/ne,se=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-ie,-ne,0,-ie,ne,0,ie,-ne,0,ie,ne,-ie,-ne,0,-ie,ne,0,ie,-ne,0,ie,ne,0,-ne,0,-ie,ne,0,-ie,-ne,0,ie,ne,0,ie],le=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(se,le,$,te),this.type="DodecahedronGeometry",this.parameters={radius:$,detail:te}}static fromJSON($){return new DodecahedronGeometry($.radius,$.detail)}}const _v0$3=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor($=null,te=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:$,thresholdAngle:te},$!==null){const ie=Math.pow(10,4),se=Math.cos(DEG2RAD*te),le=$.getIndex(),oe=$.getAttribute("position"),ce=le?le.count:oe.count,ae=[0,0,0],he=["a","b","c"],de=new Array(3),pe={},re=[];for(let Ae=0;Ae<ce;Ae+=3){le?(ae[0]=le.getX(Ae),ae[1]=le.getX(Ae+1),ae[2]=le.getX(Ae+2)):(ae[0]=Ae,ae[1]=Ae+1,ae[2]=Ae+2);const{a:ge,b:Se,c:fe}=_triangle;if(ge.fromBufferAttribute(oe,ae[0]),Se.fromBufferAttribute(oe,ae[1]),fe.fromBufferAttribute(oe,ae[2]),_triangle.getNormal(_normal),de[0]=`${Math.round(ge.x*ie)},${Math.round(ge.y*ie)},${Math.round(ge.z*ie)}`,de[1]=`${Math.round(Se.x*ie)},${Math.round(Se.y*ie)},${Math.round(Se.z*ie)}`,de[2]=`${Math.round(fe.x*ie)},${Math.round(fe.y*ie)},${Math.round(fe.z*ie)}`,!(de[0]===de[1]||de[1]===de[2]||de[2]===de[0]))for(let be=0;be<3;be++){const xe=(be+1)%3,ue=de[be],we=de[xe],Fe=_triangle[he[be]],_e=_triangle[he[xe]],Ee=`${ue}_${we}`,Ce=`${we}_${ue}`;Ce in pe&&pe[Ce]?(_normal.dot(pe[Ce].normal)<=se&&(re.push(Fe.x,Fe.y,Fe.z),re.push(_e.x,_e.y,_e.z)),pe[Ce]=null):Ee in pe||(pe[Ee]={index0:ae[be],index1:ae[xe],normal:_normal.clone()})}}for(const Ae in pe)if(pe[Ae]){const{index0:ge,index1:Se}=pe[Ae];_v0$3.fromBufferAttribute(oe,ge),_v1$1.fromBufferAttribute(oe,Se),re.push(_v0$3.x,_v0$3.y,_v0$3.z),re.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(re,3))}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}}class Shape extends Path{constructor($){super($),this.uuid=generateUUID(),this.type="Shape",this.holes=[]}getPointsHoles($){const te=[];for(let ne=0,ie=this.holes.length;ne<ie;ne++)te[ne]=this.holes[ne].getPoints($);return te}extractPoints($){return{shape:this.getPoints($),holes:this.getPointsHoles($)}}copy($){super.copy($),this.holes=[];for(let te=0,ne=$.holes.length;te<ne;te++){const ie=$.holes[te];this.holes.push(ie.clone())}return this}toJSON(){const $=super.toJSON();$.uuid=this.uuid,$.holes=[];for(let te=0,ne=this.holes.length;te<ne;te++){const ie=this.holes[te];$.holes.push(ie.toJSON())}return $}fromJSON($){super.fromJSON($),this.uuid=$.uuid,this.holes=[];for(let te=0,ne=$.holes.length;te<ne;te++){const ie=$.holes[te];this.holes.push(new Path().fromJSON(ie))}return this}}class Earcut{static triangulate($,te,ne=2){const ie=te&&te.length,se=ie?te[0]*ne:$.length;let le=linkedList($,0,se,ne,!0);const oe=[];if(!le||le.next===le.prev)return oe;let ce,ae,he,de,pe,re,Ae;if(ie&&(le=eliminateHoles($,te,le,ne)),$.length>80*ne){ce=he=$[0],ae=de=$[1];for(let ge=ne;ge<se;ge+=ne)pe=$[ge],re=$[ge+1],pe<ce&&(ce=pe),re<ae&&(ae=re),pe>he&&(he=pe),re>de&&(de=re);Ae=Math.max(he-ce,de-ae),Ae=Ae!==0?32767/Ae:0}return earcutLinked(le,oe,ne,ce,ae,Ae,0),oe}}function linkedList(ee,$,te,ne,ie){let se,le;if(ie===signedArea(ee,$,te,ne)>0)for(se=$;se<te;se+=ne)le=insertNode(se,ee[se],ee[se+1],le);else for(se=te-ne;se>=$;se-=ne)le=insertNode(se,ee[se],ee[se+1],le);return le&&equals(le,le.next)&&(removeNode(le),le=le.next),le}function filterPoints(ee,$){if(!ee)return ee;$||($=ee);let te=ee,ne;do if(ne=!1,!te.steiner&&(equals(te,te.next)||area(te.prev,te,te.next)===0)){if(removeNode(te),te=$=te.prev,te===te.next)break;ne=!0}else te=te.next;while(ne||te!==$);return $}function earcutLinked(ee,$,te,ne,ie,se,le){if(!ee)return;!le&&se&&indexCurve(ee,ne,ie,se);let oe=ee,ce,ae;for(;ee.prev!==ee.next;){if(ce=ee.prev,ae=ee.next,se?isEarHashed(ee,ne,ie,se):isEar(ee)){$.push(ce.i/te|0),$.push(ee.i/te|0),$.push(ae.i/te|0),removeNode(ee),ee=ae.next,oe=ae.next;continue}if(ee=ae,ee===oe){le?le===1?(ee=cureLocalIntersections(filterPoints(ee),$,te),earcutLinked(ee,$,te,ne,ie,se,2)):le===2&&splitEarcut(ee,$,te,ne,ie,se):earcutLinked(filterPoints(ee),$,te,ne,ie,se,1);break}}}function isEar(ee){const $=ee.prev,te=ee,ne=ee.next;if(area($,te,ne)>=0)return!1;const ie=$.x,se=te.x,le=ne.x,oe=$.y,ce=te.y,ae=ne.y,he=ie<se?ie<le?ie:le:se<le?se:le,de=oe<ce?oe<ae?oe:ae:ce<ae?ce:ae,pe=ie>se?ie>le?ie:le:se>le?se:le,re=oe>ce?oe>ae?oe:ae:ce>ae?ce:ae;let Ae=ne.next;for(;Ae!==$;){if(Ae.x>=he&&Ae.x<=pe&&Ae.y>=de&&Ae.y<=re&&pointInTriangle(ie,oe,se,ce,le,ae,Ae.x,Ae.y)&&area(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.next}return!0}function isEarHashed(ee,$,te,ne){const ie=ee.prev,se=ee,le=ee.next;if(area(ie,se,le)>=0)return!1;const oe=ie.x,ce=se.x,ae=le.x,he=ie.y,de=se.y,pe=le.y,re=oe<ce?oe<ae?oe:ae:ce<ae?ce:ae,Ae=he<de?he<pe?he:pe:de<pe?de:pe,ge=oe>ce?oe>ae?oe:ae:ce>ae?ce:ae,Se=he>de?he>pe?he:pe:de>pe?de:pe,fe=zOrder(re,Ae,$,te,ne),be=zOrder(ge,Se,$,te,ne);let xe=ee.prevZ,ue=ee.nextZ;for(;xe&&xe.z>=fe&&ue&&ue.z<=be;){if(xe.x>=re&&xe.x<=ge&&xe.y>=Ae&&xe.y<=Se&&xe!==ie&&xe!==le&&pointInTriangle(oe,he,ce,de,ae,pe,xe.x,xe.y)&&area(xe.prev,xe,xe.next)>=0||(xe=xe.prevZ,ue.x>=re&&ue.x<=ge&&ue.y>=Ae&&ue.y<=Se&&ue!==ie&&ue!==le&&pointInTriangle(oe,he,ce,de,ae,pe,ue.x,ue.y)&&area(ue.prev,ue,ue.next)>=0))return!1;ue=ue.nextZ}for(;xe&&xe.z>=fe;){if(xe.x>=re&&xe.x<=ge&&xe.y>=Ae&&xe.y<=Se&&xe!==ie&&xe!==le&&pointInTriangle(oe,he,ce,de,ae,pe,xe.x,xe.y)&&area(xe.prev,xe,xe.next)>=0)return!1;xe=xe.prevZ}for(;ue&&ue.z<=be;){if(ue.x>=re&&ue.x<=ge&&ue.y>=Ae&&ue.y<=Se&&ue!==ie&&ue!==le&&pointInTriangle(oe,he,ce,de,ae,pe,ue.x,ue.y)&&area(ue.prev,ue,ue.next)>=0)return!1;ue=ue.nextZ}return!0}function cureLocalIntersections(ee,$,te){let ne=ee;do{const ie=ne.prev,se=ne.next.next;!equals(ie,se)&&intersects(ie,ne,ne.next,se)&&locallyInside(ie,se)&&locallyInside(se,ie)&&($.push(ie.i/te|0),$.push(ne.i/te|0),$.push(se.i/te|0),removeNode(ne),removeNode(ne.next),ne=ee=se),ne=ne.next}while(ne!==ee);return filterPoints(ne)}function splitEarcut(ee,$,te,ne,ie,se){let le=ee;do{let oe=le.next.next;for(;oe!==le.prev;){if(le.i!==oe.i&&isValidDiagonal(le,oe)){let ce=splitPolygon(le,oe);le=filterPoints(le,le.next),ce=filterPoints(ce,ce.next),earcutLinked(le,$,te,ne,ie,se,0),earcutLinked(ce,$,te,ne,ie,se,0);return}oe=oe.next}le=le.next}while(le!==ee)}function eliminateHoles(ee,$,te,ne){const ie=[];let se,le,oe,ce,ae;for(se=0,le=$.length;se<le;se++)oe=$[se]*ne,ce=se<le-1?$[se+1]*ne:ee.length,ae=linkedList(ee,oe,ce,ne,!1),ae===ae.next&&(ae.steiner=!0),ie.push(getLeftmost(ae));for(ie.sort(compareX),se=0;se<ie.length;se++)te=eliminateHole(ie[se],te);return te}function compareX(ee,$){return ee.x-$.x}function eliminateHole(ee,$){const te=findHoleBridge(ee,$);if(!te)return $;const ne=splitPolygon(te,ee);return filterPoints(ne,ne.next),filterPoints(te,te.next)}function findHoleBridge(ee,$){let te=$,ne=-1/0,ie;const se=ee.x,le=ee.y;do{if(le<=te.y&&le>=te.next.y&&te.next.y!==te.y){const pe=te.x+(le-te.y)*(te.next.x-te.x)/(te.next.y-te.y);if(pe<=se&&pe>ne&&(ne=pe,ie=te.x<te.next.x?te:te.next,pe===se))return ie}te=te.next}while(te!==$);if(!ie)return null;const oe=ie,ce=ie.x,ae=ie.y;let he=1/0,de;te=ie;do se>=te.x&&te.x>=ce&&se!==te.x&&pointInTriangle(le<ae?se:ne,le,ce,ae,le<ae?ne:se,le,te.x,te.y)&&(de=Math.abs(le-te.y)/(se-te.x),locallyInside(te,ee)&&(de<he||de===he&&(te.x>ie.x||te.x===ie.x&&sectorContainsSector(ie,te)))&&(ie=te,he=de)),te=te.next;while(te!==oe);return ie}function sectorContainsSector(ee,$){return area(ee.prev,ee,$.prev)<0&&area($.next,ee,ee.next)<0}function indexCurve(ee,$,te,ne){let ie=ee;do ie.z===0&&(ie.z=zOrder(ie.x,ie.y,$,te,ne)),ie.prevZ=ie.prev,ie.nextZ=ie.next,ie=ie.next;while(ie!==ee);ie.prevZ.nextZ=null,ie.prevZ=null,sortLinked(ie)}function sortLinked(ee){let $,te,ne,ie,se,le,oe,ce,ae=1;do{for(te=ee,ee=null,se=null,le=0;te;){for(le++,ne=te,oe=0,$=0;$<ae&&(oe++,ne=ne.nextZ,!!ne);$++);for(ce=ae;oe>0||ce>0&&ne;)oe!==0&&(ce===0||!ne||te.z<=ne.z)?(ie=te,te=te.nextZ,oe--):(ie=ne,ne=ne.nextZ,ce--),se?se.nextZ=ie:ee=ie,ie.prevZ=se,se=ie;te=ne}se.nextZ=null,ae*=2}while(le>1);return ee}function zOrder(ee,$,te,ne,ie){return ee=(ee-te)*ie|0,$=($-ne)*ie|0,ee=(ee|ee<<8)&16711935,ee=(ee|ee<<4)&252645135,ee=(ee|ee<<2)&858993459,ee=(ee|ee<<1)&1431655765,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,ee|$<<1}function getLeftmost(ee){let $=ee,te=ee;do($.x<te.x||$.x===te.x&&$.y<te.y)&&(te=$),$=$.next;while($!==ee);return te}function pointInTriangle(ee,$,te,ne,ie,se,le,oe){return(ie-le)*($-oe)>=(ee-le)*(se-oe)&&(ee-le)*(ne-oe)>=(te-le)*($-oe)&&(te-le)*(se-oe)>=(ie-le)*(ne-oe)}function isValidDiagonal(ee,$){return ee.next.i!==$.i&&ee.prev.i!==$.i&&!intersectsPolygon(ee,$)&&(locallyInside(ee,$)&&locallyInside($,ee)&&middleInside(ee,$)&&(area(ee.prev,ee,$.prev)||area(ee,$.prev,$))||equals(ee,$)&&area(ee.prev,ee,ee.next)>0&&area($.prev,$,$.next)>0)}function area(ee,$,te){return($.y-ee.y)*(te.x-$.x)-($.x-ee.x)*(te.y-$.y)}function equals(ee,$){return ee.x===$.x&&ee.y===$.y}function intersects(ee,$,te,ne){const ie=sign(area(ee,$,te)),se=sign(area(ee,$,ne)),le=sign(area(te,ne,ee)),oe=sign(area(te,ne,$));return!!(ie!==se&&le!==oe||ie===0&&onSegment(ee,te,$)||se===0&&onSegment(ee,ne,$)||le===0&&onSegment(te,ee,ne)||oe===0&&onSegment(te,$,ne))}function onSegment(ee,$,te){return $.x<=Math.max(ee.x,te.x)&&$.x>=Math.min(ee.x,te.x)&&$.y<=Math.max(ee.y,te.y)&&$.y>=Math.min(ee.y,te.y)}function sign(ee){return ee>0?1:ee<0?-1:0}function intersectsPolygon(ee,$){let te=ee;do{if(te.i!==ee.i&&te.next.i!==ee.i&&te.i!==$.i&&te.next.i!==$.i&&intersects(te,te.next,ee,$))return!0;te=te.next}while(te!==ee);return!1}function locallyInside(ee,$){return area(ee.prev,ee,ee.next)<0?area(ee,$,ee.next)>=0&&area(ee,ee.prev,$)>=0:area(ee,$,ee.prev)<0||area(ee,ee.next,$)<0}function middleInside(ee,$){let te=ee,ne=!1;const ie=(ee.x+$.x)/2,se=(ee.y+$.y)/2;do te.y>se!=te.next.y>se&&te.next.y!==te.y&&ie<(te.next.x-te.x)*(se-te.y)/(te.next.y-te.y)+te.x&&(ne=!ne),te=te.next;while(te!==ee);return ne}function splitPolygon(ee,$){const te=new Node(ee.i,ee.x,ee.y),ne=new Node($.i,$.x,$.y),ie=ee.next,se=$.prev;return ee.next=$,$.prev=ee,te.next=ie,ie.prev=te,ne.next=te,te.prev=ne,se.next=ne,ne.prev=se,ne}function insertNode(ee,$,te,ne){const ie=new Node(ee,$,te);return ne?(ie.next=ne.next,ie.prev=ne,ne.next.prev=ie,ne.next=ie):(ie.prev=ie,ie.next=ie),ie}function removeNode(ee){ee.next.prev=ee.prev,ee.prev.next=ee.next,ee.prevZ&&(ee.prevZ.nextZ=ee.nextZ),ee.nextZ&&(ee.nextZ.prevZ=ee.prevZ)}function Node(ee,$,te){this.i=ee,this.x=$,this.y=te,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(ee,$,te,ne){let ie=0;for(let se=$,le=te-ne;se<te;se+=ne)ie+=(ee[le]-ee[se])*(ee[se+1]+ee[le+1]),le=se;return ie}class ShapeUtils{static area($){const te=$.length;let ne=0;for(let ie=te-1,se=0;se<te;ie=se++)ne+=$[ie].x*$[se].y-$[se].x*$[ie].y;return ne*.5}static isClockWise($){return ShapeUtils.area($)<0}static triangulateShape($,te){const ne=[],ie=[],se=[];removeDupEndPts($),addContour(ne,$);let le=$.length;te.forEach(removeDupEndPts);for(let ce=0;ce<te.length;ce++)ie.push(le),le+=te[ce].length,addContour(ne,te[ce]);const oe=Earcut.triangulate(ne,ie);for(let ce=0;ce<oe.length;ce+=3)se.push(oe.slice(ce,ce+3));return se}}function removeDupEndPts(ee){const $=ee.length;$>2&&ee[$-1].equals(ee[0])&&ee.pop()}function addContour(ee,$){for(let te=0;te<$.length;te++)ee.push($[te].x),ee.push($[te].y)}class ExtrudeGeometry extends BufferGeometry{constructor($=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),te={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:$,options:te},$=Array.isArray($)?$:[$];const ne=this,ie=[],se=[];for(let oe=0,ce=$.length;oe<ce;oe++){const ae=$[oe];le(ae)}this.setAttribute("position",new Float32BufferAttribute(ie,3)),this.setAttribute("uv",new Float32BufferAttribute(se,2)),this.computeVertexNormals();function le(oe){const ce=[],ae=te.curveSegments!==void 0?te.curveSegments:12,he=te.steps!==void 0?te.steps:1,de=te.depth!==void 0?te.depth:1;let pe=te.bevelEnabled!==void 0?te.bevelEnabled:!0,re=te.bevelThickness!==void 0?te.bevelThickness:.2,Ae=te.bevelSize!==void 0?te.bevelSize:re-.1,ge=te.bevelOffset!==void 0?te.bevelOffset:0,Se=te.bevelSegments!==void 0?te.bevelSegments:3;const fe=te.extrudePath,be=te.UVGenerator!==void 0?te.UVGenerator:WorldUVGenerator;let xe,ue=!1,we,Fe,_e,Ee;fe&&(xe=fe.getSpacedPoints(he),ue=!0,pe=!1,we=fe.computeFrenetFrames(he,!1),Fe=new Vector3,_e=new Vector3,Ee=new Vector3),pe||(Se=0,re=0,Ae=0,ge=0);const Ce=oe.extractPoints(ae);let ye=Ce.shape;const Re=Ce.holes;if(!ShapeUtils.isClockWise(ye)){ye=ye.reverse();for(let Ge=0,Ke=Re.length;Ge<Ke;Ge++){const je=Re[Ge];ShapeUtils.isClockWise(je)&&(Re[Ge]=je.reverse())}}const ke=ShapeUtils.triangulateShape(ye,Re),$e=ye;for(let Ge=0,Ke=Re.length;Ge<Ke;Ge++){const je=Re[Ge];ye=ye.concat(je)}function Be(Ge,Ke,je){return Ke||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ge.clone().addScaledVector(Ke,je)}const Pe=ye.length,Ue=ke.length;function Te(Ge,Ke,je){let nt,Qe,We;const rt=Ge.x-Ke.x,et=Ge.y-Ke.y,ct=je.x-Ge.x,at=je.y-Ge.y,Je=rt*rt+et*et,lt=rt*at-et*ct;if(Math.abs(lt)>Number.EPSILON){const ut=Math.sqrt(Je),ft=Math.sqrt(ct*ct+at*at),pt=Ke.x-et/ut,mt=Ke.y+rt/ut,xt=je.x-at/ft,vt=je.y+ct/ft,wt=((xt-pt)*at-(vt-mt)*ct)/(rt*at-et*ct);nt=pt+rt*wt-Ge.x,Qe=mt+et*wt-Ge.y;const _t=nt*nt+Qe*Qe;if(_t<=2)return new Vector2(nt,Qe);We=Math.sqrt(_t/2)}else{let ut=!1;rt>Number.EPSILON?ct>Number.EPSILON&&(ut=!0):rt<-Number.EPSILON?ct<-Number.EPSILON&&(ut=!0):Math.sign(et)===Math.sign(at)&&(ut=!0),ut?(nt=-et,Qe=rt,We=Math.sqrt(Je)):(nt=rt,Qe=et,We=Math.sqrt(Je/2))}return new Vector2(nt/We,Qe/We)}const Me=[];for(let Ge=0,Ke=$e.length,je=Ke-1,nt=Ge+1;Ge<Ke;Ge++,je++,nt++)je===Ke&&(je=0),nt===Ke&&(nt=0),Me[Ge]=Te($e[Ge],$e[je],$e[nt]);const Ve=[];let He,Ie=Me.concat();for(let Ge=0,Ke=Re.length;Ge<Ke;Ge++){const je=Re[Ge];He=[];for(let nt=0,Qe=je.length,We=Qe-1,rt=nt+1;nt<Qe;nt++,We++,rt++)We===Qe&&(We=0),rt===Qe&&(rt=0),He[nt]=Te(je[nt],je[We],je[rt]);Ve.push(He),Ie=Ie.concat(He)}for(let Ge=0;Ge<Se;Ge++){const Ke=Ge/Se,je=re*Math.cos(Ke*Math.PI/2),nt=Ae*Math.sin(Ke*Math.PI/2)+ge;for(let Qe=0,We=$e.length;Qe<We;Qe++){const rt=Be($e[Qe],Me[Qe],nt);it(rt.x,rt.y,-je)}for(let Qe=0,We=Re.length;Qe<We;Qe++){const rt=Re[Qe];He=Ve[Qe];for(let et=0,ct=rt.length;et<ct;et++){const at=Be(rt[et],He[et],nt);it(at.x,at.y,-je)}}}const Le=Ae+ge;for(let Ge=0;Ge<Pe;Ge++){const Ke=pe?Be(ye[Ge],Ie[Ge],Le):ye[Ge];ue?(_e.copy(we.normals[0]).multiplyScalar(Ke.x),Fe.copy(we.binormals[0]).multiplyScalar(Ke.y),Ee.copy(xe[0]).add(_e).add(Fe),it(Ee.x,Ee.y,Ee.z)):it(Ke.x,Ke.y,0)}for(let Ge=1;Ge<=he;Ge++)for(let Ke=0;Ke<Pe;Ke++){const je=pe?Be(ye[Ke],Ie[Ke],Le):ye[Ke];ue?(_e.copy(we.normals[Ge]).multiplyScalar(je.x),Fe.copy(we.binormals[Ge]).multiplyScalar(je.y),Ee.copy(xe[Ge]).add(_e).add(Fe),it(Ee.x,Ee.y,Ee.z)):it(je.x,je.y,de/he*Ge)}for(let Ge=Se-1;Ge>=0;Ge--){const Ke=Ge/Se,je=re*Math.cos(Ke*Math.PI/2),nt=Ae*Math.sin(Ke*Math.PI/2)+ge;for(let Qe=0,We=$e.length;Qe<We;Qe++){const rt=Be($e[Qe],Me[Qe],nt);it(rt.x,rt.y,de+je)}for(let Qe=0,We=Re.length;Qe<We;Qe++){const rt=Re[Qe];He=Ve[Qe];for(let et=0,ct=rt.length;et<ct;et++){const at=Be(rt[et],He[et],nt);ue?it(at.x,at.y+xe[he-1].y,xe[he-1].x+je):it(at.x,at.y,de+je)}}}Oe(),Ne();function Oe(){const Ge=ie.length/3;if(pe){let Ke=0,je=Pe*Ke;for(let nt=0;nt<Ue;nt++){const Qe=ke[nt];tt(Qe[2]+je,Qe[1]+je,Qe[0]+je)}Ke=he+Se*2,je=Pe*Ke;for(let nt=0;nt<Ue;nt++){const Qe=ke[nt];tt(Qe[0]+je,Qe[1]+je,Qe[2]+je)}}else{for(let Ke=0;Ke<Ue;Ke++){const je=ke[Ke];tt(je[2],je[1],je[0])}for(let Ke=0;Ke<Ue;Ke++){const je=ke[Ke];tt(je[0]+Pe*he,je[1]+Pe*he,je[2]+Pe*he)}}ne.addGroup(Ge,ie.length/3-Ge,0)}function Ne(){const Ge=ie.length/3;let Ke=0;qe($e,Ke),Ke+=$e.length;for(let je=0,nt=Re.length;je<nt;je++){const Qe=Re[je];qe(Qe,Ke),Ke+=Qe.length}ne.addGroup(Ge,ie.length/3-Ge,1)}function qe(Ge,Ke){let je=Ge.length;for(;--je>=0;){const nt=je;let Qe=je-1;Qe<0&&(Qe=Ge.length-1);for(let We=0,rt=he+Se*2;We<rt;We++){const et=Pe*We,ct=Pe*(We+1),at=Ke+nt+et,Je=Ke+Qe+et,lt=Ke+Qe+ct,ut=Ke+nt+ct;Xe(at,Je,lt,ut)}}}function it(Ge,Ke,je){ce.push(Ge),ce.push(Ke),ce.push(je)}function tt(Ge,Ke,je){Ze(Ge),Ze(Ke),Ze(je);const nt=ie.length/3,Qe=be.generateTopUV(ne,ie,nt-3,nt-2,nt-1);ot(Qe[0]),ot(Qe[1]),ot(Qe[2])}function Xe(Ge,Ke,je,nt){Ze(Ge),Ze(Ke),Ze(nt),Ze(Ke),Ze(je),Ze(nt);const Qe=ie.length/3,We=be.generateSideWallUV(ne,ie,Qe-6,Qe-3,Qe-2,Qe-1);ot(We[0]),ot(We[1]),ot(We[3]),ot(We[1]),ot(We[2]),ot(We[3])}function Ze(Ge){ie.push(ce[Ge*3+0]),ie.push(ce[Ge*3+1]),ie.push(ce[Ge*3+2])}function ot(Ge){se.push(Ge.x),se.push(Ge.y)}}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}toJSON(){const $=super.toJSON(),te=this.parameters.shapes,ne=this.parameters.options;return toJSON$1(te,ne,$)}static fromJSON($,te){const ne=[];for(let se=0,le=$.shapes.length;se<le;se++){const oe=te[$.shapes[se]];ne.push(oe)}const ie=$.options.extrudePath;return ie!==void 0&&($.options.extrudePath=new Curves[ie.type]().fromJSON(ie)),new ExtrudeGeometry(ne,$.options)}}const WorldUVGenerator={generateTopUV:function(ee,$,te,ne,ie){const se=$[te*3],le=$[te*3+1],oe=$[ne*3],ce=$[ne*3+1],ae=$[ie*3],he=$[ie*3+1];return[new Vector2(se,le),new Vector2(oe,ce),new Vector2(ae,he)]},generateSideWallUV:function(ee,$,te,ne,ie,se){const le=$[te*3],oe=$[te*3+1],ce=$[te*3+2],ae=$[ne*3],he=$[ne*3+1],de=$[ne*3+2],pe=$[ie*3],re=$[ie*3+1],Ae=$[ie*3+2],ge=$[se*3],Se=$[se*3+1],fe=$[se*3+2];return Math.abs(oe-he)<Math.abs(le-ae)?[new Vector2(le,1-ce),new Vector2(ae,1-de),new Vector2(pe,1-Ae),new Vector2(ge,1-fe)]:[new Vector2(oe,1-ce),new Vector2(he,1-de),new Vector2(re,1-Ae),new Vector2(Se,1-fe)]}};function toJSON$1(ee,$,te){if(te.shapes=[],Array.isArray(ee))for(let ne=0,ie=ee.length;ne<ie;ne++){const se=ee[ne];te.shapes.push(se.uuid)}else te.shapes.push(ee.uuid);return te.options=Object.assign({},$),$.extrudePath!==void 0&&(te.options.extrudePath=$.extrudePath.toJSON()),te}class IcosahedronGeometry extends PolyhedronGeometry{constructor($=1,te=0){const ne=(1+Math.sqrt(5))/2,ie=[-1,ne,0,1,ne,0,-1,-ne,0,1,-ne,0,0,-1,ne,0,1,ne,0,-1,-ne,0,1,-ne,ne,0,-1,ne,0,1,-ne,0,-1,-ne,0,1],se=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(ie,se,$,te),this.type="IcosahedronGeometry",this.parameters={radius:$,detail:te}}static fromJSON($){return new IcosahedronGeometry($.radius,$.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor($=1,te=0){const ne=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],ie=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(ne,ie,$,te),this.type="OctahedronGeometry",this.parameters={radius:$,detail:te}}static fromJSON($){return new OctahedronGeometry($.radius,$.detail)}}class PlaneGeometry extends BufferGeometry{constructor($=1,te=1,ne=1,ie=1){super(),this.type="PlaneGeometry",this.parameters={width:$,height:te,widthSegments:ne,heightSegments:ie};const se=$/2,le=te/2,oe=Math.floor(ne),ce=Math.floor(ie),ae=oe+1,he=ce+1,de=$/oe,pe=te/ce,re=[],Ae=[],ge=[],Se=[];for(let fe=0;fe<he;fe++){const be=fe*pe-le;for(let xe=0;xe<ae;xe++){const ue=xe*de-se;Ae.push(ue,-be,0),ge.push(0,0,1),Se.push(xe/oe),Se.push(1-fe/ce)}}for(let fe=0;fe<ce;fe++)for(let be=0;be<oe;be++){const xe=be+ae*fe,ue=be+ae*(fe+1),we=be+1+ae*(fe+1),Fe=be+1+ae*fe;re.push(xe,ue,Fe),re.push(ue,we,Fe)}this.setIndex(re),this.setAttribute("position",new Float32BufferAttribute(Ae,3)),this.setAttribute("normal",new Float32BufferAttribute(ge,3)),this.setAttribute("uv",new Float32BufferAttribute(Se,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new PlaneGeometry($.width,$.height,$.widthSegments,$.heightSegments)}}class RingGeometry extends BufferGeometry{constructor($=.5,te=1,ne=32,ie=1,se=0,le=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:$,outerRadius:te,thetaSegments:ne,phiSegments:ie,thetaStart:se,thetaLength:le},ne=Math.max(3,ne),ie=Math.max(1,ie);const oe=[],ce=[],ae=[],he=[];let de=$;const pe=(te-$)/ie,re=new Vector3,Ae=new Vector2;for(let ge=0;ge<=ie;ge++){for(let Se=0;Se<=ne;Se++){const fe=se+Se/ne*le;re.x=de*Math.cos(fe),re.y=de*Math.sin(fe),ce.push(re.x,re.y,re.z),ae.push(0,0,1),Ae.x=(re.x/te+1)/2,Ae.y=(re.y/te+1)/2,he.push(Ae.x,Ae.y)}de+=pe}for(let ge=0;ge<ie;ge++){const Se=ge*(ne+1);for(let fe=0;fe<ne;fe++){const be=fe+Se,xe=be,ue=be+ne+1,we=be+ne+2,Fe=be+1;oe.push(xe,ue,Fe),oe.push(ue,we,Fe)}}this.setIndex(oe),this.setAttribute("position",new Float32BufferAttribute(ce,3)),this.setAttribute("normal",new Float32BufferAttribute(ae,3)),this.setAttribute("uv",new Float32BufferAttribute(he,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new RingGeometry($.innerRadius,$.outerRadius,$.thetaSegments,$.phiSegments,$.thetaStart,$.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor($=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),te=12){super(),this.type="ShapeGeometry",this.parameters={shapes:$,curveSegments:te};const ne=[],ie=[],se=[],le=[];let oe=0,ce=0;if(Array.isArray($)===!1)ae($);else for(let he=0;he<$.length;he++)ae($[he]),this.addGroup(oe,ce,he),oe+=ce,ce=0;this.setIndex(ne),this.setAttribute("position",new Float32BufferAttribute(ie,3)),this.setAttribute("normal",new Float32BufferAttribute(se,3)),this.setAttribute("uv",new Float32BufferAttribute(le,2));function ae(he){const de=ie.length/3,pe=he.extractPoints(te);let re=pe.shape;const Ae=pe.holes;ShapeUtils.isClockWise(re)===!1&&(re=re.reverse());for(let Se=0,fe=Ae.length;Se<fe;Se++){const be=Ae[Se];ShapeUtils.isClockWise(be)===!0&&(Ae[Se]=be.reverse())}const ge=ShapeUtils.triangulateShape(re,Ae);for(let Se=0,fe=Ae.length;Se<fe;Se++){const be=Ae[Se];re=re.concat(be)}for(let Se=0,fe=re.length;Se<fe;Se++){const be=re[Se];ie.push(be.x,be.y,0),se.push(0,0,1),le.push(be.x,be.y)}for(let Se=0,fe=ge.length;Se<fe;Se++){const be=ge[Se],xe=be[0]+de,ue=be[1]+de,we=be[2]+de;ne.push(xe,ue,we),ce+=3}}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}toJSON(){const $=super.toJSON(),te=this.parameters.shapes;return toJSON(te,$)}static fromJSON($,te){const ne=[];for(let ie=0,se=$.shapes.length;ie<se;ie++){const le=te[$.shapes[ie]];ne.push(le)}return new ShapeGeometry(ne,$.curveSegments)}}function toJSON(ee,$){if($.shapes=[],Array.isArray(ee))for(let te=0,ne=ee.length;te<ne;te++){const ie=ee[te];$.shapes.push(ie.uuid)}else $.shapes.push(ee.uuid);return $}class SphereGeometry extends BufferGeometry{constructor($=1,te=32,ne=16,ie=0,se=Math.PI*2,le=0,oe=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:$,widthSegments:te,heightSegments:ne,phiStart:ie,phiLength:se,thetaStart:le,thetaLength:oe},te=Math.max(3,Math.floor(te)),ne=Math.max(2,Math.floor(ne));const ce=Math.min(le+oe,Math.PI);let ae=0;const he=[],de=new Vector3,pe=new Vector3,re=[],Ae=[],ge=[],Se=[];for(let fe=0;fe<=ne;fe++){const be=[],xe=fe/ne;let ue=0;fe===0&&le===0?ue=.5/te:fe===ne&&ce===Math.PI&&(ue=-.5/te);for(let we=0;we<=te;we++){const Fe=we/te;de.x=-$*Math.cos(ie+Fe*se)*Math.sin(le+xe*oe),de.y=$*Math.cos(le+xe*oe),de.z=$*Math.sin(ie+Fe*se)*Math.sin(le+xe*oe),Ae.push(de.x,de.y,de.z),pe.copy(de).normalize(),ge.push(pe.x,pe.y,pe.z),Se.push(Fe+ue,1-xe),be.push(ae++)}he.push(be)}for(let fe=0;fe<ne;fe++)for(let be=0;be<te;be++){const xe=he[fe][be+1],ue=he[fe][be],we=he[fe+1][be],Fe=he[fe+1][be+1];(fe!==0||le>0)&&re.push(xe,ue,Fe),(fe!==ne-1||ce<Math.PI)&&re.push(ue,we,Fe)}this.setIndex(re),this.setAttribute("position",new Float32BufferAttribute(Ae,3)),this.setAttribute("normal",new Float32BufferAttribute(ge,3)),this.setAttribute("uv",new Float32BufferAttribute(Se,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new SphereGeometry($.radius,$.widthSegments,$.heightSegments,$.phiStart,$.phiLength,$.thetaStart,$.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor($=1,te=0){const ne=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],ie=[2,1,0,0,3,2,1,3,0,2,3,1];super(ne,ie,$,te),this.type="TetrahedronGeometry",this.parameters={radius:$,detail:te}}static fromJSON($){return new TetrahedronGeometry($.radius,$.detail)}}class TorusGeometry extends BufferGeometry{constructor($=1,te=.4,ne=12,ie=48,se=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:$,tube:te,radialSegments:ne,tubularSegments:ie,arc:se},ne=Math.floor(ne),ie=Math.floor(ie);const le=[],oe=[],ce=[],ae=[],he=new Vector3,de=new Vector3,pe=new Vector3;for(let re=0;re<=ne;re++)for(let Ae=0;Ae<=ie;Ae++){const ge=Ae/ie*se,Se=re/ne*Math.PI*2;de.x=($+te*Math.cos(Se))*Math.cos(ge),de.y=($+te*Math.cos(Se))*Math.sin(ge),de.z=te*Math.sin(Se),oe.push(de.x,de.y,de.z),he.x=$*Math.cos(ge),he.y=$*Math.sin(ge),pe.subVectors(de,he).normalize(),ce.push(pe.x,pe.y,pe.z),ae.push(Ae/ie),ae.push(re/ne)}for(let re=1;re<=ne;re++)for(let Ae=1;Ae<=ie;Ae++){const ge=(ie+1)*re+Ae-1,Se=(ie+1)*(re-1)+Ae-1,fe=(ie+1)*(re-1)+Ae,be=(ie+1)*re+Ae;le.push(ge,Se,be),le.push(Se,fe,be)}this.setIndex(le),this.setAttribute("position",new Float32BufferAttribute(oe,3)),this.setAttribute("normal",new Float32BufferAttribute(ce,3)),this.setAttribute("uv",new Float32BufferAttribute(ae,2))}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new TorusGeometry($.radius,$.tube,$.radialSegments,$.tubularSegments,$.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor($=1,te=.4,ne=64,ie=8,se=2,le=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:$,tube:te,tubularSegments:ne,radialSegments:ie,p:se,q:le},ne=Math.floor(ne),ie=Math.floor(ie);const oe=[],ce=[],ae=[],he=[],de=new Vector3,pe=new Vector3,re=new Vector3,Ae=new Vector3,ge=new Vector3,Se=new Vector3,fe=new Vector3;for(let xe=0;xe<=ne;++xe){const ue=xe/ne*se*Math.PI*2;be(ue,se,le,$,re),be(ue+.01,se,le,$,Ae),Se.subVectors(Ae,re),fe.addVectors(Ae,re),ge.crossVectors(Se,fe),fe.crossVectors(ge,Se),ge.normalize(),fe.normalize();for(let we=0;we<=ie;++we){const Fe=we/ie*Math.PI*2,_e=-te*Math.cos(Fe),Ee=te*Math.sin(Fe);de.x=re.x+(_e*fe.x+Ee*ge.x),de.y=re.y+(_e*fe.y+Ee*ge.y),de.z=re.z+(_e*fe.z+Ee*ge.z),ce.push(de.x,de.y,de.z),pe.subVectors(de,re).normalize(),ae.push(pe.x,pe.y,pe.z),he.push(xe/ne),he.push(we/ie)}}for(let xe=1;xe<=ne;xe++)for(let ue=1;ue<=ie;ue++){const we=(ie+1)*(xe-1)+(ue-1),Fe=(ie+1)*xe+(ue-1),_e=(ie+1)*xe+ue,Ee=(ie+1)*(xe-1)+ue;oe.push(we,Fe,Ee),oe.push(Fe,_e,Ee)}this.setIndex(oe),this.setAttribute("position",new Float32BufferAttribute(ce,3)),this.setAttribute("normal",new Float32BufferAttribute(ae,3)),this.setAttribute("uv",new Float32BufferAttribute(he,2));function be(xe,ue,we,Fe,_e){const Ee=Math.cos(xe),Ce=Math.sin(xe),ye=we/ue*xe,Re=Math.cos(ye);_e.x=Fe*(2+Re)*.5*Ee,_e.y=Fe*(2+Re)*Ce*.5,_e.z=Fe*Math.sin(ye)*.5}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}static fromJSON($){return new TorusKnotGeometry($.radius,$.tube,$.tubularSegments,$.radialSegments,$.p,$.q)}}class TubeGeometry extends BufferGeometry{constructor($=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),te=64,ne=1,ie=8,se=!1){super(),this.type="TubeGeometry",this.parameters={path:$,tubularSegments:te,radius:ne,radialSegments:ie,closed:se};const le=$.computeFrenetFrames(te,se);this.tangents=le.tangents,this.normals=le.normals,this.binormals=le.binormals;const oe=new Vector3,ce=new Vector3,ae=new Vector2;let he=new Vector3;const de=[],pe=[],re=[],Ae=[];ge(),this.setIndex(Ae),this.setAttribute("position",new Float32BufferAttribute(de,3)),this.setAttribute("normal",new Float32BufferAttribute(pe,3)),this.setAttribute("uv",new Float32BufferAttribute(re,2));function ge(){for(let xe=0;xe<te;xe++)Se(xe);Se(se===!1?te:0),be(),fe()}function Se(xe){he=$.getPointAt(xe/te,he);const ue=le.normals[xe],we=le.binormals[xe];for(let Fe=0;Fe<=ie;Fe++){const _e=Fe/ie*Math.PI*2,Ee=Math.sin(_e),Ce=-Math.cos(_e);ce.x=Ce*ue.x+Ee*we.x,ce.y=Ce*ue.y+Ee*we.y,ce.z=Ce*ue.z+Ee*we.z,ce.normalize(),pe.push(ce.x,ce.y,ce.z),oe.x=he.x+ne*ce.x,oe.y=he.y+ne*ce.y,oe.z=he.z+ne*ce.z,de.push(oe.x,oe.y,oe.z)}}function fe(){for(let xe=1;xe<=te;xe++)for(let ue=1;ue<=ie;ue++){const we=(ie+1)*(xe-1)+(ue-1),Fe=(ie+1)*xe+(ue-1),_e=(ie+1)*xe+ue,Ee=(ie+1)*(xe-1)+ue;Ae.push(we,Fe,Ee),Ae.push(Fe,_e,Ee)}}function be(){for(let xe=0;xe<=te;xe++)for(let ue=0;ue<=ie;ue++)ae.x=xe/te,ae.y=ue/ie,re.push(ae.x,ae.y)}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}toJSON(){const $=super.toJSON();return $.path=this.parameters.path.toJSON(),$}static fromJSON($){return new TubeGeometry(new Curves[$.path.type]().fromJSON($.path),$.tubularSegments,$.radius,$.radialSegments,$.closed)}}class WireframeGeometry extends BufferGeometry{constructor($=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:$},$!==null){const te=[],ne=new Set,ie=new Vector3,se=new Vector3;if($.index!==null){const le=$.attributes.position,oe=$.index;let ce=$.groups;ce.length===0&&(ce=[{start:0,count:oe.count,materialIndex:0}]);for(let ae=0,he=ce.length;ae<he;++ae){const de=ce[ae],pe=de.start,re=de.count;for(let Ae=pe,ge=pe+re;Ae<ge;Ae+=3)for(let Se=0;Se<3;Se++){const fe=oe.getX(Ae+Se),be=oe.getX(Ae+(Se+1)%3);ie.fromBufferAttribute(le,fe),se.fromBufferAttribute(le,be),isUniqueEdge(ie,se,ne)===!0&&(te.push(ie.x,ie.y,ie.z),te.push(se.x,se.y,se.z))}}}else{const le=$.attributes.position;for(let oe=0,ce=le.count/3;oe<ce;oe++)for(let ae=0;ae<3;ae++){const he=3*oe+ae,de=3*oe+(ae+1)%3;ie.fromBufferAttribute(le,he),se.fromBufferAttribute(le,de),isUniqueEdge(ie,se,ne)===!0&&(te.push(ie.x,ie.y,ie.z),te.push(se.x,se.y,se.z))}}this.setAttribute("position",new Float32BufferAttribute(te,3))}}copy($){return super.copy($),this.parameters=Object.assign({},$.parameters),this}}function isUniqueEdge(ee,$,te){const ne=`${ee.x},${ee.y},${ee.z}-${$.x},${$.y},${$.z}`,ie=`${$.x},${$.y},${$.z}-${ee.x},${ee.y},${ee.z}`;return te.has(ne)===!0||te.has(ie)===!0?!1:(te.add(ne),te.add(ie),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor($){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.fog=$.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor($){super($),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor($){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.defines={STANDARD:""},this.color.copy($.color),this.roughness=$.roughness,this.metalness=$.metalness,this.map=$.map,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.emissive.copy($.emissive),this.emissiveMap=$.emissiveMap,this.emissiveIntensity=$.emissiveIntensity,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.roughnessMap=$.roughnessMap,this.metalnessMap=$.metalnessMap,this.alphaMap=$.alphaMap,this.envMap=$.envMap,this.envMapRotation.copy($.envMapRotation),this.envMapIntensity=$.envMapIntensity,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.flatShading=$.flatShading,this.fog=$.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor($){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$1(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(te){this.ior=(1+.4*te)/(1-.4*te)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues($)}get anisotropy(){return this._anisotropy}set anisotropy($){this._anisotropy>0!=$>0&&this.version++,this._anisotropy=$}get clearcoat(){return this._clearcoat}set clearcoat($){this._clearcoat>0!=$>0&&this.version++,this._clearcoat=$}get iridescence(){return this._iridescence}set iridescence($){this._iridescence>0!=$>0&&this.version++,this._iridescence=$}get dispersion(){return this._dispersion}set dispersion($){this._dispersion>0!=$>0&&this.version++,this._dispersion=$}get sheen(){return this._sheen}set sheen($){this._sheen>0!=$>0&&this.version++,this._sheen=$}get transmission(){return this._transmission}set transmission($){this._transmission>0!=$>0&&this.version++,this._transmission=$}copy($){return super.copy($),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=$.anisotropy,this.anisotropyRotation=$.anisotropyRotation,this.anisotropyMap=$.anisotropyMap,this.clearcoat=$.clearcoat,this.clearcoatMap=$.clearcoatMap,this.clearcoatRoughness=$.clearcoatRoughness,this.clearcoatRoughnessMap=$.clearcoatRoughnessMap,this.clearcoatNormalMap=$.clearcoatNormalMap,this.clearcoatNormalScale.copy($.clearcoatNormalScale),this.dispersion=$.dispersion,this.ior=$.ior,this.iridescence=$.iridescence,this.iridescenceMap=$.iridescenceMap,this.iridescenceIOR=$.iridescenceIOR,this.iridescenceThicknessRange=[...$.iridescenceThicknessRange],this.iridescenceThicknessMap=$.iridescenceThicknessMap,this.sheen=$.sheen,this.sheenColor.copy($.sheenColor),this.sheenColorMap=$.sheenColorMap,this.sheenRoughness=$.sheenRoughness,this.sheenRoughnessMap=$.sheenRoughnessMap,this.transmission=$.transmission,this.transmissionMap=$.transmissionMap,this.thickness=$.thickness,this.thicknessMap=$.thicknessMap,this.attenuationDistance=$.attenuationDistance,this.attenuationColor.copy($.attenuationColor),this.specularIntensity=$.specularIntensity,this.specularIntensityMap=$.specularIntensityMap,this.specularColor.copy($.specularColor),this.specularColorMap=$.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor($){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.specular.copy($.specular),this.shininess=$.shininess,this.map=$.map,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.emissive.copy($.emissive),this.emissiveMap=$.emissiveMap,this.emissiveIntensity=$.emissiveIntensity,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.specularMap=$.specularMap,this.alphaMap=$.alphaMap,this.envMap=$.envMap,this.envMapRotation.copy($.envMapRotation),this.combine=$.combine,this.reflectivity=$.reflectivity,this.refractionRatio=$.refractionRatio,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.flatShading=$.flatShading,this.fog=$.fog,this}}class MeshToonMaterial extends Material{constructor($){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.gradientMap=$.gradientMap,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.emissive.copy($.emissive),this.emissiveMap=$.emissiveMap,this.emissiveIntensity=$.emissiveIntensity,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.alphaMap=$.alphaMap,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.fog=$.fog,this}}class MeshNormalMaterial extends Material{constructor($){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues($)}copy($){return super.copy($),this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.flatShading=$.flatShading,this}}class MeshLambertMaterial extends Material{constructor($){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.color.copy($.color),this.map=$.map,this.lightMap=$.lightMap,this.lightMapIntensity=$.lightMapIntensity,this.aoMap=$.aoMap,this.aoMapIntensity=$.aoMapIntensity,this.emissive.copy($.emissive),this.emissiveMap=$.emissiveMap,this.emissiveIntensity=$.emissiveIntensity,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.specularMap=$.specularMap,this.alphaMap=$.alphaMap,this.envMap=$.envMap,this.envMapRotation.copy($.envMapRotation),this.combine=$.combine,this.reflectivity=$.reflectivity,this.refractionRatio=$.refractionRatio,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this.wireframeLinecap=$.wireframeLinecap,this.wireframeLinejoin=$.wireframeLinejoin,this.flatShading=$.flatShading,this.fog=$.fog,this}}class MeshDepthMaterial extends Material{constructor($){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues($)}copy($){return super.copy($),this.depthPacking=$.depthPacking,this.map=$.map,this.alphaMap=$.alphaMap,this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.wireframe=$.wireframe,this.wireframeLinewidth=$.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor($){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues($)}copy($){return super.copy($),this.map=$.map,this.alphaMap=$.alphaMap,this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this}}class MeshMatcapMaterial extends Material{constructor($){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues($)}copy($){return super.copy($),this.defines={MATCAP:""},this.color.copy($.color),this.matcap=$.matcap,this.map=$.map,this.bumpMap=$.bumpMap,this.bumpScale=$.bumpScale,this.normalMap=$.normalMap,this.normalMapType=$.normalMapType,this.normalScale.copy($.normalScale),this.displacementMap=$.displacementMap,this.displacementScale=$.displacementScale,this.displacementBias=$.displacementBias,this.alphaMap=$.alphaMap,this.flatShading=$.flatShading,this.fog=$.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor($){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues($)}copy($){return super.copy($),this.scale=$.scale,this.dashSize=$.dashSize,this.gapSize=$.gapSize,this}}function convertArray(ee,$,te){return!ee||!te&&ee.constructor===$?ee:typeof $.BYTES_PER_ELEMENT=="number"?new $(ee):Array.prototype.slice.call(ee)}function isTypedArray(ee){return ArrayBuffer.isView(ee)&&!(ee instanceof DataView)}function getKeyframeOrder(ee){function $(ie,se){return ee[ie]-ee[se]}const te=ee.length,ne=new Array(te);for(let ie=0;ie!==te;++ie)ne[ie]=ie;return ne.sort($),ne}function sortedArray(ee,$,te){const ne=ee.length,ie=new ee.constructor(ne);for(let se=0,le=0;le!==ne;++se){const oe=te[se]*$;for(let ce=0;ce!==$;++ce)ie[le++]=ee[oe+ce]}return ie}function flattenJSON(ee,$,te,ne){let ie=1,se=ee[0];for(;se!==void 0&&se[ne]===void 0;)se=ee[ie++];if(se===void 0)return;let le=se[ne];if(le!==void 0)if(Array.isArray(le))do le=se[ne],le!==void 0&&($.push(se.time),te.push(...le)),se=ee[ie++];while(se!==void 0);else if(le.toArray!==void 0)do le=se[ne],le!==void 0&&($.push(se.time),le.toArray(te,te.length)),se=ee[ie++];while(se!==void 0);else do le=se[ne],le!==void 0&&($.push(se.time),te.push(le)),se=ee[ie++];while(se!==void 0)}function subclip(ee,$,te,ne,ie=30){const se=ee.clone();se.name=$;const le=[];for(let ce=0;ce<se.tracks.length;++ce){const ae=se.tracks[ce],he=ae.getValueSize(),de=[],pe=[];for(let re=0;re<ae.times.length;++re){const Ae=ae.times[re]*ie;if(!(Ae<te||Ae>=ne)){de.push(ae.times[re]);for(let ge=0;ge<he;++ge)pe.push(ae.values[re*he+ge])}}de.length!==0&&(ae.times=convertArray(de,ae.times.constructor),ae.values=convertArray(pe,ae.values.constructor),le.push(ae))}se.tracks=le;let oe=1/0;for(let ce=0;ce<se.tracks.length;++ce)oe>se.tracks[ce].times[0]&&(oe=se.tracks[ce].times[0]);for(let ce=0;ce<se.tracks.length;++ce)se.tracks[ce].shift(-1*oe);return se.resetDuration(),se}function makeClipAdditive(ee,$=0,te=ee,ne=30){ne<=0&&(ne=30);const ie=te.tracks.length,se=$/ne;for(let le=0;le<ie;++le){const oe=te.tracks[le],ce=oe.ValueTypeName;if(ce==="bool"||ce==="string")continue;const ae=ee.tracks.find(function(fe){return fe.name===oe.name&&fe.ValueTypeName===ce});if(ae===void 0)continue;let he=0;const de=oe.getValueSize();oe.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(he=de/3);let pe=0;const re=ae.getValueSize();ae.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(pe=re/3);const Ae=oe.times.length-1;let ge;if(se<=oe.times[0]){const fe=he,be=de-he;ge=oe.values.slice(fe,be)}else if(se>=oe.times[Ae]){const fe=Ae*de+he,be=fe+de-he;ge=oe.values.slice(fe,be)}else{const fe=oe.createInterpolant(),be=he,xe=de-he;fe.evaluate(se),ge=fe.resultBuffer.slice(be,xe)}ce==="quaternion"&&new Quaternion().fromArray(ge).normalize().conjugate().toArray(ge);const Se=ae.times.length;for(let fe=0;fe<Se;++fe){const be=fe*re+pe;if(ce==="quaternion")Quaternion.multiplyQuaternionsFlat(ae.values,be,ge,0,ae.values,be);else{const xe=re-pe*2;for(let ue=0;ue<xe;++ue)ae.values[be+ue]-=ge[ue]}}}return ee.blendMode=AdditiveAnimationBlendMode,ee}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor($,te,ne,ie){this.parameterPositions=$,this._cachedIndex=0,this.resultBuffer=ie!==void 0?ie:new te.constructor(ne),this.sampleValues=te,this.valueSize=ne,this.settings=null,this.DefaultSettings_={}}evaluate($){const te=this.parameterPositions;let ne=this._cachedIndex,ie=te[ne],se=te[ne-1];e:{t:{let le;n:{i:if(!($<ie)){for(let oe=ne+2;;){if(ie===void 0){if($<se)break i;return ne=te.length,this._cachedIndex=ne,this.copySampleValue_(ne-1)}if(ne===oe)break;if(se=ie,ie=te[++ne],$<ie)break t}le=te.length;break n}if(!($>=se)){const oe=te[1];$<oe&&(ne=2,se=oe);for(let ce=ne-2;;){if(se===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(ne===ce)break;if(ie=se,se=te[--ne-1],$>=se)break t}le=ne,ne=0;break n}break e}for(;ne<le;){const oe=ne+le>>>1;$<te[oe]?le=oe:ne=oe+1}if(ie=te[ne],se=te[ne-1],se===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(ie===void 0)return ne=te.length,this._cachedIndex=ne,this.copySampleValue_(ne-1)}this._cachedIndex=ne,this.intervalChanged_(ne,se,ie)}return this.interpolate_(ne,se,$,ie)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_($){const te=this.resultBuffer,ne=this.sampleValues,ie=this.valueSize,se=$*ie;for(let le=0;le!==ie;++le)te[le]=ne[se+le];return te}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor($,te,ne,ie){super($,te,ne,ie),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_($,te,ne){const ie=this.parameterPositions;let se=$-2,le=$+1,oe=ie[se],ce=ie[le];if(oe===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:se=$,oe=2*te-ne;break;case WrapAroundEnding:se=ie.length-2,oe=te+ie[se]-ie[se+1];break;default:se=$,oe=ne}if(ce===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:le=$,ce=2*ne-te;break;case WrapAroundEnding:le=1,ce=ne+ie[1]-ie[0];break;default:le=$-1,ce=te}const ae=(ne-te)*.5,he=this.valueSize;this._weightPrev=ae/(te-oe),this._weightNext=ae/(ce-ne),this._offsetPrev=se*he,this._offsetNext=le*he}interpolate_($,te,ne,ie){const se=this.resultBuffer,le=this.sampleValues,oe=this.valueSize,ce=$*oe,ae=ce-oe,he=this._offsetPrev,de=this._offsetNext,pe=this._weightPrev,re=this._weightNext,Ae=(ne-te)/(ie-te),ge=Ae*Ae,Se=ge*Ae,fe=-pe*Se+2*pe*ge-pe*Ae,be=(1+pe)*Se+(-1.5-2*pe)*ge+(-.5+pe)*Ae+1,xe=(-1-re)*Se+(1.5+re)*ge+.5*Ae,ue=re*Se-re*ge;for(let we=0;we!==oe;++we)se[we]=fe*le[he+we]+be*le[ae+we]+xe*le[ce+we]+ue*le[de+we];return se}}class LinearInterpolant extends Interpolant{constructor($,te,ne,ie){super($,te,ne,ie)}interpolate_($,te,ne,ie){const se=this.resultBuffer,le=this.sampleValues,oe=this.valueSize,ce=$*oe,ae=ce-oe,he=(ne-te)/(ie-te),de=1-he;for(let pe=0;pe!==oe;++pe)se[pe]=le[ae+pe]*de+le[ce+pe]*he;return se}}class DiscreteInterpolant extends Interpolant{constructor($,te,ne,ie){super($,te,ne,ie)}interpolate_($){return this.copySampleValue_($-1)}}class KeyframeTrack{constructor($,te,ne,ie){if($===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(te===void 0||te.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+$);this.name=$,this.times=convertArray(te,this.TimeBufferType),this.values=convertArray(ne,this.ValueBufferType),this.setInterpolation(ie||this.DefaultInterpolation)}static toJSON($){const te=$.constructor;let ne;if(te.toJSON!==this.toJSON)ne=te.toJSON($);else{ne={name:$.name,times:convertArray($.times,Array),values:convertArray($.values,Array)};const ie=$.getInterpolation();ie!==$.DefaultInterpolation&&(ne.interpolation=ie)}return ne.type=$.ValueTypeName,ne}InterpolantFactoryMethodDiscrete($){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),$)}InterpolantFactoryMethodLinear($){return new LinearInterpolant(this.times,this.values,this.getValueSize(),$)}InterpolantFactoryMethodSmooth($){return new CubicInterpolant(this.times,this.values,this.getValueSize(),$)}setInterpolation($){let te;switch($){case InterpolateDiscrete:te=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:te=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:te=this.InterpolantFactoryMethodSmooth;break}if(te===void 0){const ne="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if($!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(ne);return console.warn("THREE.KeyframeTrack:",ne),this}return this.createInterpolant=te,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift($){if($!==0){const te=this.times;for(let ne=0,ie=te.length;ne!==ie;++ne)te[ne]+=$}return this}scale($){if($!==1){const te=this.times;for(let ne=0,ie=te.length;ne!==ie;++ne)te[ne]*=$}return this}trim($,te){const ne=this.times,ie=ne.length;let se=0,le=ie-1;for(;se!==ie&&ne[se]<$;)++se;for(;le!==-1&&ne[le]>te;)--le;if(++le,se!==0||le!==ie){se>=le&&(le=Math.max(le,1),se=le-1);const oe=this.getValueSize();this.times=ne.slice(se,le),this.values=this.values.slice(se*oe,le*oe)}return this}validate(){let $=!0;const te=this.getValueSize();te-Math.floor(te)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),$=!1);const ne=this.times,ie=this.values,se=ne.length;se===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),$=!1);let le=null;for(let oe=0;oe!==se;oe++){const ce=ne[oe];if(typeof ce=="number"&&isNaN(ce)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,oe,ce),$=!1;break}if(le!==null&&le>ce){console.error("THREE.KeyframeTrack: Out of order keys.",this,oe,ce,le),$=!1;break}le=ce}if(ie!==void 0&&isTypedArray(ie))for(let oe=0,ce=ie.length;oe!==ce;++oe){const ae=ie[oe];if(isNaN(ae)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,oe,ae),$=!1;break}}return $}optimize(){const $=this.times.slice(),te=this.values.slice(),ne=this.getValueSize(),ie=this.getInterpolation()===InterpolateSmooth,se=$.length-1;let le=1;for(let oe=1;oe<se;++oe){let ce=!1;const ae=$[oe],he=$[oe+1];if(ae!==he&&(oe!==1||ae!==$[0]))if(ie)ce=!0;else{const de=oe*ne,pe=de-ne,re=de+ne;for(let Ae=0;Ae!==ne;++Ae){const ge=te[de+Ae];if(ge!==te[pe+Ae]||ge!==te[re+Ae]){ce=!0;break}}}if(ce){if(oe!==le){$[le]=$[oe];const de=oe*ne,pe=le*ne;for(let re=0;re!==ne;++re)te[pe+re]=te[de+re]}++le}}if(se>0){$[le]=$[se];for(let oe=se*ne,ce=le*ne,ae=0;ae!==ne;++ae)te[ce+ae]=te[oe+ae];++le}return le!==$.length?(this.times=$.slice(0,le),this.values=te.slice(0,le*ne)):(this.times=$,this.values=te),this}clone(){const $=this.times.slice(),te=this.values.slice(),ne=this.constructor,ie=new ne(this.name,$,te);return ie.createInterpolant=this.createInterpolant,ie}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor($,te,ne){super($,te,ne)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor($,te,ne,ie){super($,te,ne,ie)}interpolate_($,te,ne,ie){const se=this.resultBuffer,le=this.sampleValues,oe=this.valueSize,ce=(ne-te)/(ie-te);let ae=$*oe;for(let he=ae+oe;ae!==he;ae+=4)Quaternion.slerpFlat(se,0,le,ae-oe,le,ae,ce);return se}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear($){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),$)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor($,te,ne){super($,te,ne)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor($="",te=-1,ne=[],ie=NormalAnimationBlendMode){this.name=$,this.tracks=ne,this.duration=te,this.blendMode=ie,this.uuid=generateUUID(),this.duration<0&&this.resetDuration()}static parse($){const te=[],ne=$.tracks,ie=1/($.fps||1);for(let le=0,oe=ne.length;le!==oe;++le)te.push(parseKeyframeTrack(ne[le]).scale(ie));const se=new this($.name,$.duration,te,$.blendMode);return se.uuid=$.uuid,se}static toJSON($){const te=[],ne=$.tracks,ie={name:$.name,duration:$.duration,tracks:te,uuid:$.uuid,blendMode:$.blendMode};for(let se=0,le=ne.length;se!==le;++se)te.push(KeyframeTrack.toJSON(ne[se]));return ie}static CreateFromMorphTargetSequence($,te,ne,ie){const se=te.length,le=[];for(let oe=0;oe<se;oe++){let ce=[],ae=[];ce.push((oe+se-1)%se,oe,(oe+1)%se),ae.push(0,1,0);const he=getKeyframeOrder(ce);ce=sortedArray(ce,1,he),ae=sortedArray(ae,1,he),!ie&&ce[0]===0&&(ce.push(se),ae.push(ae[0])),le.push(new NumberKeyframeTrack(".morphTargetInfluences["+te[oe].name+"]",ce,ae).scale(1/ne))}return new this($,-1,le)}static findByName($,te){let ne=$;if(!Array.isArray($)){const ie=$;ne=ie.geometry&&ie.geometry.animations||ie.animations}for(let ie=0;ie<ne.length;ie++)if(ne[ie].name===te)return ne[ie];return null}static CreateClipsFromMorphTargetSequences($,te,ne){const ie={},se=/^([\w-]*?)([\d]+)$/;for(let oe=0,ce=$.length;oe<ce;oe++){const ae=$[oe],he=ae.name.match(se);if(he&&he.length>1){const de=he[1];let pe=ie[de];pe||(ie[de]=pe=[]),pe.push(ae)}}const le=[];for(const oe in ie)le.push(this.CreateFromMorphTargetSequence(oe,ie[oe],te,ne));return le}static parseAnimation($,te){if(!$)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const ne=function(de,pe,re,Ae,ge){if(re.length!==0){const Se=[],fe=[];flattenJSON(re,Se,fe,Ae),Se.length!==0&&ge.push(new de(pe,Se,fe))}},ie=[],se=$.name||"default",le=$.fps||30,oe=$.blendMode;let ce=$.length||-1;const ae=$.hierarchy||[];for(let de=0;de<ae.length;de++){const pe=ae[de].keys;if(!(!pe||pe.length===0))if(pe[0].morphTargets){const re={};let Ae;for(Ae=0;Ae<pe.length;Ae++)if(pe[Ae].morphTargets)for(let ge=0;ge<pe[Ae].morphTargets.length;ge++)re[pe[Ae].morphTargets[ge]]=-1;for(const ge in re){const Se=[],fe=[];for(let be=0;be!==pe[Ae].morphTargets.length;++be){const xe=pe[Ae];Se.push(xe.time),fe.push(xe.morphTarget===ge?1:0)}ie.push(new NumberKeyframeTrack(".morphTargetInfluence["+ge+"]",Se,fe))}ce=re.length*le}else{const re=".bones["+te[de].name+"]";ne(VectorKeyframeTrack,re+".position",pe,"pos",ie),ne(QuaternionKeyframeTrack,re+".quaternion",pe,"rot",ie),ne(VectorKeyframeTrack,re+".scale",pe,"scl",ie)}}return ie.length===0?null:new this(se,ce,ie,oe)}resetDuration(){const $=this.tracks;let te=0;for(let ne=0,ie=$.length;ne!==ie;++ne){const se=this.tracks[ne];te=Math.max(te,se.times[se.times.length-1])}return this.duration=te,this}trim(){for(let $=0;$<this.tracks.length;$++)this.tracks[$].trim(0,this.duration);return this}validate(){let $=!0;for(let te=0;te<this.tracks.length;te++)$=$&&this.tracks[te].validate();return $}optimize(){for(let $=0;$<this.tracks.length;$++)this.tracks[$].optimize();return this}clone(){const $=[];for(let te=0;te<this.tracks.length;te++)$.push(this.tracks[te].clone());return new this.constructor(this.name,this.duration,$,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(ee){switch(ee.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+ee)}function parseKeyframeTrack(ee){if(ee.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const $=getTrackTypeForValueTypeName(ee.type);if(ee.times===void 0){const te=[],ne=[];flattenJSON(ee.keys,te,ne,"value"),ee.times=te,ee.values=ne}return $.parse!==void 0?$.parse(ee):new $(ee.name,ee.times,ee.values,ee.interpolation)}const Cache={enabled:!1,files:{},add:function(ee,$){this.enabled!==!1&&(this.files[ee]=$)},get:function(ee){if(this.enabled!==!1)return this.files[ee]},remove:function(ee){delete this.files[ee]},clear:function(){this.files={}}};class LoadingManager{constructor($,te,ne){const ie=this;let se=!1,le=0,oe=0,ce;const ae=[];this.onStart=void 0,this.onLoad=$,this.onProgress=te,this.onError=ne,this.itemStart=function(he){oe++,se===!1&&ie.onStart!==void 0&&ie.onStart(he,le,oe),se=!0},this.itemEnd=function(he){le++,ie.onProgress!==void 0&&ie.onProgress(he,le,oe),le===oe&&(se=!1,ie.onLoad!==void 0&&ie.onLoad())},this.itemError=function(he){ie.onError!==void 0&&ie.onError(he)},this.resolveURL=function(he){return ce?ce(he):he},this.setURLModifier=function(he){return ce=he,this},this.addHandler=function(he,de){return ae.push(he,de),this},this.removeHandler=function(he){const de=ae.indexOf(he);return de!==-1&&ae.splice(de,2),this},this.getHandler=function(he){for(let de=0,pe=ae.length;de<pe;de+=2){const re=ae[de],Ae=ae[de+1];if(re.global&&(re.lastIndex=0),re.test(he))return Ae}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor($){this.manager=$!==void 0?$:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync($,te){const ne=this;return new Promise(function(ie,se){ne.load($,ie,te,se)})}parse(){}setCrossOrigin($){return this.crossOrigin=$,this}setWithCredentials($){return this.withCredentials=$,this}setPath($){return this.path=$,this}setResourcePath($){return this.resourcePath=$,this}setRequestHeader($){return this.requestHeader=$,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor($,te){super($),this.response=te}}class FileLoader extends Loader{constructor($){super($)}load($,te,ne,ie){$===void 0&&($=""),this.path!==void 0&&($=this.path+$),$=this.manager.resolveURL($);const se=Cache.get($);if(se!==void 0)return this.manager.itemStart($),setTimeout(()=>{te&&te(se),this.manager.itemEnd($)},0),se;if(loading[$]!==void 0){loading[$].push({onLoad:te,onProgress:ne,onError:ie});return}loading[$]=[],loading[$].push({onLoad:te,onProgress:ne,onError:ie});const le=new Request($,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),oe=this.mimeType,ce=this.responseType;fetch(le).then(ae=>{if(ae.status===200||ae.status===0){if(ae.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||ae.body===void 0||ae.body.getReader===void 0)return ae;const he=loading[$],de=ae.body.getReader(),pe=ae.headers.get("X-File-Size")||ae.headers.get("Content-Length"),re=pe?parseInt(pe):0,Ae=re!==0;let ge=0;const Se=new ReadableStream({start(fe){be();function be(){de.read().then(({done:xe,value:ue})=>{if(xe)fe.close();else{ge+=ue.byteLength;const we=new ProgressEvent("progress",{lengthComputable:Ae,loaded:ge,total:re});for(let Fe=0,_e=he.length;Fe<_e;Fe++){const Ee=he[Fe];Ee.onProgress&&Ee.onProgress(we)}fe.enqueue(ue),be()}},xe=>{fe.error(xe)})}}});return new Response(Se)}else throw new HttpError(`fetch for "${ae.url}" responded with ${ae.status}: ${ae.statusText}`,ae)}).then(ae=>{switch(ce){case"arraybuffer":return ae.arrayBuffer();case"blob":return ae.blob();case"document":return ae.text().then(he=>new DOMParser().parseFromString(he,oe));case"json":return ae.json();default:if(oe===void 0)return ae.text();{const de=/charset="?([^;"\s]*)"?/i.exec(oe),pe=de&&de[1]?de[1].toLowerCase():void 0,re=new TextDecoder(pe);return ae.arrayBuffer().then(Ae=>re.decode(Ae))}}}).then(ae=>{Cache.add($,ae);const he=loading[$];delete loading[$];for(let de=0,pe=he.length;de<pe;de++){const re=he[de];re.onLoad&&re.onLoad(ae)}}).catch(ae=>{const he=loading[$];if(he===void 0)throw this.manager.itemError($),ae;delete loading[$];for(let de=0,pe=he.length;de<pe;de++){const re=he[de];re.onError&&re.onError(ae)}this.manager.itemError($)}).finally(()=>{this.manager.itemEnd($)}),this.manager.itemStart($)}setResponseType($){return this.responseType=$,this}setMimeType($){return this.mimeType=$,this}}class AnimationLoader extends Loader{constructor($){super($)}load($,te,ne,ie){const se=this,le=new FileLoader(this.manager);le.setPath(this.path),le.setRequestHeader(this.requestHeader),le.setWithCredentials(this.withCredentials),le.load($,function(oe){try{te(se.parse(JSON.parse(oe)))}catch(ce){ie?ie(ce):console.error(ce),se.manager.itemError($)}},ne,ie)}parse($){const te=[];for(let ne=0;ne<$.length;ne++){const ie=AnimationClip.parse($[ne]);te.push(ie)}return te}}class CompressedTextureLoader extends Loader{constructor($){super($)}load($,te,ne,ie){const se=this,le=[],oe=new CompressedTexture,ce=new FileLoader(this.manager);ce.setPath(this.path),ce.setResponseType("arraybuffer"),ce.setRequestHeader(this.requestHeader),ce.setWithCredentials(se.withCredentials);let ae=0;function he(de){ce.load($[de],function(pe){const re=se.parse(pe,!0);le[de]={width:re.width,height:re.height,format:re.format,mipmaps:re.mipmaps},ae+=1,ae===6&&(re.mipmapCount===1&&(oe.minFilter=LinearFilter),oe.image=le,oe.format=re.format,oe.needsUpdate=!0,te&&te(oe))},ne,ie)}if(Array.isArray($))for(let de=0,pe=$.length;de<pe;++de)he(de);else ce.load($,function(de){const pe=se.parse(de,!0);if(pe.isCubemap){const re=pe.mipmaps.length/pe.mipmapCount;for(let Ae=0;Ae<re;Ae++){le[Ae]={mipmaps:[]};for(let ge=0;ge<pe.mipmapCount;ge++)le[Ae].mipmaps.push(pe.mipmaps[Ae*pe.mipmapCount+ge]),le[Ae].format=pe.format,le[Ae].width=pe.width,le[Ae].height=pe.height}oe.image=le}else oe.image.width=pe.width,oe.image.height=pe.height,oe.mipmaps=pe.mipmaps;pe.mipmapCount===1&&(oe.minFilter=LinearFilter),oe.format=pe.format,oe.needsUpdate=!0,te&&te(oe)},ne,ie);return oe}}class ImageLoader extends Loader{constructor($){super($)}load($,te,ne,ie){this.path!==void 0&&($=this.path+$),$=this.manager.resolveURL($);const se=this,le=Cache.get($);if(le!==void 0)return se.manager.itemStart($),setTimeout(function(){te&&te(le),se.manager.itemEnd($)},0),le;const oe=createElementNS("img");function ce(){he(),Cache.add($,this),te&&te(this),se.manager.itemEnd($)}function ae(de){he(),ie&&ie(de),se.manager.itemError($),se.manager.itemEnd($)}function he(){oe.removeEventListener("load",ce,!1),oe.removeEventListener("error",ae,!1)}return oe.addEventListener("load",ce,!1),oe.addEventListener("error",ae,!1),$.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(oe.crossOrigin=this.crossOrigin),se.manager.itemStart($),oe.src=$,oe}}class CubeTextureLoader extends Loader{constructor($){super($)}load($,te,ne,ie){const se=new CubeTexture;se.colorSpace=SRGBColorSpace;const le=new ImageLoader(this.manager);le.setCrossOrigin(this.crossOrigin),le.setPath(this.path);let oe=0;function ce(ae){le.load($[ae],function(he){se.images[ae]=he,oe++,oe===6&&(se.needsUpdate=!0,te&&te(se))},void 0,ie)}for(let ae=0;ae<$.length;++ae)ce(ae);return se}}class DataTextureLoader extends Loader{constructor($){super($)}load($,te,ne,ie){const se=this,le=new DataTexture,oe=new FileLoader(this.manager);return oe.setResponseType("arraybuffer"),oe.setRequestHeader(this.requestHeader),oe.setPath(this.path),oe.setWithCredentials(se.withCredentials),oe.load($,function(ce){let ae;try{ae=se.parse(ce)}catch(he){if(ie!==void 0)ie(he);else{console.error(he);return}}ae.image!==void 0?le.image=ae.image:ae.data!==void 0&&(le.image.width=ae.width,le.image.height=ae.height,le.image.data=ae.data),le.wrapS=ae.wrapS!==void 0?ae.wrapS:ClampToEdgeWrapping,le.wrapT=ae.wrapT!==void 0?ae.wrapT:ClampToEdgeWrapping,le.magFilter=ae.magFilter!==void 0?ae.magFilter:LinearFilter,le.minFilter=ae.minFilter!==void 0?ae.minFilter:LinearFilter,le.anisotropy=ae.anisotropy!==void 0?ae.anisotropy:1,ae.colorSpace!==void 0&&(le.colorSpace=ae.colorSpace),ae.flipY!==void 0&&(le.flipY=ae.flipY),ae.format!==void 0&&(le.format=ae.format),ae.type!==void 0&&(le.type=ae.type),ae.mipmaps!==void 0&&(le.mipmaps=ae.mipmaps,le.minFilter=LinearMipmapLinearFilter),ae.mipmapCount===1&&(le.minFilter=LinearFilter),ae.generateMipmaps!==void 0&&(le.generateMipmaps=ae.generateMipmaps),le.needsUpdate=!0,te&&te(le,ae)},ne,ie),le}}class TextureLoader extends Loader{constructor($){super($)}load($,te,ne,ie){const se=new Texture,le=new ImageLoader(this.manager);return le.setCrossOrigin(this.crossOrigin),le.setPath(this.path),le.load($,function(oe){se.image=oe,se.needsUpdate=!0,te!==void 0&&te(se)},ne,ie),se}}class Light extends Object3D{constructor($,te=1){super(),this.isLight=!0,this.type="Light",this.color=new Color($),this.intensity=te}dispose(){}copy($,te){return super.copy($,te),this.color.copy($.color),this.intensity=$.intensity,this}toJSON($){const te=super.toJSON($);return te.object.color=this.color.getHex(),te.object.intensity=this.intensity,this.groundColor!==void 0&&(te.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(te.object.distance=this.distance),this.angle!==void 0&&(te.object.angle=this.angle),this.decay!==void 0&&(te.object.decay=this.decay),this.penumbra!==void 0&&(te.object.penumbra=this.penumbra),this.shadow!==void 0&&(te.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(te.object.target=this.target.uuid),te}}class HemisphereLight extends Light{constructor($,te,ne){super($,ne),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(te)}copy($,te){return super.copy($,te),this.groundColor.copy($.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor($){this.camera=$,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices($){const te=this.camera,ne=this.matrix;_lightPositionWorld$1.setFromMatrixPosition($.matrixWorld),te.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition($.target.matrixWorld),te.lookAt(_lookTarget$1),te.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(te.projectionMatrix,te.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),ne.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),ne.multiply(_projScreenMatrix$1)}getViewport($){return this._viewports[$]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy($){return this.camera=$.camera.clone(),this.intensity=$.intensity,this.bias=$.bias,this.radius=$.radius,this.mapSize.copy($.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const $={};return this.intensity!==1&&($.intensity=this.intensity),this.bias!==0&&($.bias=this.bias),this.normalBias!==0&&($.normalBias=this.normalBias),this.radius!==1&&($.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&($.mapSize=this.mapSize.toArray()),$.camera=this.camera.toJSON(!1).object,delete $.camera.matrix,$}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices($){const te=this.camera,ne=RAD2DEG*2*$.angle*this.focus,ie=this.mapSize.width/this.mapSize.height,se=$.distance||te.far;(ne!==te.fov||ie!==te.aspect||se!==te.far)&&(te.fov=ne,te.aspect=ie,te.far=se,te.updateProjectionMatrix()),super.updateMatrices($)}copy($){return super.copy($),this.focus=$.focus,this}}class SpotLight extends Light{constructor($,te,ne=0,ie=Math.PI/3,se=0,le=2){super($,te),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=ne,this.angle=ie,this.penumbra=se,this.decay=le,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power($){this.intensity=$/Math.PI}dispose(){this.shadow.dispose()}copy($,te){return super.copy($,te),this.distance=$.distance,this.angle=$.angle,this.penumbra=$.penumbra,this.decay=$.decay,this.target=$.target.clone(),this.shadow=$.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices($,te=0){const ne=this.camera,ie=this.matrix,se=$.distance||ne.far;se!==ne.far&&(ne.far=se,ne.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition($.matrixWorld),ne.position.copy(_lightPositionWorld),_lookTarget.copy(ne.position),_lookTarget.add(this._cubeDirections[te]),ne.up.copy(this._cubeUps[te]),ne.lookAt(_lookTarget),ne.updateMatrixWorld(),ie.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(ne.projectionMatrix,ne.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor($,te,ne=0,ie=2){super($,te),this.isPointLight=!0,this.type="PointLight",this.distance=ne,this.decay=ie,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power($){this.intensity=$/(4*Math.PI)}dispose(){this.shadow.dispose()}copy($,te){return super.copy($,te),this.distance=$.distance,this.decay=$.decay,this.shadow=$.shadow.clone(),this}}class OrthographicCamera extends Camera{constructor($=-1,te=1,ne=1,ie=-1,se=.1,le=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=$,this.right=te,this.top=ne,this.bottom=ie,this.near=se,this.far=le,this.updateProjectionMatrix()}copy($,te){return super.copy($,te),this.left=$.left,this.right=$.right,this.top=$.top,this.bottom=$.bottom,this.near=$.near,this.far=$.far,this.zoom=$.zoom,this.view=$.view===null?null:Object.assign({},$.view),this}setViewOffset($,te,ne,ie,se,le){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=$,this.view.fullHeight=te,this.view.offsetX=ne,this.view.offsetY=ie,this.view.width=se,this.view.height=le,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const $=(this.right-this.left)/(2*this.zoom),te=(this.top-this.bottom)/(2*this.zoom),ne=(this.right+this.left)/2,ie=(this.top+this.bottom)/2;let se=ne-$,le=ne+$,oe=ie+te,ce=ie-te;if(this.view!==null&&this.view.enabled){const ae=(this.right-this.left)/this.view.fullWidth/this.zoom,he=(this.top-this.bottom)/this.view.fullHeight/this.zoom;se+=ae*this.view.offsetX,le=se+ae*this.view.width,oe-=he*this.view.offsetY,ce=oe-he*this.view.height}this.projectionMatrix.makeOrthographic(se,le,oe,ce,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON($){const te=super.toJSON($);return te.object.zoom=this.zoom,te.object.left=this.left,te.object.right=this.right,te.object.top=this.top,te.object.bottom=this.bottom,te.object.near=this.near,te.object.far=this.far,this.view!==null&&(te.object.view=Object.assign({},this.view)),te}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor($,te){super($,te),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy($){return super.copy($),this.target=$.target.clone(),this.shadow=$.shadow.clone(),this}}class AmbientLight extends Light{constructor($,te){super($,te),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor($,te,ne=10,ie=10){super($,te),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=ne,this.height=ie}get power(){return this.intensity*this.width*this.height*Math.PI}set power($){this.intensity=$/(this.width*this.height*Math.PI)}copy($){return super.copy($),this.width=$.width,this.height=$.height,this}toJSON($){const te=super.toJSON($);return te.object.width=this.width,te.object.height=this.height,te}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let $=0;$<9;$++)this.coefficients.push(new Vector3)}set($){for(let te=0;te<9;te++)this.coefficients[te].copy($[te]);return this}zero(){for(let $=0;$<9;$++)this.coefficients[$].set(0,0,0);return this}getAt($,te){const ne=$.x,ie=$.y,se=$.z,le=this.coefficients;return te.copy(le[0]).multiplyScalar(.282095),te.addScaledVector(le[1],.488603*ie),te.addScaledVector(le[2],.488603*se),te.addScaledVector(le[3],.488603*ne),te.addScaledVector(le[4],1.092548*(ne*ie)),te.addScaledVector(le[5],1.092548*(ie*se)),te.addScaledVector(le[6],.315392*(3*se*se-1)),te.addScaledVector(le[7],1.092548*(ne*se)),te.addScaledVector(le[8],.546274*(ne*ne-ie*ie)),te}getIrradianceAt($,te){const ne=$.x,ie=$.y,se=$.z,le=this.coefficients;return te.copy(le[0]).multiplyScalar(.886227),te.addScaledVector(le[1],2*.511664*ie),te.addScaledVector(le[2],2*.511664*se),te.addScaledVector(le[3],2*.511664*ne),te.addScaledVector(le[4],2*.429043*ne*ie),te.addScaledVector(le[5],2*.429043*ie*se),te.addScaledVector(le[6],.743125*se*se-.247708),te.addScaledVector(le[7],2*.429043*ne*se),te.addScaledVector(le[8],.429043*(ne*ne-ie*ie)),te}add($){for(let te=0;te<9;te++)this.coefficients[te].add($.coefficients[te]);return this}addScaledSH($,te){for(let ne=0;ne<9;ne++)this.coefficients[ne].addScaledVector($.coefficients[ne],te);return this}scale($){for(let te=0;te<9;te++)this.coefficients[te].multiplyScalar($);return this}lerp($,te){for(let ne=0;ne<9;ne++)this.coefficients[ne].lerp($.coefficients[ne],te);return this}equals($){for(let te=0;te<9;te++)if(!this.coefficients[te].equals($.coefficients[te]))return!1;return!0}copy($){return this.set($.coefficients)}clone(){return new this.constructor().copy(this)}fromArray($,te=0){const ne=this.coefficients;for(let ie=0;ie<9;ie++)ne[ie].fromArray($,te+ie*3);return this}toArray($=[],te=0){const ne=this.coefficients;for(let ie=0;ie<9;ie++)ne[ie].toArray($,te+ie*3);return $}static getBasisAt($,te){const ne=$.x,ie=$.y,se=$.z;te[0]=.282095,te[1]=.488603*ie,te[2]=.488603*se,te[3]=.488603*ne,te[4]=1.092548*ne*ie,te[5]=1.092548*ie*se,te[6]=.315392*(3*se*se-1),te[7]=1.092548*ne*se,te[8]=.546274*(ne*ne-ie*ie)}}class LightProbe extends Light{constructor($=new SphericalHarmonics3,te=1){super(void 0,te),this.isLightProbe=!0,this.sh=$}copy($){return super.copy($),this.sh.copy($.sh),this}fromJSON($){return this.intensity=$.intensity,this.sh.fromArray($.sh),this}toJSON($){const te=super.toJSON($);return te.object.sh=this.sh.toArray(),te}}class MaterialLoader extends Loader{constructor($){super($),this.textures={}}load($,te,ne,ie){const se=this,le=new FileLoader(se.manager);le.setPath(se.path),le.setRequestHeader(se.requestHeader),le.setWithCredentials(se.withCredentials),le.load($,function(oe){try{te(se.parse(JSON.parse(oe)))}catch(ce){ie?ie(ce):console.error(ce),se.manager.itemError($)}},ne,ie)}parse($){const te=this.textures;function ne(se){return te[se]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",se),te[se]}const ie=this.createMaterialFromType($.type);if($.uuid!==void 0&&(ie.uuid=$.uuid),$.name!==void 0&&(ie.name=$.name),$.color!==void 0&&ie.color!==void 0&&ie.color.setHex($.color),$.roughness!==void 0&&(ie.roughness=$.roughness),$.metalness!==void 0&&(ie.metalness=$.metalness),$.sheen!==void 0&&(ie.sheen=$.sheen),$.sheenColor!==void 0&&(ie.sheenColor=new Color().setHex($.sheenColor)),$.sheenRoughness!==void 0&&(ie.sheenRoughness=$.sheenRoughness),$.emissive!==void 0&&ie.emissive!==void 0&&ie.emissive.setHex($.emissive),$.specular!==void 0&&ie.specular!==void 0&&ie.specular.setHex($.specular),$.specularIntensity!==void 0&&(ie.specularIntensity=$.specularIntensity),$.specularColor!==void 0&&ie.specularColor!==void 0&&ie.specularColor.setHex($.specularColor),$.shininess!==void 0&&(ie.shininess=$.shininess),$.clearcoat!==void 0&&(ie.clearcoat=$.clearcoat),$.clearcoatRoughness!==void 0&&(ie.clearcoatRoughness=$.clearcoatRoughness),$.dispersion!==void 0&&(ie.dispersion=$.dispersion),$.iridescence!==void 0&&(ie.iridescence=$.iridescence),$.iridescenceIOR!==void 0&&(ie.iridescenceIOR=$.iridescenceIOR),$.iridescenceThicknessRange!==void 0&&(ie.iridescenceThicknessRange=$.iridescenceThicknessRange),$.transmission!==void 0&&(ie.transmission=$.transmission),$.thickness!==void 0&&(ie.thickness=$.thickness),$.attenuationDistance!==void 0&&(ie.attenuationDistance=$.attenuationDistance),$.attenuationColor!==void 0&&ie.attenuationColor!==void 0&&ie.attenuationColor.setHex($.attenuationColor),$.anisotropy!==void 0&&(ie.anisotropy=$.anisotropy),$.anisotropyRotation!==void 0&&(ie.anisotropyRotation=$.anisotropyRotation),$.fog!==void 0&&(ie.fog=$.fog),$.flatShading!==void 0&&(ie.flatShading=$.flatShading),$.blending!==void 0&&(ie.blending=$.blending),$.combine!==void 0&&(ie.combine=$.combine),$.side!==void 0&&(ie.side=$.side),$.shadowSide!==void 0&&(ie.shadowSide=$.shadowSide),$.opacity!==void 0&&(ie.opacity=$.opacity),$.transparent!==void 0&&(ie.transparent=$.transparent),$.alphaTest!==void 0&&(ie.alphaTest=$.alphaTest),$.alphaHash!==void 0&&(ie.alphaHash=$.alphaHash),$.depthFunc!==void 0&&(ie.depthFunc=$.depthFunc),$.depthTest!==void 0&&(ie.depthTest=$.depthTest),$.depthWrite!==void 0&&(ie.depthWrite=$.depthWrite),$.colorWrite!==void 0&&(ie.colorWrite=$.colorWrite),$.blendSrc!==void 0&&(ie.blendSrc=$.blendSrc),$.blendDst!==void 0&&(ie.blendDst=$.blendDst),$.blendEquation!==void 0&&(ie.blendEquation=$.blendEquation),$.blendSrcAlpha!==void 0&&(ie.blendSrcAlpha=$.blendSrcAlpha),$.blendDstAlpha!==void 0&&(ie.blendDstAlpha=$.blendDstAlpha),$.blendEquationAlpha!==void 0&&(ie.blendEquationAlpha=$.blendEquationAlpha),$.blendColor!==void 0&&ie.blendColor!==void 0&&ie.blendColor.setHex($.blendColor),$.blendAlpha!==void 0&&(ie.blendAlpha=$.blendAlpha),$.stencilWriteMask!==void 0&&(ie.stencilWriteMask=$.stencilWriteMask),$.stencilFunc!==void 0&&(ie.stencilFunc=$.stencilFunc),$.stencilRef!==void 0&&(ie.stencilRef=$.stencilRef),$.stencilFuncMask!==void 0&&(ie.stencilFuncMask=$.stencilFuncMask),$.stencilFail!==void 0&&(ie.stencilFail=$.stencilFail),$.stencilZFail!==void 0&&(ie.stencilZFail=$.stencilZFail),$.stencilZPass!==void 0&&(ie.stencilZPass=$.stencilZPass),$.stencilWrite!==void 0&&(ie.stencilWrite=$.stencilWrite),$.wireframe!==void 0&&(ie.wireframe=$.wireframe),$.wireframeLinewidth!==void 0&&(ie.wireframeLinewidth=$.wireframeLinewidth),$.wireframeLinecap!==void 0&&(ie.wireframeLinecap=$.wireframeLinecap),$.wireframeLinejoin!==void 0&&(ie.wireframeLinejoin=$.wireframeLinejoin),$.rotation!==void 0&&(ie.rotation=$.rotation),$.linewidth!==void 0&&(ie.linewidth=$.linewidth),$.dashSize!==void 0&&(ie.dashSize=$.dashSize),$.gapSize!==void 0&&(ie.gapSize=$.gapSize),$.scale!==void 0&&(ie.scale=$.scale),$.polygonOffset!==void 0&&(ie.polygonOffset=$.polygonOffset),$.polygonOffsetFactor!==void 0&&(ie.polygonOffsetFactor=$.polygonOffsetFactor),$.polygonOffsetUnits!==void 0&&(ie.polygonOffsetUnits=$.polygonOffsetUnits),$.dithering!==void 0&&(ie.dithering=$.dithering),$.alphaToCoverage!==void 0&&(ie.alphaToCoverage=$.alphaToCoverage),$.premultipliedAlpha!==void 0&&(ie.premultipliedAlpha=$.premultipliedAlpha),$.forceSinglePass!==void 0&&(ie.forceSinglePass=$.forceSinglePass),$.visible!==void 0&&(ie.visible=$.visible),$.toneMapped!==void 0&&(ie.toneMapped=$.toneMapped),$.userData!==void 0&&(ie.userData=$.userData),$.vertexColors!==void 0&&(typeof $.vertexColors=="number"?ie.vertexColors=$.vertexColors>0:ie.vertexColors=$.vertexColors),$.uniforms!==void 0)for(const se in $.uniforms){const le=$.uniforms[se];switch(ie.uniforms[se]={},le.type){case"t":ie.uniforms[se].value=ne(le.value);break;case"c":ie.uniforms[se].value=new Color().setHex(le.value);break;case"v2":ie.uniforms[se].value=new Vector2().fromArray(le.value);break;case"v3":ie.uniforms[se].value=new Vector3().fromArray(le.value);break;case"v4":ie.uniforms[se].value=new Vector4().fromArray(le.value);break;case"m3":ie.uniforms[se].value=new Matrix3().fromArray(le.value);break;case"m4":ie.uniforms[se].value=new Matrix4().fromArray(le.value);break;default:ie.uniforms[se].value=le.value}}if($.defines!==void 0&&(ie.defines=$.defines),$.vertexShader!==void 0&&(ie.vertexShader=$.vertexShader),$.fragmentShader!==void 0&&(ie.fragmentShader=$.fragmentShader),$.glslVersion!==void 0&&(ie.glslVersion=$.glslVersion),$.extensions!==void 0)for(const se in $.extensions)ie.extensions[se]=$.extensions[se];if($.lights!==void 0&&(ie.lights=$.lights),$.clipping!==void 0&&(ie.clipping=$.clipping),$.size!==void 0&&(ie.size=$.size),$.sizeAttenuation!==void 0&&(ie.sizeAttenuation=$.sizeAttenuation),$.map!==void 0&&(ie.map=ne($.map)),$.matcap!==void 0&&(ie.matcap=ne($.matcap)),$.alphaMap!==void 0&&(ie.alphaMap=ne($.alphaMap)),$.bumpMap!==void 0&&(ie.bumpMap=ne($.bumpMap)),$.bumpScale!==void 0&&(ie.bumpScale=$.bumpScale),$.normalMap!==void 0&&(ie.normalMap=ne($.normalMap)),$.normalMapType!==void 0&&(ie.normalMapType=$.normalMapType),$.normalScale!==void 0){let se=$.normalScale;Array.isArray(se)===!1&&(se=[se,se]),ie.normalScale=new Vector2().fromArray(se)}return $.displacementMap!==void 0&&(ie.displacementMap=ne($.displacementMap)),$.displacementScale!==void 0&&(ie.displacementScale=$.displacementScale),$.displacementBias!==void 0&&(ie.displacementBias=$.displacementBias),$.roughnessMap!==void 0&&(ie.roughnessMap=ne($.roughnessMap)),$.metalnessMap!==void 0&&(ie.metalnessMap=ne($.metalnessMap)),$.emissiveMap!==void 0&&(ie.emissiveMap=ne($.emissiveMap)),$.emissiveIntensity!==void 0&&(ie.emissiveIntensity=$.emissiveIntensity),$.specularMap!==void 0&&(ie.specularMap=ne($.specularMap)),$.specularIntensityMap!==void 0&&(ie.specularIntensityMap=ne($.specularIntensityMap)),$.specularColorMap!==void 0&&(ie.specularColorMap=ne($.specularColorMap)),$.envMap!==void 0&&(ie.envMap=ne($.envMap)),$.envMapRotation!==void 0&&ie.envMapRotation.fromArray($.envMapRotation),$.envMapIntensity!==void 0&&(ie.envMapIntensity=$.envMapIntensity),$.reflectivity!==void 0&&(ie.reflectivity=$.reflectivity),$.refractionRatio!==void 0&&(ie.refractionRatio=$.refractionRatio),$.lightMap!==void 0&&(ie.lightMap=ne($.lightMap)),$.lightMapIntensity!==void 0&&(ie.lightMapIntensity=$.lightMapIntensity),$.aoMap!==void 0&&(ie.aoMap=ne($.aoMap)),$.aoMapIntensity!==void 0&&(ie.aoMapIntensity=$.aoMapIntensity),$.gradientMap!==void 0&&(ie.gradientMap=ne($.gradientMap)),$.clearcoatMap!==void 0&&(ie.clearcoatMap=ne($.clearcoatMap)),$.clearcoatRoughnessMap!==void 0&&(ie.clearcoatRoughnessMap=ne($.clearcoatRoughnessMap)),$.clearcoatNormalMap!==void 0&&(ie.clearcoatNormalMap=ne($.clearcoatNormalMap)),$.clearcoatNormalScale!==void 0&&(ie.clearcoatNormalScale=new Vector2().fromArray($.clearcoatNormalScale)),$.iridescenceMap!==void 0&&(ie.iridescenceMap=ne($.iridescenceMap)),$.iridescenceThicknessMap!==void 0&&(ie.iridescenceThicknessMap=ne($.iridescenceThicknessMap)),$.transmissionMap!==void 0&&(ie.transmissionMap=ne($.transmissionMap)),$.thicknessMap!==void 0&&(ie.thicknessMap=ne($.thicknessMap)),$.anisotropyMap!==void 0&&(ie.anisotropyMap=ne($.anisotropyMap)),$.sheenColorMap!==void 0&&(ie.sheenColorMap=ne($.sheenColorMap)),$.sheenRoughnessMap!==void 0&&(ie.sheenRoughnessMap=ne($.sheenRoughnessMap)),ie}setTextures($){return this.textures=$,this}createMaterialFromType($){return MaterialLoader.createMaterialFromType($)}static createMaterialFromType($){const te={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new te[$]}}class LoaderUtils{static decodeText($){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode($);let te="";for(let ne=0,ie=$.length;ne<ie;ne++)te+=String.fromCharCode($[ne]);try{return decodeURIComponent(escape(te))}catch{return te}}static extractUrlBase($){const te=$.lastIndexOf("/");return te===-1?"./":$.slice(0,te+1)}static resolveURL($,te){return typeof $!="string"||$===""?"":(/^https?:\/\//i.test(te)&&/^\//.test($)&&(te=te.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test($)||/^data:.*,.*$/i.test($)||/^blob:.*$/i.test($)?$:te+$)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy($){return super.copy($),this.instanceCount=$.instanceCount,this}toJSON(){const $=super.toJSON();return $.instanceCount=this.instanceCount,$.isInstancedBufferGeometry=!0,$}}class BufferGeometryLoader extends Loader{constructor($){super($)}load($,te,ne,ie){const se=this,le=new FileLoader(se.manager);le.setPath(se.path),le.setRequestHeader(se.requestHeader),le.setWithCredentials(se.withCredentials),le.load($,function(oe){try{te(se.parse(JSON.parse(oe)))}catch(ce){ie?ie(ce):console.error(ce),se.manager.itemError($)}},ne,ie)}parse($){const te={},ne={};function ie(re,Ae){if(te[Ae]!==void 0)return te[Ae];const Se=re.interleavedBuffers[Ae],fe=se(re,Se.buffer),be=getTypedArray(Se.type,fe),xe=new InterleavedBuffer(be,Se.stride);return xe.uuid=Se.uuid,te[Ae]=xe,xe}function se(re,Ae){if(ne[Ae]!==void 0)return ne[Ae];const Se=re.arrayBuffers[Ae],fe=new Uint32Array(Se).buffer;return ne[Ae]=fe,fe}const le=$.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,oe=$.data.index;if(oe!==void 0){const re=getTypedArray(oe.type,oe.array);le.setIndex(new BufferAttribute(re,1))}const ce=$.data.attributes;for(const re in ce){const Ae=ce[re];let ge;if(Ae.isInterleavedBufferAttribute){const Se=ie($.data,Ae.data);ge=new InterleavedBufferAttribute(Se,Ae.itemSize,Ae.offset,Ae.normalized)}else{const Se=getTypedArray(Ae.type,Ae.array),fe=Ae.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;ge=new fe(Se,Ae.itemSize,Ae.normalized)}Ae.name!==void 0&&(ge.name=Ae.name),Ae.usage!==void 0&&ge.setUsage(Ae.usage),le.setAttribute(re,ge)}const ae=$.data.morphAttributes;if(ae)for(const re in ae){const Ae=ae[re],ge=[];for(let Se=0,fe=Ae.length;Se<fe;Se++){const be=Ae[Se];let xe;if(be.isInterleavedBufferAttribute){const ue=ie($.data,be.data);xe=new InterleavedBufferAttribute(ue,be.itemSize,be.offset,be.normalized)}else{const ue=getTypedArray(be.type,be.array);xe=new BufferAttribute(ue,be.itemSize,be.normalized)}be.name!==void 0&&(xe.name=be.name),ge.push(xe)}le.morphAttributes[re]=ge}$.data.morphTargetsRelative&&(le.morphTargetsRelative=!0);const de=$.data.groups||$.data.drawcalls||$.data.offsets;if(de!==void 0)for(let re=0,Ae=de.length;re!==Ae;++re){const ge=de[re];le.addGroup(ge.start,ge.count,ge.materialIndex)}const pe=$.data.boundingSphere;if(pe!==void 0){const re=new Vector3;pe.center!==void 0&&re.fromArray(pe.center),le.boundingSphere=new Sphere(re,pe.radius)}return $.name&&(le.name=$.name),$.userData&&(le.userData=$.userData),le}}class ObjectLoader extends Loader{constructor($){super($)}load($,te,ne,ie){const se=this,le=this.path===""?LoaderUtils.extractUrlBase($):this.path;this.resourcePath=this.resourcePath||le;const oe=new FileLoader(this.manager);oe.setPath(this.path),oe.setRequestHeader(this.requestHeader),oe.setWithCredentials(this.withCredentials),oe.load($,function(ce){let ae=null;try{ae=JSON.parse(ce)}catch(de){ie!==void 0&&ie(de),console.error("THREE:ObjectLoader: Can't parse "+$+".",de.message);return}const he=ae.metadata;if(he===void 0||he.type===void 0||he.type.toLowerCase()==="geometry"){ie!==void 0&&ie(new Error("THREE.ObjectLoader: Can't load "+$)),console.error("THREE.ObjectLoader: Can't load "+$);return}se.parse(ae,te)},ne,ie)}async loadAsync($,te){const ne=this,ie=this.path===""?LoaderUtils.extractUrlBase($):this.path;this.resourcePath=this.resourcePath||ie;const se=new FileLoader(this.manager);se.setPath(this.path),se.setRequestHeader(this.requestHeader),se.setWithCredentials(this.withCredentials);const le=await se.loadAsync($,te),oe=JSON.parse(le),ce=oe.metadata;if(ce===void 0||ce.type===void 0||ce.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+$);return await ne.parseAsync(oe)}parse($,te){const ne=this.parseAnimations($.animations),ie=this.parseShapes($.shapes),se=this.parseGeometries($.geometries,ie),le=this.parseImages($.images,function(){te!==void 0&&te(ae)}),oe=this.parseTextures($.textures,le),ce=this.parseMaterials($.materials,oe),ae=this.parseObject($.object,se,ce,oe,ne),he=this.parseSkeletons($.skeletons,ae);if(this.bindSkeletons(ae,he),this.bindLightTargets(ae),te!==void 0){let de=!1;for(const pe in le)if(le[pe].data instanceof HTMLImageElement){de=!0;break}de===!1&&te(ae)}return ae}async parseAsync($){const te=this.parseAnimations($.animations),ne=this.parseShapes($.shapes),ie=this.parseGeometries($.geometries,ne),se=await this.parseImagesAsync($.images),le=this.parseTextures($.textures,se),oe=this.parseMaterials($.materials,le),ce=this.parseObject($.object,ie,oe,le,te),ae=this.parseSkeletons($.skeletons,ce);return this.bindSkeletons(ce,ae),this.bindLightTargets(ce),ce}parseShapes($){const te={};if($!==void 0)for(let ne=0,ie=$.length;ne<ie;ne++){const se=new Shape().fromJSON($[ne]);te[se.uuid]=se}return te}parseSkeletons($,te){const ne={},ie={};if(te.traverse(function(se){se.isBone&&(ie[se.uuid]=se)}),$!==void 0)for(let se=0,le=$.length;se<le;se++){const oe=new Skeleton$1().fromJSON($[se],ie);ne[oe.uuid]=oe}return ne}parseGeometries($,te){const ne={};if($!==void 0){const ie=new BufferGeometryLoader;for(let se=0,le=$.length;se<le;se++){let oe;const ce=$[se];switch(ce.type){case"BufferGeometry":case"InstancedBufferGeometry":oe=ie.parse(ce);break;default:ce.type in Geometries?oe=Geometries[ce.type].fromJSON(ce,te):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${ce.type}"`)}oe.uuid=ce.uuid,ce.name!==void 0&&(oe.name=ce.name),ce.userData!==void 0&&(oe.userData=ce.userData),ne[ce.uuid]=oe}}return ne}parseMaterials($,te){const ne={},ie={};if($!==void 0){const se=new MaterialLoader;se.setTextures(te);for(let le=0,oe=$.length;le<oe;le++){const ce=$[le];ne[ce.uuid]===void 0&&(ne[ce.uuid]=se.parse(ce)),ie[ce.uuid]=ne[ce.uuid]}}return ie}parseAnimations($){const te={};if($!==void 0)for(let ne=0;ne<$.length;ne++){const ie=$[ne],se=AnimationClip.parse(ie);te[se.uuid]=se}return te}parseImages($,te){const ne=this,ie={};let se;function le(ce){return ne.manager.itemStart(ce),se.load(ce,function(){ne.manager.itemEnd(ce)},void 0,function(){ne.manager.itemError(ce),ne.manager.itemEnd(ce)})}function oe(ce){if(typeof ce=="string"){const ae=ce,he=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ae)?ae:ne.resourcePath+ae;return le(he)}else return ce.data?{data:getTypedArray(ce.type,ce.data),width:ce.width,height:ce.height}:null}if($!==void 0&&$.length>0){const ce=new LoadingManager(te);se=new ImageLoader(ce),se.setCrossOrigin(this.crossOrigin);for(let ae=0,he=$.length;ae<he;ae++){const de=$[ae],pe=de.url;if(Array.isArray(pe)){const re=[];for(let Ae=0,ge=pe.length;Ae<ge;Ae++){const Se=pe[Ae],fe=oe(Se);fe!==null&&(fe instanceof HTMLImageElement?re.push(fe):re.push(new DataTexture(fe.data,fe.width,fe.height)))}ie[de.uuid]=new Source(re)}else{const re=oe(de.url);ie[de.uuid]=new Source(re)}}}return ie}async parseImagesAsync($){const te=this,ne={};let ie;async function se(le){if(typeof le=="string"){const oe=le,ce=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(oe)?oe:te.resourcePath+oe;return await ie.loadAsync(ce)}else return le.data?{data:getTypedArray(le.type,le.data),width:le.width,height:le.height}:null}if($!==void 0&&$.length>0){ie=new ImageLoader(this.manager),ie.setCrossOrigin(this.crossOrigin);for(let le=0,oe=$.length;le<oe;le++){const ce=$[le],ae=ce.url;if(Array.isArray(ae)){const he=[];for(let de=0,pe=ae.length;de<pe;de++){const re=ae[de],Ae=await se(re);Ae!==null&&(Ae instanceof HTMLImageElement?he.push(Ae):he.push(new DataTexture(Ae.data,Ae.width,Ae.height)))}ne[ce.uuid]=new Source(he)}else{const he=await se(ce.url);ne[ce.uuid]=new Source(he)}}}return ne}parseTextures($,te){function ne(se,le){return typeof se=="number"?se:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",se),le[se])}const ie={};if($!==void 0)for(let se=0,le=$.length;se<le;se++){const oe=$[se];oe.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',oe.uuid),te[oe.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",oe.image);const ce=te[oe.image],ae=ce.data;let he;Array.isArray(ae)?(he=new CubeTexture,ae.length===6&&(he.needsUpdate=!0)):(ae&&ae.data?he=new DataTexture:he=new Texture,ae&&(he.needsUpdate=!0)),he.source=ce,he.uuid=oe.uuid,oe.name!==void 0&&(he.name=oe.name),oe.mapping!==void 0&&(he.mapping=ne(oe.mapping,TEXTURE_MAPPING)),oe.channel!==void 0&&(he.channel=oe.channel),oe.offset!==void 0&&he.offset.fromArray(oe.offset),oe.repeat!==void 0&&he.repeat.fromArray(oe.repeat),oe.center!==void 0&&he.center.fromArray(oe.center),oe.rotation!==void 0&&(he.rotation=oe.rotation),oe.wrap!==void 0&&(he.wrapS=ne(oe.wrap[0],TEXTURE_WRAPPING),he.wrapT=ne(oe.wrap[1],TEXTURE_WRAPPING)),oe.format!==void 0&&(he.format=oe.format),oe.internalFormat!==void 0&&(he.internalFormat=oe.internalFormat),oe.type!==void 0&&(he.type=oe.type),oe.colorSpace!==void 0&&(he.colorSpace=oe.colorSpace),oe.minFilter!==void 0&&(he.minFilter=ne(oe.minFilter,TEXTURE_FILTER)),oe.magFilter!==void 0&&(he.magFilter=ne(oe.magFilter,TEXTURE_FILTER)),oe.anisotropy!==void 0&&(he.anisotropy=oe.anisotropy),oe.flipY!==void 0&&(he.flipY=oe.flipY),oe.generateMipmaps!==void 0&&(he.generateMipmaps=oe.generateMipmaps),oe.premultiplyAlpha!==void 0&&(he.premultiplyAlpha=oe.premultiplyAlpha),oe.unpackAlignment!==void 0&&(he.unpackAlignment=oe.unpackAlignment),oe.compareFunction!==void 0&&(he.compareFunction=oe.compareFunction),oe.userData!==void 0&&(he.userData=oe.userData),ie[oe.uuid]=he}return ie}parseObject($,te,ne,ie,se){let le;function oe(pe){return te[pe]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",pe),te[pe]}function ce(pe){if(pe!==void 0){if(Array.isArray(pe)){const re=[];for(let Ae=0,ge=pe.length;Ae<ge;Ae++){const Se=pe[Ae];ne[Se]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Se),re.push(ne[Se])}return re}return ne[pe]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",pe),ne[pe]}}function ae(pe){return ie[pe]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",pe),ie[pe]}let he,de;switch($.type){case"Scene":le=new Scene,$.background!==void 0&&(Number.isInteger($.background)?le.background=new Color($.background):le.background=ae($.background)),$.environment!==void 0&&(le.environment=ae($.environment)),$.fog!==void 0&&($.fog.type==="Fog"?le.fog=new Fog($.fog.color,$.fog.near,$.fog.far):$.fog.type==="FogExp2"&&(le.fog=new FogExp2($.fog.color,$.fog.density)),$.fog.name!==""&&(le.fog.name=$.fog.name)),$.backgroundBlurriness!==void 0&&(le.backgroundBlurriness=$.backgroundBlurriness),$.backgroundIntensity!==void 0&&(le.backgroundIntensity=$.backgroundIntensity),$.backgroundRotation!==void 0&&le.backgroundRotation.fromArray($.backgroundRotation),$.environmentIntensity!==void 0&&(le.environmentIntensity=$.environmentIntensity),$.environmentRotation!==void 0&&le.environmentRotation.fromArray($.environmentRotation);break;case"PerspectiveCamera":le=new PerspectiveCamera($.fov,$.aspect,$.near,$.far),$.focus!==void 0&&(le.focus=$.focus),$.zoom!==void 0&&(le.zoom=$.zoom),$.filmGauge!==void 0&&(le.filmGauge=$.filmGauge),$.filmOffset!==void 0&&(le.filmOffset=$.filmOffset),$.view!==void 0&&(le.view=Object.assign({},$.view));break;case"OrthographicCamera":le=new OrthographicCamera($.left,$.right,$.top,$.bottom,$.near,$.far),$.zoom!==void 0&&(le.zoom=$.zoom),$.view!==void 0&&(le.view=Object.assign({},$.view));break;case"AmbientLight":le=new AmbientLight($.color,$.intensity);break;case"DirectionalLight":le=new DirectionalLight($.color,$.intensity),le.target=$.target||"";break;case"PointLight":le=new PointLight($.color,$.intensity,$.distance,$.decay);break;case"RectAreaLight":le=new RectAreaLight($.color,$.intensity,$.width,$.height);break;case"SpotLight":le=new SpotLight($.color,$.intensity,$.distance,$.angle,$.penumbra,$.decay),le.target=$.target||"";break;case"HemisphereLight":le=new HemisphereLight($.color,$.groundColor,$.intensity);break;case"LightProbe":le=new LightProbe().fromJSON($);break;case"SkinnedMesh":he=oe($.geometry),de=ce($.material),le=new SkinnedMesh(he,de),$.bindMode!==void 0&&(le.bindMode=$.bindMode),$.bindMatrix!==void 0&&le.bindMatrix.fromArray($.bindMatrix),$.skeleton!==void 0&&(le.skeleton=$.skeleton);break;case"Mesh":he=oe($.geometry),de=ce($.material),le=new Mesh(he,de);break;case"InstancedMesh":he=oe($.geometry),de=ce($.material);const pe=$.count,re=$.instanceMatrix,Ae=$.instanceColor;le=new InstancedMesh(he,de,pe),le.instanceMatrix=new InstancedBufferAttribute(new Float32Array(re.array),16),Ae!==void 0&&(le.instanceColor=new InstancedBufferAttribute(new Float32Array(Ae.array),Ae.itemSize));break;case"BatchedMesh":he=oe($.geometry),de=ce($.material),le=new BatchedMesh($.maxInstanceCount,$.maxVertexCount,$.maxIndexCount,de),le.geometry=he,le.perObjectFrustumCulled=$.perObjectFrustumCulled,le.sortObjects=$.sortObjects,le._drawRanges=$.drawRanges,le._reservedRanges=$.reservedRanges,le._visibility=$.visibility,le._active=$.active,le._bounds=$.bounds.map(ge=>{const Se=new Box3;Se.min.fromArray(ge.boxMin),Se.max.fromArray(ge.boxMax);const fe=new Sphere;return fe.radius=ge.sphereRadius,fe.center.fromArray(ge.sphereCenter),{boxInitialized:ge.boxInitialized,box:Se,sphereInitialized:ge.sphereInitialized,sphere:fe}}),le._maxInstanceCount=$.maxInstanceCount,le._maxVertexCount=$.maxVertexCount,le._maxIndexCount=$.maxIndexCount,le._geometryInitialized=$.geometryInitialized,le._geometryCount=$.geometryCount,le._matricesTexture=ae($.matricesTexture.uuid),$.colorsTexture!==void 0&&(le._colorsTexture=ae($.colorsTexture.uuid));break;case"LOD":le=new LOD;break;case"Line":le=new Line(oe($.geometry),ce($.material));break;case"LineLoop":le=new LineLoop(oe($.geometry),ce($.material));break;case"LineSegments":le=new LineSegments(oe($.geometry),ce($.material));break;case"PointCloud":case"Points":le=new Points(oe($.geometry),ce($.material));break;case"Sprite":le=new Sprite(ce($.material));break;case"Group":le=new Group;break;case"Bone":le=new Bone;break;default:le=new Object3D}if(le.uuid=$.uuid,$.name!==void 0&&(le.name=$.name),$.matrix!==void 0?(le.matrix.fromArray($.matrix),$.matrixAutoUpdate!==void 0&&(le.matrixAutoUpdate=$.matrixAutoUpdate),le.matrixAutoUpdate&&le.matrix.decompose(le.position,le.quaternion,le.scale)):($.position!==void 0&&le.position.fromArray($.position),$.rotation!==void 0&&le.rotation.fromArray($.rotation),$.quaternion!==void 0&&le.quaternion.fromArray($.quaternion),$.scale!==void 0&&le.scale.fromArray($.scale)),$.up!==void 0&&le.up.fromArray($.up),$.castShadow!==void 0&&(le.castShadow=$.castShadow),$.receiveShadow!==void 0&&(le.receiveShadow=$.receiveShadow),$.shadow&&($.shadow.intensity!==void 0&&(le.shadow.intensity=$.shadow.intensity),$.shadow.bias!==void 0&&(le.shadow.bias=$.shadow.bias),$.shadow.normalBias!==void 0&&(le.shadow.normalBias=$.shadow.normalBias),$.shadow.radius!==void 0&&(le.shadow.radius=$.shadow.radius),$.shadow.mapSize!==void 0&&le.shadow.mapSize.fromArray($.shadow.mapSize),$.shadow.camera!==void 0&&(le.shadow.camera=this.parseObject($.shadow.camera))),$.visible!==void 0&&(le.visible=$.visible),$.frustumCulled!==void 0&&(le.frustumCulled=$.frustumCulled),$.renderOrder!==void 0&&(le.renderOrder=$.renderOrder),$.userData!==void 0&&(le.userData=$.userData),$.layers!==void 0&&(le.layers.mask=$.layers),$.children!==void 0){const pe=$.children;for(let re=0;re<pe.length;re++)le.add(this.parseObject(pe[re],te,ne,ie,se))}if($.animations!==void 0){const pe=$.animations;for(let re=0;re<pe.length;re++){const Ae=pe[re];le.animations.push(se[Ae])}}if($.type==="LOD"){$.autoUpdate!==void 0&&(le.autoUpdate=$.autoUpdate);const pe=$.levels;for(let re=0;re<pe.length;re++){const Ae=pe[re],ge=le.getObjectByProperty("uuid",Ae.object);ge!==void 0&&le.addLevel(ge,Ae.distance,Ae.hysteresis)}}return le}bindSkeletons($,te){Object.keys(te).length!==0&&$.traverse(function(ne){if(ne.isSkinnedMesh===!0&&ne.skeleton!==void 0){const ie=te[ne.skeleton];ie===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",ne.skeleton):ne.bind(ie,ne.bindMatrix)}})}bindLightTargets($){$.traverse(function(te){if(te.isDirectionalLight||te.isSpotLight){const ne=te.target,ie=$.getObjectByProperty("uuid",ne);ie!==void 0?te.target=ie:te.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader{constructor($){super($),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions($){return this.options=$,this}load($,te,ne,ie){$===void 0&&($=""),this.path!==void 0&&($=this.path+$),$=this.manager.resolveURL($);const se=this,le=Cache.get($);if(le!==void 0){if(se.manager.itemStart($),le.then){le.then(ae=>{te&&te(ae),se.manager.itemEnd($)}).catch(ae=>{ie&&ie(ae)});return}return setTimeout(function(){te&&te(le),se.manager.itemEnd($)},0),le}const oe={};oe.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",oe.headers=this.requestHeader;const ce=fetch($,oe).then(function(ae){return ae.blob()}).then(function(ae){return createImageBitmap(ae,Object.assign(se.options,{colorSpaceConversion:"none"}))}).then(function(ae){return Cache.add($,ae),te&&te(ae),se.manager.itemEnd($),ae}).catch(function(ae){ie&&ie(ae),Cache.remove($),se.manager.itemError($),se.manager.itemEnd($)});Cache.add($,ce),se.manager.itemStart($)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext($){_context=$}}class AudioLoader extends Loader{constructor($){super($)}load($,te,ne,ie){const se=this,le=new FileLoader(this.manager);le.setResponseType("arraybuffer"),le.setPath(this.path),le.setRequestHeader(this.requestHeader),le.setWithCredentials(this.withCredentials),le.load($,function(ce){try{const ae=ce.slice(0);AudioContext.getContext().decodeAudioData(ae,function(de){te(de)}).catch(oe)}catch(ae){oe(ae)}},ne,ie);function oe(ce){ie?ie(ce):console.error(ce),se.manager.itemError($)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update($){const te=this._cache;if(te.focus!==$.focus||te.fov!==$.fov||te.aspect!==$.aspect*this.aspect||te.near!==$.near||te.far!==$.far||te.zoom!==$.zoom||te.eyeSep!==this.eyeSep){te.focus=$.focus,te.fov=$.fov,te.aspect=$.aspect*this.aspect,te.near=$.near,te.far=$.far,te.zoom=$.zoom,te.eyeSep=this.eyeSep,_projectionMatrix.copy($.projectionMatrix);const ie=te.eyeSep/2,se=ie*te.near/te.focus,le=te.near*Math.tan(DEG2RAD*te.fov*.5)/te.zoom;let oe,ce;_eyeLeft.elements[12]=-ie,_eyeRight.elements[12]=ie,oe=-le*te.aspect+se,ce=le*te.aspect+se,_projectionMatrix.elements[0]=2*te.near/(ce-oe),_projectionMatrix.elements[8]=(ce+oe)/(ce-oe),this.cameraL.projectionMatrix.copy(_projectionMatrix),oe=-le*te.aspect-se,ce=le*te.aspect-se,_projectionMatrix.elements[0]=2*te.near/(ce-oe),_projectionMatrix.elements[8]=(ce+oe)/(ce-oe),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy($.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy($.matrixWorld).multiply(_eyeRight)}}class ArrayCamera extends PerspectiveCamera{constructor($=[]){super(),this.isArrayCamera=!0,this.cameras=$,this.index=0}}class Clock{constructor($=!0){this.autoStart=$,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let $=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const te=now();$=(te-this.oldTime)/1e3,this.oldTime=te,this.elapsedTime+=$}return $}}function now(){return performance.now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter($){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=$,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume($){return this.gain.gain.setTargetAtTime($,this.context.currentTime,.01),this}updateMatrixWorld($){super.updateMatrixWorld($);const te=this.context.listener,ne=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),te.positionX){const ie=this.context.currentTime+this.timeDelta;te.positionX.linearRampToValueAtTime(_position$1.x,ie),te.positionY.linearRampToValueAtTime(_position$1.y,ie),te.positionZ.linearRampToValueAtTime(_position$1.z,ie),te.forwardX.linearRampToValueAtTime(_orientation$1.x,ie),te.forwardY.linearRampToValueAtTime(_orientation$1.y,ie),te.forwardZ.linearRampToValueAtTime(_orientation$1.z,ie),te.upX.linearRampToValueAtTime(ne.x,ie),te.upY.linearRampToValueAtTime(ne.y,ie),te.upZ.linearRampToValueAtTime(ne.z,ie)}else te.setPosition(_position$1.x,_position$1.y,_position$1.z),te.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,ne.x,ne.y,ne.z)}}class Audio extends Object3D{constructor($){super(),this.type="Audio",this.listener=$,this.context=$.context,this.gain=this.context.createGain(),this.gain.connect($.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource($){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=$,this.connect(),this}setMediaElementSource($){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource($),this.connect(),this}setMediaStreamSource($){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource($),this.connect(),this}setBuffer($){return this.buffer=$,this.sourceType="buffer",this.autoplay&&this.play(),this}play($=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+$;const te=this.context.createBufferSource();return te.buffer=this.buffer,te.loop=this.loop,te.loopStart=this.loopStart,te.loopEnd=this.loopEnd,te.onended=this.onEnded.bind(this),te.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=te,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop($=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+$),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let $=1,te=this.filters.length;$<te;$++)this.filters[$-1].connect(this.filters[$]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let $=1,te=this.filters.length;$<te;$++)this.filters[$-1].disconnect(this.filters[$]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters($){return $||($=[]),this._connected===!0?(this.disconnect(),this.filters=$.slice(),this.connect()):this.filters=$.slice(),this}setDetune($){return this.detune=$,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter($){return this.setFilters($?[$]:[])}setPlaybackRate($){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=$,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop($){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=$,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart($){return this.loopStart=$,this}setLoopEnd($){return this.loopEnd=$,this}getVolume(){return this.gain.gain.value}setVolume($){return this.gain.gain.setTargetAtTime($,this.context.currentTime,.01),this}copy($,te){return super.copy($,te),$.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=$.autoplay,this.buffer=$.buffer,this.detune=$.detune,this.loop=$.loop,this.loopStart=$.loopStart,this.loopEnd=$.loopEnd,this.offset=$.offset,this.duration=$.duration,this.playbackRate=$.playbackRate,this.hasPlaybackControl=$.hasPlaybackControl,this.sourceType=$.sourceType,this.filters=$.filters.slice(),this)}clone($){return new this.constructor(this.listener).copy(this,$)}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor($){super($),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance($){return this.panner.refDistance=$,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor($){return this.panner.rolloffFactor=$,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel($){return this.panner.distanceModel=$,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance($){return this.panner.maxDistance=$,this}setDirectionalCone($,te,ne){return this.panner.coneInnerAngle=$,this.panner.coneOuterAngle=te,this.panner.coneOuterGain=ne,this}updateMatrixWorld($){if(super.updateMatrixWorld($),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const te=this.panner;if(te.positionX){const ne=this.context.currentTime+this.listener.timeDelta;te.positionX.linearRampToValueAtTime(_position.x,ne),te.positionY.linearRampToValueAtTime(_position.y,ne),te.positionZ.linearRampToValueAtTime(_position.z,ne),te.orientationX.linearRampToValueAtTime(_orientation.x,ne),te.orientationY.linearRampToValueAtTime(_orientation.y,ne),te.orientationZ.linearRampToValueAtTime(_orientation.z,ne)}else te.setPosition(_position.x,_position.y,_position.z),te.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor($,te=2048){this.analyser=$.context.createAnalyser(),this.analyser.fftSize=te,this.data=new Uint8Array(this.analyser.frequencyBinCount),$.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let $=0;const te=this.getFrequencyData();for(let ne=0;ne<te.length;ne++)$+=te[ne];return $/te.length}}class PropertyMixer{constructor($,te,ne){this.binding=$,this.valueSize=ne;let ie,se,le;switch(te){case"quaternion":ie=this._slerp,se=this._slerpAdditive,le=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(ne*6),this._workIndex=5;break;case"string":case"bool":ie=this._select,se=this._select,le=this._setAdditiveIdentityOther,this.buffer=new Array(ne*5);break;default:ie=this._lerp,se=this._lerpAdditive,le=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(ne*5)}this._mixBufferRegion=ie,this._mixBufferRegionAdditive=se,this._setIdentity=le,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate($,te){const ne=this.buffer,ie=this.valueSize,se=$*ie+ie;let le=this.cumulativeWeight;if(le===0){for(let oe=0;oe!==ie;++oe)ne[se+oe]=ne[oe];le=te}else{le+=te;const oe=te/le;this._mixBufferRegion(ne,se,0,oe,ie)}this.cumulativeWeight=le}accumulateAdditive($){const te=this.buffer,ne=this.valueSize,ie=ne*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(te,ie,0,$,ne),this.cumulativeWeightAdditive+=$}apply($){const te=this.valueSize,ne=this.buffer,ie=$*te+te,se=this.cumulativeWeight,le=this.cumulativeWeightAdditive,oe=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,se<1){const ce=te*this._origIndex;this._mixBufferRegion(ne,ie,ce,1-se,te)}le>0&&this._mixBufferRegionAdditive(ne,ie,this._addIndex*te,1,te);for(let ce=te,ae=te+te;ce!==ae;++ce)if(ne[ce]!==ne[ce+te]){oe.setValue(ne,ie);break}}saveOriginalState(){const $=this.binding,te=this.buffer,ne=this.valueSize,ie=ne*this._origIndex;$.getValue(te,ie);for(let se=ne,le=ie;se!==le;++se)te[se]=te[ie+se%ne];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const $=this.valueSize*3;this.binding.setValue(this.buffer,$)}_setAdditiveIdentityNumeric(){const $=this._addIndex*this.valueSize,te=$+this.valueSize;for(let ne=$;ne<te;ne++)this.buffer[ne]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const $=this._origIndex*this.valueSize,te=this._addIndex*this.valueSize;for(let ne=0;ne<this.valueSize;ne++)this.buffer[te+ne]=this.buffer[$+ne]}_select($,te,ne,ie,se){if(ie>=.5)for(let le=0;le!==se;++le)$[te+le]=$[ne+le]}_slerp($,te,ne,ie){Quaternion.slerpFlat($,te,$,te,$,ne,ie)}_slerpAdditive($,te,ne,ie,se){const le=this._workIndex*se;Quaternion.multiplyQuaternionsFlat($,le,$,te,$,ne),Quaternion.slerpFlat($,te,$,te,$,le,ie)}_lerp($,te,ne,ie,se){const le=1-ie;for(let oe=0;oe!==se;++oe){const ce=te+oe;$[ce]=$[ce]*le+$[ne+oe]*ie}}_lerpAdditive($,te,ne,ie,se){for(let le=0;le!==se;++le){const oe=te+le;$[oe]=$[oe]+$[ne+le]*ie}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor($,te,ne){const ie=ne||PropertyBinding.parseTrackName(te);this._targetGroup=$,this._bindings=$.subscribe_(te,ie)}getValue($,te){this.bind();const ne=this._targetGroup.nCachedObjects_,ie=this._bindings[ne];ie!==void 0&&ie.getValue($,te)}setValue($,te){const ne=this._bindings;for(let ie=this._targetGroup.nCachedObjects_,se=ne.length;ie!==se;++ie)ne[ie].setValue($,te)}bind(){const $=this._bindings;for(let te=this._targetGroup.nCachedObjects_,ne=$.length;te!==ne;++te)$[te].bind()}unbind(){const $=this._bindings;for(let te=this._targetGroup.nCachedObjects_,ne=$.length;te!==ne;++te)$[te].unbind()}}class PropertyBinding{constructor($,te,ne){this.path=te,this.parsedPath=ne||PropertyBinding.parseTrackName(te),this.node=PropertyBinding.findNode($,this.parsedPath.nodeName),this.rootNode=$,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create($,te,ne){return $&&$.isAnimationObjectGroup?new PropertyBinding.Composite($,te,ne):new PropertyBinding($,te,ne)}static sanitizeNodeName($){return $.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName($){const te=_trackRe.exec($);if(te===null)throw new Error("PropertyBinding: Cannot parse trackName: "+$);const ne={nodeName:te[2],objectName:te[3],objectIndex:te[4],propertyName:te[5],propertyIndex:te[6]},ie=ne.nodeName&&ne.nodeName.lastIndexOf(".");if(ie!==void 0&&ie!==-1){const se=ne.nodeName.substring(ie+1);_supportedObjectNames.indexOf(se)!==-1&&(ne.nodeName=ne.nodeName.substring(0,ie),ne.objectName=se)}if(ne.propertyName===null||ne.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+$);return ne}static findNode($,te){if(te===void 0||te===""||te==="."||te===-1||te===$.name||te===$.uuid)return $;if($.skeleton){const ne=$.skeleton.getBoneByName(te);if(ne!==void 0)return ne}if($.children){const ne=function(se){for(let le=0;le<se.length;le++){const oe=se[le];if(oe.name===te||oe.uuid===te)return oe;const ce=ne(oe.children);if(ce)return ce}return null},ie=ne($.children);if(ie)return ie}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct($,te){$[te]=this.targetObject[this.propertyName]}_getValue_array($,te){const ne=this.resolvedProperty;for(let ie=0,se=ne.length;ie!==se;++ie)$[te++]=ne[ie]}_getValue_arrayElement($,te){$[te]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray($,te){this.resolvedProperty.toArray($,te)}_setValue_direct($,te){this.targetObject[this.propertyName]=$[te]}_setValue_direct_setNeedsUpdate($,te){this.targetObject[this.propertyName]=$[te],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate($,te){this.targetObject[this.propertyName]=$[te],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array($,te){const ne=this.resolvedProperty;for(let ie=0,se=ne.length;ie!==se;++ie)ne[ie]=$[te++]}_setValue_array_setNeedsUpdate($,te){const ne=this.resolvedProperty;for(let ie=0,se=ne.length;ie!==se;++ie)ne[ie]=$[te++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate($,te){const ne=this.resolvedProperty;for(let ie=0,se=ne.length;ie!==se;++ie)ne[ie]=$[te++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement($,te){this.resolvedProperty[this.propertyIndex]=$[te]}_setValue_arrayElement_setNeedsUpdate($,te){this.resolvedProperty[this.propertyIndex]=$[te],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate($,te){this.resolvedProperty[this.propertyIndex]=$[te],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray($,te){this.resolvedProperty.fromArray($,te)}_setValue_fromArray_setNeedsUpdate($,te){this.resolvedProperty.fromArray($,te),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate($,te){this.resolvedProperty.fromArray($,te),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound($,te){this.bind(),this.getValue($,te)}_setValue_unbound($,te){this.bind(),this.setValue($,te)}bind(){let $=this.node;const te=this.parsedPath,ne=te.objectName,ie=te.propertyName;let se=te.propertyIndex;if($||($=PropertyBinding.findNode(this.rootNode,te.nodeName),this.node=$),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!$){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(ne){let ae=te.objectIndex;switch(ne){case"materials":if(!$.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!$.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}$=$.material.materials;break;case"bones":if(!$.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}$=$.skeleton.bones;for(let he=0;he<$.length;he++)if($[he].name===ae){ae=he;break}break;case"map":if("map"in $){$=$.map;break}if(!$.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!$.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}$=$.material.map;break;default:if($[ne]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}$=$[ne]}if(ae!==void 0){if($[ae]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,$);return}$=$[ae]}}const le=$[ie];if(le===void 0){const ae=te.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ae+"."+ie+" but it wasn't found.",$);return}let oe=this.Versioning.None;this.targetObject=$,$.isMaterial===!0?oe=this.Versioning.NeedsUpdate:$.isObject3D===!0&&(oe=this.Versioning.MatrixWorldNeedsUpdate);let ce=this.BindingType.Direct;if(se!==void 0){if(ie==="morphTargetInfluences"){if(!$.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!$.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}$.morphTargetDictionary[se]!==void 0&&(se=$.morphTargetDictionary[se])}ce=this.BindingType.ArrayElement,this.resolvedProperty=le,this.propertyIndex=se}else le.fromArray!==void 0&&le.toArray!==void 0?(ce=this.BindingType.HasFromToArray,this.resolvedProperty=le):Array.isArray(le)?(ce=this.BindingType.EntireArray,this.resolvedProperty=le):this.propertyName=ie;this.getValue=this.GetterByBindingType[ce],this.setValue=this.SetterByBindingTypeAndVersioning[ce][oe]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const $={};this._indicesByUUID=$;for(let ne=0,ie=arguments.length;ne!==ie;++ne)$[arguments[ne].uuid]=ne;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const te=this;this.stats={objects:{get total(){return te._objects.length},get inUse(){return this.total-te.nCachedObjects_}},get bindingsPerObject(){return te._bindings.length}}}add(){const $=this._objects,te=this._indicesByUUID,ne=this._paths,ie=this._parsedPaths,se=this._bindings,le=se.length;let oe,ce=$.length,ae=this.nCachedObjects_;for(let he=0,de=arguments.length;he!==de;++he){const pe=arguments[he],re=pe.uuid;let Ae=te[re];if(Ae===void 0){Ae=ce++,te[re]=Ae,$.push(pe);for(let ge=0,Se=le;ge!==Se;++ge)se[ge].push(new PropertyBinding(pe,ne[ge],ie[ge]))}else if(Ae<ae){oe=$[Ae];const ge=--ae,Se=$[ge];te[Se.uuid]=Ae,$[Ae]=Se,te[re]=ge,$[ge]=pe;for(let fe=0,be=le;fe!==be;++fe){const xe=se[fe],ue=xe[ge];let we=xe[Ae];xe[Ae]=ue,we===void 0&&(we=new PropertyBinding(pe,ne[fe],ie[fe])),xe[ge]=we}}else $[Ae]!==oe&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=ae}remove(){const $=this._objects,te=this._indicesByUUID,ne=this._bindings,ie=ne.length;let se=this.nCachedObjects_;for(let le=0,oe=arguments.length;le!==oe;++le){const ce=arguments[le],ae=ce.uuid,he=te[ae];if(he!==void 0&&he>=se){const de=se++,pe=$[de];te[pe.uuid]=he,$[he]=pe,te[ae]=de,$[de]=ce;for(let re=0,Ae=ie;re!==Ae;++re){const ge=ne[re],Se=ge[de],fe=ge[he];ge[he]=Se,ge[de]=fe}}}this.nCachedObjects_=se}uncache(){const $=this._objects,te=this._indicesByUUID,ne=this._bindings,ie=ne.length;let se=this.nCachedObjects_,le=$.length;for(let oe=0,ce=arguments.length;oe!==ce;++oe){const ae=arguments[oe],he=ae.uuid,de=te[he];if(de!==void 0)if(delete te[he],de<se){const pe=--se,re=$[pe],Ae=--le,ge=$[Ae];te[re.uuid]=de,$[de]=re,te[ge.uuid]=pe,$[pe]=ge,$.pop();for(let Se=0,fe=ie;Se!==fe;++Se){const be=ne[Se],xe=be[pe],ue=be[Ae];be[de]=xe,be[pe]=ue,be.pop()}}else{const pe=--le,re=$[pe];pe>0&&(te[re.uuid]=de),$[de]=re,$.pop();for(let Ae=0,ge=ie;Ae!==ge;++Ae){const Se=ne[Ae];Se[de]=Se[pe],Se.pop()}}}this.nCachedObjects_=se}subscribe_($,te){const ne=this._bindingsIndicesByPath;let ie=ne[$];const se=this._bindings;if(ie!==void 0)return se[ie];const le=this._paths,oe=this._parsedPaths,ce=this._objects,ae=ce.length,he=this.nCachedObjects_,de=new Array(ae);ie=se.length,ne[$]=ie,le.push($),oe.push(te),se.push(de);for(let pe=he,re=ce.length;pe!==re;++pe){const Ae=ce[pe];de[pe]=new PropertyBinding(Ae,$,te)}return de}unsubscribe_($){const te=this._bindingsIndicesByPath,ne=te[$];if(ne!==void 0){const ie=this._paths,se=this._parsedPaths,le=this._bindings,oe=le.length-1,ce=le[oe],ae=$[oe];te[ae]=ne,le[ne]=ce,le.pop(),se[ne]=se[oe],se.pop(),ie[ne]=ie[oe],ie.pop()}}}class AnimationAction{constructor($,te,ne=null,ie=te.blendMode){this._mixer=$,this._clip=te,this._localRoot=ne,this.blendMode=ie;const se=te.tracks,le=se.length,oe=new Array(le),ce={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let ae=0;ae!==le;++ae){const he=se[ae].createInterpolant(null);oe[ae]=he,he.settings=ce}this._interpolantSettings=ce,this._interpolants=oe,this._propertyBindings=new Array(le),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt($){return this._startTime=$,this}setLoop($,te){return this.loop=$,this.repetitions=te,this}setEffectiveWeight($){return this.weight=$,this._effectiveWeight=this.enabled?$:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn($){return this._scheduleFading($,0,1)}fadeOut($){return this._scheduleFading($,1,0)}crossFadeFrom($,te,ne){if($.fadeOut(te),this.fadeIn(te),ne){const ie=this._clip.duration,se=$._clip.duration,le=se/ie,oe=ie/se;$.warp(1,le,te),this.warp(oe,1,te)}return this}crossFadeTo($,te,ne){return $.crossFadeFrom(this,te,ne)}stopFading(){const $=this._weightInterpolant;return $!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant($)),this}setEffectiveTimeScale($){return this.timeScale=$,this._effectiveTimeScale=this.paused?0:$,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration($){return this.timeScale=this._clip.duration/$,this.stopWarping()}syncWith($){return this.time=$.time,this.timeScale=$.timeScale,this.stopWarping()}halt($){return this.warp(this._effectiveTimeScale,0,$)}warp($,te,ne){const ie=this._mixer,se=ie.time,le=this.timeScale;let oe=this._timeScaleInterpolant;oe===null&&(oe=ie._lendControlInterpolant(),this._timeScaleInterpolant=oe);const ce=oe.parameterPositions,ae=oe.sampleValues;return ce[0]=se,ce[1]=se+ne,ae[0]=$/le,ae[1]=te/le,this}stopWarping(){const $=this._timeScaleInterpolant;return $!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant($)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update($,te,ne,ie){if(!this.enabled){this._updateWeight($);return}const se=this._startTime;if(se!==null){const ce=($-se)*ne;ce<0||ne===0?te=0:(this._startTime=null,te=ne*ce)}te*=this._updateTimeScale($);const le=this._updateTime(te),oe=this._updateWeight($);if(oe>0){const ce=this._interpolants,ae=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let he=0,de=ce.length;he!==de;++he)ce[he].evaluate(le),ae[he].accumulateAdditive(oe);break;case NormalAnimationBlendMode:default:for(let he=0,de=ce.length;he!==de;++he)ce[he].evaluate(le),ae[he].accumulate(ie,oe)}}}_updateWeight($){let te=0;if(this.enabled){te=this.weight;const ne=this._weightInterpolant;if(ne!==null){const ie=ne.evaluate($)[0];te*=ie,$>ne.parameterPositions[1]&&(this.stopFading(),ie===0&&(this.enabled=!1))}}return this._effectiveWeight=te,te}_updateTimeScale($){let te=0;if(!this.paused){te=this.timeScale;const ne=this._timeScaleInterpolant;if(ne!==null){const ie=ne.evaluate($)[0];te*=ie,$>ne.parameterPositions[1]&&(this.stopWarping(),te===0?this.paused=!0:this.timeScale=te)}}return this._effectiveTimeScale=te,te}_updateTime($){const te=this._clip.duration,ne=this.loop;let ie=this.time+$,se=this._loopCount;const le=ne===LoopPingPong;if($===0)return se===-1?ie:le&&(se&1)===1?te-ie:ie;if(ne===LoopOnce){se===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(ie>=te)ie=te;else if(ie<0)ie=0;else{this.time=ie;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=ie,this._mixer.dispatchEvent({type:"finished",action:this,direction:$<0?-1:1})}}else{if(se===-1&&($>=0?(se=0,this._setEndings(!0,this.repetitions===0,le)):this._setEndings(this.repetitions===0,!0,le)),ie>=te||ie<0){const oe=Math.floor(ie/te);ie-=te*oe,se+=Math.abs(oe);const ce=this.repetitions-se;if(ce<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,ie=$>0?te:0,this.time=ie,this._mixer.dispatchEvent({type:"finished",action:this,direction:$>0?1:-1});else{if(ce===1){const ae=$<0;this._setEndings(ae,!ae,le)}else this._setEndings(!1,!1,le);this._loopCount=se,this.time=ie,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:oe})}}else this.time=ie;if(le&&(se&1)===1)return te-ie}return ie}_setEndings($,te,ne){const ie=this._interpolantSettings;ne?(ie.endingStart=ZeroSlopeEnding,ie.endingEnd=ZeroSlopeEnding):($?ie.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:ie.endingStart=WrapAroundEnding,te?ie.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:ie.endingEnd=WrapAroundEnding)}_scheduleFading($,te,ne){const ie=this._mixer,se=ie.time;let le=this._weightInterpolant;le===null&&(le=ie._lendControlInterpolant(),this._weightInterpolant=le);const oe=le.parameterPositions,ce=le.sampleValues;return oe[0]=se,ce[0]=te,oe[1]=se+$,ce[1]=ne,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher$1{constructor($){super(),this._root=$,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction($,te){const ne=$._localRoot||this._root,ie=$._clip.tracks,se=ie.length,le=$._propertyBindings,oe=$._interpolants,ce=ne.uuid,ae=this._bindingsByRootAndName;let he=ae[ce];he===void 0&&(he={},ae[ce]=he);for(let de=0;de!==se;++de){const pe=ie[de],re=pe.name;let Ae=he[re];if(Ae!==void 0)++Ae.referenceCount,le[de]=Ae;else{if(Ae=le[de],Ae!==void 0){Ae._cacheIndex===null&&(++Ae.referenceCount,this._addInactiveBinding(Ae,ce,re));continue}const ge=te&&te._propertyBindings[de].binding.parsedPath;Ae=new PropertyMixer(PropertyBinding.create(ne,re,ge),pe.ValueTypeName,pe.getValueSize()),++Ae.referenceCount,this._addInactiveBinding(Ae,ce,re),le[de]=Ae}oe[de].resultBuffer=Ae.buffer}}_activateAction($){if(!this._isActiveAction($)){if($._cacheIndex===null){const ne=($._localRoot||this._root).uuid,ie=$._clip.uuid,se=this._actionsByClip[ie];this._bindAction($,se&&se.knownActions[0]),this._addInactiveAction($,ie,ne)}const te=$._propertyBindings;for(let ne=0,ie=te.length;ne!==ie;++ne){const se=te[ne];se.useCount++===0&&(this._lendBinding(se),se.saveOriginalState())}this._lendAction($)}}_deactivateAction($){if(this._isActiveAction($)){const te=$._propertyBindings;for(let ne=0,ie=te.length;ne!==ie;++ne){const se=te[ne];--se.useCount===0&&(se.restoreOriginalState(),this._takeBackBinding(se))}this._takeBackAction($)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const $=this;this.stats={actions:{get total(){return $._actions.length},get inUse(){return $._nActiveActions}},bindings:{get total(){return $._bindings.length},get inUse(){return $._nActiveBindings}},controlInterpolants:{get total(){return $._controlInterpolants.length},get inUse(){return $._nActiveControlInterpolants}}}}_isActiveAction($){const te=$._cacheIndex;return te!==null&&te<this._nActiveActions}_addInactiveAction($,te,ne){const ie=this._actions,se=this._actionsByClip;let le=se[te];if(le===void 0)le={knownActions:[$],actionByRoot:{}},$._byClipCacheIndex=0,se[te]=le;else{const oe=le.knownActions;$._byClipCacheIndex=oe.length,oe.push($)}$._cacheIndex=ie.length,ie.push($),le.actionByRoot[ne]=$}_removeInactiveAction($){const te=this._actions,ne=te[te.length-1],ie=$._cacheIndex;ne._cacheIndex=ie,te[ie]=ne,te.pop(),$._cacheIndex=null;const se=$._clip.uuid,le=this._actionsByClip,oe=le[se],ce=oe.knownActions,ae=ce[ce.length-1],he=$._byClipCacheIndex;ae._byClipCacheIndex=he,ce[he]=ae,ce.pop(),$._byClipCacheIndex=null;const de=oe.actionByRoot,pe=($._localRoot||this._root).uuid;delete de[pe],ce.length===0&&delete le[se],this._removeInactiveBindingsForAction($)}_removeInactiveBindingsForAction($){const te=$._propertyBindings;for(let ne=0,ie=te.length;ne!==ie;++ne){const se=te[ne];--se.referenceCount===0&&this._removeInactiveBinding(se)}}_lendAction($){const te=this._actions,ne=$._cacheIndex,ie=this._nActiveActions++,se=te[ie];$._cacheIndex=ie,te[ie]=$,se._cacheIndex=ne,te[ne]=se}_takeBackAction($){const te=this._actions,ne=$._cacheIndex,ie=--this._nActiveActions,se=te[ie];$._cacheIndex=ie,te[ie]=$,se._cacheIndex=ne,te[ne]=se}_addInactiveBinding($,te,ne){const ie=this._bindingsByRootAndName,se=this._bindings;let le=ie[te];le===void 0&&(le={},ie[te]=le),le[ne]=$,$._cacheIndex=se.length,se.push($)}_removeInactiveBinding($){const te=this._bindings,ne=$.binding,ie=ne.rootNode.uuid,se=ne.path,le=this._bindingsByRootAndName,oe=le[ie],ce=te[te.length-1],ae=$._cacheIndex;ce._cacheIndex=ae,te[ae]=ce,te.pop(),delete oe[se],Object.keys(oe).length===0&&delete le[ie]}_lendBinding($){const te=this._bindings,ne=$._cacheIndex,ie=this._nActiveBindings++,se=te[ie];$._cacheIndex=ie,te[ie]=$,se._cacheIndex=ne,te[ne]=se}_takeBackBinding($){const te=this._bindings,ne=$._cacheIndex,ie=--this._nActiveBindings,se=te[ie];$._cacheIndex=ie,te[ie]=$,se._cacheIndex=ne,te[ne]=se}_lendControlInterpolant(){const $=this._controlInterpolants,te=this._nActiveControlInterpolants++;let ne=$[te];return ne===void 0&&(ne=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),ne.__cacheIndex=te,$[te]=ne),ne}_takeBackControlInterpolant($){const te=this._controlInterpolants,ne=$.__cacheIndex,ie=--this._nActiveControlInterpolants,se=te[ie];$.__cacheIndex=ie,te[ie]=$,se.__cacheIndex=ne,te[ne]=se}clipAction($,te,ne){const ie=te||this._root,se=ie.uuid;let le=typeof $=="string"?AnimationClip.findByName(ie,$):$;const oe=le!==null?le.uuid:$,ce=this._actionsByClip[oe];let ae=null;if(ne===void 0&&(le!==null?ne=le.blendMode:ne=NormalAnimationBlendMode),ce!==void 0){const de=ce.actionByRoot[se];if(de!==void 0&&de.blendMode===ne)return de;ae=ce.knownActions[0],le===null&&(le=ae._clip)}if(le===null)return null;const he=new AnimationAction(this,le,te,ne);return this._bindAction(he,ae),this._addInactiveAction(he,oe,se),he}existingAction($,te){const ne=te||this._root,ie=ne.uuid,se=typeof $=="string"?AnimationClip.findByName(ne,$):$,le=se?se.uuid:$,oe=this._actionsByClip[le];return oe!==void 0&&oe.actionByRoot[ie]||null}stopAllAction(){const $=this._actions,te=this._nActiveActions;for(let ne=te-1;ne>=0;--ne)$[ne].stop();return this}update($){$*=this.timeScale;const te=this._actions,ne=this._nActiveActions,ie=this.time+=$,se=Math.sign($),le=this._accuIndex^=1;for(let ae=0;ae!==ne;++ae)te[ae]._update(ie,$,se,le);const oe=this._bindings,ce=this._nActiveBindings;for(let ae=0;ae!==ce;++ae)oe[ae].apply(le);return this}setTime($){this.time=0;for(let te=0;te<this._actions.length;te++)this._actions[te].time=0;return this.update($)}getRoot(){return this._root}uncacheClip($){const te=this._actions,ne=$.uuid,ie=this._actionsByClip,se=ie[ne];if(se!==void 0){const le=se.knownActions;for(let oe=0,ce=le.length;oe!==ce;++oe){const ae=le[oe];this._deactivateAction(ae);const he=ae._cacheIndex,de=te[te.length-1];ae._cacheIndex=null,ae._byClipCacheIndex=null,de._cacheIndex=he,te[he]=de,te.pop(),this._removeInactiveBindingsForAction(ae)}delete ie[ne]}}uncacheRoot($){const te=$.uuid,ne=this._actionsByClip;for(const le in ne){const oe=ne[le].actionByRoot,ce=oe[te];ce!==void 0&&(this._deactivateAction(ce),this._removeInactiveAction(ce))}const ie=this._bindingsByRootAndName,se=ie[te];if(se!==void 0)for(const le in se){const oe=se[le];oe.restoreOriginalState(),this._removeInactiveBinding(oe)}}uncacheAction($,te){const ne=this.existingAction($,te);ne!==null&&(this._deactivateAction(ne),this._removeInactiveAction(ne))}}class RenderTarget3D extends RenderTarget{constructor($=1,te=1,ne=1,ie={}){super($,te,ie),this.isRenderTarget3D=!0,this.depth=ne,this.texture=new Data3DTexture(null,$,te,ne),this.texture.isRenderTargetTexture=!0}}class RenderTargetArray extends RenderTarget{constructor($=1,te=1,ne=1,ie={}){super($,te,ie),this.isRenderTargetArray=!0,this.depth=ne,this.texture=new DataArrayTexture(null,$,te,ne),this.texture.isRenderTargetTexture=!0}}class Uniform{constructor($){this.value=$}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id$3=0;class UniformsGroup extends EventDispatcher$1{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id$3++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add($){return this.uniforms.push($),this}remove($){const te=this.uniforms.indexOf($);return te!==-1&&this.uniforms.splice(te,1),this}setName($){return this.name=$,this}setUsage($){return this.usage=$,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy($){this.name=$.name,this.usage=$.usage;const te=$.uniforms;this.uniforms.length=0;for(let ne=0,ie=te.length;ne<ie;ne++){const se=Array.isArray(te[ne])?te[ne]:[te[ne]];for(let le=0;le<se.length;le++)this.uniforms.push(se[le].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor($,te,ne=1){super($,te),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=ne}copy($){return super.copy($),this.meshPerAttribute=$.meshPerAttribute,this}clone($){const te=super.clone($);return te.meshPerAttribute=this.meshPerAttribute,te}toJSON($){const te=super.toJSON($);return te.isInstancedInterleavedBuffer=!0,te.meshPerAttribute=this.meshPerAttribute,te}}class GLBufferAttribute{constructor($,te,ne,ie,se){this.isGLBufferAttribute=!0,this.name="",this.buffer=$,this.type=te,this.itemSize=ne,this.elementSize=ie,this.count=se,this.version=0}set needsUpdate($){$===!0&&this.version++}setBuffer($){return this.buffer=$,this}setType($,te){return this.type=$,this.elementSize=te,this}setItemSize($){return this.itemSize=$,this}setCount($){return this.count=$,this}}const _matrix=new Matrix4;class Raycaster{constructor($,te,ne=0,ie=1/0){this.ray=new Ray($,te),this.near=ne,this.far=ie,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set($,te){this.ray.set($,te)}setFromCamera($,te){te.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(te.matrixWorld),this.ray.direction.set($.x,$.y,.5).unproject(te).sub(this.ray.origin).normalize(),this.camera=te):te.isOrthographicCamera?(this.ray.origin.set($.x,$.y,(te.near+te.far)/(te.near-te.far)).unproject(te),this.ray.direction.set(0,0,-1).transformDirection(te.matrixWorld),this.camera=te):console.error("THREE.Raycaster: Unsupported camera type: "+te.type)}setFromXRController($){return _matrix.identity().extractRotation($.matrixWorld),this.ray.origin.setFromMatrixPosition($.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject($,te=!0,ne=[]){return intersect($,this,ne,te),ne.sort(ascSort),ne}intersectObjects($,te=!0,ne=[]){for(let ie=0,se=$.length;ie<se;ie++)intersect($[ie],this,ne,te);return ne.sort(ascSort),ne}}function ascSort(ee,$){return ee.distance-$.distance}function intersect(ee,$,te,ne){let ie=!0;if(ee.layers.test($.layers)&&ee.raycast($,te)===!1&&(ie=!1),ie===!0&&ne===!0){const se=ee.children;for(let le=0,oe=se.length;le<oe;le++)intersect(se[le],$,te,!0)}}class Spherical{constructor($=1,te=0,ne=0){this.radius=$,this.phi=te,this.theta=ne}set($,te,ne){return this.radius=$,this.phi=te,this.theta=ne,this}copy($){return this.radius=$.radius,this.phi=$.phi,this.theta=$.theta,this}makeSafe(){return this.phi=clamp$1(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3($){return this.setFromCartesianCoords($.x,$.y,$.z)}setFromCartesianCoords($,te,ne){return this.radius=Math.sqrt($*$+te*te+ne*ne),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2($,ne),this.phi=Math.acos(clamp$1(te/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor($=1,te=0,ne=0){this.radius=$,this.theta=te,this.y=ne}set($,te,ne){return this.radius=$,this.theta=te,this.y=ne,this}copy($){return this.radius=$.radius,this.theta=$.theta,this.y=$.y,this}setFromVector3($){return this.setFromCartesianCoords($.x,$.y,$.z)}setFromCartesianCoords($,te,ne){return this.radius=Math.sqrt($*$+ne*ne),this.theta=Math.atan2($,ne),this.y=te,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor($,te,ne,ie){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],$!==void 0&&this.set($,te,ne,ie)}identity(){return this.set(1,0,0,1),this}fromArray($,te=0){for(let ne=0;ne<4;ne++)this.elements[ne]=$[ne+te];return this}set($,te,ne,ie){const se=this.elements;return se[0]=$,se[2]=te,se[1]=ne,se[3]=ie,this}}const _vector$4=new Vector2;class Box2{constructor($=new Vector2(1/0,1/0),te=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=$,this.max=te}set($,te){return this.min.copy($),this.max.copy(te),this}setFromPoints($){this.makeEmpty();for(let te=0,ne=$.length;te<ne;te++)this.expandByPoint($[te]);return this}setFromCenterAndSize($,te){const ne=_vector$4.copy(te).multiplyScalar(.5);return this.min.copy($).sub(ne),this.max.copy($).add(ne),this}clone(){return new this.constructor().copy(this)}copy($){return this.min.copy($.min),this.max.copy($.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter($){return this.isEmpty()?$.set(0,0):$.addVectors(this.min,this.max).multiplyScalar(.5)}getSize($){return this.isEmpty()?$.set(0,0):$.subVectors(this.max,this.min)}expandByPoint($){return this.min.min($),this.max.max($),this}expandByVector($){return this.min.sub($),this.max.add($),this}expandByScalar($){return this.min.addScalar(-$),this.max.addScalar($),this}containsPoint($){return $.x>=this.min.x&&$.x<=this.max.x&&$.y>=this.min.y&&$.y<=this.max.y}containsBox($){return this.min.x<=$.min.x&&$.max.x<=this.max.x&&this.min.y<=$.min.y&&$.max.y<=this.max.y}getParameter($,te){return te.set(($.x-this.min.x)/(this.max.x-this.min.x),($.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox($){return $.max.x>=this.min.x&&$.min.x<=this.max.x&&$.max.y>=this.min.y&&$.min.y<=this.max.y}clampPoint($,te){return te.copy($).clamp(this.min,this.max)}distanceToPoint($){return this.clampPoint($,_vector$4).distanceTo($)}intersect($){return this.min.max($.min),this.max.min($.max),this.isEmpty()&&this.makeEmpty(),this}union($){return this.min.min($.min),this.max.max($.max),this}translate($){return this.min.add($),this.max.add($),this}equals($){return $.min.equals(this.min)&&$.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor($=new Vector3,te=new Vector3){this.start=$,this.end=te}set($,te){return this.start.copy($),this.end.copy(te),this}copy($){return this.start.copy($.start),this.end.copy($.end),this}getCenter($){return $.addVectors(this.start,this.end).multiplyScalar(.5)}delta($){return $.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at($,te){return this.delta(te).multiplyScalar($).add(this.start)}closestPointToPointParameter($,te){_startP.subVectors($,this.start),_startEnd.subVectors(this.end,this.start);const ne=_startEnd.dot(_startEnd);let se=_startEnd.dot(_startP)/ne;return te&&(se=clamp$1(se,0,1)),se}closestPointToPoint($,te,ne){const ie=this.closestPointToPointParameter($,te);return this.delta(ne).multiplyScalar(ie).add(this.start)}applyMatrix4($){return this.start.applyMatrix4($),this.end.applyMatrix4($),this}equals($){return $.start.equals(this.start)&&$.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor($,te){super(),this.light=$,this.matrixAutoUpdate=!1,this.color=te,this.type="SpotLightHelper";const ne=new BufferGeometry,ie=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let le=0,oe=1,ce=32;le<ce;le++,oe++){const ae=le/ce*Math.PI*2,he=oe/ce*Math.PI*2;ie.push(Math.cos(ae),Math.sin(ae),1,Math.cos(he),Math.sin(he),1)}ne.setAttribute("position",new Float32BufferAttribute(ie,3));const se=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(ne,se),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const $=this.light.distance?this.light.distance:1e3,te=$*Math.tan(this.light.angle);this.cone.scale.set(te,te,$),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor($){const te=getBoneList($),ne=new BufferGeometry,ie=[],se=[],le=new Color(0,0,1),oe=new Color(0,1,0);for(let ae=0;ae<te.length;ae++){const he=te[ae];he.parent&&he.parent.isBone&&(ie.push(0,0,0),ie.push(0,0,0),se.push(le.r,le.g,le.b),se.push(oe.r,oe.g,oe.b))}ne.setAttribute("position",new Float32BufferAttribute(ie,3)),ne.setAttribute("color",new Float32BufferAttribute(se,3));const ce=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(ne,ce),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=$,this.bones=te,this.matrix=$.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld($){const te=this.bones,ne=this.geometry,ie=ne.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let se=0,le=0;se<te.length;se++){const oe=te[se];oe.parent&&oe.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,oe.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ie.setXYZ(le,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,oe.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ie.setXYZ(le+1,_vector$2.x,_vector$2.y,_vector$2.z),le+=2)}ne.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld($)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(ee){const $=[];ee.isBone===!0&&$.push(ee);for(let te=0;te<ee.children.length;te++)$.push(...getBoneList(ee.children[te]));return $}class PointLightHelper extends Mesh{constructor($,te,ne){const ie=new SphereGeometry(te,4,2),se=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(ie,se),this.light=$,this.color=ne,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor($,te,ne){super(),this.light=$,this.matrix=$.matrixWorld,this.matrixAutoUpdate=!1,this.color=ne,this.type="HemisphereLightHelper";const ie=new OctahedronGeometry(te);ie.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const se=ie.getAttribute("position"),le=new Float32Array(se.count*3);ie.setAttribute("color",new BufferAttribute(le,3)),this.add(new Mesh(ie,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const $=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const te=$.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let ne=0,ie=te.count;ne<ie;ne++){const se=ne<ie/2?_color1:_color2;te.setXYZ(ne,se.r,se.g,se.b)}te.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),$.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor($=10,te=10,ne=4473924,ie=8947848){ne=new Color(ne),ie=new Color(ie);const se=te/2,le=$/te,oe=$/2,ce=[],ae=[];for(let pe=0,re=0,Ae=-oe;pe<=te;pe++,Ae+=le){ce.push(-oe,0,Ae,oe,0,Ae),ce.push(Ae,0,-oe,Ae,0,oe);const ge=pe===se?ne:ie;ge.toArray(ae,re),re+=3,ge.toArray(ae,re),re+=3,ge.toArray(ae,re),re+=3,ge.toArray(ae,re),re+=3}const he=new BufferGeometry;he.setAttribute("position",new Float32BufferAttribute(ce,3)),he.setAttribute("color",new Float32BufferAttribute(ae,3));const de=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(he,de),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor($=10,te=16,ne=8,ie=64,se=4473924,le=8947848){se=new Color(se),le=new Color(le);const oe=[],ce=[];if(te>1)for(let de=0;de<te;de++){const pe=de/te*(Math.PI*2),re=Math.sin(pe)*$,Ae=Math.cos(pe)*$;oe.push(0,0,0),oe.push(re,0,Ae);const ge=de&1?se:le;ce.push(ge.r,ge.g,ge.b),ce.push(ge.r,ge.g,ge.b)}for(let de=0;de<ne;de++){const pe=de&1?se:le,re=$-$/ne*de;for(let Ae=0;Ae<ie;Ae++){let ge=Ae/ie*(Math.PI*2),Se=Math.sin(ge)*re,fe=Math.cos(ge)*re;oe.push(Se,0,fe),ce.push(pe.r,pe.g,pe.b),ge=(Ae+1)/ie*(Math.PI*2),Se=Math.sin(ge)*re,fe=Math.cos(ge)*re,oe.push(Se,0,fe),ce.push(pe.r,pe.g,pe.b)}}const ae=new BufferGeometry;ae.setAttribute("position",new Float32BufferAttribute(oe,3)),ae.setAttribute("color",new Float32BufferAttribute(ce,3));const he=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ae,he),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor($,te,ne){super(),this.light=$,this.matrix=$.matrixWorld,this.matrixAutoUpdate=!1,this.color=ne,this.type="DirectionalLightHelper",te===void 0&&(te=1);let ie=new BufferGeometry;ie.setAttribute("position",new Float32BufferAttribute([-te,te,0,te,te,0,te,-te,0,-te,-te,0,-te,te,0],3));const se=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(ie,se),this.add(this.lightPlane),ie=new BufferGeometry,ie.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(ie,se),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor($){const te=new BufferGeometry,ne=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),ie=[],se=[],le={};oe("n1","n2"),oe("n2","n4"),oe("n4","n3"),oe("n3","n1"),oe("f1","f2"),oe("f2","f4"),oe("f4","f3"),oe("f3","f1"),oe("n1","f1"),oe("n2","f2"),oe("n3","f3"),oe("n4","f4"),oe("p","n1"),oe("p","n2"),oe("p","n3"),oe("p","n4"),oe("u1","u2"),oe("u2","u3"),oe("u3","u1"),oe("c","t"),oe("p","c"),oe("cn1","cn2"),oe("cn3","cn4"),oe("cf1","cf2"),oe("cf3","cf4");function oe(Ae,ge){ce(Ae),ce(ge)}function ce(Ae){ie.push(0,0,0),se.push(0,0,0),le[Ae]===void 0&&(le[Ae]=[]),le[Ae].push(ie.length/3-1)}te.setAttribute("position",new Float32BufferAttribute(ie,3)),te.setAttribute("color",new Float32BufferAttribute(se,3)),super(te,ne),this.type="CameraHelper",this.camera=$,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=$.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=le,this.update();const ae=new Color(16755200),he=new Color(16711680),de=new Color(43775),pe=new Color(16777215),re=new Color(3355443);this.setColors(ae,he,de,pe,re)}setColors($,te,ne,ie,se){const oe=this.geometry.getAttribute("color");oe.setXYZ(0,$.r,$.g,$.b),oe.setXYZ(1,$.r,$.g,$.b),oe.setXYZ(2,$.r,$.g,$.b),oe.setXYZ(3,$.r,$.g,$.b),oe.setXYZ(4,$.r,$.g,$.b),oe.setXYZ(5,$.r,$.g,$.b),oe.setXYZ(6,$.r,$.g,$.b),oe.setXYZ(7,$.r,$.g,$.b),oe.setXYZ(8,$.r,$.g,$.b),oe.setXYZ(9,$.r,$.g,$.b),oe.setXYZ(10,$.r,$.g,$.b),oe.setXYZ(11,$.r,$.g,$.b),oe.setXYZ(12,$.r,$.g,$.b),oe.setXYZ(13,$.r,$.g,$.b),oe.setXYZ(14,$.r,$.g,$.b),oe.setXYZ(15,$.r,$.g,$.b),oe.setXYZ(16,$.r,$.g,$.b),oe.setXYZ(17,$.r,$.g,$.b),oe.setXYZ(18,$.r,$.g,$.b),oe.setXYZ(19,$.r,$.g,$.b),oe.setXYZ(20,$.r,$.g,$.b),oe.setXYZ(21,$.r,$.g,$.b),oe.setXYZ(22,$.r,$.g,$.b),oe.setXYZ(23,$.r,$.g,$.b),oe.setXYZ(24,te.r,te.g,te.b),oe.setXYZ(25,te.r,te.g,te.b),oe.setXYZ(26,te.r,te.g,te.b),oe.setXYZ(27,te.r,te.g,te.b),oe.setXYZ(28,te.r,te.g,te.b),oe.setXYZ(29,te.r,te.g,te.b),oe.setXYZ(30,te.r,te.g,te.b),oe.setXYZ(31,te.r,te.g,te.b),oe.setXYZ(32,ne.r,ne.g,ne.b),oe.setXYZ(33,ne.r,ne.g,ne.b),oe.setXYZ(34,ne.r,ne.g,ne.b),oe.setXYZ(35,ne.r,ne.g,ne.b),oe.setXYZ(36,ne.r,ne.g,ne.b),oe.setXYZ(37,ne.r,ne.g,ne.b),oe.setXYZ(38,ie.r,ie.g,ie.b),oe.setXYZ(39,ie.r,ie.g,ie.b),oe.setXYZ(40,se.r,se.g,se.b),oe.setXYZ(41,se.r,se.g,se.b),oe.setXYZ(42,se.r,se.g,se.b),oe.setXYZ(43,se.r,se.g,se.b),oe.setXYZ(44,se.r,se.g,se.b),oe.setXYZ(45,se.r,se.g,se.b),oe.setXYZ(46,se.r,se.g,se.b),oe.setXYZ(47,se.r,se.g,se.b),oe.setXYZ(48,se.r,se.g,se.b),oe.setXYZ(49,se.r,se.g,se.b),oe.needsUpdate=!0}update(){const $=this.geometry,te=this.pointMap,ne=1,ie=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const se=this.camera.coordinateSystem===WebGLCoordinateSystem?-1:0;setPoint("c",te,$,_camera,0,0,se),setPoint("t",te,$,_camera,0,0,1),setPoint("n1",te,$,_camera,-1,-1,se),setPoint("n2",te,$,_camera,ne,-1,se),setPoint("n3",te,$,_camera,-1,ie,se),setPoint("n4",te,$,_camera,ne,ie,se),setPoint("f1",te,$,_camera,-1,-1,1),setPoint("f2",te,$,_camera,ne,-1,1),setPoint("f3",te,$,_camera,-1,ie,1),setPoint("f4",te,$,_camera,ne,ie,1),setPoint("u1",te,$,_camera,ne*.7,ie*1.1,se),setPoint("u2",te,$,_camera,-1*.7,ie*1.1,se),setPoint("u3",te,$,_camera,0,ie*2,se),setPoint("cf1",te,$,_camera,-1,0,1),setPoint("cf2",te,$,_camera,ne,0,1),setPoint("cf3",te,$,_camera,0,-1,1),setPoint("cf4",te,$,_camera,0,ie,1),setPoint("cn1",te,$,_camera,-1,0,se),setPoint("cn2",te,$,_camera,ne,0,se),setPoint("cn3",te,$,_camera,0,-1,se),setPoint("cn4",te,$,_camera,0,ie,se),$.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(ee,$,te,ne,ie,se,le){_vector.set(ie,se,le).unproject(ne);const oe=$[ee];if(oe!==void 0){const ce=te.getAttribute("position");for(let ae=0,he=oe.length;ae<he;ae++)ce.setXYZ(oe[ae],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor($,te=16776960){const ne=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ie=new Float32Array(8*3),se=new BufferGeometry;se.setIndex(new BufferAttribute(ne,1)),se.setAttribute("position",new BufferAttribute(ie,3)),super(se,new LineBasicMaterial({color:te,toneMapped:!1})),this.object=$,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const $=_box.min,te=_box.max,ne=this.geometry.attributes.position,ie=ne.array;ie[0]=te.x,ie[1]=te.y,ie[2]=te.z,ie[3]=$.x,ie[4]=te.y,ie[5]=te.z,ie[6]=$.x,ie[7]=$.y,ie[8]=te.z,ie[9]=te.x,ie[10]=$.y,ie[11]=te.z,ie[12]=te.x,ie[13]=te.y,ie[14]=$.z,ie[15]=$.x,ie[16]=te.y,ie[17]=$.z,ie[18]=$.x,ie[19]=$.y,ie[20]=$.z,ie[21]=te.x,ie[22]=$.y,ie[23]=$.z,ne.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject($){return this.object=$,this.update(),this}copy($,te){return super.copy($,te),this.object=$.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor($,te=16776960){const ne=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ie=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],se=new BufferGeometry;se.setIndex(new BufferAttribute(ne,1)),se.setAttribute("position",new Float32BufferAttribute(ie,3)),super(se,new LineBasicMaterial({color:te,toneMapped:!1})),this.box=$,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld($){const te=this.box;te.isEmpty()||(te.getCenter(this.position),te.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld($))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor($,te=1,ne=16776960){const ie=ne,se=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],le=new BufferGeometry;le.setAttribute("position",new Float32BufferAttribute(se,3)),le.computeBoundingSphere(),super(le,new LineBasicMaterial({color:ie,toneMapped:!1})),this.type="PlaneHelper",this.plane=$,this.size=te;const oe=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],ce=new BufferGeometry;ce.setAttribute("position",new Float32BufferAttribute(oe,3)),ce.computeBoundingSphere(),this.add(new Mesh(ce,new MeshBasicMaterial({color:ie,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld($){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld($)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor($=new Vector3(0,0,1),te=new Vector3(0,0,0),ne=1,ie=16776960,se=ne*.2,le=se*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(te),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:ie,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:ie,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection($),this.setLength(ne,se,le)}setDirection($){if($.y>.99999)this.quaternion.set(0,0,0,1);else if($.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set($.z,0,-$.x).normalize();const te=Math.acos($.y);this.quaternion.setFromAxisAngle(_axis,te)}}setLength($,te=$*.2,ne=te*.2){this.line.scale.set(1,Math.max(1e-4,$-te),1),this.line.updateMatrix(),this.cone.scale.set(ne,te,ne),this.cone.position.y=$,this.cone.updateMatrix()}setColor($){this.line.material.color.set($),this.cone.material.color.set($)}copy($){return super.copy($,!1),this.line.copy($.line),this.cone.copy($.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor($=1){const te=[0,0,0,$,0,0,0,0,0,0,$,0,0,0,0,0,0,$],ne=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],ie=new BufferGeometry;ie.setAttribute("position",new Float32BufferAttribute(te,3)),ie.setAttribute("color",new Float32BufferAttribute(ne,3));const se=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ie,se),this.type="AxesHelper"}setColors($,te,ne){const ie=new Color,se=this.geometry.attributes.color.array;return ie.set($),ie.toArray(se,0),ie.toArray(se,3),ie.set(te),ie.toArray(se,6),ie.toArray(se,9),ie.set(ne),ie.toArray(se,12),ie.toArray(se,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo($,te){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo($,te),this}lineTo($,te){return this.currentPath.lineTo($,te),this}quadraticCurveTo($,te,ne,ie){return this.currentPath.quadraticCurveTo($,te,ne,ie),this}bezierCurveTo($,te,ne,ie,se,le){return this.currentPath.bezierCurveTo($,te,ne,ie,se,le),this}splineThru($){return this.currentPath.splineThru($),this}toShapes($){function te(fe){const be=[];for(let xe=0,ue=fe.length;xe<ue;xe++){const we=fe[xe],Fe=new Shape;Fe.curves=we.curves,be.push(Fe)}return be}function ne(fe,be){const xe=be.length;let ue=!1;for(let we=xe-1,Fe=0;Fe<xe;we=Fe++){let _e=be[we],Ee=be[Fe],Ce=Ee.x-_e.x,ye=Ee.y-_e.y;if(Math.abs(ye)>Number.EPSILON){if(ye<0&&(_e=be[Fe],Ce=-Ce,Ee=be[we],ye=-ye),fe.y<_e.y||fe.y>Ee.y)continue;if(fe.y===_e.y){if(fe.x===_e.x)return!0}else{const Re=ye*(fe.x-_e.x)-Ce*(fe.y-_e.y);if(Re===0)return!0;if(Re<0)continue;ue=!ue}}else{if(fe.y!==_e.y)continue;if(Ee.x<=fe.x&&fe.x<=_e.x||_e.x<=fe.x&&fe.x<=Ee.x)return!0}}return ue}const ie=ShapeUtils.isClockWise,se=this.subPaths;if(se.length===0)return[];let le,oe,ce;const ae=[];if(se.length===1)return oe=se[0],ce=new Shape,ce.curves=oe.curves,ae.push(ce),ae;let he=!ie(se[0].getPoints());he=$?!he:he;const de=[],pe=[];let re=[],Ae=0,ge;pe[Ae]=void 0,re[Ae]=[];for(let fe=0,be=se.length;fe<be;fe++)oe=se[fe],ge=oe.getPoints(),le=ie(ge),le=$?!le:le,le?(!he&&pe[Ae]&&Ae++,pe[Ae]={s:new Shape,p:ge},pe[Ae].s.curves=oe.curves,he&&Ae++,re[Ae]=[]):re[Ae].push({h:oe,p:ge[0]});if(!pe[0])return te(se);if(pe.length>1){let fe=!1,be=0;for(let xe=0,ue=pe.length;xe<ue;xe++)de[xe]=[];for(let xe=0,ue=pe.length;xe<ue;xe++){const we=re[xe];for(let Fe=0;Fe<we.length;Fe++){const _e=we[Fe];let Ee=!0;for(let Ce=0;Ce<pe.length;Ce++)ne(_e.p,pe[Ce].p)&&(xe!==Ce&&be++,Ee?(Ee=!1,de[Ce].push(_e)):fe=!0);Ee&&de[xe].push(_e)}}be>0&&fe===!1&&(re=de)}let Se;for(let fe=0,be=pe.length;fe<be;fe++){ce=pe[fe].s,ae.push(ce),Se=re[fe];for(let xe=0,ue=Se.length;xe<ue;xe++)ce.holes.push(Se[xe].h)}return ae}}class Controls extends EventDispatcher$1{constructor($,te=null){super(),this.object=$,this.domElement=te,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function contain(ee,$){const te=ee.image&&ee.image.width?ee.image.width/ee.image.height:1;return te>$?(ee.repeat.x=1,ee.repeat.y=te/$,ee.offset.x=0,ee.offset.y=(1-ee.repeat.y)/2):(ee.repeat.x=$/te,ee.repeat.y=1,ee.offset.x=(1-ee.repeat.x)/2,ee.offset.y=0),ee}function cover(ee,$){const te=ee.image&&ee.image.width?ee.image.width/ee.image.height:1;return te>$?(ee.repeat.x=$/te,ee.repeat.y=1,ee.offset.x=(1-ee.repeat.x)/2,ee.offset.y=0):(ee.repeat.x=1,ee.repeat.y=te/$,ee.offset.x=0,ee.offset.y=(1-ee.repeat.y)/2),ee}function fill(ee){return ee.repeat.x=1,ee.repeat.y=1,ee.offset.x=0,ee.offset.y=0,ee}function getByteLength(ee,$,te,ne){const ie=getTextureTypeByteLength(ne);switch(te){case AlphaFormat:return ee*$;case LuminanceFormat:return ee*$;case LuminanceAlphaFormat:return ee*$*2;case RedFormat:return ee*$/ie.components*ie.byteLength;case RedIntegerFormat:return ee*$/ie.components*ie.byteLength;case RGFormat:return ee*$*2/ie.components*ie.byteLength;case RGIntegerFormat:return ee*$*2/ie.components*ie.byteLength;case RGBFormat:return ee*$*3/ie.components*ie.byteLength;case RGBAFormat:return ee*$*4/ie.components*ie.byteLength;case RGBAIntegerFormat:return ee*$*4/ie.components*ie.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((ee+3)/4)*Math.floor(($+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((ee+3)/4)*Math.floor(($+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(ee,16)*Math.max($,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(ee,8)*Math.max($,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((ee+3)/4)*Math.floor(($+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((ee+3)/4)*Math.floor(($+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((ee+3)/4)*Math.floor(($+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((ee+4)/5)*Math.floor(($+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((ee+4)/5)*Math.floor(($+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((ee+5)/6)*Math.floor(($+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((ee+5)/6)*Math.floor(($+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((ee+7)/8)*Math.floor(($+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((ee+7)/8)*Math.floor(($+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((ee+7)/8)*Math.floor(($+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((ee+9)/10)*Math.floor(($+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((ee+9)/10)*Math.floor(($+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((ee+9)/10)*Math.floor(($+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((ee+9)/10)*Math.floor(($+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((ee+11)/12)*Math.floor(($+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((ee+11)/12)*Math.floor(($+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(ee/4)*Math.ceil($/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(ee/4)*Math.ceil($/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(ee/4)*Math.ceil($/4)*16}throw new Error(`Unable to determine texture byte length for ${te} format.`)}function getTextureTypeByteLength(ee){switch(ee){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${ee}.`)}class TextureUtils{static contain($,te){return contain($,te)}static cover($,te){return cover($,te)}static fill($){return fill($)}static getByteLength($,te,ne,ie){return getByteLength($,te,ne,ie)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function WebGLAnimation(){let ee=null,$=!1,te=null,ne=null;function ie(se,le){te(se,le),ne=ee.requestAnimationFrame(ie)}return{start:function(){$!==!0&&te!==null&&(ne=ee.requestAnimationFrame(ie),$=!0)},stop:function(){ee.cancelAnimationFrame(ne),$=!1},setAnimationLoop:function(se){te=se},setContext:function(se){ee=se}}}function WebGLAttributes(ee){const $=new WeakMap;function te(oe,ce){const ae=oe.array,he=oe.usage,de=ae.byteLength,pe=ee.createBuffer();ee.bindBuffer(ce,pe),ee.bufferData(ce,ae,he),oe.onUploadCallback();let re;if(ae instanceof Float32Array)re=ee.FLOAT;else if(ae instanceof Uint16Array)oe.isFloat16BufferAttribute?re=ee.HALF_FLOAT:re=ee.UNSIGNED_SHORT;else if(ae instanceof Int16Array)re=ee.SHORT;else if(ae instanceof Uint32Array)re=ee.UNSIGNED_INT;else if(ae instanceof Int32Array)re=ee.INT;else if(ae instanceof Int8Array)re=ee.BYTE;else if(ae instanceof Uint8Array)re=ee.UNSIGNED_BYTE;else if(ae instanceof Uint8ClampedArray)re=ee.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ae);return{buffer:pe,type:re,bytesPerElement:ae.BYTES_PER_ELEMENT,version:oe.version,size:de}}function ne(oe,ce,ae){const he=ce.array,de=ce.updateRanges;if(ee.bindBuffer(ae,oe),de.length===0)ee.bufferSubData(ae,0,he);else{de.sort((re,Ae)=>re.start-Ae.start);let pe=0;for(let re=1;re<de.length;re++){const Ae=de[pe],ge=de[re];ge.start<=Ae.start+Ae.count+1?Ae.count=Math.max(Ae.count,ge.start+ge.count-Ae.start):(++pe,de[pe]=ge)}de.length=pe+1;for(let re=0,Ae=de.length;re<Ae;re++){const ge=de[re];ee.bufferSubData(ae,ge.start*he.BYTES_PER_ELEMENT,he,ge.start,ge.count)}ce.clearUpdateRanges()}ce.onUploadCallback()}function ie(oe){return oe.isInterleavedBufferAttribute&&(oe=oe.data),$.get(oe)}function se(oe){oe.isInterleavedBufferAttribute&&(oe=oe.data);const ce=$.get(oe);ce&&(ee.deleteBuffer(ce.buffer),$.delete(oe))}function le(oe,ce){if(oe.isInterleavedBufferAttribute&&(oe=oe.data),oe.isGLBufferAttribute){const he=$.get(oe);(!he||he.version<oe.version)&&$.set(oe,{buffer:oe.buffer,type:oe.type,bytesPerElement:oe.elementSize,version:oe.version});return}const ae=$.get(oe);if(ae===void 0)$.set(oe,te(oe,ce));else if(ae.version<oe.version){if(ae.size!==oe.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");ne(ae.buffer,oe,ce),ae.version=oe.version}}return{get:ie,remove:se,update:le}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common$1=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common:common$1,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(ee,$,te,ne,ie,se,le){const oe=new Color(0);let ce=se===!0?0:1,ae,he,de=null,pe=0,re=null;function Ae(xe){let ue=xe.isScene===!0?xe.background:null;return ue&&ue.isTexture&&(ue=(xe.backgroundBlurriness>0?te:$).get(ue)),ue}function ge(xe){let ue=!1;const we=Ae(xe);we===null?fe(oe,ce):we&&we.isColor&&(fe(we,1),ue=!0);const Fe=ee.xr.getEnvironmentBlendMode();Fe==="additive"?ne.buffers.color.setClear(0,0,0,1,le):Fe==="alpha-blend"&&ne.buffers.color.setClear(0,0,0,0,le),(ee.autoClear||ue)&&(ne.buffers.depth.setTest(!0),ne.buffers.depth.setMask(!0),ne.buffers.color.setMask(!0),ee.clear(ee.autoClearColor,ee.autoClearDepth,ee.autoClearStencil))}function Se(xe,ue){const we=Ae(ue);we&&(we.isCubeTexture||we.mapping===CubeUVReflectionMapping)?(he===void 0&&(he=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),he.geometry.deleteAttribute("normal"),he.geometry.deleteAttribute("uv"),he.onBeforeRender=function(Fe,_e,Ee){this.matrixWorld.copyPosition(Ee.matrixWorld)},Object.defineProperty(he.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),ie.update(he)),_e1$1.copy(ue.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,we.isCubeTexture&&we.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),he.material.uniforms.envMap.value=we,he.material.uniforms.flipEnvMap.value=we.isCubeTexture&&we.isRenderTargetTexture===!1?-1:1,he.material.uniforms.backgroundBlurriness.value=ue.backgroundBlurriness,he.material.uniforms.backgroundIntensity.value=ue.backgroundIntensity,he.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),he.material.toneMapped=ColorManagement.getTransfer(we.colorSpace)!==SRGBTransfer,(de!==we||pe!==we.version||re!==ee.toneMapping)&&(he.material.needsUpdate=!0,de=we,pe=we.version,re=ee.toneMapping),he.layers.enableAll(),xe.unshift(he,he.geometry,he.material,0,0,null)):we&&we.isTexture&&(ae===void 0&&(ae=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),ae.geometry.deleteAttribute("normal"),Object.defineProperty(ae.material,"map",{get:function(){return this.uniforms.t2D.value}}),ie.update(ae)),ae.material.uniforms.t2D.value=we,ae.material.uniforms.backgroundIntensity.value=ue.backgroundIntensity,ae.material.toneMapped=ColorManagement.getTransfer(we.colorSpace)!==SRGBTransfer,we.matrixAutoUpdate===!0&&we.updateMatrix(),ae.material.uniforms.uvTransform.value.copy(we.matrix),(de!==we||pe!==we.version||re!==ee.toneMapping)&&(ae.material.needsUpdate=!0,de=we,pe=we.version,re=ee.toneMapping),ae.layers.enableAll(),xe.unshift(ae,ae.geometry,ae.material,0,0,null))}function fe(xe,ue){xe.getRGB(_rgb,getUnlitUniformColorSpace(ee)),ne.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,ue,le)}function be(){he!==void 0&&(he.geometry.dispose(),he.material.dispose(),he=void 0),ae!==void 0&&(ae.geometry.dispose(),ae.material.dispose(),ae=void 0)}return{getClearColor:function(){return oe},setClearColor:function(xe,ue=1){oe.set(xe),ce=ue,fe(oe,ce)},getClearAlpha:function(){return ce},setClearAlpha:function(xe){ce=xe,fe(oe,ce)},render:ge,addToRenderList:Se,dispose:be}}function WebGLBindingStates(ee,$){const te=ee.getParameter(ee.MAX_VERTEX_ATTRIBS),ne={},ie=pe(null);let se=ie,le=!1;function oe(ye,Re,Ye,ke,$e){let Be=!1;const Pe=de(ke,Ye,Re);se!==Pe&&(se=Pe,ae(se.object)),Be=re(ye,ke,Ye,$e),Be&&Ae(ye,ke,Ye,$e),$e!==null&&$.update($e,ee.ELEMENT_ARRAY_BUFFER),(Be||le)&&(le=!1,ue(ye,Re,Ye,ke),$e!==null&&ee.bindBuffer(ee.ELEMENT_ARRAY_BUFFER,$.get($e).buffer))}function ce(){return ee.createVertexArray()}function ae(ye){return ee.bindVertexArray(ye)}function he(ye){return ee.deleteVertexArray(ye)}function de(ye,Re,Ye){const ke=Ye.wireframe===!0;let $e=ne[ye.id];$e===void 0&&($e={},ne[ye.id]=$e);let Be=$e[Re.id];Be===void 0&&(Be={},$e[Re.id]=Be);let Pe=Be[ke];return Pe===void 0&&(Pe=pe(ce()),Be[ke]=Pe),Pe}function pe(ye){const Re=[],Ye=[],ke=[];for(let $e=0;$e<te;$e++)Re[$e]=0,Ye[$e]=0,ke[$e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Re,enabledAttributes:Ye,attributeDivisors:ke,object:ye,attributes:{},index:null}}function re(ye,Re,Ye,ke){const $e=se.attributes,Be=Re.attributes;let Pe=0;const Ue=Ye.getAttributes();for(const Te in Ue)if(Ue[Te].location>=0){const Ve=$e[Te];let He=Be[Te];if(He===void 0&&(Te==="instanceMatrix"&&ye.instanceMatrix&&(He=ye.instanceMatrix),Te==="instanceColor"&&ye.instanceColor&&(He=ye.instanceColor)),Ve===void 0||Ve.attribute!==He||He&&Ve.data!==He.data)return!0;Pe++}return se.attributesNum!==Pe||se.index!==ke}function Ae(ye,Re,Ye,ke){const $e={},Be=Re.attributes;let Pe=0;const Ue=Ye.getAttributes();for(const Te in Ue)if(Ue[Te].location>=0){let Ve=Be[Te];Ve===void 0&&(Te==="instanceMatrix"&&ye.instanceMatrix&&(Ve=ye.instanceMatrix),Te==="instanceColor"&&ye.instanceColor&&(Ve=ye.instanceColor));const He={};He.attribute=Ve,Ve&&Ve.data&&(He.data=Ve.data),$e[Te]=He,Pe++}se.attributes=$e,se.attributesNum=Pe,se.index=ke}function ge(){const ye=se.newAttributes;for(let Re=0,Ye=ye.length;Re<Ye;Re++)ye[Re]=0}function Se(ye){fe(ye,0)}function fe(ye,Re){const Ye=se.newAttributes,ke=se.enabledAttributes,$e=se.attributeDivisors;Ye[ye]=1,ke[ye]===0&&(ee.enableVertexAttribArray(ye),ke[ye]=1),$e[ye]!==Re&&(ee.vertexAttribDivisor(ye,Re),$e[ye]=Re)}function be(){const ye=se.newAttributes,Re=se.enabledAttributes;for(let Ye=0,ke=Re.length;Ye<ke;Ye++)Re[Ye]!==ye[Ye]&&(ee.disableVertexAttribArray(Ye),Re[Ye]=0)}function xe(ye,Re,Ye,ke,$e,Be,Pe){Pe===!0?ee.vertexAttribIPointer(ye,Re,Ye,$e,Be):ee.vertexAttribPointer(ye,Re,Ye,ke,$e,Be)}function ue(ye,Re,Ye,ke){ge();const $e=ke.attributes,Be=Ye.getAttributes(),Pe=Re.defaultAttributeValues;for(const Ue in Be){const Te=Be[Ue];if(Te.location>=0){let Me=$e[Ue];if(Me===void 0&&(Ue==="instanceMatrix"&&ye.instanceMatrix&&(Me=ye.instanceMatrix),Ue==="instanceColor"&&ye.instanceColor&&(Me=ye.instanceColor)),Me!==void 0){const Ve=Me.normalized,He=Me.itemSize,Ie=$.get(Me);if(Ie===void 0)continue;const Le=Ie.buffer,Oe=Ie.type,Ne=Ie.bytesPerElement,qe=Oe===ee.INT||Oe===ee.UNSIGNED_INT||Me.gpuType===IntType;if(Me.isInterleavedBufferAttribute){const it=Me.data,tt=it.stride,Xe=Me.offset;if(it.isInstancedInterleavedBuffer){for(let Ze=0;Ze<Te.locationSize;Ze++)fe(Te.location+Ze,it.meshPerAttribute);ye.isInstancedMesh!==!0&&ke._maxInstanceCount===void 0&&(ke._maxInstanceCount=it.meshPerAttribute*it.count)}else for(let Ze=0;Ze<Te.locationSize;Ze++)Se(Te.location+Ze);ee.bindBuffer(ee.ARRAY_BUFFER,Le);for(let Ze=0;Ze<Te.locationSize;Ze++)xe(Te.location+Ze,He/Te.locationSize,Oe,Ve,tt*Ne,(Xe+He/Te.locationSize*Ze)*Ne,qe)}else{if(Me.isInstancedBufferAttribute){for(let it=0;it<Te.locationSize;it++)fe(Te.location+it,Me.meshPerAttribute);ye.isInstancedMesh!==!0&&ke._maxInstanceCount===void 0&&(ke._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let it=0;it<Te.locationSize;it++)Se(Te.location+it);ee.bindBuffer(ee.ARRAY_BUFFER,Le);for(let it=0;it<Te.locationSize;it++)xe(Te.location+it,He/Te.locationSize,Oe,Ve,He*Ne,He/Te.locationSize*it*Ne,qe)}}else if(Pe!==void 0){const Ve=Pe[Ue];if(Ve!==void 0)switch(Ve.length){case 2:ee.vertexAttrib2fv(Te.location,Ve);break;case 3:ee.vertexAttrib3fv(Te.location,Ve);break;case 4:ee.vertexAttrib4fv(Te.location,Ve);break;default:ee.vertexAttrib1fv(Te.location,Ve)}}}}be()}function we(){Ee();for(const ye in ne){const Re=ne[ye];for(const Ye in Re){const ke=Re[Ye];for(const $e in ke)he(ke[$e].object),delete ke[$e];delete Re[Ye]}delete ne[ye]}}function Fe(ye){if(ne[ye.id]===void 0)return;const Re=ne[ye.id];for(const Ye in Re){const ke=Re[Ye];for(const $e in ke)he(ke[$e].object),delete ke[$e];delete Re[Ye]}delete ne[ye.id]}function _e(ye){for(const Re in ne){const Ye=ne[Re];if(Ye[ye.id]===void 0)continue;const ke=Ye[ye.id];for(const $e in ke)he(ke[$e].object),delete ke[$e];delete Ye[ye.id]}}function Ee(){Ce(),le=!0,se!==ie&&(se=ie,ae(se.object))}function Ce(){ie.geometry=null,ie.program=null,ie.wireframe=!1}return{setup:oe,reset:Ee,resetDefaultState:Ce,dispose:we,releaseStatesOfGeometry:Fe,releaseStatesOfProgram:_e,initAttributes:ge,enableAttribute:Se,disableUnusedAttributes:be}}function WebGLBufferRenderer(ee,$,te){let ne;function ie(ae){ne=ae}function se(ae,he){ee.drawArrays(ne,ae,he),te.update(he,ne,1)}function le(ae,he,de){de!==0&&(ee.drawArraysInstanced(ne,ae,he,de),te.update(he,ne,de))}function oe(ae,he,de){if(de===0)return;$.get("WEBGL_multi_draw").multiDrawArraysWEBGL(ne,ae,0,he,0,de);let re=0;for(let Ae=0;Ae<de;Ae++)re+=he[Ae];te.update(re,ne,1)}function ce(ae,he,de,pe){if(de===0)return;const re=$.get("WEBGL_multi_draw");if(re===null)for(let Ae=0;Ae<ae.length;Ae++)le(ae[Ae],he[Ae],pe[Ae]);else{re.multiDrawArraysInstancedWEBGL(ne,ae,0,he,0,pe,0,de);let Ae=0;for(let ge=0;ge<de;ge++)Ae+=he[ge]*pe[ge];te.update(Ae,ne,1)}}this.setMode=ie,this.render=se,this.renderInstances=le,this.renderMultiDraw=oe,this.renderMultiDrawInstances=ce}function WebGLCapabilities(ee,$,te,ne){let ie;function se(){if(ie!==void 0)return ie;if($.has("EXT_texture_filter_anisotropic")===!0){const _e=$.get("EXT_texture_filter_anisotropic");ie=ee.getParameter(_e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else ie=0;return ie}function le(_e){return!(_e!==RGBAFormat&&ne.convert(_e)!==ee.getParameter(ee.IMPLEMENTATION_COLOR_READ_FORMAT))}function oe(_e){const Ee=_e===HalfFloatType&&($.has("EXT_color_buffer_half_float")||$.has("EXT_color_buffer_float"));return!(_e!==UnsignedByteType&&ne.convert(_e)!==ee.getParameter(ee.IMPLEMENTATION_COLOR_READ_TYPE)&&_e!==FloatType&&!Ee)}function ce(_e){if(_e==="highp"){if(ee.getShaderPrecisionFormat(ee.VERTEX_SHADER,ee.HIGH_FLOAT).precision>0&&ee.getShaderPrecisionFormat(ee.FRAGMENT_SHADER,ee.HIGH_FLOAT).precision>0)return"highp";_e="mediump"}return _e==="mediump"&&ee.getShaderPrecisionFormat(ee.VERTEX_SHADER,ee.MEDIUM_FLOAT).precision>0&&ee.getShaderPrecisionFormat(ee.FRAGMENT_SHADER,ee.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let ae=te.precision!==void 0?te.precision:"highp";const he=ce(ae);he!==ae&&(console.warn("THREE.WebGLRenderer:",ae,"not supported, using",he,"instead."),ae=he);const de=te.logarithmicDepthBuffer===!0,pe=te.reverseDepthBuffer===!0&&$.has("EXT_clip_control"),re=ee.getParameter(ee.MAX_TEXTURE_IMAGE_UNITS),Ae=ee.getParameter(ee.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ge=ee.getParameter(ee.MAX_TEXTURE_SIZE),Se=ee.getParameter(ee.MAX_CUBE_MAP_TEXTURE_SIZE),fe=ee.getParameter(ee.MAX_VERTEX_ATTRIBS),be=ee.getParameter(ee.MAX_VERTEX_UNIFORM_VECTORS),xe=ee.getParameter(ee.MAX_VARYING_VECTORS),ue=ee.getParameter(ee.MAX_FRAGMENT_UNIFORM_VECTORS),we=Ae>0,Fe=ee.getParameter(ee.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:se,getMaxPrecision:ce,textureFormatReadable:le,textureTypeReadable:oe,precision:ae,logarithmicDepthBuffer:de,reverseDepthBuffer:pe,maxTextures:re,maxVertexTextures:Ae,maxTextureSize:ge,maxCubemapSize:Se,maxAttributes:fe,maxVertexUniforms:be,maxVaryings:xe,maxFragmentUniforms:ue,vertexTextures:we,maxSamples:Fe}}function WebGLClipping(ee){const $=this;let te=null,ne=0,ie=!1,se=!1;const le=new Plane,oe=new Matrix3,ce={value:null,needsUpdate:!1};this.uniform=ce,this.numPlanes=0,this.numIntersection=0,this.init=function(de,pe){const re=de.length!==0||pe||ne!==0||ie;return ie=pe,ne=de.length,re},this.beginShadows=function(){se=!0,he(null)},this.endShadows=function(){se=!1},this.setGlobalState=function(de,pe){te=he(de,pe,0)},this.setState=function(de,pe,re){const Ae=de.clippingPlanes,ge=de.clipIntersection,Se=de.clipShadows,fe=ee.get(de);if(!ie||Ae===null||Ae.length===0||se&&!Se)se?he(null):ae();else{const be=se?0:ne,xe=be*4;let ue=fe.clippingState||null;ce.value=ue,ue=he(Ae,pe,xe,re);for(let we=0;we!==xe;++we)ue[we]=te[we];fe.clippingState=ue,this.numIntersection=ge?this.numPlanes:0,this.numPlanes+=be}};function ae(){ce.value!==te&&(ce.value=te,ce.needsUpdate=ne>0),$.numPlanes=ne,$.numIntersection=0}function he(de,pe,re,Ae){const ge=de!==null?de.length:0;let Se=null;if(ge!==0){if(Se=ce.value,Ae!==!0||Se===null){const fe=re+ge*4,be=pe.matrixWorldInverse;oe.getNormalMatrix(be),(Se===null||Se.length<fe)&&(Se=new Float32Array(fe));for(let xe=0,ue=re;xe!==ge;++xe,ue+=4)le.copy(de[xe]).applyMatrix4(be,oe),le.normal.toArray(Se,ue),Se[ue+3]=le.constant}ce.value=Se,ce.needsUpdate=!0}return $.numPlanes=ge,$.numIntersection=0,Se}}function WebGLCubeMaps(ee){let $=new WeakMap;function te(le,oe){return oe===EquirectangularReflectionMapping?le.mapping=CubeReflectionMapping:oe===EquirectangularRefractionMapping&&(le.mapping=CubeRefractionMapping),le}function ne(le){if(le&&le.isTexture){const oe=le.mapping;if(oe===EquirectangularReflectionMapping||oe===EquirectangularRefractionMapping)if($.has(le)){const ce=$.get(le).texture;return te(ce,le.mapping)}else{const ce=le.image;if(ce&&ce.height>0){const ae=new WebGLCubeRenderTarget(ce.height);return ae.fromEquirectangularTexture(ee,le),$.set(le,ae),le.addEventListener("dispose",ie),te(ae.texture,le.mapping)}else return null}}return le}function ie(le){const oe=le.target;oe.removeEventListener("dispose",ie);const ce=$.get(oe);ce!==void 0&&($.delete(oe),ce.dispose())}function se(){$=new WeakMap}return{get:ne,dispose:se}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)],_origin=new Vector3;class PMREMGenerator{constructor($){this._renderer=$,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene($,te=0,ne=.1,ie=100,se={}){const{size:le=256,position:oe=_origin}=se;_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(le);const ce=this._allocateTargets();return ce.depthBuffer=!0,this._sceneToCubeUV($,ne,ie,ce,oe),te>0&&this._blur(ce,0,0,te),this._applyPMREM(ce),this._cleanup(ce),ce}fromEquirectangular($,te=null){return this._fromTexture($,te)}fromCubemap($,te=null){return this._fromTexture($,te)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize($){this._lodMax=Math.floor(Math.log2($)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let $=0;$<this._lodPlanes.length;$++)this._lodPlanes[$].dispose()}_cleanup($){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,$.scissorTest=!1,_setViewport($,0,0,$.width,$.height)}_fromTexture($,te){$.mapping===CubeReflectionMapping||$.mapping===CubeRefractionMapping?this._setSize($.image.length===0?16:$.image[0].width||$.image[0].image.width):this._setSize($.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const ne=te||this._allocateTargets();return this._textureToCubeUV($,ne),this._applyPMREM(ne),this._cleanup(ne),ne}_allocateTargets(){const $=3*Math.max(this._cubeSize,112),te=4*this._cubeSize,ne={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},ie=_createRenderTarget($,te,ne);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==$||this._pingPongRenderTarget.height!==te){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget($,te,ne);const{_lodMax:se}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(se)),this._blurMaterial=_getBlurShader(se,$,te)}return ie}_compileMaterial($){const te=new Mesh(this._lodPlanes[0],$);this._renderer.compile(te,_flatCamera)}_sceneToCubeUV($,te,ne,ie,se){const ce=new PerspectiveCamera(90,1,te,ne),ae=[1,-1,1,1,1,1],he=[1,1,1,-1,-1,-1],de=this._renderer,pe=de.autoClear,re=de.toneMapping;de.getClearColor(_clearColor),de.toneMapping=NoToneMapping,de.autoClear=!1;const Ae=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),ge=new Mesh(new BoxGeometry,Ae);let Se=!1;const fe=$.background;fe?fe.isColor&&(Ae.color.copy(fe),$.background=null,Se=!0):(Ae.color.copy(_clearColor),Se=!0);for(let be=0;be<6;be++){const xe=be%3;xe===0?(ce.up.set(0,ae[be],0),ce.position.set(se.x,se.y,se.z),ce.lookAt(se.x+he[be],se.y,se.z)):xe===1?(ce.up.set(0,0,ae[be]),ce.position.set(se.x,se.y,se.z),ce.lookAt(se.x,se.y+he[be],se.z)):(ce.up.set(0,ae[be],0),ce.position.set(se.x,se.y,se.z),ce.lookAt(se.x,se.y,se.z+he[be]));const ue=this._cubeSize;_setViewport(ie,xe*ue,be>2?ue:0,ue,ue),de.setRenderTarget(ie),Se&&de.render(ge,ce),de.render($,ce)}ge.geometry.dispose(),ge.material.dispose(),de.toneMapping=re,de.autoClear=pe,$.background=fe}_textureToCubeUV($,te){const ne=this._renderer,ie=$.mapping===CubeReflectionMapping||$.mapping===CubeRefractionMapping;ie?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=$.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const se=ie?this._cubemapMaterial:this._equirectMaterial,le=new Mesh(this._lodPlanes[0],se),oe=se.uniforms;oe.envMap.value=$;const ce=this._cubeSize;_setViewport(te,0,0,3*ce,2*ce),ne.setRenderTarget(te),ne.render(le,_flatCamera)}_applyPMREM($){const te=this._renderer,ne=te.autoClear;te.autoClear=!1;const ie=this._lodPlanes.length;for(let se=1;se<ie;se++){const le=Math.sqrt(this._sigmas[se]*this._sigmas[se]-this._sigmas[se-1]*this._sigmas[se-1]),oe=_axisDirections[(ie-se-1)%_axisDirections.length];this._blur($,se-1,se,le,oe)}te.autoClear=ne}_blur($,te,ne,ie,se){const le=this._pingPongRenderTarget;this._halfBlur($,le,te,ne,ie,"latitudinal",se),this._halfBlur(le,$,ne,ne,ie,"longitudinal",se)}_halfBlur($,te,ne,ie,se,le,oe){const ce=this._renderer,ae=this._blurMaterial;le!=="latitudinal"&&le!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const he=3,de=new Mesh(this._lodPlanes[ie],ae),pe=ae.uniforms,re=this._sizeLods[ne]-1,Ae=isFinite(se)?Math.PI/(2*re):2*Math.PI/(2*MAX_SAMPLES-1),ge=se/Ae,Se=isFinite(se)?1+Math.floor(he*ge):MAX_SAMPLES;Se>MAX_SAMPLES&&console.warn(`sigmaRadians, ${se}, is too large and will clip, as it requested ${Se} samples when the maximum is set to ${MAX_SAMPLES}`);const fe=[];let be=0;for(let _e=0;_e<MAX_SAMPLES;++_e){const Ee=_e/ge,Ce=Math.exp(-Ee*Ee/2);fe.push(Ce),_e===0?be+=Ce:_e<Se&&(be+=2*Ce)}for(let _e=0;_e<fe.length;_e++)fe[_e]=fe[_e]/be;pe.envMap.value=$.texture,pe.samples.value=Se,pe.weights.value=fe,pe.latitudinal.value=le==="latitudinal",oe&&(pe.poleAxis.value=oe);const{_lodMax:xe}=this;pe.dTheta.value=Ae,pe.mipInt.value=xe-ne;const ue=this._sizeLods[ie],we=3*ue*(ie>xe-LOD_MIN?ie-xe+LOD_MIN:0),Fe=4*(this._cubeSize-ue);_setViewport(te,we,Fe,3*ue,2*ue),ce.setRenderTarget(te),ce.render(de,_flatCamera)}}function _createPlanes(ee){const $=[],te=[],ne=[];let ie=ee;const se=ee-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let le=0;le<se;le++){const oe=Math.pow(2,ie);te.push(oe);let ce=1/oe;le>ee-LOD_MIN?ce=EXTRA_LOD_SIGMA[le-ee+LOD_MIN-1]:le===0&&(ce=0),ne.push(ce);const ae=1/(oe-2),he=-ae,de=1+ae,pe=[he,he,de,he,de,de,he,he,de,de,he,de],re=6,Ae=6,ge=3,Se=2,fe=1,be=new Float32Array(ge*Ae*re),xe=new Float32Array(Se*Ae*re),ue=new Float32Array(fe*Ae*re);for(let Fe=0;Fe<re;Fe++){const _e=Fe%3*2/3-1,Ee=Fe>2?0:-1,Ce=[_e,Ee,0,_e+2/3,Ee,0,_e+2/3,Ee+1,0,_e,Ee,0,_e+2/3,Ee+1,0,_e,Ee+1,0];be.set(Ce,ge*Ae*Fe),xe.set(pe,Se*Ae*Fe);const ye=[Fe,Fe,Fe,Fe,Fe,Fe];ue.set(ye,fe*Ae*Fe)}const we=new BufferGeometry;we.setAttribute("position",new BufferAttribute(be,ge)),we.setAttribute("uv",new BufferAttribute(xe,Se)),we.setAttribute("faceIndex",new BufferAttribute(ue,fe)),$.push(we),ie>LOD_MIN&&ie--}return{lodPlanes:$,sizeLods:te,sigmas:ne}}function _createRenderTarget(ee,$,te){const ne=new WebGLRenderTarget(ee,$,te);return ne.texture.mapping=CubeUVReflectionMapping,ne.texture.name="PMREM.cubeUv",ne.scissorTest=!0,ne}function _setViewport(ee,$,te,ne,ie){ee.viewport.set($,te,ne,ie),ee.scissor.set($,te,ne,ie)}function _getBlurShader(ee,$,te){const ne=new Float32Array(MAX_SAMPLES),ie=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/$,CUBEUV_TEXEL_HEIGHT:1/te,CUBEUV_MAX_MIP:`${ee}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:ne},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:ie}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(ee){let $=new WeakMap,te=null;function ne(oe){if(oe&&oe.isTexture){const ce=oe.mapping,ae=ce===EquirectangularReflectionMapping||ce===EquirectangularRefractionMapping,he=ce===CubeReflectionMapping||ce===CubeRefractionMapping;if(ae||he){let de=$.get(oe);const pe=de!==void 0?de.texture.pmremVersion:0;if(oe.isRenderTargetTexture&&oe.pmremVersion!==pe)return te===null&&(te=new PMREMGenerator(ee)),de=ae?te.fromEquirectangular(oe,de):te.fromCubemap(oe,de),de.texture.pmremVersion=oe.pmremVersion,$.set(oe,de),de.texture;if(de!==void 0)return de.texture;{const re=oe.image;return ae&&re&&re.height>0||he&&re&&ie(re)?(te===null&&(te=new PMREMGenerator(ee)),de=ae?te.fromEquirectangular(oe):te.fromCubemap(oe),de.texture.pmremVersion=oe.pmremVersion,$.set(oe,de),oe.addEventListener("dispose",se),de.texture):null}}}return oe}function ie(oe){let ce=0;const ae=6;for(let he=0;he<ae;he++)oe[he]!==void 0&&ce++;return ce===ae}function se(oe){const ce=oe.target;ce.removeEventListener("dispose",se);const ae=$.get(ce);ae!==void 0&&($.delete(ce),ae.dispose())}function le(){$=new WeakMap,te!==null&&(te.dispose(),te=null)}return{get:ne,dispose:le}}function WebGLExtensions(ee){const $={};function te(ne){if($[ne]!==void 0)return $[ne];let ie;switch(ne){case"WEBGL_depth_texture":ie=ee.getExtension("WEBGL_depth_texture")||ee.getExtension("MOZ_WEBGL_depth_texture")||ee.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":ie=ee.getExtension("EXT_texture_filter_anisotropic")||ee.getExtension("MOZ_EXT_texture_filter_anisotropic")||ee.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":ie=ee.getExtension("WEBGL_compressed_texture_s3tc")||ee.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||ee.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":ie=ee.getExtension("WEBGL_compressed_texture_pvrtc")||ee.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:ie=ee.getExtension(ne)}return $[ne]=ie,ie}return{has:function(ne){return te(ne)!==null},init:function(){te("EXT_color_buffer_float"),te("WEBGL_clip_cull_distance"),te("OES_texture_float_linear"),te("EXT_color_buffer_half_float"),te("WEBGL_multisampled_render_to_texture"),te("WEBGL_render_shared_exponent")},get:function(ne){const ie=te(ne);return ie===null&&warnOnce("THREE.WebGLRenderer: "+ne+" extension not supported."),ie}}}function WebGLGeometries(ee,$,te,ne){const ie={},se=new WeakMap;function le(de){const pe=de.target;pe.index!==null&&$.remove(pe.index);for(const Ae in pe.attributes)$.remove(pe.attributes[Ae]);pe.removeEventListener("dispose",le),delete ie[pe.id];const re=se.get(pe);re&&($.remove(re),se.delete(pe)),ne.releaseStatesOfGeometry(pe),pe.isInstancedBufferGeometry===!0&&delete pe._maxInstanceCount,te.memory.geometries--}function oe(de,pe){return ie[pe.id]===!0||(pe.addEventListener("dispose",le),ie[pe.id]=!0,te.memory.geometries++),pe}function ce(de){const pe=de.attributes;for(const re in pe)$.update(pe[re],ee.ARRAY_BUFFER)}function ae(de){const pe=[],re=de.index,Ae=de.attributes.position;let ge=0;if(re!==null){const be=re.array;ge=re.version;for(let xe=0,ue=be.length;xe<ue;xe+=3){const we=be[xe+0],Fe=be[xe+1],_e=be[xe+2];pe.push(we,Fe,Fe,_e,_e,we)}}else if(Ae!==void 0){const be=Ae.array;ge=Ae.version;for(let xe=0,ue=be.length/3-1;xe<ue;xe+=3){const we=xe+0,Fe=xe+1,_e=xe+2;pe.push(we,Fe,Fe,_e,_e,we)}}else return;const Se=new(arrayNeedsUint32(pe)?Uint32BufferAttribute:Uint16BufferAttribute)(pe,1);Se.version=ge;const fe=se.get(de);fe&&$.remove(fe),se.set(de,Se)}function he(de){const pe=se.get(de);if(pe){const re=de.index;re!==null&&pe.version<re.version&&ae(de)}else ae(de);return se.get(de)}return{get:oe,update:ce,getWireframeAttribute:he}}function WebGLIndexedBufferRenderer(ee,$,te){let ne;function ie(pe){ne=pe}let se,le;function oe(pe){se=pe.type,le=pe.bytesPerElement}function ce(pe,re){ee.drawElements(ne,re,se,pe*le),te.update(re,ne,1)}function ae(pe,re,Ae){Ae!==0&&(ee.drawElementsInstanced(ne,re,se,pe*le,Ae),te.update(re,ne,Ae))}function he(pe,re,Ae){if(Ae===0)return;$.get("WEBGL_multi_draw").multiDrawElementsWEBGL(ne,re,0,se,pe,0,Ae);let Se=0;for(let fe=0;fe<Ae;fe++)Se+=re[fe];te.update(Se,ne,1)}function de(pe,re,Ae,ge){if(Ae===0)return;const Se=$.get("WEBGL_multi_draw");if(Se===null)for(let fe=0;fe<pe.length;fe++)ae(pe[fe]/le,re[fe],ge[fe]);else{Se.multiDrawElementsInstancedWEBGL(ne,re,0,se,pe,0,ge,0,Ae);let fe=0;for(let be=0;be<Ae;be++)fe+=re[be]*ge[be];te.update(fe,ne,1)}}this.setMode=ie,this.setIndex=oe,this.render=ce,this.renderInstances=ae,this.renderMultiDraw=he,this.renderMultiDrawInstances=de}function WebGLInfo(ee){const $={geometries:0,textures:0},te={frame:0,calls:0,triangles:0,points:0,lines:0};function ne(se,le,oe){switch(te.calls++,le){case ee.TRIANGLES:te.triangles+=oe*(se/3);break;case ee.LINES:te.lines+=oe*(se/2);break;case ee.LINE_STRIP:te.lines+=oe*(se-1);break;case ee.LINE_LOOP:te.lines+=oe*se;break;case ee.POINTS:te.points+=oe*se;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",le);break}}function ie(){te.calls=0,te.triangles=0,te.points=0,te.lines=0}return{memory:$,render:te,programs:null,autoReset:!0,reset:ie,update:ne}}function WebGLMorphtargets(ee,$,te){const ne=new WeakMap,ie=new Vector4;function se(le,oe,ce){const ae=le.morphTargetInfluences,he=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,de=he!==void 0?he.length:0;let pe=ne.get(oe);if(pe===void 0||pe.count!==de){let ye=function(){Ee.dispose(),ne.delete(oe),oe.removeEventListener("dispose",ye)};var re=ye;pe!==void 0&&pe.texture.dispose();const Ae=oe.morphAttributes.position!==void 0,ge=oe.morphAttributes.normal!==void 0,Se=oe.morphAttributes.color!==void 0,fe=oe.morphAttributes.position||[],be=oe.morphAttributes.normal||[],xe=oe.morphAttributes.color||[];let ue=0;Ae===!0&&(ue=1),ge===!0&&(ue=2),Se===!0&&(ue=3);let we=oe.attributes.position.count*ue,Fe=1;we>$.maxTextureSize&&(Fe=Math.ceil(we/$.maxTextureSize),we=$.maxTextureSize);const _e=new Float32Array(we*Fe*4*de),Ee=new DataArrayTexture(_e,we,Fe,de);Ee.type=FloatType,Ee.needsUpdate=!0;const Ce=ue*4;for(let Re=0;Re<de;Re++){const Ye=fe[Re],ke=be[Re],$e=xe[Re],Be=we*Fe*4*Re;for(let Pe=0;Pe<Ye.count;Pe++){const Ue=Pe*Ce;Ae===!0&&(ie.fromBufferAttribute(Ye,Pe),_e[Be+Ue+0]=ie.x,_e[Be+Ue+1]=ie.y,_e[Be+Ue+2]=ie.z,_e[Be+Ue+3]=0),ge===!0&&(ie.fromBufferAttribute(ke,Pe),_e[Be+Ue+4]=ie.x,_e[Be+Ue+5]=ie.y,_e[Be+Ue+6]=ie.z,_e[Be+Ue+7]=0),Se===!0&&(ie.fromBufferAttribute($e,Pe),_e[Be+Ue+8]=ie.x,_e[Be+Ue+9]=ie.y,_e[Be+Ue+10]=ie.z,_e[Be+Ue+11]=$e.itemSize===4?ie.w:1)}}pe={count:de,texture:Ee,size:new Vector2(we,Fe)},ne.set(oe,pe),oe.addEventListener("dispose",ye)}if(le.isInstancedMesh===!0&&le.morphTexture!==null)ce.getUniforms().setValue(ee,"morphTexture",le.morphTexture,te);else{let Ae=0;for(let Se=0;Se<ae.length;Se++)Ae+=ae[Se];const ge=oe.morphTargetsRelative?1:1-Ae;ce.getUniforms().setValue(ee,"morphTargetBaseInfluence",ge),ce.getUniforms().setValue(ee,"morphTargetInfluences",ae)}ce.getUniforms().setValue(ee,"morphTargetsTexture",pe.texture,te),ce.getUniforms().setValue(ee,"morphTargetsTextureSize",pe.size)}return{update:se}}function WebGLObjects(ee,$,te,ne){let ie=new WeakMap;function se(ce){const ae=ne.render.frame,he=ce.geometry,de=$.get(ce,he);if(ie.get(de)!==ae&&($.update(de),ie.set(de,ae)),ce.isInstancedMesh&&(ce.hasEventListener("dispose",oe)===!1&&ce.addEventListener("dispose",oe),ie.get(ce)!==ae&&(te.update(ce.instanceMatrix,ee.ARRAY_BUFFER),ce.instanceColor!==null&&te.update(ce.instanceColor,ee.ARRAY_BUFFER),ie.set(ce,ae))),ce.isSkinnedMesh){const pe=ce.skeleton;ie.get(pe)!==ae&&(pe.update(),ie.set(pe,ae))}return de}function le(){ie=new WeakMap}function oe(ce){const ae=ce.target;ae.removeEventListener("dispose",oe),te.remove(ae.instanceMatrix),ae.instanceColor!==null&&te.remove(ae.instanceColor)}return{update:se,dispose:le}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(ee,$,te){const ne=ee[0];if(ne<=0||ne>0)return ee;const ie=$*te;let se=arrayCacheF32[ie];if(se===void 0&&(se=new Float32Array(ie),arrayCacheF32[ie]=se),$!==0){ne.toArray(se,0);for(let le=1,oe=0;le!==$;++le)oe+=te,ee[le].toArray(se,oe)}return se}function arraysEqual(ee,$){if(ee.length!==$.length)return!1;for(let te=0,ne=ee.length;te<ne;te++)if(ee[te]!==$[te])return!1;return!0}function copyArray(ee,$){for(let te=0,ne=$.length;te<ne;te++)ee[te]=$[te]}function allocTexUnits(ee,$){let te=arrayCacheI32[$];te===void 0&&(te=new Int32Array($),arrayCacheI32[$]=te);for(let ne=0;ne!==$;++ne)te[ne]=ee.allocateTextureUnit();return te}function setValueV1f(ee,$){const te=this.cache;te[0]!==$&&(ee.uniform1f(this.addr,$),te[0]=$)}function setValueV2f(ee,$){const te=this.cache;if($.x!==void 0)(te[0]!==$.x||te[1]!==$.y)&&(ee.uniform2f(this.addr,$.x,$.y),te[0]=$.x,te[1]=$.y);else{if(arraysEqual(te,$))return;ee.uniform2fv(this.addr,$),copyArray(te,$)}}function setValueV3f(ee,$){const te=this.cache;if($.x!==void 0)(te[0]!==$.x||te[1]!==$.y||te[2]!==$.z)&&(ee.uniform3f(this.addr,$.x,$.y,$.z),te[0]=$.x,te[1]=$.y,te[2]=$.z);else if($.r!==void 0)(te[0]!==$.r||te[1]!==$.g||te[2]!==$.b)&&(ee.uniform3f(this.addr,$.r,$.g,$.b),te[0]=$.r,te[1]=$.g,te[2]=$.b);else{if(arraysEqual(te,$))return;ee.uniform3fv(this.addr,$),copyArray(te,$)}}function setValueV4f(ee,$){const te=this.cache;if($.x!==void 0)(te[0]!==$.x||te[1]!==$.y||te[2]!==$.z||te[3]!==$.w)&&(ee.uniform4f(this.addr,$.x,$.y,$.z,$.w),te[0]=$.x,te[1]=$.y,te[2]=$.z,te[3]=$.w);else{if(arraysEqual(te,$))return;ee.uniform4fv(this.addr,$),copyArray(te,$)}}function setValueM2(ee,$){const te=this.cache,ne=$.elements;if(ne===void 0){if(arraysEqual(te,$))return;ee.uniformMatrix2fv(this.addr,!1,$),copyArray(te,$)}else{if(arraysEqual(te,ne))return;mat2array.set(ne),ee.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(te,ne)}}function setValueM3(ee,$){const te=this.cache,ne=$.elements;if(ne===void 0){if(arraysEqual(te,$))return;ee.uniformMatrix3fv(this.addr,!1,$),copyArray(te,$)}else{if(arraysEqual(te,ne))return;mat3array.set(ne),ee.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(te,ne)}}function setValueM4(ee,$){const te=this.cache,ne=$.elements;if(ne===void 0){if(arraysEqual(te,$))return;ee.uniformMatrix4fv(this.addr,!1,$),copyArray(te,$)}else{if(arraysEqual(te,ne))return;mat4array.set(ne),ee.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(te,ne)}}function setValueV1i(ee,$){const te=this.cache;te[0]!==$&&(ee.uniform1i(this.addr,$),te[0]=$)}function setValueV2i(ee,$){const te=this.cache;if($.x!==void 0)(te[0]!==$.x||te[1]!==$.y)&&(ee.uniform2i(this.addr,$.x,$.y),te[0]=$.x,te[1]=$.y);else{if(arraysEqual(te,$))return;ee.uniform2iv(this.addr,$),copyArray(te,$)}}function setValueV3i(ee,$){const te=this.cache;if($.x!==void 0)(te[0]!==$.x||te[1]!==$.y||te[2]!==$.z)&&(ee.uniform3i(this.addr,$.x,$.y,$.z),te[0]=$.x,te[1]=$.y,te[2]=$.z);else{if(arraysEqual(te,$))return;ee.uniform3iv(this.addr,$),copyArray(te,$)}}function setValueV4i(ee,$){const te=this.cache;if($.x!==void 0)(te[0]!==$.x||te[1]!==$.y||te[2]!==$.z||te[3]!==$.w)&&(ee.uniform4i(this.addr,$.x,$.y,$.z,$.w),te[0]=$.x,te[1]=$.y,te[2]=$.z,te[3]=$.w);else{if(arraysEqual(te,$))return;ee.uniform4iv(this.addr,$),copyArray(te,$)}}function setValueV1ui(ee,$){const te=this.cache;te[0]!==$&&(ee.uniform1ui(this.addr,$),te[0]=$)}function setValueV2ui(ee,$){const te=this.cache;if($.x!==void 0)(te[0]!==$.x||te[1]!==$.y)&&(ee.uniform2ui(this.addr,$.x,$.y),te[0]=$.x,te[1]=$.y);else{if(arraysEqual(te,$))return;ee.uniform2uiv(this.addr,$),copyArray(te,$)}}function setValueV3ui(ee,$){const te=this.cache;if($.x!==void 0)(te[0]!==$.x||te[1]!==$.y||te[2]!==$.z)&&(ee.uniform3ui(this.addr,$.x,$.y,$.z),te[0]=$.x,te[1]=$.y,te[2]=$.z);else{if(arraysEqual(te,$))return;ee.uniform3uiv(this.addr,$),copyArray(te,$)}}function setValueV4ui(ee,$){const te=this.cache;if($.x!==void 0)(te[0]!==$.x||te[1]!==$.y||te[2]!==$.z||te[3]!==$.w)&&(ee.uniform4ui(this.addr,$.x,$.y,$.z,$.w),te[0]=$.x,te[1]=$.y,te[2]=$.z,te[3]=$.w);else{if(arraysEqual(te,$))return;ee.uniform4uiv(this.addr,$),copyArray(te,$)}}function setValueT1(ee,$,te){const ne=this.cache,ie=te.allocateTextureUnit();ne[0]!==ie&&(ee.uniform1i(this.addr,ie),ne[0]=ie);let se;this.type===ee.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,se=emptyShadowTexture):se=emptyTexture,te.setTexture2D($||se,ie)}function setValueT3D1(ee,$,te){const ne=this.cache,ie=te.allocateTextureUnit();ne[0]!==ie&&(ee.uniform1i(this.addr,ie),ne[0]=ie),te.setTexture3D($||empty3dTexture,ie)}function setValueT6(ee,$,te){const ne=this.cache,ie=te.allocateTextureUnit();ne[0]!==ie&&(ee.uniform1i(this.addr,ie),ne[0]=ie),te.setTextureCube($||emptyCubeTexture,ie)}function setValueT2DArray1(ee,$,te){const ne=this.cache,ie=te.allocateTextureUnit();ne[0]!==ie&&(ee.uniform1i(this.addr,ie),ne[0]=ie),te.setTexture2DArray($||emptyArrayTexture,ie)}function getSingularSetter(ee){switch(ee){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(ee,$){ee.uniform1fv(this.addr,$)}function setValueV2fArray(ee,$){const te=flatten($,this.size,2);ee.uniform2fv(this.addr,te)}function setValueV3fArray(ee,$){const te=flatten($,this.size,3);ee.uniform3fv(this.addr,te)}function setValueV4fArray(ee,$){const te=flatten($,this.size,4);ee.uniform4fv(this.addr,te)}function setValueM2Array(ee,$){const te=flatten($,this.size,4);ee.uniformMatrix2fv(this.addr,!1,te)}function setValueM3Array(ee,$){const te=flatten($,this.size,9);ee.uniformMatrix3fv(this.addr,!1,te)}function setValueM4Array(ee,$){const te=flatten($,this.size,16);ee.uniformMatrix4fv(this.addr,!1,te)}function setValueV1iArray(ee,$){ee.uniform1iv(this.addr,$)}function setValueV2iArray(ee,$){ee.uniform2iv(this.addr,$)}function setValueV3iArray(ee,$){ee.uniform3iv(this.addr,$)}function setValueV4iArray(ee,$){ee.uniform4iv(this.addr,$)}function setValueV1uiArray(ee,$){ee.uniform1uiv(this.addr,$)}function setValueV2uiArray(ee,$){ee.uniform2uiv(this.addr,$)}function setValueV3uiArray(ee,$){ee.uniform3uiv(this.addr,$)}function setValueV4uiArray(ee,$){ee.uniform4uiv(this.addr,$)}function setValueT1Array(ee,$,te){const ne=this.cache,ie=$.length,se=allocTexUnits(te,ie);arraysEqual(ne,se)||(ee.uniform1iv(this.addr,se),copyArray(ne,se));for(let le=0;le!==ie;++le)te.setTexture2D($[le]||emptyTexture,se[le])}function setValueT3DArray(ee,$,te){const ne=this.cache,ie=$.length,se=allocTexUnits(te,ie);arraysEqual(ne,se)||(ee.uniform1iv(this.addr,se),copyArray(ne,se));for(let le=0;le!==ie;++le)te.setTexture3D($[le]||empty3dTexture,se[le])}function setValueT6Array(ee,$,te){const ne=this.cache,ie=$.length,se=allocTexUnits(te,ie);arraysEqual(ne,se)||(ee.uniform1iv(this.addr,se),copyArray(ne,se));for(let le=0;le!==ie;++le)te.setTextureCube($[le]||emptyCubeTexture,se[le])}function setValueT2DArrayArray(ee,$,te){const ne=this.cache,ie=$.length,se=allocTexUnits(te,ie);arraysEqual(ne,se)||(ee.uniform1iv(this.addr,se),copyArray(ne,se));for(let le=0;le!==ie;++le)te.setTexture2DArray($[le]||emptyArrayTexture,se[le])}function getPureArraySetter(ee){switch(ee){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor($,te,ne){this.id=$,this.addr=ne,this.cache=[],this.type=te.type,this.setValue=getSingularSetter(te.type)}}class PureArrayUniform{constructor($,te,ne){this.id=$,this.addr=ne,this.cache=[],this.type=te.type,this.size=te.size,this.setValue=getPureArraySetter(te.type)}}class StructuredUniform{constructor($){this.id=$,this.seq=[],this.map={}}setValue($,te,ne){const ie=this.seq;for(let se=0,le=ie.length;se!==le;++se){const oe=ie[se];oe.setValue($,te[oe.id],ne)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(ee,$){ee.seq.push($),ee.map[$.id]=$}function parseUniform(ee,$,te){const ne=ee.name,ie=ne.length;for(RePathPart.lastIndex=0;;){const se=RePathPart.exec(ne),le=RePathPart.lastIndex;let oe=se[1];const ce=se[2]==="]",ae=se[3];if(ce&&(oe=oe|0),ae===void 0||ae==="["&&le+2===ie){addUniform(te,ae===void 0?new SingleUniform(oe,ee,$):new PureArrayUniform(oe,ee,$));break}else{let de=te.map[oe];de===void 0&&(de=new StructuredUniform(oe),addUniform(te,de)),te=de}}}class WebGLUniforms{constructor($,te){this.seq=[],this.map={};const ne=$.getProgramParameter(te,$.ACTIVE_UNIFORMS);for(let ie=0;ie<ne;++ie){const se=$.getActiveUniform(te,ie),le=$.getUniformLocation(te,se.name);parseUniform(se,le,this)}}setValue($,te,ne,ie){const se=this.map[te];se!==void 0&&se.setValue($,ne,ie)}setOptional($,te,ne){const ie=te[ne];ie!==void 0&&this.setValue($,ne,ie)}static upload($,te,ne,ie){for(let se=0,le=te.length;se!==le;++se){const oe=te[se],ce=ne[oe.id];ce.needsUpdate!==!1&&oe.setValue($,ce.value,ie)}}static seqWithValue($,te){const ne=[];for(let ie=0,se=$.length;ie!==se;++ie){const le=$[ie];le.id in te&&ne.push(le)}return ne}}function WebGLShader(ee,$,te){const ne=ee.createShader($);return ee.shaderSource(ne,te),ee.compileShader(ne),ne}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(ee,$){const te=ee.split(`
`),ne=[],ie=Math.max($-6,0),se=Math.min($+6,te.length);for(let le=ie;le<se;le++){const oe=le+1;ne.push(`${oe===$?">":" "} ${oe}: ${te[le]}`)}return ne.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(ee){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,ee);const $=`mat3( ${_m0.elements.map(te=>te.toFixed(4))} )`;switch(ColorManagement.getTransfer(ee)){case LinearTransfer:return[$,"LinearTransferOETF"];case SRGBTransfer:return[$,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",ee),[$,"LinearTransferOETF"]}}function getShaderErrors(ee,$,te){const ne=ee.getShaderParameter($,ee.COMPILE_STATUS),ie=ee.getShaderInfoLog($).trim();if(ne&&ie==="")return"";const se=/ERROR: 0:(\d+)/.exec(ie);if(se){const le=parseInt(se[1]);return te.toUpperCase()+`

`+ie+`

`+handleSource(ee.getShaderSource($),le)}else return ie}function getTexelEncodingFunction(ee,$){const te=getEncodingComponents($);return[`vec4 ${ee}( vec4 value ) {`,`	return ${te[1]}( vec4( value.rgb * ${te[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(ee,$){let te;switch($){case LinearToneMapping:te="Linear";break;case ReinhardToneMapping:te="Reinhard";break;case CineonToneMapping:te="Cineon";break;case ACESFilmicToneMapping:te="ACESFilmic";break;case AgXToneMapping:te="AgX";break;case NeutralToneMapping:te="Neutral";break;case CustomToneMapping:te="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",$),te="Linear"}return"vec3 "+ee+"( vec3 color ) { return "+te+"ToneMapping( color ); }"}const _v0=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0);const ee=_v0.x.toFixed(4),$=_v0.y.toFixed(4),te=_v0.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${ee}, ${$}, ${te} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(ee){return[ee.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",ee.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(ee){const $=[];for(const te in ee){const ne=ee[te];ne!==!1&&$.push("#define "+te+" "+ne)}return $.join(`
`)}function fetchAttributeLocations(ee,$){const te={},ne=ee.getProgramParameter($,ee.ACTIVE_ATTRIBUTES);for(let ie=0;ie<ne;ie++){const se=ee.getActiveAttrib($,ie),le=se.name;let oe=1;se.type===ee.FLOAT_MAT2&&(oe=2),se.type===ee.FLOAT_MAT3&&(oe=3),se.type===ee.FLOAT_MAT4&&(oe=4),te[le]={type:se.type,location:ee.getAttribLocation($,le),locationSize:oe}}return te}function filterEmptyLine(ee){return ee!==""}function replaceLightNums(ee,$){const te=$.numSpotLightShadows+$.numSpotLightMaps-$.numSpotLightShadowsWithMaps;return ee.replace(/NUM_DIR_LIGHTS/g,$.numDirLights).replace(/NUM_SPOT_LIGHTS/g,$.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,$.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,te).replace(/NUM_RECT_AREA_LIGHTS/g,$.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,$.numPointLights).replace(/NUM_HEMI_LIGHTS/g,$.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,$.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,$.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,$.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,$.numPointLightShadows)}function replaceClippingPlaneNums(ee,$){return ee.replace(/NUM_CLIPPING_PLANES/g,$.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,$.numClippingPlanes-$.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(ee){return ee.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(ee,$){let te=ShaderChunk[$];if(te===void 0){const ne=shaderChunkMap.get($);if(ne!==void 0)te=ShaderChunk[ne],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',$,ne);else throw new Error("Can not resolve #include <"+$+">")}return resolveIncludes(te)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(ee){return ee.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(ee,$,te,ne){let ie="";for(let se=parseInt($);se<parseInt(te);se++)ie+=ne.replace(/\[\s*i\s*\]/g,"[ "+se+" ]").replace(/UNROLLED_LOOP_INDEX/g,se);return ie}function generatePrecision(ee){let $=`precision ${ee.precision} float;
	precision ${ee.precision} int;
	precision ${ee.precision} sampler2D;
	precision ${ee.precision} samplerCube;
	precision ${ee.precision} sampler3D;
	precision ${ee.precision} sampler2DArray;
	precision ${ee.precision} sampler2DShadow;
	precision ${ee.precision} samplerCubeShadow;
	precision ${ee.precision} sampler2DArrayShadow;
	precision ${ee.precision} isampler2D;
	precision ${ee.precision} isampler3D;
	precision ${ee.precision} isamplerCube;
	precision ${ee.precision} isampler2DArray;
	precision ${ee.precision} usampler2D;
	precision ${ee.precision} usampler3D;
	precision ${ee.precision} usamplerCube;
	precision ${ee.precision} usampler2DArray;
	`;return ee.precision==="highp"?$+=`
#define HIGH_PRECISION`:ee.precision==="mediump"?$+=`
#define MEDIUM_PRECISION`:ee.precision==="lowp"&&($+=`
#define LOW_PRECISION`),$}function generateShadowMapTypeDefine(ee){let $="SHADOWMAP_TYPE_BASIC";return ee.shadowMapType===PCFShadowMap?$="SHADOWMAP_TYPE_PCF":ee.shadowMapType===PCFSoftShadowMap?$="SHADOWMAP_TYPE_PCF_SOFT":ee.shadowMapType===VSMShadowMap&&($="SHADOWMAP_TYPE_VSM"),$}function generateEnvMapTypeDefine(ee){let $="ENVMAP_TYPE_CUBE";if(ee.envMap)switch(ee.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:$="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:$="ENVMAP_TYPE_CUBE_UV";break}return $}function generateEnvMapModeDefine(ee){let $="ENVMAP_MODE_REFLECTION";if(ee.envMap)switch(ee.envMapMode){case CubeRefractionMapping:$="ENVMAP_MODE_REFRACTION";break}return $}function generateEnvMapBlendingDefine(ee){let $="ENVMAP_BLENDING_NONE";if(ee.envMap)switch(ee.combine){case MultiplyOperation:$="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:$="ENVMAP_BLENDING_MIX";break;case AddOperation:$="ENVMAP_BLENDING_ADD";break}return $}function generateCubeUVSize(ee){const $=ee.envMapCubeUVHeight;if($===null)return null;const te=Math.log2($)-2,ne=1/$;return{texelWidth:1/(3*Math.max(Math.pow(2,te),7*16)),texelHeight:ne,maxMip:te}}function WebGLProgram(ee,$,te,ne){const ie=ee.getContext(),se=te.defines;let le=te.vertexShader,oe=te.fragmentShader;const ce=generateShadowMapTypeDefine(te),ae=generateEnvMapTypeDefine(te),he=generateEnvMapModeDefine(te),de=generateEnvMapBlendingDefine(te),pe=generateCubeUVSize(te),re=generateVertexExtensions(te),Ae=generateDefines(se),ge=ie.createProgram();let Se,fe,be=te.glslVersion?"#version "+te.glslVersion+`
`:"";te.isRawShaderMaterial?(Se=["#define SHADER_TYPE "+te.shaderType,"#define SHADER_NAME "+te.shaderName,Ae].filter(filterEmptyLine).join(`
`),Se.length>0&&(Se+=`
`),fe=["#define SHADER_TYPE "+te.shaderType,"#define SHADER_NAME "+te.shaderName,Ae].filter(filterEmptyLine).join(`
`),fe.length>0&&(fe+=`
`)):(Se=[generatePrecision(te),"#define SHADER_TYPE "+te.shaderType,"#define SHADER_NAME "+te.shaderName,Ae,te.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",te.batching?"#define USE_BATCHING":"",te.batchingColor?"#define USE_BATCHING_COLOR":"",te.instancing?"#define USE_INSTANCING":"",te.instancingColor?"#define USE_INSTANCING_COLOR":"",te.instancingMorph?"#define USE_INSTANCING_MORPH":"",te.useFog&&te.fog?"#define USE_FOG":"",te.useFog&&te.fogExp2?"#define FOG_EXP2":"",te.map?"#define USE_MAP":"",te.envMap?"#define USE_ENVMAP":"",te.envMap?"#define "+he:"",te.lightMap?"#define USE_LIGHTMAP":"",te.aoMap?"#define USE_AOMAP":"",te.bumpMap?"#define USE_BUMPMAP":"",te.normalMap?"#define USE_NORMALMAP":"",te.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",te.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",te.displacementMap?"#define USE_DISPLACEMENTMAP":"",te.emissiveMap?"#define USE_EMISSIVEMAP":"",te.anisotropy?"#define USE_ANISOTROPY":"",te.anisotropyMap?"#define USE_ANISOTROPYMAP":"",te.clearcoatMap?"#define USE_CLEARCOATMAP":"",te.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",te.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",te.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",te.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",te.specularMap?"#define USE_SPECULARMAP":"",te.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",te.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",te.roughnessMap?"#define USE_ROUGHNESSMAP":"",te.metalnessMap?"#define USE_METALNESSMAP":"",te.alphaMap?"#define USE_ALPHAMAP":"",te.alphaHash?"#define USE_ALPHAHASH":"",te.transmission?"#define USE_TRANSMISSION":"",te.transmissionMap?"#define USE_TRANSMISSIONMAP":"",te.thicknessMap?"#define USE_THICKNESSMAP":"",te.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",te.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",te.mapUv?"#define MAP_UV "+te.mapUv:"",te.alphaMapUv?"#define ALPHAMAP_UV "+te.alphaMapUv:"",te.lightMapUv?"#define LIGHTMAP_UV "+te.lightMapUv:"",te.aoMapUv?"#define AOMAP_UV "+te.aoMapUv:"",te.emissiveMapUv?"#define EMISSIVEMAP_UV "+te.emissiveMapUv:"",te.bumpMapUv?"#define BUMPMAP_UV "+te.bumpMapUv:"",te.normalMapUv?"#define NORMALMAP_UV "+te.normalMapUv:"",te.displacementMapUv?"#define DISPLACEMENTMAP_UV "+te.displacementMapUv:"",te.metalnessMapUv?"#define METALNESSMAP_UV "+te.metalnessMapUv:"",te.roughnessMapUv?"#define ROUGHNESSMAP_UV "+te.roughnessMapUv:"",te.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+te.anisotropyMapUv:"",te.clearcoatMapUv?"#define CLEARCOATMAP_UV "+te.clearcoatMapUv:"",te.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+te.clearcoatNormalMapUv:"",te.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+te.clearcoatRoughnessMapUv:"",te.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+te.iridescenceMapUv:"",te.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+te.iridescenceThicknessMapUv:"",te.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+te.sheenColorMapUv:"",te.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+te.sheenRoughnessMapUv:"",te.specularMapUv?"#define SPECULARMAP_UV "+te.specularMapUv:"",te.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+te.specularColorMapUv:"",te.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+te.specularIntensityMapUv:"",te.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+te.transmissionMapUv:"",te.thicknessMapUv?"#define THICKNESSMAP_UV "+te.thicknessMapUv:"",te.vertexTangents&&te.flatShading===!1?"#define USE_TANGENT":"",te.vertexColors?"#define USE_COLOR":"",te.vertexAlphas?"#define USE_COLOR_ALPHA":"",te.vertexUv1s?"#define USE_UV1":"",te.vertexUv2s?"#define USE_UV2":"",te.vertexUv3s?"#define USE_UV3":"",te.pointsUvs?"#define USE_POINTS_UV":"",te.flatShading?"#define FLAT_SHADED":"",te.skinning?"#define USE_SKINNING":"",te.morphTargets?"#define USE_MORPHTARGETS":"",te.morphNormals&&te.flatShading===!1?"#define USE_MORPHNORMALS":"",te.morphColors?"#define USE_MORPHCOLORS":"",te.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+te.morphTextureStride:"",te.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+te.morphTargetsCount:"",te.doubleSided?"#define DOUBLE_SIDED":"",te.flipSided?"#define FLIP_SIDED":"",te.shadowMapEnabled?"#define USE_SHADOWMAP":"",te.shadowMapEnabled?"#define "+ce:"",te.sizeAttenuation?"#define USE_SIZEATTENUATION":"",te.numLightProbes>0?"#define USE_LIGHT_PROBES":"",te.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",te.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),fe=[generatePrecision(te),"#define SHADER_TYPE "+te.shaderType,"#define SHADER_NAME "+te.shaderName,Ae,te.useFog&&te.fog?"#define USE_FOG":"",te.useFog&&te.fogExp2?"#define FOG_EXP2":"",te.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",te.map?"#define USE_MAP":"",te.matcap?"#define USE_MATCAP":"",te.envMap?"#define USE_ENVMAP":"",te.envMap?"#define "+ae:"",te.envMap?"#define "+he:"",te.envMap?"#define "+de:"",pe?"#define CUBEUV_TEXEL_WIDTH "+pe.texelWidth:"",pe?"#define CUBEUV_TEXEL_HEIGHT "+pe.texelHeight:"",pe?"#define CUBEUV_MAX_MIP "+pe.maxMip+".0":"",te.lightMap?"#define USE_LIGHTMAP":"",te.aoMap?"#define USE_AOMAP":"",te.bumpMap?"#define USE_BUMPMAP":"",te.normalMap?"#define USE_NORMALMAP":"",te.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",te.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",te.emissiveMap?"#define USE_EMISSIVEMAP":"",te.anisotropy?"#define USE_ANISOTROPY":"",te.anisotropyMap?"#define USE_ANISOTROPYMAP":"",te.clearcoat?"#define USE_CLEARCOAT":"",te.clearcoatMap?"#define USE_CLEARCOATMAP":"",te.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",te.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",te.dispersion?"#define USE_DISPERSION":"",te.iridescence?"#define USE_IRIDESCENCE":"",te.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",te.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",te.specularMap?"#define USE_SPECULARMAP":"",te.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",te.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",te.roughnessMap?"#define USE_ROUGHNESSMAP":"",te.metalnessMap?"#define USE_METALNESSMAP":"",te.alphaMap?"#define USE_ALPHAMAP":"",te.alphaTest?"#define USE_ALPHATEST":"",te.alphaHash?"#define USE_ALPHAHASH":"",te.sheen?"#define USE_SHEEN":"",te.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",te.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",te.transmission?"#define USE_TRANSMISSION":"",te.transmissionMap?"#define USE_TRANSMISSIONMAP":"",te.thicknessMap?"#define USE_THICKNESSMAP":"",te.vertexTangents&&te.flatShading===!1?"#define USE_TANGENT":"",te.vertexColors||te.instancingColor||te.batchingColor?"#define USE_COLOR":"",te.vertexAlphas?"#define USE_COLOR_ALPHA":"",te.vertexUv1s?"#define USE_UV1":"",te.vertexUv2s?"#define USE_UV2":"",te.vertexUv3s?"#define USE_UV3":"",te.pointsUvs?"#define USE_POINTS_UV":"",te.gradientMap?"#define USE_GRADIENTMAP":"",te.flatShading?"#define FLAT_SHADED":"",te.doubleSided?"#define DOUBLE_SIDED":"",te.flipSided?"#define FLIP_SIDED":"",te.shadowMapEnabled?"#define USE_SHADOWMAP":"",te.shadowMapEnabled?"#define "+ce:"",te.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",te.numLightProbes>0?"#define USE_LIGHT_PROBES":"",te.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",te.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",te.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",te.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",te.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",te.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",te.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",te.toneMapping):"",te.dithering?"#define DITHERING":"",te.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",te.outputColorSpace),getLuminanceFunction(),te.useDepthPacking?"#define DEPTH_PACKING "+te.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),le=resolveIncludes(le),le=replaceLightNums(le,te),le=replaceClippingPlaneNums(le,te),oe=resolveIncludes(oe),oe=replaceLightNums(oe,te),oe=replaceClippingPlaneNums(oe,te),le=unrollLoops(le),oe=unrollLoops(oe),te.isRawShaderMaterial!==!0&&(be=`#version 300 es
`,Se=[re,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Se,fe=["#define varying in",te.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",te.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+fe);const xe=be+Se+le,ue=be+fe+oe,we=WebGLShader(ie,ie.VERTEX_SHADER,xe),Fe=WebGLShader(ie,ie.FRAGMENT_SHADER,ue);ie.attachShader(ge,we),ie.attachShader(ge,Fe),te.index0AttributeName!==void 0?ie.bindAttribLocation(ge,0,te.index0AttributeName):te.morphTargets===!0&&ie.bindAttribLocation(ge,0,"position"),ie.linkProgram(ge);function _e(Re){if(ee.debug.checkShaderErrors){const Ye=ie.getProgramInfoLog(ge).trim(),ke=ie.getShaderInfoLog(we).trim(),$e=ie.getShaderInfoLog(Fe).trim();let Be=!0,Pe=!0;if(ie.getProgramParameter(ge,ie.LINK_STATUS)===!1)if(Be=!1,typeof ee.debug.onShaderError=="function")ee.debug.onShaderError(ie,ge,we,Fe);else{const Ue=getShaderErrors(ie,we,"vertex"),Te=getShaderErrors(ie,Fe,"fragment");console.error("THREE.WebGLProgram: Shader Error "+ie.getError()+" - VALIDATE_STATUS "+ie.getProgramParameter(ge,ie.VALIDATE_STATUS)+`

Material Name: `+Re.name+`
Material Type: `+Re.type+`

Program Info Log: `+Ye+`
`+Ue+`
`+Te)}else Ye!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ye):(ke===""||$e==="")&&(Pe=!1);Pe&&(Re.diagnostics={runnable:Be,programLog:Ye,vertexShader:{log:ke,prefix:Se},fragmentShader:{log:$e,prefix:fe}})}ie.deleteShader(we),ie.deleteShader(Fe),Ee=new WebGLUniforms(ie,ge),Ce=fetchAttributeLocations(ie,ge)}let Ee;this.getUniforms=function(){return Ee===void 0&&_e(this),Ee};let Ce;this.getAttributes=function(){return Ce===void 0&&_e(this),Ce};let ye=te.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return ye===!1&&(ye=ie.getProgramParameter(ge,COMPLETION_STATUS_KHR)),ye},this.destroy=function(){ne.releaseStatesOfProgram(this),ie.deleteProgram(ge),this.program=void 0},this.type=te.shaderType,this.name=te.shaderName,this.id=programIdCount++,this.cacheKey=$,this.usedTimes=1,this.program=ge,this.vertexShader=we,this.fragmentShader=Fe,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update($){const te=$.vertexShader,ne=$.fragmentShader,ie=this._getShaderStage(te),se=this._getShaderStage(ne),le=this._getShaderCacheForMaterial($);return le.has(ie)===!1&&(le.add(ie),ie.usedTimes++),le.has(se)===!1&&(le.add(se),se.usedTimes++),this}remove($){const te=this.materialCache.get($);for(const ne of te)ne.usedTimes--,ne.usedTimes===0&&this.shaderCache.delete(ne.code);return this.materialCache.delete($),this}getVertexShaderID($){return this._getShaderStage($.vertexShader).id}getFragmentShaderID($){return this._getShaderStage($.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial($){const te=this.materialCache;let ne=te.get($);return ne===void 0&&(ne=new Set,te.set($,ne)),ne}_getShaderStage($){const te=this.shaderCache;let ne=te.get($);return ne===void 0&&(ne=new WebGLShaderStage($),te.set($,ne)),ne}}class WebGLShaderStage{constructor($){this.id=_id++,this.code=$,this.usedTimes=0}}function WebGLPrograms(ee,$,te,ne,ie,se,le){const oe=new Layers,ce=new WebGLShaderCache,ae=new Set,he=[],de=ie.logarithmicDepthBuffer,pe=ie.vertexTextures;let re=ie.precision;const Ae={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ge(Ce){return ae.add(Ce),Ce===0?"uv":`uv${Ce}`}function Se(Ce,ye,Re,Ye,ke){const $e=Ye.fog,Be=ke.geometry,Pe=Ce.isMeshStandardMaterial?Ye.environment:null,Ue=(Ce.isMeshStandardMaterial?te:$).get(Ce.envMap||Pe),Te=Ue&&Ue.mapping===CubeUVReflectionMapping?Ue.image.height:null,Me=Ae[Ce.type];Ce.precision!==null&&(re=ie.getMaxPrecision(Ce.precision),re!==Ce.precision&&console.warn("THREE.WebGLProgram.getParameters:",Ce.precision,"not supported, using",re,"instead."));const Ve=Be.morphAttributes.position||Be.morphAttributes.normal||Be.morphAttributes.color,He=Ve!==void 0?Ve.length:0;let Ie=0;Be.morphAttributes.position!==void 0&&(Ie=1),Be.morphAttributes.normal!==void 0&&(Ie=2),Be.morphAttributes.color!==void 0&&(Ie=3);let Le,Oe,Ne,qe;if(Me){const en=ShaderLib[Me];Le=en.vertexShader,Oe=en.fragmentShader}else Le=Ce.vertexShader,Oe=Ce.fragmentShader,ce.update(Ce),Ne=ce.getVertexShaderID(Ce),qe=ce.getFragmentShaderID(Ce);const it=ee.getRenderTarget(),tt=ee.state.buffers.depth.getReversed(),Xe=ke.isInstancedMesh===!0,Ze=ke.isBatchedMesh===!0,ot=!!Ce.map,Ge=!!Ce.matcap,Ke=!!Ue,je=!!Ce.aoMap,nt=!!Ce.lightMap,Qe=!!Ce.bumpMap,We=!!Ce.normalMap,rt=!!Ce.displacementMap,et=!!Ce.emissiveMap,ct=!!Ce.metalnessMap,at=!!Ce.roughnessMap,Je=Ce.anisotropy>0,lt=Ce.clearcoat>0,ut=Ce.dispersion>0,ft=Ce.iridescence>0,pt=Ce.sheen>0,mt=Ce.transmission>0,xt=Je&&!!Ce.anisotropyMap,vt=lt&&!!Ce.clearcoatMap,wt=lt&&!!Ce.clearcoatNormalMap,_t=lt&&!!Ce.clearcoatRoughnessMap,Tt=ft&&!!Ce.iridescenceMap,Lt=ft&&!!Ce.iridescenceThicknessMap,jt=pt&&!!Ce.sheenColorMap,Bt=pt&&!!Ce.sheenRoughnessMap,St=!!Ce.specularMap,Ft=!!Ce.specularColorMap,Ct=!!Ce.specularIntensityMap,yt=mt&&!!Ce.transmissionMap,bt=mt&&!!Ce.thicknessMap,Pt=!!Ce.gradientMap,Ut=!!Ce.alphaMap,Yt=Ce.alphaTest>0,kt=!!Ce.alphaHash,Ot=!!Ce.extensions;let Et=NoToneMapping;Ce.toneMapped&&(it===null||it.isXRRenderTarget===!0)&&(Et=ee.toneMapping);const nn={shaderID:Me,shaderType:Ce.type,shaderName:Ce.name,vertexShader:Le,fragmentShader:Oe,defines:Ce.defines,customVertexShaderID:Ne,customFragmentShaderID:qe,isRawShaderMaterial:Ce.isRawShaderMaterial===!0,glslVersion:Ce.glslVersion,precision:re,batching:Ze,batchingColor:Ze&&ke._colorsTexture!==null,instancing:Xe,instancingColor:Xe&&ke.instanceColor!==null,instancingMorph:Xe&&ke.morphTexture!==null,supportsVertexTextures:pe,outputColorSpace:it===null?ee.outputColorSpace:it.isXRRenderTarget===!0?it.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!Ce.alphaToCoverage,map:ot,matcap:Ge,envMap:Ke,envMapMode:Ke&&Ue.mapping,envMapCubeUVHeight:Te,aoMap:je,lightMap:nt,bumpMap:Qe,normalMap:We,displacementMap:pe&&rt,emissiveMap:et,normalMapObjectSpace:We&&Ce.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:We&&Ce.normalMapType===TangentSpaceNormalMap,metalnessMap:ct,roughnessMap:at,anisotropy:Je,anisotropyMap:xt,clearcoat:lt,clearcoatMap:vt,clearcoatNormalMap:wt,clearcoatRoughnessMap:_t,dispersion:ut,iridescence:ft,iridescenceMap:Tt,iridescenceThicknessMap:Lt,sheen:pt,sheenColorMap:jt,sheenRoughnessMap:Bt,specularMap:St,specularColorMap:Ft,specularIntensityMap:Ct,transmission:mt,transmissionMap:yt,thicknessMap:bt,gradientMap:Pt,opaque:Ce.transparent===!1&&Ce.blending===NormalBlending&&Ce.alphaToCoverage===!1,alphaMap:Ut,alphaTest:Yt,alphaHash:kt,combine:Ce.combine,mapUv:ot&&ge(Ce.map.channel),aoMapUv:je&&ge(Ce.aoMap.channel),lightMapUv:nt&&ge(Ce.lightMap.channel),bumpMapUv:Qe&&ge(Ce.bumpMap.channel),normalMapUv:We&&ge(Ce.normalMap.channel),displacementMapUv:rt&&ge(Ce.displacementMap.channel),emissiveMapUv:et&&ge(Ce.emissiveMap.channel),metalnessMapUv:ct&&ge(Ce.metalnessMap.channel),roughnessMapUv:at&&ge(Ce.roughnessMap.channel),anisotropyMapUv:xt&&ge(Ce.anisotropyMap.channel),clearcoatMapUv:vt&&ge(Ce.clearcoatMap.channel),clearcoatNormalMapUv:wt&&ge(Ce.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:_t&&ge(Ce.clearcoatRoughnessMap.channel),iridescenceMapUv:Tt&&ge(Ce.iridescenceMap.channel),iridescenceThicknessMapUv:Lt&&ge(Ce.iridescenceThicknessMap.channel),sheenColorMapUv:jt&&ge(Ce.sheenColorMap.channel),sheenRoughnessMapUv:Bt&&ge(Ce.sheenRoughnessMap.channel),specularMapUv:St&&ge(Ce.specularMap.channel),specularColorMapUv:Ft&&ge(Ce.specularColorMap.channel),specularIntensityMapUv:Ct&&ge(Ce.specularIntensityMap.channel),transmissionMapUv:yt&&ge(Ce.transmissionMap.channel),thicknessMapUv:bt&&ge(Ce.thicknessMap.channel),alphaMapUv:Ut&&ge(Ce.alphaMap.channel),vertexTangents:!!Be.attributes.tangent&&(We||Je),vertexColors:Ce.vertexColors,vertexAlphas:Ce.vertexColors===!0&&!!Be.attributes.color&&Be.attributes.color.itemSize===4,pointsUvs:ke.isPoints===!0&&!!Be.attributes.uv&&(ot||Ut),fog:!!$e,useFog:Ce.fog===!0,fogExp2:!!$e&&$e.isFogExp2,flatShading:Ce.flatShading===!0,sizeAttenuation:Ce.sizeAttenuation===!0,logarithmicDepthBuffer:de,reverseDepthBuffer:tt,skinning:ke.isSkinnedMesh===!0,morphTargets:Be.morphAttributes.position!==void 0,morphNormals:Be.morphAttributes.normal!==void 0,morphColors:Be.morphAttributes.color!==void 0,morphTargetsCount:He,morphTextureStride:Ie,numDirLights:ye.directional.length,numPointLights:ye.point.length,numSpotLights:ye.spot.length,numSpotLightMaps:ye.spotLightMap.length,numRectAreaLights:ye.rectArea.length,numHemiLights:ye.hemi.length,numDirLightShadows:ye.directionalShadowMap.length,numPointLightShadows:ye.pointShadowMap.length,numSpotLightShadows:ye.spotShadowMap.length,numSpotLightShadowsWithMaps:ye.numSpotLightShadowsWithMaps,numLightProbes:ye.numLightProbes,numClippingPlanes:le.numPlanes,numClipIntersection:le.numIntersection,dithering:Ce.dithering,shadowMapEnabled:ee.shadowMap.enabled&&Re.length>0,shadowMapType:ee.shadowMap.type,toneMapping:Et,decodeVideoTexture:ot&&Ce.map.isVideoTexture===!0&&ColorManagement.getTransfer(Ce.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:et&&Ce.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(Ce.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:Ce.premultipliedAlpha,doubleSided:Ce.side===DoubleSide,flipSided:Ce.side===BackSide,useDepthPacking:Ce.depthPacking>=0,depthPacking:Ce.depthPacking||0,index0AttributeName:Ce.index0AttributeName,extensionClipCullDistance:Ot&&Ce.extensions.clipCullDistance===!0&&ne.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ot&&Ce.extensions.multiDraw===!0||Ze)&&ne.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:ne.has("KHR_parallel_shader_compile"),customProgramCacheKey:Ce.customProgramCacheKey()};return nn.vertexUv1s=ae.has(1),nn.vertexUv2s=ae.has(2),nn.vertexUv3s=ae.has(3),ae.clear(),nn}function fe(Ce){const ye=[];if(Ce.shaderID?ye.push(Ce.shaderID):(ye.push(Ce.customVertexShaderID),ye.push(Ce.customFragmentShaderID)),Ce.defines!==void 0)for(const Re in Ce.defines)ye.push(Re),ye.push(Ce.defines[Re]);return Ce.isRawShaderMaterial===!1&&(be(ye,Ce),xe(ye,Ce),ye.push(ee.outputColorSpace)),ye.push(Ce.customProgramCacheKey),ye.join()}function be(Ce,ye){Ce.push(ye.precision),Ce.push(ye.outputColorSpace),Ce.push(ye.envMapMode),Ce.push(ye.envMapCubeUVHeight),Ce.push(ye.mapUv),Ce.push(ye.alphaMapUv),Ce.push(ye.lightMapUv),Ce.push(ye.aoMapUv),Ce.push(ye.bumpMapUv),Ce.push(ye.normalMapUv),Ce.push(ye.displacementMapUv),Ce.push(ye.emissiveMapUv),Ce.push(ye.metalnessMapUv),Ce.push(ye.roughnessMapUv),Ce.push(ye.anisotropyMapUv),Ce.push(ye.clearcoatMapUv),Ce.push(ye.clearcoatNormalMapUv),Ce.push(ye.clearcoatRoughnessMapUv),Ce.push(ye.iridescenceMapUv),Ce.push(ye.iridescenceThicknessMapUv),Ce.push(ye.sheenColorMapUv),Ce.push(ye.sheenRoughnessMapUv),Ce.push(ye.specularMapUv),Ce.push(ye.specularColorMapUv),Ce.push(ye.specularIntensityMapUv),Ce.push(ye.transmissionMapUv),Ce.push(ye.thicknessMapUv),Ce.push(ye.combine),Ce.push(ye.fogExp2),Ce.push(ye.sizeAttenuation),Ce.push(ye.morphTargetsCount),Ce.push(ye.morphAttributeCount),Ce.push(ye.numDirLights),Ce.push(ye.numPointLights),Ce.push(ye.numSpotLights),Ce.push(ye.numSpotLightMaps),Ce.push(ye.numHemiLights),Ce.push(ye.numRectAreaLights),Ce.push(ye.numDirLightShadows),Ce.push(ye.numPointLightShadows),Ce.push(ye.numSpotLightShadows),Ce.push(ye.numSpotLightShadowsWithMaps),Ce.push(ye.numLightProbes),Ce.push(ye.shadowMapType),Ce.push(ye.toneMapping),Ce.push(ye.numClippingPlanes),Ce.push(ye.numClipIntersection),Ce.push(ye.depthPacking)}function xe(Ce,ye){oe.disableAll(),ye.supportsVertexTextures&&oe.enable(0),ye.instancing&&oe.enable(1),ye.instancingColor&&oe.enable(2),ye.instancingMorph&&oe.enable(3),ye.matcap&&oe.enable(4),ye.envMap&&oe.enable(5),ye.normalMapObjectSpace&&oe.enable(6),ye.normalMapTangentSpace&&oe.enable(7),ye.clearcoat&&oe.enable(8),ye.iridescence&&oe.enable(9),ye.alphaTest&&oe.enable(10),ye.vertexColors&&oe.enable(11),ye.vertexAlphas&&oe.enable(12),ye.vertexUv1s&&oe.enable(13),ye.vertexUv2s&&oe.enable(14),ye.vertexUv3s&&oe.enable(15),ye.vertexTangents&&oe.enable(16),ye.anisotropy&&oe.enable(17),ye.alphaHash&&oe.enable(18),ye.batching&&oe.enable(19),ye.dispersion&&oe.enable(20),ye.batchingColor&&oe.enable(21),Ce.push(oe.mask),oe.disableAll(),ye.fog&&oe.enable(0),ye.useFog&&oe.enable(1),ye.flatShading&&oe.enable(2),ye.logarithmicDepthBuffer&&oe.enable(3),ye.reverseDepthBuffer&&oe.enable(4),ye.skinning&&oe.enable(5),ye.morphTargets&&oe.enable(6),ye.morphNormals&&oe.enable(7),ye.morphColors&&oe.enable(8),ye.premultipliedAlpha&&oe.enable(9),ye.shadowMapEnabled&&oe.enable(10),ye.doubleSided&&oe.enable(11),ye.flipSided&&oe.enable(12),ye.useDepthPacking&&oe.enable(13),ye.dithering&&oe.enable(14),ye.transmission&&oe.enable(15),ye.sheen&&oe.enable(16),ye.opaque&&oe.enable(17),ye.pointsUvs&&oe.enable(18),ye.decodeVideoTexture&&oe.enable(19),ye.decodeVideoTextureEmissive&&oe.enable(20),ye.alphaToCoverage&&oe.enable(21),Ce.push(oe.mask)}function ue(Ce){const ye=Ae[Ce.type];let Re;if(ye){const Ye=ShaderLib[ye];Re=UniformsUtils.clone(Ye.uniforms)}else Re=Ce.uniforms;return Re}function we(Ce,ye){let Re;for(let Ye=0,ke=he.length;Ye<ke;Ye++){const $e=he[Ye];if($e.cacheKey===ye){Re=$e,++Re.usedTimes;break}}return Re===void 0&&(Re=new WebGLProgram(ee,ye,Ce,se),he.push(Re)),Re}function Fe(Ce){if(--Ce.usedTimes===0){const ye=he.indexOf(Ce);he[ye]=he[he.length-1],he.pop(),Ce.destroy()}}function _e(Ce){ce.remove(Ce)}function Ee(){ce.dispose()}return{getParameters:Se,getProgramCacheKey:fe,getUniforms:ue,acquireProgram:we,releaseProgram:Fe,releaseShaderCache:_e,programs:he,dispose:Ee}}function WebGLProperties(){let ee=new WeakMap;function $(le){return ee.has(le)}function te(le){let oe=ee.get(le);return oe===void 0&&(oe={},ee.set(le,oe)),oe}function ne(le){ee.delete(le)}function ie(le,oe,ce){ee.get(le)[oe]=ce}function se(){ee=new WeakMap}return{has:$,get:te,remove:ne,update:ie,dispose:se}}function painterSortStable(ee,$){return ee.groupOrder!==$.groupOrder?ee.groupOrder-$.groupOrder:ee.renderOrder!==$.renderOrder?ee.renderOrder-$.renderOrder:ee.material.id!==$.material.id?ee.material.id-$.material.id:ee.z!==$.z?ee.z-$.z:ee.id-$.id}function reversePainterSortStable(ee,$){return ee.groupOrder!==$.groupOrder?ee.groupOrder-$.groupOrder:ee.renderOrder!==$.renderOrder?ee.renderOrder-$.renderOrder:ee.z!==$.z?$.z-ee.z:ee.id-$.id}function WebGLRenderList(){const ee=[];let $=0;const te=[],ne=[],ie=[];function se(){$=0,te.length=0,ne.length=0,ie.length=0}function le(de,pe,re,Ae,ge,Se){let fe=ee[$];return fe===void 0?(fe={id:de.id,object:de,geometry:pe,material:re,groupOrder:Ae,renderOrder:de.renderOrder,z:ge,group:Se},ee[$]=fe):(fe.id=de.id,fe.object=de,fe.geometry=pe,fe.material=re,fe.groupOrder=Ae,fe.renderOrder=de.renderOrder,fe.z=ge,fe.group=Se),$++,fe}function oe(de,pe,re,Ae,ge,Se){const fe=le(de,pe,re,Ae,ge,Se);re.transmission>0?ne.push(fe):re.transparent===!0?ie.push(fe):te.push(fe)}function ce(de,pe,re,Ae,ge,Se){const fe=le(de,pe,re,Ae,ge,Se);re.transmission>0?ne.unshift(fe):re.transparent===!0?ie.unshift(fe):te.unshift(fe)}function ae(de,pe){te.length>1&&te.sort(de||painterSortStable),ne.length>1&&ne.sort(pe||reversePainterSortStable),ie.length>1&&ie.sort(pe||reversePainterSortStable)}function he(){for(let de=$,pe=ee.length;de<pe;de++){const re=ee[de];if(re.id===null)break;re.id=null,re.object=null,re.geometry=null,re.material=null,re.group=null}}return{opaque:te,transmissive:ne,transparent:ie,init:se,push:oe,unshift:ce,finish:he,sort:ae}}function WebGLRenderLists(){let ee=new WeakMap;function $(ne,ie){const se=ee.get(ne);let le;return se===void 0?(le=new WebGLRenderList,ee.set(ne,[le])):ie>=se.length?(le=new WebGLRenderList,se.push(le)):le=se[ie],le}function te(){ee=new WeakMap}return{get:$,dispose:te}}function UniformsCache(){const ee={};return{get:function($){if(ee[$.id]!==void 0)return ee[$.id];let te;switch($.type){case"DirectionalLight":te={direction:new Vector3,color:new Color};break;case"SpotLight":te={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":te={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":te={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":te={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return ee[$.id]=te,te}}}function ShadowUniformsCache(){const ee={};return{get:function($){if(ee[$.id]!==void 0)return ee[$.id];let te;switch($.type){case"DirectionalLight":te={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":te={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":te={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return ee[$.id]=te,te}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(ee,$){return($.castShadow?2:0)-(ee.castShadow?2:0)+($.map?1:0)-(ee.map?1:0)}function WebGLLights(ee){const $=new UniformsCache,te=ShadowUniformsCache(),ne={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let ae=0;ae<9;ae++)ne.probe.push(new Vector3);const ie=new Vector3,se=new Matrix4,le=new Matrix4;function oe(ae){let he=0,de=0,pe=0;for(let Ce=0;Ce<9;Ce++)ne.probe[Ce].set(0,0,0);let re=0,Ae=0,ge=0,Se=0,fe=0,be=0,xe=0,ue=0,we=0,Fe=0,_e=0;ae.sort(shadowCastingAndTexturingLightsFirst);for(let Ce=0,ye=ae.length;Ce<ye;Ce++){const Re=ae[Ce],Ye=Re.color,ke=Re.intensity,$e=Re.distance,Be=Re.shadow&&Re.shadow.map?Re.shadow.map.texture:null;if(Re.isAmbientLight)he+=Ye.r*ke,de+=Ye.g*ke,pe+=Ye.b*ke;else if(Re.isLightProbe){for(let Pe=0;Pe<9;Pe++)ne.probe[Pe].addScaledVector(Re.sh.coefficients[Pe],ke);_e++}else if(Re.isDirectionalLight){const Pe=$.get(Re);if(Pe.color.copy(Re.color).multiplyScalar(Re.intensity),Re.castShadow){const Ue=Re.shadow,Te=te.get(Re);Te.shadowIntensity=Ue.intensity,Te.shadowBias=Ue.bias,Te.shadowNormalBias=Ue.normalBias,Te.shadowRadius=Ue.radius,Te.shadowMapSize=Ue.mapSize,ne.directionalShadow[re]=Te,ne.directionalShadowMap[re]=Be,ne.directionalShadowMatrix[re]=Re.shadow.matrix,be++}ne.directional[re]=Pe,re++}else if(Re.isSpotLight){const Pe=$.get(Re);Pe.position.setFromMatrixPosition(Re.matrixWorld),Pe.color.copy(Ye).multiplyScalar(ke),Pe.distance=$e,Pe.coneCos=Math.cos(Re.angle),Pe.penumbraCos=Math.cos(Re.angle*(1-Re.penumbra)),Pe.decay=Re.decay,ne.spot[ge]=Pe;const Ue=Re.shadow;if(Re.map&&(ne.spotLightMap[we]=Re.map,we++,Ue.updateMatrices(Re),Re.castShadow&&Fe++),ne.spotLightMatrix[ge]=Ue.matrix,Re.castShadow){const Te=te.get(Re);Te.shadowIntensity=Ue.intensity,Te.shadowBias=Ue.bias,Te.shadowNormalBias=Ue.normalBias,Te.shadowRadius=Ue.radius,Te.shadowMapSize=Ue.mapSize,ne.spotShadow[ge]=Te,ne.spotShadowMap[ge]=Be,ue++}ge++}else if(Re.isRectAreaLight){const Pe=$.get(Re);Pe.color.copy(Ye).multiplyScalar(ke),Pe.halfWidth.set(Re.width*.5,0,0),Pe.halfHeight.set(0,Re.height*.5,0),ne.rectArea[Se]=Pe,Se++}else if(Re.isPointLight){const Pe=$.get(Re);if(Pe.color.copy(Re.color).multiplyScalar(Re.intensity),Pe.distance=Re.distance,Pe.decay=Re.decay,Re.castShadow){const Ue=Re.shadow,Te=te.get(Re);Te.shadowIntensity=Ue.intensity,Te.shadowBias=Ue.bias,Te.shadowNormalBias=Ue.normalBias,Te.shadowRadius=Ue.radius,Te.shadowMapSize=Ue.mapSize,Te.shadowCameraNear=Ue.camera.near,Te.shadowCameraFar=Ue.camera.far,ne.pointShadow[Ae]=Te,ne.pointShadowMap[Ae]=Be,ne.pointShadowMatrix[Ae]=Re.shadow.matrix,xe++}ne.point[Ae]=Pe,Ae++}else if(Re.isHemisphereLight){const Pe=$.get(Re);Pe.skyColor.copy(Re.color).multiplyScalar(ke),Pe.groundColor.copy(Re.groundColor).multiplyScalar(ke),ne.hemi[fe]=Pe,fe++}}Se>0&&(ee.has("OES_texture_float_linear")===!0?(ne.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,ne.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(ne.rectAreaLTC1=UniformsLib.LTC_HALF_1,ne.rectAreaLTC2=UniformsLib.LTC_HALF_2)),ne.ambient[0]=he,ne.ambient[1]=de,ne.ambient[2]=pe;const Ee=ne.hash;(Ee.directionalLength!==re||Ee.pointLength!==Ae||Ee.spotLength!==ge||Ee.rectAreaLength!==Se||Ee.hemiLength!==fe||Ee.numDirectionalShadows!==be||Ee.numPointShadows!==xe||Ee.numSpotShadows!==ue||Ee.numSpotMaps!==we||Ee.numLightProbes!==_e)&&(ne.directional.length=re,ne.spot.length=ge,ne.rectArea.length=Se,ne.point.length=Ae,ne.hemi.length=fe,ne.directionalShadow.length=be,ne.directionalShadowMap.length=be,ne.pointShadow.length=xe,ne.pointShadowMap.length=xe,ne.spotShadow.length=ue,ne.spotShadowMap.length=ue,ne.directionalShadowMatrix.length=be,ne.pointShadowMatrix.length=xe,ne.spotLightMatrix.length=ue+we-Fe,ne.spotLightMap.length=we,ne.numSpotLightShadowsWithMaps=Fe,ne.numLightProbes=_e,Ee.directionalLength=re,Ee.pointLength=Ae,Ee.spotLength=ge,Ee.rectAreaLength=Se,Ee.hemiLength=fe,Ee.numDirectionalShadows=be,Ee.numPointShadows=xe,Ee.numSpotShadows=ue,Ee.numSpotMaps=we,Ee.numLightProbes=_e,ne.version=nextVersion++)}function ce(ae,he){let de=0,pe=0,re=0,Ae=0,ge=0;const Se=he.matrixWorldInverse;for(let fe=0,be=ae.length;fe<be;fe++){const xe=ae[fe];if(xe.isDirectionalLight){const ue=ne.directional[de];ue.direction.setFromMatrixPosition(xe.matrixWorld),ie.setFromMatrixPosition(xe.target.matrixWorld),ue.direction.sub(ie),ue.direction.transformDirection(Se),de++}else if(xe.isSpotLight){const ue=ne.spot[re];ue.position.setFromMatrixPosition(xe.matrixWorld),ue.position.applyMatrix4(Se),ue.direction.setFromMatrixPosition(xe.matrixWorld),ie.setFromMatrixPosition(xe.target.matrixWorld),ue.direction.sub(ie),ue.direction.transformDirection(Se),re++}else if(xe.isRectAreaLight){const ue=ne.rectArea[Ae];ue.position.setFromMatrixPosition(xe.matrixWorld),ue.position.applyMatrix4(Se),le.identity(),se.copy(xe.matrixWorld),se.premultiply(Se),le.extractRotation(se),ue.halfWidth.set(xe.width*.5,0,0),ue.halfHeight.set(0,xe.height*.5,0),ue.halfWidth.applyMatrix4(le),ue.halfHeight.applyMatrix4(le),Ae++}else if(xe.isPointLight){const ue=ne.point[pe];ue.position.setFromMatrixPosition(xe.matrixWorld),ue.position.applyMatrix4(Se),pe++}else if(xe.isHemisphereLight){const ue=ne.hemi[ge];ue.direction.setFromMatrixPosition(xe.matrixWorld),ue.direction.transformDirection(Se),ge++}}}return{setup:oe,setupView:ce,state:ne}}function WebGLRenderState(ee){const $=new WebGLLights(ee),te=[],ne=[];function ie(he){ae.camera=he,te.length=0,ne.length=0}function se(he){te.push(he)}function le(he){ne.push(he)}function oe(){$.setup(te)}function ce(he){$.setupView(te,he)}const ae={lightsArray:te,shadowsArray:ne,camera:null,lights:$,transmissionRenderTarget:{}};return{init:ie,state:ae,setupLights:oe,setupLightsView:ce,pushLight:se,pushShadow:le}}function WebGLRenderStates(ee){let $=new WeakMap;function te(ie,se=0){const le=$.get(ie);let oe;return le===void 0?(oe=new WebGLRenderState(ee),$.set(ie,[oe])):se>=le.length?(oe=new WebGLRenderState(ee),le.push(oe)):oe=le[se],oe}function ne(){$=new WeakMap}return{get:te,dispose:ne}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(ee,$,te){let ne=new Frustum;const ie=new Vector2,se=new Vector2,le=new Vector4,oe=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),ce=new MeshDistanceMaterial,ae={},he=te.maxTextureSize,de={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},pe=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),re=pe.clone();re.defines.HORIZONTAL_PASS=1;const Ae=new BufferGeometry;Ae.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ge=new Mesh(Ae,pe),Se=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let fe=this.type;this.render=function(Fe,_e,Ee){if(Se.enabled===!1||Se.autoUpdate===!1&&Se.needsUpdate===!1||Fe.length===0)return;const Ce=ee.getRenderTarget(),ye=ee.getActiveCubeFace(),Re=ee.getActiveMipmapLevel(),Ye=ee.state;Ye.setBlending(NoBlending),Ye.buffers.color.setClear(1,1,1,1),Ye.buffers.depth.setTest(!0),Ye.setScissorTest(!1);const ke=fe!==VSMShadowMap&&this.type===VSMShadowMap,$e=fe===VSMShadowMap&&this.type!==VSMShadowMap;for(let Be=0,Pe=Fe.length;Be<Pe;Be++){const Ue=Fe[Be],Te=Ue.shadow;if(Te===void 0){console.warn("THREE.WebGLShadowMap:",Ue,"has no shadow.");continue}if(Te.autoUpdate===!1&&Te.needsUpdate===!1)continue;ie.copy(Te.mapSize);const Me=Te.getFrameExtents();if(ie.multiply(Me),se.copy(Te.mapSize),(ie.x>he||ie.y>he)&&(ie.x>he&&(se.x=Math.floor(he/Me.x),ie.x=se.x*Me.x,Te.mapSize.x=se.x),ie.y>he&&(se.y=Math.floor(he/Me.y),ie.y=se.y*Me.y,Te.mapSize.y=se.y)),Te.map===null||ke===!0||$e===!0){const He=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Te.map!==null&&Te.map.dispose(),Te.map=new WebGLRenderTarget(ie.x,ie.y,He),Te.map.texture.name=Ue.name+".shadowMap",Te.camera.updateProjectionMatrix()}ee.setRenderTarget(Te.map),ee.clear();const Ve=Te.getViewportCount();for(let He=0;He<Ve;He++){const Ie=Te.getViewport(He);le.set(se.x*Ie.x,se.y*Ie.y,se.x*Ie.z,se.y*Ie.w),Ye.viewport(le),Te.updateMatrices(Ue,He),ne=Te.getFrustum(),ue(_e,Ee,Te.camera,Ue,this.type)}Te.isPointLightShadow!==!0&&this.type===VSMShadowMap&&be(Te,Ee),Te.needsUpdate=!1}fe=this.type,Se.needsUpdate=!1,ee.setRenderTarget(Ce,ye,Re)};function be(Fe,_e){const Ee=$.update(ge);pe.defines.VSM_SAMPLES!==Fe.blurSamples&&(pe.defines.VSM_SAMPLES=Fe.blurSamples,re.defines.VSM_SAMPLES=Fe.blurSamples,pe.needsUpdate=!0,re.needsUpdate=!0),Fe.mapPass===null&&(Fe.mapPass=new WebGLRenderTarget(ie.x,ie.y)),pe.uniforms.shadow_pass.value=Fe.map.texture,pe.uniforms.resolution.value=Fe.mapSize,pe.uniforms.radius.value=Fe.radius,ee.setRenderTarget(Fe.mapPass),ee.clear(),ee.renderBufferDirect(_e,null,Ee,pe,ge,null),re.uniforms.shadow_pass.value=Fe.mapPass.texture,re.uniforms.resolution.value=Fe.mapSize,re.uniforms.radius.value=Fe.radius,ee.setRenderTarget(Fe.map),ee.clear(),ee.renderBufferDirect(_e,null,Ee,re,ge,null)}function xe(Fe,_e,Ee,Ce){let ye=null;const Re=Ee.isPointLight===!0?Fe.customDistanceMaterial:Fe.customDepthMaterial;if(Re!==void 0)ye=Re;else if(ye=Ee.isPointLight===!0?ce:oe,ee.localClippingEnabled&&_e.clipShadows===!0&&Array.isArray(_e.clippingPlanes)&&_e.clippingPlanes.length!==0||_e.displacementMap&&_e.displacementScale!==0||_e.alphaMap&&_e.alphaTest>0||_e.map&&_e.alphaTest>0){const Ye=ye.uuid,ke=_e.uuid;let $e=ae[Ye];$e===void 0&&($e={},ae[Ye]=$e);let Be=$e[ke];Be===void 0&&(Be=ye.clone(),$e[ke]=Be,_e.addEventListener("dispose",we)),ye=Be}if(ye.visible=_e.visible,ye.wireframe=_e.wireframe,Ce===VSMShadowMap?ye.side=_e.shadowSide!==null?_e.shadowSide:_e.side:ye.side=_e.shadowSide!==null?_e.shadowSide:de[_e.side],ye.alphaMap=_e.alphaMap,ye.alphaTest=_e.alphaTest,ye.map=_e.map,ye.clipShadows=_e.clipShadows,ye.clippingPlanes=_e.clippingPlanes,ye.clipIntersection=_e.clipIntersection,ye.displacementMap=_e.displacementMap,ye.displacementScale=_e.displacementScale,ye.displacementBias=_e.displacementBias,ye.wireframeLinewidth=_e.wireframeLinewidth,ye.linewidth=_e.linewidth,Ee.isPointLight===!0&&ye.isMeshDistanceMaterial===!0){const Ye=ee.properties.get(ye);Ye.light=Ee}return ye}function ue(Fe,_e,Ee,Ce,ye){if(Fe.visible===!1)return;if(Fe.layers.test(_e.layers)&&(Fe.isMesh||Fe.isLine||Fe.isPoints)&&(Fe.castShadow||Fe.receiveShadow&&ye===VSMShadowMap)&&(!Fe.frustumCulled||ne.intersectsObject(Fe))){Fe.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,Fe.matrixWorld);const ke=$.update(Fe),$e=Fe.material;if(Array.isArray($e)){const Be=ke.groups;for(let Pe=0,Ue=Be.length;Pe<Ue;Pe++){const Te=Be[Pe],Me=$e[Te.materialIndex];if(Me&&Me.visible){const Ve=xe(Fe,Me,Ce,ye);Fe.onBeforeShadow(ee,Fe,_e,Ee,ke,Ve,Te),ee.renderBufferDirect(Ee,null,ke,Ve,Fe,Te),Fe.onAfterShadow(ee,Fe,_e,Ee,ke,Ve,Te)}}}else if($e.visible){const Be=xe(Fe,$e,Ce,ye);Fe.onBeforeShadow(ee,Fe,_e,Ee,ke,Be,null),ee.renderBufferDirect(Ee,null,ke,Be,Fe,null),Fe.onAfterShadow(ee,Fe,_e,Ee,ke,Be,null)}}const Ye=Fe.children;for(let ke=0,$e=Ye.length;ke<$e;ke++)ue(Ye[ke],_e,Ee,Ce,ye)}function we(Fe){Fe.target.removeEventListener("dispose",we);for(const Ee in ae){const Ce=ae[Ee],ye=Fe.target.uuid;ye in Ce&&(Ce[ye].dispose(),delete Ce[ye])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(ee,$){function te(){let yt=!1;const bt=new Vector4;let Pt=null;const Ut=new Vector4(0,0,0,0);return{setMask:function(Yt){Pt!==Yt&&!yt&&(ee.colorMask(Yt,Yt,Yt,Yt),Pt=Yt)},setLocked:function(Yt){yt=Yt},setClear:function(Yt,kt,Ot,Et,nn){nn===!0&&(Yt*=Et,kt*=Et,Ot*=Et),bt.set(Yt,kt,Ot,Et),Ut.equals(bt)===!1&&(ee.clearColor(Yt,kt,Ot,Et),Ut.copy(bt))},reset:function(){yt=!1,Pt=null,Ut.set(-1,0,0,0)}}}function ne(){let yt=!1,bt=!1,Pt=null,Ut=null,Yt=null;return{setReversed:function(kt){if(bt!==kt){const Ot=$.get("EXT_clip_control");bt?Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.ZERO_TO_ONE_EXT):Ot.clipControlEXT(Ot.LOWER_LEFT_EXT,Ot.NEGATIVE_ONE_TO_ONE_EXT);const Et=Yt;Yt=null,this.setClear(Et)}bt=kt},getReversed:function(){return bt},setTest:function(kt){kt?it(ee.DEPTH_TEST):tt(ee.DEPTH_TEST)},setMask:function(kt){Pt!==kt&&!yt&&(ee.depthMask(kt),Pt=kt)},setFunc:function(kt){if(bt&&(kt=reversedFuncs[kt]),Ut!==kt){switch(kt){case NeverDepth:ee.depthFunc(ee.NEVER);break;case AlwaysDepth:ee.depthFunc(ee.ALWAYS);break;case LessDepth:ee.depthFunc(ee.LESS);break;case LessEqualDepth:ee.depthFunc(ee.LEQUAL);break;case EqualDepth:ee.depthFunc(ee.EQUAL);break;case GreaterEqualDepth:ee.depthFunc(ee.GEQUAL);break;case GreaterDepth:ee.depthFunc(ee.GREATER);break;case NotEqualDepth:ee.depthFunc(ee.NOTEQUAL);break;default:ee.depthFunc(ee.LEQUAL)}Ut=kt}},setLocked:function(kt){yt=kt},setClear:function(kt){Yt!==kt&&(bt&&(kt=1-kt),ee.clearDepth(kt),Yt=kt)},reset:function(){yt=!1,Pt=null,Ut=null,Yt=null,bt=!1}}}function ie(){let yt=!1,bt=null,Pt=null,Ut=null,Yt=null,kt=null,Ot=null,Et=null,nn=null;return{setTest:function(en){yt||(en?it(ee.STENCIL_TEST):tt(ee.STENCIL_TEST))},setMask:function(en){bt!==en&&!yt&&(ee.stencilMask(en),bt=en)},setFunc:function(en,an,Sn){(Pt!==en||Ut!==an||Yt!==Sn)&&(ee.stencilFunc(en,an,Sn),Pt=en,Ut=an,Yt=Sn)},setOp:function(en,an,Sn){(kt!==en||Ot!==an||Et!==Sn)&&(ee.stencilOp(en,an,Sn),kt=en,Ot=an,Et=Sn)},setLocked:function(en){yt=en},setClear:function(en){nn!==en&&(ee.clearStencil(en),nn=en)},reset:function(){yt=!1,bt=null,Pt=null,Ut=null,Yt=null,kt=null,Ot=null,Et=null,nn=null}}}const se=new te,le=new ne,oe=new ie,ce=new WeakMap,ae=new WeakMap;let he={},de={},pe=new WeakMap,re=[],Ae=null,ge=!1,Se=null,fe=null,be=null,xe=null,ue=null,we=null,Fe=null,_e=new Color(0,0,0),Ee=0,Ce=!1,ye=null,Re=null,Ye=null,ke=null,$e=null;const Be=ee.getParameter(ee.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Pe=!1,Ue=0;const Te=ee.getParameter(ee.VERSION);Te.indexOf("WebGL")!==-1?(Ue=parseFloat(/^WebGL (\d)/.exec(Te)[1]),Pe=Ue>=1):Te.indexOf("OpenGL ES")!==-1&&(Ue=parseFloat(/^OpenGL ES (\d)/.exec(Te)[1]),Pe=Ue>=2);let Me=null,Ve={};const He=ee.getParameter(ee.SCISSOR_BOX),Ie=ee.getParameter(ee.VIEWPORT),Le=new Vector4().fromArray(He),Oe=new Vector4().fromArray(Ie);function Ne(yt,bt,Pt,Ut){const Yt=new Uint8Array(4),kt=ee.createTexture();ee.bindTexture(yt,kt),ee.texParameteri(yt,ee.TEXTURE_MIN_FILTER,ee.NEAREST),ee.texParameteri(yt,ee.TEXTURE_MAG_FILTER,ee.NEAREST);for(let Ot=0;Ot<Pt;Ot++)yt===ee.TEXTURE_3D||yt===ee.TEXTURE_2D_ARRAY?ee.texImage3D(bt,0,ee.RGBA,1,1,Ut,0,ee.RGBA,ee.UNSIGNED_BYTE,Yt):ee.texImage2D(bt+Ot,0,ee.RGBA,1,1,0,ee.RGBA,ee.UNSIGNED_BYTE,Yt);return kt}const qe={};qe[ee.TEXTURE_2D]=Ne(ee.TEXTURE_2D,ee.TEXTURE_2D,1),qe[ee.TEXTURE_CUBE_MAP]=Ne(ee.TEXTURE_CUBE_MAP,ee.TEXTURE_CUBE_MAP_POSITIVE_X,6),qe[ee.TEXTURE_2D_ARRAY]=Ne(ee.TEXTURE_2D_ARRAY,ee.TEXTURE_2D_ARRAY,1,1),qe[ee.TEXTURE_3D]=Ne(ee.TEXTURE_3D,ee.TEXTURE_3D,1,1),se.setClear(0,0,0,1),le.setClear(1),oe.setClear(0),it(ee.DEPTH_TEST),le.setFunc(LessEqualDepth),Qe(!1),We(CullFaceBack),it(ee.CULL_FACE),je(NoBlending);function it(yt){he[yt]!==!0&&(ee.enable(yt),he[yt]=!0)}function tt(yt){he[yt]!==!1&&(ee.disable(yt),he[yt]=!1)}function Xe(yt,bt){return de[yt]!==bt?(ee.bindFramebuffer(yt,bt),de[yt]=bt,yt===ee.DRAW_FRAMEBUFFER&&(de[ee.FRAMEBUFFER]=bt),yt===ee.FRAMEBUFFER&&(de[ee.DRAW_FRAMEBUFFER]=bt),!0):!1}function Ze(yt,bt){let Pt=re,Ut=!1;if(yt){Pt=pe.get(bt),Pt===void 0&&(Pt=[],pe.set(bt,Pt));const Yt=yt.textures;if(Pt.length!==Yt.length||Pt[0]!==ee.COLOR_ATTACHMENT0){for(let kt=0,Ot=Yt.length;kt<Ot;kt++)Pt[kt]=ee.COLOR_ATTACHMENT0+kt;Pt.length=Yt.length,Ut=!0}}else Pt[0]!==ee.BACK&&(Pt[0]=ee.BACK,Ut=!0);Ut&&ee.drawBuffers(Pt)}function ot(yt){return Ae!==yt?(ee.useProgram(yt),Ae=yt,!0):!1}const Ge={[AddEquation]:ee.FUNC_ADD,[SubtractEquation]:ee.FUNC_SUBTRACT,[ReverseSubtractEquation]:ee.FUNC_REVERSE_SUBTRACT};Ge[MinEquation]=ee.MIN,Ge[MaxEquation]=ee.MAX;const Ke={[ZeroFactor]:ee.ZERO,[OneFactor]:ee.ONE,[SrcColorFactor]:ee.SRC_COLOR,[SrcAlphaFactor]:ee.SRC_ALPHA,[SrcAlphaSaturateFactor]:ee.SRC_ALPHA_SATURATE,[DstColorFactor]:ee.DST_COLOR,[DstAlphaFactor]:ee.DST_ALPHA,[OneMinusSrcColorFactor]:ee.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:ee.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:ee.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:ee.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:ee.CONSTANT_COLOR,[OneMinusConstantColorFactor]:ee.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:ee.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:ee.ONE_MINUS_CONSTANT_ALPHA};function je(yt,bt,Pt,Ut,Yt,kt,Ot,Et,nn,en){if(yt===NoBlending){ge===!0&&(tt(ee.BLEND),ge=!1);return}if(ge===!1&&(it(ee.BLEND),ge=!0),yt!==CustomBlending){if(yt!==Se||en!==Ce){if((fe!==AddEquation||ue!==AddEquation)&&(ee.blendEquation(ee.FUNC_ADD),fe=AddEquation,ue=AddEquation),en)switch(yt){case NormalBlending:ee.blendFuncSeparate(ee.ONE,ee.ONE_MINUS_SRC_ALPHA,ee.ONE,ee.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:ee.blendFunc(ee.ONE,ee.ONE);break;case SubtractiveBlending:ee.blendFuncSeparate(ee.ZERO,ee.ONE_MINUS_SRC_COLOR,ee.ZERO,ee.ONE);break;case MultiplyBlending:ee.blendFuncSeparate(ee.ZERO,ee.SRC_COLOR,ee.ZERO,ee.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",yt);break}else switch(yt){case NormalBlending:ee.blendFuncSeparate(ee.SRC_ALPHA,ee.ONE_MINUS_SRC_ALPHA,ee.ONE,ee.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:ee.blendFunc(ee.SRC_ALPHA,ee.ONE);break;case SubtractiveBlending:ee.blendFuncSeparate(ee.ZERO,ee.ONE_MINUS_SRC_COLOR,ee.ZERO,ee.ONE);break;case MultiplyBlending:ee.blendFunc(ee.ZERO,ee.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",yt);break}be=null,xe=null,we=null,Fe=null,_e.set(0,0,0),Ee=0,Se=yt,Ce=en}return}Yt=Yt||bt,kt=kt||Pt,Ot=Ot||Ut,(bt!==fe||Yt!==ue)&&(ee.blendEquationSeparate(Ge[bt],Ge[Yt]),fe=bt,ue=Yt),(Pt!==be||Ut!==xe||kt!==we||Ot!==Fe)&&(ee.blendFuncSeparate(Ke[Pt],Ke[Ut],Ke[kt],Ke[Ot]),be=Pt,xe=Ut,we=kt,Fe=Ot),(Et.equals(_e)===!1||nn!==Ee)&&(ee.blendColor(Et.r,Et.g,Et.b,nn),_e.copy(Et),Ee=nn),Se=yt,Ce=!1}function nt(yt,bt){yt.side===DoubleSide?tt(ee.CULL_FACE):it(ee.CULL_FACE);let Pt=yt.side===BackSide;bt&&(Pt=!Pt),Qe(Pt),yt.blending===NormalBlending&&yt.transparent===!1?je(NoBlending):je(yt.blending,yt.blendEquation,yt.blendSrc,yt.blendDst,yt.blendEquationAlpha,yt.blendSrcAlpha,yt.blendDstAlpha,yt.blendColor,yt.blendAlpha,yt.premultipliedAlpha),le.setFunc(yt.depthFunc),le.setTest(yt.depthTest),le.setMask(yt.depthWrite),se.setMask(yt.colorWrite);const Ut=yt.stencilWrite;oe.setTest(Ut),Ut&&(oe.setMask(yt.stencilWriteMask),oe.setFunc(yt.stencilFunc,yt.stencilRef,yt.stencilFuncMask),oe.setOp(yt.stencilFail,yt.stencilZFail,yt.stencilZPass)),et(yt.polygonOffset,yt.polygonOffsetFactor,yt.polygonOffsetUnits),yt.alphaToCoverage===!0?it(ee.SAMPLE_ALPHA_TO_COVERAGE):tt(ee.SAMPLE_ALPHA_TO_COVERAGE)}function Qe(yt){ye!==yt&&(yt?ee.frontFace(ee.CW):ee.frontFace(ee.CCW),ye=yt)}function We(yt){yt!==CullFaceNone?(it(ee.CULL_FACE),yt!==Re&&(yt===CullFaceBack?ee.cullFace(ee.BACK):yt===CullFaceFront?ee.cullFace(ee.FRONT):ee.cullFace(ee.FRONT_AND_BACK))):tt(ee.CULL_FACE),Re=yt}function rt(yt){yt!==Ye&&(Pe&&ee.lineWidth(yt),Ye=yt)}function et(yt,bt,Pt){yt?(it(ee.POLYGON_OFFSET_FILL),(ke!==bt||$e!==Pt)&&(ee.polygonOffset(bt,Pt),ke=bt,$e=Pt)):tt(ee.POLYGON_OFFSET_FILL)}function ct(yt){yt?it(ee.SCISSOR_TEST):tt(ee.SCISSOR_TEST)}function at(yt){yt===void 0&&(yt=ee.TEXTURE0+Be-1),Me!==yt&&(ee.activeTexture(yt),Me=yt)}function Je(yt,bt,Pt){Pt===void 0&&(Me===null?Pt=ee.TEXTURE0+Be-1:Pt=Me);let Ut=Ve[Pt];Ut===void 0&&(Ut={type:void 0,texture:void 0},Ve[Pt]=Ut),(Ut.type!==yt||Ut.texture!==bt)&&(Me!==Pt&&(ee.activeTexture(Pt),Me=Pt),ee.bindTexture(yt,bt||qe[yt]),Ut.type=yt,Ut.texture=bt)}function lt(){const yt=Ve[Me];yt!==void 0&&yt.type!==void 0&&(ee.bindTexture(yt.type,null),yt.type=void 0,yt.texture=void 0)}function ut(){try{ee.compressedTexImage2D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function ft(){try{ee.compressedTexImage3D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function pt(){try{ee.texSubImage2D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function mt(){try{ee.texSubImage3D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function xt(){try{ee.compressedTexSubImage2D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function vt(){try{ee.compressedTexSubImage3D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function wt(){try{ee.texStorage2D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function _t(){try{ee.texStorage3D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function Tt(){try{ee.texImage2D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function Lt(){try{ee.texImage3D(...arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}}function jt(yt){Le.equals(yt)===!1&&(ee.scissor(yt.x,yt.y,yt.z,yt.w),Le.copy(yt))}function Bt(yt){Oe.equals(yt)===!1&&(ee.viewport(yt.x,yt.y,yt.z,yt.w),Oe.copy(yt))}function St(yt,bt){let Pt=ae.get(bt);Pt===void 0&&(Pt=new WeakMap,ae.set(bt,Pt));let Ut=Pt.get(yt);Ut===void 0&&(Ut=ee.getUniformBlockIndex(bt,yt.name),Pt.set(yt,Ut))}function Ft(yt,bt){const Ut=ae.get(bt).get(yt);ce.get(bt)!==Ut&&(ee.uniformBlockBinding(bt,Ut,yt.__bindingPointIndex),ce.set(bt,Ut))}function Ct(){ee.disable(ee.BLEND),ee.disable(ee.CULL_FACE),ee.disable(ee.DEPTH_TEST),ee.disable(ee.POLYGON_OFFSET_FILL),ee.disable(ee.SCISSOR_TEST),ee.disable(ee.STENCIL_TEST),ee.disable(ee.SAMPLE_ALPHA_TO_COVERAGE),ee.blendEquation(ee.FUNC_ADD),ee.blendFunc(ee.ONE,ee.ZERO),ee.blendFuncSeparate(ee.ONE,ee.ZERO,ee.ONE,ee.ZERO),ee.blendColor(0,0,0,0),ee.colorMask(!0,!0,!0,!0),ee.clearColor(0,0,0,0),ee.depthMask(!0),ee.depthFunc(ee.LESS),le.setReversed(!1),ee.clearDepth(1),ee.stencilMask(4294967295),ee.stencilFunc(ee.ALWAYS,0,4294967295),ee.stencilOp(ee.KEEP,ee.KEEP,ee.KEEP),ee.clearStencil(0),ee.cullFace(ee.BACK),ee.frontFace(ee.CCW),ee.polygonOffset(0,0),ee.activeTexture(ee.TEXTURE0),ee.bindFramebuffer(ee.FRAMEBUFFER,null),ee.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null),ee.bindFramebuffer(ee.READ_FRAMEBUFFER,null),ee.useProgram(null),ee.lineWidth(1),ee.scissor(0,0,ee.canvas.width,ee.canvas.height),ee.viewport(0,0,ee.canvas.width,ee.canvas.height),he={},Me=null,Ve={},de={},pe=new WeakMap,re=[],Ae=null,ge=!1,Se=null,fe=null,be=null,xe=null,ue=null,we=null,Fe=null,_e=new Color(0,0,0),Ee=0,Ce=!1,ye=null,Re=null,Ye=null,ke=null,$e=null,Le.set(0,0,ee.canvas.width,ee.canvas.height),Oe.set(0,0,ee.canvas.width,ee.canvas.height),se.reset(),le.reset(),oe.reset()}return{buffers:{color:se,depth:le,stencil:oe},enable:it,disable:tt,bindFramebuffer:Xe,drawBuffers:Ze,useProgram:ot,setBlending:je,setMaterial:nt,setFlipSided:Qe,setCullFace:We,setLineWidth:rt,setPolygonOffset:et,setScissorTest:ct,activeTexture:at,bindTexture:Je,unbindTexture:lt,compressedTexImage2D:ut,compressedTexImage3D:ft,texImage2D:Tt,texImage3D:Lt,updateUBOMapping:St,uniformBlockBinding:Ft,texStorage2D:wt,texStorage3D:_t,texSubImage2D:pt,texSubImage3D:mt,compressedTexSubImage2D:xt,compressedTexSubImage3D:vt,scissor:jt,viewport:Bt,reset:Ct}}function WebGLTextures(ee,$,te,ne,ie,se,le){const oe=$.has("WEBGL_multisampled_render_to_texture")?$.get("WEBGL_multisampled_render_to_texture"):null,ce=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),ae=new Vector2,he=new WeakMap;let de;const pe=new WeakMap;let re=!1;try{re=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Ae(at,Je){return re?new OffscreenCanvas(at,Je):createElementNS("canvas")}function ge(at,Je,lt){let ut=1;const ft=ct(at);if((ft.width>lt||ft.height>lt)&&(ut=lt/Math.max(ft.width,ft.height)),ut<1)if(typeof HTMLImageElement<"u"&&at instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&at instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&at instanceof ImageBitmap||typeof VideoFrame<"u"&&at instanceof VideoFrame){const pt=Math.floor(ut*ft.width),mt=Math.floor(ut*ft.height);de===void 0&&(de=Ae(pt,mt));const xt=Je?Ae(pt,mt):de;return xt.width=pt,xt.height=mt,xt.getContext("2d").drawImage(at,0,0,pt,mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ft.width+"x"+ft.height+") to ("+pt+"x"+mt+")."),xt}else return"data"in at&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ft.width+"x"+ft.height+")."),at;return at}function Se(at){return at.generateMipmaps}function fe(at){ee.generateMipmap(at)}function be(at){return at.isWebGLCubeRenderTarget?ee.TEXTURE_CUBE_MAP:at.isWebGL3DRenderTarget?ee.TEXTURE_3D:at.isWebGLArrayRenderTarget||at.isCompressedArrayTexture?ee.TEXTURE_2D_ARRAY:ee.TEXTURE_2D}function xe(at,Je,lt,ut,ft=!1){if(at!==null){if(ee[at]!==void 0)return ee[at];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+at+"'")}let pt=Je;if(Je===ee.RED&&(lt===ee.FLOAT&&(pt=ee.R32F),lt===ee.HALF_FLOAT&&(pt=ee.R16F),lt===ee.UNSIGNED_BYTE&&(pt=ee.R8)),Je===ee.RED_INTEGER&&(lt===ee.UNSIGNED_BYTE&&(pt=ee.R8UI),lt===ee.UNSIGNED_SHORT&&(pt=ee.R16UI),lt===ee.UNSIGNED_INT&&(pt=ee.R32UI),lt===ee.BYTE&&(pt=ee.R8I),lt===ee.SHORT&&(pt=ee.R16I),lt===ee.INT&&(pt=ee.R32I)),Je===ee.RG&&(lt===ee.FLOAT&&(pt=ee.RG32F),lt===ee.HALF_FLOAT&&(pt=ee.RG16F),lt===ee.UNSIGNED_BYTE&&(pt=ee.RG8)),Je===ee.RG_INTEGER&&(lt===ee.UNSIGNED_BYTE&&(pt=ee.RG8UI),lt===ee.UNSIGNED_SHORT&&(pt=ee.RG16UI),lt===ee.UNSIGNED_INT&&(pt=ee.RG32UI),lt===ee.BYTE&&(pt=ee.RG8I),lt===ee.SHORT&&(pt=ee.RG16I),lt===ee.INT&&(pt=ee.RG32I)),Je===ee.RGB_INTEGER&&(lt===ee.UNSIGNED_BYTE&&(pt=ee.RGB8UI),lt===ee.UNSIGNED_SHORT&&(pt=ee.RGB16UI),lt===ee.UNSIGNED_INT&&(pt=ee.RGB32UI),lt===ee.BYTE&&(pt=ee.RGB8I),lt===ee.SHORT&&(pt=ee.RGB16I),lt===ee.INT&&(pt=ee.RGB32I)),Je===ee.RGBA_INTEGER&&(lt===ee.UNSIGNED_BYTE&&(pt=ee.RGBA8UI),lt===ee.UNSIGNED_SHORT&&(pt=ee.RGBA16UI),lt===ee.UNSIGNED_INT&&(pt=ee.RGBA32UI),lt===ee.BYTE&&(pt=ee.RGBA8I),lt===ee.SHORT&&(pt=ee.RGBA16I),lt===ee.INT&&(pt=ee.RGBA32I)),Je===ee.RGB&&lt===ee.UNSIGNED_INT_5_9_9_9_REV&&(pt=ee.RGB9_E5),Je===ee.RGBA){const mt=ft?LinearTransfer:ColorManagement.getTransfer(ut);lt===ee.FLOAT&&(pt=ee.RGBA32F),lt===ee.HALF_FLOAT&&(pt=ee.RGBA16F),lt===ee.UNSIGNED_BYTE&&(pt=mt===SRGBTransfer?ee.SRGB8_ALPHA8:ee.RGBA8),lt===ee.UNSIGNED_SHORT_4_4_4_4&&(pt=ee.RGBA4),lt===ee.UNSIGNED_SHORT_5_5_5_1&&(pt=ee.RGB5_A1)}return(pt===ee.R16F||pt===ee.R32F||pt===ee.RG16F||pt===ee.RG32F||pt===ee.RGBA16F||pt===ee.RGBA32F)&&$.get("EXT_color_buffer_float"),pt}function ue(at,Je){let lt;return at?Je===null||Je===UnsignedIntType||Je===UnsignedInt248Type?lt=ee.DEPTH24_STENCIL8:Je===FloatType?lt=ee.DEPTH32F_STENCIL8:Je===UnsignedShortType&&(lt=ee.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Je===null||Je===UnsignedIntType||Je===UnsignedInt248Type?lt=ee.DEPTH_COMPONENT24:Je===FloatType?lt=ee.DEPTH_COMPONENT32F:Je===UnsignedShortType&&(lt=ee.DEPTH_COMPONENT16),lt}function we(at,Je){return Se(at)===!0||at.isFramebufferTexture&&at.minFilter!==NearestFilter&&at.minFilter!==LinearFilter?Math.log2(Math.max(Je.width,Je.height))+1:at.mipmaps!==void 0&&at.mipmaps.length>0?at.mipmaps.length:at.isCompressedTexture&&Array.isArray(at.image)?Je.mipmaps.length:1}function Fe(at){const Je=at.target;Je.removeEventListener("dispose",Fe),Ee(Je),Je.isVideoTexture&&he.delete(Je)}function _e(at){const Je=at.target;Je.removeEventListener("dispose",_e),ye(Je)}function Ee(at){const Je=ne.get(at);if(Je.__webglInit===void 0)return;const lt=at.source,ut=pe.get(lt);if(ut){const ft=ut[Je.__cacheKey];ft.usedTimes--,ft.usedTimes===0&&Ce(at),Object.keys(ut).length===0&&pe.delete(lt)}ne.remove(at)}function Ce(at){const Je=ne.get(at);ee.deleteTexture(Je.__webglTexture);const lt=at.source,ut=pe.get(lt);delete ut[Je.__cacheKey],le.memory.textures--}function ye(at){const Je=ne.get(at);if(at.depthTexture&&(at.depthTexture.dispose(),ne.remove(at.depthTexture)),at.isWebGLCubeRenderTarget)for(let ut=0;ut<6;ut++){if(Array.isArray(Je.__webglFramebuffer[ut]))for(let ft=0;ft<Je.__webglFramebuffer[ut].length;ft++)ee.deleteFramebuffer(Je.__webglFramebuffer[ut][ft]);else ee.deleteFramebuffer(Je.__webglFramebuffer[ut]);Je.__webglDepthbuffer&&ee.deleteRenderbuffer(Je.__webglDepthbuffer[ut])}else{if(Array.isArray(Je.__webglFramebuffer))for(let ut=0;ut<Je.__webglFramebuffer.length;ut++)ee.deleteFramebuffer(Je.__webglFramebuffer[ut]);else ee.deleteFramebuffer(Je.__webglFramebuffer);if(Je.__webglDepthbuffer&&ee.deleteRenderbuffer(Je.__webglDepthbuffer),Je.__webglMultisampledFramebuffer&&ee.deleteFramebuffer(Je.__webglMultisampledFramebuffer),Je.__webglColorRenderbuffer)for(let ut=0;ut<Je.__webglColorRenderbuffer.length;ut++)Je.__webglColorRenderbuffer[ut]&&ee.deleteRenderbuffer(Je.__webglColorRenderbuffer[ut]);Je.__webglDepthRenderbuffer&&ee.deleteRenderbuffer(Je.__webglDepthRenderbuffer)}const lt=at.textures;for(let ut=0,ft=lt.length;ut<ft;ut++){const pt=ne.get(lt[ut]);pt.__webglTexture&&(ee.deleteTexture(pt.__webglTexture),le.memory.textures--),ne.remove(lt[ut])}ne.remove(at)}let Re=0;function Ye(){Re=0}function ke(){const at=Re;return at>=ie.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+at+" texture units while this GPU supports only "+ie.maxTextures),Re+=1,at}function $e(at){const Je=[];return Je.push(at.wrapS),Je.push(at.wrapT),Je.push(at.wrapR||0),Je.push(at.magFilter),Je.push(at.minFilter),Je.push(at.anisotropy),Je.push(at.internalFormat),Je.push(at.format),Je.push(at.type),Je.push(at.generateMipmaps),Je.push(at.premultiplyAlpha),Je.push(at.flipY),Je.push(at.unpackAlignment),Je.push(at.colorSpace),Je.join()}function Be(at,Je){const lt=ne.get(at);if(at.isVideoTexture&&rt(at),at.isRenderTargetTexture===!1&&at.version>0&&lt.__version!==at.version){const ut=at.image;if(ut===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ut.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Oe(lt,at,Je);return}}te.bindTexture(ee.TEXTURE_2D,lt.__webglTexture,ee.TEXTURE0+Je)}function Pe(at,Je){const lt=ne.get(at);if(at.version>0&&lt.__version!==at.version){Oe(lt,at,Je);return}te.bindTexture(ee.TEXTURE_2D_ARRAY,lt.__webglTexture,ee.TEXTURE0+Je)}function Ue(at,Je){const lt=ne.get(at);if(at.version>0&&lt.__version!==at.version){Oe(lt,at,Je);return}te.bindTexture(ee.TEXTURE_3D,lt.__webglTexture,ee.TEXTURE0+Je)}function Te(at,Je){const lt=ne.get(at);if(at.version>0&&lt.__version!==at.version){Ne(lt,at,Je);return}te.bindTexture(ee.TEXTURE_CUBE_MAP,lt.__webglTexture,ee.TEXTURE0+Je)}const Me={[RepeatWrapping]:ee.REPEAT,[ClampToEdgeWrapping]:ee.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:ee.MIRRORED_REPEAT},Ve={[NearestFilter]:ee.NEAREST,[NearestMipmapNearestFilter]:ee.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:ee.NEAREST_MIPMAP_LINEAR,[LinearFilter]:ee.LINEAR,[LinearMipmapNearestFilter]:ee.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:ee.LINEAR_MIPMAP_LINEAR},He={[NeverCompare]:ee.NEVER,[AlwaysCompare]:ee.ALWAYS,[LessCompare]:ee.LESS,[LessEqualCompare]:ee.LEQUAL,[EqualCompare]:ee.EQUAL,[GreaterEqualCompare]:ee.GEQUAL,[GreaterCompare]:ee.GREATER,[NotEqualCompare]:ee.NOTEQUAL};function Ie(at,Je){if(Je.type===FloatType&&$.has("OES_texture_float_linear")===!1&&(Je.magFilter===LinearFilter||Je.magFilter===LinearMipmapNearestFilter||Je.magFilter===NearestMipmapLinearFilter||Je.magFilter===LinearMipmapLinearFilter||Je.minFilter===LinearFilter||Je.minFilter===LinearMipmapNearestFilter||Je.minFilter===NearestMipmapLinearFilter||Je.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),ee.texParameteri(at,ee.TEXTURE_WRAP_S,Me[Je.wrapS]),ee.texParameteri(at,ee.TEXTURE_WRAP_T,Me[Je.wrapT]),(at===ee.TEXTURE_3D||at===ee.TEXTURE_2D_ARRAY)&&ee.texParameteri(at,ee.TEXTURE_WRAP_R,Me[Je.wrapR]),ee.texParameteri(at,ee.TEXTURE_MAG_FILTER,Ve[Je.magFilter]),ee.texParameteri(at,ee.TEXTURE_MIN_FILTER,Ve[Je.minFilter]),Je.compareFunction&&(ee.texParameteri(at,ee.TEXTURE_COMPARE_MODE,ee.COMPARE_REF_TO_TEXTURE),ee.texParameteri(at,ee.TEXTURE_COMPARE_FUNC,He[Je.compareFunction])),$.has("EXT_texture_filter_anisotropic")===!0){if(Je.magFilter===NearestFilter||Je.minFilter!==NearestMipmapLinearFilter&&Je.minFilter!==LinearMipmapLinearFilter||Je.type===FloatType&&$.has("OES_texture_float_linear")===!1)return;if(Je.anisotropy>1||ne.get(Je).__currentAnisotropy){const lt=$.get("EXT_texture_filter_anisotropic");ee.texParameterf(at,lt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Je.anisotropy,ie.getMaxAnisotropy())),ne.get(Je).__currentAnisotropy=Je.anisotropy}}}function Le(at,Je){let lt=!1;at.__webglInit===void 0&&(at.__webglInit=!0,Je.addEventListener("dispose",Fe));const ut=Je.source;let ft=pe.get(ut);ft===void 0&&(ft={},pe.set(ut,ft));const pt=$e(Je);if(pt!==at.__cacheKey){ft[pt]===void 0&&(ft[pt]={texture:ee.createTexture(),usedTimes:0},le.memory.textures++,lt=!0),ft[pt].usedTimes++;const mt=ft[at.__cacheKey];mt!==void 0&&(ft[at.__cacheKey].usedTimes--,mt.usedTimes===0&&Ce(Je)),at.__cacheKey=pt,at.__webglTexture=ft[pt].texture}return lt}function Oe(at,Je,lt){let ut=ee.TEXTURE_2D;(Je.isDataArrayTexture||Je.isCompressedArrayTexture)&&(ut=ee.TEXTURE_2D_ARRAY),Je.isData3DTexture&&(ut=ee.TEXTURE_3D);const ft=Le(at,Je),pt=Je.source;te.bindTexture(ut,at.__webglTexture,ee.TEXTURE0+lt);const mt=ne.get(pt);if(pt.version!==mt.__version||ft===!0){te.activeTexture(ee.TEXTURE0+lt);const xt=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),vt=Je.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Je.colorSpace),wt=Je.colorSpace===NoColorSpace||xt===vt?ee.NONE:ee.BROWSER_DEFAULT_WEBGL;ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,Je.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Je.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,Je.unpackAlignment),ee.pixelStorei(ee.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);let _t=ge(Je.image,!1,ie.maxTextureSize);_t=et(Je,_t);const Tt=se.convert(Je.format,Je.colorSpace),Lt=se.convert(Je.type);let jt=xe(Je.internalFormat,Tt,Lt,Je.colorSpace,Je.isVideoTexture);Ie(ut,Je);let Bt;const St=Je.mipmaps,Ft=Je.isVideoTexture!==!0,Ct=mt.__version===void 0||ft===!0,yt=pt.dataReady,bt=we(Je,_t);if(Je.isDepthTexture)jt=ue(Je.format===DepthStencilFormat,Je.type),Ct&&(Ft?te.texStorage2D(ee.TEXTURE_2D,1,jt,_t.width,_t.height):te.texImage2D(ee.TEXTURE_2D,0,jt,_t.width,_t.height,0,Tt,Lt,null));else if(Je.isDataTexture)if(St.length>0){Ft&&Ct&&te.texStorage2D(ee.TEXTURE_2D,bt,jt,St[0].width,St[0].height);for(let Pt=0,Ut=St.length;Pt<Ut;Pt++)Bt=St[Pt],Ft?yt&&te.texSubImage2D(ee.TEXTURE_2D,Pt,0,0,Bt.width,Bt.height,Tt,Lt,Bt.data):te.texImage2D(ee.TEXTURE_2D,Pt,jt,Bt.width,Bt.height,0,Tt,Lt,Bt.data);Je.generateMipmaps=!1}else Ft?(Ct&&te.texStorage2D(ee.TEXTURE_2D,bt,jt,_t.width,_t.height),yt&&te.texSubImage2D(ee.TEXTURE_2D,0,0,0,_t.width,_t.height,Tt,Lt,_t.data)):te.texImage2D(ee.TEXTURE_2D,0,jt,_t.width,_t.height,0,Tt,Lt,_t.data);else if(Je.isCompressedTexture)if(Je.isCompressedArrayTexture){Ft&&Ct&&te.texStorage3D(ee.TEXTURE_2D_ARRAY,bt,jt,St[0].width,St[0].height,_t.depth);for(let Pt=0,Ut=St.length;Pt<Ut;Pt++)if(Bt=St[Pt],Je.format!==RGBAFormat)if(Tt!==null)if(Ft){if(yt)if(Je.layerUpdates.size>0){const Yt=getByteLength(Bt.width,Bt.height,Je.format,Je.type);for(const kt of Je.layerUpdates){const Ot=Bt.data.subarray(kt*Yt/Bt.data.BYTES_PER_ELEMENT,(kt+1)*Yt/Bt.data.BYTES_PER_ELEMENT);te.compressedTexSubImage3D(ee.TEXTURE_2D_ARRAY,Pt,0,0,kt,Bt.width,Bt.height,1,Tt,Ot)}Je.clearLayerUpdates()}else te.compressedTexSubImage3D(ee.TEXTURE_2D_ARRAY,Pt,0,0,0,Bt.width,Bt.height,_t.depth,Tt,Bt.data)}else te.compressedTexImage3D(ee.TEXTURE_2D_ARRAY,Pt,jt,Bt.width,Bt.height,_t.depth,0,Bt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ft?yt&&te.texSubImage3D(ee.TEXTURE_2D_ARRAY,Pt,0,0,0,Bt.width,Bt.height,_t.depth,Tt,Lt,Bt.data):te.texImage3D(ee.TEXTURE_2D_ARRAY,Pt,jt,Bt.width,Bt.height,_t.depth,0,Tt,Lt,Bt.data)}else{Ft&&Ct&&te.texStorage2D(ee.TEXTURE_2D,bt,jt,St[0].width,St[0].height);for(let Pt=0,Ut=St.length;Pt<Ut;Pt++)Bt=St[Pt],Je.format!==RGBAFormat?Tt!==null?Ft?yt&&te.compressedTexSubImage2D(ee.TEXTURE_2D,Pt,0,0,Bt.width,Bt.height,Tt,Bt.data):te.compressedTexImage2D(ee.TEXTURE_2D,Pt,jt,Bt.width,Bt.height,0,Bt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ft?yt&&te.texSubImage2D(ee.TEXTURE_2D,Pt,0,0,Bt.width,Bt.height,Tt,Lt,Bt.data):te.texImage2D(ee.TEXTURE_2D,Pt,jt,Bt.width,Bt.height,0,Tt,Lt,Bt.data)}else if(Je.isDataArrayTexture)if(Ft){if(Ct&&te.texStorage3D(ee.TEXTURE_2D_ARRAY,bt,jt,_t.width,_t.height,_t.depth),yt)if(Je.layerUpdates.size>0){const Pt=getByteLength(_t.width,_t.height,Je.format,Je.type);for(const Ut of Je.layerUpdates){const Yt=_t.data.subarray(Ut*Pt/_t.data.BYTES_PER_ELEMENT,(Ut+1)*Pt/_t.data.BYTES_PER_ELEMENT);te.texSubImage3D(ee.TEXTURE_2D_ARRAY,0,0,0,Ut,_t.width,_t.height,1,Tt,Lt,Yt)}Je.clearLayerUpdates()}else te.texSubImage3D(ee.TEXTURE_2D_ARRAY,0,0,0,0,_t.width,_t.height,_t.depth,Tt,Lt,_t.data)}else te.texImage3D(ee.TEXTURE_2D_ARRAY,0,jt,_t.width,_t.height,_t.depth,0,Tt,Lt,_t.data);else if(Je.isData3DTexture)Ft?(Ct&&te.texStorage3D(ee.TEXTURE_3D,bt,jt,_t.width,_t.height,_t.depth),yt&&te.texSubImage3D(ee.TEXTURE_3D,0,0,0,0,_t.width,_t.height,_t.depth,Tt,Lt,_t.data)):te.texImage3D(ee.TEXTURE_3D,0,jt,_t.width,_t.height,_t.depth,0,Tt,Lt,_t.data);else if(Je.isFramebufferTexture){if(Ct)if(Ft)te.texStorage2D(ee.TEXTURE_2D,bt,jt,_t.width,_t.height);else{let Pt=_t.width,Ut=_t.height;for(let Yt=0;Yt<bt;Yt++)te.texImage2D(ee.TEXTURE_2D,Yt,jt,Pt,Ut,0,Tt,Lt,null),Pt>>=1,Ut>>=1}}else if(St.length>0){if(Ft&&Ct){const Pt=ct(St[0]);te.texStorage2D(ee.TEXTURE_2D,bt,jt,Pt.width,Pt.height)}for(let Pt=0,Ut=St.length;Pt<Ut;Pt++)Bt=St[Pt],Ft?yt&&te.texSubImage2D(ee.TEXTURE_2D,Pt,0,0,Tt,Lt,Bt):te.texImage2D(ee.TEXTURE_2D,Pt,jt,Tt,Lt,Bt);Je.generateMipmaps=!1}else if(Ft){if(Ct){const Pt=ct(_t);te.texStorage2D(ee.TEXTURE_2D,bt,jt,Pt.width,Pt.height)}yt&&te.texSubImage2D(ee.TEXTURE_2D,0,0,0,Tt,Lt,_t)}else te.texImage2D(ee.TEXTURE_2D,0,jt,Tt,Lt,_t);Se(Je)&&fe(ut),mt.__version=pt.version,Je.onUpdate&&Je.onUpdate(Je)}at.__version=Je.version}function Ne(at,Je,lt){if(Je.image.length!==6)return;const ut=Le(at,Je),ft=Je.source;te.bindTexture(ee.TEXTURE_CUBE_MAP,at.__webglTexture,ee.TEXTURE0+lt);const pt=ne.get(ft);if(ft.version!==pt.__version||ut===!0){te.activeTexture(ee.TEXTURE0+lt);const mt=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),xt=Je.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Je.colorSpace),vt=Je.colorSpace===NoColorSpace||mt===xt?ee.NONE:ee.BROWSER_DEFAULT_WEBGL;ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,Je.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Je.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,Je.unpackAlignment),ee.pixelStorei(ee.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);const wt=Je.isCompressedTexture||Je.image[0].isCompressedTexture,_t=Je.image[0]&&Je.image[0].isDataTexture,Tt=[];for(let Ut=0;Ut<6;Ut++)!wt&&!_t?Tt[Ut]=ge(Je.image[Ut],!0,ie.maxCubemapSize):Tt[Ut]=_t?Je.image[Ut].image:Je.image[Ut],Tt[Ut]=et(Je,Tt[Ut]);const Lt=Tt[0],jt=se.convert(Je.format,Je.colorSpace),Bt=se.convert(Je.type),St=xe(Je.internalFormat,jt,Bt,Je.colorSpace),Ft=Je.isVideoTexture!==!0,Ct=pt.__version===void 0||ut===!0,yt=ft.dataReady;let bt=we(Je,Lt);Ie(ee.TEXTURE_CUBE_MAP,Je);let Pt;if(wt){Ft&&Ct&&te.texStorage2D(ee.TEXTURE_CUBE_MAP,bt,St,Lt.width,Lt.height);for(let Ut=0;Ut<6;Ut++){Pt=Tt[Ut].mipmaps;for(let Yt=0;Yt<Pt.length;Yt++){const kt=Pt[Yt];Je.format!==RGBAFormat?jt!==null?Ft?yt&&te.compressedTexSubImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,Yt,0,0,kt.width,kt.height,jt,kt.data):te.compressedTexImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,Yt,St,kt.width,kt.height,0,kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ft?yt&&te.texSubImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,Yt,0,0,kt.width,kt.height,jt,Bt,kt.data):te.texImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,Yt,St,kt.width,kt.height,0,jt,Bt,kt.data)}}}else{if(Pt=Je.mipmaps,Ft&&Ct){Pt.length>0&&bt++;const Ut=ct(Tt[0]);te.texStorage2D(ee.TEXTURE_CUBE_MAP,bt,St,Ut.width,Ut.height)}for(let Ut=0;Ut<6;Ut++)if(_t){Ft?yt&&te.texSubImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,0,0,0,Tt[Ut].width,Tt[Ut].height,jt,Bt,Tt[Ut].data):te.texImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,0,St,Tt[Ut].width,Tt[Ut].height,0,jt,Bt,Tt[Ut].data);for(let Yt=0;Yt<Pt.length;Yt++){const Ot=Pt[Yt].image[Ut].image;Ft?yt&&te.texSubImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,Yt+1,0,0,Ot.width,Ot.height,jt,Bt,Ot.data):te.texImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,Yt+1,St,Ot.width,Ot.height,0,jt,Bt,Ot.data)}}else{Ft?yt&&te.texSubImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,0,0,0,jt,Bt,Tt[Ut]):te.texImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,0,St,jt,Bt,Tt[Ut]);for(let Yt=0;Yt<Pt.length;Yt++){const kt=Pt[Yt];Ft?yt&&te.texSubImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,Yt+1,0,0,jt,Bt,kt.image[Ut]):te.texImage2D(ee.TEXTURE_CUBE_MAP_POSITIVE_X+Ut,Yt+1,St,jt,Bt,kt.image[Ut])}}}Se(Je)&&fe(ee.TEXTURE_CUBE_MAP),pt.__version=ft.version,Je.onUpdate&&Je.onUpdate(Je)}at.__version=Je.version}function qe(at,Je,lt,ut,ft,pt){const mt=se.convert(lt.format,lt.colorSpace),xt=se.convert(lt.type),vt=xe(lt.internalFormat,mt,xt,lt.colorSpace),wt=ne.get(Je),_t=ne.get(lt);if(_t.__renderTarget=Je,!wt.__hasExternalTextures){const Tt=Math.max(1,Je.width>>pt),Lt=Math.max(1,Je.height>>pt);ft===ee.TEXTURE_3D||ft===ee.TEXTURE_2D_ARRAY?te.texImage3D(ft,pt,vt,Tt,Lt,Je.depth,0,mt,xt,null):te.texImage2D(ft,pt,vt,Tt,Lt,0,mt,xt,null)}te.bindFramebuffer(ee.FRAMEBUFFER,at),We(Je)?oe.framebufferTexture2DMultisampleEXT(ee.FRAMEBUFFER,ut,ft,_t.__webglTexture,0,Qe(Je)):(ft===ee.TEXTURE_2D||ft>=ee.TEXTURE_CUBE_MAP_POSITIVE_X&&ft<=ee.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&ee.framebufferTexture2D(ee.FRAMEBUFFER,ut,ft,_t.__webglTexture,pt),te.bindFramebuffer(ee.FRAMEBUFFER,null)}function it(at,Je,lt){if(ee.bindRenderbuffer(ee.RENDERBUFFER,at),Je.depthBuffer){const ut=Je.depthTexture,ft=ut&&ut.isDepthTexture?ut.type:null,pt=ue(Je.stencilBuffer,ft),mt=Je.stencilBuffer?ee.DEPTH_STENCIL_ATTACHMENT:ee.DEPTH_ATTACHMENT,xt=Qe(Je);We(Je)?oe.renderbufferStorageMultisampleEXT(ee.RENDERBUFFER,xt,pt,Je.width,Je.height):lt?ee.renderbufferStorageMultisample(ee.RENDERBUFFER,xt,pt,Je.width,Je.height):ee.renderbufferStorage(ee.RENDERBUFFER,pt,Je.width,Je.height),ee.framebufferRenderbuffer(ee.FRAMEBUFFER,mt,ee.RENDERBUFFER,at)}else{const ut=Je.textures;for(let ft=0;ft<ut.length;ft++){const pt=ut[ft],mt=se.convert(pt.format,pt.colorSpace),xt=se.convert(pt.type),vt=xe(pt.internalFormat,mt,xt,pt.colorSpace),wt=Qe(Je);lt&&We(Je)===!1?ee.renderbufferStorageMultisample(ee.RENDERBUFFER,wt,vt,Je.width,Je.height):We(Je)?oe.renderbufferStorageMultisampleEXT(ee.RENDERBUFFER,wt,vt,Je.width,Je.height):ee.renderbufferStorage(ee.RENDERBUFFER,vt,Je.width,Je.height)}}ee.bindRenderbuffer(ee.RENDERBUFFER,null)}function tt(at,Je){if(Je&&Je.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(te.bindFramebuffer(ee.FRAMEBUFFER,at),!(Je.depthTexture&&Je.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ut=ne.get(Je.depthTexture);ut.__renderTarget=Je,(!ut.__webglTexture||Je.depthTexture.image.width!==Je.width||Je.depthTexture.image.height!==Je.height)&&(Je.depthTexture.image.width=Je.width,Je.depthTexture.image.height=Je.height,Je.depthTexture.needsUpdate=!0),Be(Je.depthTexture,0);const ft=ut.__webglTexture,pt=Qe(Je);if(Je.depthTexture.format===DepthFormat)We(Je)?oe.framebufferTexture2DMultisampleEXT(ee.FRAMEBUFFER,ee.DEPTH_ATTACHMENT,ee.TEXTURE_2D,ft,0,pt):ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.DEPTH_ATTACHMENT,ee.TEXTURE_2D,ft,0);else if(Je.depthTexture.format===DepthStencilFormat)We(Je)?oe.framebufferTexture2DMultisampleEXT(ee.FRAMEBUFFER,ee.DEPTH_STENCIL_ATTACHMENT,ee.TEXTURE_2D,ft,0,pt):ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.DEPTH_STENCIL_ATTACHMENT,ee.TEXTURE_2D,ft,0);else throw new Error("Unknown depthTexture format")}function Xe(at){const Je=ne.get(at),lt=at.isWebGLCubeRenderTarget===!0;if(Je.__boundDepthTexture!==at.depthTexture){const ut=at.depthTexture;if(Je.__depthDisposeCallback&&Je.__depthDisposeCallback(),ut){const ft=()=>{delete Je.__boundDepthTexture,delete Je.__depthDisposeCallback,ut.removeEventListener("dispose",ft)};ut.addEventListener("dispose",ft),Je.__depthDisposeCallback=ft}Je.__boundDepthTexture=ut}if(at.depthTexture&&!Je.__autoAllocateDepthBuffer){if(lt)throw new Error("target.depthTexture not supported in Cube render targets");tt(Je.__webglFramebuffer,at)}else if(lt){Je.__webglDepthbuffer=[];for(let ut=0;ut<6;ut++)if(te.bindFramebuffer(ee.FRAMEBUFFER,Je.__webglFramebuffer[ut]),Je.__webglDepthbuffer[ut]===void 0)Je.__webglDepthbuffer[ut]=ee.createRenderbuffer(),it(Je.__webglDepthbuffer[ut],at,!1);else{const ft=at.stencilBuffer?ee.DEPTH_STENCIL_ATTACHMENT:ee.DEPTH_ATTACHMENT,pt=Je.__webglDepthbuffer[ut];ee.bindRenderbuffer(ee.RENDERBUFFER,pt),ee.framebufferRenderbuffer(ee.FRAMEBUFFER,ft,ee.RENDERBUFFER,pt)}}else if(te.bindFramebuffer(ee.FRAMEBUFFER,Je.__webglFramebuffer),Je.__webglDepthbuffer===void 0)Je.__webglDepthbuffer=ee.createRenderbuffer(),it(Je.__webglDepthbuffer,at,!1);else{const ut=at.stencilBuffer?ee.DEPTH_STENCIL_ATTACHMENT:ee.DEPTH_ATTACHMENT,ft=Je.__webglDepthbuffer;ee.bindRenderbuffer(ee.RENDERBUFFER,ft),ee.framebufferRenderbuffer(ee.FRAMEBUFFER,ut,ee.RENDERBUFFER,ft)}te.bindFramebuffer(ee.FRAMEBUFFER,null)}function Ze(at,Je,lt){const ut=ne.get(at);Je!==void 0&&qe(ut.__webglFramebuffer,at,at.texture,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,0),lt!==void 0&&Xe(at)}function ot(at){const Je=at.texture,lt=ne.get(at),ut=ne.get(Je);at.addEventListener("dispose",_e);const ft=at.textures,pt=at.isWebGLCubeRenderTarget===!0,mt=ft.length>1;if(mt||(ut.__webglTexture===void 0&&(ut.__webglTexture=ee.createTexture()),ut.__version=Je.version,le.memory.textures++),pt){lt.__webglFramebuffer=[];for(let xt=0;xt<6;xt++)if(Je.mipmaps&&Je.mipmaps.length>0){lt.__webglFramebuffer[xt]=[];for(let vt=0;vt<Je.mipmaps.length;vt++)lt.__webglFramebuffer[xt][vt]=ee.createFramebuffer()}else lt.__webglFramebuffer[xt]=ee.createFramebuffer()}else{if(Je.mipmaps&&Je.mipmaps.length>0){lt.__webglFramebuffer=[];for(let xt=0;xt<Je.mipmaps.length;xt++)lt.__webglFramebuffer[xt]=ee.createFramebuffer()}else lt.__webglFramebuffer=ee.createFramebuffer();if(mt)for(let xt=0,vt=ft.length;xt<vt;xt++){const wt=ne.get(ft[xt]);wt.__webglTexture===void 0&&(wt.__webglTexture=ee.createTexture(),le.memory.textures++)}if(at.samples>0&&We(at)===!1){lt.__webglMultisampledFramebuffer=ee.createFramebuffer(),lt.__webglColorRenderbuffer=[],te.bindFramebuffer(ee.FRAMEBUFFER,lt.__webglMultisampledFramebuffer);for(let xt=0;xt<ft.length;xt++){const vt=ft[xt];lt.__webglColorRenderbuffer[xt]=ee.createRenderbuffer(),ee.bindRenderbuffer(ee.RENDERBUFFER,lt.__webglColorRenderbuffer[xt]);const wt=se.convert(vt.format,vt.colorSpace),_t=se.convert(vt.type),Tt=xe(vt.internalFormat,wt,_t,vt.colorSpace,at.isXRRenderTarget===!0),Lt=Qe(at);ee.renderbufferStorageMultisample(ee.RENDERBUFFER,Lt,Tt,at.width,at.height),ee.framebufferRenderbuffer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0+xt,ee.RENDERBUFFER,lt.__webglColorRenderbuffer[xt])}ee.bindRenderbuffer(ee.RENDERBUFFER,null),at.depthBuffer&&(lt.__webglDepthRenderbuffer=ee.createRenderbuffer(),it(lt.__webglDepthRenderbuffer,at,!0)),te.bindFramebuffer(ee.FRAMEBUFFER,null)}}if(pt){te.bindTexture(ee.TEXTURE_CUBE_MAP,ut.__webglTexture),Ie(ee.TEXTURE_CUBE_MAP,Je);for(let xt=0;xt<6;xt++)if(Je.mipmaps&&Je.mipmaps.length>0)for(let vt=0;vt<Je.mipmaps.length;vt++)qe(lt.__webglFramebuffer[xt][vt],at,Je,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+xt,vt);else qe(lt.__webglFramebuffer[xt],at,Je,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+xt,0);Se(Je)&&fe(ee.TEXTURE_CUBE_MAP),te.unbindTexture()}else if(mt){for(let xt=0,vt=ft.length;xt<vt;xt++){const wt=ft[xt],_t=ne.get(wt);te.bindTexture(ee.TEXTURE_2D,_t.__webglTexture),Ie(ee.TEXTURE_2D,wt),qe(lt.__webglFramebuffer,at,wt,ee.COLOR_ATTACHMENT0+xt,ee.TEXTURE_2D,0),Se(wt)&&fe(ee.TEXTURE_2D)}te.unbindTexture()}else{let xt=ee.TEXTURE_2D;if((at.isWebGL3DRenderTarget||at.isWebGLArrayRenderTarget)&&(xt=at.isWebGL3DRenderTarget?ee.TEXTURE_3D:ee.TEXTURE_2D_ARRAY),te.bindTexture(xt,ut.__webglTexture),Ie(xt,Je),Je.mipmaps&&Je.mipmaps.length>0)for(let vt=0;vt<Je.mipmaps.length;vt++)qe(lt.__webglFramebuffer[vt],at,Je,ee.COLOR_ATTACHMENT0,xt,vt);else qe(lt.__webglFramebuffer,at,Je,ee.COLOR_ATTACHMENT0,xt,0);Se(Je)&&fe(xt),te.unbindTexture()}at.depthBuffer&&Xe(at)}function Ge(at){const Je=at.textures;for(let lt=0,ut=Je.length;lt<ut;lt++){const ft=Je[lt];if(Se(ft)){const pt=be(at),mt=ne.get(ft).__webglTexture;te.bindTexture(pt,mt),fe(pt),te.unbindTexture()}}}const Ke=[],je=[];function nt(at){if(at.samples>0){if(We(at)===!1){const Je=at.textures,lt=at.width,ut=at.height;let ft=ee.COLOR_BUFFER_BIT;const pt=at.stencilBuffer?ee.DEPTH_STENCIL_ATTACHMENT:ee.DEPTH_ATTACHMENT,mt=ne.get(at),xt=Je.length>1;if(xt)for(let vt=0;vt<Je.length;vt++)te.bindFramebuffer(ee.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),ee.framebufferRenderbuffer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0+vt,ee.RENDERBUFFER,null),te.bindFramebuffer(ee.FRAMEBUFFER,mt.__webglFramebuffer),ee.framebufferTexture2D(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0+vt,ee.TEXTURE_2D,null,0);te.bindFramebuffer(ee.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer),te.bindFramebuffer(ee.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let vt=0;vt<Je.length;vt++){if(at.resolveDepthBuffer&&(at.depthBuffer&&(ft|=ee.DEPTH_BUFFER_BIT),at.stencilBuffer&&at.resolveStencilBuffer&&(ft|=ee.STENCIL_BUFFER_BIT)),xt){ee.framebufferRenderbuffer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.RENDERBUFFER,mt.__webglColorRenderbuffer[vt]);const wt=ne.get(Je[vt]).__webglTexture;ee.framebufferTexture2D(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,wt,0)}ee.blitFramebuffer(0,0,lt,ut,0,0,lt,ut,ft,ee.NEAREST),ce===!0&&(Ke.length=0,je.length=0,Ke.push(ee.COLOR_ATTACHMENT0+vt),at.depthBuffer&&at.resolveDepthBuffer===!1&&(Ke.push(pt),je.push(pt),ee.invalidateFramebuffer(ee.DRAW_FRAMEBUFFER,je)),ee.invalidateFramebuffer(ee.READ_FRAMEBUFFER,Ke))}if(te.bindFramebuffer(ee.READ_FRAMEBUFFER,null),te.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null),xt)for(let vt=0;vt<Je.length;vt++){te.bindFramebuffer(ee.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),ee.framebufferRenderbuffer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0+vt,ee.RENDERBUFFER,mt.__webglColorRenderbuffer[vt]);const wt=ne.get(Je[vt]).__webglTexture;te.bindFramebuffer(ee.FRAMEBUFFER,mt.__webglFramebuffer),ee.framebufferTexture2D(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0+vt,ee.TEXTURE_2D,wt,0)}te.bindFramebuffer(ee.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}else if(at.depthBuffer&&at.resolveDepthBuffer===!1&&ce){const Je=at.stencilBuffer?ee.DEPTH_STENCIL_ATTACHMENT:ee.DEPTH_ATTACHMENT;ee.invalidateFramebuffer(ee.DRAW_FRAMEBUFFER,[Je])}}}function Qe(at){return Math.min(ie.maxSamples,at.samples)}function We(at){const Je=ne.get(at);return at.samples>0&&$.has("WEBGL_multisampled_render_to_texture")===!0&&Je.__useRenderToTexture!==!1}function rt(at){const Je=le.render.frame;he.get(at)!==Je&&(he.set(at,Je),at.update())}function et(at,Je){const lt=at.colorSpace,ut=at.format,ft=at.type;return at.isCompressedTexture===!0||at.isVideoTexture===!0||lt!==LinearSRGBColorSpace&&lt!==NoColorSpace&&(ColorManagement.getTransfer(lt)===SRGBTransfer?(ut!==RGBAFormat||ft!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",lt)),Je}function ct(at){return typeof HTMLImageElement<"u"&&at instanceof HTMLImageElement?(ae.width=at.naturalWidth||at.width,ae.height=at.naturalHeight||at.height):typeof VideoFrame<"u"&&at instanceof VideoFrame?(ae.width=at.displayWidth,ae.height=at.displayHeight):(ae.width=at.width,ae.height=at.height),ae}this.allocateTextureUnit=ke,this.resetTextureUnits=Ye,this.setTexture2D=Be,this.setTexture2DArray=Pe,this.setTexture3D=Ue,this.setTextureCube=Te,this.rebindTextures=Ze,this.setupRenderTarget=ot,this.updateRenderTargetMipmap=Ge,this.updateMultisampleRenderTarget=nt,this.setupDepthRenderbuffer=Xe,this.setupFrameBufferTexture=qe,this.useMultisampledRTT=We}function WebGLUtils(ee,$){function te(ne,ie=NoColorSpace){let se;const le=ColorManagement.getTransfer(ie);if(ne===UnsignedByteType)return ee.UNSIGNED_BYTE;if(ne===UnsignedShort4444Type)return ee.UNSIGNED_SHORT_4_4_4_4;if(ne===UnsignedShort5551Type)return ee.UNSIGNED_SHORT_5_5_5_1;if(ne===UnsignedInt5999Type)return ee.UNSIGNED_INT_5_9_9_9_REV;if(ne===ByteType)return ee.BYTE;if(ne===ShortType)return ee.SHORT;if(ne===UnsignedShortType)return ee.UNSIGNED_SHORT;if(ne===IntType)return ee.INT;if(ne===UnsignedIntType)return ee.UNSIGNED_INT;if(ne===FloatType)return ee.FLOAT;if(ne===HalfFloatType)return ee.HALF_FLOAT;if(ne===AlphaFormat)return ee.ALPHA;if(ne===RGBFormat)return ee.RGB;if(ne===RGBAFormat)return ee.RGBA;if(ne===LuminanceFormat)return ee.LUMINANCE;if(ne===LuminanceAlphaFormat)return ee.LUMINANCE_ALPHA;if(ne===DepthFormat)return ee.DEPTH_COMPONENT;if(ne===DepthStencilFormat)return ee.DEPTH_STENCIL;if(ne===RedFormat)return ee.RED;if(ne===RedIntegerFormat)return ee.RED_INTEGER;if(ne===RGFormat)return ee.RG;if(ne===RGIntegerFormat)return ee.RG_INTEGER;if(ne===RGBAIntegerFormat)return ee.RGBA_INTEGER;if(ne===RGB_S3TC_DXT1_Format||ne===RGBA_S3TC_DXT1_Format||ne===RGBA_S3TC_DXT3_Format||ne===RGBA_S3TC_DXT5_Format)if(le===SRGBTransfer)if(se=$.get("WEBGL_compressed_texture_s3tc_srgb"),se!==null){if(ne===RGB_S3TC_DXT1_Format)return se.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(ne===RGBA_S3TC_DXT1_Format)return se.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(ne===RGBA_S3TC_DXT3_Format)return se.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(ne===RGBA_S3TC_DXT5_Format)return se.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(se=$.get("WEBGL_compressed_texture_s3tc"),se!==null){if(ne===RGB_S3TC_DXT1_Format)return se.COMPRESSED_RGB_S3TC_DXT1_EXT;if(ne===RGBA_S3TC_DXT1_Format)return se.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(ne===RGBA_S3TC_DXT3_Format)return se.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(ne===RGBA_S3TC_DXT5_Format)return se.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(ne===RGB_PVRTC_4BPPV1_Format||ne===RGB_PVRTC_2BPPV1_Format||ne===RGBA_PVRTC_4BPPV1_Format||ne===RGBA_PVRTC_2BPPV1_Format)if(se=$.get("WEBGL_compressed_texture_pvrtc"),se!==null){if(ne===RGB_PVRTC_4BPPV1_Format)return se.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(ne===RGB_PVRTC_2BPPV1_Format)return se.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(ne===RGBA_PVRTC_4BPPV1_Format)return se.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(ne===RGBA_PVRTC_2BPPV1_Format)return se.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(ne===RGB_ETC1_Format||ne===RGB_ETC2_Format||ne===RGBA_ETC2_EAC_Format)if(se=$.get("WEBGL_compressed_texture_etc"),se!==null){if(ne===RGB_ETC1_Format||ne===RGB_ETC2_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ETC2:se.COMPRESSED_RGB8_ETC2;if(ne===RGBA_ETC2_EAC_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:se.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(ne===RGBA_ASTC_4x4_Format||ne===RGBA_ASTC_5x4_Format||ne===RGBA_ASTC_5x5_Format||ne===RGBA_ASTC_6x5_Format||ne===RGBA_ASTC_6x6_Format||ne===RGBA_ASTC_8x5_Format||ne===RGBA_ASTC_8x6_Format||ne===RGBA_ASTC_8x8_Format||ne===RGBA_ASTC_10x5_Format||ne===RGBA_ASTC_10x6_Format||ne===RGBA_ASTC_10x8_Format||ne===RGBA_ASTC_10x10_Format||ne===RGBA_ASTC_12x10_Format||ne===RGBA_ASTC_12x12_Format)if(se=$.get("WEBGL_compressed_texture_astc"),se!==null){if(ne===RGBA_ASTC_4x4_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:se.COMPRESSED_RGBA_ASTC_4x4_KHR;if(ne===RGBA_ASTC_5x4_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:se.COMPRESSED_RGBA_ASTC_5x4_KHR;if(ne===RGBA_ASTC_5x5_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:se.COMPRESSED_RGBA_ASTC_5x5_KHR;if(ne===RGBA_ASTC_6x5_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:se.COMPRESSED_RGBA_ASTC_6x5_KHR;if(ne===RGBA_ASTC_6x6_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:se.COMPRESSED_RGBA_ASTC_6x6_KHR;if(ne===RGBA_ASTC_8x5_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:se.COMPRESSED_RGBA_ASTC_8x5_KHR;if(ne===RGBA_ASTC_8x6_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:se.COMPRESSED_RGBA_ASTC_8x6_KHR;if(ne===RGBA_ASTC_8x8_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:se.COMPRESSED_RGBA_ASTC_8x8_KHR;if(ne===RGBA_ASTC_10x5_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:se.COMPRESSED_RGBA_ASTC_10x5_KHR;if(ne===RGBA_ASTC_10x6_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:se.COMPRESSED_RGBA_ASTC_10x6_KHR;if(ne===RGBA_ASTC_10x8_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:se.COMPRESSED_RGBA_ASTC_10x8_KHR;if(ne===RGBA_ASTC_10x10_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:se.COMPRESSED_RGBA_ASTC_10x10_KHR;if(ne===RGBA_ASTC_12x10_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:se.COMPRESSED_RGBA_ASTC_12x10_KHR;if(ne===RGBA_ASTC_12x12_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:se.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(ne===RGBA_BPTC_Format||ne===RGB_BPTC_SIGNED_Format||ne===RGB_BPTC_UNSIGNED_Format)if(se=$.get("EXT_texture_compression_bptc"),se!==null){if(ne===RGBA_BPTC_Format)return le===SRGBTransfer?se.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:se.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(ne===RGB_BPTC_SIGNED_Format)return se.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(ne===RGB_BPTC_UNSIGNED_Format)return se.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(ne===RED_RGTC1_Format||ne===SIGNED_RED_RGTC1_Format||ne===RED_GREEN_RGTC2_Format||ne===SIGNED_RED_GREEN_RGTC2_Format)if(se=$.get("EXT_texture_compression_rgtc"),se!==null){if(ne===RGBA_BPTC_Format)return se.COMPRESSED_RED_RGTC1_EXT;if(ne===SIGNED_RED_RGTC1_Format)return se.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(ne===RED_GREEN_RGTC2_Format)return se.COMPRESSED_RED_GREEN_RGTC2_EXT;if(ne===SIGNED_RED_GREEN_RGTC2_Format)return se.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return ne===UnsignedInt248Type?ee.UNSIGNED_INT_24_8:ee[ne]!==void 0?ee[ne]:null}return{convert:te}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init($,te,ne){if(this.texture===null){const ie=new Texture,se=$.properties.get(ie);se.__webglTexture=te.texture,(te.depthNear!==ne.depthNear||te.depthFar!==ne.depthFar)&&(this.depthNear=te.depthNear,this.depthFar=te.depthFar),this.texture=ie}}getMesh($){if(this.texture!==null&&this.mesh===null){const te=$.cameras[0].viewport,ne=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:te.z},depthHeight:{value:te.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),ne)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher$1{constructor($,te){super();const ne=this;let ie=null,se=1,le=null,oe="local-floor",ce=1,ae=null,he=null,de=null,pe=null,re=null,Ae=null;const ge=new WebXRDepthSensing,Se=te.getContextAttributes();let fe=null,be=null;const xe=[],ue=[],we=new Vector2;let Fe=null;const _e=new PerspectiveCamera;_e.viewport=new Vector4;const Ee=new PerspectiveCamera;Ee.viewport=new Vector4;const Ce=[_e,Ee],ye=new ArrayCamera;let Re=null,Ye=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Oe){let Ne=xe[Oe];return Ne===void 0&&(Ne=new WebXRController,xe[Oe]=Ne),Ne.getTargetRaySpace()},this.getControllerGrip=function(Oe){let Ne=xe[Oe];return Ne===void 0&&(Ne=new WebXRController,xe[Oe]=Ne),Ne.getGripSpace()},this.getHand=function(Oe){let Ne=xe[Oe];return Ne===void 0&&(Ne=new WebXRController,xe[Oe]=Ne),Ne.getHandSpace()};function ke(Oe){const Ne=ue.indexOf(Oe.inputSource);if(Ne===-1)return;const qe=xe[Ne];qe!==void 0&&(qe.update(Oe.inputSource,Oe.frame,ae||le),qe.dispatchEvent({type:Oe.type,data:Oe.inputSource}))}function $e(){ie.removeEventListener("select",ke),ie.removeEventListener("selectstart",ke),ie.removeEventListener("selectend",ke),ie.removeEventListener("squeeze",ke),ie.removeEventListener("squeezestart",ke),ie.removeEventListener("squeezeend",ke),ie.removeEventListener("end",$e),ie.removeEventListener("inputsourceschange",Be);for(let Oe=0;Oe<xe.length;Oe++){const Ne=ue[Oe];Ne!==null&&(ue[Oe]=null,xe[Oe].disconnect(Ne))}Re=null,Ye=null,ge.reset(),$.setRenderTarget(fe),re=null,pe=null,de=null,ie=null,be=null,Le.stop(),ne.isPresenting=!1,$.setPixelRatio(Fe),$.setSize(we.width,we.height,!1),ne.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Oe){se=Oe,ne.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Oe){oe=Oe,ne.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return ae||le},this.setReferenceSpace=function(Oe){ae=Oe},this.getBaseLayer=function(){return pe!==null?pe:re},this.getBinding=function(){return de},this.getFrame=function(){return Ae},this.getSession=function(){return ie},this.setSession=async function(Oe){if(ie=Oe,ie!==null){if(fe=$.getRenderTarget(),ie.addEventListener("select",ke),ie.addEventListener("selectstart",ke),ie.addEventListener("selectend",ke),ie.addEventListener("squeeze",ke),ie.addEventListener("squeezestart",ke),ie.addEventListener("squeezeend",ke),ie.addEventListener("end",$e),ie.addEventListener("inputsourceschange",Be),Se.xrCompatible!==!0&&await te.makeXRCompatible(),Fe=$.getPixelRatio(),$.getSize(we),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let qe=null,it=null,tt=null;Se.depth&&(tt=Se.stencil?te.DEPTH24_STENCIL8:te.DEPTH_COMPONENT24,qe=Se.stencil?DepthStencilFormat:DepthFormat,it=Se.stencil?UnsignedInt248Type:UnsignedIntType);const Xe={colorFormat:te.RGBA8,depthFormat:tt,scaleFactor:se};de=new XRWebGLBinding(ie,te),pe=de.createProjectionLayer(Xe),ie.updateRenderState({layers:[pe]}),$.setPixelRatio(1),$.setSize(pe.textureWidth,pe.textureHeight,!1),be=new WebGLRenderTarget(pe.textureWidth,pe.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(pe.textureWidth,pe.textureHeight,it,void 0,void 0,void 0,void 0,void 0,void 0,qe),stencilBuffer:Se.stencil,colorSpace:$.outputColorSpace,samples:Se.antialias?4:0,resolveDepthBuffer:pe.ignoreDepthValues===!1,resolveStencilBuffer:pe.ignoreDepthValues===!1})}else{const qe={antialias:Se.antialias,alpha:!0,depth:Se.depth,stencil:Se.stencil,framebufferScaleFactor:se};re=new XRWebGLLayer(ie,te,qe),ie.updateRenderState({baseLayer:re}),$.setPixelRatio(1),$.setSize(re.framebufferWidth,re.framebufferHeight,!1),be=new WebGLRenderTarget(re.framebufferWidth,re.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:$.outputColorSpace,stencilBuffer:Se.stencil,resolveDepthBuffer:re.ignoreDepthValues===!1,resolveStencilBuffer:re.ignoreDepthValues===!1})}be.isXRRenderTarget=!0,this.setFoveation(ce),ae=null,le=await ie.requestReferenceSpace(oe),Le.setContext(ie),Le.start(),ne.isPresenting=!0,ne.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(ie!==null)return ie.environmentBlendMode},this.getDepthTexture=function(){return ge.getDepthTexture()};function Be(Oe){for(let Ne=0;Ne<Oe.removed.length;Ne++){const qe=Oe.removed[Ne],it=ue.indexOf(qe);it>=0&&(ue[it]=null,xe[it].disconnect(qe))}for(let Ne=0;Ne<Oe.added.length;Ne++){const qe=Oe.added[Ne];let it=ue.indexOf(qe);if(it===-1){for(let Xe=0;Xe<xe.length;Xe++)if(Xe>=ue.length){ue.push(qe),it=Xe;break}else if(ue[Xe]===null){ue[Xe]=qe,it=Xe;break}if(it===-1)break}const tt=xe[it];tt&&tt.connect(qe)}}const Pe=new Vector3,Ue=new Vector3;function Te(Oe,Ne,qe){Pe.setFromMatrixPosition(Ne.matrixWorld),Ue.setFromMatrixPosition(qe.matrixWorld);const it=Pe.distanceTo(Ue),tt=Ne.projectionMatrix.elements,Xe=qe.projectionMatrix.elements,Ze=tt[14]/(tt[10]-1),ot=tt[14]/(tt[10]+1),Ge=(tt[9]+1)/tt[5],Ke=(tt[9]-1)/tt[5],je=(tt[8]-1)/tt[0],nt=(Xe[8]+1)/Xe[0],Qe=Ze*je,We=Ze*nt,rt=it/(-je+nt),et=rt*-je;if(Ne.matrixWorld.decompose(Oe.position,Oe.quaternion,Oe.scale),Oe.translateX(et),Oe.translateZ(rt),Oe.matrixWorld.compose(Oe.position,Oe.quaternion,Oe.scale),Oe.matrixWorldInverse.copy(Oe.matrixWorld).invert(),tt[10]===-1)Oe.projectionMatrix.copy(Ne.projectionMatrix),Oe.projectionMatrixInverse.copy(Ne.projectionMatrixInverse);else{const ct=Ze+rt,at=ot+rt,Je=Qe-et,lt=We+(it-et),ut=Ge*ot/at*ct,ft=Ke*ot/at*ct;Oe.projectionMatrix.makePerspective(Je,lt,ut,ft,ct,at),Oe.projectionMatrixInverse.copy(Oe.projectionMatrix).invert()}}function Me(Oe,Ne){Ne===null?Oe.matrixWorld.copy(Oe.matrix):Oe.matrixWorld.multiplyMatrices(Ne.matrixWorld,Oe.matrix),Oe.matrixWorldInverse.copy(Oe.matrixWorld).invert()}this.updateCamera=function(Oe){if(ie===null)return;let Ne=Oe.near,qe=Oe.far;ge.texture!==null&&(ge.depthNear>0&&(Ne=ge.depthNear),ge.depthFar>0&&(qe=ge.depthFar)),ye.near=Ee.near=_e.near=Ne,ye.far=Ee.far=_e.far=qe,(Re!==ye.near||Ye!==ye.far)&&(ie.updateRenderState({depthNear:ye.near,depthFar:ye.far}),Re=ye.near,Ye=ye.far),_e.layers.mask=Oe.layers.mask|2,Ee.layers.mask=Oe.layers.mask|4,ye.layers.mask=_e.layers.mask|Ee.layers.mask;const it=Oe.parent,tt=ye.cameras;Me(ye,it);for(let Xe=0;Xe<tt.length;Xe++)Me(tt[Xe],it);tt.length===2?Te(ye,_e,Ee):ye.projectionMatrix.copy(_e.projectionMatrix),Ve(Oe,ye,it)};function Ve(Oe,Ne,qe){qe===null?Oe.matrix.copy(Ne.matrixWorld):(Oe.matrix.copy(qe.matrixWorld),Oe.matrix.invert(),Oe.matrix.multiply(Ne.matrixWorld)),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale),Oe.updateMatrixWorld(!0),Oe.projectionMatrix.copy(Ne.projectionMatrix),Oe.projectionMatrixInverse.copy(Ne.projectionMatrixInverse),Oe.isPerspectiveCamera&&(Oe.fov=RAD2DEG*2*Math.atan(1/Oe.projectionMatrix.elements[5]),Oe.zoom=1)}this.getCamera=function(){return ye},this.getFoveation=function(){if(!(pe===null&&re===null))return ce},this.setFoveation=function(Oe){ce=Oe,pe!==null&&(pe.fixedFoveation=Oe),re!==null&&re.fixedFoveation!==void 0&&(re.fixedFoveation=Oe)},this.hasDepthSensing=function(){return ge.texture!==null},this.getDepthSensingMesh=function(){return ge.getMesh(ye)};let He=null;function Ie(Oe,Ne){if(he=Ne.getViewerPose(ae||le),Ae=Ne,he!==null){const qe=he.views;re!==null&&($.setRenderTargetFramebuffer(be,re.framebuffer),$.setRenderTarget(be));let it=!1;qe.length!==ye.cameras.length&&(ye.cameras.length=0,it=!0);for(let Ze=0;Ze<qe.length;Ze++){const ot=qe[Ze];let Ge=null;if(re!==null)Ge=re.getViewport(ot);else{const je=de.getViewSubImage(pe,ot);Ge=je.viewport,Ze===0&&($.setRenderTargetTextures(be,je.colorTexture,pe.ignoreDepthValues?void 0:je.depthStencilTexture),$.setRenderTarget(be))}let Ke=Ce[Ze];Ke===void 0&&(Ke=new PerspectiveCamera,Ke.layers.enable(Ze),Ke.viewport=new Vector4,Ce[Ze]=Ke),Ke.matrix.fromArray(ot.transform.matrix),Ke.matrix.decompose(Ke.position,Ke.quaternion,Ke.scale),Ke.projectionMatrix.fromArray(ot.projectionMatrix),Ke.projectionMatrixInverse.copy(Ke.projectionMatrix).invert(),Ke.viewport.set(Ge.x,Ge.y,Ge.width,Ge.height),Ze===0&&(ye.matrix.copy(Ke.matrix),ye.matrix.decompose(ye.position,ye.quaternion,ye.scale)),it===!0&&ye.cameras.push(Ke)}const tt=ie.enabledFeatures;if(tt&&tt.includes("depth-sensing")&&ie.depthUsage=="gpu-optimized"&&de){const Ze=de.getDepthInformation(qe[0]);Ze&&Ze.isValid&&Ze.texture&&ge.init($,Ze,ie.renderState)}}for(let qe=0;qe<xe.length;qe++){const it=ue[qe],tt=xe[qe];it!==null&&tt!==void 0&&tt.update(it,Ne,ae||le)}He&&He(Oe,Ne),Ne.detectedPlanes&&ne.dispatchEvent({type:"planesdetected",data:Ne}),Ae=null}const Le=new WebGLAnimation;Le.setAnimationLoop(Ie),this.setAnimationLoop=function(Oe){He=Oe},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(ee,$){function te(Se,fe){Se.matrixAutoUpdate===!0&&Se.updateMatrix(),fe.value.copy(Se.matrix)}function ne(Se,fe){fe.color.getRGB(Se.fogColor.value,getUnlitUniformColorSpace(ee)),fe.isFog?(Se.fogNear.value=fe.near,Se.fogFar.value=fe.far):fe.isFogExp2&&(Se.fogDensity.value=fe.density)}function ie(Se,fe,be,xe,ue){fe.isMeshBasicMaterial||fe.isMeshLambertMaterial?se(Se,fe):fe.isMeshToonMaterial?(se(Se,fe),de(Se,fe)):fe.isMeshPhongMaterial?(se(Se,fe),he(Se,fe)):fe.isMeshStandardMaterial?(se(Se,fe),pe(Se,fe),fe.isMeshPhysicalMaterial&&re(Se,fe,ue)):fe.isMeshMatcapMaterial?(se(Se,fe),Ae(Se,fe)):fe.isMeshDepthMaterial?se(Se,fe):fe.isMeshDistanceMaterial?(se(Se,fe),ge(Se,fe)):fe.isMeshNormalMaterial?se(Se,fe):fe.isLineBasicMaterial?(le(Se,fe),fe.isLineDashedMaterial&&oe(Se,fe)):fe.isPointsMaterial?ce(Se,fe,be,xe):fe.isSpriteMaterial?ae(Se,fe):fe.isShadowMaterial?(Se.color.value.copy(fe.color),Se.opacity.value=fe.opacity):fe.isShaderMaterial&&(fe.uniformsNeedUpdate=!1)}function se(Se,fe){Se.opacity.value=fe.opacity,fe.color&&Se.diffuse.value.copy(fe.color),fe.emissive&&Se.emissive.value.copy(fe.emissive).multiplyScalar(fe.emissiveIntensity),fe.map&&(Se.map.value=fe.map,te(fe.map,Se.mapTransform)),fe.alphaMap&&(Se.alphaMap.value=fe.alphaMap,te(fe.alphaMap,Se.alphaMapTransform)),fe.bumpMap&&(Se.bumpMap.value=fe.bumpMap,te(fe.bumpMap,Se.bumpMapTransform),Se.bumpScale.value=fe.bumpScale,fe.side===BackSide&&(Se.bumpScale.value*=-1)),fe.normalMap&&(Se.normalMap.value=fe.normalMap,te(fe.normalMap,Se.normalMapTransform),Se.normalScale.value.copy(fe.normalScale),fe.side===BackSide&&Se.normalScale.value.negate()),fe.displacementMap&&(Se.displacementMap.value=fe.displacementMap,te(fe.displacementMap,Se.displacementMapTransform),Se.displacementScale.value=fe.displacementScale,Se.displacementBias.value=fe.displacementBias),fe.emissiveMap&&(Se.emissiveMap.value=fe.emissiveMap,te(fe.emissiveMap,Se.emissiveMapTransform)),fe.specularMap&&(Se.specularMap.value=fe.specularMap,te(fe.specularMap,Se.specularMapTransform)),fe.alphaTest>0&&(Se.alphaTest.value=fe.alphaTest);const be=$.get(fe),xe=be.envMap,ue=be.envMapRotation;xe&&(Se.envMap.value=xe,_e1.copy(ue),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,xe.isCubeTexture&&xe.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),Se.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),Se.flipEnvMap.value=xe.isCubeTexture&&xe.isRenderTargetTexture===!1?-1:1,Se.reflectivity.value=fe.reflectivity,Se.ior.value=fe.ior,Se.refractionRatio.value=fe.refractionRatio),fe.lightMap&&(Se.lightMap.value=fe.lightMap,Se.lightMapIntensity.value=fe.lightMapIntensity,te(fe.lightMap,Se.lightMapTransform)),fe.aoMap&&(Se.aoMap.value=fe.aoMap,Se.aoMapIntensity.value=fe.aoMapIntensity,te(fe.aoMap,Se.aoMapTransform))}function le(Se,fe){Se.diffuse.value.copy(fe.color),Se.opacity.value=fe.opacity,fe.map&&(Se.map.value=fe.map,te(fe.map,Se.mapTransform))}function oe(Se,fe){Se.dashSize.value=fe.dashSize,Se.totalSize.value=fe.dashSize+fe.gapSize,Se.scale.value=fe.scale}function ce(Se,fe,be,xe){Se.diffuse.value.copy(fe.color),Se.opacity.value=fe.opacity,Se.size.value=fe.size*be,Se.scale.value=xe*.5,fe.map&&(Se.map.value=fe.map,te(fe.map,Se.uvTransform)),fe.alphaMap&&(Se.alphaMap.value=fe.alphaMap,te(fe.alphaMap,Se.alphaMapTransform)),fe.alphaTest>0&&(Se.alphaTest.value=fe.alphaTest)}function ae(Se,fe){Se.diffuse.value.copy(fe.color),Se.opacity.value=fe.opacity,Se.rotation.value=fe.rotation,fe.map&&(Se.map.value=fe.map,te(fe.map,Se.mapTransform)),fe.alphaMap&&(Se.alphaMap.value=fe.alphaMap,te(fe.alphaMap,Se.alphaMapTransform)),fe.alphaTest>0&&(Se.alphaTest.value=fe.alphaTest)}function he(Se,fe){Se.specular.value.copy(fe.specular),Se.shininess.value=Math.max(fe.shininess,1e-4)}function de(Se,fe){fe.gradientMap&&(Se.gradientMap.value=fe.gradientMap)}function pe(Se,fe){Se.metalness.value=fe.metalness,fe.metalnessMap&&(Se.metalnessMap.value=fe.metalnessMap,te(fe.metalnessMap,Se.metalnessMapTransform)),Se.roughness.value=fe.roughness,fe.roughnessMap&&(Se.roughnessMap.value=fe.roughnessMap,te(fe.roughnessMap,Se.roughnessMapTransform)),fe.envMap&&(Se.envMapIntensity.value=fe.envMapIntensity)}function re(Se,fe,be){Se.ior.value=fe.ior,fe.sheen>0&&(Se.sheenColor.value.copy(fe.sheenColor).multiplyScalar(fe.sheen),Se.sheenRoughness.value=fe.sheenRoughness,fe.sheenColorMap&&(Se.sheenColorMap.value=fe.sheenColorMap,te(fe.sheenColorMap,Se.sheenColorMapTransform)),fe.sheenRoughnessMap&&(Se.sheenRoughnessMap.value=fe.sheenRoughnessMap,te(fe.sheenRoughnessMap,Se.sheenRoughnessMapTransform))),fe.clearcoat>0&&(Se.clearcoat.value=fe.clearcoat,Se.clearcoatRoughness.value=fe.clearcoatRoughness,fe.clearcoatMap&&(Se.clearcoatMap.value=fe.clearcoatMap,te(fe.clearcoatMap,Se.clearcoatMapTransform)),fe.clearcoatRoughnessMap&&(Se.clearcoatRoughnessMap.value=fe.clearcoatRoughnessMap,te(fe.clearcoatRoughnessMap,Se.clearcoatRoughnessMapTransform)),fe.clearcoatNormalMap&&(Se.clearcoatNormalMap.value=fe.clearcoatNormalMap,te(fe.clearcoatNormalMap,Se.clearcoatNormalMapTransform),Se.clearcoatNormalScale.value.copy(fe.clearcoatNormalScale),fe.side===BackSide&&Se.clearcoatNormalScale.value.negate())),fe.dispersion>0&&(Se.dispersion.value=fe.dispersion),fe.iridescence>0&&(Se.iridescence.value=fe.iridescence,Se.iridescenceIOR.value=fe.iridescenceIOR,Se.iridescenceThicknessMinimum.value=fe.iridescenceThicknessRange[0],Se.iridescenceThicknessMaximum.value=fe.iridescenceThicknessRange[1],fe.iridescenceMap&&(Se.iridescenceMap.value=fe.iridescenceMap,te(fe.iridescenceMap,Se.iridescenceMapTransform)),fe.iridescenceThicknessMap&&(Se.iridescenceThicknessMap.value=fe.iridescenceThicknessMap,te(fe.iridescenceThicknessMap,Se.iridescenceThicknessMapTransform))),fe.transmission>0&&(Se.transmission.value=fe.transmission,Se.transmissionSamplerMap.value=be.texture,Se.transmissionSamplerSize.value.set(be.width,be.height),fe.transmissionMap&&(Se.transmissionMap.value=fe.transmissionMap,te(fe.transmissionMap,Se.transmissionMapTransform)),Se.thickness.value=fe.thickness,fe.thicknessMap&&(Se.thicknessMap.value=fe.thicknessMap,te(fe.thicknessMap,Se.thicknessMapTransform)),Se.attenuationDistance.value=fe.attenuationDistance,Se.attenuationColor.value.copy(fe.attenuationColor)),fe.anisotropy>0&&(Se.anisotropyVector.value.set(fe.anisotropy*Math.cos(fe.anisotropyRotation),fe.anisotropy*Math.sin(fe.anisotropyRotation)),fe.anisotropyMap&&(Se.anisotropyMap.value=fe.anisotropyMap,te(fe.anisotropyMap,Se.anisotropyMapTransform))),Se.specularIntensity.value=fe.specularIntensity,Se.specularColor.value.copy(fe.specularColor),fe.specularColorMap&&(Se.specularColorMap.value=fe.specularColorMap,te(fe.specularColorMap,Se.specularColorMapTransform)),fe.specularIntensityMap&&(Se.specularIntensityMap.value=fe.specularIntensityMap,te(fe.specularIntensityMap,Se.specularIntensityMapTransform))}function Ae(Se,fe){fe.matcap&&(Se.matcap.value=fe.matcap)}function ge(Se,fe){const be=$.get(fe).light;Se.referencePosition.value.setFromMatrixPosition(be.matrixWorld),Se.nearDistance.value=be.shadow.camera.near,Se.farDistance.value=be.shadow.camera.far}return{refreshFogUniforms:ne,refreshMaterialUniforms:ie}}function WebGLUniformsGroups(ee,$,te,ne){let ie={},se={},le=[];const oe=ee.getParameter(ee.MAX_UNIFORM_BUFFER_BINDINGS);function ce(be,xe){const ue=xe.program;ne.uniformBlockBinding(be,ue)}function ae(be,xe){let ue=ie[be.id];ue===void 0&&(Ae(be),ue=he(be),ie[be.id]=ue,be.addEventListener("dispose",Se));const we=xe.program;ne.updateUBOMapping(be,we);const Fe=$.render.frame;se[be.id]!==Fe&&(pe(be),se[be.id]=Fe)}function he(be){const xe=de();be.__bindingPointIndex=xe;const ue=ee.createBuffer(),we=be.__size,Fe=be.usage;return ee.bindBuffer(ee.UNIFORM_BUFFER,ue),ee.bufferData(ee.UNIFORM_BUFFER,we,Fe),ee.bindBuffer(ee.UNIFORM_BUFFER,null),ee.bindBufferBase(ee.UNIFORM_BUFFER,xe,ue),ue}function de(){for(let be=0;be<oe;be++)if(le.indexOf(be)===-1)return le.push(be),be;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function pe(be){const xe=ie[be.id],ue=be.uniforms,we=be.__cache;ee.bindBuffer(ee.UNIFORM_BUFFER,xe);for(let Fe=0,_e=ue.length;Fe<_e;Fe++){const Ee=Array.isArray(ue[Fe])?ue[Fe]:[ue[Fe]];for(let Ce=0,ye=Ee.length;Ce<ye;Ce++){const Re=Ee[Ce];if(re(Re,Fe,Ce,we)===!0){const Ye=Re.__offset,ke=Array.isArray(Re.value)?Re.value:[Re.value];let $e=0;for(let Be=0;Be<ke.length;Be++){const Pe=ke[Be],Ue=ge(Pe);typeof Pe=="number"||typeof Pe=="boolean"?(Re.__data[0]=Pe,ee.bufferSubData(ee.UNIFORM_BUFFER,Ye+$e,Re.__data)):Pe.isMatrix3?(Re.__data[0]=Pe.elements[0],Re.__data[1]=Pe.elements[1],Re.__data[2]=Pe.elements[2],Re.__data[3]=0,Re.__data[4]=Pe.elements[3],Re.__data[5]=Pe.elements[4],Re.__data[6]=Pe.elements[5],Re.__data[7]=0,Re.__data[8]=Pe.elements[6],Re.__data[9]=Pe.elements[7],Re.__data[10]=Pe.elements[8],Re.__data[11]=0):(Pe.toArray(Re.__data,$e),$e+=Ue.storage/Float32Array.BYTES_PER_ELEMENT)}ee.bufferSubData(ee.UNIFORM_BUFFER,Ye,Re.__data)}}}ee.bindBuffer(ee.UNIFORM_BUFFER,null)}function re(be,xe,ue,we){const Fe=be.value,_e=xe+"_"+ue;if(we[_e]===void 0)return typeof Fe=="number"||typeof Fe=="boolean"?we[_e]=Fe:we[_e]=Fe.clone(),!0;{const Ee=we[_e];if(typeof Fe=="number"||typeof Fe=="boolean"){if(Ee!==Fe)return we[_e]=Fe,!0}else if(Ee.equals(Fe)===!1)return Ee.copy(Fe),!0}return!1}function Ae(be){const xe=be.uniforms;let ue=0;const we=16;for(let _e=0,Ee=xe.length;_e<Ee;_e++){const Ce=Array.isArray(xe[_e])?xe[_e]:[xe[_e]];for(let ye=0,Re=Ce.length;ye<Re;ye++){const Ye=Ce[ye],ke=Array.isArray(Ye.value)?Ye.value:[Ye.value];for(let $e=0,Be=ke.length;$e<Be;$e++){const Pe=ke[$e],Ue=ge(Pe),Te=ue%we,Me=Te%Ue.boundary,Ve=Te+Me;ue+=Me,Ve!==0&&we-Ve<Ue.storage&&(ue+=we-Ve),Ye.__data=new Float32Array(Ue.storage/Float32Array.BYTES_PER_ELEMENT),Ye.__offset=ue,ue+=Ue.storage}}}const Fe=ue%we;return Fe>0&&(ue+=we-Fe),be.__size=ue,be.__cache={},this}function ge(be){const xe={boundary:0,storage:0};return typeof be=="number"||typeof be=="boolean"?(xe.boundary=4,xe.storage=4):be.isVector2?(xe.boundary=8,xe.storage=8):be.isVector3||be.isColor?(xe.boundary=16,xe.storage=12):be.isVector4?(xe.boundary=16,xe.storage=16):be.isMatrix3?(xe.boundary=48,xe.storage=48):be.isMatrix4?(xe.boundary=64,xe.storage=64):be.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",be),xe}function Se(be){const xe=be.target;xe.removeEventListener("dispose",Se);const ue=le.indexOf(xe.__bindingPointIndex);le.splice(ue,1),ee.deleteBuffer(ie[xe.id]),delete ie[xe.id],delete se[xe.id]}function fe(){for(const be in ie)ee.deleteBuffer(ie[be]);le=[],ie={},se={}}return{bind:ce,update:ae,dispose:fe}}class WebGLRenderer{constructor($={}){const{canvas:te=createCanvasElement(),context:ne=null,depth:ie=!0,stencil:se=!1,alpha:le=!1,antialias:oe=!1,premultipliedAlpha:ce=!0,preserveDrawingBuffer:ae=!1,powerPreference:he="default",failIfMajorPerformanceCaveat:de=!1,reverseDepthBuffer:pe=!1}=$;this.isWebGLRenderer=!0;let re;if(ne!==null){if(typeof WebGLRenderingContext<"u"&&ne instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");re=ne.getContextAttributes().alpha}else re=le;const Ae=new Uint32Array(4),ge=new Int32Array(4);let Se=null,fe=null;const be=[],xe=[];this.domElement=te,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const ue=this;let we=!1,Fe=0,_e=0,Ee=null,Ce=-1,ye=null;const Re=new Vector4,Ye=new Vector4;let ke=null;const $e=new Color(0);let Be=0,Pe=te.width,Ue=te.height,Te=1,Me=null,Ve=null;const He=new Vector4(0,0,Pe,Ue),Ie=new Vector4(0,0,Pe,Ue);let Le=!1;const Oe=new Frustum;let Ne=!1,qe=!1;this.transmissionResolutionScale=1;const it=new Matrix4,tt=new Matrix4,Xe=new Vector3,Ze=new Vector4,ot={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ge=!1;function Ke(){return Ee===null?Te:1}let je=ne;function nt(At,Dt){return te.getContext(At,Dt)}try{const At={alpha:!0,depth:ie,stencil:se,antialias:oe,premultipliedAlpha:ce,preserveDrawingBuffer:ae,powerPreference:he,failIfMajorPerformanceCaveat:de};if("setAttribute"in te&&te.setAttribute("data-engine",`three.js r${REVISION}`),te.addEventListener("webglcontextlost",Ut,!1),te.addEventListener("webglcontextrestored",Yt,!1),te.addEventListener("webglcontextcreationerror",kt,!1),je===null){const Dt="webgl2";if(je=nt(Dt,At),je===null)throw nt(Dt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(At){throw console.error("THREE.WebGLRenderer: "+At.message),At}let Qe,We,rt,et,ct,at,Je,lt,ut,ft,pt,mt,xt,vt,wt,_t,Tt,Lt,jt,Bt,St,Ft,Ct,yt;function bt(){Qe=new WebGLExtensions(je),Qe.init(),Ft=new WebGLUtils(je,Qe),We=new WebGLCapabilities(je,Qe,$,Ft),rt=new WebGLState(je,Qe),We.reverseDepthBuffer&&pe&&rt.buffers.depth.setReversed(!0),et=new WebGLInfo(je),ct=new WebGLProperties,at=new WebGLTextures(je,Qe,rt,ct,We,Ft,et),Je=new WebGLCubeMaps(ue),lt=new WebGLCubeUVMaps(ue),ut=new WebGLAttributes(je),Ct=new WebGLBindingStates(je,ut),ft=new WebGLGeometries(je,ut,et,Ct),pt=new WebGLObjects(je,ft,ut,et),jt=new WebGLMorphtargets(je,We,at),_t=new WebGLClipping(ct),mt=new WebGLPrograms(ue,Je,lt,Qe,We,Ct,_t),xt=new WebGLMaterials(ue,ct),vt=new WebGLRenderLists,wt=new WebGLRenderStates(Qe),Lt=new WebGLBackground(ue,Je,lt,rt,pt,re,ce),Tt=new WebGLShadowMap(ue,pt,We),yt=new WebGLUniformsGroups(je,et,We,rt),Bt=new WebGLBufferRenderer(je,Qe,et),St=new WebGLIndexedBufferRenderer(je,Qe,et),et.programs=mt.programs,ue.capabilities=We,ue.extensions=Qe,ue.properties=ct,ue.renderLists=vt,ue.shadowMap=Tt,ue.state=rt,ue.info=et}bt();const Pt=new WebXRManager(ue,je);this.xr=Pt,this.getContext=function(){return je},this.getContextAttributes=function(){return je.getContextAttributes()},this.forceContextLoss=function(){const At=Qe.get("WEBGL_lose_context");At&&At.loseContext()},this.forceContextRestore=function(){const At=Qe.get("WEBGL_lose_context");At&&At.restoreContext()},this.getPixelRatio=function(){return Te},this.setPixelRatio=function(At){At!==void 0&&(Te=At,this.setSize(Pe,Ue,!1))},this.getSize=function(At){return At.set(Pe,Ue)},this.setSize=function(At,Dt,Nt=!0){if(Pt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Pe=At,Ue=Dt,te.width=Math.floor(At*Te),te.height=Math.floor(Dt*Te),Nt===!0&&(te.style.width=At+"px",te.style.height=Dt+"px"),this.setViewport(0,0,At,Dt)},this.getDrawingBufferSize=function(At){return At.set(Pe*Te,Ue*Te).floor()},this.setDrawingBufferSize=function(At,Dt,Nt){Pe=At,Ue=Dt,Te=Nt,te.width=Math.floor(At*Nt),te.height=Math.floor(Dt*Nt),this.setViewport(0,0,At,Dt)},this.getCurrentViewport=function(At){return At.copy(Re)},this.getViewport=function(At){return At.copy(He)},this.setViewport=function(At,Dt,Nt,zt){At.isVector4?He.set(At.x,At.y,At.z,At.w):He.set(At,Dt,Nt,zt),rt.viewport(Re.copy(He).multiplyScalar(Te).round())},this.getScissor=function(At){return At.copy(Ie)},this.setScissor=function(At,Dt,Nt,zt){At.isVector4?Ie.set(At.x,At.y,At.z,At.w):Ie.set(At,Dt,Nt,zt),rt.scissor(Ye.copy(Ie).multiplyScalar(Te).round())},this.getScissorTest=function(){return Le},this.setScissorTest=function(At){rt.setScissorTest(Le=At)},this.setOpaqueSort=function(At){Me=At},this.setTransparentSort=function(At){Ve=At},this.getClearColor=function(At){return At.copy(Lt.getClearColor())},this.setClearColor=function(){Lt.setClearColor(...arguments)},this.getClearAlpha=function(){return Lt.getClearAlpha()},this.setClearAlpha=function(){Lt.setClearAlpha(...arguments)},this.clear=function(At=!0,Dt=!0,Nt=!0){let zt=0;if(At){let Ht=!1;if(Ee!==null){const rn=Ee.texture.format;Ht=rn===RGBAIntegerFormat||rn===RGIntegerFormat||rn===RedIntegerFormat}if(Ht){const rn=Ee.texture.type,dn=rn===UnsignedByteType||rn===UnsignedIntType||rn===UnsignedShortType||rn===UnsignedInt248Type||rn===UnsignedShort4444Type||rn===UnsignedShort5551Type,cn=Lt.getClearColor(),Rt=Lt.getClearAlpha(),Vt=cn.r,Wt=cn.g,Gt=cn.b;dn?(Ae[0]=Vt,Ae[1]=Wt,Ae[2]=Gt,Ae[3]=Rt,je.clearBufferuiv(je.COLOR,0,Ae)):(ge[0]=Vt,ge[1]=Wt,ge[2]=Gt,ge[3]=Rt,je.clearBufferiv(je.COLOR,0,ge))}else zt|=je.COLOR_BUFFER_BIT}Dt&&(zt|=je.DEPTH_BUFFER_BIT),Nt&&(zt|=je.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),je.clear(zt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){te.removeEventListener("webglcontextlost",Ut,!1),te.removeEventListener("webglcontextrestored",Yt,!1),te.removeEventListener("webglcontextcreationerror",kt,!1),Lt.dispose(),vt.dispose(),wt.dispose(),ct.dispose(),Je.dispose(),lt.dispose(),pt.dispose(),Ct.dispose(),yt.dispose(),mt.dispose(),Pt.dispose(),Pt.removeEventListener("sessionstart",sn),Pt.removeEventListener("sessionend",yn),On.stop()};function Ut(At){At.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),we=!0}function Yt(){console.log("THREE.WebGLRenderer: Context Restored."),we=!1;const At=et.autoReset,Dt=Tt.enabled,Nt=Tt.autoUpdate,zt=Tt.needsUpdate,Ht=Tt.type;bt(),et.autoReset=At,Tt.enabled=Dt,Tt.autoUpdate=Nt,Tt.needsUpdate=zt,Tt.type=Ht}function kt(At){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",At.statusMessage)}function Ot(At){const Dt=At.target;Dt.removeEventListener("dispose",Ot),Et(Dt)}function Et(At){nn(At),ct.remove(At)}function nn(At){const Dt=ct.get(At).programs;Dt!==void 0&&(Dt.forEach(function(Nt){mt.releaseProgram(Nt)}),At.isShaderMaterial&&mt.releaseShaderCache(At))}this.renderBufferDirect=function(At,Dt,Nt,zt,Ht,rn){Dt===null&&(Dt=ot);const dn=Ht.isMesh&&Ht.matrixWorld.determinant()<0,cn=ni(At,Dt,Nt,zt,Ht);rt.setMaterial(zt,dn);let Rt=Nt.index,Vt=1;if(zt.wireframe===!0){if(Rt=ft.getWireframeAttribute(Nt),Rt===void 0)return;Vt=2}const Wt=Nt.drawRange,Gt=Nt.attributes.position;let pn=Wt.start*Vt,An=(Wt.start+Wt.count)*Vt;rn!==null&&(pn=Math.max(pn,rn.start*Vt),An=Math.min(An,(rn.start+rn.count)*Vt)),Rt!==null?(pn=Math.max(pn,0),An=Math.min(An,Rt.count)):Gt!=null&&(pn=Math.max(pn,0),An=Math.min(An,Gt.count));const zn=An-pn;if(zn<0||zn===1/0)return;Ct.setup(Ht,zt,cn,Nt,Rt);let Tn,En=Bt;if(Rt!==null&&(Tn=ut.get(Rt),En=St,En.setIndex(Tn)),Ht.isMesh)zt.wireframe===!0?(rt.setLineWidth(zt.wireframeLinewidth*Ke()),En.setMode(je.LINES)):En.setMode(je.TRIANGLES);else if(Ht.isLine){let Rn=zt.linewidth;Rn===void 0&&(Rn=1),rt.setLineWidth(Rn*Ke()),Ht.isLineSegments?En.setMode(je.LINES):Ht.isLineLoop?En.setMode(je.LINE_LOOP):En.setMode(je.LINE_STRIP)}else Ht.isPoints?En.setMode(je.POINTS):Ht.isSprite&&En.setMode(je.TRIANGLES);if(Ht.isBatchedMesh)if(Ht._multiDrawInstances!==null)warnOnce("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),En.renderMultiDrawInstances(Ht._multiDrawStarts,Ht._multiDrawCounts,Ht._multiDrawCount,Ht._multiDrawInstances);else if(Qe.get("WEBGL_multi_draw"))En.renderMultiDraw(Ht._multiDrawStarts,Ht._multiDrawCounts,Ht._multiDrawCount);else{const Rn=Ht._multiDrawStarts,Zn=Ht._multiDrawCounts,Yn=Ht._multiDrawCount,ki=Rt?ut.get(Rt).bytesPerElement:1,Gi=ct.get(zt).currentProgram.getUniforms();for(let Mi=0;Mi<Yn;Mi++)Gi.setValue(je,"_gl_DrawID",Mi),En.render(Rn[Mi]/ki,Zn[Mi])}else if(Ht.isInstancedMesh)En.renderInstances(pn,zn,Ht.count);else if(Nt.isInstancedBufferGeometry){const Rn=Nt._maxInstanceCount!==void 0?Nt._maxInstanceCount:1/0,Zn=Math.min(Nt.instanceCount,Rn);En.renderInstances(pn,zn,Zn)}else En.render(pn,zn)};function en(At,Dt,Nt){At.transparent===!0&&At.side===DoubleSide&&At.forceSinglePass===!1?(At.side=BackSide,At.needsUpdate=!0,_n(At,Dt,Nt),At.side=FrontSide,At.needsUpdate=!0,_n(At,Dt,Nt),At.side=DoubleSide):_n(At,Dt,Nt)}this.compile=function(At,Dt,Nt=null){Nt===null&&(Nt=At),fe=wt.get(Nt),fe.init(Dt),xe.push(fe),Nt.traverseVisible(function(Ht){Ht.isLight&&Ht.layers.test(Dt.layers)&&(fe.pushLight(Ht),Ht.castShadow&&fe.pushShadow(Ht))}),At!==Nt&&At.traverseVisible(function(Ht){Ht.isLight&&Ht.layers.test(Dt.layers)&&(fe.pushLight(Ht),Ht.castShadow&&fe.pushShadow(Ht))}),fe.setupLights();const zt=new Set;return At.traverse(function(Ht){if(!(Ht.isMesh||Ht.isPoints||Ht.isLine||Ht.isSprite))return;const rn=Ht.material;if(rn)if(Array.isArray(rn))for(let dn=0;dn<rn.length;dn++){const cn=rn[dn];en(cn,Nt,Ht),zt.add(cn)}else en(rn,Nt,Ht),zt.add(rn)}),fe=xe.pop(),zt},this.compileAsync=function(At,Dt,Nt=null){const zt=this.compile(At,Dt,Nt);return new Promise(Ht=>{function rn(){if(zt.forEach(function(dn){ct.get(dn).currentProgram.isReady()&&zt.delete(dn)}),zt.size===0){Ht(At);return}setTimeout(rn,10)}Qe.get("KHR_parallel_shader_compile")!==null?rn():setTimeout(rn,10)})};let an=null;function Sn(At){an&&an(At)}function sn(){On.stop()}function yn(){On.start()}const On=new WebGLAnimation;On.setAnimationLoop(Sn),typeof self<"u"&&On.setContext(self),this.setAnimationLoop=function(At){an=At,Pt.setAnimationLoop(At),At===null?On.stop():On.start()},Pt.addEventListener("sessionstart",sn),Pt.addEventListener("sessionend",yn),this.render=function(At,Dt){if(Dt!==void 0&&Dt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(we===!0)return;if(At.matrixWorldAutoUpdate===!0&&At.updateMatrixWorld(),Dt.parent===null&&Dt.matrixWorldAutoUpdate===!0&&Dt.updateMatrixWorld(),Pt.enabled===!0&&Pt.isPresenting===!0&&(Pt.cameraAutoUpdate===!0&&Pt.updateCamera(Dt),Dt=Pt.getCamera()),At.isScene===!0&&At.onBeforeRender(ue,At,Dt,Ee),fe=wt.get(At,xe.length),fe.init(Dt),xe.push(fe),tt.multiplyMatrices(Dt.projectionMatrix,Dt.matrixWorldInverse),Oe.setFromProjectionMatrix(tt),qe=this.localClippingEnabled,Ne=_t.init(this.clippingPlanes,qe),Se=vt.get(At,be.length),Se.init(),be.push(Se),Pt.enabled===!0&&Pt.isPresenting===!0){const rn=ue.xr.getDepthSensingMesh();rn!==null&&tn(rn,Dt,-1/0,ue.sortObjects)}tn(At,Dt,0,ue.sortObjects),Se.finish(),ue.sortObjects===!0&&Se.sort(Me,Ve),Ge=Pt.enabled===!1||Pt.isPresenting===!1||Pt.hasDepthSensing()===!1,Ge&&Lt.addToRenderList(Se,At),this.info.render.frame++,Ne===!0&&_t.beginShadows();const Nt=fe.state.shadowsArray;Tt.render(Nt,At,Dt),Ne===!0&&_t.endShadows(),this.info.autoReset===!0&&this.info.reset();const zt=Se.opaque,Ht=Se.transmissive;if(fe.setupLights(),Dt.isArrayCamera){const rn=Dt.cameras;if(Ht.length>0)for(let dn=0,cn=rn.length;dn<cn;dn++){const Rt=rn[dn];xn(zt,Ht,At,Rt)}Ge&&Lt.render(At);for(let dn=0,cn=rn.length;dn<cn;dn++){const Rt=rn[dn];Dn(Se,At,Rt,Rt.viewport)}}else Ht.length>0&&xn(zt,Ht,At,Dt),Ge&&Lt.render(At),Dn(Se,At,Dt);Ee!==null&&_e===0&&(at.updateMultisampleRenderTarget(Ee),at.updateRenderTargetMipmap(Ee)),At.isScene===!0&&At.onAfterRender(ue,At,Dt),Ct.resetDefaultState(),Ce=-1,ye=null,xe.pop(),xe.length>0?(fe=xe[xe.length-1],Ne===!0&&_t.setGlobalState(ue.clippingPlanes,fe.state.camera)):fe=null,be.pop(),be.length>0?Se=be[be.length-1]:Se=null};function tn(At,Dt,Nt,zt){if(At.visible===!1)return;if(At.layers.test(Dt.layers)){if(At.isGroup)Nt=At.renderOrder;else if(At.isLOD)At.autoUpdate===!0&&At.update(Dt);else if(At.isLight)fe.pushLight(At),At.castShadow&&fe.pushShadow(At);else if(At.isSprite){if(!At.frustumCulled||Oe.intersectsSprite(At)){zt&&Ze.setFromMatrixPosition(At.matrixWorld).applyMatrix4(tt);const dn=pt.update(At),cn=At.material;cn.visible&&Se.push(At,dn,cn,Nt,Ze.z,null)}}else if((At.isMesh||At.isLine||At.isPoints)&&(!At.frustumCulled||Oe.intersectsObject(At))){const dn=pt.update(At),cn=At.material;if(zt&&(At.boundingSphere!==void 0?(At.boundingSphere===null&&At.computeBoundingSphere(),Ze.copy(At.boundingSphere.center)):(dn.boundingSphere===null&&dn.computeBoundingSphere(),Ze.copy(dn.boundingSphere.center)),Ze.applyMatrix4(At.matrixWorld).applyMatrix4(tt)),Array.isArray(cn)){const Rt=dn.groups;for(let Vt=0,Wt=Rt.length;Vt<Wt;Vt++){const Gt=Rt[Vt],pn=cn[Gt.materialIndex];pn&&pn.visible&&Se.push(At,dn,pn,Nt,Ze.z,Gt)}}else cn.visible&&Se.push(At,dn,cn,Nt,Ze.z,null)}}const rn=At.children;for(let dn=0,cn=rn.length;dn<cn;dn++)tn(rn[dn],Dt,Nt,zt)}function Dn(At,Dt,Nt,zt){const Ht=At.opaque,rn=At.transmissive,dn=At.transparent;fe.setupLightsView(Nt),Ne===!0&&_t.setGlobalState(ue.clippingPlanes,Nt),zt&&rt.viewport(Re.copy(zt)),Ht.length>0&&Hn(Ht,Dt,Nt),rn.length>0&&Hn(rn,Dt,Nt),dn.length>0&&Hn(dn,Dt,Nt),rt.buffers.depth.setTest(!0),rt.buffers.depth.setMask(!0),rt.buffers.color.setMask(!0),rt.setPolygonOffset(!1)}function xn(At,Dt,Nt,zt){if((Nt.isScene===!0?Nt.overrideMaterial:null)!==null)return;fe.state.transmissionRenderTarget[zt.id]===void 0&&(fe.state.transmissionRenderTarget[zt.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:Qe.has("EXT_color_buffer_half_float")||Qe.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:se,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const rn=fe.state.transmissionRenderTarget[zt.id],dn=zt.viewport||Re;rn.setSize(dn.z*ue.transmissionResolutionScale,dn.w*ue.transmissionResolutionScale);const cn=ue.getRenderTarget();ue.setRenderTarget(rn),ue.getClearColor($e),Be=ue.getClearAlpha(),Be<1&&ue.setClearColor(16777215,.5),ue.clear(),Ge&&Lt.render(Nt);const Rt=ue.toneMapping;ue.toneMapping=NoToneMapping;const Vt=zt.viewport;if(zt.viewport!==void 0&&(zt.viewport=void 0),fe.setupLightsView(zt),Ne===!0&&_t.setGlobalState(ue.clippingPlanes,zt),Hn(At,Nt,zt),at.updateMultisampleRenderTarget(rn),at.updateRenderTargetMipmap(rn),Qe.has("WEBGL_multisampled_render_to_texture")===!1){let Wt=!1;for(let Gt=0,pn=Dt.length;Gt<pn;Gt++){const An=Dt[Gt],zn=An.object,Tn=An.geometry,En=An.material,Rn=An.group;if(En.side===DoubleSide&&zn.layers.test(zt.layers)){const Zn=En.side;En.side=BackSide,En.needsUpdate=!0,In(zn,Nt,zt,Tn,En,Rn),En.side=Zn,En.needsUpdate=!0,Wt=!0}}Wt===!0&&(at.updateMultisampleRenderTarget(rn),at.updateRenderTargetMipmap(rn))}ue.setRenderTarget(cn),ue.setClearColor($e,Be),Vt!==void 0&&(zt.viewport=Vt),ue.toneMapping=Rt}function Hn(At,Dt,Nt){const zt=Dt.isScene===!0?Dt.overrideMaterial:null;for(let Ht=0,rn=At.length;Ht<rn;Ht++){const dn=At[Ht],cn=dn.object,Rt=dn.geometry,Vt=zt===null?dn.material:zt,Wt=dn.group;cn.layers.test(Nt.layers)&&In(cn,Dt,Nt,Rt,Vt,Wt)}}function In(At,Dt,Nt,zt,Ht,rn){At.onBeforeRender(ue,Dt,Nt,zt,Ht,rn),At.modelViewMatrix.multiplyMatrices(Nt.matrixWorldInverse,At.matrixWorld),At.normalMatrix.getNormalMatrix(At.modelViewMatrix),Ht.onBeforeRender(ue,Dt,Nt,zt,At,rn),Ht.transparent===!0&&Ht.side===DoubleSide&&Ht.forceSinglePass===!1?(Ht.side=BackSide,Ht.needsUpdate=!0,ue.renderBufferDirect(Nt,Dt,zt,Ht,At,rn),Ht.side=FrontSide,Ht.needsUpdate=!0,ue.renderBufferDirect(Nt,Dt,zt,Ht,At,rn),Ht.side=DoubleSide):ue.renderBufferDirect(Nt,Dt,zt,Ht,At,rn),At.onAfterRender(ue,Dt,Nt,zt,Ht,rn)}function _n(At,Dt,Nt){Dt.isScene!==!0&&(Dt=ot);const zt=ct.get(At),Ht=fe.state.lights,rn=fe.state.shadowsArray,dn=Ht.state.version,cn=mt.getParameters(At,Ht.state,rn,Dt,Nt),Rt=mt.getProgramCacheKey(cn);let Vt=zt.programs;zt.environment=At.isMeshStandardMaterial?Dt.environment:null,zt.fog=Dt.fog,zt.envMap=(At.isMeshStandardMaterial?lt:Je).get(At.envMap||zt.environment),zt.envMapRotation=zt.environment!==null&&At.envMap===null?Dt.environmentRotation:At.envMapRotation,Vt===void 0&&(At.addEventListener("dispose",Ot),Vt=new Map,zt.programs=Vt);let Wt=Vt.get(Rt);if(Wt!==void 0){if(zt.currentProgram===Wt&&zt.lightsStateVersion===dn)return ei(At,cn),Wt}else cn.uniforms=mt.getUniforms(At),At.onBeforeCompile(cn,ue),Wt=mt.acquireProgram(cn,Rt),Vt.set(Rt,Wt),zt.uniforms=cn.uniforms;const Gt=zt.uniforms;return(!At.isShaderMaterial&&!At.isRawShaderMaterial||At.clipping===!0)&&(Gt.clippingPlanes=_t.uniform),ei(At,cn),zt.needsLights=Kt(At),zt.lightsStateVersion=dn,zt.needsLights&&(Gt.ambientLightColor.value=Ht.state.ambient,Gt.lightProbe.value=Ht.state.probe,Gt.directionalLights.value=Ht.state.directional,Gt.directionalLightShadows.value=Ht.state.directionalShadow,Gt.spotLights.value=Ht.state.spot,Gt.spotLightShadows.value=Ht.state.spotShadow,Gt.rectAreaLights.value=Ht.state.rectArea,Gt.ltc_1.value=Ht.state.rectAreaLTC1,Gt.ltc_2.value=Ht.state.rectAreaLTC2,Gt.pointLights.value=Ht.state.point,Gt.pointLightShadows.value=Ht.state.pointShadow,Gt.hemisphereLights.value=Ht.state.hemi,Gt.directionalShadowMap.value=Ht.state.directionalShadowMap,Gt.directionalShadowMatrix.value=Ht.state.directionalShadowMatrix,Gt.spotShadowMap.value=Ht.state.spotShadowMap,Gt.spotLightMatrix.value=Ht.state.spotLightMatrix,Gt.spotLightMap.value=Ht.state.spotLightMap,Gt.pointShadowMap.value=Ht.state.pointShadowMap,Gt.pointShadowMatrix.value=Ht.state.pointShadowMatrix),zt.currentProgram=Wt,zt.uniformsList=null,Wt}function wn(At){if(At.uniformsList===null){const Dt=At.currentProgram.getUniforms();At.uniformsList=WebGLUniforms.seqWithValue(Dt.seq,At.uniforms)}return At.uniformsList}function ei(At,Dt){const Nt=ct.get(At);Nt.outputColorSpace=Dt.outputColorSpace,Nt.batching=Dt.batching,Nt.batchingColor=Dt.batchingColor,Nt.instancing=Dt.instancing,Nt.instancingColor=Dt.instancingColor,Nt.instancingMorph=Dt.instancingMorph,Nt.skinning=Dt.skinning,Nt.morphTargets=Dt.morphTargets,Nt.morphNormals=Dt.morphNormals,Nt.morphColors=Dt.morphColors,Nt.morphTargetsCount=Dt.morphTargetsCount,Nt.numClippingPlanes=Dt.numClippingPlanes,Nt.numIntersection=Dt.numClipIntersection,Nt.vertexAlphas=Dt.vertexAlphas,Nt.vertexTangents=Dt.vertexTangents,Nt.toneMapping=Dt.toneMapping}function ni(At,Dt,Nt,zt,Ht){Dt.isScene!==!0&&(Dt=ot),at.resetTextureUnits();const rn=Dt.fog,dn=zt.isMeshStandardMaterial?Dt.environment:null,cn=Ee===null?ue.outputColorSpace:Ee.isXRRenderTarget===!0?Ee.texture.colorSpace:LinearSRGBColorSpace,Rt=(zt.isMeshStandardMaterial?lt:Je).get(zt.envMap||dn),Vt=zt.vertexColors===!0&&!!Nt.attributes.color&&Nt.attributes.color.itemSize===4,Wt=!!Nt.attributes.tangent&&(!!zt.normalMap||zt.anisotropy>0),Gt=!!Nt.morphAttributes.position,pn=!!Nt.morphAttributes.normal,An=!!Nt.morphAttributes.color;let zn=NoToneMapping;zt.toneMapped&&(Ee===null||Ee.isXRRenderTarget===!0)&&(zn=ue.toneMapping);const Tn=Nt.morphAttributes.position||Nt.morphAttributes.normal||Nt.morphAttributes.color,En=Tn!==void 0?Tn.length:0,Rn=ct.get(zt),Zn=fe.state.lights;if(Ne===!0&&(qe===!0||At!==ye)){const Ti=At===ye&&zt.id===Ce;_t.setState(zt,At,Ti)}let Yn=!1;zt.version===Rn.__version?(Rn.needsLights&&Rn.lightsStateVersion!==Zn.state.version||Rn.outputColorSpace!==cn||Ht.isBatchedMesh&&Rn.batching===!1||!Ht.isBatchedMesh&&Rn.batching===!0||Ht.isBatchedMesh&&Rn.batchingColor===!0&&Ht.colorTexture===null||Ht.isBatchedMesh&&Rn.batchingColor===!1&&Ht.colorTexture!==null||Ht.isInstancedMesh&&Rn.instancing===!1||!Ht.isInstancedMesh&&Rn.instancing===!0||Ht.isSkinnedMesh&&Rn.skinning===!1||!Ht.isSkinnedMesh&&Rn.skinning===!0||Ht.isInstancedMesh&&Rn.instancingColor===!0&&Ht.instanceColor===null||Ht.isInstancedMesh&&Rn.instancingColor===!1&&Ht.instanceColor!==null||Ht.isInstancedMesh&&Rn.instancingMorph===!0&&Ht.morphTexture===null||Ht.isInstancedMesh&&Rn.instancingMorph===!1&&Ht.morphTexture!==null||Rn.envMap!==Rt||zt.fog===!0&&Rn.fog!==rn||Rn.numClippingPlanes!==void 0&&(Rn.numClippingPlanes!==_t.numPlanes||Rn.numIntersection!==_t.numIntersection)||Rn.vertexAlphas!==Vt||Rn.vertexTangents!==Wt||Rn.morphTargets!==Gt||Rn.morphNormals!==pn||Rn.morphColors!==An||Rn.toneMapping!==zn||Rn.morphTargetsCount!==En)&&(Yn=!0):(Yn=!0,Rn.__version=zt.version);let ki=Rn.currentProgram;Yn===!0&&(ki=_n(zt,Dt,Ht));let Gi=!1,Mi=!1,ur=!1;const li=ki.getUniforms(),Di=Rn.uniforms;if(rt.useProgram(ki.program)&&(Gi=!0,Mi=!0,ur=!0),zt.id!==Ce&&(Ce=zt.id,Mi=!0),Gi||ye!==At){rt.buffers.depth.getReversed()?(it.copy(At.projectionMatrix),toNormalizedProjectionMatrix(it),toReversedProjectionMatrix(it),li.setValue(je,"projectionMatrix",it)):li.setValue(je,"projectionMatrix",At.projectionMatrix),li.setValue(je,"viewMatrix",At.matrixWorldInverse);const wi=li.map.cameraPosition;wi!==void 0&&wi.setValue(je,Xe.setFromMatrixPosition(At.matrixWorld)),We.logarithmicDepthBuffer&&li.setValue(je,"logDepthBufFC",2/(Math.log(At.far+1)/Math.LN2)),(zt.isMeshPhongMaterial||zt.isMeshToonMaterial||zt.isMeshLambertMaterial||zt.isMeshBasicMaterial||zt.isMeshStandardMaterial||zt.isShaderMaterial)&&li.setValue(je,"isOrthographic",At.isOrthographicCamera===!0),ye!==At&&(ye=At,Mi=!0,ur=!0)}if(Ht.isSkinnedMesh){li.setOptional(je,Ht,"bindMatrix"),li.setOptional(je,Ht,"bindMatrixInverse");const Ti=Ht.skeleton;Ti&&(Ti.boneTexture===null&&Ti.computeBoneTexture(),li.setValue(je,"boneTexture",Ti.boneTexture,at))}Ht.isBatchedMesh&&(li.setOptional(je,Ht,"batchingTexture"),li.setValue(je,"batchingTexture",Ht._matricesTexture,at),li.setOptional(je,Ht,"batchingIdTexture"),li.setValue(je,"batchingIdTexture",Ht._indirectTexture,at),li.setOptional(je,Ht,"batchingColorTexture"),Ht._colorsTexture!==null&&li.setValue(je,"batchingColorTexture",Ht._colorsTexture,at));const Oi=Nt.morphAttributes;if((Oi.position!==void 0||Oi.normal!==void 0||Oi.color!==void 0)&&jt.update(Ht,Nt,ki),(Mi||Rn.receiveShadow!==Ht.receiveShadow)&&(Rn.receiveShadow=Ht.receiveShadow,li.setValue(je,"receiveShadow",Ht.receiveShadow)),zt.isMeshGouraudMaterial&&zt.envMap!==null&&(Di.envMap.value=Rt,Di.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1),zt.isMeshStandardMaterial&&zt.envMap===null&&Dt.environment!==null&&(Di.envMapIntensity.value=Dt.environmentIntensity),Mi&&(li.setValue(je,"toneMappingExposure",ue.toneMappingExposure),Rn.needsLights&&on(Di,ur),rn&&zt.fog===!0&&xt.refreshFogUniforms(Di,rn),xt.refreshMaterialUniforms(Di,zt,Te,Ue,fe.state.transmissionRenderTarget[At.id]),WebGLUniforms.upload(je,wn(Rn),Di,at)),zt.isShaderMaterial&&zt.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(je,wn(Rn),Di,at),zt.uniformsNeedUpdate=!1),zt.isSpriteMaterial&&li.setValue(je,"center",Ht.center),li.setValue(je,"modelViewMatrix",Ht.modelViewMatrix),li.setValue(je,"normalMatrix",Ht.normalMatrix),li.setValue(je,"modelMatrix",Ht.matrixWorld),zt.isShaderMaterial||zt.isRawShaderMaterial){const Ti=zt.uniformsGroups;for(let wi=0,qi=Ti.length;wi<qi;wi++){const Yi=Ti[wi];yt.update(Yi,ki),yt.bind(Yi,ki)}}return ki}function on(At,Dt){At.ambientLightColor.needsUpdate=Dt,At.lightProbe.needsUpdate=Dt,At.directionalLights.needsUpdate=Dt,At.directionalLightShadows.needsUpdate=Dt,At.pointLights.needsUpdate=Dt,At.pointLightShadows.needsUpdate=Dt,At.spotLights.needsUpdate=Dt,At.spotLightShadows.needsUpdate=Dt,At.rectAreaLights.needsUpdate=Dt,At.hemisphereLights.needsUpdate=Dt}function Kt(At){return At.isMeshLambertMaterial||At.isMeshToonMaterial||At.isMeshPhongMaterial||At.isMeshStandardMaterial||At.isShadowMaterial||At.isShaderMaterial&&At.lights===!0}this.getActiveCubeFace=function(){return Fe},this.getActiveMipmapLevel=function(){return _e},this.getRenderTarget=function(){return Ee},this.setRenderTargetTextures=function(At,Dt,Nt){ct.get(At.texture).__webglTexture=Dt,ct.get(At.depthTexture).__webglTexture=Nt;const zt=ct.get(At);zt.__hasExternalTextures=!0,zt.__autoAllocateDepthBuffer=Nt===void 0,zt.__autoAllocateDepthBuffer||Qe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),zt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(At,Dt){const Nt=ct.get(At);Nt.__webglFramebuffer=Dt,Nt.__useDefaultFramebuffer=Dt===void 0};const un=je.createFramebuffer();this.setRenderTarget=function(At,Dt=0,Nt=0){Ee=At,Fe=Dt,_e=Nt;let zt=!0,Ht=null,rn=!1,dn=!1;if(At){const Rt=ct.get(At);if(Rt.__useDefaultFramebuffer!==void 0)rt.bindFramebuffer(je.FRAMEBUFFER,null),zt=!1;else if(Rt.__webglFramebuffer===void 0)at.setupRenderTarget(At);else if(Rt.__hasExternalTextures)at.rebindTextures(At,ct.get(At.texture).__webglTexture,ct.get(At.depthTexture).__webglTexture);else if(At.depthBuffer){const Gt=At.depthTexture;if(Rt.__boundDepthTexture!==Gt){if(Gt!==null&&ct.has(Gt)&&(At.width!==Gt.image.width||At.height!==Gt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");at.setupDepthRenderbuffer(At)}}const Vt=At.texture;(Vt.isData3DTexture||Vt.isDataArrayTexture||Vt.isCompressedArrayTexture)&&(dn=!0);const Wt=ct.get(At).__webglFramebuffer;At.isWebGLCubeRenderTarget?(Array.isArray(Wt[Dt])?Ht=Wt[Dt][Nt]:Ht=Wt[Dt],rn=!0):At.samples>0&&at.useMultisampledRTT(At)===!1?Ht=ct.get(At).__webglMultisampledFramebuffer:Array.isArray(Wt)?Ht=Wt[Nt]:Ht=Wt,Re.copy(At.viewport),Ye.copy(At.scissor),ke=At.scissorTest}else Re.copy(He).multiplyScalar(Te).floor(),Ye.copy(Ie).multiplyScalar(Te).floor(),ke=Le;if(Nt!==0&&(Ht=un),rt.bindFramebuffer(je.FRAMEBUFFER,Ht)&&zt&&rt.drawBuffers(At,Ht),rt.viewport(Re),rt.scissor(Ye),rt.setScissorTest(ke),rn){const Rt=ct.get(At.texture);je.framebufferTexture2D(je.FRAMEBUFFER,je.COLOR_ATTACHMENT0,je.TEXTURE_CUBE_MAP_POSITIVE_X+Dt,Rt.__webglTexture,Nt)}else if(dn){const Rt=ct.get(At.texture),Vt=Dt;je.framebufferTextureLayer(je.FRAMEBUFFER,je.COLOR_ATTACHMENT0,Rt.__webglTexture,Nt,Vt)}else if(At!==null&&Nt!==0){const Rt=ct.get(At.texture);je.framebufferTexture2D(je.FRAMEBUFFER,je.COLOR_ATTACHMENT0,je.TEXTURE_2D,Rt.__webglTexture,Nt)}Ce=-1},this.readRenderTargetPixels=function(At,Dt,Nt,zt,Ht,rn,dn){if(!(At&&At.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let cn=ct.get(At).__webglFramebuffer;if(At.isWebGLCubeRenderTarget&&dn!==void 0&&(cn=cn[dn]),cn){rt.bindFramebuffer(je.FRAMEBUFFER,cn);try{const Rt=At.texture,Vt=Rt.format,Wt=Rt.type;if(!We.textureFormatReadable(Vt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!We.textureTypeReadable(Wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Dt>=0&&Dt<=At.width-zt&&Nt>=0&&Nt<=At.height-Ht&&je.readPixels(Dt,Nt,zt,Ht,Ft.convert(Vt),Ft.convert(Wt),rn)}finally{const Rt=Ee!==null?ct.get(Ee).__webglFramebuffer:null;rt.bindFramebuffer(je.FRAMEBUFFER,Rt)}}},this.readRenderTargetPixelsAsync=async function(At,Dt,Nt,zt,Ht,rn,dn){if(!(At&&At.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let cn=ct.get(At).__webglFramebuffer;if(At.isWebGLCubeRenderTarget&&dn!==void 0&&(cn=cn[dn]),cn){const Rt=At.texture,Vt=Rt.format,Wt=Rt.type;if(!We.textureFormatReadable(Vt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!We.textureTypeReadable(Wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Dt>=0&&Dt<=At.width-zt&&Nt>=0&&Nt<=At.height-Ht){rt.bindFramebuffer(je.FRAMEBUFFER,cn);const Gt=je.createBuffer();je.bindBuffer(je.PIXEL_PACK_BUFFER,Gt),je.bufferData(je.PIXEL_PACK_BUFFER,rn.byteLength,je.STREAM_READ),je.readPixels(Dt,Nt,zt,Ht,Ft.convert(Vt),Ft.convert(Wt),0);const pn=Ee!==null?ct.get(Ee).__webglFramebuffer:null;rt.bindFramebuffer(je.FRAMEBUFFER,pn);const An=je.fenceSync(je.SYNC_GPU_COMMANDS_COMPLETE,0);return je.flush(),await probeAsync(je,An,4),je.bindBuffer(je.PIXEL_PACK_BUFFER,Gt),je.getBufferSubData(je.PIXEL_PACK_BUFFER,0,rn),je.deleteBuffer(Gt),je.deleteSync(An),rn}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(At,Dt=null,Nt=0){At.isTexture!==!0&&(warnOnce("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Dt=arguments[0]||null,At=arguments[1]);const zt=Math.pow(2,-Nt),Ht=Math.floor(At.image.width*zt),rn=Math.floor(At.image.height*zt),dn=Dt!==null?Dt.x:0,cn=Dt!==null?Dt.y:0;at.setTexture2D(At,0),je.copyTexSubImage2D(je.TEXTURE_2D,Nt,0,0,dn,cn,Ht,rn),rt.unbindTexture()};const fn=je.createFramebuffer(),vn=je.createFramebuffer();this.copyTextureToTexture=function(At,Dt,Nt=null,zt=null,Ht=0,rn=null){At.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed."),zt=arguments[0]||null,At=arguments[1],Dt=arguments[2],rn=arguments[3]||0,Nt=null),rn===null&&(Ht!==0?(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),rn=Ht,Ht=0):rn=0);let dn,cn,Rt,Vt,Wt,Gt,pn,An,zn;const Tn=At.isCompressedTexture?At.mipmaps[rn]:At.image;if(Nt!==null)dn=Nt.max.x-Nt.min.x,cn=Nt.max.y-Nt.min.y,Rt=Nt.isBox3?Nt.max.z-Nt.min.z:1,Vt=Nt.min.x,Wt=Nt.min.y,Gt=Nt.isBox3?Nt.min.z:0;else{const Oi=Math.pow(2,-Ht);dn=Math.floor(Tn.width*Oi),cn=Math.floor(Tn.height*Oi),At.isDataArrayTexture?Rt=Tn.depth:At.isData3DTexture?Rt=Math.floor(Tn.depth*Oi):Rt=1,Vt=0,Wt=0,Gt=0}zt!==null?(pn=zt.x,An=zt.y,zn=zt.z):(pn=0,An=0,zn=0);const En=Ft.convert(Dt.format),Rn=Ft.convert(Dt.type);let Zn;Dt.isData3DTexture?(at.setTexture3D(Dt,0),Zn=je.TEXTURE_3D):Dt.isDataArrayTexture||Dt.isCompressedArrayTexture?(at.setTexture2DArray(Dt,0),Zn=je.TEXTURE_2D_ARRAY):(at.setTexture2D(Dt,0),Zn=je.TEXTURE_2D),je.pixelStorei(je.UNPACK_FLIP_Y_WEBGL,Dt.flipY),je.pixelStorei(je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Dt.premultiplyAlpha),je.pixelStorei(je.UNPACK_ALIGNMENT,Dt.unpackAlignment);const Yn=je.getParameter(je.UNPACK_ROW_LENGTH),ki=je.getParameter(je.UNPACK_IMAGE_HEIGHT),Gi=je.getParameter(je.UNPACK_SKIP_PIXELS),Mi=je.getParameter(je.UNPACK_SKIP_ROWS),ur=je.getParameter(je.UNPACK_SKIP_IMAGES);je.pixelStorei(je.UNPACK_ROW_LENGTH,Tn.width),je.pixelStorei(je.UNPACK_IMAGE_HEIGHT,Tn.height),je.pixelStorei(je.UNPACK_SKIP_PIXELS,Vt),je.pixelStorei(je.UNPACK_SKIP_ROWS,Wt),je.pixelStorei(je.UNPACK_SKIP_IMAGES,Gt);const li=At.isDataArrayTexture||At.isData3DTexture,Di=Dt.isDataArrayTexture||Dt.isData3DTexture;if(At.isDepthTexture){const Oi=ct.get(At),Ti=ct.get(Dt),wi=ct.get(Oi.__renderTarget),qi=ct.get(Ti.__renderTarget);rt.bindFramebuffer(je.READ_FRAMEBUFFER,wi.__webglFramebuffer),rt.bindFramebuffer(je.DRAW_FRAMEBUFFER,qi.__webglFramebuffer);for(let Yi=0;Yi<Rt;Yi++)li&&(je.framebufferTextureLayer(je.READ_FRAMEBUFFER,je.COLOR_ATTACHMENT0,ct.get(At).__webglTexture,Ht,Gt+Yi),je.framebufferTextureLayer(je.DRAW_FRAMEBUFFER,je.COLOR_ATTACHMENT0,ct.get(Dt).__webglTexture,rn,zn+Yi)),je.blitFramebuffer(Vt,Wt,dn,cn,pn,An,dn,cn,je.DEPTH_BUFFER_BIT,je.NEAREST);rt.bindFramebuffer(je.READ_FRAMEBUFFER,null),rt.bindFramebuffer(je.DRAW_FRAMEBUFFER,null)}else if(Ht!==0||At.isRenderTargetTexture||ct.has(At)){const Oi=ct.get(At),Ti=ct.get(Dt);rt.bindFramebuffer(je.READ_FRAMEBUFFER,fn),rt.bindFramebuffer(je.DRAW_FRAMEBUFFER,vn);for(let wi=0;wi<Rt;wi++)li?je.framebufferTextureLayer(je.READ_FRAMEBUFFER,je.COLOR_ATTACHMENT0,Oi.__webglTexture,Ht,Gt+wi):je.framebufferTexture2D(je.READ_FRAMEBUFFER,je.COLOR_ATTACHMENT0,je.TEXTURE_2D,Oi.__webglTexture,Ht),Di?je.framebufferTextureLayer(je.DRAW_FRAMEBUFFER,je.COLOR_ATTACHMENT0,Ti.__webglTexture,rn,zn+wi):je.framebufferTexture2D(je.DRAW_FRAMEBUFFER,je.COLOR_ATTACHMENT0,je.TEXTURE_2D,Ti.__webglTexture,rn),Ht!==0?je.blitFramebuffer(Vt,Wt,dn,cn,pn,An,dn,cn,je.COLOR_BUFFER_BIT,je.NEAREST):Di?je.copyTexSubImage3D(Zn,rn,pn,An,zn+wi,Vt,Wt,dn,cn):je.copyTexSubImage2D(Zn,rn,pn,An,Vt,Wt,dn,cn);rt.bindFramebuffer(je.READ_FRAMEBUFFER,null),rt.bindFramebuffer(je.DRAW_FRAMEBUFFER,null)}else Di?At.isDataTexture||At.isData3DTexture?je.texSubImage3D(Zn,rn,pn,An,zn,dn,cn,Rt,En,Rn,Tn.data):Dt.isCompressedArrayTexture?je.compressedTexSubImage3D(Zn,rn,pn,An,zn,dn,cn,Rt,En,Tn.data):je.texSubImage3D(Zn,rn,pn,An,zn,dn,cn,Rt,En,Rn,Tn):At.isDataTexture?je.texSubImage2D(je.TEXTURE_2D,rn,pn,An,dn,cn,En,Rn,Tn.data):At.isCompressedTexture?je.compressedTexSubImage2D(je.TEXTURE_2D,rn,pn,An,Tn.width,Tn.height,En,Tn.data):je.texSubImage2D(je.TEXTURE_2D,rn,pn,An,dn,cn,En,Rn,Tn);je.pixelStorei(je.UNPACK_ROW_LENGTH,Yn),je.pixelStorei(je.UNPACK_IMAGE_HEIGHT,ki),je.pixelStorei(je.UNPACK_SKIP_PIXELS,Gi),je.pixelStorei(je.UNPACK_SKIP_ROWS,Mi),je.pixelStorei(je.UNPACK_SKIP_IMAGES,ur),rn===0&&Dt.generateMipmaps&&je.generateMipmap(Zn),rt.unbindTexture()},this.copyTextureToTexture3D=function(At,Dt,Nt=null,zt=null,Ht=0){return At.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Nt=arguments[0]||null,zt=arguments[1]||null,At=arguments[2],Dt=arguments[3],Ht=arguments[4]||0),warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(At,Dt,Nt,zt,Ht)},this.initRenderTarget=function(At){ct.get(At).__webglFramebuffer===void 0&&at.setupRenderTarget(At)},this.initTexture=function(At){At.isCubeTexture?at.setTextureCube(At,0):At.isData3DTexture?at.setTexture3D(At,0):At.isDataArrayTexture||At.isCompressedArrayTexture?at.setTexture2DArray(At,0):at.setTexture2D(At,0),rt.unbindTexture()},this.resetState=function(){Fe=0,_e=0,Ee=null,rt.reset(),Ct.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace($){this._outputColorSpace=$;const te=this.getContext();te.drawingBufferColorspace=ColorManagement._getDrawingBufferColorSpace($),te.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,Controls,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher:EventDispatcher$1,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RenderTarget3D,RenderTargetArray,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton:Skeleton$1,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TimestampQuery,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoFrameTexture,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WebXRController,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production.ConcurrentRoot=1;reactReconcilerConstants_production.ContinuousEventPriority=8;reactReconcilerConstants_production.DefaultEventPriority=32;reactReconcilerConstants_production.DiscreteEventPriority=2;reactReconcilerConstants_production.IdleEventPriority=268435456;reactReconcilerConstants_production.LegacyRoot=0;reactReconcilerConstants_production.NoEventPriority=0;constants.exports=reactReconcilerConstants_production;var constantsExports=constants.exports,withSelector={exports:{}},withSelector_production={},shim$2={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$2(ee,$){return ee===$&&(ee!==0||1/ee===1/$)||ee!==ee&&$!==$}var objectIs$1=typeof Object.is=="function"?Object.is:is$2,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect=React$1.useLayoutEffect,useDebugValue$1=React$1.useDebugValue;function useSyncExternalStore$2(ee,$){var te=$(),ne=useState({inst:{value:te,getSnapshot:$}}),ie=ne[0].inst,se=ne[1];return useLayoutEffect(function(){ie.value=te,ie.getSnapshot=$,checkIfSnapshotChanged(ie)&&se({inst:ie})},[ee,te,$]),useEffect$1(function(){return checkIfSnapshotChanged(ie)&&se({inst:ie}),ee(function(){checkIfSnapshotChanged(ie)&&se({inst:ie})})},[ee]),useDebugValue$1(te),te}function checkIfSnapshotChanged(ee){var $=ee.getSnapshot;ee=ee.value;try{var te=$();return!objectIs$1(ee,te)}catch{return!0}}function useSyncExternalStore$1(ee,$){return $()}var shim$1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$1;shim$2.exports=useSyncExternalStoreShim_production;var shimExports=shim$2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim=shimExports;function is$1(ee,$){return ee===$&&(ee!==0||1/ee===1/$)||ee!==ee&&$!==$}var objectIs=typeof Object.is=="function"?Object.is:is$1,useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(ee,$,te,ne,ie){var se=useRef(null);if(se.current===null){var le={hasValue:!1,value:null};se.current=le}else le=se.current;se=useMemo(function(){function ce(re){if(!ae){if(ae=!0,he=re,re=ne(re),ie!==void 0&&le.hasValue){var Ae=le.value;if(ie(Ae,re))return de=Ae}return de=re}if(Ae=de,objectIs(he,re))return Ae;var ge=ne(re);return ie!==void 0&&ie(Ae,ge)?(he=re,Ae):(he=re,de=ge)}var ae=!1,he,de,pe=te===void 0?null:te;return[function(){return ce($())},pe===null?void 0:function(){return ce(pe())}]},[$,te,ne,ie]);var oe=useSyncExternalStore(ee,se[0],se[1]);return useEffect(function(){le.hasValue=!0,le.value=oe},[oe]),useDebugValue(oe),oe};withSelector.exports=withSelector_production;var withSelectorExports=withSelector.exports;const useSyncExternalStoreExports=getDefaultExportFromCjs(withSelectorExports),createStoreImpl=ee=>{let $;const te=new Set,ne=(ae,he)=>{const de=typeof ae=="function"?ae($):ae;if(!Object.is(de,$)){const pe=$;$=he??(typeof de!="object"||de===null)?de:Object.assign({},$,de),te.forEach(re=>re($,pe))}},ie=()=>$,oe={setState:ne,getState:ie,getInitialState:()=>ce,subscribe:ae=>(te.add(ae),()=>te.delete(ae))},ce=$=ee(ne,ie,oe);return oe},createStore$1=ee=>ee?createStoreImpl(ee):createStoreImpl,{useSyncExternalStoreWithSelector}=useSyncExternalStoreExports,identity=ee=>ee;function useStoreWithEqualityFn(ee,$=identity,te){const ne=useSyncExternalStoreWithSelector(ee.subscribe,ee.getState,ee.getInitialState,$,te);return React$4.useDebugValue(ne),ne}const createWithEqualityFnImpl=(ee,$)=>{const te=createStore$1(ee),ne=(ie,se=$)=>useStoreWithEqualityFn(te,ie,se);return Object.assign(ne,te),ne},createWithEqualityFn=(ee,$)=>ee?createWithEqualityFnImpl(ee,$):createWithEqualityFnImpl;var reactReconciler={exports:{}},reactReconciler_production={exports:{}},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ee){function $(Pe,Ue){var Te=Pe.length;Pe.push(Ue);e:for(;0<Te;){var Me=Te-1>>>1,Ve=Pe[Me];if(0<ie(Ve,Ue))Pe[Me]=Ue,Pe[Te]=Ve,Te=Me;else break e}}function te(Pe){return Pe.length===0?null:Pe[0]}function ne(Pe){if(Pe.length===0)return null;var Ue=Pe[0],Te=Pe.pop();if(Te!==Ue){Pe[0]=Te;e:for(var Me=0,Ve=Pe.length,He=Ve>>>1;Me<He;){var Ie=2*(Me+1)-1,Le=Pe[Ie],Oe=Ie+1,Ne=Pe[Oe];if(0>ie(Le,Te))Oe<Ve&&0>ie(Ne,Le)?(Pe[Me]=Ne,Pe[Oe]=Te,Me=Oe):(Pe[Me]=Le,Pe[Ie]=Te,Me=Ie);else if(Oe<Ve&&0>ie(Ne,Te))Pe[Me]=Ne,Pe[Oe]=Te,Me=Oe;else break e}}return Ue}function ie(Pe,Ue){var Te=Pe.sortIndex-Ue.sortIndex;return Te!==0?Te:Pe.id-Ue.id}if(ee.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var se=performance;ee.unstable_now=function(){return se.now()}}else{var le=Date,oe=le.now();ee.unstable_now=function(){return le.now()-oe}}var ce=[],ae=[],he=1,de=null,pe=3,re=!1,Ae=!1,ge=!1,Se=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function xe(Pe){for(var Ue=te(ae);Ue!==null;){if(Ue.callback===null)ne(ae);else if(Ue.startTime<=Pe)ne(ae),Ue.sortIndex=Ue.expirationTime,$(ce,Ue);else break;Ue=te(ae)}}function ue(Pe){if(ge=!1,xe(Pe),!Ae)if(te(ce)!==null)Ae=!0,$e();else{var Ue=te(ae);Ue!==null&&Be(ue,Ue.startTime-Pe)}}var we=!1,Fe=-1,_e=5,Ee=-1;function Ce(){return!(ee.unstable_now()-Ee<_e)}function ye(){if(we){var Pe=ee.unstable_now();Ee=Pe;var Ue=!0;try{e:{Ae=!1,ge&&(ge=!1,fe(Fe),Fe=-1),re=!0;var Te=pe;try{t:{for(xe(Pe),de=te(ce);de!==null&&!(de.expirationTime>Pe&&Ce());){var Me=de.callback;if(typeof Me=="function"){de.callback=null,pe=de.priorityLevel;var Ve=Me(de.expirationTime<=Pe);if(Pe=ee.unstable_now(),typeof Ve=="function"){de.callback=Ve,xe(Pe),Ue=!0;break t}de===te(ce)&&ne(ce),xe(Pe)}else ne(ce);de=te(ce)}if(de!==null)Ue=!0;else{var He=te(ae);He!==null&&Be(ue,He.startTime-Pe),Ue=!1}}break e}finally{de=null,pe=Te,re=!1}Ue=void 0}}finally{Ue?Re():we=!1}}}var Re;if(typeof be=="function")Re=function(){be(ye)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,ke=Ye.port2;Ye.port1.onmessage=ye,Re=function(){ke.postMessage(null)}}else Re=function(){Se(ye,0)};function $e(){we||(we=!0,Re())}function Be(Pe,Ue){Fe=Se(function(){Pe(ee.unstable_now())},Ue)}ee.unstable_IdlePriority=5,ee.unstable_ImmediatePriority=1,ee.unstable_LowPriority=4,ee.unstable_NormalPriority=3,ee.unstable_Profiling=null,ee.unstable_UserBlockingPriority=2,ee.unstable_cancelCallback=function(Pe){Pe.callback=null},ee.unstable_continueExecution=function(){Ae||re||(Ae=!0,$e())},ee.unstable_forceFrameRate=function(Pe){0>Pe||125<Pe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<Pe?Math.floor(1e3/Pe):5},ee.unstable_getCurrentPriorityLevel=function(){return pe},ee.unstable_getFirstCallbackNode=function(){return te(ce)},ee.unstable_next=function(Pe){switch(pe){case 1:case 2:case 3:var Ue=3;break;default:Ue=pe}var Te=pe;pe=Ue;try{return Pe()}finally{pe=Te}},ee.unstable_pauseExecution=function(){},ee.unstable_requestPaint=function(){},ee.unstable_runWithPriority=function(Pe,Ue){switch(Pe){case 1:case 2:case 3:case 4:case 5:break;default:Pe=3}var Te=pe;pe=Pe;try{return Ue()}finally{pe=Te}},ee.unstable_scheduleCallback=function(Pe,Ue,Te){var Me=ee.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Me+Te:Me):Te=Me,Pe){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=Te+Ve,Pe={id:he++,callback:Ue,priorityLevel:Pe,startTime:Te,expirationTime:Ve,sortIndex:-1},Te>Me?(Pe.sortIndex=Te,$(ae,Pe),te(ce)===null&&Pe===te(ae)&&(ge?(fe(Fe),Fe=-1):ge=!0,Be(ue,Te-Me))):(Pe.sortIndex=Ve,$(ce,Pe),Ae||re||(Ae=!0,$e())),Pe},ee.unstable_shouldYield=Ce,ee.unstable_wrapCallback=function(Pe){var Ue=pe;return function(){var Te=pe;pe=Ue;try{return Pe.apply(this,arguments)}finally{pe=Te}}}})(scheduler_production);scheduler.exports=scheduler_production;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ee){ee.exports=function($){function te(me,ve,ze,st){return new f0(me,ve,ze,st)}function ne(){}function ie(me){var ve="https://react.dev/errors/"+me;if(1<arguments.length){ve+="?args[]="+encodeURIComponent(arguments[1]);for(var ze=2;ze<arguments.length;ze++)ve+="&args[]="+encodeURIComponent(arguments[ze])}return"Minified React error #"+me+"; visit "+ve+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function se(me){return me===null||typeof me!="object"?null:(me=Zc&&me[Zc]||me["@@iterator"],typeof me=="function"?me:null)}function le(me){if(me==null)return null;if(typeof me=="function")return me.$$typeof===b0?null:me.displayName||me.name||null;if(typeof me=="string")return me;switch(me){case $a:return"Fragment";case ja:return"Portal";case Jo:return"Profiler";case qc:return"StrictMode";case tl:return"Suspense";case nl:return"SuspenseList"}if(typeof me=="object")switch(me.$$typeof){case Jr:return(me.displayName||"Context")+".Provider";case Yc:return(me._context.displayName||"Context")+".Consumer";case el:var ve=me.render;return me=me.displayName,me||(me=ve.displayName||ve.name||"",me=me!==""?"ForwardRef("+me+")":"ForwardRef"),me;case il:return ve=me.displayName||null,ve!==null?ve:le(me.type)||"Memo";case ea:ve=me._payload,me=me._init;try{return le(me(ve))}catch{}}return null}function oe(me){if(rl===void 0)try{throw Error()}catch(ze){var ve=ze.stack.trim().match(/\n( *(at )?)/);rl=ve&&ve[1]||"",Qc=-1<ze.stack.indexOf(`
    at`)?" (<anonymous>)":-1<ze.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rl+me+Qc}function ce(me,ve){if(!me||al)return"";al=!0;var ze=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var st={DetermineComponentFrameRoot:function(){try{if(ve){var Nn=function(){throw Error()};if(Object.defineProperty(Nn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Nn,[])}catch(Jn){var Un=Jn}Reflect.construct(me,[],Nn)}else{try{Nn.call()}catch(Jn){Un=Jn}me.call(Nn.prototype)}}else{try{throw Error()}catch(Jn){Un=Jn}(Nn=me())&&typeof Nn.catch=="function"&&Nn.catch(function(){})}}catch(Jn){if(Jn&&Un&&typeof Jn.stack=="string")return[Jn.stack,Un.stack]}return[null,null]}};st.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var dt=Object.getOwnPropertyDescriptor(st.DetermineComponentFrameRoot,"name");dt&&dt.configurable&&Object.defineProperty(st.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var gt=st.DetermineComponentFrameRoot(),Mt=gt[0],$t=gt[1];if(Mt&&$t){var Jt=Mt.split(`
`),gn=$t.split(`
`);for(dt=st=0;st<Jt.length&&!Jt[st].includes("DetermineComponentFrameRoot");)st++;for(;dt<gn.length&&!gn[dt].includes("DetermineComponentFrameRoot");)dt++;if(st===Jt.length||dt===gn.length)for(st=Jt.length-1,dt=gn.length-1;1<=st&&0<=dt&&Jt[st]!==gn[dt];)dt--;for(;1<=st&&0<=dt;st--,dt--)if(Jt[st]!==gn[dt]){if(st!==1||dt!==1)do if(st--,dt--,0>dt||Jt[st]!==gn[dt]){var Mn=`
`+Jt[st].replace(" at new "," at ");return me.displayName&&Mn.includes("<anonymous>")&&(Mn=Mn.replace("<anonymous>",me.displayName)),Mn}while(1<=st&&0<=dt);break}}}finally{al=!1,Error.prepareStackTrace=ze}return(ze=me?me.displayName||me.name:"")?oe(ze):""}function ae(me){switch(me.tag){case 26:case 27:case 5:return oe(me.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 15:return me=ce(me.type,!1),me;case 11:return me=ce(me.type.render,!1),me;case 1:return me=ce(me.type,!0),me;default:return""}}function he(me){try{var ve="";do ve+=ae(me),me=me.return;while(me);return ve}catch(ze){return`
Error generating stack: `+ze.message+`
`+ze.stack}}function de(me){var ve=me,ze=me;if(me.alternate)for(;ve.return;)ve=ve.return;else{me=ve;do ve=me,ve.flags&4098&&(ze=ve.return),me=ve.return;while(me)}return ve.tag===3?ze:null}function pe(me){if(de(me)!==me)throw Error(ie(188))}function re(me){var ve=me.alternate;if(!ve){if(ve=de(me),ve===null)throw Error(ie(188));return ve!==me?null:me}for(var ze=me,st=ve;;){var dt=ze.return;if(dt===null)break;var gt=dt.alternate;if(gt===null){if(st=dt.return,st!==null){ze=st;continue}break}if(dt.child===gt.child){for(gt=dt.child;gt;){if(gt===ze)return pe(dt),me;if(gt===st)return pe(dt),ve;gt=gt.sibling}throw Error(ie(188))}if(ze.return!==st.return)ze=dt,st=gt;else{for(var Mt=!1,$t=dt.child;$t;){if($t===ze){Mt=!0,ze=dt,st=gt;break}if($t===st){Mt=!0,st=dt,ze=gt;break}$t=$t.sibling}if(!Mt){for($t=gt.child;$t;){if($t===ze){Mt=!0,ze=gt,st=dt;break}if($t===st){Mt=!0,st=gt,ze=dt;break}$t=$t.sibling}if(!Mt)throw Error(ie(189))}}if(ze.alternate!==st)throw Error(ie(190))}if(ze.tag!==3)throw Error(ie(188));return ze.stateNode.current===ze?me:ve}function Ae(me){var ve=me.tag;if(ve===5||ve===26||ve===27||ve===6)return me;for(me=me.child;me!==null;){if(ve=Ae(me),ve!==null)return ve;me=me.sibling}return null}function ge(me){var ve=me.tag;if(ve===5||ve===26||ve===27||ve===6)return me;for(me=me.child;me!==null;){if(me.tag!==4&&(ve=ge(me),ve!==null))return ve;me=me.sibling}return null}function Se(me){return{current:me}}function fe(me){0>Xa||(me.current=hl[Xa],hl[Xa]=null,Xa--)}function be(me,ve){Xa++,hl[Xa]=me.current,me.current=ve}function xe(me){return me>>>=0,me===0?32:31-(kh(me)/Lh|0)|0}function ue(me){var ve=me&42;if(ve!==0)return ve;switch(me&-me){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return me&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return me&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return me}}function we(me,ve){var ze=me.pendingLanes;if(ze===0)return 0;var st=0,dt=me.suspendedLanes,gt=me.pingedLanes,Mt=me.warmLanes;me=me.finishedLanes!==0;var $t=ze&134217727;return $t!==0?(ze=$t&~dt,ze!==0?st=ue(ze):(gt&=$t,gt!==0?st=ue(gt):me||(Mt=$t&~Mt,Mt!==0&&(st=ue(Mt))))):($t=ze&~dt,$t!==0?st=ue($t):gt!==0?st=ue(gt):me||(Mt=ze&~Mt,Mt!==0&&(st=ue(Mt)))),st===0?0:ve!==0&&ve!==st&&!(ve&dt)&&(dt=st&-st,Mt=ve&-ve,dt>=Mt||dt===32&&(Mt&4194176)!==0)?ve:st}function Fe(me,ve){return(me.pendingLanes&~(me.suspendedLanes&~me.pingedLanes)&ve)===0}function _e(me,ve){switch(me){case 1:case 2:case 4:case 8:return ve+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ve+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ee(){var me=Ws;return Ws<<=1,!(Ws&4194176)&&(Ws=128),me}function Ce(){var me=qs;return qs<<=1,!(qs&62914560)&&(qs=4194304),me}function ye(me){for(var ve=[],ze=0;31>ze;ze++)ve.push(me);return ve}function Re(me,ve){me.pendingLanes|=ve,ve!==268435456&&(me.suspendedLanes=0,me.pingedLanes=0,me.warmLanes=0)}function Ye(me,ve,ze,st,dt,gt){var Mt=me.pendingLanes;me.pendingLanes=ze,me.suspendedLanes=0,me.pingedLanes=0,me.warmLanes=0,me.expiredLanes&=ze,me.entangledLanes&=ze,me.errorRecoveryDisabledLanes&=ze,me.shellSuspendCounter=0;var $t=me.entanglements,Jt=me.expirationTimes,gn=me.hiddenUpdates;for(ze=Mt&~ze;0<ze;){var Mn=31-rr(ze),Nn=1<<Mn;$t[Mn]=0,Jt[Mn]=-1;var Un=gn[Mn];if(Un!==null)for(gn[Mn]=null,Mn=0;Mn<Un.length;Mn++){var Jn=Un[Mn];Jn!==null&&(Jn.lane&=-536870913)}ze&=~Nn}st!==0&&ke(me,st,0),gt!==0&&dt===0&&me.tag!==0&&(me.suspendedLanes|=gt&~(Mt&~ve))}function ke(me,ve,ze){me.pendingLanes|=ve,me.suspendedLanes&=~ve;var st=31-rr(ve);me.entangledLanes|=ve,me.entanglements[st]=me.entanglements[st]|1073741824|ze&4194218}function $e(me,ve){var ze=me.entangledLanes|=ve;for(me=me.entanglements;ze;){var st=31-rr(ze),dt=1<<st;dt&ve|me[st]&ve&&(me[st]|=ve),ze&=~dt}}function Be(me){return me&=-me,2<me?8<me?me&134217727?32:268435456:8:2}function Pe(me){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Ss,me,void 0,(me.current.flags&128)===128)}catch{}}function Ue(me){if(typeof zh=="function"&&Vh(me),ar&&typeof ar.setStrictMode=="function")try{ar.setStrictMode(Ss,me)}catch{}}function Te(me,ve){return me===ve&&(me!==0||1/me===1/ve)||me!==me&&ve!==ve}function Me(me,ve){if(typeof me=="object"&&me!==null){var ze=Eu.get(me);return ze!==void 0?ze:(ve={value:me,source:ve,stack:he(ve)},Eu.set(me,ve),ve)}return{value:me,source:ve,stack:he(ve)}}function Ve(me,ve){qa[Ya++]=Zs,qa[Ya++]=Ks,Ks=me,Zs=ve}function He(me,ve,ze){fr[pr++]=Hr,fr[pr++]=zr,fr[pr++]=Aa,Aa=me;var st=Hr;me=zr;var dt=32-rr(st)-1;st&=~(1<<dt),ze+=1;var gt=32-rr(ve)+dt;if(30<gt){var Mt=dt-dt%5;gt=(st&(1<<Mt)-1).toString(32),st>>=Mt,dt-=Mt,Hr=1<<32-rr(ve)+dt|ze<<dt|st,zr=gt+me}else Hr=1<<gt|ze<<dt|st,zr=me}function Ie(me){me.return!==null&&(Ve(me,1),He(me,1,0))}function Le(me){for(;me===Ks;)Ks=qa[--Ya],qa[Ya]=null,Zs=qa[--Ya],qa[Ya]=null;for(;me===Aa;)Aa=fr[--pr],fr[pr]=null,zr=fr[--pr],fr[pr]=null,Hr=fr[--pr],fr[pr]=null}function Oe(me,ve){be(na,ve),be(As,me),be(Hi,null),me=A0(ve),fe(Hi),be(Hi,me)}function Ne(){fe(Hi),fe(As),fe(na)}function qe(me){me.memoizedState!==null&&be(Qs,me);var ve=Hi.current,ze=_0(ve,me.type);ve!==ze&&(be(As,me),be(Hi,ze))}function it(me){As.current===me&&(fe(Hi),fe(As)),Qs.current===me&&(fe(Qs),Ur?Sa._currentValue=Ga:Sa._currentValue2=Ga)}function tt(me){var ve=Error(ie(418,""));throw Ke(Me(ve,me)),pl}function Xe(me,ve){if(!hr)throw Error(ie(175));gh(me.stateNode,me.type,me.memoizedProps,ve,me)||tt(me)}function Ze(me){for(Wi=me.return;Wi;)switch(Wi.tag){case 3:case 27:Mr=!0;return;case 5:case 13:Mr=!1;return;default:Wi=Wi.return}}function ot(me){if(!hr||me!==Wi)return!1;if(!ci)return Ze(me),ci=!0,!1;var ve=!1;if(ji?me.tag!==3&&me.tag!==27&&(me.tag!==5||fu(me.type)&&!Xs(me.type,me.memoizedProps))&&(ve=!0):me.tag!==3&&(me.tag!==5||fu(me.type)&&!Xs(me.type,me.memoizedProps))&&(ve=!0),ve&&$i&&tt(me),Ze(me),me.tag===13){if(!hr)throw Error(ie(316));if(me=me.memoizedState,me=me!==null?me.dehydrated:null,!me)throw Error(ie(317));$i=bh(me)}else $i=Wi?hu(me.stateNode):null;return!0}function Ge(){hr&&($i=Wi=null,ci=!1)}function Ke(me){_r===null?_r=[me]:_r.push(me)}function je(){for(var me=Ka,ve=ml=Ka=0;ve<me;){var ze=mr[ve];mr[ve++]=null;var st=mr[ve];mr[ve++]=null;var dt=mr[ve];mr[ve++]=null;var gt=mr[ve];if(mr[ve++]=null,st!==null&&dt!==null){var Mt=st.pending;Mt===null?dt.next=dt:(dt.next=Mt.next,Mt.next=dt),st.pending=dt}gt!==0&&rt(ze,dt,gt)}}function nt(me,ve,ze,st){mr[Ka++]=me,mr[Ka++]=ve,mr[Ka++]=ze,mr[Ka++]=st,ml|=st,me.lanes|=st,me=me.alternate,me!==null&&(me.lanes|=st)}function Qe(me,ve,ze,st){return nt(me,ve,ze,st),et(me)}function We(me,ve){return nt(me,null,null,ve),et(me)}function rt(me,ve,ze){me.lanes|=ze;var st=me.alternate;st!==null&&(st.lanes|=ze);for(var dt=!1,gt=me.return;gt!==null;)gt.childLanes|=ze,st=gt.alternate,st!==null&&(st.childLanes|=ze),gt.tag===22&&(me=gt.stateNode,me===null||me._visibility&1||(dt=!0)),me=gt,gt=gt.return;dt&&ve!==null&&me.tag===3&&(gt=me.stateNode,dt=31-rr(ze),gt=gt.hiddenUpdates,me=gt[dt],me===null?gt[dt]=[ve]:me.push(ve),ve.lane=ze|536870912)}function et(me){if(50<Ps)throw Ps=0,Pl=null,Error(ie(185));for(var ve=me.return;ve!==null;)me=ve,ve=me.return;return me.tag===3?me.stateNode:null}function ct(me){me!==Za&&me.next===null&&(Za===null?Js=Za=me:Za=Za.next=me),eo=!0,gl||(gl=!0,pt(Je))}function at(me,ve){if(!xl&&eo){xl=!0;do for(var ze=!1,st=Js;st!==null;){if(me!==0){var dt=st.pendingLanes;if(dt===0)var gt=0;else{var Mt=st.suspendedLanes,$t=st.pingedLanes;gt=(1<<31-rr(42|me)+1)-1,gt&=dt&~(Mt&~$t),gt=gt&201326677?gt&201326677|1:gt?gt|2:0}gt!==0&&(ze=!0,ft(st,gt))}else gt=oi,gt=we(st,st===xi?gt:0),!(gt&3)||Fe(st,gt)||(ze=!0,ft(st,gt));st=st.next}while(ze);xl=!1}}function Je(){eo=gl=!1;var me=0;Qa!==0&&(P0()&&(me=Qa),Qa=0);for(var ve=Ar(),ze=null,st=Js;st!==null;){var dt=st.next,gt=lt(st,ve);gt===0?(st.next=null,ze===null?Js=dt:ze.next=dt,dt===null&&(Za=ze)):(ze=st,(me!==0||gt&3)&&(eo=!0)),st=dt}at(me)}function lt(me,ve){for(var ze=me.suspendedLanes,st=me.pingedLanes,dt=me.expirationTimes,gt=me.pendingLanes&-62914561;0<gt;){var Mt=31-rr(gt),$t=1<<Mt,Jt=dt[Mt];Jt===-1?(!($t&ze)||$t&st)&&(dt[Mt]=_e($t,ve)):Jt<=ve&&(me.expiredLanes|=$t),gt&=~$t}if(ve=xi,ze=oi,ze=we(me,me===ve?ze:0),st=me.callbackNode,ze===0||me===ve&&yi===2||me.cancelPendingCommit!==null)return st!==null&&st!==null&&dl(st),me.callbackNode=null,me.callbackPriority=0;if(!(ze&3)||Fe(me,ze)){if(ve=ze&-ze,ve===me.callbackPriority)return ve;switch(st!==null&&dl(st),Be(ze)){case 2:case 8:ze=Uh;break;case 32:ze=fl;break;case 268435456:ze=Hh;break;default:ze=fl}return st=ut.bind(null,me),ze=Ys(ze,st),me.callbackPriority=ve,me.callbackNode=ze,ve}return st!==null&&st!==null&&dl(st),me.callbackPriority=2,me.callbackNode=null,2}function ut(me,ve){var ze=me.callbackNode;if(ya()&&me.callbackNode!==ze)return null;var st=oi;return st=we(me,me===xi?st:0),st===0?null:(wc(me,st,ve),lt(me,Ar()),me.callbackNode!=null&&me.callbackNode===ze?ut.bind(null,me):null)}function ft(me,ve){if(ya())return null;wc(me,ve,!0)}function pt(me){N0?B0(function(){gi&6?Ys(_u,me):me()}):Ys(_u,me)}function mt(){return Qa===0&&(Qa=Ee()),Qa}function xt(me,ve){if(_s===null){var ze=_s=[];yl=0,Ja=mt(),es={status:"pending",value:void 0,then:function(st){ze.push(st)}}}return yl++,ve.then(vt,vt),ve}function vt(){if(--yl===0&&_s!==null){es!==null&&(es.status="fulfilled");var me=_s;_s=null,Ja=0,es=null;for(var ve=0;ve<me.length;ve++)(0,me[ve])()}}function wt(me,ve){var ze=[],st={status:"pending",value:null,reason:null,then:function(dt){ze.push(dt)}};return me.then(function(){st.status="fulfilled",st.value=ve;for(var dt=0;dt<ze.length;dt++)(0,ze[dt])(ve)},function(dt){for(st.status="rejected",st.reason=dt,dt=0;dt<ze.length;dt++)(0,ze[dt])(void 0)}),st}function _t(me){me.updateQueue={baseState:me.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tt(me,ve){me=me.updateQueue,ve.updateQueue===me&&(ve.updateQueue={baseState:me.baseState,firstBaseUpdate:me.firstBaseUpdate,lastBaseUpdate:me.lastBaseUpdate,shared:me.shared,callbacks:null})}function Lt(me){return{lane:me,tag:0,payload:null,callback:null,next:null}}function jt(me,ve,ze){var st=me.updateQueue;if(st===null)return null;if(st=st.shared,gi&2){var dt=st.pending;return dt===null?ve.next=ve:(ve.next=dt.next,dt.next=ve),st.pending=ve,ve=et(me),rt(me,null,ze),ve}return nt(me,st,ve,ze),et(me)}function Bt(me,ve,ze){if(ve=ve.updateQueue,ve!==null&&(ve=ve.shared,(ze&4194176)!==0)){var st=ve.lanes;st&=me.pendingLanes,ze|=st,ve.lanes=ze,$e(me,ze)}}function St(me,ve){var ze=me.updateQueue,st=me.alternate;if(st!==null&&(st=st.updateQueue,ze===st)){var dt=null,gt=null;if(ze=ze.firstBaseUpdate,ze!==null){do{var Mt={lane:ze.lane,tag:ze.tag,payload:ze.payload,callback:null,next:null};gt===null?dt=gt=Mt:gt=gt.next=Mt,ze=ze.next}while(ze!==null);gt===null?dt=gt=ve:gt=gt.next=ve}else dt=gt=ve;ze={baseState:st.baseState,firstBaseUpdate:dt,lastBaseUpdate:gt,shared:st.shared,callbacks:st.callbacks},me.updateQueue=ze;return}me=ze.lastBaseUpdate,me===null?ze.firstBaseUpdate=ve:me.next=ve,ze.lastBaseUpdate=ve}function Ft(){if(bl){var me=es;if(me!==null)throw me}}function Ct(me,ve,ze,st){bl=!1;var dt=me.updateQueue;ia=!1;var gt=dt.firstBaseUpdate,Mt=dt.lastBaseUpdate,$t=dt.shared.pending;if($t!==null){dt.shared.pending=null;var Jt=$t,gn=Jt.next;Jt.next=null,Mt===null?gt=gn:Mt.next=gn,Mt=Jt;var Mn=me.alternate;Mn!==null&&(Mn=Mn.updateQueue,$t=Mn.lastBaseUpdate,$t!==Mt&&($t===null?Mn.firstBaseUpdate=gn:$t.next=gn,Mn.lastBaseUpdate=Jt))}if(gt!==null){var Nn=dt.baseState;Mt=0,Mn=gn=Jt=null,$t=gt;do{var Un=$t.lane&-536870913,Jn=Un!==$t.lane;if(Jn?(oi&Un)===Un:(st&Un)===Un){Un!==0&&Un===Ja&&(bl=!0),Mn!==null&&(Mn=Mn.next={lane:0,tag:$t.tag,payload:$t.payload,callback:null,next:null});e:{var yr=me,Ds=$t;Un=ve;var Pa=ze;switch(Ds.tag){case 1:if(yr=Ds.payload,typeof yr=="function"){Nn=yr.call(Pa,Nn,Un);break e}Nn=yr;break e;case 3:yr.flags=yr.flags&-65537|128;case 0:if(yr=Ds.payload,Un=typeof yr=="function"?yr.call(Pa,Nn,Un):yr,Un==null)break e;Nn=Qo({},Nn,Un);break e;case 2:ia=!0}}Un=$t.callback,Un!==null&&(me.flags|=64,Jn&&(me.flags|=8192),Jn=dt.callbacks,Jn===null?dt.callbacks=[Un]:Jn.push(Un))}else Jn={lane:Un,tag:$t.tag,payload:$t.payload,callback:$t.callback,next:null},Mn===null?(gn=Mn=Jn,Jt=Nn):Mn=Mn.next=Jn,Mt|=Un;if($t=$t.next,$t===null){if($t=dt.shared.pending,$t===null)break;Jn=$t,$t=Jn.next,Jn.next=null,dt.lastBaseUpdate=Jn,dt.shared.pending=null}}while(!0);Mn===null&&(Jt=Nn),dt.baseState=Jt,dt.firstBaseUpdate=gn,dt.lastBaseUpdate=Mn,gt===null&&(dt.shared.lanes=0),sa|=Mt,me.lanes=Mt,me.memoizedState=Nn}}function yt(me,ve){if(typeof me!="function")throw Error(ie(191,me));me.call(ve)}function bt(me,ve){var ze=me.callbacks;if(ze!==null)for(me.callbacks=null,me=0;me<ze.length;me++)yt(ze[me],ve)}function Pt(me,ve){if(sr(me,ve))return!0;if(typeof me!="object"||me===null||typeof ve!="object"||ve===null)return!1;var ze=Object.keys(me),st=Object.keys(ve);if(ze.length!==st.length)return!1;for(st=0;st<ze.length;st++){var dt=ze[st];if(!jh.call(ve,dt)||!sr(me[dt],ve[dt]))return!1}return!0}function Ut(me){return me=me.status,me==="fulfilled"||me==="rejected"}function Yt(){}function kt(me,ve,ze){switch(ze=me[ze],ze===void 0?me.push(ve):ze!==ve&&(ve.then(Yt,Yt),ve=ze),ve.status){case"fulfilled":return ve.value;case"rejected":throw me=ve.reason,me===Es?Error(ie(483)):me;default:if(typeof ve.status=="string")ve.then(Yt,Yt);else{if(me=xi,me!==null&&100<me.shellSuspendCounter)throw Error(ie(482));me=ve,me.status="pending",me.then(function(st){if(ve.status==="pending"){var dt=ve;dt.status="fulfilled",dt.value=st}},function(st){if(ve.status==="pending"){var dt=ve;dt.status="rejected",dt.reason=st}})}switch(ve.status){case"fulfilled":return ve.value;case"rejected":throw me=ve.reason,me===Es?Error(ie(483)):me}throw ts=ve,Es}}function Ot(){if(ts===null)throw Error(ie(459));var me=ts;return ts=null,me}function Et(me){var ve=Cs;return Cs+=1,ns===null&&(ns=[]),kt(ns,me,ve)}function nn(me,ve){ve=ve.props.ref,me.ref=ve!==void 0?ve:null}function en(me,ve){throw ve.$$typeof===g0?Error(ie(525)):(me=Object.prototype.toString.call(ve),Error(ie(31,me==="[object Object]"?"object with keys {"+Object.keys(ve).join(", ")+"}":me)))}function an(me){var ve=me._init;return ve(me._payload)}function Sn(me){function ve(ln,Zt){if(me){var hn=ln.deletions;hn===null?(ln.deletions=[Zt],ln.flags|=16):hn.push(Zt)}}function ze(ln,Zt){if(!me)return null;for(;Zt!==null;)ve(ln,Zt),Zt=Zt.sibling;return null}function st(ln){for(var Zt=new Map;ln!==null;)ln.key!==null?Zt.set(ln.key,ln):Zt.set(ln.index,ln),ln=ln.sibling;return Zt}function dt(ln,Zt){return ln=Qr(ln,Zt),ln.index=0,ln.sibling=null,ln}function gt(ln,Zt,hn){return ln.index=hn,me?(hn=ln.alternate,hn!==null?(hn=hn.index,hn<Zt?(ln.flags|=33554434,Zt):hn):(ln.flags|=33554434,Zt)):(ln.flags|=1048576,Zt)}function Mt(ln){return me&&ln.alternate===null&&(ln.flags|=33554434),ln}function $t(ln,Zt,hn,Cn){return Zt===null||Zt.tag!==6?(Zt=Yo(hn,ln.mode,Cn),Zt.return=ln,Zt):(Zt=dt(Zt,hn),Zt.return=ln,Zt)}function Jt(ln,Zt,hn,Cn){var jn=hn.type;return jn===$a?Mn(ln,Zt,hn.props.children,Cn,hn.key):Zt!==null&&(Zt.elementType===jn||typeof jn=="object"&&jn!==null&&jn.$$typeof===ea&&an(jn)===Zt.type)?(Zt=dt(Zt,hn.props),nn(Zt,hn),Zt.return=ln,Zt):(Zt=js(hn.type,hn.key,hn.props,null,ln.mode,Cn),nn(Zt,hn),Zt.return=ln,Zt)}function gn(ln,Zt,hn,Cn){return Zt===null||Zt.tag!==4||Zt.stateNode.containerInfo!==hn.containerInfo||Zt.stateNode.implementation!==hn.implementation?(Zt=Ko(hn,ln.mode,Cn),Zt.return=ln,Zt):(Zt=dt(Zt,hn.children||[]),Zt.return=ln,Zt)}function Mn(ln,Zt,hn,Cn,jn){return Zt===null||Zt.tag!==7?(Zt=ba(hn,ln.mode,Cn,jn),Zt.return=ln,Zt):(Zt=dt(Zt,hn),Zt.return=ln,Zt)}function Nn(ln,Zt,hn){if(typeof Zt=="string"&&Zt!==""||typeof Zt=="number"||typeof Zt=="bigint")return Zt=Yo(""+Zt,ln.mode,hn),Zt.return=ln,Zt;if(typeof Zt=="object"&&Zt!==null){switch(Zt.$$typeof){case $s:return hn=js(Zt.type,Zt.key,Zt.props,null,ln.mode,hn),nn(hn,Zt),hn.return=ln,hn;case ja:return Zt=Ko(Zt,ln.mode,hn),Zt.return=ln,Zt;case ea:var Cn=Zt._init;return Zt=Cn(Zt._payload),Nn(ln,Zt,hn)}if(Gs(Zt)||se(Zt))return Zt=ba(Zt,ln.mode,hn,null),Zt.return=ln,Zt;if(typeof Zt.then=="function")return Nn(ln,Et(Zt),hn);if(Zt.$$typeof===Jr)return Nn(ln,Ns(ln,Zt),hn);en(ln,Zt)}return null}function Un(ln,Zt,hn,Cn){var jn=Zt!==null?Zt.key:null;if(typeof hn=="string"&&hn!==""||typeof hn=="number"||typeof hn=="bigint")return jn!==null?null:$t(ln,Zt,""+hn,Cn);if(typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case $s:return hn.key===jn?Jt(ln,Zt,hn,Cn):null;case ja:return hn.key===jn?gn(ln,Zt,hn,Cn):null;case ea:return jn=hn._init,hn=jn(hn._payload),Un(ln,Zt,hn,Cn)}if(Gs(hn)||se(hn))return jn!==null?null:Mn(ln,Zt,hn,Cn,null);if(typeof hn.then=="function")return Un(ln,Zt,Et(hn),Cn);if(hn.$$typeof===Jr)return Un(ln,Zt,Ns(ln,hn),Cn);en(ln,hn)}return null}function Jn(ln,Zt,hn,Cn,jn){if(typeof Cn=="string"&&Cn!==""||typeof Cn=="number"||typeof Cn=="bigint")return ln=ln.get(hn)||null,$t(Zt,ln,""+Cn,jn);if(typeof Cn=="object"&&Cn!==null){switch(Cn.$$typeof){case $s:return ln=ln.get(Cn.key===null?hn:Cn.key)||null,Jt(Zt,ln,Cn,jn);case ja:return ln=ln.get(Cn.key===null?hn:Cn.key)||null,gn(Zt,ln,Cn,jn);case ea:var bi=Cn._init;return Cn=bi(Cn._payload),Jn(ln,Zt,hn,Cn,jn)}if(Gs(Cn)||se(Cn))return ln=ln.get(hn)||null,Mn(Zt,ln,Cn,jn,null);if(typeof Cn.then=="function")return Jn(ln,Zt,hn,Et(Cn),jn);if(Cn.$$typeof===Jr)return Jn(ln,Zt,hn,Ns(Zt,Cn),jn);en(Zt,Cn)}return null}function yr(ln,Zt,hn,Cn){for(var jn=null,bi=null,Wn=Zt,ui=Zt=0,Ui=null;Wn!==null&&ui<hn.length;ui++){Wn.index>ui?(Ui=Wn,Wn=null):Ui=Wn.sibling;var hi=Un(ln,Wn,hn[ui],Cn);if(hi===null){Wn===null&&(Wn=Ui);break}me&&Wn&&hi.alternate===null&&ve(ln,Wn),Zt=gt(hi,Zt,ui),bi===null?jn=hi:bi.sibling=hi,bi=hi,Wn=Ui}if(ui===hn.length)return ze(ln,Wn),ci&&Ve(ln,ui),jn;if(Wn===null){for(;ui<hn.length;ui++)Wn=Nn(ln,hn[ui],Cn),Wn!==null&&(Zt=gt(Wn,Zt,ui),bi===null?jn=Wn:bi.sibling=Wn,bi=Wn);return ci&&Ve(ln,ui),jn}for(Wn=st(Wn);ui<hn.length;ui++)Ui=Jn(Wn,ln,ui,hn[ui],Cn),Ui!==null&&(me&&Ui.alternate!==null&&Wn.delete(Ui.key===null?ui:Ui.key),Zt=gt(Ui,Zt,ui),bi===null?jn=Ui:bi.sibling=Ui,bi=Ui);return me&&Wn.forEach(function(la){return ve(ln,la)}),ci&&Ve(ln,ui),jn}function Ds(ln,Zt,hn,Cn){if(hn==null)throw Error(ie(151));for(var jn=null,bi=null,Wn=Zt,ui=Zt=0,Ui=null,hi=hn.next();Wn!==null&&!hi.done;ui++,hi=hn.next()){Wn.index>ui?(Ui=Wn,Wn=null):Ui=Wn.sibling;var la=Un(ln,Wn,hi.value,Cn);if(la===null){Wn===null&&(Wn=Ui);break}me&&Wn&&la.alternate===null&&ve(ln,Wn),Zt=gt(la,Zt,ui),bi===null?jn=la:bi.sibling=la,bi=la,Wn=Ui}if(hi.done)return ze(ln,Wn),ci&&Ve(ln,ui),jn;if(Wn===null){for(;!hi.done;ui++,hi=hn.next())hi=Nn(ln,hi.value,Cn),hi!==null&&(Zt=gt(hi,Zt,ui),bi===null?jn=hi:bi.sibling=hi,bi=hi);return ci&&Ve(ln,ui),jn}for(Wn=st(Wn);!hi.done;ui++,hi=hn.next())hi=Jn(Wn,ln,ui,hi.value,Cn),hi!==null&&(me&&hi.alternate!==null&&Wn.delete(hi.key===null?ui:hi.key),Zt=gt(hi,Zt,ui),bi===null?jn=hi:bi.sibling=hi,bi=hi);return me&&Wn.forEach(function(Kh){return ve(ln,Kh)}),ci&&Ve(ln,ui),jn}function Pa(ln,Zt,hn,Cn){if(typeof hn=="object"&&hn!==null&&hn.type===$a&&hn.key===null&&(hn=hn.props.children),typeof hn=="object"&&hn!==null){switch(hn.$$typeof){case $s:e:{for(var jn=hn.key;Zt!==null;){if(Zt.key===jn){if(jn=hn.type,jn===$a){if(Zt.tag===7){ze(ln,Zt.sibling),Cn=dt(Zt,hn.props.children),Cn.return=ln,ln=Cn;break e}}else if(Zt.elementType===jn||typeof jn=="object"&&jn!==null&&jn.$$typeof===ea&&an(jn)===Zt.type){ze(ln,Zt.sibling),Cn=dt(Zt,hn.props),nn(Cn,hn),Cn.return=ln,ln=Cn;break e}ze(ln,Zt);break}else ve(ln,Zt);Zt=Zt.sibling}hn.type===$a?(Cn=ba(hn.props.children,ln.mode,Cn,hn.key),Cn.return=ln,ln=Cn):(Cn=js(hn.type,hn.key,hn.props,null,ln.mode,Cn),nn(Cn,hn),Cn.return=ln,ln=Cn)}return Mt(ln);case ja:e:{for(jn=hn.key;Zt!==null;){if(Zt.key===jn)if(Zt.tag===4&&Zt.stateNode.containerInfo===hn.containerInfo&&Zt.stateNode.implementation===hn.implementation){ze(ln,Zt.sibling),Cn=dt(Zt,hn.children||[]),Cn.return=ln,ln=Cn;break e}else{ze(ln,Zt);break}else ve(ln,Zt);Zt=Zt.sibling}Cn=Ko(hn,ln.mode,Cn),Cn.return=ln,ln=Cn}return Mt(ln);case ea:return jn=hn._init,hn=jn(hn._payload),Pa(ln,Zt,hn,Cn)}if(Gs(hn))return yr(ln,Zt,hn,Cn);if(se(hn)){if(jn=se(hn),typeof jn!="function")throw Error(ie(150));return hn=jn.call(hn),Ds(ln,Zt,hn,Cn)}if(typeof hn.then=="function")return Pa(ln,Zt,Et(hn),Cn);if(hn.$$typeof===Jr)return Pa(ln,Zt,Ns(ln,hn),Cn);en(ln,hn)}return typeof hn=="string"&&hn!==""||typeof hn=="number"||typeof hn=="bigint"?(hn=""+hn,Zt!==null&&Zt.tag===6?(ze(ln,Zt.sibling),Cn=dt(Zt,hn),Cn.return=ln,ln=Cn):(ze(ln,Zt),Cn=Yo(hn,ln.mode,Cn),Cn.return=ln,ln=Cn),Mt(ln)):ze(ln,Zt)}return function(ln,Zt,hn,Cn){try{Cs=0;var jn=Pa(ln,Zt,hn,Cn);return ns=null,jn}catch(Wn){if(Wn===Es)throw Wn;var bi=te(29,Wn,null,ln.mode);return bi.lanes=Cn,bi.return=ln,bi}finally{}}}function sn(me,ve){me=Gr,be(no,me),be(rs,ve),Gr=me|ve.baseLanes}function yn(){be(no,Gr),be(rs,rs.current)}function On(){Gr=no.current,fe(rs),fe(no)}function tn(me){var ve=me.alternate;be(Ii,Ii.current&1),be(gr,me),Rr===null&&(ve===null||rs.current!==null||ve.memoizedState!==null)&&(Rr=me)}function Dn(me){if(me.tag===22){if(be(Ii,Ii.current),be(gr,me),Rr===null){var ve=me.alternate;ve!==null&&ve.memoizedState!==null&&(Rr=me)}}else xn()}function xn(){be(Ii,Ii.current),be(gr,gr.current)}function Hn(me){fe(gr),Rr===me&&(Rr=null),fe(Ii)}function In(me){for(var ve=me;ve!==null;){if(ve.tag===13){var ze=ve.memoizedState;if(ze!==null&&(ze=ze.dehydrated,ze===null||ll(ze)||cl(ze)))return ve}else if(ve.tag===19&&ve.memoizedProps.revealOrder!==void 0){if(ve.flags&128)return ve}else if(ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===me)break;for(;ve.sibling===null;){if(ve.return===null||ve.return===me)return null;ve=ve.return}ve.sibling.return=ve.return,ve=ve.sibling}return null}function _n(){throw Error(ie(321))}function wn(me,ve){if(ve===null)return!1;for(var ze=0;ze<ve.length&&ze<me.length;ze++)if(!sr(me[ze],ve[ze]))return!1;return!0}function ei(me,ve,ze,st,dt,gt){return ra=gt,ti=ve,ve.memoizedState=null,ve.updateQueue=null,ve.lanes=0,Kn.H=me===null||me.memoizedState===null?Ca:aa,Ea=!1,gt=ze(st,dt),Ea=!1,as&&(gt=on(ve,ze,st,dt)),ni(me),gt}function ni(me){Kn.H=Fr;var ve=mi!==null&&mi.next!==null;if(ra=0,Fi=mi=ti=null,io=!1,Ts=0,ss=null,ve)throw Error(ie(300));me===null||Ni||(me=me.dependencies,me!==null&&Ls(me)&&(Ni=!0))}function on(me,ve,ze,st){ti=me;var dt=0;do{if(as&&(ss=null),Ts=0,as=!1,25<=dt)throw Error(ie(301));if(dt+=1,Fi=mi=null,me.updateQueue!=null){var gt=me.updateQueue;gt.lastEffect=null,gt.events=null,gt.stores=null,gt.memoCache!=null&&(gt.memoCache.index=0)}Kn.H=Ta,gt=ve(ze,st)}while(as);return gt}function Kt(){var me=Kn.H,ve=me.useState()[0];return ve=typeof ve.then=="function"?Nt(ve):ve,me=me.useState()[0],(mi!==null?mi.memoizedState:null)!==me&&(ti.flags|=1024),ve}function un(){var me=ro!==0;return ro=0,me}function fn(me,ve,ze){ve.updateQueue=me.updateQueue,ve.flags&=-2053,me.lanes&=~ze}function vn(me){if(io){for(me=me.memoizedState;me!==null;){var ve=me.queue;ve!==null&&(ve.pending=null),me=me.next}io=!1}ra=0,Fi=mi=ti=null,as=!1,Ts=ro=0,ss=null}function At(){var me={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fi===null?ti.memoizedState=Fi=me:Fi=Fi.next=me,Fi}function Dt(){if(mi===null){var me=ti.alternate;me=me!==null?me.memoizedState:null}else me=mi.next;var ve=Fi===null?ti.memoizedState:Fi.next;if(ve!==null)Fi=ve,mi=me;else{if(me===null)throw ti.alternate===null?Error(ie(467)):Error(ie(310));mi=me,me={memoizedState:mi.memoizedState,baseState:mi.baseState,baseQueue:mi.baseQueue,queue:mi.queue,next:null},Fi===null?ti.memoizedState=Fi=me:Fi=Fi.next=me}return Fi}function Nt(me){var ve=Ts;return Ts+=1,ss===null&&(ss=[]),me=kt(ss,me,ve),ve=ti,(Fi===null?ve.memoizedState:Fi.next)===null&&(ve=ve.alternate,Kn.H=ve===null||ve.memoizedState===null?Ca:aa),me}function zt(me){if(me!==null&&typeof me=="object"){if(typeof me.then=="function")return Nt(me);if(me.$$typeof===Jr)return zi(me)}throw Error(ie(438,String(me)))}function Ht(me){var ve=null,ze=ti.updateQueue;if(ze!==null&&(ve=ze.memoCache),ve==null){var st=ti.alternate;st!==null&&(st=st.updateQueue,st!==null&&(st=st.memoCache,st!=null&&(ve={data:st.data.map(function(dt){return dt.slice()}),index:0})))}if(ve==null&&(ve={data:[],index:0}),ze===null&&(ze=Sl(),ti.updateQueue=ze),ze.memoCache=ve,ze=ve.data[ve.index],ze===void 0)for(ze=ve.data[ve.index]=Array(me),st=0;st<me;st++)ze[st]=y0;return ve.index++,ze}function rn(me,ve){return typeof ve=="function"?ve(me):ve}function dn(me){var ve=Dt();return cn(ve,mi,me)}function cn(me,ve,ze){var st=me.queue;if(st===null)throw Error(ie(311));st.lastRenderedReducer=ze;var dt=me.baseQueue,gt=st.pending;if(gt!==null){if(dt!==null){var Mt=dt.next;dt.next=gt.next,gt.next=Mt}ve.baseQueue=dt=gt,st.pending=null}if(gt=me.baseState,dt===null)me.memoizedState=gt;else{ve=dt.next;var $t=Mt=null,Jt=null,gn=ve,Mn=!1;do{var Nn=gn.lane&-536870913;if(Nn!==gn.lane?(oi&Nn)===Nn:(ra&Nn)===Nn){var Un=gn.revertLane;if(Un===0)Jt!==null&&(Jt=Jt.next={lane:0,revertLane:0,action:gn.action,hasEagerState:gn.hasEagerState,eagerState:gn.eagerState,next:null}),Nn===Ja&&(Mn=!0);else if((ra&Un)===Un){gn=gn.next,Un===Ja&&(Mn=!0);continue}else Nn={lane:0,revertLane:gn.revertLane,action:gn.action,hasEagerState:gn.hasEagerState,eagerState:gn.eagerState,next:null},Jt===null?($t=Jt=Nn,Mt=gt):Jt=Jt.next=Nn,ti.lanes|=Un,sa|=Un;Nn=gn.action,Ea&&ze(gt,Nn),gt=gn.hasEagerState?gn.eagerState:ze(gt,Nn)}else Un={lane:Nn,revertLane:gn.revertLane,action:gn.action,hasEagerState:gn.hasEagerState,eagerState:gn.eagerState,next:null},Jt===null?($t=Jt=Un,Mt=gt):Jt=Jt.next=Un,ti.lanes|=Nn,sa|=Nn;gn=gn.next}while(gn!==null&&gn!==ve);if(Jt===null?Mt=gt:Jt.next=$t,!sr(gt,me.memoizedState)&&(Ni=!0,Mn&&(ze=es,ze!==null)))throw ze;me.memoizedState=gt,me.baseState=Mt,me.baseQueue=Jt,st.lastRenderedState=gt}return dt===null&&(st.lanes=0),[me.memoizedState,st.dispatch]}function Rt(me){var ve=Dt(),ze=ve.queue;if(ze===null)throw Error(ie(311));ze.lastRenderedReducer=me;var st=ze.dispatch,dt=ze.pending,gt=ve.memoizedState;if(dt!==null){ze.pending=null;var Mt=dt=dt.next;do gt=me(gt,Mt.action),Mt=Mt.next;while(Mt!==dt);sr(gt,ve.memoizedState)||(Ni=!0),ve.memoizedState=gt,ve.baseQueue===null&&(ve.baseState=gt),ze.lastRenderedState=gt}return[gt,st]}function Vt(me,ve,ze){var st=ti,dt=Dt(),gt=ci;if(gt){if(ze===void 0)throw Error(ie(407));ze=ze()}else ze=ve();var Mt=!sr((mi||dt).memoizedState,ze);if(Mt&&(dt.memoizedState=ze,Ni=!0),dt=dt.queue,ca(pn.bind(null,st,dt,me),[me]),dt.getSnapshot!==ve||Mt||Fi!==null&&Fi.memoizedState.tag&1){if(st.flags|=2048,qi(9,Gt.bind(null,st,dt,ze,ve),{destroy:void 0},null),xi===null)throw Error(ie(349));gt||ra&60||Wt(st,ve,ze)}return ze}function Wt(me,ve,ze){me.flags|=16384,me={getSnapshot:ve,value:ze},ve=ti.updateQueue,ve===null?(ve=Sl(),ti.updateQueue=ve,ve.stores=[me]):(ze=ve.stores,ze===null?ve.stores=[me]:ze.push(me))}function Gt(me,ve,ze,st){ve.value=ze,ve.getSnapshot=st,An(ve)&&zn(me)}function pn(me,ve,ze){return ze(function(){An(ve)&&zn(me)})}function An(me){var ve=me.getSnapshot;me=me.value;try{var ze=ve();return!sr(me,ze)}catch{return!0}}function zn(me){var ve=We(me,2);ve!==null&&Xi(ve,me,2)}function Tn(me){var ve=At();if(typeof me=="function"){var ze=me;if(me=ze(),Ea){Ue(!0);try{ze()}finally{Ue(!1)}}}return ve.memoizedState=ve.baseState=me,ve.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:me},ve}function En(me,ve,ze,st){return me.baseState=ze,cn(me,mi,typeof st=="function"?st:rn)}function Rn(me,ve,ze,st,dt){if(mn(me))throw Error(ie(485));if(me=ve.action,me!==null){var gt={payload:dt,action:me,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Mt){gt.listeners.push(Mt)}};Kn.T!==null?ze(!0):gt.isTransition=!1,st(gt),ze=ve.pending,ze===null?(gt.next=ve.pending=gt,Zn(ve,gt)):(gt.next=ze.next,ve.pending=ze.next=gt)}}function Zn(me,ve){var ze=ve.action,st=ve.payload,dt=me.state;if(ve.isTransition){var gt=Kn.T,Mt={};Kn.T=Mt;try{var $t=ze(dt,st),Jt=Kn.S;Jt!==null&&Jt(Mt,$t),Yn(me,ve,$t)}catch(gn){Gi(me,ve,gn)}finally{Kn.T=gt}}else try{gt=ze(dt,st),Yn(me,ve,gt)}catch(gn){Gi(me,ve,gn)}}function Yn(me,ve,ze){ze!==null&&typeof ze=="object"&&typeof ze.then=="function"?ze.then(function(st){ki(me,ve,st)},function(st){return Gi(me,ve,st)}):ki(me,ve,ze)}function ki(me,ve,ze){ve.status="fulfilled",ve.value=ze,Mi(ve),me.state=ze,ve=me.pending,ve!==null&&(ze=ve.next,ze===ve?me.pending=null:(ze=ze.next,ve.next=ze,Zn(me,ze)))}function Gi(me,ve,ze){var st=me.pending;if(me.pending=null,st!==null){st=st.next;do ve.status="rejected",ve.reason=ze,Mi(ve),ve=ve.next;while(ve!==st)}me.action=null}function Mi(me){me=me.listeners;for(var ve=0;ve<me.length;ve++)(0,me[ve])()}function ur(me,ve){return ve}function li(me,ve){if(ci){var ze=xi.formState;if(ze!==null){e:{var st=ti;if(ci){if($i){var dt=ch($i,Mr);if(dt){$i=hu(dt),st=uh(dt);break e}}tt(st)}st=!1}st&&(ve=ze[0])}}ze=At(),ze.memoizedState=ze.baseState=ve,st={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ur,lastRenderedState:ve},ze.queue=st,ze=ht.bind(null,ti,st),st.dispatch=ze,st=Tn(!1);var gt=Qt.bind(null,ti,!1,st.queue);return st=At(),dt={state:ve,dispatch:null,action:me,pending:null},st.queue=dt,ze=Rn.bind(null,ti,dt,gt,ze),dt.dispatch=ze,st.memoizedState=me,[ve,ze,!1]}function Di(me){var ve=Dt();return Oi(ve,mi,me)}function Oi(me,ve,ze){ve=cn(me,ve,ur)[0],me=dn(rn)[0],ve=typeof ve=="object"&&ve!==null&&typeof ve.then=="function"?Nt(ve):ve;var st=Dt(),dt=st.queue,gt=dt.dispatch;return ze!==st.memoizedState&&(ti.flags|=2048,qi(9,Ti.bind(null,dt,ze),{destroy:void 0},null)),[ve,gt,me]}function Ti(me,ve){me.action=ve}function wi(me){var ve=Dt(),ze=mi;if(ze!==null)return Oi(ve,ze,me);Dt(),ve=ve.memoizedState,ze=Dt();var st=ze.queue.dispatch;return ze.memoizedState=me,[ve,st,!1]}function qi(me,ve,ze,st){return me={tag:me,create:ve,inst:ze,deps:st,next:null},ve=ti.updateQueue,ve===null&&(ve=Sl(),ti.updateQueue=ve),ze=ve.lastEffect,ze===null?ve.lastEffect=me.next=me:(st=ze.next,ze.next=me,me.next=st,ve.lastEffect=me),me}function Yi(){return Dt().memoizedState}function Or(me,ve,ze,st){var dt=At();ti.flags|=me,dt.memoizedState=qi(1|ve,ze,{destroy:void 0},st===void 0?null:st)}function Cr(me,ve,ze,st){var dt=Dt();st=st===void 0?null:st;var gt=dt.memoizedState.inst;mi!==null&&st!==null&&wn(st,mi.memoizedState.deps)?dt.memoizedState=qi(ve,ze,gt,st):(ti.flags|=me,dt.memoizedState=qi(1|ve,ze,gt,st))}function Da(me,ve){Or(8390656,8,me,ve)}function ca(me,ve){Cr(2048,8,me,ve)}function Oa(me,ve){return Cr(4,2,me,ve)}function Xr(me,ve){return Cr(4,4,me,ve)}function ua(me,ve){if(typeof ve=="function"){me=me();var ze=ve(me);return function(){typeof ze=="function"?ze():ve(null)}}if(ve!=null)return me=me(),ve.current=me,function(){ve.current=null}}function ha(me,ve,ze){ze=ze!=null?ze.concat([me]):null,Cr(4,4,ua.bind(null,ve,me),ze)}function da(){}function Ia(me,ve){var ze=Dt();ve=ve===void 0?null:ve;var st=ze.memoizedState;return ve!==null&&wn(ve,st[1])?st[0]:(ze.memoizedState=[me,ve],me)}function ka(me,ve){var ze=Dt();ve=ve===void 0?null:ve;var st=ze.memoizedState;if(ve!==null&&wn(ve,st[1]))return st[0];if(st=me(),Ea){Ue(!0);try{me()}finally{Ue(!1)}}return ze.memoizedState=[st,ve],st}function fa(me,ve,ze){return ze===void 0||ra&1073741824?me.memoizedState=ve:(me.memoizedState=ze,me=Tc(),ti.lanes|=me,sa|=me,ze)}function La(me,ve,ze,st){return sr(ze,ve)?ze:rs.current!==null?(me=fa(me,ze,st),sr(me,ve)||(Ni=!0),me):ra&42?(me=Tc(),ti.lanes|=me,sa|=me,ve):(Ni=!0,me.memoizedState=ze)}function Wr(me,ve,ze,st,dt){var gt=va();Qi(gt!==0&&8>gt?gt:8);var Mt=Kn.T,$t={};Kn.T=$t,Qt(me,!1,ve,ze);try{var Jt=dt(),gn=Kn.S;if(gn!==null&&gn($t,Jt),Jt!==null&&typeof Jt=="object"&&typeof Jt.then=="function"){var Mn=wt(Jt,st);Xt(me,ve,Mn,nr(me))}else Xt(me,ve,st,nr(me))}catch(Nn){Xt(me,ve,{then:function(){},status:"rejected",reason:Nn},nr())}finally{Qi(gt),Kn.T=Mt}}function Na(me){var ve=me.memoizedState;if(ve!==null)return ve;ve={memoizedState:Ga,baseState:Ga,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:Ga},next:null};var ze={};return ve.next={memoizedState:ze,baseState:ze,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:ze},next:null},me.memoizedState=ve,me=me.alternate,me!==null&&(me.memoizedState=ve),ve}function Tr(){return zi(Sa)}function Ba(){return Dt().memoizedState}function Ir(){return Dt().memoizedState}function qt(me){for(var ve=me.return;ve!==null;){switch(ve.tag){case 24:case 3:var ze=nr();me=Lt(ze);var st=jt(ve,me,ze);st!==null&&(Xi(st,ve,ze),Bt(st,ve,ze)),ve={cache:Mo()},me.payload=ve;return}ve=ve.return}}function De(me,ve,ze){var st=nr();ze={lane:st,revertLane:0,action:ze,hasEagerState:!1,eagerState:null,next:null},mn(me)?Ln(ve,ze):(ze=Qe(me,ve,ze,st),ze!==null&&(Xi(ze,me,st),kn(ze,ve,st)))}function ht(me,ve,ze){var st=nr();Xt(me,ve,ze,st)}function Xt(me,ve,ze,st){var dt={lane:st,revertLane:0,action:ze,hasEagerState:!1,eagerState:null,next:null};if(mn(me))Ln(ve,dt);else{var gt=me.alternate;if(me.lanes===0&&(gt===null||gt.lanes===0)&&(gt=ve.lastRenderedReducer,gt!==null))try{var Mt=ve.lastRenderedState,$t=gt(Mt,ze);if(dt.hasEagerState=!0,dt.eagerState=$t,sr($t,Mt))return nt(me,ve,dt,0),xi===null&&je(),!1}catch{}finally{}if(ze=Qe(me,ve,dt,st),ze!==null)return Xi(ze,me,st),kn(ze,ve,st),!0}return!1}function Qt(me,ve,ze,st){if(st={lane:2,revertLane:mt(),action:st,hasEagerState:!1,eagerState:null,next:null},mn(me)){if(ve)throw Error(ie(479))}else ve=Qe(me,ze,st,2),ve!==null&&Xi(ve,me,2)}function mn(me){var ve=me.alternate;return me===ti||ve!==null&&ve===ti}function Ln(me,ve){as=io=!0;var ze=me.pending;ze===null?ve.next=ve:(ve.next=ze.next,ze.next=ve),me.pending=ve}function kn(me,ve,ze){if(ze&4194176){var st=ve.lanes;st&=me.pendingLanes,ze|=st,ve.lanes=ze,$e(me,ze)}}function Bn(me,ve,ze,st){ve=me.memoizedState,ze=ze(st,ve),ze=ze==null?ve:Qo({},ve,ze),me.memoizedState=ze,me.lanes===0&&(me.updateQueue.baseState=ze)}function $n(me,ve,ze,st,dt,gt,Mt){return me=me.stateNode,typeof me.shouldComponentUpdate=="function"?me.shouldComponentUpdate(st,gt,Mt):ve.prototype&&ve.prototype.isPureReactComponent?!Pt(ze,st)||!Pt(dt,gt):!0}function Qn(me,ve,ze,st){me=ve.state,typeof ve.componentWillReceiveProps=="function"&&ve.componentWillReceiveProps(ze,st),typeof ve.UNSAFE_componentWillReceiveProps=="function"&&ve.UNSAFE_componentWillReceiveProps(ze,st),ve.state!==me&&Al.enqueueReplaceState(ve,ve.state,null)}function ii(me,ve){var ze=ve;if("ref"in ve){ze={};for(var st in ve)st!=="ref"&&(ze[st]=ve[st])}if(me=me.defaultProps){ze===ve&&(ze=Qo({},ze));for(var dt in me)ze[dt]===void 0&&(ze[dt]=me[dt])}return ze}function ri(me,ve){try{var ze=me.onUncaughtError;ze(ve.value,{componentStack:ve.stack})}catch(st){setTimeout(function(){throw st})}}function fi(me,ve,ze){try{var st=me.onCaughtError;st(ze.value,{componentStack:ze.stack,errorBoundary:ve.tag===1?ve.stateNode:null})}catch(dt){setTimeout(function(){throw dt})}}function di(me,ve,ze){return ze=Lt(ze),ze.tag=3,ze.payload={element:null},ze.callback=function(){ri(me,ve)},ze}function Gn(me){return me=Lt(me),me.tag=3,me}function Si(me,ve,ze,st){var dt=ze.type.getDerivedStateFromError;if(typeof dt=="function"){var gt=st.value;me.payload=function(){return dt(gt)},me.callback=function(){fi(ve,ze,st)}}var Mt=ze.stateNode;Mt!==null&&typeof Mt.componentDidCatch=="function"&&(me.callback=function(){fi(ve,ze,st),typeof dt!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var $t=st.stack;this.componentDidCatch(st.value,{componentStack:$t!==null?$t:""})})}function Xn(me,ve,ze,st,dt){if(ze.flags|=32768,st!==null&&typeof st=="object"&&typeof st.then=="function"){if(ve=ze.alternate,ve!==null&&ds(ve,ze,dt,!0),ze=gr.current,ze!==null){switch(ze.tag){case 13:return Rr===null?Go():ze.alternate===null&&Ci===0&&(Ci=3),ze.flags&=-257,ze.flags|=65536,ze.lanes=dt,st===to?ze.flags|=16384:(ve=ze.updateQueue,ve===null?ze.updateQueue=new Set([st]):ve.add(st),Wo(me,st,dt)),!1;case 22:return ze.flags|=65536,st===to?ze.flags|=16384:(ve=ze.updateQueue,ve===null?(ve={transitions:null,markerInstances:null,retryQueue:new Set([st])},ze.updateQueue=ve):(ze=ve.retryQueue,ze===null?ve.retryQueue=new Set([st]):ze.add(st)),Wo(me,st,dt)),!1}throw Error(ie(435,ze.tag))}return Wo(me,st,dt),Go(),!1}if(ci)return ve=gr.current,ve!==null?(!(ve.flags&65536)&&(ve.flags|=256),ve.flags|=65536,ve.lanes=dt,st!==pl&&(me=Error(ie(422),{cause:st}),Ke(Me(me,ze)))):(st!==pl&&(ve=Error(ie(423),{cause:st}),Ke(Me(ve,ze))),me=me.current.alternate,me.flags|=65536,dt&=-dt,me.lanes|=dt,st=Me(st,ze),dt=di(me.stateNode,st,dt),St(me,dt),Ci!==4&&(Ci=2)),!1;var gt=Error(ie(520),{cause:st});if(gt=Me(gt,ze),Ms===null?Ms=[gt]:Ms.push(gt),Ci!==4&&(Ci=2),ve===null)return!0;st=Me(st,ze),ze=ve;do{switch(ze.tag){case 3:return ze.flags|=65536,me=dt&-dt,ze.lanes|=me,me=di(ze.stateNode,st,me),St(ze,me),!1;case 1:if(ve=ze.type,gt=ze.stateNode,(ze.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||gt!==null&&typeof gt.componentDidCatch=="function"&&(oa===null||!oa.has(gt))))return ze.flags|=65536,dt&=-dt,ze.lanes|=dt,dt=Gn(dt),Si(dt,me,ze,st),St(ze,dt),!1}ze=ze.return}while(ze!==null);return!1}function Vn(me,ve,ze,st){ve.child=me===null?Cu(ve,null,ze,st):_a(ve,me.child,ze,st)}function Li(me,ve,ze,st,dt){ze=ze.render;var gt=ve.ref;if("ref"in st){var Mt={};for(var $t in st)$t!=="ref"&&(Mt[$t]=st[$t])}else Mt=st;return ma(ve),st=ei(me,ve,ze,Mt,gt,dt),$t=un(),me!==null&&!Ni?(fn(me,ve,dt),kr(me,ve,dt)):(ci&&$t&&Ie(ve),ve.flags|=1,Vn(me,ve,st,dt),ve.child)}function qn(me,ve,ze,st,dt){if(me===null){var gt=ze.type;return typeof gt=="function"&&!qo(gt)&&gt.defaultProps===void 0&&ze.compare===null?(ve.tag=15,ve.type=gt,br(me,ve,gt,st,dt)):(me=js(ze.type,null,st,ve,ve.mode,dt),me.ref=ve.ref,me.return=ve,ve.child=me)}if(gt=me.child,!Co(me,dt)){var Mt=gt.memoizedProps;if(ze=ze.compare,ze=ze!==null?ze:Pt,ze(Mt,st)&&me.ref===ve.ref)return kr(me,ve,dt)}return ve.flags|=1,me=Qr(gt,st),me.ref=ve.ref,me.return=ve,ve.child=me}function br(me,ve,ze,st,dt){if(me!==null){var gt=me.memoizedProps;if(Pt(gt,st)&&me.ref===ve.ref)if(Ni=!1,ve.pendingProps=st=gt,Co(me,dt))me.flags&131072&&(Ni=!0);else return ve.lanes=me.lanes,kr(me,ve,dt)}return wr(me,ve,ze,st,dt)}function Ki(me,ve,ze){var st=ve.pendingProps,dt=st.children,gt=(ve.stateNode._pendingVisibility&2)!==0,Mt=me!==null?me.memoizedState:null;if(vr(me,ve),st.mode==="hidden"||gt){if(ve.flags&128){if(st=Mt!==null?Mt.baseLanes|ze:ze,me!==null){for(dt=ve.child=me.child,gt=0;dt!==null;)gt=gt|dt.lanes|dt.childLanes,dt=dt.sibling;ve.childLanes=gt&~st}else ve.childLanes=0,ve.child=null;return Ri(me,ve,st,ze)}if(ze&536870912)ve.memoizedState={baseLanes:0,cachePool:null},me!==null&&Bs(ve,Mt!==null?Mt.cachePool:null),Mt!==null?sn(ve,Mt):yn(),Dn(ve);else return ve.lanes=ve.childLanes=536870912,Ri(me,ve,Mt!==null?Mt.baseLanes|ze:ze,ze)}else Mt!==null?(Bs(ve,Mt.cachePool),sn(ve,Mt),xn(),ve.memoizedState=null):(me!==null&&Bs(ve,null),yn(),xn());return Vn(me,ve,dt,ze),ve.child}function Ri(me,ve,ze,st){var dt=Ro();return dt=dt===null?null:{parent:Ur?_i._currentValue:_i._currentValue2,pool:dt},ve.memoizedState={baseLanes:ze,cachePool:dt},me!==null&&Bs(ve,null),yn(),Dn(ve),me!==null&&ds(me,ve,st,!0),null}function vr(me,ve){var ze=ve.ref;if(ze===null)me!==null&&me.ref!==null&&(ve.flags|=2097664);else{if(typeof ze!="function"&&typeof ze!="object")throw Error(ie(284));(me===null||me.ref!==ze)&&(ve.flags|=2097664)}}function wr(me,ve,ze,st,dt){return ma(ve),ze=ei(me,ve,ze,st,void 0,dt),st=un(),me!==null&&!Ni?(fn(me,ve,dt),kr(me,ve,dt)):(ci&&st&&Ie(ve),ve.flags|=1,Vn(me,ve,ze,dt),ve.child)}function ks(me,ve,ze,st,dt,gt){return ma(ve),ve.updateQueue=null,ze=on(ve,st,ze,dt),ni(me),st=un(),me!==null&&!Ni?(fn(me,ve,gt),kr(me,ve,gt)):(ci&&st&&Ie(ve),ve.flags|=1,Vn(me,ve,ze,gt),ve.child)}function pa(me,ve,ze,st,dt){if(ma(ve),ve.stateNode===null){var gt=Wa,Mt=ze.contextType;typeof Mt=="object"&&Mt!==null&&(gt=zi(Mt)),gt=new ze(st,gt),ve.memoizedState=gt.state!==null&&gt.state!==void 0?gt.state:null,gt.updater=Al,ve.stateNode=gt,gt._reactInternals=ve,gt=ve.stateNode,gt.props=st,gt.state=ve.memoizedState,gt.refs={},_t(ve),Mt=ze.contextType,gt.context=typeof Mt=="object"&&Mt!==null?zi(Mt):Wa,gt.state=ve.memoizedState,Mt=ze.getDerivedStateFromProps,typeof Mt=="function"&&(Bn(ve,ze,Mt,st),gt.state=ve.memoizedState),typeof ze.getDerivedStateFromProps=="function"||typeof gt.getSnapshotBeforeUpdate=="function"||typeof gt.UNSAFE_componentWillMount!="function"&&typeof gt.componentWillMount!="function"||(Mt=gt.state,typeof gt.componentWillMount=="function"&&gt.componentWillMount(),typeof gt.UNSAFE_componentWillMount=="function"&&gt.UNSAFE_componentWillMount(),Mt!==gt.state&&Al.enqueueReplaceState(gt,gt.state,null),Ct(ve,st,gt,dt),Ft(),gt.state=ve.memoizedState),typeof gt.componentDidMount=="function"&&(ve.flags|=4194308),st=!0}else if(me===null){gt=ve.stateNode;var $t=ve.memoizedProps,Jt=ii(ze,$t);gt.props=Jt;var gn=gt.context,Mn=ze.contextType;Mt=Wa,typeof Mn=="object"&&Mn!==null&&(Mt=zi(Mn));var Nn=ze.getDerivedStateFromProps;Mn=typeof Nn=="function"||typeof gt.getSnapshotBeforeUpdate=="function",$t=ve.pendingProps!==$t,Mn||typeof gt.UNSAFE_componentWillReceiveProps!="function"&&typeof gt.componentWillReceiveProps!="function"||($t||gn!==Mt)&&Qn(ve,gt,st,Mt),ia=!1;var Un=ve.memoizedState;gt.state=Un,Ct(ve,st,gt,dt),Ft(),gn=ve.memoizedState,$t||Un!==gn||ia?(typeof Nn=="function"&&(Bn(ve,ze,Nn,st),gn=ve.memoizedState),(Jt=ia||$n(ve,ze,Jt,st,Un,gn,Mt))?(Mn||typeof gt.UNSAFE_componentWillMount!="function"&&typeof gt.componentWillMount!="function"||(typeof gt.componentWillMount=="function"&&gt.componentWillMount(),typeof gt.UNSAFE_componentWillMount=="function"&&gt.UNSAFE_componentWillMount()),typeof gt.componentDidMount=="function"&&(ve.flags|=4194308)):(typeof gt.componentDidMount=="function"&&(ve.flags|=4194308),ve.memoizedProps=st,ve.memoizedState=gn),gt.props=st,gt.state=gn,gt.context=Mt,st=Jt):(typeof gt.componentDidMount=="function"&&(ve.flags|=4194308),st=!1)}else{gt=ve.stateNode,Tt(me,ve),Mt=ve.memoizedProps,Mn=ii(ze,Mt),gt.props=Mn,Nn=ve.pendingProps,Un=gt.context,gn=ze.contextType,Jt=Wa,typeof gn=="object"&&gn!==null&&(Jt=zi(gn)),$t=ze.getDerivedStateFromProps,(gn=typeof $t=="function"||typeof gt.getSnapshotBeforeUpdate=="function")||typeof gt.UNSAFE_componentWillReceiveProps!="function"&&typeof gt.componentWillReceiveProps!="function"||(Mt!==Nn||Un!==Jt)&&Qn(ve,gt,st,Jt),ia=!1,Un=ve.memoizedState,gt.state=Un,Ct(ve,st,gt,dt),Ft();var Jn=ve.memoizedState;Mt!==Nn||Un!==Jn||ia||me!==null&&me.dependencies!==null&&Ls(me.dependencies)?(typeof $t=="function"&&(Bn(ve,ze,$t,st),Jn=ve.memoizedState),(Mn=ia||$n(ve,ze,Mn,st,Un,Jn,Jt)||me!==null&&me.dependencies!==null&&Ls(me.dependencies))?(gn||typeof gt.UNSAFE_componentWillUpdate!="function"&&typeof gt.componentWillUpdate!="function"||(typeof gt.componentWillUpdate=="function"&&gt.componentWillUpdate(st,Jn,Jt),typeof gt.UNSAFE_componentWillUpdate=="function"&&gt.UNSAFE_componentWillUpdate(st,Jn,Jt)),typeof gt.componentDidUpdate=="function"&&(ve.flags|=4),typeof gt.getSnapshotBeforeUpdate=="function"&&(ve.flags|=1024)):(typeof gt.componentDidUpdate!="function"||Mt===me.memoizedProps&&Un===me.memoizedState||(ve.flags|=4),typeof gt.getSnapshotBeforeUpdate!="function"||Mt===me.memoizedProps&&Un===me.memoizedState||(ve.flags|=1024),ve.memoizedProps=st,ve.memoizedState=Jn),gt.props=st,gt.state=Jn,gt.context=Jt,st=Mn):(typeof gt.componentDidUpdate!="function"||Mt===me.memoizedProps&&Un===me.memoizedState||(ve.flags|=4),typeof gt.getSnapshotBeforeUpdate!="function"||Mt===me.memoizedProps&&Un===me.memoizedState||(ve.flags|=1024),st=!1)}return gt=st,vr(me,ve),st=(ve.flags&128)!==0,gt||st?(gt=ve.stateNode,ze=st&&typeof ze.getDerivedStateFromError!="function"?null:gt.render(),ve.flags|=1,me!==null&&st?(ve.child=_a(ve,me.child,null,dt),ve.child=_a(ve,null,ze,dt)):Vn(me,ve,ze,dt),ve.memoizedState=gt.state,me=ve.child):me=kr(me,ve,dt),me}function Zl(me,ve,ze,st){return Ge(),ve.flags|=256,Vn(me,ve,ze,st),ve.child}function bo(me){return{baseLanes:me,cachePool:ic()}}function vo(me,ve,ze){return me=me!==null?me.childLanes&~ze:0,ve&&(me|=xr),me}function Ql(me,ve,ze){var st=ve.pendingProps,dt=!1,gt=(ve.flags&128)!==0,Mt;if((Mt=gt)||(Mt=me!==null&&me.memoizedState===null?!1:(Ii.current&2)!==0),Mt&&(dt=!0,ve.flags&=-129),Mt=(ve.flags&32)!==0,ve.flags&=-33,me===null){if(ci){if(dt?tn(ve):xn(),ci){var $t=$i,Jt;(Jt=$t)&&($t=mh($t,Mr),$t!==null?(ve.memoizedState={dehydrated:$t,treeContext:Aa!==null?{id:Hr,overflow:zr}:null,retryLane:536870912},Jt=te(18,null,null,0),Jt.stateNode=$t,Jt.return=ve,ve.child=Jt,Wi=ve,$i=null,Jt=!0):Jt=!1),Jt||tt(ve)}if($t=ve.memoizedState,$t!==null&&($t=$t.dehydrated,$t!==null))return cl($t)?ve.lanes=16:ve.lanes=536870912,null;Hn(ve)}return $t=st.children,st=st.fallback,dt?(xn(),dt=ve.mode,$t=Ao({mode:"hidden",children:$t},dt),st=ba(st,dt,ze,null),$t.return=ve,st.return=ve,$t.sibling=st,ve.child=$t,dt=ve.child,dt.memoizedState=bo(ze),dt.childLanes=vo(me,Mt,ze),ve.memoizedState=_l,st):(tn(ve),So(ve,$t))}if(Jt=me.memoizedState,Jt!==null&&($t=Jt.dehydrated,$t!==null)){if(gt)ve.flags&256?(tn(ve),ve.flags&=-257,ve=_o(me,ve,ze)):ve.memoizedState!==null?(xn(),ve.child=me.child,ve.flags|=128,ve=null):(xn(),dt=st.fallback,$t=ve.mode,st=Ao({mode:"visible",children:st.children},$t),dt=ba(dt,$t,ze,null),dt.flags|=2,st.return=ve,dt.return=ve,st.sibling=dt,ve.child=st,_a(ve,me.child,null,ze),st=ve.child,st.memoizedState=bo(ze),st.childLanes=vo(me,Mt,ze),ve.memoizedState=_l,ve=dt);else if(tn(ve),cl($t))Mt=oh($t).digest,st=Error(ie(419)),st.stack="",st.digest=Mt,Ke({value:st,source:null,stack:null}),ve=_o(me,ve,ze);else if(Ni||ds(me,ve,ze,!1),Mt=(ze&me.childLanes)!==0,Ni||Mt){if(Mt=xi,Mt!==null){if(st=ze&-ze,st&42)st=1;else switch(st){case 2:st=1;break;case 8:st=4;break;case 32:st=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:st=64;break;case 268435456:st=134217728;break;default:st=0}if(st=st&(Mt.suspendedLanes|ze)?0:st,st!==0&&st!==Jt.retryLane)throw Jt.retryLane=st,We(me,st),Xi(Mt,me,st),wu}ll($t)||Go(),ve=_o(me,ve,ze)}else ll($t)?(ve.flags|=128,ve.child=me.child,ve=u0.bind(null,me),lh($t,ve),ve=null):(me=Jt.treeContext,hr&&($i=dh($t),Wi=ve,ci=!0,_r=null,Mr=!1,me!==null&&(fr[pr++]=Hr,fr[pr++]=zr,fr[pr++]=Aa,Hr=me.id,zr=me.overflow,Aa=ve)),ve=So(ve,st.children),ve.flags|=4096);return ve}return dt?(xn(),dt=st.fallback,$t=ve.mode,Jt=me.child,gt=Jt.sibling,st=Qr(Jt,{mode:"hidden",children:st.children}),st.subtreeFlags=Jt.subtreeFlags&31457280,gt!==null?dt=Qr(gt,dt):(dt=ba(dt,$t,ze,null),dt.flags|=2),dt.return=ve,st.return=ve,st.sibling=dt,ve.child=st,st=dt,dt=ve.child,$t=me.child.memoizedState,$t===null?$t=bo(ze):(Jt=$t.cachePool,Jt!==null?(gt=Ur?_i._currentValue:_i._currentValue2,Jt=Jt.parent!==gt?{parent:gt,pool:gt}:Jt):Jt=ic(),$t={baseLanes:$t.baseLanes|ze,cachePool:Jt}),dt.memoizedState=$t,dt.childLanes=vo(me,Mt,ze),ve.memoizedState=_l,st):(tn(ve),ze=me.child,me=ze.sibling,ze=Qr(ze,{mode:"visible",children:st.children}),ze.return=ve,ze.sibling=null,me!==null&&(Mt=ve.deletions,Mt===null?(ve.deletions=[me],ve.flags|=16):Mt.push(me)),ve.child=ze,ve.memoizedState=null,ze)}function So(me,ve){return ve=Ao({mode:"visible",children:ve},me.mode),ve.return=me,me.child=ve}function Ao(me,ve){return Vc(me,ve,0,null)}function _o(me,ve,ze){return _a(ve,me.child,null,ze),me=So(ve,ve.pendingProps.children),me.flags|=2,ve.memoizedState=null,me}function Jl(me,ve,ze){me.lanes|=ve;var st=me.alternate;st!==null&&(st.lanes|=ve),To(me.return,ve,ze)}function Eo(me,ve,ze,st,dt){var gt=me.memoizedState;gt===null?me.memoizedState={isBackwards:ve,rendering:null,renderingStartTime:0,last:st,tail:ze,tailMode:dt}:(gt.isBackwards=ve,gt.rendering=null,gt.renderingStartTime=0,gt.last=st,gt.tail=ze,gt.tailMode=dt)}function ec(me,ve,ze){var st=ve.pendingProps,dt=st.revealOrder,gt=st.tail;if(Vn(me,ve,st.children,ze),st=Ii.current,st&2)st=st&1|2,ve.flags|=128;else{if(me!==null&&me.flags&128)e:for(me=ve.child;me!==null;){if(me.tag===13)me.memoizedState!==null&&Jl(me,ze,ve);else if(me.tag===19)Jl(me,ze,ve);else if(me.child!==null){me.child.return=me,me=me.child;continue}if(me===ve)break e;for(;me.sibling===null;){if(me.return===null||me.return===ve)break e;me=me.return}me.sibling.return=me.return,me=me.sibling}st&=1}switch(be(Ii,st),dt){case"forwards":for(ze=ve.child,dt=null;ze!==null;)me=ze.alternate,me!==null&&In(me)===null&&(dt=ze),ze=ze.sibling;ze=dt,ze===null?(dt=ve.child,ve.child=null):(dt=ze.sibling,ze.sibling=null),Eo(ve,!1,dt,ze,gt);break;case"backwards":for(ze=null,dt=ve.child,ve.child=null;dt!==null;){if(me=dt.alternate,me!==null&&In(me)===null){ve.child=dt;break}me=dt.sibling,dt.sibling=ze,ze=dt,dt=me}Eo(ve,!0,ze,null,gt);break;case"together":Eo(ve,!1,null,null,void 0);break;default:ve.memoizedState=null}return ve.child}function kr(me,ve,ze){if(me!==null&&(ve.dependencies=me.dependencies),sa|=ve.lanes,!(ze&ve.childLanes))if(me!==null){if(ds(me,ve,ze,!1),(ze&ve.childLanes)===0)return null}else return null;if(me!==null&&ve.child!==me.child)throw Error(ie(153));if(ve.child!==null){for(me=ve.child,ze=Qr(me,me.pendingProps),ve.child=ze,ze.return=ve;me.sibling!==null;)me=me.sibling,ze=ze.sibling=Qr(me,me.pendingProps),ze.return=ve;ze.sibling=null}return ve.child}function Co(me,ve){return me.lanes&ve?!0:(me=me.dependencies,!!(me!==null&&Ls(me)))}function Ju(me,ve,ze){switch(ve.tag){case 3:Oe(ve,ve.stateNode.containerInfo),qr(ve,_i,me.memoizedState.cache),Ge();break;case 27:case 5:qe(ve);break;case 4:Oe(ve,ve.stateNode.containerInfo);break;case 10:qr(ve,ve.type,ve.memoizedProps.value);break;case 13:var st=ve.memoizedState;if(st!==null)return st.dehydrated!==null?(tn(ve),ve.flags|=128,null):ze&ve.child.childLanes?Ql(me,ve,ze):(tn(ve),me=kr(me,ve,ze),me!==null?me.sibling:null);tn(ve);break;case 19:var dt=(me.flags&128)!==0;if(st=(ze&ve.childLanes)!==0,st||(ds(me,ve,ze,!1),st=(ze&ve.childLanes)!==0),dt){if(st)return ec(me,ve,ze);ve.flags|=128}if(dt=ve.memoizedState,dt!==null&&(dt.rendering=null,dt.tail=null,dt.lastEffect=null),be(Ii,Ii.current),st)break;return null;case 22:case 23:return ve.lanes=0,Ki(me,ve,ze);case 24:qr(ve,_i,me.memoizedState.cache)}return kr(me,ve,ze)}function tc(me,ve,ze){if(me!==null)if(me.memoizedProps!==ve.pendingProps)Ni=!0;else{if(!Co(me,ze)&&!(ve.flags&128))return Ni=!1,Ju(me,ve,ze);Ni=!!(me.flags&131072)}else Ni=!1,ci&&ve.flags&1048576&&He(ve,Zs,ve.index);switch(ve.lanes=0,ve.tag){case 16:e:{me=ve.pendingProps;var st=ve.elementType,dt=st._init;if(st=dt(st._payload),ve.type=st,typeof st=="function")qo(st)?(me=ii(st,me),ve.tag=1,ve=pa(null,ve,st,me,ze)):(ve.tag=0,ve=wr(null,ve,st,me,ze));else{if(st!=null){if(dt=st.$$typeof,dt===el){ve.tag=11,ve=Li(null,ve,st,me,ze);break e}else if(dt===il){ve.tag=14,ve=qn(null,ve,st,me,ze);break e}}throw ve=le(st)||st,Error(ie(306,ve,""))}}return ve;case 0:return wr(me,ve,ve.type,ve.pendingProps,ze);case 1:return st=ve.type,dt=ii(st,ve.pendingProps),pa(me,ve,st,dt,ze);case 3:e:{if(Oe(ve,ve.stateNode.containerInfo),me===null)throw Error(ie(387));var gt=ve.pendingProps;dt=ve.memoizedState,st=dt.element,Tt(me,ve),Ct(ve,gt,null,ze);var Mt=ve.memoizedState;if(gt=Mt.cache,qr(ve,_i,gt),gt!==dt.cache&&wo(ve,[_i],ze,!0),Ft(),gt=Mt.element,hr&&dt.isDehydrated)if(dt={element:gt,isDehydrated:!1,cache:Mt.cache},ve.updateQueue.baseState=dt,ve.memoizedState=dt,ve.flags&256){ve=Zl(me,ve,gt,ze);break e}else if(gt!==st){st=Me(Error(ie(424)),ve),Ke(st),ve=Zl(me,ve,gt,ze);break e}else for(hr&&($i=hh(ve.stateNode.containerInfo),Wi=ve,ci=!0,_r=null,Mr=!0),ze=Cu(ve,null,gt,ze),ve.child=ze;ze;)ze.flags=ze.flags&-3|4096,ze=ze.sibling;else{if(Ge(),gt===st){ve=kr(me,ve,ze);break e}Vn(me,ve,gt,ze)}ve=ve.child}return ve;case 26:if(dr)return vr(me,ve),me===null?(ze=mu(ve.type,null,ve.pendingProps,null))?ve.memoizedState=ze:ci||(ve.stateNode=Mh(ve.type,ve.pendingProps,na.current,ve)):ve.memoizedState=mu(ve.type,me.memoizedProps,ve.pendingProps,me.memoizedState),null;case 27:if(ji)return qe(ve),me===null&&ji&&ci&&(st=ve.stateNode=Su(ve.type,ve.pendingProps,na.current,Hi.current,!1),Wi=ve,Mr=!0,$i=du(st)),st=ve.pendingProps.children,me!==null||ci?Vn(me,ve,st,ze):ve.child=_a(ve,null,st,ze),vr(me,ve),ve.child;case 5:return me===null&&ci&&(Ch(ve.type,ve.pendingProps,Hi.current),(dt=st=$i)&&(st=fh(st,ve.type,ve.pendingProps,Mr),st!==null?(ve.stateNode=st,Wi=ve,$i=du(st),Mr=!1,dt=!0):dt=!1),dt||tt(ve)),qe(ve),dt=ve.type,gt=ve.pendingProps,Mt=me!==null?me.memoizedProps:null,st=gt.children,Xs(dt,gt)?st=null:Mt!==null&&Xs(dt,Mt)&&(ve.flags|=32),ve.memoizedState!==null&&(dt=ei(me,ve,Kt,null,null,ze),Ur?Sa._currentValue=dt:Sa._currentValue2=dt),vr(me,ve),Vn(me,ve,st,ze),ve.child;case 6:return me===null&&ci&&(Th(ve.pendingProps,Hi.current),(me=ze=$i)&&(ze=ph(ze,ve.pendingProps,Mr),ze!==null?(ve.stateNode=ze,Wi=ve,$i=null,me=!0):me=!1),me||tt(ve)),null;case 13:return Ql(me,ve,ze);case 4:return Oe(ve,ve.stateNode.containerInfo),st=ve.pendingProps,me===null?ve.child=_a(ve,null,st,ze):Vn(me,ve,st,ze),ve.child;case 11:return Li(me,ve,ve.type,ve.pendingProps,ze);case 7:return Vn(me,ve,ve.pendingProps,ze),ve.child;case 8:return Vn(me,ve,ve.pendingProps.children,ze),ve.child;case 12:return Vn(me,ve,ve.pendingProps.children,ze),ve.child;case 10:return st=ve.pendingProps,qr(ve,ve.type,st.value),Vn(me,ve,st.children,ze),ve.child;case 9:return dt=ve.type._context,st=ve.pendingProps.children,ma(ve),dt=zi(dt),st=st(dt),ve.flags|=1,Vn(me,ve,st,ze),ve.child;case 14:return qn(me,ve,ve.type,ve.pendingProps,ze);case 15:return br(me,ve,ve.type,ve.pendingProps,ze);case 19:return ec(me,ve,ze);case 22:return Ki(me,ve,ze);case 24:return ma(ve),st=zi(_i),me===null?(dt=Ro(),dt===null&&(dt=xi,gt=Mo(),dt.pooledCache=gt,gt.refCount++,gt!==null&&(dt.pooledCacheLanes|=ze),dt=gt),ve.memoizedState={parent:st,cache:dt},_t(ve),qr(ve,_i,dt)):(me.lanes&ze&&(Tt(me,ve),Ct(ve,null,null,ze),Ft()),dt=me.memoizedState,gt=ve.memoizedState,dt.parent!==st?(dt={parent:st,cache:st},ve.memoizedState=dt,ve.lanes===0&&(ve.memoizedState=ve.updateQueue.baseState=dt),qr(ve,_i,st)):(st=gt.cache,qr(ve,_i,st),st!==dt.cache&&wo(ve,[_i],ze,!0))),Vn(me,ve,ve.pendingProps.children,ze),ve.child;case 29:throw ve.pendingProps}throw Error(ie(156,ve.tag))}function qr(me,ve,ze){Ur?(be(ao,ve._currentValue),ve._currentValue=ze):(be(ao,ve._currentValue2),ve._currentValue2=ze)}function Lr(me){var ve=ao.current;Ur?me._currentValue=ve:me._currentValue2=ve,fe(ao)}function To(me,ve,ze){for(;me!==null;){var st=me.alternate;if((me.childLanes&ve)!==ve?(me.childLanes|=ve,st!==null&&(st.childLanes|=ve)):st!==null&&(st.childLanes&ve)!==ve&&(st.childLanes|=ve),me===ze)break;me=me.return}}function wo(me,ve,ze,st){var dt=me.child;for(dt!==null&&(dt.return=me);dt!==null;){var gt=dt.dependencies;if(gt!==null){var Mt=dt.child;gt=gt.firstContext;e:for(;gt!==null;){var $t=gt;gt=dt;for(var Jt=0;Jt<ve.length;Jt++)if($t.context===ve[Jt]){gt.lanes|=ze,$t=gt.alternate,$t!==null&&($t.lanes|=ze),To(gt.return,ze,me),st||(Mt=null);break e}gt=$t.next}}else if(dt.tag===18){if(Mt=dt.return,Mt===null)throw Error(ie(341));Mt.lanes|=ze,gt=Mt.alternate,gt!==null&&(gt.lanes|=ze),To(Mt,ze,me),Mt=null}else Mt=dt.child;if(Mt!==null)Mt.return=dt;else for(Mt=dt;Mt!==null;){if(Mt===me){Mt=null;break}if(dt=Mt.sibling,dt!==null){dt.return=Mt.return,Mt=dt;break}Mt=Mt.return}dt=Mt}}function ds(me,ve,ze,st){me=null;for(var dt=ve,gt=!1;dt!==null;){if(!gt){if(dt.flags&524288)gt=!0;else if(dt.flags&262144)break}if(dt.tag===10){var Mt=dt.alternate;if(Mt===null)throw Error(ie(387));if(Mt=Mt.memoizedProps,Mt!==null){var $t=dt.type;sr(dt.pendingProps.value,Mt.value)||(me!==null?me.push($t):me=[$t])}}else if(dt===Qs.current){if(Mt=dt.alternate,Mt===null)throw Error(ie(387));Mt.memoizedState.memoizedState!==dt.memoizedState.memoizedState&&(me!==null?me.push(Sa):me=[Sa])}dt=dt.return}me!==null&&wo(ve,me,ze,st),ve.flags|=262144}function Ls(me){for(me=me.firstContext;me!==null;){var ve=me.context;if(!sr(Ur?ve._currentValue:ve._currentValue2,me.memoizedValue))return!0;me=me.next}return!1}function ma(me){wa=me,Vr=null,me=me.dependencies,me!==null&&(me.firstContext=null)}function zi(me){return nc(wa,me)}function Ns(me,ve){return wa===null&&ma(me),nc(me,ve)}function nc(me,ve){var ze=Ur?ve._currentValue:ve._currentValue2;if(ve={context:ve,memoizedValue:ze,next:null},Vr===null){if(me===null)throw Error(ie(308));Vr=ve,me.dependencies={lanes:0,firstContext:ve},me.flags|=524288}else Vr=Vr.next=ve;return ze}function Mo(){return{controller:new Gh,data:new Map,refCount:0}}function fs(me){me.refCount--,me.refCount===0&&Xh(Wh,function(){me.controller.abort()})}function Ro(){var me=Ma.current;return me!==null?me:xi.pooledCache}function Bs(me,ve){ve===null?be(Ma,Ma.current):be(Ma,ve.pool)}function ic(){var me=Ro();return me===null?null:{parent:Ur?_i._currentValue:_i._currentValue2,pool:me}}function Ji(me){me.flags|=4}function rc(me,ve){if(me!==null&&me.child===ve.child)return!1;if(ve.flags&16)return!0;for(me=ve.child;me!==null;){if(me.flags&13878||me.subtreeFlags&13878)return!0;me=me.sibling}return!1}function Fo(me,ve,ze,st){if(Vi)for(ze=ve.child;ze!==null;){if(ze.tag===5||ze.tag===6)sl(me,ze.stateNode);else if(!(ze.tag===4||ji&&ze.tag===27)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===ve)break;for(;ze.sibling===null;){if(ze.return===null||ze.return===ve)return;ze=ze.return}ze.sibling.return=ze.return,ze=ze.sibling}else if(ta)for(var dt=ve.child;dt!==null;){if(dt.tag===5){var gt=dt.stateNode;ze&&st&&(gt=cu(gt,dt.type,dt.memoizedProps)),sl(me,gt)}else if(dt.tag===6)gt=dt.stateNode,ze&&st&&(gt=uu(gt,dt.memoizedProps)),sl(me,gt);else if(dt.tag!==4){if(dt.tag===22&&dt.memoizedState!==null)gt=dt.child,gt!==null&&(gt.return=dt),Fo(me,dt,!0,!0);else if(dt.child!==null){dt.child.return=dt,dt=dt.child;continue}}if(dt===ve)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===ve)return;dt=dt.return}dt.sibling.return=dt.return,dt=dt.sibling}}function ac(me,ve,ze,st){if(ta)for(var dt=ve.child;dt!==null;){if(dt.tag===5){var gt=dt.stateNode;ze&&st&&(gt=cu(gt,dt.type,dt.memoizedProps)),ou(me,gt)}else if(dt.tag===6)gt=dt.stateNode,ze&&st&&(gt=uu(gt,dt.memoizedProps)),ou(me,gt);else if(dt.tag!==4){if(dt.tag===22&&dt.memoizedState!==null)gt=dt.child,gt!==null&&(gt.return=dt),ac(me,dt,!(dt.memoizedProps!==null&&dt.memoizedProps.mode==="manual"),!0);else if(dt.child!==null){dt.child.return=dt,dt=dt.child;continue}}if(dt===ve)break;for(;dt.sibling===null;){if(dt.return===null||dt.return===ve)return;dt=dt.return}dt.sibling.return=dt.return,dt=dt.sibling}}function sc(me,ve){if(ta&&rc(me,ve)){me=ve.stateNode;var ze=me.containerInfo,st=su();ac(st,ve,!1,!1),me.pendingChildren=st,Ji(ve),sh(ze,st)}}function Po(me,ve,ze,st){if(Vi)me.memoizedProps!==st&&Ji(ve);else if(ta){var dt=me.stateNode,gt=me.memoizedProps;if((me=rc(me,ve))||gt!==st){var Mt=Hi.current;gt=ah(dt,ze,gt,st,!me,null),gt===dt?ve.stateNode=dt:(eu(gt,ze,st,Mt)&&Ji(ve),ve.stateNode=gt,me?Fo(gt,ve,!1,!1):Ji(ve))}else ve.stateNode=dt}}function Do(me,ve,ze){if(O0(ve,ze)){if(me.flags|=16777216,!iu(ve,ze))if(Pc())me.flags|=8192;else throw ts=to,vl}else me.flags&=-16777217}function oc(me,ve){if(Fh(ve)){if(me.flags|=16777216,!vu(ve))if(Pc())me.flags|=8192;else throw ts=to,vl}else me.flags&=-16777217}function Us(me,ve){ve!==null&&(me.flags|=4),me.flags&16384&&(ve=me.tag!==22?Ce():536870912,me.lanes|=ve,cs|=ve)}function ps(me,ve){if(!ci)switch(me.tailMode){case"hidden":ve=me.tail;for(var ze=null;ve!==null;)ve.alternate!==null&&(ze=ve),ve=ve.sibling;ze===null?me.tail=null:ze.sibling=null;break;case"collapsed":ze=me.tail;for(var st=null;ze!==null;)ze.alternate!==null&&(st=ze),ze=ze.sibling;st===null?ve||me.tail===null?me.tail=null:me.tail.sibling=null:st.sibling=null}}function Ai(me){var ve=me.alternate!==null&&me.alternate.child===me.child,ze=0,st=0;if(ve)for(var dt=me.child;dt!==null;)ze|=dt.lanes|dt.childLanes,st|=dt.subtreeFlags&31457280,st|=dt.flags&31457280,dt.return=me,dt=dt.sibling;else for(dt=me.child;dt!==null;)ze|=dt.lanes|dt.childLanes,st|=dt.subtreeFlags,st|=dt.flags,dt.return=me,dt=dt.sibling;return me.subtreeFlags|=st,me.childLanes=ze,ve}function e0(me,ve,ze){var st=ve.pendingProps;switch(Le(ve),ve.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(ve),null;case 1:return Ai(ve),null;case 3:return ze=ve.stateNode,st=null,me!==null&&(st=me.memoizedState.cache),ve.memoizedState.cache!==st&&(ve.flags|=2048),Lr(_i),Ne(),ze.pendingContext&&(ze.context=ze.pendingContext,ze.pendingContext=null),(me===null||me.child===null)&&(ot(ve)?Ji(ve):me===null||me.memoizedState.isDehydrated&&!(ve.flags&256)||(ve.flags|=1024,_r!==null&&(jo(_r),_r=null))),sc(me,ve),Ai(ve),null;case 26:if(dr){ze=ve.type;var dt=ve.memoizedState;return me===null?(Ji(ve),dt!==null?(Ai(ve),oc(ve,dt)):(Ai(ve),Do(ve,ze,st))):dt?dt!==me.memoizedState?(Ji(ve),Ai(ve),oc(ve,dt)):(Ai(ve),ve.flags&=-16777217):(Vi?me.memoizedProps!==st&&Ji(ve):Po(me,ve,ze,st),Ai(ve),Do(ve,ze,st)),null}case 27:if(ji){if(it(ve),ze=na.current,dt=ve.type,me!==null&&ve.stateNode!=null)Vi?me.memoizedProps!==st&&Ji(ve):Po(me,ve,dt,st);else{if(!st){if(ve.stateNode===null)throw Error(ie(166));return Ai(ve),null}me=Hi.current,ot(ve)?Xe(ve,me):(me=Su(dt,st,ze,me,!0),ve.stateNode=me,Ji(ve))}return Ai(ve),null}case 5:if(it(ve),ze=ve.type,me!==null&&ve.stateNode!=null)Po(me,ve,ze,st);else{if(!st){if(ve.stateNode===null)throw Error(ie(166));return Ai(ve),null}me=Hi.current,ot(ve)?Xe(ve,me):(dt=T0(ze,st,na.current,me,ve),Fo(dt,ve,!1,!1),ve.stateNode=dt,eu(dt,ze,st,me)&&Ji(ve))}return Ai(ve),Do(ve,ve.type,ve.pendingProps),null;case 6:if(me&&ve.stateNode!=null)ze=me.memoizedProps,Vi?ze!==st&&Ji(ve):ta&&(ze!==st?(ve.stateNode=tu(st,na.current,Hi.current,ve),Ji(ve)):ve.stateNode=me.stateNode);else{if(typeof st!="string"&&ve.stateNode===null)throw Error(ie(166));if(me=na.current,ze=Hi.current,ot(ve)){if(!hr)throw Error(ie(176));if(me=ve.stateNode,ze=ve.memoizedProps,st=null,dt=Wi,dt!==null)switch(dt.tag){case 27:case 5:st=dt.memoizedProps}xh(me,ze,ve,st)||tt(ve)}else ve.stateNode=tu(st,me,ze,ve)}return Ai(ve),null;case 13:if(st=ve.memoizedState,me===null||me.memoizedState!==null&&me.memoizedState.dehydrated!==null){if(dt=ot(ve),st!==null&&st.dehydrated!==null){if(me===null){if(!dt)throw Error(ie(318));if(!hr)throw Error(ie(344));if(dt=ve.memoizedState,dt=dt!==null?dt.dehydrated:null,!dt)throw Error(ie(317));yh(dt,ve)}else Ge(),!(ve.flags&128)&&(ve.memoizedState=null),ve.flags|=4;Ai(ve),dt=!1}else _r!==null&&(jo(_r),_r=null),dt=!0;if(!dt)return ve.flags&256?(Hn(ve),ve):(Hn(ve),null)}if(Hn(ve),ve.flags&128)return ve.lanes=ze,ve;if(ze=st!==null,me=me!==null&&me.memoizedState!==null,ze){st=ve.child,dt=null,st.alternate!==null&&st.alternate.memoizedState!==null&&st.alternate.memoizedState.cachePool!==null&&(dt=st.alternate.memoizedState.cachePool.pool);var gt=null;st.memoizedState!==null&&st.memoizedState.cachePool!==null&&(gt=st.memoizedState.cachePool.pool),gt!==dt&&(st.flags|=2048)}return ze!==me&&ze&&(ve.child.flags|=8192),Us(ve,ve.updateQueue),Ai(ve),null;case 4:return Ne(),sc(me,ve),me===null&&R0(ve.stateNode.containerInfo),Ai(ve),null;case 10:return Lr(ve.type),Ai(ve),null;case 19:if(fe(Ii),dt=ve.memoizedState,dt===null)return Ai(ve),null;if(st=(ve.flags&128)!==0,gt=dt.rendering,gt===null)if(st)ps(dt,!1);else{if(Ci!==0||me!==null&&me.flags&128)for(me=ve.child;me!==null;){if(gt=In(me),gt!==null){for(ve.flags|=128,ps(dt,!1),me=gt.updateQueue,ve.updateQueue=me,Us(ve,me),ve.subtreeFlags=0,me=ze,ze=ve.child;ze!==null;)zc(ze,me),ze=ze.sibling;return be(Ii,Ii.current&1|2),ve.child}me=me.sibling}dt.tail!==null&&Ar()>Rs&&(ve.flags|=128,st=!0,ps(dt,!1),ve.lanes=4194304)}else{if(!st)if(me=In(gt),me!==null){if(ve.flags|=128,st=!0,me=me.updateQueue,ve.updateQueue=me,Us(ve,me),ps(dt,!0),dt.tail===null&&dt.tailMode==="hidden"&&!gt.alternate&&!ci)return Ai(ve),null}else 2*Ar()-dt.renderingStartTime>Rs&&ze!==536870912&&(ve.flags|=128,st=!0,ps(dt,!1),ve.lanes=4194304);dt.isBackwards?(gt.sibling=ve.child,ve.child=gt):(me=dt.last,me!==null?me.sibling=gt:ve.child=gt,dt.last=gt)}return dt.tail!==null?(ve=dt.tail,dt.rendering=ve,dt.tail=ve.sibling,dt.renderingStartTime=Ar(),ve.sibling=null,me=Ii.current,be(Ii,st?me&1|2:me&1),ve):(Ai(ve),null);case 22:case 23:return Hn(ve),On(),st=ve.memoizedState!==null,me!==null?me.memoizedState!==null!==st&&(ve.flags|=8192):st&&(ve.flags|=8192),st?ze&536870912&&!(ve.flags&128)&&(Ai(ve),ve.subtreeFlags&6&&(ve.flags|=8192)):Ai(ve),ze=ve.updateQueue,ze!==null&&Us(ve,ze.retryQueue),ze=null,me!==null&&me.memoizedState!==null&&me.memoizedState.cachePool!==null&&(ze=me.memoizedState.cachePool.pool),st=null,ve.memoizedState!==null&&ve.memoizedState.cachePool!==null&&(st=ve.memoizedState.cachePool.pool),st!==ze&&(ve.flags|=2048),me!==null&&fe(Ma),null;case 24:return ze=null,me!==null&&(ze=me.memoizedState.cache),ve.memoizedState.cache!==ze&&(ve.flags|=2048),Lr(_i),Ai(ve),null;case 25:return null}throw Error(ie(156,ve.tag))}function t0(me,ve){switch(Le(ve),ve.tag){case 1:return me=ve.flags,me&65536?(ve.flags=me&-65537|128,ve):null;case 3:return Lr(_i),Ne(),me=ve.flags,me&65536&&!(me&128)?(ve.flags=me&-65537|128,ve):null;case 26:case 27:case 5:return it(ve),null;case 13:if(Hn(ve),me=ve.memoizedState,me!==null&&me.dehydrated!==null){if(ve.alternate===null)throw Error(ie(340));Ge()}return me=ve.flags,me&65536?(ve.flags=me&-65537|128,ve):null;case 19:return fe(Ii),null;case 4:return Ne(),null;case 10:return Lr(ve.type),null;case 22:case 23:return Hn(ve),On(),me!==null&&fe(Ma),me=ve.flags,me&65536?(ve.flags=me&-65537|128,ve):null;case 24:return Lr(_i),null;case 25:return null;default:return null}}function lc(me,ve){switch(Le(ve),ve.tag){case 3:Lr(_i),Ne();break;case 26:case 27:case 5:it(ve);break;case 4:Ne();break;case 13:Hn(ve);break;case 19:fe(Ii);break;case 10:Lr(ve.type);break;case 22:case 23:Hn(ve),On(),me!==null&&fe(Ma);break;case 24:Lr(_i)}}function ms(me,ve){try{var ze=ve.updateQueue,st=ze!==null?ze.lastEffect:null;if(st!==null){var dt=st.next;ze=dt;do{if((ze.tag&me)===me){st=void 0;var gt=ze.create,Mt=ze.inst;st=gt(),Mt.destroy=st}ze=ze.next}while(ze!==dt)}}catch($t){pi(ve,ve.return,$t)}}function Yr(me,ve,ze){try{var st=ve.updateQueue,dt=st!==null?st.lastEffect:null;if(dt!==null){var gt=dt.next;st=gt;do{if((st.tag&me)===me){var Mt=st.inst,$t=Mt.destroy;if($t!==void 0){Mt.destroy=void 0,dt=ve;var Jt=ze;try{$t()}catch(gn){pi(dt,Jt,gn)}}}st=st.next}while(st!==gt)}}catch(gn){pi(ve,ve.return,gn)}}function cc(me){var ve=me.updateQueue;if(ve!==null){var ze=me.stateNode;try{bt(ve,ze)}catch(st){pi(me,me.return,st)}}}function uc(me,ve,ze){ze.props=ii(me.type,me.memoizedProps),ze.state=me.memoizedState;try{ze.componentWillUnmount()}catch(st){pi(me,ve,st)}}function ga(me,ve){try{var ze=me.ref;if(ze!==null){var st=me.stateNode;switch(me.tag){case 26:case 27:case 5:var dt=ys(st);break;default:dt=st}typeof ze=="function"?me.refCleanup=ze(dt):ze.current=dt}}catch(gt){pi(me,ve,gt)}}function er(me,ve){var ze=me.ref,st=me.refCleanup;if(ze!==null)if(typeof st=="function")try{st()}catch(dt){pi(me,ve,dt)}finally{me.refCleanup=null,me=me.alternate,me!=null&&(me.refCleanup=null)}else if(typeof ze=="function")try{ze(null)}catch(dt){pi(me,ve,dt)}else ze.current=null}function hc(me){var ve=me.type,ze=me.memoizedProps,st=me.stateNode;try{q0(st,ve,ze,me)}catch(dt){pi(me,me.return,dt)}}function dc(me,ve,ze){try{Y0(me.stateNode,me.type,ze,ve,me)}catch(st){pi(me,me.return,st)}}function fc(me){return me.tag===5||me.tag===3||(dr?me.tag===26:!1)||(ji?me.tag===27:!1)||me.tag===4}function Oo(me){e:for(;;){for(;me.sibling===null;){if(me.return===null||fc(me.return))return null;me=me.return}for(me.sibling.return=me.return,me=me.sibling;me.tag!==5&&me.tag!==6&&(!ji||me.tag!==27)&&me.tag!==18;){if(me.flags&2||me.child===null||me.tag===4)continue e;me.child.return=me,me=me.child}if(!(me.flags&2))return me.stateNode}}function Io(me,ve,ze){var st=me.tag;if(st===5||st===6)me=me.stateNode,ve?Z0(ze,me,ve):X0(ze,me);else if(!(st===4||ji&&st===27)&&(me=me.child,me!==null))for(Io(me,ve,ze),me=me.sibling;me!==null;)Io(me,ve,ze),me=me.sibling}function Hs(me,ve,ze){var st=me.tag;if(st===5||st===6)me=me.stateNode,ve?K0(ze,me,ve):G0(ze,me);else if(!(st===4||ji&&st===27)&&(me=me.child,me!==null))for(Hs(me,ve,ze),me=me.sibling;me!==null;)Hs(me,ve,ze),me=me.sibling}function pc(me,ve,ze){me=me.containerInfo;try{lu(me,ze)}catch(st){pi(ve,ve.return,st)}}function n0(me,ve){for(E0(me.containerInfo),Bi=ve;Bi!==null;)if(me=Bi,ve=me.child,(me.subtreeFlags&1028)!==0&&ve!==null)ve.return=me,Bi=ve;else for(;Bi!==null;){me=Bi;var ze=me.alternate;switch(ve=me.flags,me.tag){case 0:break;case 11:case 15:break;case 1:if(ve&1024&&ze!==null){ve=void 0;var st=me,dt=ze.memoizedProps;ze=ze.memoizedState;var gt=st.stateNode;try{var Mt=ii(st.type,dt,st.elementType===st.type);ve=gt.getSnapshotBeforeUpdate(Mt,ze),gt.__reactInternalSnapshotBeforeUpdate=ve}catch($t){pi(st,st.return,$t)}}break;case 3:ve&1024&&Vi&&rh(me.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(ve&1024)throw Error(ie(163))}if(ve=me.sibling,ve!==null){ve.return=me.return,Bi=ve;break}Bi=me.return}return Mt=Fu,Fu=!1,Mt}function mc(me,ve,ze){var st=ze.flags;switch(ze.tag){case 0:case 11:case 15:Nr(me,ze),st&4&&ms(5,ze);break;case 1:if(Nr(me,ze),st&4)if(me=ze.stateNode,ve===null)try{me.componentDidMount()}catch($t){pi(ze,ze.return,$t)}else{var dt=ii(ze.type,ve.memoizedProps);ve=ve.memoizedState;try{me.componentDidUpdate(dt,ve,me.__reactInternalSnapshotBeforeUpdate)}catch($t){pi(ze,ze.return,$t)}}st&64&&cc(ze),st&512&&ga(ze,ze.return);break;case 3:if(Nr(me,ze),st&64&&(st=ze.updateQueue,st!==null)){if(me=null,ze.child!==null)switch(ze.child.tag){case 27:case 5:me=ys(ze.child.stateNode);break;case 1:me=ze.child.stateNode}try{bt(st,me)}catch($t){pi(ze,ze.return,$t)}}break;case 26:if(dr){Nr(me,ze),st&512&&ga(ze,ze.return);break}case 27:case 5:Nr(me,ze),ve===null&&st&4&&hc(ze),st&512&&ga(ze,ze.return);break;case 12:Nr(me,ze);break;case 13:Nr(me,ze),st&4&&xc(me,ze);break;case 22:if(dt=ze.memoizedState!==null||jr,!dt){ve=ve!==null&&ve.memoizedState!==null||Ei;var gt=jr,Mt=Ei;jr=dt,(Ei=ve)&&!Mt?Kr(me,ze,(ze.subtreeFlags&8772)!==0):Nr(me,ze),jr=gt,Ei=Mt}st&512&&(ze.memoizedProps.mode==="manual"?ga(ze,ze.return):er(ze,ze.return));break;default:Nr(me,ze)}}function gc(me){var ve=me.alternate;ve!==null&&(me.alternate=null,gc(ve)),me.child=null,me.deletions=null,me.sibling=null,me.tag===5&&(ve=me.stateNode,ve!==null&&D0(ve)),me.stateNode=null,me.return=null,me.dependencies=null,me.memoizedProps=null,me.memoizedState=null,me.pendingProps=null,me.stateNode=null,me.updateQueue=null}function Sr(me,ve,ze){for(ze=ze.child;ze!==null;)ko(me,ve,ze),ze=ze.sibling}function ko(me,ve,ze){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Ss,ze)}catch{}switch(ze.tag){case 26:if(dr){Ei||er(ze,ve),Sr(me,ve,ze),ze.memoizedState?xu(ze.memoizedState):ze.stateNode&&bu(ze.stateNode);break}case 27:if(ji){Ei||er(ze,ve);var st=Pi,dt=or;Pi=ze.stateNode,Sr(me,ve,ze),Ih(ze.stateNode),Pi=st,or=dt;break}case 5:Ei||er(ze,ve);case 6:if(Vi){if(st=Pi,dt=or,Pi=null,Sr(me,ve,ze),Pi=st,or=dt,Pi!==null)if(or)try{J0(Pi,ze.stateNode)}catch(gt){pi(ze,ve,gt)}else try{Q0(Pi,ze.stateNode)}catch(gt){pi(ze,ve,gt)}}else Sr(me,ve,ze);break;case 18:Vi&&Pi!==null&&(or?Eh(Pi,ze.stateNode):_h(Pi,ze.stateNode));break;case 4:Vi?(st=Pi,dt=or,Pi=ze.stateNode.containerInfo,or=!0,Sr(me,ve,ze),Pi=st,or=dt):(ta&&pc(ze.stateNode,ze,su()),Sr(me,ve,ze));break;case 0:case 11:case 14:case 15:Ei||Yr(2,ze,ve),Ei||Yr(4,ze,ve),Sr(me,ve,ze);break;case 1:Ei||(er(ze,ve),st=ze.stateNode,typeof st.componentWillUnmount=="function"&&uc(ze,ve,st)),Sr(me,ve,ze);break;case 21:Sr(me,ve,ze);break;case 22:Ei||er(ze,ve),Ei=(st=Ei)||ze.memoizedState!==null,Sr(me,ve,ze),Ei=st;break;default:Sr(me,ve,ze)}}function xc(me,ve){if(hr&&ve.memoizedState===null&&(me=ve.alternate,me!==null&&(me=me.memoizedState,me!==null&&(me=me.dehydrated,me!==null))))try{Ah(me)}catch(ze){pi(ve,ve.return,ze)}}function i0(me){switch(me.tag){case 13:case 19:var ve=me.stateNode;return ve===null&&(ve=me.stateNode=new Ru),ve;case 22:return me=me.stateNode,ve=me._retryCache,ve===null&&(ve=me._retryCache=new Ru),ve;default:throw Error(ie(435,me.tag))}}function Lo(me,ve){var ze=i0(me);ve.forEach(function(st){var dt=h0.bind(null,me,st);ze.has(st)||(ze.add(st),st.then(dt,dt))})}function Zi(me,ve){var ze=ve.deletions;if(ze!==null)for(var st=0;st<ze.length;st++){var dt=ze[st],gt=me,Mt=ve;if(Vi){var $t=Mt;e:for(;$t!==null;){switch($t.tag){case 27:case 5:Pi=$t.stateNode,or=!1;break e;case 3:Pi=$t.stateNode.containerInfo,or=!0;break e;case 4:Pi=$t.stateNode.containerInfo,or=!0;break e}$t=$t.return}if(Pi===null)throw Error(ie(160));ko(gt,Mt,dt),Pi=null,or=!1}else ko(gt,Mt,dt);gt=dt.alternate,gt!==null&&(gt.return=null),dt.return=null}if(ve.subtreeFlags&13878)for(ve=ve.child;ve!==null;)yc(ve,me),ve=ve.sibling}function yc(me,ve){var ze=me.alternate,st=me.flags;switch(me.tag){case 0:case 11:case 14:case 15:Zi(ve,me),tr(me),st&4&&(Yr(3,me,me.return),ms(3,me),Yr(5,me,me.return));break;case 1:Zi(ve,me),tr(me),st&512&&(Ei||ze===null||er(ze,ze.return)),st&64&&jr&&(me=me.updateQueue,me!==null&&(st=me.callbacks,st!==null&&(ze=me.shared.hiddenCallbacks,me.shared.hiddenCallbacks=ze===null?st:ze.concat(st))));break;case 26:if(dr){var dt=Er;Zi(ve,me),tr(me),st&512&&(Ei||ze===null||er(ze,ze.return)),st&4&&(st=ze!==null?ze.memoizedState:null,ve=me.memoizedState,ze===null?ve===null?me.stateNode===null?me.stateNode=wh(dt,me.type,me.memoizedProps,me):yu(dt,me.type,me.stateNode):me.stateNode=gu(dt,ve,me.memoizedProps):st!==ve?(st===null?ze.stateNode!==null&&bu(ze.stateNode):xu(st),ve===null?yu(dt,me.type,me.stateNode):gu(dt,ve,me.memoizedProps)):ve===null&&me.stateNode!==null&&dc(me,me.memoizedProps,ze.memoizedProps));break}case 27:if(ji&&st&4&&me.alternate===null){dt=me.stateNode;var gt=me.memoizedProps;try{Dh(dt),Oh(me.type,gt,dt,me)}catch(Mn){pi(me,me.return,Mn)}}case 5:if(Zi(ve,me),tr(me),st&512&&(Ei||ze===null||er(ze,ze.return)),Vi){if(me.flags&32){ve=me.stateNode;try{au(ve)}catch(Mn){pi(me,me.return,Mn)}}st&4&&me.stateNode!=null&&(ve=me.memoizedProps,dc(me,ve,ze!==null?ze.memoizedProps:ve)),st&1024&&(El=!0)}break;case 6:if(Zi(ve,me),tr(me),st&4&&Vi){if(me.stateNode===null)throw Error(ie(162));st=me.memoizedProps,ze=ze!==null?ze.memoizedProps:st,ve=me.stateNode;try{W0(ve,ze,st)}catch(Mn){pi(me,me.return,Mn)}}break;case 3:if(dr?(Rh(),dt=Er,Er=ul(ve.containerInfo),Zi(ve,me),Er=dt):Zi(ve,me),tr(me),st&4){if(Vi&&hr&&ze!==null&&ze.memoizedState.isDehydrated)try{Sh(ve.containerInfo)}catch(Mn){pi(me,me.return,Mn)}if(ta){st=ve.containerInfo,ze=ve.pendingChildren;try{lu(st,ze)}catch(Mn){pi(me,me.return,Mn)}}}El&&(El=!1,bc(me));break;case 4:dr?(ze=Er,Er=ul(me.stateNode.containerInfo),Zi(ve,me),tr(me),Er=ze):(Zi(ve,me),tr(me)),st&4&&ta&&pc(me.stateNode,me,me.stateNode.pendingChildren);break;case 12:Zi(ve,me),tr(me);break;case 13:Zi(ve,me),tr(me),me.child.flags&8192&&me.memoizedState!==null!=(ze!==null&&ze.memoizedState!==null)&&(Ml=Ar()),st&4&&(st=me.updateQueue,st!==null&&(me.updateQueue=null,Lo(me,st)));break;case 22:st&512&&(Ei||ze===null||er(ze,ze.return)),dt=me.memoizedState!==null;var Mt=ze!==null&&ze.memoizedState!==null,$t=jr,Jt=Ei;if(jr=$t||dt,Ei=Jt||Mt,Zi(ve,me),Ei=Jt,jr=$t,tr(me),ve=me.stateNode,ve._current=me,ve._visibility&=-3,ve._visibility|=ve._pendingVisibility&2,st&8192&&(ve._visibility=dt?ve._visibility&-2:ve._visibility|1,dt&&(ve=jr||Ei,ze===null||Mt||ve||Ua(me)),Vi&&(me.memoizedProps===null||me.memoizedProps.mode!=="manual"))){e:if(ze=null,Vi)for(ve=me;;){if(ve.tag===5||dr&&ve.tag===26||ji&&ve.tag===27){if(ze===null){Mt=ze=ve;try{gt=Mt.stateNode,dt?eh(gt):nh(Mt.stateNode,Mt.memoizedProps)}catch(Mn){pi(Mt,Mt.return,Mn)}}}else if(ve.tag===6){if(ze===null){Mt=ve;try{var gn=Mt.stateNode;dt?th(gn):ih(gn,Mt.memoizedProps)}catch(Mn){pi(Mt,Mt.return,Mn)}}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===me)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===me)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===me)break e;ze===ve&&(ze=null),ve=ve.return}ze===ve&&(ze=null),ve.sibling.return=ve.return,ve=ve.sibling}}st&4&&(st=me.updateQueue,st!==null&&(ze=st.retryQueue,ze!==null&&(st.retryQueue=null,Lo(me,ze))));break;case 19:Zi(ve,me),tr(me),st&4&&(st=me.updateQueue,st!==null&&(me.updateQueue=null,Lo(me,st)));break;case 21:break;default:Zi(ve,me),tr(me)}}function tr(me){var ve=me.flags;if(ve&2){try{if(Vi&&(!ji||me.tag!==27)){e:{for(var ze=me.return;ze!==null;){if(fc(ze)){var st=ze;break e}ze=ze.return}throw Error(ie(160))}switch(st.tag){case 27:if(ji){var dt=st.stateNode,gt=Oo(me);Hs(me,gt,dt);break}case 5:var Mt=st.stateNode;st.flags&32&&(au(Mt),st.flags&=-33);var $t=Oo(me);Hs(me,$t,Mt);break;case 3:case 4:var Jt=st.stateNode.containerInfo,gn=Oo(me);Io(me,gn,Jt);break;default:throw Error(ie(161))}}}catch(Mn){pi(me,me.return,Mn)}me.flags&=-3}ve&4096&&(me.flags&=-4097)}function bc(me){if(me.subtreeFlags&1024)for(me=me.child;me!==null;){var ve=me;bc(ve),ve.tag===5&&ve.flags&1024&&L0(ve.stateNode),me=me.sibling}}function Nr(me,ve){if(ve.subtreeFlags&8772)for(ve=ve.child;ve!==null;)mc(me,ve.alternate,ve),ve=ve.sibling}function Ua(me){for(me=me.child;me!==null;){var ve=me;switch(ve.tag){case 0:case 11:case 14:case 15:Yr(4,ve,ve.return),Ua(ve);break;case 1:er(ve,ve.return);var ze=ve.stateNode;typeof ze.componentWillUnmount=="function"&&uc(ve,ve.return,ze),Ua(ve);break;case 26:case 27:case 5:er(ve,ve.return),Ua(ve);break;case 22:er(ve,ve.return),ve.memoizedState===null&&Ua(ve);break;default:Ua(ve)}me=me.sibling}}function Kr(me,ve,ze){for(ze=ze&&(ve.subtreeFlags&8772)!==0,ve=ve.child;ve!==null;){var st=ve.alternate,dt=me,gt=ve,Mt=gt.flags;switch(gt.tag){case 0:case 11:case 15:Kr(dt,gt,ze),ms(4,gt);break;case 1:if(Kr(dt,gt,ze),st=gt,dt=st.stateNode,typeof dt.componentDidMount=="function")try{dt.componentDidMount()}catch(gn){pi(st,st.return,gn)}if(st=gt,dt=st.updateQueue,dt!==null){var $t=st.stateNode;try{var Jt=dt.shared.hiddenCallbacks;if(Jt!==null)for(dt.shared.hiddenCallbacks=null,dt=0;dt<Jt.length;dt++)yt(Jt[dt],$t)}catch(gn){pi(st,st.return,gn)}}ze&&Mt&64&&cc(gt),ga(gt,gt.return);break;case 26:case 27:case 5:Kr(dt,gt,ze),ze&&st===null&&Mt&4&&hc(gt),ga(gt,gt.return);break;case 12:Kr(dt,gt,ze);break;case 13:Kr(dt,gt,ze),ze&&Mt&4&&xc(dt,gt);break;case 22:gt.memoizedState===null&&Kr(dt,gt,ze),ga(gt,gt.return);break;default:Kr(dt,gt,ze)}ve=ve.sibling}}function No(me,ve){var ze=null;me!==null&&me.memoizedState!==null&&me.memoizedState.cachePool!==null&&(ze=me.memoizedState.cachePool.pool),me=null,ve.memoizedState!==null&&ve.memoizedState.cachePool!==null&&(me=ve.memoizedState.cachePool.pool),me!==ze&&(me!=null&&me.refCount++,ze!=null&&fs(ze))}function Bo(me,ve){me=null,ve.alternate!==null&&(me=ve.alternate.memoizedState.cache),ve=ve.memoizedState.cache,ve!==me&&(ve.refCount++,me!=null&&fs(me))}function Zr(me,ve,ze,st){if(ve.subtreeFlags&10256)for(ve=ve.child;ve!==null;)vc(me,ve,ze,st),ve=ve.sibling}function vc(me,ve,ze,st){var dt=ve.flags;switch(ve.tag){case 0:case 11:case 15:Zr(me,ve,ze,st),dt&2048&&ms(9,ve);break;case 3:Zr(me,ve,ze,st),dt&2048&&(me=null,ve.alternate!==null&&(me=ve.alternate.memoizedState.cache),ve=ve.memoizedState.cache,ve!==me&&(ve.refCount++,me!=null&&fs(me)));break;case 12:if(dt&2048){Zr(me,ve,ze,st),me=ve.stateNode;try{var gt=ve.memoizedProps,Mt=gt.id,$t=gt.onPostCommit;typeof $t=="function"&&$t(Mt,ve.alternate===null?"mount":"update",me.passiveEffectDuration,-0)}catch(Jt){pi(ve,ve.return,Jt)}}else Zr(me,ve,ze,st);break;case 23:break;case 22:gt=ve.stateNode,ve.memoizedState!==null?gt._visibility&4?Zr(me,ve,ze,st):gs(me,ve):gt._visibility&4?Zr(me,ve,ze,st):(gt._visibility|=4,Ha(me,ve,ze,st,(ve.subtreeFlags&10256)!==0)),dt&2048&&No(ve.alternate,ve);break;case 24:Zr(me,ve,ze,st),dt&2048&&Bo(ve.alternate,ve);break;default:Zr(me,ve,ze,st)}}function Ha(me,ve,ze,st,dt){for(dt=dt&&(ve.subtreeFlags&10256)!==0,ve=ve.child;ve!==null;){var gt=me,Mt=ve,$t=ze,Jt=st,gn=Mt.flags;switch(Mt.tag){case 0:case 11:case 15:Ha(gt,Mt,$t,Jt,dt),ms(8,Mt);break;case 23:break;case 22:var Mn=Mt.stateNode;Mt.memoizedState!==null?Mn._visibility&4?Ha(gt,Mt,$t,Jt,dt):gs(gt,Mt):(Mn._visibility|=4,Ha(gt,Mt,$t,Jt,dt)),dt&&gn&2048&&No(Mt.alternate,Mt);break;case 24:Ha(gt,Mt,$t,Jt,dt),dt&&gn&2048&&Bo(Mt.alternate,Mt);break;default:Ha(gt,Mt,$t,Jt,dt)}ve=ve.sibling}}function gs(me,ve){if(ve.subtreeFlags&10256)for(ve=ve.child;ve!==null;){var ze=me,st=ve,dt=st.flags;switch(st.tag){case 22:gs(ze,st),dt&2048&&No(st.alternate,st);break;case 24:gs(ze,st),dt&2048&&Bo(st.alternate,st);break;default:gs(ze,st)}ve=ve.sibling}}function xa(me){if(me.subtreeFlags&os)for(me=me.child;me!==null;)Sc(me),me=me.sibling}function Sc(me){switch(me.tag){case 26:xa(me),me.flags&os&&(me.memoizedState!==null?Ph(Er,me.memoizedState,me.memoizedProps):ru(me.type,me.memoizedProps));break;case 5:xa(me),me.flags&os&&ru(me.type,me.memoizedProps);break;case 3:case 4:if(dr){var ve=Er;Er=ul(me.stateNode.containerInfo),xa(me),Er=ve}else xa(me);break;case 22:me.memoizedState===null&&(ve=me.alternate,ve!==null&&ve.memoizedState!==null?(ve=os,os=16777216,xa(me),os=ve):xa(me));break;default:xa(me)}}function Ac(me){var ve=me.alternate;if(ve!==null&&(me=ve.child,me!==null)){ve.child=null;do ve=me.sibling,me.sibling=null,me=ve;while(me!==null)}}function xs(me){var ve=me.deletions;if(me.flags&16){if(ve!==null)for(var ze=0;ze<ve.length;ze++){var st=ve[ze];Bi=st,Ec(st,me)}Ac(me)}if(me.subtreeFlags&10256)for(me=me.child;me!==null;)_c(me),me=me.sibling}function _c(me){switch(me.tag){case 0:case 11:case 15:xs(me),me.flags&2048&&Yr(9,me,me.return);break;case 3:xs(me);break;case 12:xs(me);break;case 22:var ve=me.stateNode;me.memoizedState!==null&&ve._visibility&4&&(me.return===null||me.return.tag!==13)?(ve._visibility&=-5,zs(me)):xs(me);break;default:xs(me)}}function zs(me){var ve=me.deletions;if(me.flags&16){if(ve!==null)for(var ze=0;ze<ve.length;ze++){var st=ve[ze];Bi=st,Ec(st,me)}Ac(me)}for(me=me.child;me!==null;){switch(ve=me,ve.tag){case 0:case 11:case 15:Yr(8,ve,ve.return),zs(ve);break;case 22:ze=ve.stateNode,ze._visibility&4&&(ze._visibility&=-5,zs(ve));break;default:zs(ve)}me=me.sibling}}function Ec(me,ve){for(;Bi!==null;){var ze=Bi;switch(ze.tag){case 0:case 11:case 15:Yr(8,ze,ve);break;case 23:case 22:if(ze.memoizedState!==null&&ze.memoizedState.cachePool!==null){var st=ze.memoizedState.cachePool.pool;st!=null&&st.refCount++}break;case 24:fs(ze.memoizedState.cache)}if(st=ze.child,st!==null)st.return=ze,Bi=st;else e:for(ze=me;Bi!==null;){st=Bi;var dt=st.sibling,gt=st.return;if(gc(st),st===ze){Bi=null;break e}if(dt!==null){dt.return=gt,Bi=dt;break e}Bi=gt}}}function Uo(me){var ve=nu(me);if(ve!=null){if(typeof ve.memoizedProps["data-testname"]!="string")throw Error(ie(364));return ve}if(me=U0(me),me===null)throw Error(ie(362));return me.stateNode.current}function Ho(me,ve){var ze=me.tag;switch(ve.$$typeof){case so:if(me.type===ve.value)return!0;break;case oo:e:{for(ve=ve.value,me=[me,0],ze=0;ze<me.length;){var st=me[ze++],dt=st.tag,gt=me[ze++],Mt=ve[gt];if(dt!==5&&dt!==26&&dt!==27||!vs(st)){for(;Mt!=null&&Ho(st,Mt);)gt++,Mt=ve[gt];if(gt===ve.length){ve=!0;break e}else for(st=st.child;st!==null;)me.push(st,gt),st=st.sibling}}ve=!1}return ve;case lo:if((ze===5||ze===26||ze===27)&&V0(me.stateNode,ve.value))return!0;break;case uo:if((ze===5||ze===6||ze===26||ze===27)&&(me=z0(me),me!==null&&0<=me.indexOf(ve.value)))return!0;break;case co:if((ze===5||ze===26||ze===27)&&(me=me.memoizedProps["data-testname"],typeof me=="string"&&me.toLowerCase()===ve.value.toLowerCase()))return!0;break;default:throw Error(ie(365))}return!1}function zo(me){switch(me.$$typeof){case so:return"<"+(le(me.value)||"Unknown")+">";case oo:return":has("+(zo(me)||"")+")";case lo:return'[role="'+me.value+'"]';case uo:return'"'+me.value+'"';case co:return'[data-testname="'+me.value+'"]';default:throw Error(ie(365))}}function Cc(me,ve){var ze=[];me=[me,0];for(var st=0;st<me.length;){var dt=me[st++],gt=dt.tag,Mt=me[st++],$t=ve[Mt];if(gt!==5&&gt!==26&&gt!==27||!vs(dt)){for(;$t!=null&&Ho(dt,$t);)Mt++,$t=ve[Mt];if(Mt===ve.length)ze.push(dt);else for(dt=dt.child;dt!==null;)me.push(dt,Mt),dt=dt.sibling}}return ze}function Vo(me,ve){if(!bs)throw Error(ie(363));me=Uo(me),me=Cc(me,ve),ve=[],me=Array.from(me);for(var ze=0;ze<me.length;){var st=me[ze++],dt=st.tag;if(dt===5||dt===26||dt===27)vs(st)||ve.push(st.stateNode);else for(st=st.child;st!==null;)me.push(st),st=st.sibling}return ve}function nr(){if(gi&2&&oi!==0)return oi&-oi;if(Kn.T!==null){var me=Ja;return me!==0?me:mt()}return F0()}function Tc(){xr===0&&(xr=!(oi&536870912)||ci?Ee():536870912);var me=gr.current;return me!==null&&(me.flags|=32),xr}function Xi(me,ve,ze){(me===xi&&yi===2||me.cancelPendingCommit!==null)&&(za(me,0),Br(me,oi,xr,!1)),Re(me,ze),(!(gi&2)||me!==xi)&&(me===xi&&(!(gi&2)&&(Ra|=ze),Ci===4&&Br(me,oi,xr,!1)),ct(me))}function wc(me,ve,ze){if(gi&6)throw Error(ie(327));var st=!ze&&(ve&60)===0&&(ve&me.expiredLanes)===0||Fe(me,ve),dt=st?s0(me,ve):Xo(me,ve,!0),gt=st;do{if(dt===0){ls&&!st&&Br(me,ve,0,!1);break}else if(dt===6)Br(me,ve,0,!$r);else{if(ze=me.current.alternate,gt&&!r0(ze)){dt=Xo(me,ve,!1),gt=!1;continue}if(dt===2){if(gt=ve,me.errorRecoveryDisabledLanes&gt)var Mt=0;else Mt=me.pendingLanes&-536870913,Mt=Mt!==0?Mt:Mt&536870912?536870912:0;if(Mt!==0){ve=Mt;e:{var $t=me;dt=Ms;var Jt=hr&&$t.current.memoizedState.isDehydrated;if(Jt&&(za($t,Mt).flags|=256),Mt=Xo($t,Mt,!1),Mt!==2){if(Cl&&!Jt){$t.errorRecoveryDisabledLanes|=gt,Ra|=gt,dt=4;break e}gt=Pr,Pr=dt,gt!==null&&jo(gt)}dt=Mt}if(gt=!1,dt!==2)continue}}if(dt===1){za(me,0),Br(me,ve,0,!0);break}e:{switch(st=me,dt){case 0:case 1:throw Error(ie(345));case 4:if((ve&4194176)===ve){Br(st,ve,xr,!$r);break e}break;case 2:Pr=null;break;case 3:case 5:break;default:throw Error(ie(329))}if(st.finishedWork=ze,st.finishedLanes=ve,(ve&62914560)===ve&&(gt=Ml+300-Ar(),10<gt)){if(Br(st,ve,xr,!$r),we(st,0)!==0)break e;st.timeoutHandle=w0(Mc.bind(null,st,ze,Pr,ho,wl,ve,xr,Ra,cs,$r,2,-0,0),gt);break e}Mc(st,ze,Pr,ho,wl,ve,xr,Ra,cs,$r,0,-0,0)}}break}while(!0);ct(me)}function jo(me){Pr===null?Pr=me:Pr.push.apply(Pr,me)}function Mc(me,ve,ze,st,dt,gt,Mt,$t,Jt,gn,Mn,Nn,Un){var Jn=ve.subtreeFlags;if((Jn&8192||(Jn&16785408)===16785408)&&(I0(),Sc(ve),ve=k0(),ve!==null)){me.cancelPendingCommit=ve(Nc.bind(null,me,ze,st,dt,Mt,$t,Jt,1,Nn,Un)),Br(me,gt,Mt,!gn);return}Nc(me,ze,st,dt,Mt,$t,Jt,Mn,Nn,Un)}function r0(me){for(var ve=me;;){var ze=ve.tag;if((ze===0||ze===11||ze===15)&&ve.flags&16384&&(ze=ve.updateQueue,ze!==null&&(ze=ze.stores,ze!==null)))for(var st=0;st<ze.length;st++){var dt=ze[st],gt=dt.getSnapshot;dt=dt.value;try{if(!sr(gt(),dt))return!1}catch{return!1}}if(ze=ve.child,ve.subtreeFlags&16384&&ze!==null)ze.return=ve,ve=ze;else{if(ve===me)break;for(;ve.sibling===null;){if(ve.return===null||ve.return===me)return!0;ve=ve.return}ve.sibling.return=ve.return,ve=ve.sibling}}return!0}function Br(me,ve,ze,st){ve&=~Tl,ve&=~Ra,me.suspendedLanes|=ve,me.pingedLanes&=~ve,st&&(me.warmLanes|=ve),st=me.expirationTimes;for(var dt=ve;0<dt;){var gt=31-rr(dt),Mt=1<<gt;st[gt]=-1,dt&=~Mt}ze!==0&&ke(me,ze,ve)}function Rc(){return gi&6?!0:(at(0),!1)}function $o(){if(si!==null){if(yi===0)var me=si.return;else me=si,Vr=wa=null,vn(me),ns=null,Cs=0,me=si;for(;me!==null;)lc(me.alternate,me),me=me.return;si=null}}function za(me,ve){me.finishedWork=null,me.finishedLanes=0;var ze=me.timeoutHandle;ze!==ol&&(me.timeoutHandle=ol,M0(ze)),ze=me.cancelPendingCommit,ze!==null&&(me.cancelPendingCommit=null,ze()),$o(),xi=me,si=ze=Qr(me.current,null),oi=ve,yi=0,lr=null,$r=!1,ls=Fe(me,ve),Cl=!1,cs=xr=Tl=Ra=sa=Ci=0,Pr=Ms=null,wl=!1,ve&8&&(ve|=ve&32);var st=me.entangledLanes;if(st!==0)for(me=me.entanglements,st&=ve;0<st;){var dt=31-rr(st),gt=1<<dt;ve|=me[dt],st&=~gt}return Gr=ve,je(),ze}function Fc(me,ve){ti=null,Kn.H=Fr,ve===Es?(ve=Ot(),yi=3):ve===vl?(ve=Ot(),yi=4):yi=ve===wu?8:ve!==null&&typeof ve=="object"&&typeof ve.then=="function"?6:1,lr=ve,si===null&&(Ci=1,ri(me,Me(ve,me.current)))}function Pc(){var me=gr.current;return me===null?!0:(oi&4194176)===oi?Rr===null:(oi&62914560)===oi||oi&536870912?me===Rr:!1}function Dc(){var me=Kn.H;return Kn.H=Fr,me===null?Fr:me}function Oc(){var me=Kn.A;return Kn.A=qh,me}function Go(){Ci=4,$r||(oi&4194176)!==oi&&gr.current!==null||(ls=!0),!(sa&134217727)&&!(Ra&134217727)||xi===null||Br(xi,oi,xr,!1)}function Xo(me,ve,ze){var st=gi;gi|=2;var dt=Dc(),gt=Oc();(xi!==me||oi!==ve)&&(ho=null,za(me,ve)),ve=!1;var Mt=Ci;e:do try{if(yi!==0&&si!==null){var $t=si,Jt=lr;switch(yi){case 8:$o(),Mt=6;break e;case 3:case 2:case 6:gr.current===null&&(ve=!0);var gn=yi;if(yi=0,lr=null,Va(me,$t,Jt,gn),ze&&ls){Mt=0;break e}break;default:gn=yi,yi=0,lr=null,Va(me,$t,Jt,gn)}}a0(),Mt=Ci;break}catch(Mn){Fc(me,Mn)}while(!0);return ve&&me.shellSuspendCounter++,Vr=wa=null,gi=st,Kn.H=dt,Kn.A=gt,si===null&&(xi=null,oi=0,je()),Mt}function a0(){for(;si!==null;)Ic(si)}function s0(me,ve){var ze=gi;gi|=2;var st=Dc(),dt=Oc();xi!==me||oi!==ve?(ho=null,Rs=Ar()+500,za(me,ve)):ls=Fe(me,ve);e:do try{if(yi!==0&&si!==null){ve=si;var gt=lr;t:switch(yi){case 1:yi=0,lr=null,Va(me,ve,gt,1);break;case 2:if(Ut(gt)){yi=0,lr=null,kc(ve);break}ve=function(){yi===2&&xi===me&&(yi=7),ct(me)},gt.then(ve,ve);break e;case 3:yi=7;break e;case 4:yi=5;break e;case 7:Ut(gt)?(yi=0,lr=null,kc(ve)):(yi=0,lr=null,Va(me,ve,gt,7));break;case 5:var Mt=null;switch(si.tag){case 26:Mt=si.memoizedState;case 5:case 27:var $t=si,Jt=$t.type,gn=$t.pendingProps;if(Mt?vu(Mt):iu(Jt,gn)){yi=0,lr=null;var Mn=$t.sibling;if(Mn!==null)si=Mn;else{var Nn=$t.return;Nn!==null?(si=Nn,Vs(Nn)):si=null}break t}}yi=0,lr=null,Va(me,ve,gt,5);break;case 6:yi=0,lr=null,Va(me,ve,gt,6);break;case 8:$o(),Ci=6;break e;default:throw Error(ie(462))}}o0();break}catch(Un){Fc(me,Un)}while(!0);return Vr=wa=null,Kn.H=st,Kn.A=dt,gi=ze,si!==null?0:(xi=null,oi=0,je(),Ci)}function o0(){for(;si!==null&&!Nh();)Ic(si)}function Ic(me){var ve=tc(me.alternate,me,Gr);me.memoizedProps=me.pendingProps,ve===null?Vs(me):si=ve}function kc(me){var ve=me,ze=ve.alternate;switch(ve.tag){case 15:case 0:ve=ks(ze,ve,ve.pendingProps,ve.type,void 0,oi);break;case 11:ve=ks(ze,ve,ve.pendingProps,ve.type.render,ve.ref,oi);break;case 5:vn(ve);default:lc(ze,ve),ve=si=zc(ve,Gr),ve=tc(ze,ve,Gr)}me.memoizedProps=me.pendingProps,ve===null?Vs(me):si=ve}function Va(me,ve,ze,st){Vr=wa=null,vn(ve),ns=null,Cs=0;var dt=ve.return;try{if(Xn(me,dt,ve,ze,oi)){Ci=1,ri(me,Me(ze,me.current)),si=null;return}}catch(gt){if(dt!==null)throw si=dt,gt;Ci=1,ri(me,Me(ze,me.current)),si=null;return}ve.flags&32768?(ci||st===1?me=!0:ls||oi&536870912?me=!1:($r=me=!0,(st===2||st===3||st===6)&&(st=gr.current,st!==null&&st.tag===13&&(st.flags|=16384))),Lc(ve,me)):Vs(ve)}function Vs(me){var ve=me;do{if(ve.flags&32768){Lc(ve,$r);return}me=ve.return;var ze=e0(ve.alternate,ve,Gr);if(ze!==null){si=ze;return}if(ve=ve.sibling,ve!==null){si=ve;return}si=ve=me}while(ve!==null);Ci===0&&(Ci=5)}function Lc(me,ve){do{var ze=t0(me.alternate,me);if(ze!==null){ze.flags&=32767,si=ze;return}if(ze=me.return,ze!==null&&(ze.flags|=32768,ze.subtreeFlags=0,ze.deletions=null),!ve&&(me=me.sibling,me!==null)){si=me;return}si=me=ze}while(me!==null);Ci=6,si=null}function Nc(me,ve,ze,st,dt,gt,Mt,$t,Jt,gn){var Mn=Kn.T,Nn=va();try{Qi(2),Kn.T=null,l0(me,ve,ze,st,Nn,dt,gt,Mt,$t,Jt,gn)}finally{Kn.T=Mn,Qi(Nn)}}function l0(me,ve,ze,st,dt,gt,Mt,$t){do ya();while(Fa!==null);if(gi&6)throw Error(ie(327));var Jt=me.finishedWork;if(st=me.finishedLanes,Jt===null)return null;if(me.finishedWork=null,me.finishedLanes=0,Jt===me.current)throw Error(ie(177));me.callbackNode=null,me.callbackPriority=0,me.cancelPendingCommit=null;var gn=Jt.lanes|Jt.childLanes;if(gn|=ml,Ye(me,st,gn,gt,Mt,$t),me===xi&&(si=xi=null,oi=0),!(Jt.subtreeFlags&10256)&&!(Jt.flags&10256)||fo||(fo=!0,Rl=gn,Fl=ze,d0(fl,function(){return ya(),null})),ze=(Jt.flags&15990)!==0,Jt.subtreeFlags&15990||ze?(ze=Kn.T,Kn.T=null,gt=va(),Qi(2),Mt=gi,gi|=4,n0(me,Jt),yc(Jt,me),C0(me.containerInfo),me.current=Jt,mc(me,Jt.alternate,Jt),Bh(),gi=Mt,Qi(gt),Kn.T=ze):me.current=Jt,fo?(fo=!1,Fa=me,Fs=st):Bc(me,gn),gn=me.pendingLanes,gn===0&&(oa=null),Pe(Jt.stateNode),ct(me),ve!==null)for(dt=me.onRecoverableError,Jt=0;Jt<ve.length;Jt++)gn=ve[Jt],dt(gn.value,{componentStack:gn.stack});return Fs&3&&ya(),gn=me.pendingLanes,st&4194218&&gn&42?me===Pl?Ps++:(Ps=0,Pl=me):Ps=0,at(0),null}function Bc(me,ve){(me.pooledCacheLanes&=ve)===0&&(ve=me.pooledCache,ve!=null&&(me.pooledCache=null,fs(ve)))}function ya(){if(Fa!==null){var me=Fa,ve=Rl;Rl=0;var ze=Be(Fs),st=32>ze?32:ze;ze=Kn.T;var dt=va();try{if(Qi(st),Kn.T=null,Fa===null)var gt=!1;else{st=Fl,Fl=null;var Mt=Fa,$t=Fs;if(Fa=null,Fs=0,gi&6)throw Error(ie(331));var Jt=gi;if(gi|=4,_c(Mt.current),vc(Mt,Mt.current,$t,st),gi=Jt,at(0,!1),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Ss,Mt)}catch{}gt=!0}return gt}finally{Qi(dt),Kn.T=ze,Bc(me,ve)}}return!1}function Uc(me,ve,ze){ve=Me(ze,ve),ve=di(me.stateNode,ve,2),me=jt(me,ve,2),me!==null&&(Re(me,2),ct(me))}function pi(me,ve,ze){if(me.tag===3)Uc(me,me,ze);else for(;ve!==null;){if(ve.tag===3){Uc(ve,me,ze);break}else if(ve.tag===1){var st=ve.stateNode;if(typeof ve.type.getDerivedStateFromError=="function"||typeof st.componentDidCatch=="function"&&(oa===null||!oa.has(st))){me=Me(ze,me),ze=Gn(2),st=jt(ve,ze,2),st!==null&&(Si(ze,st,ve,me),Re(st,2),ct(st));break}}ve=ve.return}}function Wo(me,ve,ze){var st=me.pingCache;if(st===null){st=me.pingCache=new Yh;var dt=new Set;st.set(ve,dt)}else dt=st.get(ve),dt===void 0&&(dt=new Set,st.set(ve,dt));dt.has(ze)||(Cl=!0,dt.add(ze),me=c0.bind(null,me,ve,ze),ve.then(me,me))}function c0(me,ve,ze){var st=me.pingCache;st!==null&&st.delete(ve),me.pingedLanes|=me.suspendedLanes&ze,me.warmLanes&=~ze,xi===me&&(oi&ze)===ze&&(Ci===4||Ci===3&&(oi&62914560)===oi&&300>Ar()-Ml?!(gi&2)&&za(me,0):Tl|=ze,cs===oi&&(cs=0)),ct(me)}function Hc(me,ve){ve===0&&(ve=Ce()),me=We(me,ve),me!==null&&(Re(me,ve),ct(me))}function u0(me){var ve=me.memoizedState,ze=0;ve!==null&&(ze=ve.retryLane),Hc(me,ze)}function h0(me,ve){var ze=0;switch(me.tag){case 13:var st=me.stateNode,dt=me.memoizedState;dt!==null&&(ze=dt.retryLane);break;case 19:st=me.stateNode;break;case 22:st=me.stateNode._retryCache;break;default:throw Error(ie(314))}st!==null&&st.delete(ve),Hc(me,ze)}function d0(me,ve){return Ys(me,ve)}function f0(me,ve,ze,st){this.tag=me,this.key=ze,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=ve,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=st,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qo(me){return me=me.prototype,!(!me||!me.isReactComponent)}function Qr(me,ve){var ze=me.alternate;return ze===null?(ze=te(me.tag,ve,me.key,me.mode),ze.elementType=me.elementType,ze.type=me.type,ze.stateNode=me.stateNode,ze.alternate=me,me.alternate=ze):(ze.pendingProps=ve,ze.type=me.type,ze.flags=0,ze.subtreeFlags=0,ze.deletions=null),ze.flags=me.flags&31457280,ze.childLanes=me.childLanes,ze.lanes=me.lanes,ze.child=me.child,ze.memoizedProps=me.memoizedProps,ze.memoizedState=me.memoizedState,ze.updateQueue=me.updateQueue,ve=me.dependencies,ze.dependencies=ve===null?null:{lanes:ve.lanes,firstContext:ve.firstContext},ze.sibling=me.sibling,ze.index=me.index,ze.ref=me.ref,ze.refCleanup=me.refCleanup,ze}function zc(me,ve){me.flags&=31457282;var ze=me.alternate;return ze===null?(me.childLanes=0,me.lanes=ve,me.child=null,me.subtreeFlags=0,me.memoizedProps=null,me.memoizedState=null,me.updateQueue=null,me.dependencies=null,me.stateNode=null):(me.childLanes=ze.childLanes,me.lanes=ze.lanes,me.child=ze.child,me.subtreeFlags=0,me.deletions=null,me.memoizedProps=ze.memoizedProps,me.memoizedState=ze.memoizedState,me.updateQueue=ze.updateQueue,me.type=ze.type,ve=ze.dependencies,me.dependencies=ve===null?null:{lanes:ve.lanes,firstContext:ve.firstContext}),me}function js(me,ve,ze,st,dt,gt){var Mt=0;if(st=me,typeof me=="function")qo(me)&&(Mt=1);else if(typeof me=="string")Mt=dr&&ji?pu(me,ze,Hi.current)?26:Au(me)?27:5:dr?pu(me,ze,Hi.current)?26:5:ji&&Au(me)?27:5;else e:switch(me){case $a:return ba(ze.children,dt,gt,ve);case qc:Mt=8,dt|=24;break;case Jo:return me=te(12,ze,ve,dt|2),me.elementType=Jo,me.lanes=gt,me;case tl:return me=te(13,ze,ve,dt),me.elementType=tl,me.lanes=gt,me;case nl:return me=te(19,ze,ve,dt),me.elementType=nl,me.lanes=gt,me;case Kc:return Vc(ze,dt,gt,ve);default:if(typeof me=="object"&&me!==null)switch(me.$$typeof){case x0:case Jr:Mt=10;break e;case Yc:Mt=9;break e;case el:Mt=11;break e;case il:Mt=14;break e;case ea:Mt=16,st=null;break e}Mt=29,ze=Error(ie(130,me===null?"null":typeof me,"")),st=null}return ve=te(Mt,ze,ve,dt),ve.elementType=me,ve.type=st,ve.lanes=gt,ve}function ba(me,ve,ze,st){return me=te(7,me,st,ve),me.lanes=ze,me}function Vc(me,ve,ze,st){me=te(22,me,st,ve),me.elementType=Kc,me.lanes=ze;var dt={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var gt=dt._current;if(gt===null)throw Error(ie(456));if(!(dt._pendingVisibility&2)){var Mt=We(gt,2);Mt!==null&&(dt._pendingVisibility|=2,Xi(Mt,gt,2))}},attach:function(){var gt=dt._current;if(gt===null)throw Error(ie(456));if(dt._pendingVisibility&2){var Mt=We(gt,2);Mt!==null&&(dt._pendingVisibility&=-3,Xi(Mt,gt,2))}}};return me.stateNode=dt,me}function Yo(me,ve,ze){return me=te(6,me,null,ve),me.lanes=ze,me}function Ko(me,ve,ze){return ve=te(4,me.children!==null?me.children:[],me.key,ve),ve.lanes=ze,ve.stateNode={containerInfo:me.containerInfo,pendingChildren:null,implementation:me.implementation},ve}function p0(me,ve,ze,st,dt,gt,Mt,$t){this.tag=1,this.containerInfo=me,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ol,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ye(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.hiddenUpdates=ye(null),this.identifierPrefix=st,this.onUncaughtError=dt,this.onCaughtError=gt,this.onRecoverableError=Mt,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$t,this.incompleteTransitions=new Map}function jc(me,ve,ze,st,dt,gt,Mt,$t,Jt,gn,Mn,Nn){return me=new p0(me,ve,ze,Mt,$t,Jt,gn,Nn),ve=1,gt===!0&&(ve|=24),gt=te(3,null,null,ve),me.current=gt,gt.stateNode=me,ve=Mo(),ve.refCount++,me.pooledCache=ve,ve.refCount++,gt.memoizedState={element:st,isDehydrated:ze,cache:ve},_t(gt),me}function $c(me){return me?(me=Wa,me):Wa}function Gc(me){var ve=me._reactInternals;if(ve===void 0)throw typeof me.render=="function"?Error(ie(188)):(me=Object.keys(me).join(","),Error(ie(268,me)));return me=re(ve),me=me!==null?Ae(me):null,me===null?null:ys(me.stateNode)}function Xc(me,ve,ze,st,dt,gt){dt=$c(dt),st.context===null?st.context=dt:st.pendingContext=dt,st=Lt(ve),st.payload={element:ze},gt=gt===void 0?null:gt,gt!==null&&(st.callback=gt),ze=jt(me,st,ve),ze!==null&&(Xi(ze,me,ve),Bt(ze,me,ve))}function Wc(me,ve){if(me=me.memoizedState,me!==null&&me.dehydrated!==null){var ze=me.retryLane;me.retryLane=ze!==0&&ze<ve?ze:ve}}function Zo(me,ve){Wc(me,ve),(me=me.alternate)&&Wc(me,ve)}var ai={},m0=reactExports,ir=schedulerExports,Qo=Object.assign,g0=Symbol.for("react.element"),$s=Symbol.for("react.transitional.element"),ja=Symbol.for("react.portal"),$a=Symbol.for("react.fragment"),qc=Symbol.for("react.strict_mode"),Jo=Symbol.for("react.profiler"),x0=Symbol.for("react.provider"),Yc=Symbol.for("react.consumer"),Jr=Symbol.for("react.context"),el=Symbol.for("react.forward_ref"),tl=Symbol.for("react.suspense"),nl=Symbol.for("react.suspense_list"),il=Symbol.for("react.memo"),ea=Symbol.for("react.lazy"),Kc=Symbol.for("react.offscreen"),y0=Symbol.for("react.memo_cache_sentinel"),Zc=Symbol.iterator,b0=Symbol.for("react.client.reference"),Kn=m0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rl,Qc,al=!1,Gs=Array.isArray,v0=$.rendererVersion,S0=$.rendererPackageName,Jc=$.extraDevToolsConfig,ys=$.getPublicInstance,A0=$.getRootHostContext,_0=$.getChildHostContext,E0=$.prepareForCommit,C0=$.resetAfterCommit,T0=$.createInstance,sl=$.appendInitialChild,eu=$.finalizeInitialChildren,Xs=$.shouldSetTextContent,tu=$.createTextInstance,w0=$.scheduleTimeout,M0=$.cancelTimeout,ol=$.noTimeout,Ur=$.isPrimaryRenderer;$.warnsIfNotActing;var Vi=$.supportsMutation,ta=$.supportsPersistence,hr=$.supportsHydration,nu=$.getInstanceFromNode;$.beforeActiveInstanceBlur,$.afterActiveInstanceBlur;var R0=$.preparePortalMount;$.prepareScopeUpdate,$.getInstanceFromScope;var Qi=$.setCurrentUpdatePriority,va=$.getCurrentUpdatePriority,F0=$.resolveUpdatePriority;$.resolveEventType,$.resolveEventTimeStamp;var P0=$.shouldAttemptEagerTransition,D0=$.detachDeletedInstance;$.requestPostPaintCallback;var O0=$.maySuspendCommit,iu=$.preloadInstance,I0=$.startSuspendingCommit,ru=$.suspendInstance,k0=$.waitForCommitToBeReady,Ga=$.NotPendingTransition,Sa=$.HostTransitionContext,L0=$.resetFormInstance;$.bindToConsole;var N0=$.supportsMicrotasks,B0=$.scheduleMicrotask,bs=$.supportsTestSelectors,U0=$.findFiberRoot,H0=$.getBoundingRect,z0=$.getTextContent,vs=$.isHiddenSubtree,V0=$.matchAccessibilityRole,j0=$.setFocusIfFocusable,$0=$.setupIntersectionObserver,G0=$.appendChild,X0=$.appendChildToContainer,W0=$.commitTextUpdate,q0=$.commitMount,Y0=$.commitUpdate,K0=$.insertBefore,Z0=$.insertInContainerBefore,Q0=$.removeChild,J0=$.removeChildFromContainer,au=$.resetTextContent,eh=$.hideInstance,th=$.hideTextInstance,nh=$.unhideInstance,ih=$.unhideTextInstance,rh=$.clearContainer,ah=$.cloneInstance,su=$.createContainerChildSet,ou=$.appendChildToContainerChildSet,sh=$.finalizeContainerChildren,lu=$.replaceContainerChildren,cu=$.cloneHiddenInstance,uu=$.cloneHiddenTextInstance,ll=$.isSuspenseInstancePending,cl=$.isSuspenseInstanceFallback,oh=$.getSuspenseInstanceFallbackErrorDetails,lh=$.registerSuspenseInstanceRetry,ch=$.canHydrateFormStateMarker,uh=$.isFormStateMarkerMatching,hu=$.getNextHydratableSibling,du=$.getFirstHydratableChild,hh=$.getFirstHydratableChildWithinContainer,dh=$.getFirstHydratableChildWithinSuspenseInstance,fh=$.canHydrateInstance,ph=$.canHydrateTextInstance,mh=$.canHydrateSuspenseInstance,gh=$.hydrateInstance,xh=$.hydrateTextInstance,yh=$.hydrateSuspenseInstance,bh=$.getNextHydratableInstanceAfterSuspenseInstance,Sh=$.commitHydratedContainer,Ah=$.commitHydratedSuspenseInstance,_h=$.clearSuspenseBoundary,Eh=$.clearSuspenseBoundaryFromContainer,fu=$.shouldDeleteUnhydratedTailInstances;$.diffHydratedPropsForDevWarnings,$.diffHydratedTextForDevWarnings,$.describeHydratableInstanceForDevWarnings;var Ch=$.validateHydratableInstance,Th=$.validateHydratableTextInstance,dr=$.supportsResources,pu=$.isHostHoistableType,ul=$.getHoistableRoot,mu=$.getResource,gu=$.acquireResource,xu=$.releaseResource,wh=$.hydrateHoistable,yu=$.mountHoistable,bu=$.unmountHoistable,Mh=$.createHoistableInstance,Rh=$.prepareToCommitHoistables,Fh=$.mayResourceSuspendCommit,vu=$.preloadResource,Ph=$.suspendResource,ji=$.supportsSingletons,Su=$.resolveSingletonInstance,Dh=$.clearSingleton,Oh=$.acquireSingletonInstance,Ih=$.releaseSingletonInstance,Au=$.isHostSingletonType,hl=[],Xa=-1,Wa={},rr=Math.clz32?Math.clz32:xe,kh=Math.log,Lh=Math.LN2,Ws=128,qs=4194304,Ys=ir.unstable_scheduleCallback,dl=ir.unstable_cancelCallback,Nh=ir.unstable_shouldYield,Bh=ir.unstable_requestPaint,Ar=ir.unstable_now,_u=ir.unstable_ImmediatePriority,Uh=ir.unstable_UserBlockingPriority,fl=ir.unstable_NormalPriority,Hh=ir.unstable_IdlePriority,zh=ir.log,Vh=ir.unstable_setDisableYieldValue,Ss=null,ar=null,sr=typeof Object.is=="function"?Object.is:Te,Eu=new WeakMap,qa=[],Ya=0,Ks=null,Zs=0,fr=[],pr=0,Aa=null,Hr=1,zr="",Hi=Se(null),As=Se(null),na=Se(null),Qs=Se(null),Wi=null,$i=null,ci=!1,_r=null,Mr=!1,pl=Error(ie(519)),mr=[],Ka=0,ml=0,Js=null,Za=null,gl=!1,eo=!1,xl=!1,Qa=0,_s=null,yl=0,Ja=0,es=null,ia=!1,bl=!1,jh=Object.prototype.hasOwnProperty,Es=Error(ie(460)),vl=Error(ie(474)),to={then:function(){}},ts=null,ns=null,Cs=0,_a=Sn(!0),Cu=Sn(!1),rs=Se(null),no=Se(0),gr=Se(null),Rr=null,Ii=Se(0),ra=0,ti=null,mi=null,Fi=null,io=!1,as=!1,Ea=!1,ro=0,Ts=0,ss=null,$h=0,Sl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Fr={readContext:zi,use:zt,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n};Fr.useCacheRefresh=_n,Fr.useMemoCache=_n,Fr.useHostTransitionStatus=_n,Fr.useFormState=_n,Fr.useActionState=_n,Fr.useOptimistic=_n;var Ca={readContext:zi,use:zt,useCallback:function(me,ve){return At().memoizedState=[me,ve===void 0?null:ve],me},useContext:zi,useEffect:Da,useImperativeHandle:function(me,ve,ze){ze=ze!=null?ze.concat([me]):null,Or(4194308,4,ua.bind(null,ve,me),ze)},useLayoutEffect:function(me,ve){return Or(4194308,4,me,ve)},useInsertionEffect:function(me,ve){Or(4,2,me,ve)},useMemo:function(me,ve){var ze=At();ve=ve===void 0?null:ve;var st=me();if(Ea){Ue(!0);try{me()}finally{Ue(!1)}}return ze.memoizedState=[st,ve],st},useReducer:function(me,ve,ze){var st=At();if(ze!==void 0){var dt=ze(ve);if(Ea){Ue(!0);try{ze(ve)}finally{Ue(!1)}}}else dt=ve;return st.memoizedState=st.baseState=dt,me={pending:null,lanes:0,dispatch:null,lastRenderedReducer:me,lastRenderedState:dt},st.queue=me,me=me.dispatch=De.bind(null,ti,me),[st.memoizedState,me]},useRef:function(me){var ve=At();return me={current:me},ve.memoizedState=me},useState:function(me){me=Tn(me);var ve=me.queue,ze=ht.bind(null,ti,ve);return ve.dispatch=ze,[me.memoizedState,ze]},useDebugValue:da,useDeferredValue:function(me,ve){var ze=At();return fa(ze,me,ve)},useTransition:function(){var me=Tn(!1);return me=Wr.bind(null,ti,me.queue,!0,!1),At().memoizedState=me,[!1,me]},useSyncExternalStore:function(me,ve,ze){var st=ti,dt=At();if(ci){if(ze===void 0)throw Error(ie(407));ze=ze()}else{if(ze=ve(),xi===null)throw Error(ie(349));oi&60||Wt(st,ve,ze)}dt.memoizedState=ze;var gt={value:ze,getSnapshot:ve};return dt.queue=gt,Da(pn.bind(null,st,gt,me),[me]),st.flags|=2048,qi(9,Gt.bind(null,st,gt,ze,ve),{destroy:void 0},null),ze},useId:function(){var me=At(),ve=xi.identifierPrefix;if(ci){var ze=zr,st=Hr;ze=(st&~(1<<32-rr(st)-1)).toString(32)+ze,ve=":"+ve+"R"+ze,ze=ro++,0<ze&&(ve+="H"+ze.toString(32)),ve+=":"}else ze=$h++,ve=":"+ve+"r"+ze.toString(32)+":";return me.memoizedState=ve},useCacheRefresh:function(){return At().memoizedState=qt.bind(null,ti)}};Ca.useMemoCache=Ht,Ca.useHostTransitionStatus=Tr,Ca.useFormState=li,Ca.useActionState=li,Ca.useOptimistic=function(me){var ve=At();ve.memoizedState=ve.baseState=me;var ze={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return ve.queue=ze,ve=Qt.bind(null,ti,!0,ze),ze.dispatch=ve,[me,ve]};var aa={readContext:zi,use:zt,useCallback:Ia,useContext:zi,useEffect:ca,useImperativeHandle:ha,useInsertionEffect:Oa,useLayoutEffect:Xr,useMemo:ka,useReducer:dn,useRef:Yi,useState:function(){return dn(rn)},useDebugValue:da,useDeferredValue:function(me,ve){var ze=Dt();return La(ze,mi.memoizedState,me,ve)},useTransition:function(){var me=dn(rn)[0],ve=Dt().memoizedState;return[typeof me=="boolean"?me:Nt(me),ve]},useSyncExternalStore:Vt,useId:Ba};aa.useCacheRefresh=Ir,aa.useMemoCache=Ht,aa.useHostTransitionStatus=Tr,aa.useFormState=Di,aa.useActionState=Di,aa.useOptimistic=function(me,ve){var ze=Dt();return En(ze,mi,me,ve)};var Ta={readContext:zi,use:zt,useCallback:Ia,useContext:zi,useEffect:ca,useImperativeHandle:ha,useInsertionEffect:Oa,useLayoutEffect:Xr,useMemo:ka,useReducer:Rt,useRef:Yi,useState:function(){return Rt(rn)},useDebugValue:da,useDeferredValue:function(me,ve){var ze=Dt();return mi===null?fa(ze,me,ve):La(ze,mi.memoizedState,me,ve)},useTransition:function(){var me=Rt(rn)[0],ve=Dt().memoizedState;return[typeof me=="boolean"?me:Nt(me),ve]},useSyncExternalStore:Vt,useId:Ba};Ta.useCacheRefresh=Ir,Ta.useMemoCache=Ht,Ta.useHostTransitionStatus=Tr,Ta.useFormState=wi,Ta.useActionState=wi,Ta.useOptimistic=function(me,ve){var ze=Dt();return mi!==null?En(ze,mi,me,ve):(ze.baseState=me,[me,ze.queue.dispatch])};var Al={isMounted:function(me){return(me=me._reactInternals)?de(me)===me:!1},enqueueSetState:function(me,ve,ze){me=me._reactInternals;var st=nr(),dt=Lt(st);dt.payload=ve,ze!=null&&(dt.callback=ze),ve=jt(me,dt,st),ve!==null&&(Xi(ve,me,st),Bt(ve,me,st))},enqueueReplaceState:function(me,ve,ze){me=me._reactInternals;var st=nr(),dt=Lt(st);dt.tag=1,dt.payload=ve,ze!=null&&(dt.callback=ze),ve=jt(me,dt,st),ve!==null&&(Xi(ve,me,st),Bt(ve,me,st))},enqueueForceUpdate:function(me,ve){me=me._reactInternals;var ze=nr(),st=Lt(ze);st.tag=2,ve!=null&&(st.callback=ve),ve=jt(me,st,ze),ve!==null&&(Xi(ve,me,ze),Bt(ve,me,ze))}},Tu=typeof reportError=="function"?reportError:function(me){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof me=="object"&&me!==null&&typeof me.message=="string"?String(me.message):String(me),error:me});if(!window.dispatchEvent(ve))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",me);return}console.error(me)},wu=Error(ie(461)),Ni=!1,_l={dehydrated:null,treeContext:null,retryLane:0},ao=Se(null),wa=null,Vr=null,Gh=typeof AbortController<"u"?AbortController:function(){var me=[],ve=this.signal={aborted:!1,addEventListener:function(ze,st){me.push(st)}};this.abort=function(){ve.aborted=!0,me.forEach(function(ze){return ze()})}},Xh=ir.unstable_scheduleCallback,Wh=ir.unstable_NormalPriority,_i={$$typeof:Jr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Mu=Kn.S;Kn.S=function(me,ve){typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&xt(me,ve),Mu!==null&&Mu(me,ve)};var Ma=Se(null),jr=!1,Ei=!1,El=!1,Ru=typeof WeakSet=="function"?WeakSet:Set,Bi=null,Fu=!1,Pi=null,or=!1,Er=null,os=8192,qh={getCacheForType:function(me){var ve=zi(_i),ze=ve.data.get(me);return ze===void 0&&(ze=me(),ve.data.set(me,ze)),ze}},so=0,oo=1,lo=2,co=3,uo=4;if(typeof Symbol=="function"&&Symbol.for){var ws=Symbol.for;so=ws("selector.component"),oo=ws("selector.has_pseudo_class"),lo=ws("selector.role"),co=ws("selector.test_id"),uo=ws("selector.text")}var Yh=typeof WeakMap=="function"?WeakMap:Map,gi=0,xi=null,si=null,oi=0,yi=0,lr=null,$r=!1,ls=!1,Cl=!1,Gr=0,Ci=0,sa=0,Ra=0,Tl=0,xr=0,cs=0,Ms=null,Pr=null,wl=!1,Ml=0,Rs=1/0,ho=null,oa=null,fo=!1,Fa=null,Fs=0,Rl=0,Fl=null,Ps=0,Pl=null;return ai.attemptContinuousHydration=function(me){if(me.tag===13){var ve=We(me,67108864);ve!==null&&Xi(ve,me,67108864),Zo(me,67108864)}},ai.attemptHydrationAtCurrentPriority=function(me){if(me.tag===13){var ve=nr(),ze=We(me,ve);ze!==null&&Xi(ze,me,ve),Zo(me,ve)}},ai.attemptSynchronousHydration=function(me){switch(me.tag){case 3:if(me=me.stateNode,me.current.memoizedState.isDehydrated){var ve=ue(me.pendingLanes);if(ve!==0){for(me.pendingLanes|=2,me.entangledLanes|=2;ve;){var ze=1<<31-rr(ve);me.entanglements[1]|=ze,ve&=~ze}ct(me),!(gi&6)&&(Rs=Ar()+500,at(0))}}break;case 13:ve=We(me,2),ve!==null&&Xi(ve,me,2),Rc(),Zo(me,2)}},ai.batchedUpdates=function(me,ve){return me(ve)},ai.createComponentSelector=function(me){return{$$typeof:so,value:me}},ai.createContainer=function(me,ve,ze,st,dt,gt,Mt,$t,Jt,gn){return jc(me,ve,!1,null,ze,st,gt,Mt,$t,Jt,gn,null)},ai.createHasPseudoClassSelector=function(me){return{$$typeof:oo,value:me}},ai.createHydrationContainer=function(me,ve,ze,st,dt,gt,Mt,$t,Jt,gn,Mn,Nn,Un){return me=jc(ze,st,!0,me,dt,gt,$t,Jt,gn,Mn,Nn,Un),me.context=$c(null),ze=me.current,st=nr(),dt=Lt(st),dt.callback=ve??null,jt(ze,dt,st),me.current.lanes=st,Re(me,st),ct(me),me},ai.createPortal=function(me,ve,ze){var st=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:st==null?null:""+st,children:me,containerInfo:ve,implementation:ze}},ai.createRoleSelector=function(me){return{$$typeof:lo,value:me}},ai.createTestNameSelector=function(me){return{$$typeof:co,value:me}},ai.createTextSelector=function(me){return{$$typeof:uo,value:me}},ai.defaultOnCaughtError=function(me){console.error(me)},ai.defaultOnRecoverableError=function(me){Tu(me)},ai.defaultOnUncaughtError=function(me){Tu(me)},ai.deferredUpdates=function(me){var ve=Kn.T,ze=va();try{return Qi(32),Kn.T=null,me()}finally{Qi(ze),Kn.T=ve}},ai.discreteUpdates=function(me,ve,ze,st,dt){var gt=Kn.T,Mt=va();try{return Qi(2),Kn.T=null,me(ve,ze,st,dt)}finally{Qi(Mt),Kn.T=gt,gi===0&&(Rs=Ar()+500)}},ai.findAllNodes=Vo,ai.findBoundingRects=function(me,ve){if(!bs)throw Error(ie(363));ve=Vo(me,ve),me=[];for(var ze=0;ze<ve.length;ze++)me.push(H0(ve[ze]));for(ve=me.length-1;0<ve;ve--){ze=me[ve];for(var st=ze.x,dt=st+ze.width,gt=ze.y,Mt=gt+ze.height,$t=ve-1;0<=$t;$t--)if(ve!==$t){var Jt=me[$t],gn=Jt.x,Mn=gn+Jt.width,Nn=Jt.y,Un=Nn+Jt.height;if(st>=gn&&gt>=Nn&&dt<=Mn&&Mt<=Un){me.splice(ve,1);break}else if(st!==gn||ze.width!==Jt.width||Un<gt||Nn>Mt){if(!(gt!==Nn||ze.height!==Jt.height||Mn<st||gn>dt)){gn>st&&(Jt.width+=gn-st,Jt.x=st),Mn<dt&&(Jt.width=dt-gn),me.splice(ve,1);break}}else{Nn>gt&&(Jt.height+=Nn-gt,Jt.y=gt),Un<Mt&&(Jt.height=Mt-Nn),me.splice(ve,1);break}}}return me},ai.findHostInstance=Gc,ai.findHostInstanceWithNoPortals=function(me){return me=re(me),me=me!==null?ge(me):null,me===null?null:ys(me.stateNode)},ai.findHostInstanceWithWarning=function(me){return Gc(me)},ai.flushPassiveEffects=ya,ai.flushSyncFromReconciler=function(me){var ve=gi;gi|=1;var ze=Kn.T,st=va();try{if(Qi(2),Kn.T=null,me)return me()}finally{Qi(st),Kn.T=ze,gi=ve,!(gi&6)&&at(0)}},ai.flushSyncWork=Rc,ai.focusWithin=function(me,ve){if(!bs)throw Error(ie(363));for(me=Uo(me),ve=Cc(me,ve),ve=Array.from(ve),me=0;me<ve.length;){var ze=ve[me++],st=ze.tag;if(!vs(ze)){if((st===5||st===26||st===27)&&j0(ze.stateNode))return!0;for(ze=ze.child;ze!==null;)ve.push(ze),ze=ze.sibling}}return!1},ai.getFindAllNodesFailureDescription=function(me,ve){if(!bs)throw Error(ie(363));var ze=0,st=[];me=[Uo(me),0];for(var dt=0;dt<me.length;){var gt=me[dt++],Mt=gt.tag,$t=me[dt++],Jt=ve[$t];if((Mt!==5&&Mt!==26&&Mt!==27||!vs(gt))&&(Ho(gt,Jt)&&(st.push(zo(Jt)),$t++,$t>ze&&(ze=$t)),$t<ve.length))for(gt=gt.child;gt!==null;)me.push(gt,$t),gt=gt.sibling}if(ze<ve.length){for(me=[];ze<ve.length;ze++)me.push(zo(ve[ze]));return`findAllNodes was able to match part of the selector:
  `+(st.join(" > ")+`

No matching component was found for:
  `)+me.join(" > ")}return null},ai.getPublicRootInstance=function(me){if(me=me.current,!me.child)return null;switch(me.child.tag){case 27:case 5:return ys(me.child.stateNode);default:return me.child.stateNode}},ai.injectIntoDevTools=function(){var me={bundleType:0,version:v0,rendererPackageName:S0,currentDispatcherRef:Kn,findFiberByHostInstance:nu,reconcilerVersion:"19.0.0"};if(Jc!==null&&(me.rendererConfig=Jc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")me=!1;else{var ve=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(ve.isDisabled||!ve.supportsFiber)me=!0;else{try{Ss=ve.inject(me),ar=ve}catch{}me=!!ve.checkDCE}}return me},ai.isAlreadyRendering=function(){return!1},ai.observeVisibleRects=function(me,ve,ze,st){if(!bs)throw Error(ie(363));me=Vo(me,ve);var dt=$0(me,ze,st).disconnect;return{disconnect:function(){dt()}}},ai.shouldError=function(){return null},ai.shouldSuspend=function(){return!1},ai.startHostTransition=function(me,ve,ze,st){if(me.tag!==5)throw Error(ie(476));var dt=Na(me).queue;Wr(me,dt,ve,Ga,ze===null?ne:function(){var gt=Na(me).next.queue;return Xt(me,gt,{},nr()),ze(st)})},ai.updateContainer=function(me,ve,ze,st){var dt=ve.current,gt=nr();return Xc(dt,gt,me,ve,ze,st),gt},ai.updateContainerSync=function(me,ve,ze,st){return ve.tag===0&&ya(),Xc(ve.current,2,me,ve,ze,st),2},ai},ee.exports.default=ee.exports,Object.defineProperty(ee.exports,"__esModule",{value:!0})})(reactReconciler_production);var reactReconciler_productionExports=reactReconciler_production.exports;reactReconciler.exports=reactReconciler_productionExports;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports),isPromise=ee=>typeof ee=="object"&&typeof ee.then=="function",globalCache=[];function shallowEqualArrays(ee,$,te=(ne,ie)=>ne===ie){if(ee===$)return!0;if(!ee||!$)return!1;const ne=ee.length;if($.length!==ne)return!1;for(let ie=0;ie<ne;ie++)if(!te(ee[ie],$[ie]))return!1;return!0}function query(ee,$=null,te=!1,ne={}){$===null&&($=[ee]);for(const se of globalCache)if(shallowEqualArrays($,se.keys,se.equal)){if(te)return;if(Object.prototype.hasOwnProperty.call(se,"error"))throw se.error;if(Object.prototype.hasOwnProperty.call(se,"response"))return ne.lifespan&&ne.lifespan>0&&(se.timeout&&clearTimeout(se.timeout),se.timeout=setTimeout(se.remove,ne.lifespan)),se.response;if(!te)throw se.promise}const ie={keys:$,equal:ne.equal,remove:()=>{const se=globalCache.indexOf(ie);se!==-1&&globalCache.splice(se,1)},promise:(isPromise(ee)?ee:ee(...$)).then(se=>{ie.response=se,ne.lifespan&&ne.lifespan>0&&(ie.timeout=setTimeout(ie.remove,ne.lifespan))}).catch(se=>ie.error=se)};if(globalCache.push(ie),!te)throw ie.promise}const suspend=(ee,$,te)=>query(ee,$,!1,te),preload=(ee,$,te)=>void query(ee,$,!0,te),clear=ee=>{if(ee===void 0||ee.length===0)globalCache.splice(0,globalCache.length);else{const $=globalCache.find(te=>shallowEqualArrays(ee,te.keys,te.equal));$&&$.remove()}};function i$2(ee,$,te){if(!ee)return;if(te(ee)===!0)return ee;let ne=$?ee.return:ee.child;for(;ne;){const ie=i$2(ne,$,te);if(ie)return ie;ne=$?null:ne.sibling}}function l$2(ee){try{return Object.defineProperties(ee,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return ee}}const a$1=l$2(reactExports.createContext(null));let m$2=class extends reactExports.Component{render(){return reactExports.createElement(a$1.Provider,{value:this._reactInternals},this.props.children)}};function c$2(){const ee=reactExports.useContext(a$1);if(ee===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const $=reactExports.useId();return reactExports.useMemo(()=>{for(const te of[ee,ee==null?void 0:ee.alternate]){if(!te)continue;const ne=i$2(te,!1,ie=>{let se=ie.memoizedState;for(;se;){if(se.memoizedState===$)return!0;se=se.next}});if(ne)return ne}},[ee,$])}const p$2=Symbol.for("react.context"),b$2=ee=>ee!==null&&typeof ee=="object"&&"$$typeof"in ee&&ee.$$typeof===p$2;function h$2(){const ee=c$2(),[$]=reactExports.useState(()=>new Map);$.clear();let te=ee;for(;te;){const ne=te.type;b$2(ne)&&ne!==a$1&&!$.has(ne)&&$.set(ne,reactExports.use(l$2(ne))),te=te.return}return $}function x$2(){const ee=h$2();return reactExports.useMemo(()=>Array.from(ee.keys()).reduce(($,te)=>ne=>reactExports.createElement($,null,reactExports.createElement(te.Provider,{...ne,value:ee.get(te)})),$=>reactExports.createElement(m$2,{...$})),[ee])}function findInitialRoot(ee){let $=ee.root;for(;$.getState().previousRoot;)$=$.getState().previousRoot;return $}const isOrthographicCamera=ee=>ee&&ee.isOrthographicCamera,isRef=ee=>ee&&ee.hasOwnProperty("current"),isColorRepresentation=ee=>ee!=null&&(typeof ee=="string"||typeof ee=="number"||ee.isColor),useIsomorphicLayoutEffect=((ee,$)=>typeof window<"u"&&(((ee=window.document)==null?void 0:ee.createElement)||(($=window.navigator)==null?void 0:$.product)==="ReactNative"))()?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(ee){const $=reactExports.useRef(ee);return useIsomorphicLayoutEffect(()=>void($.current=ee),[ee]),$}function useBridge(){const ee=c$2(),$=x$2();return reactExports.useMemo(()=>({children:te})=>{const ie=!!i$2(ee,!0,se=>se.type===reactExports.StrictMode)?reactExports.StrictMode:reactExports.Fragment;return jsxRuntimeExports.jsx(ie,{children:jsxRuntimeExports.jsx($,{children:te})})},[ee,$])}function Block({set:ee}){return useIsomorphicLayoutEffect(()=>(ee(new Promise(()=>null)),()=>ee(!1)),[ee]),null}const ErrorBoundary=(ee=>(ee=class extends reactExports.Component{constructor(...te){super(...te),this.state={error:!1}}componentDidCatch(te){this.props.set(te)}render(){return this.state.error?null:this.props.children}},ee.getDerivedStateFromError=()=>({error:!0}),ee))();function calculateDpr(ee){var $;const te=typeof window<"u"?($=window.devicePixelRatio)!=null?$:2:1;return Array.isArray(ee)?Math.min(Math.max(ee[0],te),ee[1]):ee}function getRootState(ee){var $;return($=ee.__r3f)==null?void 0:$.root.getState()}const is={obj:ee=>ee===Object(ee)&&!is.arr(ee)&&typeof ee!="function",fun:ee=>typeof ee=="function",str:ee=>typeof ee=="string",num:ee=>typeof ee=="number",boo:ee=>typeof ee=="boolean",und:ee=>ee===void 0,nul:ee=>ee===null,arr:ee=>Array.isArray(ee),equ(ee,$,{arrays:te="shallow",objects:ne="reference",strict:ie=!0}={}){if(typeof ee!=typeof $||!!ee!=!!$)return!1;if(is.str(ee)||is.num(ee)||is.boo(ee))return ee===$;const se=is.obj(ee);if(se&&ne==="reference")return ee===$;const le=is.arr(ee);if(le&&te==="reference")return ee===$;if((le||se)&&ee===$)return!0;let oe;for(oe in ee)if(!(oe in $))return!1;if(se&&te==="shallow"&&ne==="shallow"){for(oe in ie?$:ee)if(!is.equ(ee[oe],$[oe],{strict:ie,objects:"reference"}))return!1}else for(oe in ie?$:ee)if(ee[oe]!==$[oe])return!1;if(is.und(oe)){if(le&&ee.length===0&&$.length===0||se&&Object.keys(ee).length===0&&Object.keys($).length===0)return!0;if(ee!==$)return!1}return!0}};function buildGraph(ee){const $={nodes:{},materials:{}};return ee&&ee.traverse(te=>{te.name&&($.nodes[te.name]=te),te.material&&!$.materials[te.material.name]&&($.materials[te.material.name]=te.material)}),$}function dispose(ee){ee.type!=="Scene"&&(ee.dispose==null||ee.dispose());for(const $ in ee){const te=ee[$];(te==null?void 0:te.type)!=="Scene"&&(te==null||te.dispose==null||te.dispose())}}const REACT_INTERNAL_PROPS=["children","key","ref"];function getInstanceProps(ee){const $={};for(const te in ee)REACT_INTERNAL_PROPS.includes(te)||($[te]=ee[te]);return $}function prepare(ee,$,te,ne){const ie=ee;let se=ie==null?void 0:ie.__r3f;return se||(se={root:$,type:te,parent:null,children:[],props:getInstanceProps(ne),object:ie,eventCount:0,handlers:{},isHidden:!1},ie&&(ie.__r3f=se)),se}function resolve(ee,$){var te;let ne=ee[$];if(!$.includes("-"))return{root:ee,key:$,target:ne};const ie=$.split("-");return ne=ie.reduce((se,le)=>se[le],ee),$=ie.pop(),(te=ne)!=null&&te.set||(ee=ie.reduce((se,le)=>se[le],ee)),{root:ee,key:$,target:ne}}const INDEX_REGEX=/-\d+$/;function attach(ee,$){if(is.str($.props.attach)){if(INDEX_REGEX.test($.props.attach)){const ie=$.props.attach.replace(INDEX_REGEX,""),{root:se,key:le}=resolve(ee.object,ie);Array.isArray(se[le])||(se[le]=[])}const{root:te,key:ne}=resolve(ee.object,$.props.attach);$.previousAttach=te[ne],te[ne]=$.object}else is.fun($.props.attach)&&($.previousAttach=$.props.attach(ee.object,$.object))}function detach(ee,$){if(is.str($.props.attach)){const{root:te,key:ne}=resolve(ee.object,$.props.attach),ie=$.previousAttach;ie===void 0?delete te[ne]:te[ne]=ie}else $.previousAttach==null||$.previousAttach(ee.object,$.object);delete $.previousAttach}const RESERVED_PROPS=[...REACT_INTERNAL_PROPS,"args","dispose","attach","object","onUpdate","dispose"],MEMOIZED_PROTOTYPES=new Map;function getMemoizedPrototype(ee){let $=MEMOIZED_PROTOTYPES.get(ee.constructor);try{$||($=new ee.constructor,MEMOIZED_PROTOTYPES.set(ee.constructor,$))}catch{}return $}function diffProps(ee,$){const te={};for(const ne in $)if(!RESERVED_PROPS.includes(ne)&&!is.equ($[ne],ee.props[ne])){te[ne]=$[ne];for(const ie in $)ie.startsWith(`${ne}-`)&&(te[ie]=$[ie])}for(const ne in ee.props){if(RESERVED_PROPS.includes(ne)||$.hasOwnProperty(ne))continue;const{root:ie,key:se}=resolve(ee.object,ne);if(ie.constructor&&ie.constructor.length===0){const le=getMemoizedPrototype(ie);is.und(le)||(te[se]=le[se])}else te[se]=0}return te}const colorMaps=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],EVENT_REGEX=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function applyProps(ee,$){var te;const ne=ee.__r3f,ie=ne&&findInitialRoot(ne).getState(),se=ne==null?void 0:ne.eventCount;for(const oe in $){let ce=$[oe];if(RESERVED_PROPS.includes(oe))continue;if(ne&&EVENT_REGEX.test(oe)){typeof ce=="function"?ne.handlers[oe]=ce:delete ne.handlers[oe],ne.eventCount=Object.keys(ne.handlers).length;continue}if(ce===void 0)continue;let{root:ae,key:he,target:de}=resolve(ee,oe);if(de instanceof Layers&&ce instanceof Layers)de.mask=ce.mask;else if(de instanceof Color&&isColorRepresentation(ce))de.set(ce);else if(de!==null&&typeof de=="object"&&typeof de.set=="function"&&typeof de.copy=="function"&&ce!=null&&ce.constructor&&de.constructor===ce.constructor)de.copy(ce);else if(de!==null&&typeof de=="object"&&typeof de.set=="function"&&Array.isArray(ce))typeof de.fromArray=="function"?de.fromArray(ce):de.set(...ce);else if(de!==null&&typeof de=="object"&&typeof de.set=="function"&&typeof ce=="number")typeof de.setScalar=="function"?de.setScalar(ce):de.set(ce);else{var le;ae[he]=ce,ie&&!ie.linear&&colorMaps.includes(he)&&(le=ae[he])!=null&&le.isTexture&&ae[he].format===RGBAFormat&&ae[he].type===UnsignedByteType&&(ae[he].colorSpace=SRGBColorSpace)}}if(ne!=null&&ne.parent&&ie!=null&&ie.internal&&(te=ne.object)!=null&&te.isObject3D&&se!==ne.eventCount){const oe=ne.object,ce=ie.internal.interaction.indexOf(oe);ce>-1&&ie.internal.interaction.splice(ce,1),ne.eventCount&&oe.raycast!==null&&ie.internal.interaction.push(oe)}return ne&&ne.props.attach===void 0&&(ne.object.isBufferGeometry?ne.props.attach="geometry":ne.object.isMaterial&&(ne.props.attach="material")),ne&&invalidateInstance(ne),ee}function invalidateInstance(ee){var $;if(!ee.parent)return;ee.props.onUpdate==null||ee.props.onUpdate(ee.object);const te=($=ee.root)==null||$.getState==null?void 0:$.getState();te&&te.internal.frames===0&&te.invalidate()}function updateCamera(ee,$){ee.manual||(isOrthographicCamera(ee)?(ee.left=$.width/-2,ee.right=$.width/2,ee.top=$.height/2,ee.bottom=$.height/-2):ee.aspect=$.width/$.height,ee.updateProjectionMatrix())}const isObject3D=ee=>ee==null?void 0:ee.isObject3D;function makeId(ee){return(ee.eventObject||ee.object).uuid+"/"+ee.index+ee.instanceId}function releaseInternalPointerCapture(ee,$,te,ne){const ie=te.get($);ie&&(te.delete($),te.size===0&&(ee.delete(ne),ie.target.releasePointerCapture(ne)))}function removeInteractivity(ee,$){const{internal:te}=ee.getState();te.interaction=te.interaction.filter(ne=>ne!==$),te.initialHits=te.initialHits.filter(ne=>ne!==$),te.hovered.forEach((ne,ie)=>{(ne.eventObject===$||ne.object===$)&&te.hovered.delete(ie)}),te.capturedMap.forEach((ne,ie)=>{releaseInternalPointerCapture(te.capturedMap,$,ne,ie)})}function createEvents(ee){function $(ce){const{internal:ae}=ee.getState(),he=ce.offsetX-ae.initialClick[0],de=ce.offsetY-ae.initialClick[1];return Math.round(Math.sqrt(he*he+de*de))}function te(ce){return ce.filter(ae=>["Move","Over","Enter","Out","Leave"].some(he=>{var de;return(de=ae.__r3f)==null?void 0:de.handlers["onPointer"+he]}))}function ne(ce,ae){const he=ee.getState(),de=new Set,pe=[],re=ae?ae(he.internal.interaction):he.internal.interaction;for(let fe=0;fe<re.length;fe++){const be=getRootState(re[fe]);be&&(be.raycaster.camera=void 0)}he.previousRoot||he.events.compute==null||he.events.compute(ce,he);function Ae(fe){const be=getRootState(fe);if(!be||!be.events.enabled||be.raycaster.camera===null)return[];if(be.raycaster.camera===void 0){var xe;be.events.compute==null||be.events.compute(ce,be,(xe=be.previousRoot)==null?void 0:xe.getState()),be.raycaster.camera===void 0&&(be.raycaster.camera=null)}return be.raycaster.camera?be.raycaster.intersectObject(fe,!0):[]}let ge=re.flatMap(Ae).sort((fe,be)=>{const xe=getRootState(fe.object),ue=getRootState(be.object);return!xe||!ue?fe.distance-be.distance:ue.events.priority-xe.events.priority||fe.distance-be.distance}).filter(fe=>{const be=makeId(fe);return de.has(be)?!1:(de.add(be),!0)});he.events.filter&&(ge=he.events.filter(ge,he));for(const fe of ge){let be=fe.object;for(;be;){var Se;(Se=be.__r3f)!=null&&Se.eventCount&&pe.push({...fe,eventObject:be}),be=be.parent}}if("pointerId"in ce&&he.internal.capturedMap.has(ce.pointerId))for(let fe of he.internal.capturedMap.get(ce.pointerId).values())de.has(makeId(fe.intersection))||pe.push(fe.intersection);return pe}function ie(ce,ae,he,de){if(ce.length){const pe={stopped:!1};for(const re of ce){let Ae=getRootState(re.object);if(Ae||re.object.traverseAncestors(ge=>{const Se=getRootState(ge);if(Se)return Ae=Se,!1}),Ae){const{raycaster:ge,pointer:Se,camera:fe,internal:be}=Ae,xe=new Vector3(Se.x,Se.y,0).unproject(fe),ue=Ce=>{var ye,Re;return(ye=(Re=be.capturedMap.get(Ce))==null?void 0:Re.has(re.eventObject))!=null?ye:!1},we=Ce=>{const ye={intersection:re,target:ae.target};be.capturedMap.has(Ce)?be.capturedMap.get(Ce).set(re.eventObject,ye):be.capturedMap.set(Ce,new Map([[re.eventObject,ye]])),ae.target.setPointerCapture(Ce)},Fe=Ce=>{const ye=be.capturedMap.get(Ce);ye&&releaseInternalPointerCapture(be.capturedMap,re.eventObject,ye,Ce)};let _e={};for(let Ce in ae){let ye=ae[Ce];typeof ye!="function"&&(_e[Ce]=ye)}let Ee={...re,..._e,pointer:Se,intersections:ce,stopped:pe.stopped,delta:he,unprojectedPoint:xe,ray:ge.ray,camera:fe,stopPropagation(){const Ce="pointerId"in ae&&be.capturedMap.get(ae.pointerId);if((!Ce||Ce.has(re.eventObject))&&(Ee.stopped=pe.stopped=!0,be.hovered.size&&Array.from(be.hovered.values()).find(ye=>ye.eventObject===re.eventObject))){const ye=ce.slice(0,ce.indexOf(re));se([...ye,re])}},target:{hasPointerCapture:ue,setPointerCapture:we,releasePointerCapture:Fe},currentTarget:{hasPointerCapture:ue,setPointerCapture:we,releasePointerCapture:Fe},nativeEvent:ae};if(de(Ee),pe.stopped===!0)break}}}return ce}function se(ce){const{internal:ae}=ee.getState();for(const he of ae.hovered.values())if(!ce.length||!ce.find(de=>de.object===he.object&&de.index===he.index&&de.instanceId===he.instanceId)){const pe=he.eventObject.__r3f;if(ae.hovered.delete(makeId(he)),pe!=null&&pe.eventCount){const re=pe.handlers,Ae={...he,intersections:ce};re.onPointerOut==null||re.onPointerOut(Ae),re.onPointerLeave==null||re.onPointerLeave(Ae)}}}function le(ce,ae){for(let he=0;he<ae.length;he++){const de=ae[he].__r3f;de==null||de.handlers.onPointerMissed==null||de.handlers.onPointerMissed(ce)}}function oe(ce){switch(ce){case"onPointerLeave":case"onPointerCancel":return()=>se([]);case"onLostPointerCapture":return ae=>{const{internal:he}=ee.getState();"pointerId"in ae&&he.capturedMap.has(ae.pointerId)&&requestAnimationFrame(()=>{he.capturedMap.has(ae.pointerId)&&(he.capturedMap.delete(ae.pointerId),se([]))})}}return function(he){const{onPointerMissed:de,internal:pe}=ee.getState();pe.lastEvent.current=he;const re=ce==="onPointerMove",Ae=ce==="onClick"||ce==="onContextMenu"||ce==="onDoubleClick",Se=ne(he,re?te:void 0),fe=Ae?$(he):0;ce==="onPointerDown"&&(pe.initialClick=[he.offsetX,he.offsetY],pe.initialHits=Se.map(xe=>xe.eventObject)),Ae&&!Se.length&&fe<=2&&(le(he,pe.interaction),de&&de(he)),re&&se(Se);function be(xe){const ue=xe.eventObject,we=ue.__r3f;if(!(we!=null&&we.eventCount))return;const Fe=we.handlers;if(re){if(Fe.onPointerOver||Fe.onPointerEnter||Fe.onPointerOut||Fe.onPointerLeave){const _e=makeId(xe),Ee=pe.hovered.get(_e);Ee?Ee.stopped&&xe.stopPropagation():(pe.hovered.set(_e,xe),Fe.onPointerOver==null||Fe.onPointerOver(xe),Fe.onPointerEnter==null||Fe.onPointerEnter(xe))}Fe.onPointerMove==null||Fe.onPointerMove(xe)}else{const _e=Fe[ce];_e?(!Ae||pe.initialHits.includes(ue))&&(le(he,pe.interaction.filter(Ee=>!pe.initialHits.includes(Ee))),_e(xe)):Ae&&pe.initialHits.includes(ue)&&le(he,pe.interaction.filter(Ee=>!pe.initialHits.includes(Ee)))}}ie(Se,he,fe,be)}}return{handlePointer:oe}}const isRenderer=ee=>!!(ee!=null&&ee.render),context=reactExports.createContext(null),createStore=(ee,$)=>{const te=createWithEqualityFn((oe,ce)=>{const ae=new Vector3,he=new Vector3,de=new Vector3;function pe(fe=ce().camera,be=he,xe=ce().size){const{width:ue,height:we,top:Fe,left:_e}=xe,Ee=ue/we;be.isVector3?de.copy(be):de.set(...be);const Ce=fe.getWorldPosition(ae).distanceTo(de);if(isOrthographicCamera(fe))return{width:ue/fe.zoom,height:we/fe.zoom,top:Fe,left:_e,factor:1,distance:Ce,aspect:Ee};{const ye=fe.fov*Math.PI/180,Re=2*Math.tan(ye/2)*Ce,Ye=Re*(ue/we);return{width:Ye,height:Re,top:Fe,left:_e,factor:ue/Ye,distance:Ce,aspect:Ee}}}let re;const Ae=fe=>oe(be=>({performance:{...be.performance,current:fe}})),ge=new Vector2;return{set:oe,get:ce,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(fe=1)=>ee(ce(),fe),advance:(fe,be)=>$(fe,be,ce()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:ge,mouse:ge,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const fe=ce();re&&clearTimeout(re),fe.performance.current!==fe.performance.min&&Ae(fe.performance.min),re=setTimeout(()=>Ae(ce().performance.max),fe.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:pe},setEvents:fe=>oe(be=>({...be,events:{...be.events,...fe}})),setSize:(fe,be,xe=0,ue=0)=>{const we=ce().camera,Fe={width:fe,height:be,top:xe,left:ue};oe(_e=>({size:Fe,viewport:{..._e.viewport,...pe(we,he,Fe)}}))},setDpr:fe=>oe(be=>{const xe=calculateDpr(fe);return{viewport:{...be.viewport,dpr:xe,initialDpr:be.viewport.initialDpr||xe}}}),setFrameloop:(fe="always")=>{const be=ce().clock;be.stop(),be.elapsedTime=0,fe!=="never"&&(be.start(),be.elapsedTime=0),oe(()=>({frameloop:fe}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:reactExports.createRef(),active:!1,frames:0,priority:0,subscribe:(fe,be,xe)=>{const ue=ce().internal;return ue.priority=ue.priority+(be>0?1:0),ue.subscribers.push({ref:fe,priority:be,store:xe}),ue.subscribers=ue.subscribers.sort((we,Fe)=>we.priority-Fe.priority),()=>{const we=ce().internal;we!=null&&we.subscribers&&(we.priority=we.priority-(be>0?1:0),we.subscribers=we.subscribers.filter(Fe=>Fe.ref!==fe))}}}}}),ne=te.getState();let ie=ne.size,se=ne.viewport.dpr,le=ne.camera;return te.subscribe(()=>{const{camera:oe,size:ce,viewport:ae,gl:he,set:de}=te.getState();if(ce.width!==ie.width||ce.height!==ie.height||ae.dpr!==se){ie=ce,se=ae.dpr,updateCamera(oe,ce),ae.dpr>0&&he.setPixelRatio(ae.dpr);const pe=typeof HTMLCanvasElement<"u"&&he.domElement instanceof HTMLCanvasElement;he.setSize(ce.width,ce.height,pe)}oe!==le&&(le=oe,de(pe=>({viewport:{...pe.viewport,...pe.viewport.getCurrentViewport(oe)}})))}),te.subscribe(oe=>ee(oe)),te};function useStore(){const ee=reactExports.useContext(context);if(!ee)throw new Error("R3F: Hooks can only be used within the Canvas component!");return ee}function useThree(ee=te=>te,$){return useStore()(ee,$)}function useFrame(ee,$=0){const te=useStore(),ne=te.getState().internal.subscribe,ie=useMutableCallback(ee);return useIsomorphicLayoutEffect(()=>ne(ie,$,te),[$,ne,te]),null}const memoizedLoaders=new WeakMap,isConstructor$1=ee=>{var $;return typeof ee=="function"&&(ee==null||($=ee.prototype)==null?void 0:$.constructor)===ee};function loadingFn(ee,$){return function(te,...ne){let ie;return isConstructor$1(te)?(ie=memoizedLoaders.get(te),ie||(ie=new te,memoizedLoaders.set(te,ie))):ie=te,ee&&ee(ie),Promise.all(ne.map(se=>new Promise((le,oe)=>ie.load(se,ce=>{isObject3D(ce==null?void 0:ce.scene)&&Object.assign(ce,buildGraph(ce.scene)),le(ce)},$,ce=>oe(new Error(`Could not load ${se}: ${ce==null?void 0:ce.message}`))))))}}function useLoader(ee,$,te,ne){const ie=Array.isArray($)?$:[$],se=suspend(loadingFn(te,ne),[ee,...ie],{equal:is.equ});return Array.isArray($)?se:se[0]}useLoader.preload=function(ee,$,te){const ne=Array.isArray($)?$:[$];return preload(loadingFn(te),[ee,...ne])};useLoader.clear=function(ee,$){const te=Array.isArray($)?$:[$];return clear([ee,...te])};function createReconciler(ee){const $=Reconciler(ee);return $.injectIntoDevTools({bundleType:(typeof process<"u",0),rendererPackageName:"@react-three/fiber",version:reactExports.version}),$}const NoEventPriority=0,catalogue={},PREFIX_REGEX=/^three(?=[A-Z])/,toPascalCase=ee=>`${ee[0].toUpperCase()}${ee.slice(1)}`;let i$1=0;const isConstructor=ee=>typeof ee=="function";function extend(ee){if(isConstructor(ee)){const $=`${i$1++}`;return catalogue[$]=ee,$}else Object.assign(catalogue,ee)}function validateInstance(ee,$){const te=toPascalCase(ee),ne=catalogue[te];if(ee!=="primitive"&&!ne)throw new Error(`R3F: ${te} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(ee==="primitive"&&!$.object)throw new Error("R3F: Primitives without 'object' are invalid!");if($.args!==void 0&&!Array.isArray($.args))throw new Error("R3F: The args prop must be an array!")}function createInstance(ee,$,te){var ne;return ee=toPascalCase(ee)in catalogue?ee:ee.replace(PREFIX_REGEX,""),validateInstance(ee,$),ee==="primitive"&&(ne=$.object)!=null&&ne.__r3f&&delete $.object.__r3f,prepare($.object,te,ee,$)}function hideInstance(ee){if(!ee.isHidden){var $;ee.props.attach&&($=ee.parent)!=null&&$.object?detach(ee.parent,ee):isObject3D(ee.object)&&(ee.object.visible=!1),ee.isHidden=!0,invalidateInstance(ee)}}function unhideInstance(ee){if(ee.isHidden){var $;ee.props.attach&&($=ee.parent)!=null&&$.object?attach(ee.parent,ee):isObject3D(ee.object)&&ee.props.visible!==!1&&(ee.object.visible=!0),ee.isHidden=!1,invalidateInstance(ee)}}function handleContainerEffects(ee,$,te){const ne=$.root.getState();if(!(!ee.parent&&ee.object!==ne.scene)){if(!$.object){var ie,se;const le=catalogue[toPascalCase($.type)];$.object=(ie=$.props.object)!=null?ie:new le(...(se=$.props.args)!=null?se:[]),$.object.__r3f=$}if(applyProps($.object,$.props),$.props.attach)attach(ee,$);else if(isObject3D($.object)&&isObject3D(ee.object)){const le=ee.object.children.indexOf(te==null?void 0:te.object);te&&le!==-1?($.object.parent=ee.object,ee.object.children.splice(le,0,$.object),$.object.dispatchEvent({type:"added"}),ee.object.dispatchEvent({type:"childadded",child:$.object})):ee.object.add($.object)}for(const le of $.children)handleContainerEffects($,le);invalidateInstance($)}}function appendChild(ee,$){$&&($.parent=ee,ee.children.push($),handleContainerEffects(ee,$))}function insertBefore(ee,$,te){if(!$||!te)return;$.parent=ee;const ne=ee.children.indexOf(te);ne!==-1?ee.children.splice(ne,0,$):ee.children.push($),handleContainerEffects(ee,$,te)}function disposeOnIdle(ee){if(typeof ee.dispose=="function"){const $=()=>{try{ee.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?$():schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,$)}}function removeChild(ee,$,te){if(!$)return;$.parent=null;const ne=ee.children.indexOf($);ne!==-1&&ee.children.splice(ne,1),$.props.attach?detach(ee,$):isObject3D($.object)&&isObject3D(ee.object)&&(ee.object.remove($.object),removeInteractivity(findInitialRoot($),$.object));const ie=$.props.dispose!==null&&te!==!1;for(let se=$.children.length-1;se>=0;se--){const le=$.children[se];removeChild($,le,ie)}$.children.length=0,delete $.object.__r3f,ie&&$.type!=="primitive"&&$.object.type!=="Scene"&&disposeOnIdle($.object),te===void 0&&invalidateInstance($)}function setFiberRef(ee,$){for(const te of[ee,ee.alternate])if(te!==null)if(typeof te.ref=="function"){te.refCleanup==null||te.refCleanup();const ne=te.ref($);typeof ne=="function"&&(te.refCleanup=ne)}else te.ref&&(te.ref.current=$)}const reconstructed=[];function swapInstances(){for(const[te]of reconstructed){const ne=te.parent;if(ne){te.props.attach?detach(ne,te):isObject3D(te.object)&&isObject3D(ne.object)&&ne.object.remove(te.object);for(const ie of te.children)ie.props.attach?detach(te,ie):isObject3D(ie.object)&&isObject3D(te.object)&&te.object.remove(ie.object)}te.isHidden&&unhideInstance(te),te.object.__r3f&&delete te.object.__r3f,te.type!=="primitive"&&disposeOnIdle(te.object)}for(const[te,ne,ie]of reconstructed){te.props=ne;const se=te.parent;if(se){var ee,$;const le=catalogue[toPascalCase(te.type)];te.object=(ee=te.props.object)!=null?ee:new le(...($=te.props.args)!=null?$:[]),te.object.__r3f=te,setFiberRef(ie,te.object),applyProps(te.object,te.props),te.props.attach?attach(se,te):isObject3D(te.object)&&isObject3D(se.object)&&se.object.add(te.object);for(const oe of te.children)oe.props.attach?attach(te,oe):isObject3D(oe.object)&&isObject3D(te.object)&&te.object.add(oe.object);invalidateInstance(te)}}reconstructed.length=0}const handleTextInstance=()=>{},NO_CONTEXT={};let currentUpdatePriority=NoEventPriority;const NoFlags=0,Update=4,reconciler=createReconciler({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance,removeChild,appendChild,appendInitialChild:appendChild,insertBefore,appendChildToContainer(ee,$){const te=ee.getState().scene.__r3f;!$||!te||appendChild(te,$)},removeChildFromContainer(ee,$){const te=ee.getState().scene.__r3f;!$||!te||removeChild(te,$)},insertInContainerBefore(ee,$,te){const ne=ee.getState().scene.__r3f;!$||!te||!ne||insertBefore(ne,$,te)},getRootHostContext:()=>NO_CONTEXT,getChildHostContext:()=>NO_CONTEXT,commitUpdate(ee,$,te,ne,ie){var se,le,oe;validateInstance($,ne);let ce=!1;if((ee.type==="primitive"&&te.object!==ne.object||((se=ne.args)==null?void 0:se.length)!==((le=te.args)==null?void 0:le.length)||(oe=ne.args)!=null&&oe.some((he,de)=>{var pe;return he!==((pe=te.args)==null?void 0:pe[de])}))&&(ce=!0),ce)reconstructed.push([ee,{...ne},ie]);else{const he=diffProps(ee,ne);Object.keys(he).length&&(Object.assign(ee.props,he),applyProps(ee.object,he))}(ie.sibling===null||(ie.flags&Update)===NoFlags)&&swapInstances()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:ee=>ee==null?void 0:ee.object,prepareForCommit:()=>null,preparePortalMount:ee=>prepare(ee.getState().scene,ee,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance,unhideInstance,createTextInstance:handleTextInstance,hideTextInstance:handleTextInstance,unhideTextInstance:handleTextInstance,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:reactExports.createContext(null),setCurrentUpdatePriority(ee){currentUpdatePriority=ee},getCurrentUpdatePriority(){return currentUpdatePriority},resolveUpdatePriority(){var ee;if(currentUpdatePriority!==NoEventPriority)return currentUpdatePriority;switch(typeof window<"u"&&((ee=window.event)==null?void 0:ee.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}},resetFormInstance(){}}),_roots=new Map,shallowLoose={objects:"shallow",strict:!1};function computeInitialSize(ee,$){if(!$&&typeof HTMLCanvasElement<"u"&&ee instanceof HTMLCanvasElement&&ee.parentElement){const{width:te,height:ne,top:ie,left:se}=ee.parentElement.getBoundingClientRect();return{width:te,height:ne,top:ie,left:se}}else if(!$&&typeof OffscreenCanvas<"u"&&ee instanceof OffscreenCanvas)return{width:ee.width,height:ee.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...$}}function createRoot(ee){const $=_roots.get(ee),te=$==null?void 0:$.fiber,ne=$==null?void 0:$.store;$&&console.warn("R3F.createRoot should only be called once!");const ie=typeof reportError=="function"?reportError:console.error,se=ne||createStore(invalidate,advance),le=te||reconciler.createContainer(se,constantsExports.ConcurrentRoot,null,!1,null,"",ie,ie,ie,null);$||_roots.set(ee,{fiber:le,store:se});let oe,ce,ae=!1,he=null;return{async configure(de={}){let pe;he=new Promise(He=>pe=He);let{gl:re,size:Ae,scene:ge,events:Se,onCreated:fe,shadows:be=!1,linear:xe=!1,flat:ue=!1,legacy:we=!1,orthographic:Fe=!1,frameloop:_e="always",dpr:Ee=[1,2],performance:Ce,raycaster:ye,camera:Re,onPointerMissed:Ye}=de,ke=se.getState(),$e=ke.gl;if(!ke.gl){const He={canvas:ee,powerPreference:"high-performance",antialias:!0,alpha:!0},Ie=typeof re=="function"?await re(He):re;isRenderer(Ie)?$e=Ie:$e=new WebGLRenderer({...He,...re}),ke.set({gl:$e})}let Be=ke.raycaster;Be||ke.set({raycaster:Be=new Raycaster});const{params:Pe,...Ue}=ye||{};if(is.equ(Ue,Be,shallowLoose)||applyProps(Be,{...Ue}),is.equ(Pe,Be.params,shallowLoose)||applyProps(Be,{params:{...Be.params,...Pe}}),!ke.camera||ke.camera===ce&&!is.equ(ce,Re,shallowLoose)){ce=Re;const He=Re==null?void 0:Re.isCamera,Ie=He?Re:Fe?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);He||(Ie.position.z=5,Re&&(applyProps(Ie,Re),Ie.manual||("aspect"in Re||"left"in Re||"right"in Re||"bottom"in Re||"top"in Re)&&(Ie.manual=!0,Ie.updateProjectionMatrix())),!ke.camera&&!(Re!=null&&Re.rotation)&&Ie.lookAt(0,0,0)),ke.set({camera:Ie}),Be.camera=Ie}if(!ke.scene){let He;ge!=null&&ge.isScene?(He=ge,prepare(He,se,"",{})):(He=new Scene,prepare(He,se,"",{}),ge&&applyProps(He,ge)),ke.set({scene:He})}Se&&!ke.events.handlers&&ke.set({events:Se(se)});const Te=computeInitialSize(ee,Ae);if(is.equ(Te,ke.size,shallowLoose)||ke.setSize(Te.width,Te.height,Te.top,Te.left),Ee&&ke.viewport.dpr!==calculateDpr(Ee)&&ke.setDpr(Ee),ke.frameloop!==_e&&ke.setFrameloop(_e),ke.onPointerMissed||ke.set({onPointerMissed:Ye}),Ce&&!is.equ(Ce,ke.performance,shallowLoose)&&ke.set(He=>({performance:{...He.performance,...Ce}})),!ke.xr){var Me;const He=(Oe,Ne)=>{const qe=se.getState();qe.frameloop!=="never"&&advance(Oe,!0,qe,Ne)},Ie=()=>{const Oe=se.getState();Oe.gl.xr.enabled=Oe.gl.xr.isPresenting,Oe.gl.xr.setAnimationLoop(Oe.gl.xr.isPresenting?He:null),Oe.gl.xr.isPresenting||invalidate(Oe)},Le={connect(){const Oe=se.getState().gl;Oe.xr.addEventListener("sessionstart",Ie),Oe.xr.addEventListener("sessionend",Ie)},disconnect(){const Oe=se.getState().gl;Oe.xr.removeEventListener("sessionstart",Ie),Oe.xr.removeEventListener("sessionend",Ie)}};typeof((Me=$e.xr)==null?void 0:Me.addEventListener)=="function"&&Le.connect(),ke.set({xr:Le})}if($e.shadowMap){const He=$e.shadowMap.enabled,Ie=$e.shadowMap.type;if($e.shadowMap.enabled=!!be,is.boo(be))$e.shadowMap.type=PCFSoftShadowMap;else if(is.str(be)){var Ve;const Le={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};$e.shadowMap.type=(Ve=Le[be])!=null?Ve:PCFSoftShadowMap}else is.obj(be)&&Object.assign($e.shadowMap,be);(He!==$e.shadowMap.enabled||Ie!==$e.shadowMap.type)&&($e.shadowMap.needsUpdate=!0)}return ColorManagement.enabled=!we,ae||($e.outputColorSpace=xe?LinearSRGBColorSpace:SRGBColorSpace,$e.toneMapping=ue?NoToneMapping:ACESFilmicToneMapping),ke.legacy!==we&&ke.set(()=>({legacy:we})),ke.linear!==xe&&ke.set(()=>({linear:xe})),ke.flat!==ue&&ke.set(()=>({flat:ue})),re&&!is.fun(re)&&!isRenderer(re)&&!is.equ(re,$e,shallowLoose)&&applyProps($e,re),oe=fe,ae=!0,pe(),this},render(de){return!ae&&!he&&this.configure(),he.then(()=>{reconciler.updateContainer(jsxRuntimeExports.jsx(Provider,{store:se,children:de,onCreated:oe,rootElement:ee}),le,null,()=>{})}),se},unmount(){unmountComponentAtNode(ee)}}}function Provider({store:ee,children:$,onCreated:te,rootElement:ne}){return useIsomorphicLayoutEffect(()=>{const ie=ee.getState();ie.set(se=>({internal:{...se.internal,active:!0}})),te&&te(ie),ee.getState().events.connected||ie.events.connect==null||ie.events.connect(ne)},[]),jsxRuntimeExports.jsx(context.Provider,{value:ee,children:$})}function unmountComponentAtNode(ee,$){const te=_roots.get(ee),ne=te==null?void 0:te.fiber;if(ne){const ie=te==null?void 0:te.store.getState();ie&&(ie.internal.active=!1),reconciler.updateContainer(null,ne,null,()=>{ie&&setTimeout(()=>{try{var se,le,oe,ce;ie.events.disconnect==null||ie.events.disconnect(),(se=ie.gl)==null||(le=se.renderLists)==null||le.dispose==null||le.dispose(),(oe=ie.gl)==null||oe.forceContextLoss==null||oe.forceContextLoss(),(ce=ie.gl)!=null&&ce.xr&&ie.xr.disconnect(),dispose(ie.scene),_roots.delete(ee)}catch{}},500)})}}const globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(ee,$){if(ee.size)for(const{callback:te}of ee.values())te($)}function flushGlobalEffects(ee,$){switch(ee){case"before":return run(globalEffects,$);case"after":return run(globalAfterEffects,$);case"tail":return run(globalTailEffects,$)}}let subscribers,subscription;function update(ee,$,te){let ne=$.clock.getDelta();$.frameloop==="never"&&typeof ee=="number"&&(ne=ee-$.clock.elapsedTime,$.clock.oldTime=$.clock.elapsedTime,$.clock.elapsedTime=ee),subscribers=$.internal.subscribers;for(let ie=0;ie<subscribers.length;ie++)subscription=subscribers[ie],subscription.ref.current(subscription.store.getState(),ne,te);return!$.internal.priority&&$.gl.render&&$.gl.render($.scene,$.camera),$.internal.frames=Math.max(0,$.internal.frames-1),$.frameloop==="always"?1:$.internal.frames}let running=!1,useFrameInProgress=!1,repeat,frame,state;function loop(ee){frame=requestAnimationFrame(loop),running=!0,repeat=0,flushGlobalEffects("before",ee),useFrameInProgress=!0;for(const te of _roots.values()){var $;state=te.store.getState(),state.internal.active&&(state.frameloop==="always"||state.internal.frames>0)&&!(($=state.gl.xr)!=null&&$.isPresenting)&&(repeat+=update(ee,state))}if(useFrameInProgress=!1,flushGlobalEffects("after",ee),repeat===0)return flushGlobalEffects("tail",ee),running=!1,cancelAnimationFrame(frame)}function invalidate(ee,$=1){var te;if(!ee)return _roots.forEach(ne=>invalidate(ne.store.getState(),$));(te=ee.gl.xr)!=null&&te.isPresenting||!ee.internal.active||ee.frameloop==="never"||($>1?ee.internal.frames=Math.min(60,ee.internal.frames+$):useFrameInProgress?ee.internal.frames=2:ee.internal.frames=1,running||(running=!0,requestAnimationFrame(loop)))}function advance(ee,$=!0,te,ne){if($&&flushGlobalEffects("before",ee),te)update(ee,te,ne);else for(const ie of _roots.values())update(ee,ie.store.getState());$&&flushGlobalEffects("after",ee)}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(ee){const{handlePointer:$}=createEvents(ee);return{priority:1,enabled:!0,compute(te,ne,ie){ne.pointer.set(te.offsetX/ne.size.width*2-1,-(te.offsetY/ne.size.height)*2+1),ne.raycaster.setFromCamera(ne.pointer,ne.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((te,ne)=>({...te,[ne]:$(ne)}),{}),update:()=>{var te;const{events:ne,internal:ie}=ee.getState();(te=ie.lastEvent)!=null&&te.current&&ne.handlers&&ne.handlers.onPointerMove(ie.lastEvent.current)},connect:te=>{const{set:ne,events:ie}=ee.getState();if(ie.disconnect==null||ie.disconnect(),ne(se=>({events:{...se.events,connected:te}})),ie.handlers)for(const se in ie.handlers){const le=ie.handlers[se],[oe,ce]=DOM_EVENTS[se];te.addEventListener(oe,le,{passive:ce})}},disconnect:()=>{const{set:te,events:ne}=ee.getState();if(ne.connected){if(ne.handlers)for(const ie in ne.handlers){const se=ne.handlers[ie],[le]=DOM_EVENTS[ie];ne.connected.removeEventListener(le,se)}te(ie=>({events:{...ie.events,connected:void 0}}))}}}}function g$2(ee,$){let te;return(...ne)=>{window.clearTimeout(te),te=window.setTimeout(()=>ee(...ne),$)}}function j$1({debounce:ee,scroll:$,polyfill:te,offsetSize:ne}={debounce:0,scroll:!1,offsetSize:!1}){const ie=te||(typeof window>"u"?class{}:window.ResizeObserver);if(!ie)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[se,le]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),oe=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:se,orientationHandler:null}),ce=ee?typeof ee=="number"?ee:ee.scroll:null,ae=ee?typeof ee=="number"?ee:ee.resize:null,he=reactExports.useRef(!1);reactExports.useEffect(()=>(he.current=!0,()=>void(he.current=!1)));const[de,pe,re]=reactExports.useMemo(()=>{const fe=()=>{if(!oe.current.element)return;const{left:be,top:xe,width:ue,height:we,bottom:Fe,right:_e,x:Ee,y:Ce}=oe.current.element.getBoundingClientRect(),ye={left:be,top:xe,width:ue,height:we,bottom:Fe,right:_e,x:Ee,y:Ce};oe.current.element instanceof HTMLElement&&ne&&(ye.height=oe.current.element.offsetHeight,ye.width=oe.current.element.offsetWidth),Object.freeze(ye),he.current&&!D$1(oe.current.lastBounds,ye)&&le(oe.current.lastBounds=ye)};return[fe,ae?g$2(fe,ae):fe,ce?g$2(fe,ce):fe]},[le,ne,ce,ae]);function Ae(){oe.current.scrollContainers&&(oe.current.scrollContainers.forEach(fe=>fe.removeEventListener("scroll",re,!0)),oe.current.scrollContainers=null),oe.current.resizeObserver&&(oe.current.resizeObserver.disconnect(),oe.current.resizeObserver=null),oe.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",oe.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",oe.current.orientationHandler))}function ge(){oe.current.element&&(oe.current.resizeObserver=new ie(re),oe.current.resizeObserver.observe(oe.current.element),$&&oe.current.scrollContainers&&oe.current.scrollContainers.forEach(fe=>fe.addEventListener("scroll",re,{capture:!0,passive:!0})),oe.current.orientationHandler=()=>{re()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",oe.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",oe.current.orientationHandler))}const Se=fe=>{!fe||fe===oe.current.element||(Ae(),oe.current.element=fe,oe.current.scrollContainers=E$1(fe),ge())};return X$1(re,!!$),W$1(pe),reactExports.useEffect(()=>{Ae(),ge()},[$,re,pe]),reactExports.useEffect(()=>Ae,[]),[Se,se,de]}function W$1(ee){reactExports.useEffect(()=>{const $=ee;return window.addEventListener("resize",$),()=>void window.removeEventListener("resize",$)},[ee])}function X$1(ee,$){reactExports.useEffect(()=>{if($){const te=ee;return window.addEventListener("scroll",te,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",te,!0)}},[ee,$])}function E$1(ee){const $=[];if(!ee||ee===document.body)return $;const{overflow:te,overflowX:ne,overflowY:ie}=window.getComputedStyle(ee);return[te,ne,ie].some(se=>se==="auto"||se==="scroll")&&$.push(ee),[...$,...E$1(ee.parentElement)]}const k$2=["x","y","top","bottom","left","right","width","height"],D$1=(ee,$)=>k$2.every(te=>ee[te]===$[te]);function CanvasImpl({ref:ee,children:$,fallback:te,resize:ne,style:ie,gl:se,events:le=createPointerEvents,eventSource:oe,eventPrefix:ce,shadows:ae,linear:he,flat:de,legacy:pe,orthographic:re,frameloop:Ae,dpr:ge,performance:Se,raycaster:fe,camera:be,scene:xe,onPointerMissed:ue,onCreated:we,...Fe}){reactExports.useMemo(()=>extend(THREE),[]);const _e=useBridge(),[Ee,Ce]=j$1({scroll:!0,debounce:{scroll:50,resize:0},...ne}),ye=reactExports.useRef(null),Re=reactExports.useRef(null);reactExports.useImperativeHandle(ee,()=>ye.current);const Ye=useMutableCallback(ue),[ke,$e]=reactExports.useState(!1),[Be,Pe]=reactExports.useState(!1);if(ke)throw ke;if(Be)throw Be;const Ue=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const Me=ye.current;if(Ce.width>0&&Ce.height>0&&Me){Ue.current||(Ue.current=createRoot(Me));async function Ve(){await Ue.current.configure({gl:se,scene:xe,events:le,shadows:ae,linear:he,flat:de,legacy:pe,orthographic:re,frameloop:Ae,dpr:ge,performance:Se,raycaster:fe,camera:be,size:Ce,onPointerMissed:(...He)=>Ye.current==null?void 0:Ye.current(...He),onCreated:He=>{He.events.connect==null||He.events.connect(oe?isRef(oe)?oe.current:oe:Re.current),ce&&He.setEvents({compute:(Ie,Le)=>{const Oe=Ie[ce+"X"],Ne=Ie[ce+"Y"];Le.pointer.set(Oe/Le.size.width*2-1,-(Ne/Le.size.height)*2+1),Le.raycaster.setFromCamera(Le.pointer,Le.camera)}}),we==null||we(He)}}),Ue.current.render(jsxRuntimeExports.jsx(_e,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:Pe,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:$e}),children:$??null})})}))}Ve()}}),reactExports.useEffect(()=>{const Me=ye.current;if(Me)return()=>unmountComponentAtNode(Me)},[]);const Te=oe?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:Re,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Te,...ie},...Fe,children:jsxRuntimeExports.jsx("div",{ref:Ee,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:ye,style:{display:"block"},children:te})})})}function Canvas(ee){return jsxRuntimeExports.jsx(m$2,{children:jsxRuntimeExports.jsx(CanvasImpl,{...ee})})}function _extends(){return _extends=Object.assign?Object.assign.bind():function(ee){for(var $=1;$<arguments.length;$++){var te=arguments[$];for(var ne in te)({}).hasOwnProperty.call(te,ne)&&(ee[ne]=te[ne])}return ee},_extends.apply(null,arguments)}var __defProp$1=Object.defineProperty,__defNormalProp$1=(ee,$,te)=>$ in ee?__defProp$1(ee,$,{enumerable:!0,configurable:!0,writable:!0,value:te}):ee[$]=te,__publicField$1=(ee,$,te)=>(__defNormalProp$1(ee,$+"",te),te);class EventDispatcher{constructor(){__publicField$1(this,"_listeners")}addEventListener($,te){this._listeners===void 0&&(this._listeners={});const ne=this._listeners;ne[$]===void 0&&(ne[$]=[]),ne[$].indexOf(te)===-1&&ne[$].push(te)}hasEventListener($,te){if(this._listeners===void 0)return!1;const ne=this._listeners;return ne[$]!==void 0&&ne[$].indexOf(te)!==-1}removeEventListener($,te){if(this._listeners===void 0)return;const ie=this._listeners[$];if(ie!==void 0){const se=ie.indexOf(te);se!==-1&&ie.splice(se,1)}}dispatchEvent($){if(this._listeners===void 0)return;const ne=this._listeners[$.type];if(ne!==void 0){$.target=this;const ie=ne.slice(0);for(let se=0,le=ie.length;se<le;se++)ie[se].call(this,$);$.target=null}}}var __defProp=Object.defineProperty,__defNormalProp=(ee,$,te)=>$ in ee?__defProp(ee,$,{enumerable:!0,configurable:!0,writable:!0,value:te}):ee[$]=te,__publicField=(ee,$,te)=>(__defNormalProp(ee,typeof $!="symbol"?$+"":$,te),te);const _ray=new Ray,_plane=new Plane,TILT_LIMIT=Math.cos(70*(Math.PI/180)),moduloWrapAround=(ee,$)=>(ee%$+$)%$;let OrbitControls$1=class extends EventDispatcher{constructor($,te){super(),__publicField(this,"object"),__publicField(this,"domElement"),__publicField(this,"enabled",!0),__publicField(this,"target",new Vector3),__publicField(this,"minDistance",0),__publicField(this,"maxDistance",1/0),__publicField(this,"minZoom",0),__publicField(this,"maxZoom",1/0),__publicField(this,"minPolarAngle",0),__publicField(this,"maxPolarAngle",Math.PI),__publicField(this,"minAzimuthAngle",-1/0),__publicField(this,"maxAzimuthAngle",1/0),__publicField(this,"enableDamping",!1),__publicField(this,"dampingFactor",.05),__publicField(this,"enableZoom",!0),__publicField(this,"zoomSpeed",1),__publicField(this,"enableRotate",!0),__publicField(this,"rotateSpeed",1),__publicField(this,"enablePan",!0),__publicField(this,"panSpeed",1),__publicField(this,"screenSpacePanning",!0),__publicField(this,"keyPanSpeed",7),__publicField(this,"zoomToCursor",!1),__publicField(this,"autoRotate",!1),__publicField(this,"autoRotateSpeed",2),__publicField(this,"reverseOrbit",!1),__publicField(this,"reverseHorizontalOrbit",!1),__publicField(this,"reverseVerticalOrbit",!1),__publicField(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),__publicField(this,"mouseButtons",{LEFT:MOUSE.ROTATE,MIDDLE:MOUSE.DOLLY,RIGHT:MOUSE.PAN}),__publicField(this,"touches",{ONE:TOUCH.ROTATE,TWO:TOUCH.DOLLY_PAN}),__publicField(this,"target0"),__publicField(this,"position0"),__publicField(this,"zoom0"),__publicField(this,"_domElementKeyEvents",null),__publicField(this,"getPolarAngle"),__publicField(this,"getAzimuthalAngle"),__publicField(this,"setPolarAngle"),__publicField(this,"setAzimuthalAngle"),__publicField(this,"getDistance"),__publicField(this,"getZoomScale"),__publicField(this,"listenToKeyEvents"),__publicField(this,"stopListenToKeyEvents"),__publicField(this,"saveState"),__publicField(this,"reset"),__publicField(this,"update"),__publicField(this,"connect"),__publicField(this,"dispose"),__publicField(this,"dollyIn"),__publicField(this,"dollyOut"),__publicField(this,"getScale"),__publicField(this,"setScale"),this.object=$,this.domElement=te,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>he.phi,this.getAzimuthalAngle=()=>he.theta,this.setPolarAngle=St=>{let Ft=moduloWrapAround(St,2*Math.PI),Ct=he.phi;Ct<0&&(Ct+=2*Math.PI),Ft<0&&(Ft+=2*Math.PI);let yt=Math.abs(Ft-Ct);2*Math.PI-yt<yt&&(Ft<Ct?Ft+=2*Math.PI:Ct+=2*Math.PI),de.phi=Ft-Ct,ne.update()},this.setAzimuthalAngle=St=>{let Ft=moduloWrapAround(St,2*Math.PI),Ct=he.theta;Ct<0&&(Ct+=2*Math.PI),Ft<0&&(Ft+=2*Math.PI);let yt=Math.abs(Ft-Ct);2*Math.PI-yt<yt&&(Ft<Ct?Ft+=2*Math.PI:Ct+=2*Math.PI),de.theta=Ft-Ct,ne.update()},this.getDistance=()=>ne.object.position.distanceTo(ne.target),this.listenToKeyEvents=St=>{St.addEventListener("keydown",xt),this._domElementKeyEvents=St},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",xt),this._domElementKeyEvents=null},this.saveState=()=>{ne.target0.copy(ne.target),ne.position0.copy(ne.object.position),ne.zoom0=ne.object.zoom},this.reset=()=>{ne.target.copy(ne.target0),ne.object.position.copy(ne.position0),ne.object.zoom=ne.zoom0,ne.object.updateProjectionMatrix(),ne.dispatchEvent(ie),ne.update(),ce=oe.NONE},this.update=(()=>{const St=new Vector3,Ft=new Vector3(0,1,0),Ct=new Quaternion().setFromUnitVectors($.up,Ft),yt=Ct.clone().invert(),bt=new Vector3,Pt=new Quaternion,Ut=2*Math.PI;return function(){const kt=ne.object.position;Ct.setFromUnitVectors($.up,Ft),yt.copy(Ct).invert(),St.copy(kt).sub(ne.target),St.applyQuaternion(Ct),he.setFromVector3(St),ne.autoRotate&&ce===oe.NONE&&$e(Ye()),ne.enableDamping?(he.theta+=de.theta*ne.dampingFactor,he.phi+=de.phi*ne.dampingFactor):(he.theta+=de.theta,he.phi+=de.phi);let Ot=ne.minAzimuthAngle,Et=ne.maxAzimuthAngle;isFinite(Ot)&&isFinite(Et)&&(Ot<-Math.PI?Ot+=Ut:Ot>Math.PI&&(Ot-=Ut),Et<-Math.PI?Et+=Ut:Et>Math.PI&&(Et-=Ut),Ot<=Et?he.theta=Math.max(Ot,Math.min(Et,he.theta)):he.theta=he.theta>(Ot+Et)/2?Math.max(Ot,he.theta):Math.min(Et,he.theta)),he.phi=Math.max(ne.minPolarAngle,Math.min(ne.maxPolarAngle,he.phi)),he.makeSafe(),ne.enableDamping===!0?ne.target.addScaledVector(re,ne.dampingFactor):ne.target.add(re),ne.zoomToCursor&&Ce||ne.object.isOrthographicCamera?he.radius=Le(he.radius):he.radius=Le(he.radius*pe),St.setFromSpherical(he),St.applyQuaternion(yt),kt.copy(ne.target).add(St),ne.object.matrixAutoUpdate||ne.object.updateMatrix(),ne.object.lookAt(ne.target),ne.enableDamping===!0?(de.theta*=1-ne.dampingFactor,de.phi*=1-ne.dampingFactor,re.multiplyScalar(1-ne.dampingFactor)):(de.set(0,0,0),re.set(0,0,0));let nn=!1;if(ne.zoomToCursor&&Ce){let en=null;if(ne.object instanceof PerspectiveCamera&&ne.object.isPerspectiveCamera){const an=St.length();en=Le(an*pe);const Sn=an-en;ne.object.position.addScaledVector(_e,Sn),ne.object.updateMatrixWorld()}else if(ne.object.isOrthographicCamera){const an=new Vector3(Ee.x,Ee.y,0);an.unproject(ne.object),ne.object.zoom=Math.max(ne.minZoom,Math.min(ne.maxZoom,ne.object.zoom/pe)),ne.object.updateProjectionMatrix(),nn=!0;const Sn=new Vector3(Ee.x,Ee.y,0);Sn.unproject(ne.object),ne.object.position.sub(Sn).add(an),ne.object.updateMatrixWorld(),en=St.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),ne.zoomToCursor=!1;en!==null&&(ne.screenSpacePanning?ne.target.set(0,0,-1).transformDirection(ne.object.matrix).multiplyScalar(en).add(ne.object.position):(_ray.origin.copy(ne.object.position),_ray.direction.set(0,0,-1).transformDirection(ne.object.matrix),Math.abs(ne.object.up.dot(_ray.direction))<TILT_LIMIT?$.lookAt(ne.target):(_plane.setFromNormalAndCoplanarPoint(ne.object.up,ne.target),_ray.intersectPlane(_plane,ne.target))))}else ne.object instanceof OrthographicCamera&&ne.object.isOrthographicCamera&&(nn=pe!==1,nn&&(ne.object.zoom=Math.max(ne.minZoom,Math.min(ne.maxZoom,ne.object.zoom/pe)),ne.object.updateProjectionMatrix()));return pe=1,Ce=!1,nn||bt.distanceToSquared(ne.object.position)>ae||8*(1-Pt.dot(ne.object.quaternion))>ae?(ne.dispatchEvent(ie),bt.copy(ne.object.position),Pt.copy(ne.object.quaternion),nn=!1,!0):!1}})(),this.connect=St=>{ne.domElement=St,ne.domElement.style.touchAction="none",ne.domElement.addEventListener("contextmenu",_t),ne.domElement.addEventListener("pointerdown",Je),ne.domElement.addEventListener("pointercancel",ut),ne.domElement.addEventListener("wheel",mt)},this.dispose=()=>{var St,Ft,Ct,yt,bt,Pt;ne.domElement&&(ne.domElement.style.touchAction="auto"),(St=ne.domElement)==null||St.removeEventListener("contextmenu",_t),(Ft=ne.domElement)==null||Ft.removeEventListener("pointerdown",Je),(Ct=ne.domElement)==null||Ct.removeEventListener("pointercancel",ut),(yt=ne.domElement)==null||yt.removeEventListener("wheel",mt),(bt=ne.domElement)==null||bt.ownerDocument.removeEventListener("pointermove",lt),(Pt=ne.domElement)==null||Pt.ownerDocument.removeEventListener("pointerup",ut),ne._domElementKeyEvents!==null&&ne._domElementKeyEvents.removeEventListener("keydown",xt)};const ne=this,ie={type:"change"},se={type:"start"},le={type:"end"},oe={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let ce=oe.NONE;const ae=1e-6,he=new Spherical,de=new Spherical;let pe=1;const re=new Vector3,Ae=new Vector2,ge=new Vector2,Se=new Vector2,fe=new Vector2,be=new Vector2,xe=new Vector2,ue=new Vector2,we=new Vector2,Fe=new Vector2,_e=new Vector3,Ee=new Vector2;let Ce=!1;const ye=[],Re={};function Ye(){return 2*Math.PI/60/60*ne.autoRotateSpeed}function ke(){return Math.pow(.95,ne.zoomSpeed)}function $e(St){ne.reverseOrbit||ne.reverseHorizontalOrbit?de.theta+=St:de.theta-=St}function Be(St){ne.reverseOrbit||ne.reverseVerticalOrbit?de.phi+=St:de.phi-=St}const Pe=(()=>{const St=new Vector3;return function(Ct,yt){St.setFromMatrixColumn(yt,0),St.multiplyScalar(-Ct),re.add(St)}})(),Ue=(()=>{const St=new Vector3;return function(Ct,yt){ne.screenSpacePanning===!0?St.setFromMatrixColumn(yt,1):(St.setFromMatrixColumn(yt,0),St.crossVectors(ne.object.up,St)),St.multiplyScalar(Ct),re.add(St)}})(),Te=(()=>{const St=new Vector3;return function(Ct,yt){const bt=ne.domElement;if(bt&&ne.object instanceof PerspectiveCamera&&ne.object.isPerspectiveCamera){const Pt=ne.object.position;St.copy(Pt).sub(ne.target);let Ut=St.length();Ut*=Math.tan(ne.object.fov/2*Math.PI/180),Pe(2*Ct*Ut/bt.clientHeight,ne.object.matrix),Ue(2*yt*Ut/bt.clientHeight,ne.object.matrix)}else bt&&ne.object instanceof OrthographicCamera&&ne.object.isOrthographicCamera?(Pe(Ct*(ne.object.right-ne.object.left)/ne.object.zoom/bt.clientWidth,ne.object.matrix),Ue(yt*(ne.object.top-ne.object.bottom)/ne.object.zoom/bt.clientHeight,ne.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),ne.enablePan=!1)}})();function Me(St){ne.object instanceof PerspectiveCamera&&ne.object.isPerspectiveCamera||ne.object instanceof OrthographicCamera&&ne.object.isOrthographicCamera?pe=St:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),ne.enableZoom=!1)}function Ve(St){Me(pe/St)}function He(St){Me(pe*St)}function Ie(St){if(!ne.zoomToCursor||!ne.domElement)return;Ce=!0;const Ft=ne.domElement.getBoundingClientRect(),Ct=St.clientX-Ft.left,yt=St.clientY-Ft.top,bt=Ft.width,Pt=Ft.height;Ee.x=Ct/bt*2-1,Ee.y=-(yt/Pt)*2+1,_e.set(Ee.x,Ee.y,1).unproject(ne.object).sub(ne.object.position).normalize()}function Le(St){return Math.max(ne.minDistance,Math.min(ne.maxDistance,St))}function Oe(St){Ae.set(St.clientX,St.clientY)}function Ne(St){Ie(St),ue.set(St.clientX,St.clientY)}function qe(St){fe.set(St.clientX,St.clientY)}function it(St){ge.set(St.clientX,St.clientY),Se.subVectors(ge,Ae).multiplyScalar(ne.rotateSpeed);const Ft=ne.domElement;Ft&&($e(2*Math.PI*Se.x/Ft.clientHeight),Be(2*Math.PI*Se.y/Ft.clientHeight)),Ae.copy(ge),ne.update()}function tt(St){we.set(St.clientX,St.clientY),Fe.subVectors(we,ue),Fe.y>0?Ve(ke()):Fe.y<0&&He(ke()),ue.copy(we),ne.update()}function Xe(St){be.set(St.clientX,St.clientY),xe.subVectors(be,fe).multiplyScalar(ne.panSpeed),Te(xe.x,xe.y),fe.copy(be),ne.update()}function Ze(St){Ie(St),St.deltaY<0?He(ke()):St.deltaY>0&&Ve(ke()),ne.update()}function ot(St){let Ft=!1;switch(St.code){case ne.keys.UP:Te(0,ne.keyPanSpeed),Ft=!0;break;case ne.keys.BOTTOM:Te(0,-ne.keyPanSpeed),Ft=!0;break;case ne.keys.LEFT:Te(ne.keyPanSpeed,0),Ft=!0;break;case ne.keys.RIGHT:Te(-ne.keyPanSpeed,0),Ft=!0;break}Ft&&(St.preventDefault(),ne.update())}function Ge(){if(ye.length==1)Ae.set(ye[0].pageX,ye[0].pageY);else{const St=.5*(ye[0].pageX+ye[1].pageX),Ft=.5*(ye[0].pageY+ye[1].pageY);Ae.set(St,Ft)}}function Ke(){if(ye.length==1)fe.set(ye[0].pageX,ye[0].pageY);else{const St=.5*(ye[0].pageX+ye[1].pageX),Ft=.5*(ye[0].pageY+ye[1].pageY);fe.set(St,Ft)}}function je(){const St=ye[0].pageX-ye[1].pageX,Ft=ye[0].pageY-ye[1].pageY,Ct=Math.sqrt(St*St+Ft*Ft);ue.set(0,Ct)}function nt(){ne.enableZoom&&je(),ne.enablePan&&Ke()}function Qe(){ne.enableZoom&&je(),ne.enableRotate&&Ge()}function We(St){if(ye.length==1)ge.set(St.pageX,St.pageY);else{const Ct=Bt(St),yt=.5*(St.pageX+Ct.x),bt=.5*(St.pageY+Ct.y);ge.set(yt,bt)}Se.subVectors(ge,Ae).multiplyScalar(ne.rotateSpeed);const Ft=ne.domElement;Ft&&($e(2*Math.PI*Se.x/Ft.clientHeight),Be(2*Math.PI*Se.y/Ft.clientHeight)),Ae.copy(ge)}function rt(St){if(ye.length==1)be.set(St.pageX,St.pageY);else{const Ft=Bt(St),Ct=.5*(St.pageX+Ft.x),yt=.5*(St.pageY+Ft.y);be.set(Ct,yt)}xe.subVectors(be,fe).multiplyScalar(ne.panSpeed),Te(xe.x,xe.y),fe.copy(be)}function et(St){const Ft=Bt(St),Ct=St.pageX-Ft.x,yt=St.pageY-Ft.y,bt=Math.sqrt(Ct*Ct+yt*yt);we.set(0,bt),Fe.set(0,Math.pow(we.y/ue.y,ne.zoomSpeed)),Ve(Fe.y),ue.copy(we)}function ct(St){ne.enableZoom&&et(St),ne.enablePan&&rt(St)}function at(St){ne.enableZoom&&et(St),ne.enableRotate&&We(St)}function Je(St){var Ft,Ct;ne.enabled!==!1&&(ye.length===0&&((Ft=ne.domElement)==null||Ft.ownerDocument.addEventListener("pointermove",lt),(Ct=ne.domElement)==null||Ct.ownerDocument.addEventListener("pointerup",ut)),Tt(St),St.pointerType==="touch"?vt(St):ft(St))}function lt(St){ne.enabled!==!1&&(St.pointerType==="touch"?wt(St):pt(St))}function ut(St){var Ft,Ct,yt;Lt(St),ye.length===0&&((Ft=ne.domElement)==null||Ft.releasePointerCapture(St.pointerId),(Ct=ne.domElement)==null||Ct.ownerDocument.removeEventListener("pointermove",lt),(yt=ne.domElement)==null||yt.ownerDocument.removeEventListener("pointerup",ut)),ne.dispatchEvent(le),ce=oe.NONE}function ft(St){let Ft;switch(St.button){case 0:Ft=ne.mouseButtons.LEFT;break;case 1:Ft=ne.mouseButtons.MIDDLE;break;case 2:Ft=ne.mouseButtons.RIGHT;break;default:Ft=-1}switch(Ft){case MOUSE.DOLLY:if(ne.enableZoom===!1)return;Ne(St),ce=oe.DOLLY;break;case MOUSE.ROTATE:if(St.ctrlKey||St.metaKey||St.shiftKey){if(ne.enablePan===!1)return;qe(St),ce=oe.PAN}else{if(ne.enableRotate===!1)return;Oe(St),ce=oe.ROTATE}break;case MOUSE.PAN:if(St.ctrlKey||St.metaKey||St.shiftKey){if(ne.enableRotate===!1)return;Oe(St),ce=oe.ROTATE}else{if(ne.enablePan===!1)return;qe(St),ce=oe.PAN}break;default:ce=oe.NONE}ce!==oe.NONE&&ne.dispatchEvent(se)}function pt(St){if(ne.enabled!==!1)switch(ce){case oe.ROTATE:if(ne.enableRotate===!1)return;it(St);break;case oe.DOLLY:if(ne.enableZoom===!1)return;tt(St);break;case oe.PAN:if(ne.enablePan===!1)return;Xe(St);break}}function mt(St){ne.enabled===!1||ne.enableZoom===!1||ce!==oe.NONE&&ce!==oe.ROTATE||(St.preventDefault(),ne.dispatchEvent(se),Ze(St),ne.dispatchEvent(le))}function xt(St){ne.enabled===!1||ne.enablePan===!1||ot(St)}function vt(St){switch(jt(St),ye.length){case 1:switch(ne.touches.ONE){case TOUCH.ROTATE:if(ne.enableRotate===!1)return;Ge(),ce=oe.TOUCH_ROTATE;break;case TOUCH.PAN:if(ne.enablePan===!1)return;Ke(),ce=oe.TOUCH_PAN;break;default:ce=oe.NONE}break;case 2:switch(ne.touches.TWO){case TOUCH.DOLLY_PAN:if(ne.enableZoom===!1&&ne.enablePan===!1)return;nt(),ce=oe.TOUCH_DOLLY_PAN;break;case TOUCH.DOLLY_ROTATE:if(ne.enableZoom===!1&&ne.enableRotate===!1)return;Qe(),ce=oe.TOUCH_DOLLY_ROTATE;break;default:ce=oe.NONE}break;default:ce=oe.NONE}ce!==oe.NONE&&ne.dispatchEvent(se)}function wt(St){switch(jt(St),ce){case oe.TOUCH_ROTATE:if(ne.enableRotate===!1)return;We(St),ne.update();break;case oe.TOUCH_PAN:if(ne.enablePan===!1)return;rt(St),ne.update();break;case oe.TOUCH_DOLLY_PAN:if(ne.enableZoom===!1&&ne.enablePan===!1)return;ct(St),ne.update();break;case oe.TOUCH_DOLLY_ROTATE:if(ne.enableZoom===!1&&ne.enableRotate===!1)return;at(St),ne.update();break;default:ce=oe.NONE}}function _t(St){ne.enabled!==!1&&St.preventDefault()}function Tt(St){ye.push(St)}function Lt(St){delete Re[St.pointerId];for(let Ft=0;Ft<ye.length;Ft++)if(ye[Ft].pointerId==St.pointerId){ye.splice(Ft,1);return}}function jt(St){let Ft=Re[St.pointerId];Ft===void 0&&(Ft=new Vector2,Re[St.pointerId]=Ft),Ft.set(St.pageX,St.pageY)}function Bt(St){const Ft=St.pointerId===ye[0].pointerId?ye[1]:ye[0];return Re[Ft.pointerId]}this.dollyIn=(St=ke())=>{He(St),ne.update()},this.dollyOut=(St=ke())=>{Ve(St),ne.update()},this.getScale=()=>pe,this.setScale=St=>{Me(St),ne.update()},this.getZoomScale=()=>ke(),te!==void 0&&this.connect(te),this.update()}};const OrbitControls=reactExports.forwardRef(({makeDefault:ee,camera:$,regress:te,domElement:ne,enableDamping:ie=!0,keyEvents:se=!1,onChange:le,onStart:oe,onEnd:ce,...ae},he)=>{const de=useThree(Fe=>Fe.invalidate),pe=useThree(Fe=>Fe.camera),re=useThree(Fe=>Fe.gl),Ae=useThree(Fe=>Fe.events),ge=useThree(Fe=>Fe.setEvents),Se=useThree(Fe=>Fe.set),fe=useThree(Fe=>Fe.get),be=useThree(Fe=>Fe.performance),xe=$||pe,ue=ne||Ae.connected||re.domElement,we=reactExports.useMemo(()=>new OrbitControls$1(xe),[xe]);return useFrame(()=>{we.enabled&&we.update()},-1),reactExports.useEffect(()=>(se&&we.connect(se===!0?ue:se),we.connect(ue),()=>void we.dispose()),[se,ue,te,we,de]),reactExports.useEffect(()=>{const Fe=Ce=>{de(),te&&be.regress(),le&&le(Ce)},_e=Ce=>{oe&&oe(Ce)},Ee=Ce=>{ce&&ce(Ce)};return we.addEventListener("change",Fe),we.addEventListener("start",_e),we.addEventListener("end",Ee),()=>{we.removeEventListener("start",_e),we.removeEventListener("end",Ee),we.removeEventListener("change",Fe)}},[le,oe,ce,we,de,ge]),reactExports.useEffect(()=>{if(ee){const Fe=fe().controls;return Se({controls:we}),()=>Se({controls:Fe})}},[ee,we]),reactExports.createElement("primitive",_extends({ref:he,object:we,enableDamping:ie},ae))});function toTrianglesDrawMode(ee,$){if($===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),ee;if($===TriangleFanDrawMode||$===TriangleStripDrawMode){let te=ee.getIndex();if(te===null){const le=[],oe=ee.getAttribute("position");if(oe!==void 0){for(let ce=0;ce<oe.count;ce++)le.push(ce);ee.setIndex(le),te=ee.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),ee}const ne=te.count-2,ie=[];if($===TriangleFanDrawMode)for(let le=1;le<=ne;le++)ie.push(te.getX(0)),ie.push(te.getX(le)),ie.push(te.getX(le+1));else for(let le=0;le<ne;le++)le%2===0?(ie.push(te.getX(le)),ie.push(te.getX(le+1)),ie.push(te.getX(le+2))):(ie.push(te.getX(le+2)),ie.push(te.getX(le+1)),ie.push(te.getX(le)));ie.length/3!==ne&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const se=ee.clone();return se.setIndex(ie),se.clearGroups(),se}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",$),ee}class GLTFLoader extends Loader{constructor($){super($),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(te){return new GLTFMaterialsClearcoatExtension(te)}),this.register(function(te){return new GLTFMaterialsDispersionExtension(te)}),this.register(function(te){return new GLTFTextureBasisUExtension(te)}),this.register(function(te){return new GLTFTextureWebPExtension(te)}),this.register(function(te){return new GLTFTextureAVIFExtension(te)}),this.register(function(te){return new GLTFMaterialsSheenExtension(te)}),this.register(function(te){return new GLTFMaterialsTransmissionExtension(te)}),this.register(function(te){return new GLTFMaterialsVolumeExtension(te)}),this.register(function(te){return new GLTFMaterialsIorExtension(te)}),this.register(function(te){return new GLTFMaterialsEmissiveStrengthExtension(te)}),this.register(function(te){return new GLTFMaterialsSpecularExtension(te)}),this.register(function(te){return new GLTFMaterialsIridescenceExtension(te)}),this.register(function(te){return new GLTFMaterialsAnisotropyExtension(te)}),this.register(function(te){return new GLTFMaterialsBumpExtension(te)}),this.register(function(te){return new GLTFLightsExtension(te)}),this.register(function(te){return new GLTFMeshoptCompression(te)}),this.register(function(te){return new GLTFMeshGpuInstancing(te)})}load($,te,ne,ie){const se=this;let le;if(this.resourcePath!=="")le=this.resourcePath;else if(this.path!==""){const ae=LoaderUtils.extractUrlBase($);le=LoaderUtils.resolveURL(ae,this.path)}else le=LoaderUtils.extractUrlBase($);this.manager.itemStart($);const oe=function(ae){ie?ie(ae):console.error(ae),se.manager.itemError($),se.manager.itemEnd($)},ce=new FileLoader(this.manager);ce.setPath(this.path),ce.setResponseType("arraybuffer"),ce.setRequestHeader(this.requestHeader),ce.setWithCredentials(this.withCredentials),ce.load($,function(ae){try{se.parse(ae,le,function(he){te(he),se.manager.itemEnd($)},oe)}catch(he){oe(he)}},ne,oe)}setDRACOLoader($){return this.dracoLoader=$,this}setKTX2Loader($){return this.ktx2Loader=$,this}setMeshoptDecoder($){return this.meshoptDecoder=$,this}register($){return this.pluginCallbacks.indexOf($)===-1&&this.pluginCallbacks.push($),this}unregister($){return this.pluginCallbacks.indexOf($)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf($),1),this}parse($,te,ne,ie){let se;const le={},oe={},ce=new TextDecoder;if(typeof $=="string")se=JSON.parse($);else if($ instanceof ArrayBuffer)if(ce.decode(new Uint8Array($,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{le[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension($)}catch(de){ie&&ie(de);return}se=JSON.parse(le[EXTENSIONS.KHR_BINARY_GLTF].content)}else se=JSON.parse(ce.decode($));else se=$;if(se.asset===void 0||se.asset.version[0]<2){ie&&ie(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const ae=new GLTFParser(se,{path:te||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});ae.fileLoader.setRequestHeader(this.requestHeader);for(let he=0;he<this.pluginCallbacks.length;he++){const de=this.pluginCallbacks[he](ae);de.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),oe[de.name]=de,le[de.name]=!0}if(se.extensionsUsed)for(let he=0;he<se.extensionsUsed.length;++he){const de=se.extensionsUsed[he],pe=se.extensionsRequired||[];switch(de){case EXTENSIONS.KHR_MATERIALS_UNLIT:le[de]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:le[de]=new GLTFDracoMeshCompressionExtension(se,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:le[de]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:le[de]=new GLTFMeshQuantizationExtension;break;default:pe.indexOf(de)>=0&&oe[de]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+de+'".')}}ae.setExtensions(le),ae.setPlugins(oe),ae.parse(ne,ie)}parseAsync($,te){const ne=this;return new Promise(function(ie,se){ne.parse($,te,ie,se)})}}function GLTFRegistry(){let ee={};return{get:function($){return ee[$]},add:function($,te){ee[$]=te},remove:function($){delete ee[$]},removeAll:function(){ee={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const $=this.parser,te=this.parser.json.nodes||[];for(let ne=0,ie=te.length;ne<ie;ne++){const se=te[ne];se.extensions&&se.extensions[this.name]&&se.extensions[this.name].light!==void 0&&$._addNodeRef(this.cache,se.extensions[this.name].light)}}_loadLight($){const te=this.parser,ne="light:"+$;let ie=te.cache.get(ne);if(ie)return ie;const se=te.json,ce=((se.extensions&&se.extensions[this.name]||{}).lights||[])[$];let ae;const he=new Color(16777215);ce.color!==void 0&&he.setRGB(ce.color[0],ce.color[1],ce.color[2],LinearSRGBColorSpace);const de=ce.range!==void 0?ce.range:0;switch(ce.type){case"directional":ae=new DirectionalLight(he),ae.target.position.set(0,0,-1),ae.add(ae.target);break;case"point":ae=new PointLight(he),ae.distance=de;break;case"spot":ae=new SpotLight(he),ae.distance=de,ce.spot=ce.spot||{},ce.spot.innerConeAngle=ce.spot.innerConeAngle!==void 0?ce.spot.innerConeAngle:0,ce.spot.outerConeAngle=ce.spot.outerConeAngle!==void 0?ce.spot.outerConeAngle:Math.PI/4,ae.angle=ce.spot.outerConeAngle,ae.penumbra=1-ce.spot.innerConeAngle/ce.spot.outerConeAngle,ae.target.position.set(0,0,-1),ae.add(ae.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+ce.type)}return ae.position.set(0,0,0),assignExtrasToUserData(ae,ce),ce.intensity!==void 0&&(ae.intensity=ce.intensity),ae.name=te.createUniqueName(ce.name||"light_"+$),ie=Promise.resolve(ae),te.cache.add(ne,ie),ie}getDependency($,te){if($==="light")return this._loadLight(te)}createNodeAttachment($){const te=this,ne=this.parser,se=ne.json.nodes[$],oe=(se.extensions&&se.extensions[this.name]||{}).light;return oe===void 0?null:this._loadLight(oe).then(function(ce){return ne._getNodeRef(te.cache,oe,ce)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams($,te,ne){const ie=[];$.color=new Color(1,1,1),$.opacity=1;const se=te.pbrMetallicRoughness;if(se){if(Array.isArray(se.baseColorFactor)){const le=se.baseColorFactor;$.color.setRGB(le[0],le[1],le[2],LinearSRGBColorSpace),$.opacity=le[3]}se.baseColorTexture!==void 0&&ie.push(ne.assignTexture($,"map",se.baseColorTexture,SRGBColorSpace))}return Promise.all(ie)}}class GLTFMaterialsEmissiveStrengthExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams($,te){const ie=this.parser.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=ie.extensions[this.name].emissiveStrength;return se!==void 0&&(te.emissiveIntensity=se),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ne=this.parser,ie=ne.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=[],le=ie.extensions[this.name];if(le.clearcoatFactor!==void 0&&(te.clearcoat=le.clearcoatFactor),le.clearcoatTexture!==void 0&&se.push(ne.assignTexture(te,"clearcoatMap",le.clearcoatTexture)),le.clearcoatRoughnessFactor!==void 0&&(te.clearcoatRoughness=le.clearcoatRoughnessFactor),le.clearcoatRoughnessTexture!==void 0&&se.push(ne.assignTexture(te,"clearcoatRoughnessMap",le.clearcoatRoughnessTexture)),le.clearcoatNormalTexture!==void 0&&(se.push(ne.assignTexture(te,"clearcoatNormalMap",le.clearcoatNormalTexture)),le.clearcoatNormalTexture.scale!==void 0)){const oe=le.clearcoatNormalTexture.scale;te.clearcoatNormalScale=new Vector2(oe,oe)}return Promise.all(se)}}class GLTFMaterialsDispersionExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_DISPERSION}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ie=this.parser.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=ie.extensions[this.name];return te.dispersion=se.dispersion!==void 0?se.dispersion:0,Promise.resolve()}}class GLTFMaterialsIridescenceExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ne=this.parser,ie=ne.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=[],le=ie.extensions[this.name];return le.iridescenceFactor!==void 0&&(te.iridescence=le.iridescenceFactor),le.iridescenceTexture!==void 0&&se.push(ne.assignTexture(te,"iridescenceMap",le.iridescenceTexture)),le.iridescenceIor!==void 0&&(te.iridescenceIOR=le.iridescenceIor),te.iridescenceThicknessRange===void 0&&(te.iridescenceThicknessRange=[100,400]),le.iridescenceThicknessMinimum!==void 0&&(te.iridescenceThicknessRange[0]=le.iridescenceThicknessMinimum),le.iridescenceThicknessMaximum!==void 0&&(te.iridescenceThicknessRange[1]=le.iridescenceThicknessMaximum),le.iridescenceThicknessTexture!==void 0&&se.push(ne.assignTexture(te,"iridescenceThicknessMap",le.iridescenceThicknessTexture)),Promise.all(se)}}class GLTFMaterialsSheenExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ne=this.parser,ie=ne.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=[];te.sheenColor=new Color(0,0,0),te.sheenRoughness=0,te.sheen=1;const le=ie.extensions[this.name];if(le.sheenColorFactor!==void 0){const oe=le.sheenColorFactor;te.sheenColor.setRGB(oe[0],oe[1],oe[2],LinearSRGBColorSpace)}return le.sheenRoughnessFactor!==void 0&&(te.sheenRoughness=le.sheenRoughnessFactor),le.sheenColorTexture!==void 0&&se.push(ne.assignTexture(te,"sheenColorMap",le.sheenColorTexture,SRGBColorSpace)),le.sheenRoughnessTexture!==void 0&&se.push(ne.assignTexture(te,"sheenRoughnessMap",le.sheenRoughnessTexture)),Promise.all(se)}}class GLTFMaterialsTransmissionExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ne=this.parser,ie=ne.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=[],le=ie.extensions[this.name];return le.transmissionFactor!==void 0&&(te.transmission=le.transmissionFactor),le.transmissionTexture!==void 0&&se.push(ne.assignTexture(te,"transmissionMap",le.transmissionTexture)),Promise.all(se)}}class GLTFMaterialsVolumeExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ne=this.parser,ie=ne.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=[],le=ie.extensions[this.name];te.thickness=le.thicknessFactor!==void 0?le.thicknessFactor:0,le.thicknessTexture!==void 0&&se.push(ne.assignTexture(te,"thicknessMap",le.thicknessTexture)),te.attenuationDistance=le.attenuationDistance||1/0;const oe=le.attenuationColor||[1,1,1];return te.attenuationColor=new Color().setRGB(oe[0],oe[1],oe[2],LinearSRGBColorSpace),Promise.all(se)}}class GLTFMaterialsIorExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ie=this.parser.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=ie.extensions[this.name];return te.ior=se.ior!==void 0?se.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ne=this.parser,ie=ne.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=[],le=ie.extensions[this.name];te.specularIntensity=le.specularFactor!==void 0?le.specularFactor:1,le.specularTexture!==void 0&&se.push(ne.assignTexture(te,"specularIntensityMap",le.specularTexture));const oe=le.specularColorFactor||[1,1,1];return te.specularColor=new Color().setRGB(oe[0],oe[1],oe[2],LinearSRGBColorSpace),le.specularColorTexture!==void 0&&se.push(ne.assignTexture(te,"specularColorMap",le.specularColorTexture,SRGBColorSpace)),Promise.all(se)}}class GLTFMaterialsBumpExtension{constructor($){this.parser=$,this.name=EXTENSIONS.EXT_MATERIALS_BUMP}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ne=this.parser,ie=ne.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=[],le=ie.extensions[this.name];return te.bumpScale=le.bumpFactor!==void 0?le.bumpFactor:1,le.bumpTexture!==void 0&&se.push(ne.assignTexture(te,"bumpMap",le.bumpTexture)),Promise.all(se)}}class GLTFMaterialsAnisotropyExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType($){const ne=this.parser.json.materials[$];return!ne.extensions||!ne.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams($,te){const ne=this.parser,ie=ne.json.materials[$];if(!ie.extensions||!ie.extensions[this.name])return Promise.resolve();const se=[],le=ie.extensions[this.name];return le.anisotropyStrength!==void 0&&(te.anisotropy=le.anisotropyStrength),le.anisotropyRotation!==void 0&&(te.anisotropyRotation=le.anisotropyRotation),le.anisotropyTexture!==void 0&&se.push(ne.assignTexture(te,"anisotropyMap",le.anisotropyTexture)),Promise.all(se)}}class GLTFTextureBasisUExtension{constructor($){this.parser=$,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture($){const te=this.parser,ne=te.json,ie=ne.textures[$];if(!ie.extensions||!ie.extensions[this.name])return null;const se=ie.extensions[this.name],le=te.options.ktx2Loader;if(!le){if(ne.extensionsRequired&&ne.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return te.loadTextureImage($,se.source,le)}}class GLTFTextureWebPExtension{constructor($){this.parser=$,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture($){const te=this.name,ne=this.parser,ie=ne.json,se=ie.textures[$];if(!se.extensions||!se.extensions[te])return null;const le=se.extensions[te],oe=ie.images[le.source];let ce=ne.textureLoader;if(oe.uri){const ae=ne.options.manager.getHandler(oe.uri);ae!==null&&(ce=ae)}return this.detectSupport().then(function(ae){if(ae)return ne.loadTextureImage($,le.source,ce);if(ie.extensionsRequired&&ie.extensionsRequired.indexOf(te)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return ne.loadTexture($)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function($){const te=new Image;te.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",te.onload=te.onerror=function(){$(te.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor($){this.parser=$,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture($){const te=this.name,ne=this.parser,ie=ne.json,se=ie.textures[$];if(!se.extensions||!se.extensions[te])return null;const le=se.extensions[te],oe=ie.images[le.source];let ce=ne.textureLoader;if(oe.uri){const ae=ne.options.manager.getHandler(oe.uri);ae!==null&&(ce=ae)}return this.detectSupport().then(function(ae){if(ae)return ne.loadTextureImage($,le.source,ce);if(ie.extensionsRequired&&ie.extensionsRequired.indexOf(te)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return ne.loadTexture($)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function($){const te=new Image;te.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",te.onload=te.onerror=function(){$(te.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor($){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=$}loadBufferView($){const te=this.parser.json,ne=te.bufferViews[$];if(ne.extensions&&ne.extensions[this.name]){const ie=ne.extensions[this.name],se=this.parser.getDependency("buffer",ie.buffer),le=this.parser.options.meshoptDecoder;if(!le||!le.supported){if(te.extensionsRequired&&te.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return se.then(function(oe){const ce=ie.byteOffset||0,ae=ie.byteLength||0,he=ie.count,de=ie.byteStride,pe=new Uint8Array(oe,ce,ae);return le.decodeGltfBufferAsync?le.decodeGltfBufferAsync(he,de,pe,ie.mode,ie.filter).then(function(re){return re.buffer}):le.ready.then(function(){const re=new ArrayBuffer(he*de);return le.decodeGltfBuffer(new Uint8Array(re),he,de,pe,ie.mode,ie.filter),re})})}else return null}}class GLTFMeshGpuInstancing{constructor($){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=$}createNodeMesh($){const te=this.parser.json,ne=te.nodes[$];if(!ne.extensions||!ne.extensions[this.name]||ne.mesh===void 0)return null;const ie=te.meshes[ne.mesh];for(const ae of ie.primitives)if(ae.mode!==WEBGL_CONSTANTS.TRIANGLES&&ae.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&ae.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&ae.mode!==void 0)return null;const le=ne.extensions[this.name].attributes,oe=[],ce={};for(const ae in le)oe.push(this.parser.getDependency("accessor",le[ae]).then(he=>(ce[ae]=he,ce[ae])));return oe.length<1?null:(oe.push(this.parser.createNodeMesh($)),Promise.all(oe).then(ae=>{const he=ae.pop(),de=he.isGroup?he.children:[he],pe=ae[0].count,re=[];for(const Ae of de){const ge=new Matrix4,Se=new Vector3,fe=new Quaternion,be=new Vector3(1,1,1),xe=new InstancedMesh(Ae.geometry,Ae.material,pe);for(let ue=0;ue<pe;ue++)ce.TRANSLATION&&Se.fromBufferAttribute(ce.TRANSLATION,ue),ce.ROTATION&&fe.fromBufferAttribute(ce.ROTATION,ue),ce.SCALE&&be.fromBufferAttribute(ce.SCALE,ue),xe.setMatrixAt(ue,ge.compose(Se,fe,be));for(const ue in ce)if(ue==="_COLOR_0"){const we=ce[ue];xe.instanceColor=new InstancedBufferAttribute(we.array,we.itemSize,we.normalized)}else ue!=="TRANSLATION"&&ue!=="ROTATION"&&ue!=="SCALE"&&Ae.geometry.setAttribute(ue,ce[ue]);Object3D.prototype.copy.call(xe,Ae),this.parser.assignFinalMaterial(xe),re.push(xe)}return he.isGroup?(he.clear(),he.add(...re),he):re[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor($){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const te=new DataView($,0,BINARY_EXTENSION_HEADER_LENGTH),ne=new TextDecoder;if(this.header={magic:ne.decode(new Uint8Array($.slice(0,4))),version:te.getUint32(4,!0),length:te.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const ie=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,se=new DataView($,BINARY_EXTENSION_HEADER_LENGTH);let le=0;for(;le<ie;){const oe=se.getUint32(le,!0);le+=4;const ce=se.getUint32(le,!0);if(le+=4,ce===BINARY_EXTENSION_CHUNK_TYPES.JSON){const ae=new Uint8Array($,BINARY_EXTENSION_HEADER_LENGTH+le,oe);this.content=ne.decode(ae)}else if(ce===BINARY_EXTENSION_CHUNK_TYPES.BIN){const ae=BINARY_EXTENSION_HEADER_LENGTH+le;this.body=$.slice(ae,ae+oe)}le+=oe}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor($,te){if(!te)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=$,this.dracoLoader=te,this.dracoLoader.preload()}decodePrimitive($,te){const ne=this.json,ie=this.dracoLoader,se=$.extensions[this.name].bufferView,le=$.extensions[this.name].attributes,oe={},ce={},ae={};for(const he in le){const de=ATTRIBUTES[he]||he.toLowerCase();oe[de]=le[he]}for(const he in $.attributes){const de=ATTRIBUTES[he]||he.toLowerCase();if(le[he]!==void 0){const pe=ne.accessors[$.attributes[he]],re=WEBGL_COMPONENT_TYPES[pe.componentType];ae[de]=re.name,ce[de]=pe.normalized===!0}}return te.getDependency("bufferView",se).then(function(he){return new Promise(function(de,pe){ie.decodeDracoFile(he,function(re){for(const Ae in re.attributes){const ge=re.attributes[Ae],Se=ce[Ae];Se!==void 0&&(ge.normalized=Se)}de(re)},oe,ae,LinearSRGBColorSpace,pe)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture($,te){return(te.texCoord===void 0||te.texCoord===$.channel)&&te.offset===void 0&&te.rotation===void 0&&te.scale===void 0||($=$.clone(),te.texCoord!==void 0&&($.channel=te.texCoord),te.offset!==void 0&&$.offset.fromArray(te.offset),te.rotation!==void 0&&($.rotation=te.rotation),te.scale!==void 0&&$.repeat.fromArray(te.scale),$.needsUpdate=!0),$}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor($,te,ne,ie){super($,te,ne,ie)}copySampleValue_($){const te=this.resultBuffer,ne=this.sampleValues,ie=this.valueSize,se=$*ie*3+ie;for(let le=0;le!==ie;le++)te[le]=ne[se+le];return te}interpolate_($,te,ne,ie){const se=this.resultBuffer,le=this.sampleValues,oe=this.valueSize,ce=oe*2,ae=oe*3,he=ie-te,de=(ne-te)/he,pe=de*de,re=pe*de,Ae=$*ae,ge=Ae-ae,Se=-2*re+3*pe,fe=re-pe,be=1-Se,xe=fe-pe+de;for(let ue=0;ue!==oe;ue++){const we=le[ge+ue+oe],Fe=le[ge+ue+ce]*he,_e=le[Ae+ue+oe],Ee=le[Ae+ue]*he;se[ue]=be*we+xe*Fe+Se*_e+fe*Ee}return se}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_($,te,ne,ie){const se=super.interpolate_($,te,ne,ie);return _q.fromArray(se).normalize().toArray(se),se}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(ee){return ee.DefaultMaterial===void 0&&(ee.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),ee.DefaultMaterial}function addUnknownExtensionsToUserData(ee,$,te){for(const ne in te.extensions)ee[ne]===void 0&&($.userData.gltfExtensions=$.userData.gltfExtensions||{},$.userData.gltfExtensions[ne]=te.extensions[ne])}function assignExtrasToUserData(ee,$){$.extras!==void 0&&(typeof $.extras=="object"?Object.assign(ee.userData,$.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+$.extras))}function addMorphTargets(ee,$,te){let ne=!1,ie=!1,se=!1;for(let ae=0,he=$.length;ae<he;ae++){const de=$[ae];if(de.POSITION!==void 0&&(ne=!0),de.NORMAL!==void 0&&(ie=!0),de.COLOR_0!==void 0&&(se=!0),ne&&ie&&se)break}if(!ne&&!ie&&!se)return Promise.resolve(ee);const le=[],oe=[],ce=[];for(let ae=0,he=$.length;ae<he;ae++){const de=$[ae];if(ne){const pe=de.POSITION!==void 0?te.getDependency("accessor",de.POSITION):ee.attributes.position;le.push(pe)}if(ie){const pe=de.NORMAL!==void 0?te.getDependency("accessor",de.NORMAL):ee.attributes.normal;oe.push(pe)}if(se){const pe=de.COLOR_0!==void 0?te.getDependency("accessor",de.COLOR_0):ee.attributes.color;ce.push(pe)}}return Promise.all([Promise.all(le),Promise.all(oe),Promise.all(ce)]).then(function(ae){const he=ae[0],de=ae[1],pe=ae[2];return ne&&(ee.morphAttributes.position=he),ie&&(ee.morphAttributes.normal=de),se&&(ee.morphAttributes.color=pe),ee.morphTargetsRelative=!0,ee})}function updateMorphTargets(ee,$){if(ee.updateMorphTargets(),$.weights!==void 0)for(let te=0,ne=$.weights.length;te<ne;te++)ee.morphTargetInfluences[te]=$.weights[te];if($.extras&&Array.isArray($.extras.targetNames)){const te=$.extras.targetNames;if(ee.morphTargetInfluences.length===te.length){ee.morphTargetDictionary={};for(let ne=0,ie=te.length;ne<ie;ne++)ee.morphTargetDictionary[te[ne]]=ne}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(ee){let $;const te=ee.extensions&&ee.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(te?$="draco:"+te.bufferView+":"+te.indices+":"+createAttributesKey(te.attributes):$=ee.indices+":"+createAttributesKey(ee.attributes)+":"+ee.mode,ee.targets!==void 0)for(let ne=0,ie=ee.targets.length;ne<ie;ne++)$+=":"+createAttributesKey(ee.targets[ne]);return $}function createAttributesKey(ee){let $="";const te=Object.keys(ee).sort();for(let ne=0,ie=te.length;ne<ie;ne++)$+=te[ne]+":"+ee[te[ne]]+";";return $}function getNormalizedComponentScale(ee){switch(ee){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(ee){return ee.search(/\.jpe?g($|\?)/i)>0||ee.search(/^data\:image\/jpeg/)===0?"image/jpeg":ee.search(/\.webp($|\?)/i)>0||ee.search(/^data\:image\/webp/)===0?"image/webp":ee.search(/\.ktx2($|\?)/i)>0||ee.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor($={},te={}){this.json=$,this.extensions={},this.plugins={},this.options=te,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let ne=!1,ie=-1,se=!1,le=-1;if(typeof navigator<"u"){const oe=navigator.userAgent;ne=/^((?!chrome|android).)*safari/i.test(oe)===!0;const ce=oe.match(/Version\/(\d+)/);ie=ne&&ce?parseInt(ce[1],10):-1,se=oe.indexOf("Firefox")>-1,le=se?oe.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||ne&&ie<17||se&&le<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions($){this.extensions=$}setPlugins($){this.plugins=$}parse($,te){const ne=this,ie=this.json,se=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(le){return le._markDefs&&le._markDefs()}),Promise.all(this._invokeAll(function(le){return le.beforeRoot&&le.beforeRoot()})).then(function(){return Promise.all([ne.getDependencies("scene"),ne.getDependencies("animation"),ne.getDependencies("camera")])}).then(function(le){const oe={scene:le[0][ie.scene||0],scenes:le[0],animations:le[1],cameras:le[2],asset:ie.asset,parser:ne,userData:{}};return addUnknownExtensionsToUserData(se,oe,ie),assignExtrasToUserData(oe,ie),Promise.all(ne._invokeAll(function(ce){return ce.afterRoot&&ce.afterRoot(oe)})).then(function(){for(const ce of oe.scenes)ce.updateMatrixWorld();$(oe)})}).catch(te)}_markDefs(){const $=this.json.nodes||[],te=this.json.skins||[],ne=this.json.meshes||[];for(let ie=0,se=te.length;ie<se;ie++){const le=te[ie].joints;for(let oe=0,ce=le.length;oe<ce;oe++)$[le[oe]].isBone=!0}for(let ie=0,se=$.length;ie<se;ie++){const le=$[ie];le.mesh!==void 0&&(this._addNodeRef(this.meshCache,le.mesh),le.skin!==void 0&&(ne[le.mesh].isSkinnedMesh=!0)),le.camera!==void 0&&this._addNodeRef(this.cameraCache,le.camera)}}_addNodeRef($,te){te!==void 0&&($.refs[te]===void 0&&($.refs[te]=$.uses[te]=0),$.refs[te]++)}_getNodeRef($,te,ne){if($.refs[te]<=1)return ne;const ie=ne.clone(),se=(le,oe)=>{const ce=this.associations.get(le);ce!=null&&this.associations.set(oe,ce);for(const[ae,he]of le.children.entries())se(he,oe.children[ae])};return se(ne,ie),ie.name+="_instance_"+$.uses[te]++,ie}_invokeOne($){const te=Object.values(this.plugins);te.push(this);for(let ne=0;ne<te.length;ne++){const ie=$(te[ne]);if(ie)return ie}return null}_invokeAll($){const te=Object.values(this.plugins);te.unshift(this);const ne=[];for(let ie=0;ie<te.length;ie++){const se=$(te[ie]);se&&ne.push(se)}return ne}getDependency($,te){const ne=$+":"+te;let ie=this.cache.get(ne);if(!ie){switch($){case"scene":ie=this.loadScene(te);break;case"node":ie=this._invokeOne(function(se){return se.loadNode&&se.loadNode(te)});break;case"mesh":ie=this._invokeOne(function(se){return se.loadMesh&&se.loadMesh(te)});break;case"accessor":ie=this.loadAccessor(te);break;case"bufferView":ie=this._invokeOne(function(se){return se.loadBufferView&&se.loadBufferView(te)});break;case"buffer":ie=this.loadBuffer(te);break;case"material":ie=this._invokeOne(function(se){return se.loadMaterial&&se.loadMaterial(te)});break;case"texture":ie=this._invokeOne(function(se){return se.loadTexture&&se.loadTexture(te)});break;case"skin":ie=this.loadSkin(te);break;case"animation":ie=this._invokeOne(function(se){return se.loadAnimation&&se.loadAnimation(te)});break;case"camera":ie=this.loadCamera(te);break;default:if(ie=this._invokeOne(function(se){return se!=this&&se.getDependency&&se.getDependency($,te)}),!ie)throw new Error("Unknown type: "+$);break}this.cache.add(ne,ie)}return ie}getDependencies($){let te=this.cache.get($);if(!te){const ne=this,ie=this.json[$+($==="mesh"?"es":"s")]||[];te=Promise.all(ie.map(function(se,le){return ne.getDependency($,le)})),this.cache.add($,te)}return te}loadBuffer($){const te=this.json.buffers[$],ne=this.fileLoader;if(te.type&&te.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+te.type+" buffer type is not supported.");if(te.uri===void 0&&$===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const ie=this.options;return new Promise(function(se,le){ne.load(LoaderUtils.resolveURL(te.uri,ie.path),se,void 0,function(){le(new Error('THREE.GLTFLoader: Failed to load buffer "'+te.uri+'".'))})})}loadBufferView($){const te=this.json.bufferViews[$];return this.getDependency("buffer",te.buffer).then(function(ne){const ie=te.byteLength||0,se=te.byteOffset||0;return ne.slice(se,se+ie)})}loadAccessor($){const te=this,ne=this.json,ie=this.json.accessors[$];if(ie.bufferView===void 0&&ie.sparse===void 0){const le=WEBGL_TYPE_SIZES[ie.type],oe=WEBGL_COMPONENT_TYPES[ie.componentType],ce=ie.normalized===!0,ae=new oe(ie.count*le);return Promise.resolve(new BufferAttribute(ae,le,ce))}const se=[];return ie.bufferView!==void 0?se.push(this.getDependency("bufferView",ie.bufferView)):se.push(null),ie.sparse!==void 0&&(se.push(this.getDependency("bufferView",ie.sparse.indices.bufferView)),se.push(this.getDependency("bufferView",ie.sparse.values.bufferView))),Promise.all(se).then(function(le){const oe=le[0],ce=WEBGL_TYPE_SIZES[ie.type],ae=WEBGL_COMPONENT_TYPES[ie.componentType],he=ae.BYTES_PER_ELEMENT,de=he*ce,pe=ie.byteOffset||0,re=ie.bufferView!==void 0?ne.bufferViews[ie.bufferView].byteStride:void 0,Ae=ie.normalized===!0;let ge,Se;if(re&&re!==de){const fe=Math.floor(pe/re),be="InterleavedBuffer:"+ie.bufferView+":"+ie.componentType+":"+fe+":"+ie.count;let xe=te.cache.get(be);xe||(ge=new ae(oe,fe*re,ie.count*re/he),xe=new InterleavedBuffer(ge,re/he),te.cache.add(be,xe)),Se=new InterleavedBufferAttribute(xe,ce,pe%re/he,Ae)}else oe===null?ge=new ae(ie.count*ce):ge=new ae(oe,pe,ie.count*ce),Se=new BufferAttribute(ge,ce,Ae);if(ie.sparse!==void 0){const fe=WEBGL_TYPE_SIZES.SCALAR,be=WEBGL_COMPONENT_TYPES[ie.sparse.indices.componentType],xe=ie.sparse.indices.byteOffset||0,ue=ie.sparse.values.byteOffset||0,we=new be(le[1],xe,ie.sparse.count*fe),Fe=new ae(le[2],ue,ie.sparse.count*ce);oe!==null&&(Se=new BufferAttribute(Se.array.slice(),Se.itemSize,Se.normalized)),Se.normalized=!1;for(let _e=0,Ee=we.length;_e<Ee;_e++){const Ce=we[_e];if(Se.setX(Ce,Fe[_e*ce]),ce>=2&&Se.setY(Ce,Fe[_e*ce+1]),ce>=3&&Se.setZ(Ce,Fe[_e*ce+2]),ce>=4&&Se.setW(Ce,Fe[_e*ce+3]),ce>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}Se.normalized=Ae}return Se})}loadTexture($){const te=this.json,ne=this.options,se=te.textures[$].source,le=te.images[se];let oe=this.textureLoader;if(le.uri){const ce=ne.manager.getHandler(le.uri);ce!==null&&(oe=ce)}return this.loadTextureImage($,se,oe)}loadTextureImage($,te,ne){const ie=this,se=this.json,le=se.textures[$],oe=se.images[te],ce=(oe.uri||oe.bufferView)+":"+le.sampler;if(this.textureCache[ce])return this.textureCache[ce];const ae=this.loadImageSource(te,ne).then(function(he){he.flipY=!1,he.name=le.name||oe.name||"",he.name===""&&typeof oe.uri=="string"&&oe.uri.startsWith("data:image/")===!1&&(he.name=oe.uri);const pe=(se.samplers||{})[le.sampler]||{};return he.magFilter=WEBGL_FILTERS[pe.magFilter]||LinearFilter,he.minFilter=WEBGL_FILTERS[pe.minFilter]||LinearMipmapLinearFilter,he.wrapS=WEBGL_WRAPPINGS[pe.wrapS]||RepeatWrapping,he.wrapT=WEBGL_WRAPPINGS[pe.wrapT]||RepeatWrapping,he.generateMipmaps=!he.isCompressedTexture&&he.minFilter!==NearestFilter&&he.minFilter!==LinearFilter,ie.associations.set(he,{textures:$}),he}).catch(function(){return null});return this.textureCache[ce]=ae,ae}loadImageSource($,te){const ne=this,ie=this.json,se=this.options;if(this.sourceCache[$]!==void 0)return this.sourceCache[$].then(de=>de.clone());const le=ie.images[$],oe=self.URL||self.webkitURL;let ce=le.uri||"",ae=!1;if(le.bufferView!==void 0)ce=ne.getDependency("bufferView",le.bufferView).then(function(de){ae=!0;const pe=new Blob([de],{type:le.mimeType});return ce=oe.createObjectURL(pe),ce});else if(le.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+$+" is missing URI and bufferView");const he=Promise.resolve(ce).then(function(de){return new Promise(function(pe,re){let Ae=pe;te.isImageBitmapLoader===!0&&(Ae=function(ge){const Se=new Texture(ge);Se.needsUpdate=!0,pe(Se)}),te.load(LoaderUtils.resolveURL(de,se.path),Ae,void 0,re)})}).then(function(de){return ae===!0&&oe.revokeObjectURL(ce),assignExtrasToUserData(de,le),de.userData.mimeType=le.mimeType||getImageURIMimeType(le.uri),de}).catch(function(de){throw console.error("THREE.GLTFLoader: Couldn't load texture",ce),de});return this.sourceCache[$]=he,he}assignTexture($,te,ne,ie){const se=this;return this.getDependency("texture",ne.index).then(function(le){if(!le)return null;if(ne.texCoord!==void 0&&ne.texCoord>0&&(le=le.clone(),le.channel=ne.texCoord),se.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const oe=ne.extensions!==void 0?ne.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(oe){const ce=se.associations.get(le);le=se.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(le,oe),se.associations.set(le,ce)}}return ie!==void 0&&(le.colorSpace=ie),$[te]=le,le})}assignFinalMaterial($){const te=$.geometry;let ne=$.material;const ie=te.attributes.tangent===void 0,se=te.attributes.color!==void 0,le=te.attributes.normal===void 0;if($.isPoints){const oe="PointsMaterial:"+ne.uuid;let ce=this.cache.get(oe);ce||(ce=new PointsMaterial,Material.prototype.copy.call(ce,ne),ce.color.copy(ne.color),ce.map=ne.map,ce.sizeAttenuation=!1,this.cache.add(oe,ce)),ne=ce}else if($.isLine){const oe="LineBasicMaterial:"+ne.uuid;let ce=this.cache.get(oe);ce||(ce=new LineBasicMaterial,Material.prototype.copy.call(ce,ne),ce.color.copy(ne.color),ce.map=ne.map,this.cache.add(oe,ce)),ne=ce}if(ie||se||le){let oe="ClonedMaterial:"+ne.uuid+":";ie&&(oe+="derivative-tangents:"),se&&(oe+="vertex-colors:"),le&&(oe+="flat-shading:");let ce=this.cache.get(oe);ce||(ce=ne.clone(),se&&(ce.vertexColors=!0),le&&(ce.flatShading=!0),ie&&(ce.normalScale&&(ce.normalScale.y*=-1),ce.clearcoatNormalScale&&(ce.clearcoatNormalScale.y*=-1)),this.cache.add(oe,ce),this.associations.set(ce,this.associations.get(ne))),ne=ce}$.material=ne}getMaterialType(){return MeshStandardMaterial}loadMaterial($){const te=this,ne=this.json,ie=this.extensions,se=ne.materials[$];let le;const oe={},ce=se.extensions||{},ae=[];if(ce[EXTENSIONS.KHR_MATERIALS_UNLIT]){const de=ie[EXTENSIONS.KHR_MATERIALS_UNLIT];le=de.getMaterialType(),ae.push(de.extendParams(oe,se,te))}else{const de=se.pbrMetallicRoughness||{};if(oe.color=new Color(1,1,1),oe.opacity=1,Array.isArray(de.baseColorFactor)){const pe=de.baseColorFactor;oe.color.setRGB(pe[0],pe[1],pe[2],LinearSRGBColorSpace),oe.opacity=pe[3]}de.baseColorTexture!==void 0&&ae.push(te.assignTexture(oe,"map",de.baseColorTexture,SRGBColorSpace)),oe.metalness=de.metallicFactor!==void 0?de.metallicFactor:1,oe.roughness=de.roughnessFactor!==void 0?de.roughnessFactor:1,de.metallicRoughnessTexture!==void 0&&(ae.push(te.assignTexture(oe,"metalnessMap",de.metallicRoughnessTexture)),ae.push(te.assignTexture(oe,"roughnessMap",de.metallicRoughnessTexture))),le=this._invokeOne(function(pe){return pe.getMaterialType&&pe.getMaterialType($)}),ae.push(Promise.all(this._invokeAll(function(pe){return pe.extendMaterialParams&&pe.extendMaterialParams($,oe)})))}se.doubleSided===!0&&(oe.side=DoubleSide);const he=se.alphaMode||ALPHA_MODES.OPAQUE;if(he===ALPHA_MODES.BLEND?(oe.transparent=!0,oe.depthWrite=!1):(oe.transparent=!1,he===ALPHA_MODES.MASK&&(oe.alphaTest=se.alphaCutoff!==void 0?se.alphaCutoff:.5)),se.normalTexture!==void 0&&le!==MeshBasicMaterial&&(ae.push(te.assignTexture(oe,"normalMap",se.normalTexture)),oe.normalScale=new Vector2(1,1),se.normalTexture.scale!==void 0)){const de=se.normalTexture.scale;oe.normalScale.set(de,de)}if(se.occlusionTexture!==void 0&&le!==MeshBasicMaterial&&(ae.push(te.assignTexture(oe,"aoMap",se.occlusionTexture)),se.occlusionTexture.strength!==void 0&&(oe.aoMapIntensity=se.occlusionTexture.strength)),se.emissiveFactor!==void 0&&le!==MeshBasicMaterial){const de=se.emissiveFactor;oe.emissive=new Color().setRGB(de[0],de[1],de[2],LinearSRGBColorSpace)}return se.emissiveTexture!==void 0&&le!==MeshBasicMaterial&&ae.push(te.assignTexture(oe,"emissiveMap",se.emissiveTexture,SRGBColorSpace)),Promise.all(ae).then(function(){const de=new le(oe);return se.name&&(de.name=se.name),assignExtrasToUserData(de,se),te.associations.set(de,{materials:$}),se.extensions&&addUnknownExtensionsToUserData(ie,de,se),de})}createUniqueName($){const te=PropertyBinding.sanitizeNodeName($||"");return te in this.nodeNamesUsed?te+"_"+ ++this.nodeNamesUsed[te]:(this.nodeNamesUsed[te]=0,te)}loadGeometries($){const te=this,ne=this.extensions,ie=this.primitiveCache;function se(oe){return ne[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(oe,te).then(function(ce){return addPrimitiveAttributes(ce,oe,te)})}const le=[];for(let oe=0,ce=$.length;oe<ce;oe++){const ae=$[oe],he=createPrimitiveKey(ae),de=ie[he];if(de)le.push(de.promise);else{let pe;ae.extensions&&ae.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?pe=se(ae):pe=addPrimitiveAttributes(new BufferGeometry,ae,te),ie[he]={primitive:ae,promise:pe},le.push(pe)}}return Promise.all(le)}loadMesh($){const te=this,ne=this.json,ie=this.extensions,se=ne.meshes[$],le=se.primitives,oe=[];for(let ce=0,ae=le.length;ce<ae;ce++){const he=le[ce].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",le[ce].material);oe.push(he)}return oe.push(te.loadGeometries(le)),Promise.all(oe).then(function(ce){const ae=ce.slice(0,ce.length-1),he=ce[ce.length-1],de=[];for(let re=0,Ae=he.length;re<Ae;re++){const ge=he[re],Se=le[re];let fe;const be=ae[re];if(Se.mode===WEBGL_CONSTANTS.TRIANGLES||Se.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||Se.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||Se.mode===void 0)fe=se.isSkinnedMesh===!0?new SkinnedMesh(ge,be):new Mesh(ge,be),fe.isSkinnedMesh===!0&&fe.normalizeSkinWeights(),Se.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?fe.geometry=toTrianglesDrawMode(fe.geometry,TriangleStripDrawMode):Se.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(fe.geometry=toTrianglesDrawMode(fe.geometry,TriangleFanDrawMode));else if(Se.mode===WEBGL_CONSTANTS.LINES)fe=new LineSegments(ge,be);else if(Se.mode===WEBGL_CONSTANTS.LINE_STRIP)fe=new Line(ge,be);else if(Se.mode===WEBGL_CONSTANTS.LINE_LOOP)fe=new LineLoop(ge,be);else if(Se.mode===WEBGL_CONSTANTS.POINTS)fe=new Points(ge,be);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+Se.mode);Object.keys(fe.geometry.morphAttributes).length>0&&updateMorphTargets(fe,se),fe.name=te.createUniqueName(se.name||"mesh_"+$),assignExtrasToUserData(fe,se),Se.extensions&&addUnknownExtensionsToUserData(ie,fe,Se),te.assignFinalMaterial(fe),de.push(fe)}for(let re=0,Ae=de.length;re<Ae;re++)te.associations.set(de[re],{meshes:$,primitives:re});if(de.length===1)return se.extensions&&addUnknownExtensionsToUserData(ie,de[0],se),de[0];const pe=new Group;se.extensions&&addUnknownExtensionsToUserData(ie,pe,se),te.associations.set(pe,{meshes:$});for(let re=0,Ae=de.length;re<Ae;re++)pe.add(de[re]);return pe})}loadCamera($){let te;const ne=this.json.cameras[$],ie=ne[ne.type];if(!ie){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return ne.type==="perspective"?te=new PerspectiveCamera(MathUtils.radToDeg(ie.yfov),ie.aspectRatio||1,ie.znear||1,ie.zfar||2e6):ne.type==="orthographic"&&(te=new OrthographicCamera(-ie.xmag,ie.xmag,ie.ymag,-ie.ymag,ie.znear,ie.zfar)),ne.name&&(te.name=this.createUniqueName(ne.name)),assignExtrasToUserData(te,ne),Promise.resolve(te)}loadSkin($){const te=this.json.skins[$],ne=[];for(let ie=0,se=te.joints.length;ie<se;ie++)ne.push(this._loadNodeShallow(te.joints[ie]));return te.inverseBindMatrices!==void 0?ne.push(this.getDependency("accessor",te.inverseBindMatrices)):ne.push(null),Promise.all(ne).then(function(ie){const se=ie.pop(),le=ie,oe=[],ce=[];for(let ae=0,he=le.length;ae<he;ae++){const de=le[ae];if(de){oe.push(de);const pe=new Matrix4;se!==null&&pe.fromArray(se.array,ae*16),ce.push(pe)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',te.joints[ae])}return new Skeleton$1(oe,ce)})}loadAnimation($){const te=this.json,ne=this,ie=te.animations[$],se=ie.name?ie.name:"animation_"+$,le=[],oe=[],ce=[],ae=[],he=[];for(let de=0,pe=ie.channels.length;de<pe;de++){const re=ie.channels[de],Ae=ie.samplers[re.sampler],ge=re.target,Se=ge.node,fe=ie.parameters!==void 0?ie.parameters[Ae.input]:Ae.input,be=ie.parameters!==void 0?ie.parameters[Ae.output]:Ae.output;ge.node!==void 0&&(le.push(this.getDependency("node",Se)),oe.push(this.getDependency("accessor",fe)),ce.push(this.getDependency("accessor",be)),ae.push(Ae),he.push(ge))}return Promise.all([Promise.all(le),Promise.all(oe),Promise.all(ce),Promise.all(ae),Promise.all(he)]).then(function(de){const pe=de[0],re=de[1],Ae=de[2],ge=de[3],Se=de[4],fe=[];for(let be=0,xe=pe.length;be<xe;be++){const ue=pe[be],we=re[be],Fe=Ae[be],_e=ge[be],Ee=Se[be];if(ue===void 0)continue;ue.updateMatrix&&ue.updateMatrix();const Ce=ne._createAnimationTracks(ue,we,Fe,_e,Ee);if(Ce)for(let ye=0;ye<Ce.length;ye++)fe.push(Ce[ye])}return new AnimationClip(se,void 0,fe)})}createNodeMesh($){const te=this.json,ne=this,ie=te.nodes[$];return ie.mesh===void 0?null:ne.getDependency("mesh",ie.mesh).then(function(se){const le=ne._getNodeRef(ne.meshCache,ie.mesh,se);return ie.weights!==void 0&&le.traverse(function(oe){if(oe.isMesh)for(let ce=0,ae=ie.weights.length;ce<ae;ce++)oe.morphTargetInfluences[ce]=ie.weights[ce]}),le})}loadNode($){const te=this.json,ne=this,ie=te.nodes[$],se=ne._loadNodeShallow($),le=[],oe=ie.children||[];for(let ae=0,he=oe.length;ae<he;ae++)le.push(ne.getDependency("node",oe[ae]));const ce=ie.skin===void 0?Promise.resolve(null):ne.getDependency("skin",ie.skin);return Promise.all([se,Promise.all(le),ce]).then(function(ae){const he=ae[0],de=ae[1],pe=ae[2];pe!==null&&he.traverse(function(re){re.isSkinnedMesh&&re.bind(pe,_identityMatrix)});for(let re=0,Ae=de.length;re<Ae;re++)he.add(de[re]);return he})}_loadNodeShallow($){const te=this.json,ne=this.extensions,ie=this;if(this.nodeCache[$]!==void 0)return this.nodeCache[$];const se=te.nodes[$],le=se.name?ie.createUniqueName(se.name):"",oe=[],ce=ie._invokeOne(function(ae){return ae.createNodeMesh&&ae.createNodeMesh($)});return ce&&oe.push(ce),se.camera!==void 0&&oe.push(ie.getDependency("camera",se.camera).then(function(ae){return ie._getNodeRef(ie.cameraCache,se.camera,ae)})),ie._invokeAll(function(ae){return ae.createNodeAttachment&&ae.createNodeAttachment($)}).forEach(function(ae){oe.push(ae)}),this.nodeCache[$]=Promise.all(oe).then(function(ae){let he;if(se.isBone===!0?he=new Bone:ae.length>1?he=new Group:ae.length===1?he=ae[0]:he=new Object3D,he!==ae[0])for(let de=0,pe=ae.length;de<pe;de++)he.add(ae[de]);if(se.name&&(he.userData.name=se.name,he.name=le),assignExtrasToUserData(he,se),se.extensions&&addUnknownExtensionsToUserData(ne,he,se),se.matrix!==void 0){const de=new Matrix4;de.fromArray(se.matrix),he.applyMatrix4(de)}else se.translation!==void 0&&he.position.fromArray(se.translation),se.rotation!==void 0&&he.quaternion.fromArray(se.rotation),se.scale!==void 0&&he.scale.fromArray(se.scale);return ie.associations.has(he)||ie.associations.set(he,{}),ie.associations.get(he).nodes=$,he}),this.nodeCache[$]}loadScene($){const te=this.extensions,ne=this.json.scenes[$],ie=this,se=new Group;ne.name&&(se.name=ie.createUniqueName(ne.name)),assignExtrasToUserData(se,ne),ne.extensions&&addUnknownExtensionsToUserData(te,se,ne);const le=ne.nodes||[],oe=[];for(let ce=0,ae=le.length;ce<ae;ce++)oe.push(ie.getDependency("node",le[ce]));return Promise.all(oe).then(function(ce){for(let he=0,de=ce.length;he<de;he++)se.add(ce[he]);const ae=he=>{const de=new Map;for(const[pe,re]of ie.associations)(pe instanceof Material||pe instanceof Texture)&&de.set(pe,re);return he.traverse(pe=>{const re=ie.associations.get(pe);re!=null&&de.set(pe,re)}),de};return ie.associations=ae(se),se})}_createAnimationTracks($,te,ne,ie,se){const le=[],oe=$.name?$.name:$.uuid,ce=[];PATH_PROPERTIES[se.path]===PATH_PROPERTIES.weights?$.traverse(function(pe){pe.morphTargetInfluences&&ce.push(pe.name?pe.name:pe.uuid)}):ce.push(oe);let ae;switch(PATH_PROPERTIES[se.path]){case PATH_PROPERTIES.weights:ae=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:ae=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:ae=VectorKeyframeTrack;break;default:switch(ne.itemSize){case 1:ae=NumberKeyframeTrack;break;case 2:case 3:default:ae=VectorKeyframeTrack;break}break}const he=ie.interpolation!==void 0?INTERPOLATION[ie.interpolation]:InterpolateLinear,de=this._getArrayFromAccessor(ne);for(let pe=0,re=ce.length;pe<re;pe++){const Ae=new ae(ce[pe]+"."+PATH_PROPERTIES[se.path],te.array,de,he);ie.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(Ae),le.push(Ae)}return le}_getArrayFromAccessor($){let te=$.array;if($.normalized){const ne=getNormalizedComponentScale(te.constructor),ie=new Float32Array(te.length);for(let se=0,le=te.length;se<le;se++)ie[se]=te[se]*ne;te=ie}return te}_createCubicSplineTrackInterpolant($){$.createInterpolant=function(ne){const ie=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new ie(this.times,this.values,this.getValueSize()/3,ne)},$.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function computeBounds(ee,$,te){const ne=$.attributes,ie=new Box3;if(ne.POSITION!==void 0){const oe=te.json.accessors[ne.POSITION],ce=oe.min,ae=oe.max;if(ce!==void 0&&ae!==void 0){if(ie.set(new Vector3(ce[0],ce[1],ce[2]),new Vector3(ae[0],ae[1],ae[2])),oe.normalized){const he=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[oe.componentType]);ie.min.multiplyScalar(he),ie.max.multiplyScalar(he)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const se=$.targets;if(se!==void 0){const oe=new Vector3,ce=new Vector3;for(let ae=0,he=se.length;ae<he;ae++){const de=se[ae];if(de.POSITION!==void 0){const pe=te.json.accessors[de.POSITION],re=pe.min,Ae=pe.max;if(re!==void 0&&Ae!==void 0){if(ce.setX(Math.max(Math.abs(re[0]),Math.abs(Ae[0]))),ce.setY(Math.max(Math.abs(re[1]),Math.abs(Ae[1]))),ce.setZ(Math.max(Math.abs(re[2]),Math.abs(Ae[2]))),pe.normalized){const ge=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[pe.componentType]);ce.multiplyScalar(ge)}oe.max(ce)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}ie.expandByVector(oe)}ee.boundingBox=ie;const le=new Sphere;ie.getCenter(le.center),le.radius=ie.min.distanceTo(ie.max)/2,ee.boundingSphere=le}function addPrimitiveAttributes(ee,$,te){const ne=$.attributes,ie=[];function se(le,oe){return te.getDependency("accessor",le).then(function(ce){ee.setAttribute(oe,ce)})}for(const le in ne){const oe=ATTRIBUTES[le]||le.toLowerCase();oe in ee.attributes||ie.push(se(ne[le],oe))}if($.indices!==void 0&&!ee.index){const le=te.getDependency("accessor",$.indices).then(function(oe){ee.setIndex(oe)});ie.push(le)}return ColorManagement.workingColorSpace!==LinearSRGBColorSpace&&"COLOR_0"in ne&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${ColorManagement.workingColorSpace}" not supported.`),assignExtrasToUserData(ee,$),computeBounds(ee,$,te),Promise.all(ie).then(function(){return $.targets!==void 0?addMorphTargets(ee,$.targets,te):ee})}function Laptop(){const ee=useLoader(GLTFLoader,"/models/laptop.glb"),$=reactExports.useRef();return useFrame(()=>{$.current&&($.current.rotation.y+=.01)}),jsxRuntimeExports.jsx("primitive",{ref:$,object:ee.scene,scale:1.5})}function LaptopScene(){return jsxRuntimeExports.jsxs(Canvas,{camera:{position:[0,5,10]},children:[jsxRuntimeExports.jsx("ambientLight",{intensity:2}),jsxRuntimeExports.jsx("directionalLight",{position:[5,5,5],intensity:2}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:null,children:jsxRuntimeExports.jsx(Laptop,{})}),jsxRuntimeExports.jsx(OrbitControls,{enableZoom:!1})]})}const logo="/assets/logo-BfFNRwAu.jpg";function SiC(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.5921 9.1962s-.354-3.298-3.627-3.39c-3.2741-.09-4.9552 2.474-4.9552 6.14 0 3.6651 1.858 6.5972 5.0451 6.5972 3.184 0 3.5381-3.665 3.5381-3.665l6.1041.365s.36 3.31-2.196 5.836c-2.552 2.5241-5.6901 2.9371-7.8762 2.9201-2.19-.017-5.2261.034-8.1602-2.97-2.938-3.0101-3.436-5.9302-3.436-8.8002 0-2.8701.556-6.6702 4.047-9.5502C7.444.72 9.849 0 12.254 0c10.0422 0 10.7172 9.2602 10.7172 9.2602z"},child:[]}]})(ee)}function SiDocker(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"},child:[]}]})(ee)}function SiExpress(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 18.588a1.529 1.529 0 01-1.895-.72l-3.45-4.771-.5-.667-4.003 5.444a1.466 1.466 0 01-1.802.708l5.158-6.92-4.798-6.251a1.595 1.595 0 011.9.666l3.576 4.83 3.596-4.81a1.435 1.435 0 011.788-.668L21.708 7.9l-2.522 3.283a.666.666 0 000 .994l4.804 6.412zM.002 11.576l.42-2.075c1.154-4.103 5.858-5.81 9.094-3.27 1.895 1.489 2.368 3.597 2.275 5.973H1.116C.943 16.447 4.005 19.009 7.92 17.7a4.078 4.078 0 002.582-2.876c.207-.666.548-.78 1.174-.588a5.417 5.417 0 01-2.589 3.957 6.272 6.272 0 01-7.306-.933 6.575 6.575 0 01-1.64-3.858c0-.235-.08-.455-.134-.666A88.33 88.33 0 010 11.577zm1.127-.286h9.654c-.06-3.076-2.001-5.258-4.59-5.278-2.882-.04-4.944 2.094-5.071 5.264z"},child:[]}]})(ee)}function SiGit(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187"},child:[]}]})(ee)}function SiGo(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M1.811 10.231c-.047 0-.058-.023-.035-.059l.246-.315c.023-.035.081-.058.128-.058h4.172c.046 0 .058.035.035.07l-.199.303c-.023.036-.082.07-.117.07zM.047 11.306c-.047 0-.059-.023-.035-.058l.245-.316c.023-.035.082-.058.129-.058h5.328c.047 0 .07.035.058.07l-.093.28c-.012.047-.058.07-.105.07zm2.828 1.075c-.047 0-.059-.035-.035-.07l.163-.292c.023-.035.07-.07.117-.07h2.337c.047 0 .07.035.07.082l-.023.28c0 .047-.047.082-.082.082zm12.129-2.36c-.736.187-1.239.327-1.963.514-.176.046-.187.058-.34-.117-.174-.199-.303-.327-.548-.444-.737-.362-1.45-.257-2.115.175-.795.514-1.204 1.274-1.192 2.22.011.935.654 1.706 1.577 1.835.795.105 1.46-.175 1.987-.77.105-.13.198-.27.315-.434H10.47c-.245 0-.304-.152-.222-.35.152-.362.432-.97.596-1.274a.315.315 0 01.292-.187h4.253c-.023.316-.023.631-.07.947a4.983 4.983 0 01-.958 2.29c-.841 1.11-1.94 1.8-3.33 1.986-1.145.152-2.209-.07-3.143-.77-.865-.655-1.356-1.52-1.484-2.595-.152-1.274.222-2.419.993-3.424.83-1.086 1.928-1.776 3.272-2.02 1.098-.2 2.15-.07 3.096.571.62.41 1.063.97 1.356 1.648.07.105.023.164-.117.2m3.868 6.461c-1.064-.024-2.034-.328-2.852-1.029a3.665 3.665 0 01-1.262-2.255c-.21-1.32.152-2.489.947-3.529.853-1.122 1.881-1.706 3.272-1.95 1.192-.21 2.314-.095 3.33.595.923.63 1.496 1.484 1.648 2.605.198 1.578-.257 2.863-1.344 3.962-.771.783-1.718 1.273-2.805 1.495-.315.06-.63.07-.934.106zm2.78-4.72c-.011-.153-.011-.27-.034-.387-.21-1.157-1.274-1.81-2.384-1.554-1.087.245-1.788.935-2.045 2.033-.21.912.234 1.835 1.075 2.21.643.28 1.285.244 1.905-.07.923-.48 1.425-1.228 1.484-2.233z"},child:[]}]})(ee)}function SiGooglecloud(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.19 2.38a9.344 9.344 0 0 0-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.11-.247 10.941l.006-.007-.007.03a6.717 6.717 0 0 0 4.077 1.356h5.173l.03.03h5.192c6.687.053 9.376-8.605 3.835-12.35a9.365 9.365 0 0 0-2.821-4.552l-.043.043.006-.05A9.344 9.344 0 0 0 12.19 2.38zm-.358 4.146c1.244-.04 2.518.368 3.486 1.15a5.186 5.186 0 0 1 1.862 4.078v.518c3.53-.07 3.53 5.262 0 5.193h-5.193l-.008.009v-.04H6.785a2.59 2.59 0 0 1-1.067-.23h.001a2.597 2.597 0 1 1 3.437-3.437l3.013-3.012A6.747 6.747 0 0 0 8.11 8.24c.018-.01.04-.026.054-.023a5.186 5.186 0 0 1 3.67-1.69z"},child:[]}]})(ee)}function SiLinux(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.424.424 0 00-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.132 1.884 1.071.771-.06 1.592-.536 2.257-1.306.631-.765 1.683-1.084 2.378-1.503.348-.199.629-.469.649-.853.023-.4-.2-.811-.714-1.376v-.097l-.003-.003c-.17-.2-.25-.535-.338-.926-.085-.401-.182-.786-.492-1.046h-.003c-.059-.054-.123-.067-.188-.135a.357.357 0 00-.19-.064c.431-1.278.264-2.55-.173-3.694-.533-1.41-1.465-2.638-2.175-3.483-.796-1.005-1.576-1.957-1.56-3.368.026-2.152.236-6.133-3.544-6.139zm.529 3.405h.013c.213 0 .396.062.584.198.19.135.33.332.438.533.105.259.158.459.166.724 0-.02.006-.04.006-.06v.105a.086.086 0 01-.004-.021l-.004-.024a1.807 1.807 0 01-.15.706.953.953 0 01-.213.335.71.71 0 00-.088-.042c-.104-.045-.198-.064-.284-.133a1.312 1.312 0 00-.22-.066c.05-.06.146-.133.183-.198.053-.128.082-.264.088-.402v-.02a1.21 1.21 0 00-.061-.4c-.045-.134-.101-.2-.183-.333-.084-.066-.167-.132-.267-.132h-.016c-.093 0-.176.03-.262.132a.8.8 0 00-.205.334 1.18 1.18 0 00-.09.4v.019c.002.089.008.179.02.267-.193-.067-.438-.135-.607-.202a1.635 1.635 0 01-.018-.2v-.02a1.772 1.772 0 01.15-.768c.082-.22.232-.406.43-.533a.985.985 0 01.594-.2zm-2.962.059h.036c.142 0 .27.048.399.135.146.129.264.288.344.465.09.199.14.4.153.667v.004c.007.134.006.2-.002.266v.08c-.03.007-.056.018-.083.024-.152.055-.274.135-.393.2.012-.09.013-.18.003-.267v-.015c-.012-.133-.04-.2-.082-.333a.613.613 0 00-.166-.267.248.248 0 00-.183-.064h-.021c-.071.006-.13.04-.186.132a.552.552 0 00-.12.27.944.944 0 00-.023.33v.015c.012.135.037.2.08.334.046.134.098.2.166.268.01.009.02.018.034.024-.07.057-.117.07-.176.136a.304.304 0 01-.131.068 2.62 2.62 0 01-.275-.402 1.772 1.772 0 01-.155-.667 1.759 1.759 0 01.08-.668 1.43 1.43 0 01.283-.535c.128-.133.26-.2.418-.2zm1.37 1.706c.332 0 .733.065 1.216.399.293.2.523.269 1.052.468h.003c.255.136.405.266.478.399v-.131a.571.571 0 01.016.47c-.123.31-.516.643-1.063.842v.002c-.268.135-.501.333-.775.465-.276.135-.588.292-1.012.267a1.139 1.139 0 01-.448-.067 3.566 3.566 0 01-.322-.198c-.195-.135-.363-.332-.612-.465v-.005h-.005c-.4-.246-.616-.512-.686-.71-.07-.268-.005-.47.193-.6.224-.135.38-.271.483-.336.104-.074.143-.102.176-.131h.002v-.003c.169-.202.436-.47.839-.601.139-.036.294-.065.466-.065zm2.8 2.142c.358 1.417 1.196 3.475 1.735 4.473.286.534.855 1.659 1.102 3.024.156-.005.33.018.513.064.646-1.671-.546-3.467-1.089-3.966-.22-.2-.232-.335-.123-.335.59.534 1.365 1.572 1.646 2.757.13.535.16 1.104.021 1.67.067.028.135.06.205.067 1.032.534 1.413.938 1.23 1.537v-.043c-.06-.003-.12 0-.18 0h-.016c.151-.467-.182-.825-1.065-1.224-.915-.4-1.646-.336-1.77.465-.008.043-.013.066-.018.135-.068.023-.139.053-.209.064-.43.268-.662.669-.793 1.187-.13.533-.17 1.156-.205 1.869v.003c-.02.334-.17.838-.319 1.35-1.5 1.072-3.58 1.538-5.348.334a2.645 2.645 0 00-.402-.533 1.45 1.45 0 00-.275-.333c.182 0 .338-.03.465-.067a.615.615 0 00.314-.334c.108-.267 0-.697-.345-1.163-.345-.467-.931-.995-1.788-1.521-.63-.4-.986-.87-1.15-1.396-.165-.534-.143-1.085-.015-1.645.245-1.07.873-2.11 1.274-2.763.107-.065.037.135-.408.974-.396.751-1.14 2.497-.122 3.854a8.123 8.123 0 01.647-2.876c.564-1.278 1.743-3.504 1.836-5.268.048.036.217.135.289.202.218.133.38.333.59.465.21.201.477.335.876.335.039.003.075.006.11.006.412 0 .73-.134.997-.268.29-.134.52-.334.74-.4h.005c.467-.135.835-.402 1.044-.7zm2.185 8.958c.037.6.343 1.245.882 1.377.588.134 1.434-.333 1.791-.765l.211-.01c.315-.007.577.01.847.268l.003.003c.208.199.305.53.391.876.085.4.154.78.409 1.066.486.527.645.906.636 1.14l.003-.007v.018l-.003-.012c-.015.262-.185.396-.498.595-.63.401-1.746.712-2.457 1.57-.618.737-1.37 1.14-2.036 1.191-.664.053-1.237-.2-1.574-.898l-.005-.003c-.21-.4-.12-1.025.056-1.69.176-.668.428-1.344.463-1.897.037-.714.076-1.335.195-1.814.12-.465.308-.797.641-.984l.045-.022zm-10.814.049h.01c.053 0 .105.005.157.014.376.055.706.333 1.023.752l.91 1.664.003.003c.243.533.754 1.064 1.189 1.637.434.598.77 1.131.729 1.57v.006c-.057.744-.48 1.148-1.125 1.294-.645.135-1.52.002-2.395-.464-.968-.536-2.118-.469-2.857-.602-.369-.066-.61-.2-.723-.4-.11-.2-.113-.602.123-1.23v-.004l.002-.003c.117-.334.03-.752-.027-1.118-.055-.401-.083-.71.043-.94.16-.334.396-.4.69-.533.294-.135.64-.202.915-.47h.002v-.002c.256-.268.445-.601.668-.838.19-.201.38-.336.663-.336zm7.159-9.074c-.435.201-.945.535-1.488.535-.542 0-.97-.267-1.28-.466-.154-.134-.28-.268-.373-.335-.164-.134-.144-.333-.074-.333.109.016.129.134.199.2.096.066.215.2.36.333.292.2.68.467 1.167.467.485 0 1.053-.267 1.398-.466.195-.135.445-.334.648-.467.156-.136.149-.267.279-.267.128.016.034.134-.147.332a8.097 8.097 0 01-.69.468zm-1.082-1.583V5.64c-.006-.02.013-.042.029-.05.074-.043.18-.027.26.004.063 0 .16.067.15.135-.006.049-.085.066-.135.066-.055 0-.092-.043-.141-.068-.052-.018-.146-.008-.163-.065zm-.551 0c-.02.058-.113.049-.166.066-.047.025-.086.068-.14.068-.05 0-.13-.02-.136-.068-.01-.066.088-.133.15-.133.08-.031.184-.047.259-.005.019.009.036.03.03.05v.02h.003z"},child:[]}]})(ee)}function SiMongodb(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z"},child:[]}]})(ee)}function SiNodedotjs(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.076 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.108-0.116,2.108-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.57,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.273-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,1.607c0.024,0.115,0.129,0.199,0.247,0.199h1.141c0.071,0,0.138-0.031,0.186-0.081 c0.048-0.054,0.074-0.123,0.067-0.196c-0.177-2.098-1.571-3.076-4.388-3.076c-2.508,0-4.004,1.058-4.004,2.833 c0,1.925,1.488,2.457,3.895,2.695c2.88,0.282,3.103,0.703,3.103,1.269c0,0.983-0.789,1.402-2.642,1.402 c-2.327,0-2.839-0.584-3.011-1.742c-0.02-0.124-0.126-0.215-0.253-0.215h-1.137c-0.141,0-0.254,0.112-0.254,0.253 c0,1.482,0.806,3.248,4.655,3.248C17.501,17.007,19.099,15.91,19.099,13.993z"},child:[]}]})(ee)}function SiPostgresql(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 0 0-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4794a9.449 9.449 0 0 0-.5159-.0816 8.044 8.044 0 0 0-1.3114-.1278c-1.1822-.0184-2.2038.2642-3.0498.8406-.8573-.3211-4.7888-1.645-7.2219.0788C.9359 2.1526.3086 3.8733.4302 6.3043c.0409.818.5069 3.334 1.2423 5.7436.4598 1.5065.9387 2.7019 1.4334 3.582.553.9942 1.1259 1.5933 1.7143 1.7895.4474.1491 1.1327.1441 1.8581-.7279.8012-.9635 1.5903-1.8258 1.9446-2.2069.4351.2355.9064.3625 1.39.3772a.0569.0569 0 0 0 .0004.0041 11.0312 11.0312 0 0 0-.2472.3054c-.3389.4302-.4094.5197-1.5002.7443-.3102.064-1.1344.2339-1.1464.8115-.0025.1224.0329.2309.0919.3268.2269.4231.9216.6097 1.015.6331 1.3345.3335 2.5044.092 3.3714-.6787-.017 2.231.0775 4.4174.3454 5.0874.2212.5529.7618 1.9045 2.4692 1.9043.2505 0 .5263-.0291.8296-.0941 1.7819-.3821 2.5557-1.1696 2.855-2.9059.1503-.8707.4016-2.8753.5388-4.1012.0169-.0703.0357-.1207.057-.1362.0007-.0005.0697-.0471.4272.0307a.3673.3673 0 0 0 .0443.0068l.2539.0223.0149.001c.8468.0384 1.9114-.1426 2.5312-.4308.6438-.2988 1.8057-1.0323 1.5951-1.6698zM2.371 11.8765c-.7435-2.4358-1.1779-4.8851-1.2123-5.5719-.1086-2.1714.4171-3.6829 1.5623-4.4927 1.8367-1.2986 4.8398-.5408 6.108-.13-.0032.0032-.0066.0061-.0098.0094-2.0238 2.044-1.9758 5.536-1.9708 5.7495-.0002.0823.0066.1989.0162.3593.0348.5873.0996 1.6804-.0735 2.9184-.1609 1.1504.1937 2.2764.9728 3.0892.0806.0841.1648.1631.2518.2374-.3468.3714-1.1004 1.1926-1.9025 2.1576-.5677.6825-.9597.5517-1.0886.5087-.3919-.1307-.813-.5871-1.2381-1.3223-.4796-.839-.9635-2.0317-1.4155-3.5126zm6.0072 5.0871c-.1711-.0428-.3271-.1132-.4322-.1772.0889-.0394.2374-.0902.4833-.1409 1.2833-.2641 1.4815-.4506 1.9143-1.0002.0992-.126.2116-.2687.3673-.4426a.3549.3549 0 0 0 .0737-.1298c.1708-.1513.2724-.1099.4369-.0417.156.0646.3078.26.3695.4752.0291.1016.0619.2945-.0452.4444-.9043 1.2658-2.2216 1.2494-3.1676 1.0128zm2.094-3.988-.0525.141c-.133.3566-.2567.6881-.3334 1.003-.6674-.0021-1.3168-.2872-1.8105-.8024-.6279-.6551-.9131-1.5664-.7825-2.5004.1828-1.3079.1153-2.4468.079-3.0586-.005-.0857-.0095-.1607-.0122-.2199.2957-.2621 1.6659-.9962 2.6429-.7724.4459.1022.7176.4057.8305.928.5846 2.7038.0774 3.8307-.3302 4.7363-.084.1866-.1633.3629-.2311.5454zm7.3637 4.5725c-.0169.1768-.0358.376-.0618.5959l-.146.4383a.3547.3547 0 0 0-.0182.1077c-.0059.4747-.054.6489-.115.8693-.0634.2292-.1353.4891-.1794 1.0575-.11 1.4143-.8782 2.2267-2.4172 2.5565-1.5155.3251-1.7843-.4968-2.0212-1.2217a6.5824 6.5824 0 0 0-.0769-.2266c-.2154-.5858-.1911-1.4119-.1574-2.5551.0165-.5612-.0249-1.9013-.3302-2.6462.0044-.2932.0106-.5909.019-.8918a.3529.3529 0 0 0-.0153-.1126 1.4927 1.4927 0 0 0-.0439-.208c-.1226-.4283-.4213-.7866-.7797-.9351-.1424-.059-.4038-.1672-.7178-.0869.067-.276.1831-.5875.309-.9249l.0529-.142c.0595-.16.134-.3257.213-.5012.4265-.9476 1.0106-2.2453.3766-5.1772-.2374-1.0981-1.0304-1.6343-2.2324-1.5098-.7207.0746-1.3799.3654-1.7088.5321a5.6716 5.6716 0 0 0-.1958.1041c.0918-1.1064.4386-3.1741 1.7357-4.4823a4.0306 4.0306 0 0 1 .3033-.276.3532.3532 0 0 0 .1447-.0644c.7524-.5706 1.6945-.8506 2.802-.8325.4091.0067.8017.0339 1.1742.081 1.939.3544 3.2439 1.4468 4.0359 2.3827.8143.9623 1.2552 1.9315 1.4312 2.4543-1.3232-.1346-2.2234.1268-2.6797.779-.9926 1.4189.543 4.1729 1.2811 5.4964.1353.2426.2522.4522.2889.5413.2403.5825.5515.9713.7787 1.2552.0696.087.1372.1714.1885.245-.4008.1155-1.1208.3825-1.0552 1.717-.0123.1563-.0423.4469-.0834.8148-.0461.2077-.0702.4603-.0994.7662zm.8905-1.6211c-.0405-.8316.2691-.9185.5967-1.0105a2.8566 2.8566 0 0 0 .135-.0406 1.202 1.202 0 0 0 .1342.103c.5703.3765 1.5823.4213 3.0068.1344-.2016.1769-.5189.3994-.9533.6011-.4098.1903-1.0957.333-1.7473.3636-.7197.0336-1.0859-.0807-1.1721-.151zm.5695-9.2712c-.0059.3508-.0542.6692-.1054 1.0017-.055.3576-.112.7274-.1264 1.1762-.0142.4368.0404.8909.0932 1.3301.1066.887.216 1.8003-.2075 2.7014a3.5272 3.5272 0 0 1-.1876-.3856c-.0527-.1276-.1669-.3326-.3251-.6162-.6156-1.1041-2.0574-3.6896-1.3193-4.7446.3795-.5427 1.3408-.5661 2.1781-.463zm.2284 7.0137a12.3762 12.3762 0 0 0-.0853-.1074l-.0355-.0444c.7262-1.1995.5842-2.3862.4578-3.4385-.0519-.4318-.1009-.8396-.0885-1.2226.0129-.4061.0666-.7543.1185-1.0911.0639-.415.1288-.8443.1109-1.3505.0134-.0531.0188-.1158.0118-.1902-.0457-.4855-.5999-1.938-1.7294-3.253-.6076-.7073-1.4896-1.4972-2.6889-2.0395.5251-.1066 1.2328-.2035 2.0244-.1859 2.0515.0456 3.6746.8135 4.8242 2.2824a.908.908 0 0 1 .0667.1002c.7231 1.3556-.2762 6.2751-2.9867 10.5405zm-8.8166-6.1162c-.025.1794-.3089.4225-.6211.4225a.5821.5821 0 0 1-.0809-.0056c-.1873-.026-.3765-.144-.5059-.3156-.0458-.0605-.1203-.178-.1055-.2844.0055-.0401.0261-.0985.0925-.1488.1182-.0894.3518-.1226.6096-.0867.3163.0441.6426.1938.6113.4186zm7.9305-.4114c.0111.0792-.049.201-.1531.3102-.0683.0717-.212.1961-.4079.2232a.5456.5456 0 0 1-.075.0052c-.2935 0-.5414-.2344-.5607-.3717-.024-.1765.2641-.3106.5611-.352.297-.0414.6111.0088.6356.1851z"},child:[]}]})(ee)}function SiPython(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"},child:[]}]})(ee)}function SiReact(ee){return GenIcon({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"},child:[]}]})(ee)}function Home(){const ee=reactExports.useRef(null),$=useInView(ee,{once:!1,margin:"-100px"}),te=[{title:"End-to-End Developer",desc:"From embedded systems to scalable cloud backends, I build full solutions."},{title:"Real-Time Systems",desc:"Experienced with 3D, live data pipelines, and low-latency communication."},{title:"IoT & Embedded",desc:"Working on cutting-edge projects combining software and hardware."}],ne=["React","NodeJs","ExpressJs","MongoDB","Docker","Git","Golang","C/C++","Python","Linux","AWS","Google Cloud"],ie=[SiReact,SiNodedotjs,SiMongodb,SiExpress,SiDocker,SiGit,SiGo,SiC,SiPython,SiLinux,SiGooglecloud,SiPostgresql];return jsxRuntimeExports.jsxs("div",{className:"relative w-full min-h-screen flex flex-col items-center justify-start p-10 font-eczar text-white",children:[jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-0 h-full w-[2px] border-l-2 border-dashed border-white opacity-30 z-0"}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 h-full w-[2px] border-r-2 border-dashed border-white opacity-30 z-0"}),jsxRuntimeExports.jsxs(motion.div,{className:"w-full flex flex-col lg:flex-row items-center justify-center mb-16",animate:$?{opacity:0,y:-100}:{opacity:1,y:0},transition:{duration:.8},children:[jsxRuntimeExports.jsx("div",{className:"w-[70vh] h-[70vh] flex justify-center items-center",children:jsxRuntimeExports.jsx(LaptopScene,{})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center items-start text-left pl-16 space-y-6 max-w-xl",children:[jsxRuntimeExports.jsx(motion.img,{src:logo,alt:"Logo",className:"w-32 h-32 rounded-full mb-4",initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},transition:{duration:1.2}}),jsxRuntimeExports.jsx(Typist,{typingDelay:60,cursor:jsxRuntimeExports.jsx("span",{children:"|"}),children:jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-white",children:"Hi there! I’m Hasan..."})}),jsxRuntimeExports.jsx(motion.p,{className:"text-lg font-medium text-white",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1.2},children:"A Full-Stack Developer & Electronic Engineer."}),jsxRuntimeExports.jsx(motion.p,{className:"text-md text-white tracking-wide leading-relaxed",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5,duration:1.2},children:"Currently focused on cutting-edge IoT projects and backend systems."}),jsxRuntimeExports.jsx(motion.p,{className:"text-md italic text-white",initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:1.2},children:"Passionate about 3D web apps, real-time data, and embedded systems."})]})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:30},animate:$?{opacity:1,y:0}:{},transition:{duration:.8},className:"w-full max-w-6xl grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:te.map((se,le)=>jsxRuntimeExports.jsxs(motion.div,{className:"p-6 rounded-2xl bg-white/10 border border-white/20 backdrop-blur-md text-white hover:scale-[1.02] transition-transform",initial:{opacity:0,y:30},animate:$?{opacity:1,y:0}:{},transition:{delay:le*.2,duration:.6},children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:se.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/80",children:se.desc})]},le))}),jsxRuntimeExports.jsxs(motion.div,{ref:ee,initial:{opacity:0,y:50},animate:$?{opacity:1,y:0}:{},transition:{duration:.8},className:"w-full max-w-6xl flex flex-col lg:flex-row items-start justify-between p-10 mt-10 bg-white/10 rounded-2xl shadow-lg backdrop-blur-md border border-white/20",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4 w-full justify-items-center",children:ie.map((se,le)=>jsxRuntimeExports.jsx(motion.div,{className:"w-20 h-20 flex items-center justify-center rounded-full bg-black/20 hover:scale-110 transition-transform duration-300 hover:bg-white/10",initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6,delay:le*.1},children:jsxRuntimeExports.jsx(se,{size:36})},le))}),jsxRuntimeExports.jsxs("div",{className:"pl-10 mt-10 lg:mt-0 text-white max-w-md space-y-3",children:[jsxRuntimeExports.jsx(motion.p,{className:"text-md text-white flex flex-wrap gap-2",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.3,duration:1},children:ne.map((se,le)=>jsxRuntimeExports.jsx("span",{className:"bg-white/10 border border-white/20 px-3 py-1 rounded-full text-sm text-white hover:bg-white/20 transition",children:se},le))}),jsxRuntimeExports.jsx(motion.p,{className:"text-lg italic text-white",initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1.2},children:"Including this stack I have experience in many other technologies. Currently working on embedded systems, IoT projects and backend development with microservices."})]})]})]})}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function ee(ne,ie,se,le,oe,ce){if(ce!==ReactPropTypesSecret){var ae=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ae.name="Invariant Violation",ae}}ee.isRequired=ee;function $(){return ee}var te={array:ee,bigint:ee,bool:ee,func:ee,number:ee,object:ee,string:ee,symbol:ee,any:ee,arrayOf:$,element:ee,elementType:ee,instanceOf:$,node:ee,objectOf:$,oneOf:$,oneOfType:$,shape:$,exact:$,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return te.PropTypes=te,te};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;function r$2(ee){var $,te,ne="";if(typeof ee=="string"||typeof ee=="number")ne+=ee;else if(typeof ee=="object")if(Array.isArray(ee)){var ie=ee.length;for($=0;$<ie;$++)ee[$]&&(te=r$2(ee[$]))&&(ne&&(ne+=" "),ne+=te)}else for(te in ee)ee[te]&&(ne&&(ne+=" "),ne+=te);return ne}function clsx(){for(var ee,$,te=0,ne="",ie=arguments.length;te<ie;te++)(ee=arguments[te])&&($=r$2(ee))&&(ne&&(ne+=" "),ne+=$);return ne}function composeClasses(ee,$,te=void 0){const ne={};for(const ie in ee){const se=ee[ie];let le="",oe=!0;for(let ce=0;ce<se.length;ce+=1){const ae=se[ce];ae&&(le+=(oe===!0?"":" ")+$(ae),oe=!1,te&&te[ae]&&(le+=" "+te[ae]))}ne[ie]=le}return ne}function formatMuiErrorMessage(ee,...$){const te=new URL(`https://mui.com/production-error/?code=${ee}`);return $.forEach(ne=>te.searchParams.append("args[]",ne)),`Minified MUI error #${ee}; visit ${te} for the full message.`}function capitalize(ee){if(typeof ee!="string")throw new Error(formatMuiErrorMessage(7));return ee.charAt(0).toUpperCase()+ee.slice(1)}var reactIs$2={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),REACT_OFFSCREEN_TYPE=Symbol.for("react.offscreen"),REACT_CLIENT_REFERENCE=Symbol.for("react.client.reference");function typeOf(ee){if(typeof ee=="object"&&ee!==null){var $=ee.$$typeof;switch($){case REACT_ELEMENT_TYPE:switch(ee=ee.type,ee){case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:case REACT_SUSPENSE_LIST_TYPE:return ee;default:switch(ee=ee&&ee.$$typeof,ee){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:return ee;case REACT_CONSUMER_TYPE:return ee;default:return $}}case REACT_PORTAL_TYPE:return $}}}reactIs_production.ContextConsumer=REACT_CONSUMER_TYPE;reactIs_production.ContextProvider=REACT_CONTEXT_TYPE;reactIs_production.Element=REACT_ELEMENT_TYPE;reactIs_production.ForwardRef=REACT_FORWARD_REF_TYPE;reactIs_production.Fragment=REACT_FRAGMENT_TYPE;reactIs_production.Lazy=REACT_LAZY_TYPE;reactIs_production.Memo=REACT_MEMO_TYPE;reactIs_production.Portal=REACT_PORTAL_TYPE;reactIs_production.Profiler=REACT_PROFILER_TYPE;reactIs_production.StrictMode=REACT_STRICT_MODE_TYPE;reactIs_production.Suspense=REACT_SUSPENSE_TYPE;reactIs_production.SuspenseList=REACT_SUSPENSE_LIST_TYPE;reactIs_production.isContextConsumer=function(ee){return typeOf(ee)===REACT_CONSUMER_TYPE};reactIs_production.isContextProvider=function(ee){return typeOf(ee)===REACT_CONTEXT_TYPE};reactIs_production.isElement=function(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===REACT_ELEMENT_TYPE};reactIs_production.isForwardRef=function(ee){return typeOf(ee)===REACT_FORWARD_REF_TYPE};reactIs_production.isFragment=function(ee){return typeOf(ee)===REACT_FRAGMENT_TYPE};reactIs_production.isLazy=function(ee){return typeOf(ee)===REACT_LAZY_TYPE};reactIs_production.isMemo=function(ee){return typeOf(ee)===REACT_MEMO_TYPE};reactIs_production.isPortal=function(ee){return typeOf(ee)===REACT_PORTAL_TYPE};reactIs_production.isProfiler=function(ee){return typeOf(ee)===REACT_PROFILER_TYPE};reactIs_production.isStrictMode=function(ee){return typeOf(ee)===REACT_STRICT_MODE_TYPE};reactIs_production.isSuspense=function(ee){return typeOf(ee)===REACT_SUSPENSE_TYPE};reactIs_production.isSuspenseList=function(ee){return typeOf(ee)===REACT_SUSPENSE_LIST_TYPE};reactIs_production.isValidElementType=function(ee){return typeof ee=="string"||typeof ee=="function"||ee===REACT_FRAGMENT_TYPE||ee===REACT_PROFILER_TYPE||ee===REACT_STRICT_MODE_TYPE||ee===REACT_SUSPENSE_TYPE||ee===REACT_SUSPENSE_LIST_TYPE||ee===REACT_OFFSCREEN_TYPE||typeof ee=="object"&&ee!==null&&(ee.$$typeof===REACT_LAZY_TYPE||ee.$$typeof===REACT_MEMO_TYPE||ee.$$typeof===REACT_CONTEXT_TYPE||ee.$$typeof===REACT_CONSUMER_TYPE||ee.$$typeof===REACT_FORWARD_REF_TYPE||ee.$$typeof===REACT_CLIENT_REFERENCE||ee.getModuleId!==void 0)};reactIs_production.typeOf=typeOf;reactIs$2.exports=reactIs_production;var reactIsExports$1=reactIs$2.exports;function isPlainObject(ee){if(typeof ee!="object"||ee===null)return!1;const $=Object.getPrototypeOf(ee);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in ee)&&!(Symbol.iterator in ee)}function deepClone(ee){if(reactExports.isValidElement(ee)||reactIsExports$1.isValidElementType(ee)||!isPlainObject(ee))return ee;const $={};return Object.keys(ee).forEach(te=>{$[te]=deepClone(ee[te])}),$}function deepmerge(ee,$,te={clone:!0}){const ne=te.clone?{...ee}:ee;return isPlainObject(ee)&&isPlainObject($)&&Object.keys($).forEach(ie=>{reactExports.isValidElement($[ie])||reactIsExports$1.isValidElementType($[ie])?ne[ie]=$[ie]:isPlainObject($[ie])&&Object.prototype.hasOwnProperty.call(ee,ie)&&isPlainObject(ee[ie])?ne[ie]=deepmerge(ee[ie],$[ie],te):te.clone?ne[ie]=isPlainObject($[ie])?deepClone($[ie]):$[ie]:ne[ie]=$[ie]}),ne}function merge(ee,$){return $?deepmerge(ee,$,{clone:!1}):ee}function sortContainerQueries(ee,$){if(!ee.containerQueries)return $;const te=Object.keys($).filter(ne=>ne.startsWith("@container")).sort((ne,ie)=>{var le,oe;const se=/min-width:\s*([0-9.]+)/;return+(((le=ne.match(se))==null?void 0:le[1])||0)-+(((oe=ie.match(se))==null?void 0:oe[1])||0)});return te.length?te.reduce((ne,ie)=>{const se=$[ie];return delete ne[ie],ne[ie]=se,ne},{...$}):$}function isCqShorthand(ee,$){return $==="@"||$.startsWith("@")&&(ee.some(te=>$.startsWith(`@${te}`))||!!$.match(/^@\d/))}function getContainerQuery(ee,$){const te=$.match(/^@([^/]+)?\/?(.+)?$/);if(!te)return null;const[,ne,ie]=te,se=Number.isNaN(+ne)?ne||0:+ne;return ee.containerQueries(ie).up(se)}function cssContainerQueries(ee){const $=(se,le)=>se.replace("@media",le?`@container ${le}`:"@container");function te(se,le){se.up=(...oe)=>$(ee.breakpoints.up(...oe),le),se.down=(...oe)=>$(ee.breakpoints.down(...oe),le),se.between=(...oe)=>$(ee.breakpoints.between(...oe),le),se.only=(...oe)=>$(ee.breakpoints.only(...oe),le),se.not=(...oe)=>{const ce=$(ee.breakpoints.not(...oe),le);return ce.includes("not all and")?ce.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):ce}}const ne={},ie=se=>(te(ne,se),ne);return te(ie),{...ee,containerQueries:ie}}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:ee=>`@media (min-width:${values$1[ee]}px)`},defaultContainerQueries={containerQueries:ee=>({up:$=>{let te=typeof $=="number"?$:values$1[$]||$;return typeof te=="number"&&(te=`${te}px`),ee?`@container ${ee} (min-width:${te})`:`@container (min-width:${te})`}})};function handleBreakpoints(ee,$,te){const ne=ee.theme||{};if(Array.isArray($)){const se=ne.breakpoints||defaultBreakpoints;return $.reduce((le,oe,ce)=>(le[se.up(se.keys[ce])]=te($[ce]),le),{})}if(typeof $=="object"){const se=ne.breakpoints||defaultBreakpoints;return Object.keys($).reduce((le,oe)=>{if(isCqShorthand(se.keys,oe)){const ce=getContainerQuery(ne.containerQueries?ne:defaultContainerQueries,oe);ce&&(le[ce]=te($[oe],oe))}else if(Object.keys(se.values||values$1).includes(oe)){const ce=se.up(oe);le[ce]=te($[oe],oe)}else{const ce=oe;le[ce]=$[ce]}return le},{})}return te($)}function createEmptyBreakpointObject(ee={}){var te;return((te=ee.keys)==null?void 0:te.reduce((ne,ie)=>{const se=ee.up(ie);return ne[se]={},ne},{}))||{}}function removeUnusedBreakpoints(ee,$){return ee.reduce((te,ne)=>{const ie=te[ne];return(!ie||Object.keys(ie).length===0)&&delete te[ne],te},$)}function getPath(ee,$,te=!0){if(!$||typeof $!="string")return null;if(ee&&ee.vars&&te){const ne=`vars.${$}`.split(".").reduce((ie,se)=>ie&&ie[se]?ie[se]:null,ee);if(ne!=null)return ne}return $.split(".").reduce((ne,ie)=>ne&&ne[ie]!=null?ne[ie]:null,ee)}function getStyleValue(ee,$,te,ne=te){let ie;return typeof ee=="function"?ie=ee(te):Array.isArray(ee)?ie=ee[te]||ne:ie=getPath(ee,te)||ne,$&&(ie=$(ie,ne,ee)),ie}function style$1(ee){const{prop:$,cssProperty:te=ee.prop,themeKey:ne,transform:ie}=ee,se=le=>{if(le[$]==null)return null;const oe=le[$],ce=le.theme,ae=getPath(ce,ne)||{};return handleBreakpoints(le,oe,de=>{let pe=getStyleValue(ae,ie,de);return de===pe&&typeof de=="string"&&(pe=getStyleValue(ae,ie,`${$}${de==="default"?"":capitalize(de)}`,de)),te===!1?pe:{[te]:pe}})};return se.propTypes={},se.filterProps=[$],se}function memoize$1(ee){const $={};return te=>($[te]===void 0&&($[te]=ee(te)),$[te])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize$1(ee=>{if(ee.length>2)if(aliases[ee])ee=aliases[ee];else return[ee];const[$,te]=ee.split(""),ne=properties[$],ie=directions[te]||"";return Array.isArray(ie)?ie.map(se=>ne+se):[ne+ie]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(ee,$,te,ne){const ie=getPath(ee,$,!0)??te;return typeof ie=="number"||typeof ie=="string"?se=>typeof se=="string"?se:typeof ie=="string"?`calc(${se} * ${ie})`:ie*se:Array.isArray(ie)?se=>{if(typeof se=="string")return se;const le=Math.abs(se),oe=ie[le];return se>=0?oe:typeof oe=="number"?-oe:`-${oe}`}:typeof ie=="function"?ie:()=>{}}function createUnarySpacing(ee){return createUnaryUnit(ee,"spacing",8)}function getValue(ee,$){return typeof $=="string"||$==null?$:ee($)}function getStyleFromPropValue(ee,$){return te=>ee.reduce((ne,ie)=>(ne[ie]=getValue($,te),ne),{})}function resolveCssProperty(ee,$,te,ne){if(!$.includes(te))return null;const ie=getCssProperties(te),se=getStyleFromPropValue(ie,ne),le=ee[te];return handleBreakpoints(ee,le,se)}function style(ee,$){const te=createUnarySpacing(ee.theme);return Object.keys(ee).map(ne=>resolveCssProperty(ee,$,ne,te)).reduce(merge,{})}function margin(ee){return style(ee,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(ee){return style(ee,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function compose(...ee){const $=ee.reduce((ne,ie)=>(ie.filterProps.forEach(se=>{ne[se]=ie}),ne),{}),te=ne=>Object.keys(ne).reduce((ie,se)=>$[se]?merge(ie,$[se](ne)):ie,{});return te.propTypes={},te.filterProps=ee.reduce((ne,ie)=>ne.concat(ie.filterProps),[]),te}function borderTransform(ee){return typeof ee!="number"?ee:`${ee}px solid`}function createBorderStyle(ee,$){return style$1({prop:ee,themeKey:"borders",transform:$})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=ee=>{if(ee.borderRadius!==void 0&&ee.borderRadius!==null){const $=createUnaryUnit(ee.theme,"shape.borderRadius",4),te=ne=>({borderRadius:getValue($,ne)});return handleBreakpoints(ee,ee.borderRadius,te)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=ee=>{if(ee.gap!==void 0&&ee.gap!==null){const $=createUnaryUnit(ee.theme,"spacing",8),te=ne=>({gap:getValue($,ne)});return handleBreakpoints(ee,ee.gap,te)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=ee=>{if(ee.columnGap!==void 0&&ee.columnGap!==null){const $=createUnaryUnit(ee.theme,"spacing",8),te=ne=>({columnGap:getValue($,ne)});return handleBreakpoints(ee,ee.columnGap,te)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=ee=>{if(ee.rowGap!==void 0&&ee.rowGap!==null){const $=createUnaryUnit(ee.theme,"spacing",8),te=ne=>({rowGap:getValue($,ne)});return handleBreakpoints(ee,ee.rowGap,te)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(ee,$){return $==="grey"?$:ee}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(ee){return ee<=1&&ee!==0?`${ee*100}%`:ee}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=ee=>{if(ee.maxWidth!==void 0&&ee.maxWidth!==null){const $=te=>{var ie,se,le,oe,ce;const ne=((le=(se=(ie=ee.theme)==null?void 0:ie.breakpoints)==null?void 0:se.values)==null?void 0:le[te])||values$1[te];return ne?((ce=(oe=ee.theme)==null?void 0:oe.breakpoints)==null?void 0:ce.unit)!=="px"?{maxWidth:`${ne}${ee.theme.breakpoints.unit}`}:{maxWidth:ne}:{maxWidth:sizingTransform(te)}};return handleBreakpoints(ee,ee.maxWidth,$)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:ee=>({"@media print":{display:ee}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...ee){const $=ee.reduce((ne,ie)=>ne.concat(Object.keys(ie)),[]),te=new Set($);return ee.every(ne=>te.size===Object.keys(ne).length)}function callIfFn(ee,$){return typeof ee=="function"?ee($):ee}function unstable_createStyleFunctionSx(){function ee(te,ne,ie,se){const le={[te]:ne,theme:ie},oe=se[te];if(!oe)return{[te]:ne};const{cssProperty:ce=te,themeKey:ae,transform:he,style:de}=oe;if(ne==null)return null;if(ae==="typography"&&ne==="inherit")return{[te]:ne};const pe=getPath(ie,ae)||{};return de?de(le):handleBreakpoints(le,ne,Ae=>{let ge=getStyleValue(pe,he,Ae);return Ae===ge&&typeof Ae=="string"&&(ge=getStyleValue(pe,he,`${te}${Ae==="default"?"":capitalize(Ae)}`,Ae)),ce===!1?ge:{[ce]:ge}})}function $(te){const{sx:ne,theme:ie={}}=te||{};if(!ne)return null;const se=ie.unstable_sxConfig??defaultSxConfig;function le(oe){let ce=oe;if(typeof oe=="function")ce=oe(ie);else if(typeof oe!="object")return oe;if(!ce)return null;const ae=createEmptyBreakpointObject(ie.breakpoints),he=Object.keys(ae);let de=ae;return Object.keys(ce).forEach(pe=>{const re=callIfFn(ce[pe],ie);if(re!=null)if(typeof re=="object")if(se[pe])de=merge(de,ee(pe,re,ie,se));else{const Ae=handleBreakpoints({theme:ie},re,ge=>({[pe]:ge}));objectsHaveSameKeys(Ae,re)?de[pe]=$({sx:re,theme:ie}):de=merge(de,Ae)}else de=merge(de,ee(pe,re,ie,se))}),sortContainerQueries(ie,removeUnusedBreakpoints(he,de))}return Array.isArray(ne)?ne.map(le):le(ne)}return $}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const splitProps=ee=>{var ne;const $={systemProps:{},otherProps:{}},te=((ne=ee==null?void 0:ee.theme)==null?void 0:ne.unstable_sxConfig)??defaultSxConfig;return Object.keys(ee).forEach(ie=>{te[ie]?$.systemProps[ie]=ee[ie]:$.otherProps[ie]=ee[ie]}),$};function extendSxProp$1(ee){const{sx:$,...te}=ee,{systemProps:ne,otherProps:ie}=splitProps(te);let se;return Array.isArray($)?se=[ne,...$]:typeof $=="function"?se=(...le)=>{const oe=$(...le);return isPlainObject(oe)?{...ne,...oe}:ne}:se={...ne,...$},{...ie,sx:se}}var isDevelopment$3=!1;function sheetForTag(ee){if(ee.sheet)return ee.sheet;for(var $=0;$<document.styleSheets.length;$++)if(document.styleSheets[$].ownerNode===ee)return document.styleSheets[$]}function createStyleElement(ee){var $=document.createElement("style");return $.setAttribute("data-emotion",ee.key),ee.nonce!==void 0&&$.setAttribute("nonce",ee.nonce),$.appendChild(document.createTextNode("")),$.setAttribute("data-s",""),$}var StyleSheet=function(){function ee(te){var ne=this;this._insertTag=function(ie){var se;ne.tags.length===0?ne.insertionPoint?se=ne.insertionPoint.nextSibling:ne.prepend?se=ne.container.firstChild:se=ne.before:se=ne.tags[ne.tags.length-1].nextSibling,ne.container.insertBefore(ie,se),ne.tags.push(ie)},this.isSpeedy=te.speedy===void 0?!isDevelopment$3:te.speedy,this.tags=[],this.ctr=0,this.nonce=te.nonce,this.key=te.key,this.container=te.container,this.prepend=te.prepend,this.insertionPoint=te.insertionPoint,this.before=null}var $=ee.prototype;return $.hydrate=function(ne){ne.forEach(this._insertTag)},$.insert=function(ne){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var ie=this.tags[this.tags.length-1];if(this.isSpeedy){var se=sheetForTag(ie);try{se.insertRule(ne,se.cssRules.length)}catch{}}else ie.appendChild(document.createTextNode(ne));this.ctr++},$.flush=function(){this.tags.forEach(function(ne){var ie;return(ie=ne.parentNode)==null?void 0:ie.removeChild(ne)}),this.tags=[],this.ctr=0},ee}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(ee,$){return charat(ee,0)^45?((($<<2^charat(ee,0))<<2^charat(ee,1))<<2^charat(ee,2))<<2^charat(ee,3):0}function trim(ee){return ee.trim()}function match(ee,$){return(ee=$.exec(ee))?ee[0]:ee}function replace(ee,$,te){return ee.replace($,te)}function indexof(ee,$){return ee.indexOf($)}function charat(ee,$){return ee.charCodeAt($)|0}function substr(ee,$,te){return ee.slice($,te)}function strlen(ee){return ee.length}function sizeof(ee){return ee.length}function append(ee,$){return $.push(ee),ee}function combine(ee,$){return ee.map($).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(ee,$,te,ne,ie,se,le){return{value:ee,root:$,parent:te,type:ne,props:ie,children:se,line,column,length:le,return:""}}function copy(ee,$){return assign(node("",null,null,"",null,null,0),ee,{length:-ee.length},$)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(ee,$){return substr(characters,ee,$)}function token(ee){switch(ee){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(ee){return line=column=1,length=strlen(characters=ee),position=0,[]}function dealloc(ee){return characters="",ee}function delimit(ee){return trim(slice(position-1,delimiter(ee===91?ee+2:ee===40?ee+1:ee)))}function whitespace(ee){for(;(character=peek())&&character<33;)next();return token(ee)>2||token(character)>3?"":" "}function escaping(ee,$){for(;--$&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(ee,caret()+($<6&&peek()==32&&next()==32))}function delimiter(ee){for(;next();)switch(character){case ee:return position;case 34:case 39:ee!==34&&ee!==39&&delimiter(character);break;case 40:ee===41&&delimiter(ee);break;case 92:next();break}return position}function commenter(ee,$){for(;next()&&ee+character!==57;)if(ee+character===84&&peek()===47)break;return"/*"+slice($,position-1)+"*"+from(ee===47?ee:next())}function identifier(ee){for(;!token(peek());)next();return slice(ee,position)}function compile(ee){return dealloc(parse("",null,null,null,[""],ee=alloc(ee),0,[0],ee))}function parse(ee,$,te,ne,ie,se,le,oe,ce){for(var ae=0,he=0,de=le,pe=0,re=0,Ae=0,ge=1,Se=1,fe=1,be=0,xe="",ue=ie,we=se,Fe=ne,_e=xe;Se;)switch(Ae=be,be=next()){case 40:if(Ae!=108&&charat(_e,de-1)==58){indexof(_e+=replace(delimit(be),"&","&\f"),"&\f")!=-1&&(fe=-1);break}case 34:case 39:case 91:_e+=delimit(be);break;case 9:case 10:case 13:case 32:_e+=whitespace(Ae);break;case 92:_e+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),$,te),ce);break;default:_e+="/"}break;case 123*ge:oe[ae++]=strlen(_e)*fe;case 125*ge:case 59:case 0:switch(be){case 0:case 125:Se=0;case 59+he:fe==-1&&(_e=replace(_e,/\f/g,"")),re>0&&strlen(_e)-de&&append(re>32?declaration(_e+";",ne,te,de-1):declaration(replace(_e," ","")+";",ne,te,de-2),ce);break;case 59:_e+=";";default:if(append(Fe=ruleset(_e,$,te,ae,he,ie,oe,xe,ue=[],we=[],de),se),be===123)if(he===0)parse(_e,$,Fe,Fe,ue,se,de,oe,we);else switch(pe===99&&charat(_e,3)===110?100:pe){case 100:case 108:case 109:case 115:parse(ee,Fe,Fe,ne&&append(ruleset(ee,Fe,Fe,0,0,ie,oe,xe,ie,ue=[],de),we),ie,we,de,oe,ne?ue:we);break;default:parse(_e,Fe,Fe,Fe,[""],we,0,oe,we)}}ae=he=re=0,ge=fe=1,xe=_e="",de=le;break;case 58:de=1+strlen(_e),re=Ae;default:if(ge<1){if(be==123)--ge;else if(be==125&&ge++==0&&prev()==125)continue}switch(_e+=from(be),be*ge){case 38:fe=he>0?1:(_e+="\f",-1);break;case 44:oe[ae++]=(strlen(_e)-1)*fe,fe=1;break;case 64:peek()===45&&(_e+=delimit(next())),pe=peek(),he=de=strlen(xe=_e+=identifier(caret())),be++;break;case 45:Ae===45&&strlen(_e)==2&&(ge=0)}}return se}function ruleset(ee,$,te,ne,ie,se,le,oe,ce,ae,he){for(var de=ie-1,pe=ie===0?se:[""],re=sizeof(pe),Ae=0,ge=0,Se=0;Ae<ne;++Ae)for(var fe=0,be=substr(ee,de+1,de=abs(ge=le[Ae])),xe=ee;fe<re;++fe)(xe=trim(ge>0?pe[fe]+" "+be:replace(be,/&\f/g,pe[fe])))&&(ce[Se++]=xe);return node(ee,$,te,ie===0?RULESET:oe,ce,ae,he)}function comment(ee,$,te){return node(ee,$,te,COMMENT,from(char()),substr(ee,2,-2),0)}function declaration(ee,$,te,ne){return node(ee,$,te,DECLARATION,substr(ee,0,ne),substr(ee,ne+1,-1),ne)}function serialize(ee,$){for(var te="",ne=sizeof(ee),ie=0;ie<ne;ie++)te+=$(ee[ie],ie,ee,$)||"";return te}function stringify(ee,$,te,ne){switch(ee.type){case LAYER:if(ee.children.length)break;case IMPORT:case DECLARATION:return ee.return=ee.return||ee.value;case COMMENT:return"";case KEYFRAMES:return ee.return=ee.value+"{"+serialize(ee.children,ne)+"}";case RULESET:ee.value=ee.props.join(",")}return strlen(te=serialize(ee.children,ne))?ee.return=ee.value+"{"+te+"}":""}function middleware(ee){var $=sizeof(ee);return function(te,ne,ie,se){for(var le="",oe=0;oe<$;oe++)le+=ee[oe](te,ne,ie,se)||"";return le}}function rulesheet(ee){return function($){$.root||($=$.return)&&ee($)}}function memoize(ee){var $=Object.create(null);return function(te){return $[te]===void 0&&($[te]=ee(te)),$[te]}}var identifierWithPointTracking=function($,te,ne){for(var ie=0,se=0;ie=se,se=peek(),ie===38&&se===12&&(te[ne]=1),!token(se);)next();return slice($,position)},toRules=function($,te){var ne=-1,ie=44;do switch(token(ie)){case 0:ie===38&&peek()===12&&(te[ne]=1),$[ne]+=identifierWithPointTracking(position-1,te,ne);break;case 2:$[ne]+=delimit(ie);break;case 4:if(ie===44){$[++ne]=peek()===58?"&\f":"",te[ne]=$[ne].length;break}default:$[ne]+=from(ie)}while(ie=next());return $},getRules=function($,te){return dealloc(toRules(alloc($),te))},fixedElements=new WeakMap,compat=function($){if(!($.type!=="rule"||!$.parent||$.length<1)){for(var te=$.value,ne=$.parent,ie=$.column===ne.column&&$.line===ne.line;ne.type!=="rule";)if(ne=ne.parent,!ne)return;if(!($.props.length===1&&te.charCodeAt(0)!==58&&!fixedElements.get(ne))&&!ie){fixedElements.set($,!0);for(var se=[],le=getRules(te,se),oe=ne.props,ce=0,ae=0;ce<le.length;ce++)for(var he=0;he<oe.length;he++,ae++)$.props[ae]=se[ce]?le[ce].replace(/&\f/g,oe[he]):oe[he]+" "+le[ce]}}},removeLabel=function($){if($.type==="decl"){var te=$.value;te.charCodeAt(0)===108&&te.charCodeAt(2)===98&&($.return="",$.value="")}};function prefix(ee,$){switch(hash(ee,$)){case 5103:return WEBKIT+"print-"+ee+ee;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+ee+ee;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+ee+MOZ+ee+MS+ee+ee;case 6828:case 4268:return WEBKIT+ee+MS+ee+ee;case 6165:return WEBKIT+ee+MS+"flex-"+ee+ee;case 5187:return WEBKIT+ee+replace(ee,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+ee;case 5443:return WEBKIT+ee+MS+"flex-item-"+replace(ee,/flex-|-self/,"")+ee;case 4675:return WEBKIT+ee+MS+"flex-line-pack"+replace(ee,/align-content|flex-|-self/,"")+ee;case 5548:return WEBKIT+ee+MS+replace(ee,"shrink","negative")+ee;case 5292:return WEBKIT+ee+MS+replace(ee,"basis","preferred-size")+ee;case 6060:return WEBKIT+"box-"+replace(ee,"-grow","")+WEBKIT+ee+MS+replace(ee,"grow","positive")+ee;case 4554:return WEBKIT+replace(ee,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+ee;case 6187:return replace(replace(replace(ee,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),ee,"")+ee;case 5495:case 3959:return replace(ee,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(ee,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+ee+ee;case 4095:case 3583:case 4068:case 2532:return replace(ee,/(.+)-inline(.+)/,WEBKIT+"$1$2")+ee;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(ee)-1-$>6)switch(charat(ee,$+1)){case 109:if(charat(ee,$+4)!==45)break;case 102:return replace(ee,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(ee,$+3)==108?"$3":"$2-$3"))+ee;case 115:return~indexof(ee,"stretch")?prefix(replace(ee,"stretch","fill-available"),$)+ee:ee}break;case 4949:if(charat(ee,$+1)!==115)break;case 6444:switch(charat(ee,strlen(ee)-3-(~indexof(ee,"!important")&&10))){case 107:return replace(ee,":",":"+WEBKIT)+ee;case 101:return replace(ee,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(ee,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+ee}break;case 5936:switch(charat(ee,$+11)){case 114:return WEBKIT+ee+MS+replace(ee,/[svh]\w+-[tblr]{2}/,"tb")+ee;case 108:return WEBKIT+ee+MS+replace(ee,/[svh]\w+-[tblr]{2}/,"tb-rl")+ee;case 45:return WEBKIT+ee+MS+replace(ee,/[svh]\w+-[tblr]{2}/,"lr")+ee}return WEBKIT+ee+MS+ee+ee}return ee}var prefixer=function($,te,ne,ie){if($.length>-1&&!$.return)switch($.type){case DECLARATION:$.return=prefix($.value,$.length);break;case KEYFRAMES:return serialize([copy($,{value:replace($.value,"@","@"+WEBKIT)})],ie);case RULESET:if($.length)return combine($.props,function(se){switch(match(se,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy($,{props:[replace(se,/:(read-\w+)/,":"+MOZ+"$1")]})],ie);case"::placeholder":return serialize([copy($,{props:[replace(se,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy($,{props:[replace(se,/:(plac\w+)/,":"+MOZ+"$1")]}),copy($,{props:[replace(se,/:(plac\w+)/,MS+"input-$1")]})],ie)}return""})}},defaultStylisPlugins=[prefixer],createCache=function($){var te=$.key;if(te==="css"){var ne=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(ne,function(ge){var Se=ge.getAttribute("data-emotion");Se.indexOf(" ")!==-1&&(document.head.appendChild(ge),ge.setAttribute("data-s",""))})}var ie=$.stylisPlugins||defaultStylisPlugins,se={},le,oe=[];le=$.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+te+' "]'),function(ge){for(var Se=ge.getAttribute("data-emotion").split(" "),fe=1;fe<Se.length;fe++)se[Se[fe]]=!0;oe.push(ge)});var ce,ae=[compat,removeLabel];{var he,de=[stringify,rulesheet(function(ge){he.insert(ge)})],pe=middleware(ae.concat(ie,de)),re=function(Se){return serialize(compile(Se),pe)};ce=function(Se,fe,be,xe){he=be,re(Se?Se+"{"+fe.styles+"}":fe.styles),xe&&(Ae.inserted[fe.name]=!0)}}var Ae={key:te,sheet:new StyleSheet({key:te,container:le,nonce:$.nonce,speedy:$.speedy,prepend:$.prepend,insertionPoint:$.insertionPoint}),nonce:$.nonce,inserted:se,registered:{},insert:ce};return Ae.sheet.hydrate(oe),Ae},reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$1=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l$1=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n$1=b$1?Symbol.for("react.forward_ref"):60112,p$1=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r$1=b$1?Symbol.for("react.memo"):60115,t$1=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(ee){if(typeof ee=="object"&&ee!==null){var $=ee.$$typeof;switch($){case c$1:switch(ee=ee.type,ee){case l$1:case m$1:case e$1:case g$1:case f$1:case p$1:return ee;default:switch(ee=ee&&ee.$$typeof,ee){case k$1:case n$1:case t$1:case r$1:case h$1:return ee;default:return $}}case d$1:return $}}}function A$1(ee){return z$1(ee)===m$1}reactIs_production_min.AsyncMode=l$1;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$1;reactIs_production_min.ContextProvider=h$1;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n$1;reactIs_production_min.Fragment=e$1;reactIs_production_min.Lazy=t$1;reactIs_production_min.Memo=r$1;reactIs_production_min.Portal=d$1;reactIs_production_min.Profiler=g$1;reactIs_production_min.StrictMode=f$1;reactIs_production_min.Suspense=p$1;reactIs_production_min.isAsyncMode=function(ee){return A$1(ee)||z$1(ee)===l$1};reactIs_production_min.isConcurrentMode=A$1;reactIs_production_min.isContextConsumer=function(ee){return z$1(ee)===k$1};reactIs_production_min.isContextProvider=function(ee){return z$1(ee)===h$1};reactIs_production_min.isElement=function(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===c$1};reactIs_production_min.isForwardRef=function(ee){return z$1(ee)===n$1};reactIs_production_min.isFragment=function(ee){return z$1(ee)===e$1};reactIs_production_min.isLazy=function(ee){return z$1(ee)===t$1};reactIs_production_min.isMemo=function(ee){return z$1(ee)===r$1};reactIs_production_min.isPortal=function(ee){return z$1(ee)===d$1};reactIs_production_min.isProfiler=function(ee){return z$1(ee)===g$1};reactIs_production_min.isStrictMode=function(ee){return z$1(ee)===f$1};reactIs_production_min.isSuspense=function(ee){return z$1(ee)===p$1};reactIs_production_min.isValidElementType=function(ee){return typeof ee=="string"||typeof ee=="function"||ee===e$1||ee===m$1||ee===g$1||ee===f$1||ee===p$1||ee===q$1||typeof ee=="object"&&ee!==null&&(ee.$$typeof===t$1||ee.$$typeof===r$1||ee.$$typeof===h$1||ee.$$typeof===k$1||ee.$$typeof===n$1||ee.$$typeof===w$1||ee.$$typeof===x$1||ee.$$typeof===y$1||ee.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(ee,$,te){var ne="";return te.split(" ").forEach(function(ie){ee[ie]!==void 0?$.push(ee[ie]+";"):ie&&(ne+=ie+" ")}),ne}var registerStyles=function($,te,ne){var ie=$.key+"-"+te.name;(ne===!1||isBrowser===!1)&&$.registered[ie]===void 0&&($.registered[ie]=te.styles)},insertStyles=function($,te,ne){registerStyles($,te,ne);var ie=$.key+"-"+te.name;if($.inserted[te.name]===void 0){var se=te;do $.insert(te===se?"."+ie:"",se,$.sheet,!0),se=se.next;while(se!==void 0)}};function murmur2(ee){for(var $=0,te,ne=0,ie=ee.length;ie>=4;++ne,ie-=4)te=ee.charCodeAt(ne)&255|(ee.charCodeAt(++ne)&255)<<8|(ee.charCodeAt(++ne)&255)<<16|(ee.charCodeAt(++ne)&255)<<24,te=(te&65535)*1540483477+((te>>>16)*59797<<16),te^=te>>>24,$=(te&65535)*1540483477+((te>>>16)*59797<<16)^($&65535)*1540483477+(($>>>16)*59797<<16);switch(ie){case 3:$^=(ee.charCodeAt(ne+2)&255)<<16;case 2:$^=(ee.charCodeAt(ne+1)&255)<<8;case 1:$^=ee.charCodeAt(ne)&255,$=($&65535)*1540483477+(($>>>16)*59797<<16)}return $^=$>>>13,$=($&65535)*1540483477+(($>>>16)*59797<<16),(($^$>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},isDevelopment$2=!1,hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function($){return $.charCodeAt(1)===45},isProcessableValue=function($){return $!=null&&typeof $!="boolean"},processStyleName=memoize(function(ee){return isCustomProperty(ee)?ee:ee.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function($,te){switch($){case"animation":case"animationName":if(typeof te=="string")return te.replace(animationRegex,function(ne,ie,se){return cursor={name:ie,styles:se,next:cursor},ie})}return unitlessKeys[$]!==1&&!isCustomProperty($)&&typeof te=="number"&&te!==0?te+"px":te},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(ee,$,te){if(te==null)return"";var ne=te;if(ne.__emotion_styles!==void 0)return ne;switch(typeof te){case"boolean":return"";case"object":{var ie=te;if(ie.anim===1)return cursor={name:ie.name,styles:ie.styles,next:cursor},ie.name;var se=te;if(se.styles!==void 0){var le=se.next;if(le!==void 0)for(;le!==void 0;)cursor={name:le.name,styles:le.styles,next:cursor},le=le.next;var oe=se.styles+";";return oe}return createStringFromObject(ee,$,te)}case"function":{if(ee!==void 0){var ce=cursor,ae=te(ee);return cursor=ce,handleInterpolation(ee,$,ae)}break}}var he=te;if($==null)return he;var de=$[he];return de!==void 0?de:he}function createStringFromObject(ee,$,te){var ne="";if(Array.isArray(te))for(var ie=0;ie<te.length;ie++)ne+=handleInterpolation(ee,$,te[ie])+";";else for(var se in te){var le=te[se];if(typeof le!="object"){var oe=le;$!=null&&$[oe]!==void 0?ne+=se+"{"+$[oe]+"}":isProcessableValue(oe)&&(ne+=processStyleName(se)+":"+processStyleValue(se,oe)+";")}else{if(se==="NO_COMPONENT_SELECTOR"&&isDevelopment$2)throw new Error(noComponentSelectorMessage);if(Array.isArray(le)&&typeof le[0]=="string"&&($==null||$[le[0]]===void 0))for(var ce=0;ce<le.length;ce++)isProcessableValue(le[ce])&&(ne+=processStyleName(se)+":"+processStyleValue(se,le[ce])+";");else{var ae=handleInterpolation(ee,$,le);switch(se){case"animation":case"animationName":{ne+=processStyleName(se)+":"+ae+";";break}default:ne+=se+"{"+ae+"}"}}}}return ne}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(ee,$,te){if(ee.length===1&&typeof ee[0]=="object"&&ee[0]!==null&&ee[0].styles!==void 0)return ee[0];var ne=!0,ie="";cursor=void 0;var se=ee[0];if(se==null||se.raw===void 0)ne=!1,ie+=handleInterpolation(te,$,se);else{var le=se;ie+=le[0]}for(var oe=1;oe<ee.length;oe++)if(ie+=handleInterpolation(te,$,ee[oe]),ne){var ce=se;ie+=ce[oe]}labelPattern.lastIndex=0;for(var ae="",he;(he=labelPattern.exec(ie))!==null;)ae+="-"+he[1];var de=murmur2(ie)+ae;return{name:de,styles:ie,next:cursor}}var syncFallback=function($){return $()},useInsertionEffect=React$5.useInsertionEffect?React$5.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,isDevelopment$1=!1,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function($){return reactExports.forwardRef(function(te,ne){var ie=reactExports.useContext(EmotionCacheContext);return $(te,ie,ne)})},ThemeContext=reactExports.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function($,te){var ne={};for(var ie in te)hasOwn.call(te,ie)&&(ne[ie]=te[ie]);return ne[typePropName]=$,ne},Insertion$1=function($){var te=$.cache,ne=$.serialized,ie=$.isStringTag;return registerStyles(te,ne,ie),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(te,ne,ie)}),null},Emotion=withEmotionCache(function(ee,$,te){var ne=ee.css;typeof ne=="string"&&$.registered[ne]!==void 0&&(ne=$.registered[ne]);var ie=ee[typePropName],se=[ne],le="";typeof ee.className=="string"?le=getRegisteredStyles($.registered,se,ee.className):ee.className!=null&&(le=ee.className+" ");var oe=serializeStyles(se,void 0,reactExports.useContext(ThemeContext));le+=$.key+"-"+oe.name;var ce={};for(var ae in ee)hasOwn.call(ee,ae)&&ae!=="css"&&ae!==typePropName&&!isDevelopment$1&&(ce[ae]=ee[ae]);return ce.className=le,te&&(ce.ref=te),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:$,serialized:oe,isStringTag:typeof ie=="string"}),reactExports.createElement(ie,ce))}),Emotion$1=Emotion,jsx=function($,te){var ne=arguments;if(te==null||!hasOwn.call(te,"css"))return reactExports.createElement.apply(void 0,ne);var ie=ne.length,se=new Array(ie);se[0]=Emotion$1,se[1]=createEmotionProps($,te);for(var le=2;le<ie;le++)se[le]=ne[le];return reactExports.createElement.apply(null,se)};(function(ee){var $;$||($=ee.JSX||(ee.JSX={}))})(jsx||(jsx={}));function css(){for(var ee=arguments.length,$=new Array(ee),te=0;te<ee;te++)$[te]=arguments[te];return serializeStyles($)}function keyframes(){var ee=css.apply(void 0,arguments),$="animation-"+ee.name;return{name:$,styles:"@keyframes "+$+"{"+ee.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(ee){return reactPropsRegex.test(ee)||ee.charCodeAt(0)===111&&ee.charCodeAt(1)===110&&ee.charCodeAt(2)<91}),isDevelopment=!1,testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function($){return $!=="theme"},getDefaultShouldForwardProp=function($){return typeof $=="string"&&$.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function($,te,ne){var ie;if(te){var se=te.shouldForwardProp;ie=$.__emotion_forwardProp&&se?function(le){return $.__emotion_forwardProp(le)&&se(le)}:se}return typeof ie!="function"&&ne&&(ie=$.__emotion_forwardProp),ie},Insertion=function($){var te=$.cache,ne=$.serialized,ie=$.isStringTag;return registerStyles(te,ne,ie),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(te,ne,ie)}),null},createStyled$1=function ee($,te){var ne=$.__emotion_real===$,ie=ne&&$.__emotion_base||$,se,le;te!==void 0&&(se=te.label,le=te.target);var oe=composeShouldForwardProps($,te,ne),ce=oe||getDefaultShouldForwardProp(ie),ae=!ce("as");return function(){var he=arguments,de=ne&&$.__emotion_styles!==void 0?$.__emotion_styles.slice(0):[];if(se!==void 0&&de.push("label:"+se+";"),he[0]==null||he[0].raw===void 0)de.push.apply(de,he);else{var pe=he[0];de.push(pe[0]);for(var re=he.length,Ae=1;Ae<re;Ae++)de.push(he[Ae],pe[Ae])}var ge=withEmotionCache(function(Se,fe,be){var xe=ae&&Se.as||ie,ue="",we=[],Fe=Se;if(Se.theme==null){Fe={};for(var _e in Se)Fe[_e]=Se[_e];Fe.theme=reactExports.useContext(ThemeContext)}typeof Se.className=="string"?ue=getRegisteredStyles(fe.registered,we,Se.className):Se.className!=null&&(ue=Se.className+" ");var Ee=serializeStyles(de.concat(we),fe.registered,Fe);ue+=fe.key+"-"+Ee.name,le!==void 0&&(ue+=" "+le);var Ce=ae&&oe===void 0?getDefaultShouldForwardProp(xe):ce,ye={};for(var Re in Se)ae&&Re==="as"||Ce(Re)&&(ye[Re]=Se[Re]);return ye.className=ue,be&&(ye.ref=be),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:fe,serialized:Ee,isStringTag:typeof xe=="string"}),reactExports.createElement(xe,ye))});return ge.displayName=se!==void 0?se:"Styled("+(typeof ie=="string"?ie:ie.displayName||ie.name||"Component")+")",ge.defaultProps=$.defaultProps,ge.__emotion_real=ge,ge.__emotion_base=ie,ge.__emotion_styles=de,ge.__emotion_forwardProp=oe,Object.defineProperty(ge,"toString",{value:function(){return le===void 0&&isDevelopment?"NO_COMPONENT_SELECTOR":"."+le}}),ge.withComponent=function(Se,fe){var be=ee(Se,_extends({},te,fe,{shouldForwardProp:composeShouldForwardProps(ge,fe,!0)}));return be.apply(void 0,de)},ge}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind(null);tags.forEach(function(ee){newStyled[ee]=newStyled(ee)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$1(ee,$){return newStyled(ee,$)}function internal_mutateStyles(ee,$){Array.isArray(ee.__emotion_styles)&&(ee.__emotion_styles=$(ee.__emotion_styles))}const wrapper=[];function internal_serializeStyles(ee){return wrapper[0]=ee,serializeStyles(wrapper)}const sortBreakpointsValues=ee=>{const $=Object.keys(ee).map(te=>({key:te,val:ee[te]}))||[];return $.sort((te,ne)=>te.val-ne.val),$.reduce((te,ne)=>({...te,[ne.key]:ne.val}),{})};function createBreakpoints(ee){const{values:$={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:te="px",step:ne=5,...ie}=ee,se=sortBreakpointsValues($),le=Object.keys(se);function oe(pe){return`@media (min-width:${typeof $[pe]=="number"?$[pe]:pe}${te})`}function ce(pe){return`@media (max-width:${(typeof $[pe]=="number"?$[pe]:pe)-ne/100}${te})`}function ae(pe,re){const Ae=le.indexOf(re);return`@media (min-width:${typeof $[pe]=="number"?$[pe]:pe}${te}) and (max-width:${(Ae!==-1&&typeof $[le[Ae]]=="number"?$[le[Ae]]:re)-ne/100}${te})`}function he(pe){return le.indexOf(pe)+1<le.length?ae(pe,le[le.indexOf(pe)+1]):oe(pe)}function de(pe){const re=le.indexOf(pe);return re===0?oe(le[1]):re===le.length-1?ce(le[re]):ae(pe,le[le.indexOf(pe)+1]).replace("@media","@media not all and")}return{keys:le,values:se,up:oe,down:ce,between:ae,only:he,not:de,unit:te,...ie}}const shape={borderRadius:4};function createSpacing(ee=8,$=createUnarySpacing({spacing:ee})){if(ee.mui)return ee;const te=(...ne)=>(ne.length===0?[1]:ne).map(se=>{const le=$(se);return typeof le=="number"?`${le}px`:le}).join(" ");return te.mui=!0,te}function applyStyles(ee,$){var ne;const te=this;if(te.vars){if(!((ne=te.colorSchemes)!=null&&ne[ee])||typeof te.getColorSchemeSelector!="function")return{};let ie=te.getColorSchemeSelector(ee);return ie==="&"?$:((ie.includes("data-")||ie.includes("."))&&(ie=`*:where(${ie.replace(/\s*&$/,"")}) &`),{[ie]:$})}return te.palette.mode===ee?$:{}}function createTheme$1(ee={},...$){const{breakpoints:te={},palette:ne={},spacing:ie,shape:se={},...le}=ee,oe=createBreakpoints(te),ce=createSpacing(ie);let ae=deepmerge({breakpoints:oe,direction:"ltr",components:{},palette:{mode:"light",...ne},spacing:ce,shape:{...shape,...se}},le);return ae=cssContainerQueries(ae),ae.applyStyles=applyStyles,ae=$.reduce((he,de)=>deepmerge(he,de),ae),ae.unstable_sxConfig={...defaultSxConfig,...le==null?void 0:le.unstable_sxConfig},ae.unstable_sx=function(de){return styleFunctionSx({sx:de,theme:this})},ae}function isObjectEmpty$1(ee){return Object.keys(ee).length===0}function useTheme$2(ee=null){const $=reactExports.useContext(ThemeContext);return!$||isObjectEmpty$1($)?ee:$}const systemDefaultTheme$1=createTheme$1();function useTheme$1(ee=systemDefaultTheme$1){return useTheme$2(ee)}const defaultGenerator=ee=>ee,createClassNameGenerator=()=>{let ee=defaultGenerator;return{configure($){ee=$},generate($){return ee($)},reset(){ee=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(ee,$,te="Mui"){const ne=globalStateClasses[$];return ne?`${te}-${ne}`:`${ClassNameGenerator.generate(ee)}-${$}`}function generateUtilityClasses(ee,$,te="Mui"){const ne={};return $.forEach(ie=>{ne[ie]=generateUtilityClass(ee,ie,te)}),ne}function preprocessStyles(ee){const{variants:$,...te}=ee,ne={variants:$,style:internal_serializeStyles(te),isProcessed:!0};return ne.style===te||$&&$.forEach(ie=>{typeof ie.style!="function"&&(ie.style=internal_serializeStyles(ie.style))}),ne}const systemDefaultTheme=createTheme$1();function shouldForwardProp(ee){return ee!=="ownerState"&&ee!=="theme"&&ee!=="sx"&&ee!=="as"}function defaultOverridesResolver(ee){return ee?($,te)=>te[ee]:null}function attachTheme(ee,$,te){ee.theme=isObjectEmpty(ee.theme)?te:ee.theme[$]||ee.theme}function processStyle(ee,$){const te=typeof $=="function"?$(ee):$;if(Array.isArray(te))return te.flatMap(ne=>processStyle(ee,ne));if(Array.isArray(te==null?void 0:te.variants)){let ne;if(te.isProcessed)ne=te.style;else{const{variants:ie,...se}=te;ne=se}return processStyleVariants(ee,te.variants,[ne])}return te!=null&&te.isProcessed?te.style:te}function processStyleVariants(ee,$,te=[]){var ie;let ne;e:for(let se=0;se<$.length;se+=1){const le=$[se];if(typeof le.props=="function"){if(ne??(ne={...ee,...ee.ownerState,ownerState:ee.ownerState}),!le.props(ne))continue}else for(const oe in le.props)if(ee[oe]!==le.props[oe]&&((ie=ee.ownerState)==null?void 0:ie[oe])!==le.props[oe])continue e;typeof le.style=="function"?(ne??(ne={...ee,...ee.ownerState,ownerState:ee.ownerState}),te.push(le.style(ne))):te.push(le.style)}return te}function createStyled(ee={}){const{themeId:$,defaultTheme:te=systemDefaultTheme,rootShouldForwardProp:ne=shouldForwardProp,slotShouldForwardProp:ie=shouldForwardProp}=ee;function se(oe){attachTheme(oe,$,te)}return(oe,ce={})=>{internal_mutateStyles(oe,we=>we.filter(Fe=>Fe!==styleFunctionSx));const{name:ae,slot:he,skipVariantsResolver:de,skipSx:pe,overridesResolver:re=defaultOverridesResolver(lowercaseFirstLetter(he)),...Ae}=ce,ge=de!==void 0?de:he&&he!=="Root"&&he!=="root"||!1,Se=pe||!1;let fe=shouldForwardProp;he==="Root"||he==="root"?fe=ne:he?fe=ie:isStringTag(oe)&&(fe=void 0);const be=styled$1(oe,{shouldForwardProp:fe,label:generateStyledLabel(),...Ae}),xe=we=>{if(typeof we=="function"&&we.__emotion_real!==we)return function(_e){return processStyle(_e,we)};if(isPlainObject(we)){const Fe=preprocessStyles(we);return Fe.variants?function(Ee){return processStyle(Ee,Fe)}:Fe.style}return we},ue=(...we)=>{const Fe=[],_e=we.map(xe),Ee=[];if(Fe.push(se),ae&&re&&Ee.push(function(Ye){var Pe,Ue;const $e=(Ue=(Pe=Ye.theme.components)==null?void 0:Pe[ae])==null?void 0:Ue.styleOverrides;if(!$e)return null;const Be={};for(const Te in $e)Be[Te]=processStyle(Ye,$e[Te]);return re(Ye,Be)}),ae&&!ge&&Ee.push(function(Ye){var Be,Pe;const ke=Ye.theme,$e=(Pe=(Be=ke==null?void 0:ke.components)==null?void 0:Be[ae])==null?void 0:Pe.variants;return $e?processStyleVariants(Ye,$e):null}),Se||Ee.push(styleFunctionSx),Array.isArray(_e[0])){const Re=_e.shift(),Ye=new Array(Fe.length).fill(""),ke=new Array(Ee.length).fill("");let $e;$e=[...Ye,...Re,...ke],$e.raw=[...Ye,...Re.raw,...ke],Fe.unshift($e)}const Ce=[...Fe,..._e,...Ee],ye=be(...Ce);return oe.muiName&&(ye.muiName=oe.muiName),ye};return be.withConfig&&(ue.withConfig=be.withConfig),ue}}function generateStyledLabel(ee,$){return void 0}function isObjectEmpty(ee){for(const $ in ee)return!1;return!0}function isStringTag(ee){return typeof ee=="string"&&ee.charCodeAt(0)>96}function lowercaseFirstLetter(ee){return ee&&ee.charAt(0).toLowerCase()+ee.slice(1)}function resolveProps(ee,$){const te={...$};for(const ne in ee)if(Object.prototype.hasOwnProperty.call(ee,ne)){const ie=ne;if(ie==="components"||ie==="slots")te[ie]={...ee[ie],...te[ie]};else if(ie==="componentsProps"||ie==="slotProps"){const se=ee[ie],le=$[ie];if(!le)te[ie]=se||{};else if(!se)te[ie]=le;else{te[ie]={...le};for(const oe in se)if(Object.prototype.hasOwnProperty.call(se,oe)){const ce=oe;te[ie][ce]=resolveProps(se[ce],le[ce])}}}else te[ie]===void 0&&(te[ie]=ee[ie])}return te}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp(ee,$=Number.MIN_SAFE_INTEGER,te=Number.MAX_SAFE_INTEGER){return Math.max($,Math.min(ee,te))}function clampWrapper(ee,$=0,te=1){return clamp(ee,$,te)}function hexToRgb(ee){ee=ee.slice(1);const $=new RegExp(`.{1,${ee.length>=6?2:1}}`,"g");let te=ee.match($);return te&&te[0].length===1&&(te=te.map(ne=>ne+ne)),te?`rgb${te.length===4?"a":""}(${te.map((ne,ie)=>ie<3?parseInt(ne,16):Math.round(parseInt(ne,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(ee){if(ee.type)return ee;if(ee.charAt(0)==="#")return decomposeColor(hexToRgb(ee));const $=ee.indexOf("("),te=ee.substring(0,$);if(!["rgb","rgba","hsl","hsla","color"].includes(te))throw new Error(formatMuiErrorMessage(9,ee));let ne=ee.substring($+1,ee.length-1),ie;if(te==="color"){if(ne=ne.split(" "),ie=ne.shift(),ne.length===4&&ne[3].charAt(0)==="/"&&(ne[3]=ne[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(ie))throw new Error(formatMuiErrorMessage(10,ie))}else ne=ne.split(",");return ne=ne.map(se=>parseFloat(se)),{type:te,values:ne,colorSpace:ie}}const colorChannel=ee=>{const $=decomposeColor(ee);return $.values.slice(0,3).map((te,ne)=>$.type.includes("hsl")&&ne!==0?`${te}%`:te).join(" ")},private_safeColorChannel=(ee,$)=>{try{return colorChannel(ee)}catch{return ee}};function recomposeColor(ee){const{type:$,colorSpace:te}=ee;let{values:ne}=ee;return $.includes("rgb")?ne=ne.map((ie,se)=>se<3?parseInt(ie,10):ie):$.includes("hsl")&&(ne[1]=`${ne[1]}%`,ne[2]=`${ne[2]}%`),$.includes("color")?ne=`${te} ${ne.join(" ")}`:ne=`${ne.join(", ")}`,`${$}(${ne})`}function hslToRgb(ee){ee=decomposeColor(ee);const{values:$}=ee,te=$[0],ne=$[1]/100,ie=$[2]/100,se=ne*Math.min(ie,1-ie),le=(ae,he=(ae+te/30)%12)=>ie-se*Math.max(Math.min(he-3,9-he,1),-1);let oe="rgb";const ce=[Math.round(le(0)*255),Math.round(le(8)*255),Math.round(le(4)*255)];return ee.type==="hsla"&&(oe+="a",ce.push($[3])),recomposeColor({type:oe,values:ce})}function getLuminance(ee){ee=decomposeColor(ee);let $=ee.type==="hsl"||ee.type==="hsla"?decomposeColor(hslToRgb(ee)).values:ee.values;return $=$.map(te=>(ee.type!=="color"&&(te/=255),te<=.03928?te/12.92:((te+.055)/1.055)**2.4)),Number((.2126*$[0]+.7152*$[1]+.0722*$[2]).toFixed(3))}function getContrastRatio(ee,$){const te=getLuminance(ee),ne=getLuminance($);return(Math.max(te,ne)+.05)/(Math.min(te,ne)+.05)}function alpha(ee,$){return ee=decomposeColor(ee),$=clampWrapper($),(ee.type==="rgb"||ee.type==="hsl")&&(ee.type+="a"),ee.type==="color"?ee.values[3]=`/${$}`:ee.values[3]=$,recomposeColor(ee)}function private_safeAlpha(ee,$,te){try{return alpha(ee,$)}catch{return ee}}function darken(ee,$){if(ee=decomposeColor(ee),$=clampWrapper($),ee.type.includes("hsl"))ee.values[2]*=1-$;else if(ee.type.includes("rgb")||ee.type.includes("color"))for(let te=0;te<3;te+=1)ee.values[te]*=1-$;return recomposeColor(ee)}function private_safeDarken(ee,$,te){try{return darken(ee,$)}catch{return ee}}function lighten(ee,$){if(ee=decomposeColor(ee),$=clampWrapper($),ee.type.includes("hsl"))ee.values[2]+=(100-ee.values[2])*$;else if(ee.type.includes("rgb"))for(let te=0;te<3;te+=1)ee.values[te]+=(255-ee.values[te])*$;else if(ee.type.includes("color"))for(let te=0;te<3;te+=1)ee.values[te]+=(1-ee.values[te])*$;return recomposeColor(ee)}function private_safeLighten(ee,$,te){try{return lighten(ee,$)}catch{return ee}}function emphasize(ee,$=.15){return getLuminance(ee)>.5?darken(ee,$):lighten(ee,$)}function private_safeEmphasize(ee,$,te){try{return emphasize(ee,$)}catch{return ee}}function setRef(ee,$){typeof ee=="function"?ee($):ee&&(ee.current=$)}let globalId=0;function useGlobalId(ee){const[$,te]=reactExports.useState(ee),ne=ee||$;return reactExports.useEffect(()=>{$==null&&(globalId+=1,te(`mui-${globalId}`))},[$]),ne}const safeReact={...React$5},maybeReactUseId=safeReact.useId;function useId(ee){if(maybeReactUseId!==void 0){const $=maybeReactUseId();return ee??$}return useGlobalId(ee)}function useEventCallback(ee){const $=reactExports.useRef(ee);return useEnhancedEffect(()=>{$.current=ee}),reactExports.useRef((...te)=>(0,$.current)(...te)).current}function useForkRef(...ee){return reactExports.useMemo(()=>ee.every($=>$==null)?null:$=>{ee.forEach(te=>{setRef(te,$)})},ee)}const UNINITIALIZED={};function useLazyRef(ee,$){const te=reactExports.useRef(UNINITIALIZED);return te.current===UNINITIALIZED&&(te.current=ee($)),te}const EMPTY=[];function useOnMount(ee){reactExports.useEffect(ee,EMPTY)}class Timeout{constructor(){vi(this,"currentId",null);vi(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});vi(this,"disposeEffect",()=>this.clear)}static create(){return new Timeout}start($,te){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,te()},$)}}function useTimeout(){const ee=useLazyRef(Timeout.create).current;return useOnMount(ee.disposeEffect),ee}function isFocusVisible(ee){try{return ee.matches(":focus-visible")}catch{}return!1}function isHostComponent(ee){return typeof ee=="string"}function appendOwnerState(ee,$,te){return ee===void 0||isHostComponent(ee)?$:{...$,ownerState:{...$.ownerState,...te}}}function extractEventHandlers(ee,$=[]){if(ee===void 0)return{};const te={};return Object.keys(ee).filter(ne=>ne.match(/^on[A-Z]/)&&typeof ee[ne]=="function"&&!$.includes(ne)).forEach(ne=>{te[ne]=ee[ne]}),te}function omitEventHandlers(ee){if(ee===void 0)return{};const $={};return Object.keys(ee).filter(te=>!(te.match(/^on[A-Z]/)&&typeof ee[te]=="function")).forEach(te=>{$[te]=ee[te]}),$}function mergeSlotProps(ee){const{getSlotProps:$,additionalProps:te,externalSlotProps:ne,externalForwardedProps:ie,className:se}=ee;if(!$){const re=clsx(te==null?void 0:te.className,se,ie==null?void 0:ie.className,ne==null?void 0:ne.className),Ae={...te==null?void 0:te.style,...ie==null?void 0:ie.style,...ne==null?void 0:ne.style},ge={...te,...ie,...ne};return re.length>0&&(ge.className=re),Object.keys(Ae).length>0&&(ge.style=Ae),{props:ge,internalRef:void 0}}const le=extractEventHandlers({...ie,...ne}),oe=omitEventHandlers(ne),ce=omitEventHandlers(ie),ae=$(le),he=clsx(ae==null?void 0:ae.className,te==null?void 0:te.className,se,ie==null?void 0:ie.className,ne==null?void 0:ne.className),de={...ae==null?void 0:ae.style,...te==null?void 0:te.style,...ie==null?void 0:ie.style,...ne==null?void 0:ne.style},pe={...ae,...te,...ce,...oe};return he.length>0&&(pe.className=he),Object.keys(de).length>0&&(pe.style=de),{props:pe,internalRef:ae.ref}}function resolveComponentProps(ee,$,te){return typeof ee=="function"?ee($,te):ee}const PropsContext=reactExports.createContext(void 0);function getThemeProps(ee){const{theme:$,name:te,props:ne}=ee;if(!$||!$.components||!$.components[te])return ne;const ie=$.components[te];return ie.defaultProps?resolveProps(ie.defaultProps,ne):!ie.styleOverrides&&!ie.variants?resolveProps(ie,ne):ne}function useDefaultProps$1({props:ee,name:$}){const te=reactExports.useContext(PropsContext);return getThemeProps({props:ee,name:$,theme:{components:te}})}const arg={theme:void 0};function unstable_memoTheme(ee){let $,te;return function(ie){let se=$;return(se===void 0||ie.theme!==te)&&(arg.theme=ie.theme,se=preprocessStyles(ee(arg)),$=se,te=ie.theme),se}}function createGetCssVar$1(ee=""){function $(...ne){if(!ne.length)return"";const ie=ne[0];return typeof ie=="string"&&!ie.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${ee?`${ee}-`:""}${ie}${$(...ne.slice(1))})`:`, ${ie}`}return(ne,...ie)=>`var(--${ee?`${ee}-`:""}${ne}${$(...ie)})`}const assignNestedKeys=(ee,$,te,ne=[])=>{let ie=ee;$.forEach((se,le)=>{le===$.length-1?Array.isArray(ie)?ie[Number(se)]=te:ie&&typeof ie=="object"&&(ie[se]=te):ie&&typeof ie=="object"&&(ie[se]||(ie[se]=ne.includes(se)?[]:{}),ie=ie[se])})},walkObjectDeep=(ee,$,te)=>{function ne(ie,se=[],le=[]){Object.entries(ie).forEach(([oe,ce])=>{(!te||te&&!te([...se,oe]))&&ce!=null&&(typeof ce=="object"&&Object.keys(ce).length>0?ne(ce,[...se,oe],Array.isArray(ce)?[...le,oe]:le):$([...se,oe],ce,le))})}ne(ee)},getCssValue=(ee,$)=>typeof $=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(ne=>ee.includes(ne))||ee[ee.length-1].toLowerCase().includes("opacity")?$:`${$}px`:$;function cssVarsParser(ee,$){const{prefix:te,shouldSkipGeneratingVar:ne}=$||{},ie={},se={},le={};return walkObjectDeep(ee,(oe,ce,ae)=>{if((typeof ce=="string"||typeof ce=="number")&&(!ne||!ne(oe,ce))){const he=`--${te?`${te}-`:""}${oe.join("-")}`,de=getCssValue(oe,ce);Object.assign(ie,{[he]:de}),assignNestedKeys(se,oe,`var(${he})`,ae),assignNestedKeys(le,oe,`var(${he}, ${de})`,ae)}},oe=>oe[0]==="vars"),{css:ie,vars:se,varsWithDefaults:le}}function prepareCssVars(ee,$={}){const{getSelector:te=Se,disableCssColorScheme:ne,colorSchemeSelector:ie}=$,{colorSchemes:se={},components:le,defaultColorScheme:oe="light",...ce}=ee,{vars:ae,css:he,varsWithDefaults:de}=cssVarsParser(ce,$);let pe=de;const re={},{[oe]:Ae,...ge}=se;if(Object.entries(ge||{}).forEach(([xe,ue])=>{const{vars:we,css:Fe,varsWithDefaults:_e}=cssVarsParser(ue,$);pe=deepmerge(pe,_e),re[xe]={css:Fe,vars:we}}),Ae){const{css:xe,vars:ue,varsWithDefaults:we}=cssVarsParser(Ae,$);pe=deepmerge(pe,we),re[oe]={css:xe,vars:ue}}function Se(xe,ue){var Fe,_e;let we=ie;if(ie==="class"&&(we=".%s"),ie==="data"&&(we="[data-%s]"),ie!=null&&ie.startsWith("data-")&&!ie.includes("%s")&&(we=`[${ie}="%s"]`),xe){if(we==="media")return ee.defaultColorScheme===xe?":root":{[`@media (prefers-color-scheme: ${((_e=(Fe=se[xe])==null?void 0:Fe.palette)==null?void 0:_e.mode)||xe})`]:{":root":ue}};if(we)return ee.defaultColorScheme===xe?`:root, ${we.replace("%s",String(xe))}`:we.replace("%s",String(xe))}return":root"}return{vars:pe,generateThemeVars:()=>{let xe={...ae};return Object.entries(re).forEach(([,{vars:ue}])=>{xe=deepmerge(xe,ue)}),xe},generateStyleSheets:()=>{var Ee,Ce;const xe=[],ue=ee.defaultColorScheme||"light";function we(ye,Re){Object.keys(Re).length&&xe.push(typeof ye=="string"?{[ye]:{...Re}}:ye)}we(te(void 0,{...he}),he);const{[ue]:Fe,..._e}=re;if(Fe){const{css:ye}=Fe,Re=(Ce=(Ee=se[ue])==null?void 0:Ee.palette)==null?void 0:Ce.mode,Ye=!ne&&Re?{colorScheme:Re,...ye}:{...ye};we(te(ue,{...Ye}),Ye)}return Object.entries(_e).forEach(([ye,{css:Re}])=>{var $e,Be;const Ye=(Be=($e=se[ye])==null?void 0:$e.palette)==null?void 0:Be.mode,ke=!ne&&Ye?{colorScheme:Ye,...Re}:{...Re};we(te(ye,{...ke}),ke)}),xe}}}function createGetColorSchemeSelector(ee){return function(te){return ee==="media"?`@media (prefers-color-scheme: ${te})`:ee?ee.startsWith("data-")&&!ee.includes("%s")?`[${ee}="${te}"] &`:ee==="class"?`.${te} &`:ee==="data"?`[data-${te}] &`:`${ee.replace("%s",te)} &`:"&"}}const common={black:"#000",white:"#fff"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function getLight(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common.white,default:common.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const light=getLight();function getDark(){return{text:{primary:common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const dark=getDark();function addLightOrDark(ee,$,te,ne){const ie=ne.light||ne,se=ne.dark||ne*1.5;ee[$]||(ee.hasOwnProperty(te)?ee[$]=ee[te]:$==="light"?ee.light=lighten(ee.main,ie):$==="dark"&&(ee.dark=darken(ee.main,se)))}function getDefaultPrimary(ee="light"){return ee==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(ee="light"){return ee==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(ee="light"){return ee==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(ee="light"){return ee==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(ee="light"){return ee==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(ee="light"){return ee==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function createPalette(ee){const{mode:$="light",contrastThreshold:te=3,tonalOffset:ne=.2,...ie}=ee,se=ee.primary||getDefaultPrimary($),le=ee.secondary||getDefaultSecondary($),oe=ee.error||getDefaultError($),ce=ee.info||getDefaultInfo($),ae=ee.success||getDefaultSuccess($),he=ee.warning||getDefaultWarning($);function de(ge){return getContrastRatio(ge,dark.text.primary)>=te?dark.text.primary:light.text.primary}const pe=({color:ge,name:Se,mainShade:fe=500,lightShade:be=300,darkShade:xe=700})=>{if(ge={...ge},!ge.main&&ge[fe]&&(ge.main=ge[fe]),!ge.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,Se?` (${Se})`:"",fe));if(typeof ge.main!="string")throw new Error(formatMuiErrorMessage(12,Se?` (${Se})`:"",JSON.stringify(ge.main)));return addLightOrDark(ge,"light",be,ne),addLightOrDark(ge,"dark",xe,ne),ge.contrastText||(ge.contrastText=de(ge.main)),ge};let re;return $==="light"?re=getLight():$==="dark"&&(re=getDark()),deepmerge({common:{...common},mode:$,primary:pe({color:se,name:"primary"}),secondary:pe({color:le,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:pe({color:oe,name:"error"}),warning:pe({color:he,name:"warning"}),info:pe({color:ce,name:"info"}),success:pe({color:ae,name:"success"}),grey,contrastThreshold:te,getContrastText:de,augmentColor:pe,tonalOffset:ne,...re},ie)}function prepareTypographyVars(ee){const $={};return Object.entries(ee).forEach(ne=>{const[ie,se]=ne;typeof se=="object"&&($[ie]=`${se.fontStyle?`${se.fontStyle} `:""}${se.fontVariant?`${se.fontVariant} `:""}${se.fontWeight?`${se.fontWeight} `:""}${se.fontStretch?`${se.fontStretch} `:""}${se.fontSize||""}${se.lineHeight?`/${se.lineHeight} `:""}${se.fontFamily||""}`)}),$}function createMixins(ee,$){return{toolbar:{minHeight:56,[ee.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[ee.up("sm")]:{minHeight:64}},...$}}function round(ee){return Math.round(ee*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(ee,$){const{fontFamily:te=defaultFontFamily,fontSize:ne=14,fontWeightLight:ie=300,fontWeightRegular:se=400,fontWeightMedium:le=500,fontWeightBold:oe=700,htmlFontSize:ce=16,allVariants:ae,pxToRem:he,...de}=typeof $=="function"?$(ee):$,pe=ne/14,re=he||(Se=>`${Se/ce*pe}rem`),Ae=(Se,fe,be,xe,ue)=>({fontFamily:te,fontWeight:Se,fontSize:re(fe),lineHeight:be,...te===defaultFontFamily?{letterSpacing:`${round(xe/fe)}em`}:{},...ue,...ae}),ge={h1:Ae(ie,96,1.167,-1.5),h2:Ae(ie,60,1.2,-.5),h3:Ae(se,48,1.167,0),h4:Ae(se,34,1.235,.25),h5:Ae(se,24,1.334,0),h6:Ae(le,20,1.6,.15),subtitle1:Ae(se,16,1.75,.15),subtitle2:Ae(le,14,1.57,.1),body1:Ae(se,16,1.5,.15),body2:Ae(se,14,1.43,.15),button:Ae(le,14,1.75,.4,caseAllCaps),caption:Ae(se,12,1.66,.4),overline:Ae(se,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge({htmlFontSize:ce,pxToRem:re,fontFamily:te,fontSize:ne,fontWeightLight:ie,fontWeightRegular:se,fontWeightMedium:le,fontWeightBold:oe,...ge},de,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...ee){return[`${ee[0]}px ${ee[1]}px ${ee[2]}px ${ee[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${ee[4]}px ${ee[5]}px ${ee[6]}px ${ee[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${ee[8]}px ${ee[9]}px ${ee[10]}px ${ee[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(ee){return`${Math.round(ee)}ms`}function getAutoHeightDuration(ee){if(!ee)return 0;const $=ee/36;return Math.min(Math.round((4+15*$**.25+$/5)*10),3e3)}function createTransitions(ee){const $={...easing,...ee.easing},te={...duration,...ee.duration};return{getAutoHeightDuration,create:(ie=["all"],se={})=>{const{duration:le=te.standard,easing:oe=$.easeInOut,delay:ce=0,...ae}=se;return(Array.isArray(ie)?ie:[ie]).map(he=>`${he} ${typeof le=="string"?le:formatMs(le)} ${oe} ${typeof ce=="string"?ce:formatMs(ce)}`).join(",")},...ee,easing:$,duration:te}}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function isSerializable(ee){return isPlainObject(ee)||typeof ee>"u"||typeof ee=="string"||typeof ee=="boolean"||typeof ee=="number"||Array.isArray(ee)}function stringifyTheme(ee={}){const $={...ee};function te(ne){const ie=Object.entries(ne);for(let se=0;se<ie.length;se++){const[le,oe]=ie[se];!isSerializable(oe)||le.startsWith("unstable_")?delete ne[le]:isPlainObject(oe)&&(ne[le]={...oe},te(ne[le]))}}return te($),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify($,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function createThemeNoVars(ee={},...$){const{breakpoints:te,mixins:ne={},spacing:ie,palette:se={},transitions:le={},typography:oe={},shape:ce,...ae}=ee;if(ee.vars)throw new Error(formatMuiErrorMessage(20));const he=createPalette(se),de=createTheme$1(ee);let pe=deepmerge(de,{mixins:createMixins(de.breakpoints,ne),palette:he,shadows:shadows.slice(),typography:createTypography(he,oe),transitions:createTransitions(le),zIndex:{...zIndex}});return pe=deepmerge(pe,ae),pe=$.reduce((re,Ae)=>deepmerge(re,Ae),pe),pe.unstable_sxConfig={...defaultSxConfig,...ae==null?void 0:ae.unstable_sxConfig},pe.unstable_sx=function(Ae){return styleFunctionSx({sx:Ae,theme:this})},pe.toRuntimeSource=stringifyTheme,pe}function getOverlayAlpha(ee){let $;return ee<1?$=5.11916*ee**2:$=4.5*Math.log(ee+1)+2,Math.round($*10)/1e3}const defaultDarkOverlays=[...Array(25)].map((ee,$)=>{if($===0)return"none";const te=getOverlayAlpha($);return`linear-gradient(rgba(255 255 255 / ${te}), rgba(255 255 255 / ${te}))`});function getOpacity(ee){return{inputPlaceholder:ee==="dark"?.5:.42,inputUnderline:ee==="dark"?.7:.42,switchTrackDisabled:ee==="dark"?.2:.12,switchTrack:ee==="dark"?.3:.38}}function getOverlays(ee){return ee==="dark"?defaultDarkOverlays:[]}function createColorScheme(ee){const{palette:$={mode:"light"},opacity:te,overlays:ne,...ie}=ee,se=createPalette($);return{palette:se,opacity:{...getOpacity(se.mode),...te},overlays:ne||getOverlays(se.mode),...ie}}function shouldSkipGeneratingVar(ee){var $;return!!ee[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!ee[0].match(/sxConfig$/)||ee[0]==="palette"&&!!(($=ee[1])!=null&&$.match(/(mode|contrastThreshold|tonalOffset)/))}const excludeVariablesFromRoot=ee=>[...[...Array(25)].map(($,te)=>`--${ee?`${ee}-`:""}overlays-${te}`),`--${ee?`${ee}-`:""}palette-AppBar-darkBg`,`--${ee?`${ee}-`:""}palette-AppBar-darkColor`],defaultGetSelector=ee=>($,te)=>{const ne=ee.rootSelector||":root",ie=ee.colorSchemeSelector;let se=ie;if(ie==="class"&&(se=".%s"),ie==="data"&&(se="[data-%s]"),ie!=null&&ie.startsWith("data-")&&!ie.includes("%s")&&(se=`[${ie}="%s"]`),ee.defaultColorScheme===$){if($==="dark"){const le={};return excludeVariablesFromRoot(ee.cssVarPrefix).forEach(oe=>{le[oe]=te[oe],delete te[oe]}),se==="media"?{[ne]:te,"@media (prefers-color-scheme: dark)":{[ne]:le}}:se?{[se.replace("%s",$)]:le,[`${ne}, ${se.replace("%s",$)}`]:te}:{[ne]:{...te,...le}}}if(se&&se!=="media")return`${ne}, ${se.replace("%s",String($))}`}else if($){if(se==="media")return{[`@media (prefers-color-scheme: ${String($)})`]:{[ne]:te}};if(se)return se.replace("%s",String($))}return ne};function assignNode(ee,$){$.forEach(te=>{ee[te]||(ee[te]={})})}function setColor(ee,$,te){!ee[$]&&te&&(ee[$]=te)}function toRgb(ee){return typeof ee!="string"||!ee.startsWith("hsl")?ee:hslToRgb(ee)}function setColorChannel(ee,$){`${$}Channel`in ee||(ee[`${$}Channel`]=private_safeColorChannel(toRgb(ee[$]),`MUI: Can't create \`palette.${$}Channel\` because \`palette.${$}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${$}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function getSpacingVal(ee){return typeof ee=="number"?`${ee}px`:typeof ee=="string"||typeof ee=="function"||Array.isArray(ee)?ee:"8px"}const silent=ee=>{try{return ee()}catch{}},createGetCssVar=(ee="mui")=>createGetCssVar$1(ee);function attachColorScheme$1(ee,$,te,ne){if(!$)return;$=$===!0?{}:$;const ie=ne==="dark"?"dark":"light";if(!te){ee[ne]=createColorScheme({...$,palette:{mode:ie,...$==null?void 0:$.palette}});return}const{palette:se,...le}=createThemeNoVars({...te,palette:{mode:ie,...$==null?void 0:$.palette}});return ee[ne]={...$,palette:se,opacity:{...getOpacity(ie),...$==null?void 0:$.opacity},overlays:($==null?void 0:$.overlays)||getOverlays(ie)},le}function createThemeWithVars(ee={},...$){const{colorSchemes:te={light:!0},defaultColorScheme:ne,disableCssColorScheme:ie=!1,cssVarPrefix:se="mui",shouldSkipGeneratingVar:le=shouldSkipGeneratingVar,colorSchemeSelector:oe=te.light&&te.dark?"media":void 0,rootSelector:ce=":root",...ae}=ee,he=Object.keys(te)[0],de=ne||(te.light&&he!=="light"?"light":he),pe=createGetCssVar(se),{[de]:re,light:Ae,dark:ge,...Se}=te,fe={...Se};let be=re;if((de==="dark"&&!("dark"in te)||de==="light"&&!("light"in te))&&(be=!0),!be)throw new Error(formatMuiErrorMessage(21,de));const xe=attachColorScheme$1(fe,be,ae,de);Ae&&!fe.light&&attachColorScheme$1(fe,Ae,void 0,"light"),ge&&!fe.dark&&attachColorScheme$1(fe,ge,void 0,"dark");let ue={defaultColorScheme:de,...xe,cssVarPrefix:se,colorSchemeSelector:oe,rootSelector:ce,getCssVar:pe,colorSchemes:fe,font:{...prepareTypographyVars(xe.typography),...xe.font},spacing:getSpacingVal(ae.spacing)};Object.keys(ue.colorSchemes).forEach(Ce=>{const ye=ue.colorSchemes[Ce].palette,Re=Ye=>{const ke=Ye.split("-"),$e=ke[1],Be=ke[2];return pe(Ye,ye[$e][Be])};if(ye.mode==="light"&&(setColor(ye.common,"background","#fff"),setColor(ye.common,"onBackground","#000")),ye.mode==="dark"&&(setColor(ye.common,"background","#000"),setColor(ye.common,"onBackground","#fff")),assignNode(ye,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),ye.mode==="light"){setColor(ye.Alert,"errorColor",private_safeDarken(ye.error.light,.6)),setColor(ye.Alert,"infoColor",private_safeDarken(ye.info.light,.6)),setColor(ye.Alert,"successColor",private_safeDarken(ye.success.light,.6)),setColor(ye.Alert,"warningColor",private_safeDarken(ye.warning.light,.6)),setColor(ye.Alert,"errorFilledBg",Re("palette-error-main")),setColor(ye.Alert,"infoFilledBg",Re("palette-info-main")),setColor(ye.Alert,"successFilledBg",Re("palette-success-main")),setColor(ye.Alert,"warningFilledBg",Re("palette-warning-main")),setColor(ye.Alert,"errorFilledColor",silent(()=>ye.getContrastText(ye.error.main))),setColor(ye.Alert,"infoFilledColor",silent(()=>ye.getContrastText(ye.info.main))),setColor(ye.Alert,"successFilledColor",silent(()=>ye.getContrastText(ye.success.main))),setColor(ye.Alert,"warningFilledColor",silent(()=>ye.getContrastText(ye.warning.main))),setColor(ye.Alert,"errorStandardBg",private_safeLighten(ye.error.light,.9)),setColor(ye.Alert,"infoStandardBg",private_safeLighten(ye.info.light,.9)),setColor(ye.Alert,"successStandardBg",private_safeLighten(ye.success.light,.9)),setColor(ye.Alert,"warningStandardBg",private_safeLighten(ye.warning.light,.9)),setColor(ye.Alert,"errorIconColor",Re("palette-error-main")),setColor(ye.Alert,"infoIconColor",Re("palette-info-main")),setColor(ye.Alert,"successIconColor",Re("palette-success-main")),setColor(ye.Alert,"warningIconColor",Re("palette-warning-main")),setColor(ye.AppBar,"defaultBg",Re("palette-grey-100")),setColor(ye.Avatar,"defaultBg",Re("palette-grey-400")),setColor(ye.Button,"inheritContainedBg",Re("palette-grey-300")),setColor(ye.Button,"inheritContainedHoverBg",Re("palette-grey-A100")),setColor(ye.Chip,"defaultBorder",Re("palette-grey-400")),setColor(ye.Chip,"defaultAvatarColor",Re("palette-grey-700")),setColor(ye.Chip,"defaultIconColor",Re("palette-grey-700")),setColor(ye.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),setColor(ye.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),setColor(ye.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),setColor(ye.LinearProgress,"primaryBg",private_safeLighten(ye.primary.main,.62)),setColor(ye.LinearProgress,"secondaryBg",private_safeLighten(ye.secondary.main,.62)),setColor(ye.LinearProgress,"errorBg",private_safeLighten(ye.error.main,.62)),setColor(ye.LinearProgress,"infoBg",private_safeLighten(ye.info.main,.62)),setColor(ye.LinearProgress,"successBg",private_safeLighten(ye.success.main,.62)),setColor(ye.LinearProgress,"warningBg",private_safeLighten(ye.warning.main,.62)),setColor(ye.Skeleton,"bg",`rgba(${Re("palette-text-primaryChannel")} / 0.11)`),setColor(ye.Slider,"primaryTrack",private_safeLighten(ye.primary.main,.62)),setColor(ye.Slider,"secondaryTrack",private_safeLighten(ye.secondary.main,.62)),setColor(ye.Slider,"errorTrack",private_safeLighten(ye.error.main,.62)),setColor(ye.Slider,"infoTrack",private_safeLighten(ye.info.main,.62)),setColor(ye.Slider,"successTrack",private_safeLighten(ye.success.main,.62)),setColor(ye.Slider,"warningTrack",private_safeLighten(ye.warning.main,.62));const Ye=private_safeEmphasize(ye.background.default,.8);setColor(ye.SnackbarContent,"bg",Ye),setColor(ye.SnackbarContent,"color",silent(()=>ye.getContrastText(Ye))),setColor(ye.SpeedDialAction,"fabHoverBg",private_safeEmphasize(ye.background.paper,.15)),setColor(ye.StepConnector,"border",Re("palette-grey-400")),setColor(ye.StepContent,"border",Re("palette-grey-400")),setColor(ye.Switch,"defaultColor",Re("palette-common-white")),setColor(ye.Switch,"defaultDisabledColor",Re("palette-grey-100")),setColor(ye.Switch,"primaryDisabledColor",private_safeLighten(ye.primary.main,.62)),setColor(ye.Switch,"secondaryDisabledColor",private_safeLighten(ye.secondary.main,.62)),setColor(ye.Switch,"errorDisabledColor",private_safeLighten(ye.error.main,.62)),setColor(ye.Switch,"infoDisabledColor",private_safeLighten(ye.info.main,.62)),setColor(ye.Switch,"successDisabledColor",private_safeLighten(ye.success.main,.62)),setColor(ye.Switch,"warningDisabledColor",private_safeLighten(ye.warning.main,.62)),setColor(ye.TableCell,"border",private_safeLighten(private_safeAlpha(ye.divider,1),.88)),setColor(ye.Tooltip,"bg",private_safeAlpha(ye.grey[700],.92))}if(ye.mode==="dark"){setColor(ye.Alert,"errorColor",private_safeLighten(ye.error.light,.6)),setColor(ye.Alert,"infoColor",private_safeLighten(ye.info.light,.6)),setColor(ye.Alert,"successColor",private_safeLighten(ye.success.light,.6)),setColor(ye.Alert,"warningColor",private_safeLighten(ye.warning.light,.6)),setColor(ye.Alert,"errorFilledBg",Re("palette-error-dark")),setColor(ye.Alert,"infoFilledBg",Re("palette-info-dark")),setColor(ye.Alert,"successFilledBg",Re("palette-success-dark")),setColor(ye.Alert,"warningFilledBg",Re("palette-warning-dark")),setColor(ye.Alert,"errorFilledColor",silent(()=>ye.getContrastText(ye.error.dark))),setColor(ye.Alert,"infoFilledColor",silent(()=>ye.getContrastText(ye.info.dark))),setColor(ye.Alert,"successFilledColor",silent(()=>ye.getContrastText(ye.success.dark))),setColor(ye.Alert,"warningFilledColor",silent(()=>ye.getContrastText(ye.warning.dark))),setColor(ye.Alert,"errorStandardBg",private_safeDarken(ye.error.light,.9)),setColor(ye.Alert,"infoStandardBg",private_safeDarken(ye.info.light,.9)),setColor(ye.Alert,"successStandardBg",private_safeDarken(ye.success.light,.9)),setColor(ye.Alert,"warningStandardBg",private_safeDarken(ye.warning.light,.9)),setColor(ye.Alert,"errorIconColor",Re("palette-error-main")),setColor(ye.Alert,"infoIconColor",Re("palette-info-main")),setColor(ye.Alert,"successIconColor",Re("palette-success-main")),setColor(ye.Alert,"warningIconColor",Re("palette-warning-main")),setColor(ye.AppBar,"defaultBg",Re("palette-grey-900")),setColor(ye.AppBar,"darkBg",Re("palette-background-paper")),setColor(ye.AppBar,"darkColor",Re("palette-text-primary")),setColor(ye.Avatar,"defaultBg",Re("palette-grey-600")),setColor(ye.Button,"inheritContainedBg",Re("palette-grey-800")),setColor(ye.Button,"inheritContainedHoverBg",Re("palette-grey-700")),setColor(ye.Chip,"defaultBorder",Re("palette-grey-700")),setColor(ye.Chip,"defaultAvatarColor",Re("palette-grey-300")),setColor(ye.Chip,"defaultIconColor",Re("palette-grey-300")),setColor(ye.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),setColor(ye.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),setColor(ye.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),setColor(ye.LinearProgress,"primaryBg",private_safeDarken(ye.primary.main,.5)),setColor(ye.LinearProgress,"secondaryBg",private_safeDarken(ye.secondary.main,.5)),setColor(ye.LinearProgress,"errorBg",private_safeDarken(ye.error.main,.5)),setColor(ye.LinearProgress,"infoBg",private_safeDarken(ye.info.main,.5)),setColor(ye.LinearProgress,"successBg",private_safeDarken(ye.success.main,.5)),setColor(ye.LinearProgress,"warningBg",private_safeDarken(ye.warning.main,.5)),setColor(ye.Skeleton,"bg",`rgba(${Re("palette-text-primaryChannel")} / 0.13)`),setColor(ye.Slider,"primaryTrack",private_safeDarken(ye.primary.main,.5)),setColor(ye.Slider,"secondaryTrack",private_safeDarken(ye.secondary.main,.5)),setColor(ye.Slider,"errorTrack",private_safeDarken(ye.error.main,.5)),setColor(ye.Slider,"infoTrack",private_safeDarken(ye.info.main,.5)),setColor(ye.Slider,"successTrack",private_safeDarken(ye.success.main,.5)),setColor(ye.Slider,"warningTrack",private_safeDarken(ye.warning.main,.5));const Ye=private_safeEmphasize(ye.background.default,.98);setColor(ye.SnackbarContent,"bg",Ye),setColor(ye.SnackbarContent,"color",silent(()=>ye.getContrastText(Ye))),setColor(ye.SpeedDialAction,"fabHoverBg",private_safeEmphasize(ye.background.paper,.15)),setColor(ye.StepConnector,"border",Re("palette-grey-600")),setColor(ye.StepContent,"border",Re("palette-grey-600")),setColor(ye.Switch,"defaultColor",Re("palette-grey-300")),setColor(ye.Switch,"defaultDisabledColor",Re("palette-grey-600")),setColor(ye.Switch,"primaryDisabledColor",private_safeDarken(ye.primary.main,.55)),setColor(ye.Switch,"secondaryDisabledColor",private_safeDarken(ye.secondary.main,.55)),setColor(ye.Switch,"errorDisabledColor",private_safeDarken(ye.error.main,.55)),setColor(ye.Switch,"infoDisabledColor",private_safeDarken(ye.info.main,.55)),setColor(ye.Switch,"successDisabledColor",private_safeDarken(ye.success.main,.55)),setColor(ye.Switch,"warningDisabledColor",private_safeDarken(ye.warning.main,.55)),setColor(ye.TableCell,"border",private_safeDarken(private_safeAlpha(ye.divider,1),.68)),setColor(ye.Tooltip,"bg",private_safeAlpha(ye.grey[700],.92))}setColorChannel(ye.background,"default"),setColorChannel(ye.background,"paper"),setColorChannel(ye.common,"background"),setColorChannel(ye.common,"onBackground"),setColorChannel(ye,"divider"),Object.keys(ye).forEach(Ye=>{const ke=ye[Ye];Ye!=="tonalOffset"&&ke&&typeof ke=="object"&&(ke.main&&setColor(ye[Ye],"mainChannel",private_safeColorChannel(toRgb(ke.main))),ke.light&&setColor(ye[Ye],"lightChannel",private_safeColorChannel(toRgb(ke.light))),ke.dark&&setColor(ye[Ye],"darkChannel",private_safeColorChannel(toRgb(ke.dark))),ke.contrastText&&setColor(ye[Ye],"contrastTextChannel",private_safeColorChannel(toRgb(ke.contrastText))),Ye==="text"&&(setColorChannel(ye[Ye],"primary"),setColorChannel(ye[Ye],"secondary")),Ye==="action"&&(ke.active&&setColorChannel(ye[Ye],"active"),ke.selected&&setColorChannel(ye[Ye],"selected")))})}),ue=$.reduce((Ce,ye)=>deepmerge(Ce,ye),ue);const we={prefix:se,disableCssColorScheme:ie,shouldSkipGeneratingVar:le,getSelector:defaultGetSelector(ue)},{vars:Fe,generateThemeVars:_e,generateStyleSheets:Ee}=prepareCssVars(ue,we);return ue.vars=Fe,Object.entries(ue.colorSchemes[ue.defaultColorScheme]).forEach(([Ce,ye])=>{ue[Ce]=ye}),ue.generateThemeVars=_e,ue.generateStyleSheets=Ee,ue.generateSpacing=function(){return createSpacing(ae.spacing,createUnarySpacing(this))},ue.getColorSchemeSelector=createGetColorSchemeSelector(oe),ue.spacing=ue.generateSpacing(),ue.shouldSkipGeneratingVar=le,ue.unstable_sxConfig={...defaultSxConfig,...ae==null?void 0:ae.unstable_sxConfig},ue.unstable_sx=function(ye){return styleFunctionSx({sx:ye,theme:this})},ue.toRuntimeSource=stringifyTheme,ue}function attachColorScheme(ee,$,te){ee.colorSchemes&&te&&(ee.colorSchemes[$]={...te!==!0&&te,palette:createPalette({...te===!0?{}:te.palette,mode:$})})}function createTheme(ee={},...$){const{palette:te,cssVariables:ne=!1,colorSchemes:ie=te?void 0:{light:!0},defaultColorScheme:se=te==null?void 0:te.mode,...le}=ee,oe=se||"light",ce=ie==null?void 0:ie[oe],ae={...ie,...te?{[oe]:{...typeof ce!="boolean"&&ce,palette:te}}:void 0};if(ne===!1){if(!("colorSchemes"in ee))return createThemeNoVars(ee,...$);let he=te;"palette"in ee||ae[oe]&&(ae[oe]!==!0?he=ae[oe].palette:oe==="dark"&&(he={mode:"dark"}));const de=createThemeNoVars({...ee,palette:he},...$);return de.defaultColorScheme=oe,de.colorSchemes=ae,de.palette.mode==="light"&&(de.colorSchemes.light={...ae.light!==!0&&ae.light,palette:de.palette},attachColorScheme(de,"dark",ae.dark)),de.palette.mode==="dark"&&(de.colorSchemes.dark={...ae.dark!==!0&&ae.dark,palette:de.palette},attachColorScheme(de,"light",ae.light)),de}return!te&&!("light"in ae)&&oe==="light"&&(ae.light=!0),createThemeWithVars({...le,colorSchemes:ae,defaultColorScheme:oe,...typeof ne!="boolean"&&ne},...$)}const defaultTheme=createTheme(),THEME_ID="$$material";function useTheme(){const ee=useTheme$1(defaultTheme);return ee[THEME_ID]||ee}function slotShouldForwardProp(ee){return ee!=="ownerState"&&ee!=="theme"&&ee!=="sx"&&ee!=="as"}const rootShouldForwardProp=ee=>slotShouldForwardProp(ee)&&ee!=="classes",styled=createStyled({themeId:THEME_ID,defaultTheme,rootShouldForwardProp});function internal_createExtendSxProp(){return extendSxProp$1}function useDefaultProps(ee){return useDefaultProps$1(ee)}const memoTheme=unstable_memoTheme;function getPaperUtilityClass(ee){return generateUtilityClass("MuiPaper",ee)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const useUtilityClasses$c=ee=>{const{square:$,elevation:te,variant:ne,classes:ie}=ee,se={root:["root",ne,!$&&"rounded",ne==="elevation"&&`elevation${te}`]};return composeClasses(se,getPaperUtilityClass,ie)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.root,$[te.variant],!te.square&&$.rounded,te.variant==="elevation"&&$[`elevation${te.elevation}`]]}})(memoTheme(({theme:ee})=>({backgroundColor:(ee.vars||ee).palette.background.paper,color:(ee.vars||ee).palette.text.primary,transition:ee.transitions.create("box-shadow"),variants:[{props:({ownerState:$})=>!$.square,style:{borderRadius:ee.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(ee.vars||ee).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Paper=reactExports.forwardRef(function($,te){var re;const ne=useDefaultProps({props:$,name:"MuiPaper"}),ie=useTheme(),{className:se,component:le="div",elevation:oe=1,square:ce=!1,variant:ae="elevation",...he}=ne,de={...ne,component:le,elevation:oe,square:ce,variant:ae},pe=useUtilityClasses$c(de);return jsxRuntimeExports.jsx(PaperRoot,{as:le,ownerState:de,className:clsx(pe.root,se),ref:te,...he,style:{...ae==="elevation"&&{"--Paper-shadow":(ie.vars||ie).shadows[oe],...ie.vars&&{"--Paper-overlay":(re=ie.vars.overlays)==null?void 0:re[oe]},...!ie.vars&&ie.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${alpha("#fff",getOverlayAlpha(oe))}, ${alpha("#fff",getOverlayAlpha(oe))})`}},...he.style}})});function getCardUtilityClass(ee){return generateUtilityClass("MuiCard",ee)}generateUtilityClasses("MuiCard",["root"]);const useUtilityClasses$b=ee=>{const{classes:$}=ee;return composeClasses({root:["root"]},getCardUtilityClass,$)},CardRoot=styled(Paper,{name:"MuiCard",slot:"Root",overridesResolver:(ee,$)=>$.root})({overflow:"hidden"}),Card=reactExports.forwardRef(function($,te){const ne=useDefaultProps({props:$,name:"MuiCard"}),{className:ie,raised:se=!1,...le}=ne,oe={...ne,raised:se},ce=useUtilityClasses$b(oe);return jsxRuntimeExports.jsx(CardRoot,{className:clsx(ce.root,ie),elevation:se?8:void 0,ref:te,ownerState:oe,...le})});function getCardContentUtilityClass(ee){return generateUtilityClass("MuiCardContent",ee)}generateUtilityClasses("MuiCardContent",["root"]);const useUtilityClasses$a=ee=>{const{classes:$}=ee;return composeClasses({root:["root"]},getCardContentUtilityClass,$)},CardContentRoot=styled("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(ee,$)=>$.root})({padding:16,"&:last-child":{paddingBottom:24}}),CardContent=reactExports.forwardRef(function($,te){const ne=useDefaultProps({props:$,name:"MuiCardContent"}),{className:ie,component:se="div",...le}=ne,oe={...ne,component:se},ce=useUtilityClasses$a(oe);return jsxRuntimeExports.jsx(CardContentRoot,{as:se,className:clsx(ce.root,ie),ownerState:oe,ref:te,...le})});function hasCorrectMainProperty(ee){return typeof ee.main=="string"}function checkSimplePaletteColorValues(ee,$=[]){if(!hasCorrectMainProperty(ee))return!1;for(const te of $)if(!ee.hasOwnProperty(te)||typeof ee[te]!="string")return!1;return!0}function createSimplePaletteValueFilter(ee=[]){return([,$])=>$&&checkSimplePaletteColorValues($,ee)}function getTypographyUtilityClass(ee){return generateUtilityClass("MuiTypography",ee)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const v6Colors={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},extendSxProp=internal_createExtendSxProp(),useUtilityClasses$9=ee=>{const{align:$,gutterBottom:te,noWrap:ne,paragraph:ie,variant:se,classes:le}=ee,oe={root:["root",se,ee.align!=="inherit"&&`align${capitalize($)}`,te&&"gutterBottom",ne&&"noWrap",ie&&"paragraph"]};return composeClasses(oe,getTypographyUtilityClass,le)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.root,te.variant&&$[te.variant],te.align!=="inherit"&&$[`align${capitalize(te.align)}`],te.noWrap&&$.noWrap,te.gutterBottom&&$.gutterBottom,te.paragraph&&$.paragraph]}})(memoTheme(({theme:ee})=>{var $;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(ee.typography).filter(([te,ne])=>te!=="inherit"&&ne&&typeof ne=="object").map(([te,ne])=>({props:{variant:te},style:ne})),...Object.entries(ee.palette).filter(createSimplePaletteValueFilter()).map(([te])=>({props:{color:te},style:{color:(ee.vars||ee).palette[te].main}})),...Object.entries((($=ee.palette)==null?void 0:$.text)||{}).filter(([,te])=>typeof te=="string").map(([te])=>({props:{color:`text${capitalize(te)}`},style:{color:(ee.vars||ee).palette.text[te]}})),{props:({ownerState:te})=>te.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:te})=>te.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:te})=>te.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:te})=>te.paragraph,style:{marginBottom:16}}]}})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Typography=reactExports.forwardRef(function($,te){const{color:ne,...ie}=useDefaultProps({props:$,name:"MuiTypography"}),se=!v6Colors[ne],le=extendSxProp({...ie,...se&&{color:ne}}),{align:oe="inherit",className:ce,component:ae,gutterBottom:he=!1,noWrap:de=!1,paragraph:pe=!1,variant:re="body1",variantMapping:Ae=defaultVariantMapping,...ge}=le,Se={...le,align:oe,color:ne,className:ce,component:ae,gutterBottom:he,noWrap:de,paragraph:pe,variant:re,variantMapping:Ae},fe=ae||(pe?"p":Ae[re]||defaultVariantMapping[re])||"span",be=useUtilityClasses$9(Se);return jsxRuntimeExports.jsx(TypographyRoot,{as:fe,ref:te,className:clsx(be.root,ce),...ge,ownerState:Se,style:{...oe!=="inherit"&&{"--Typography-textAlign":oe},...ge.style}})});function getCardActionsUtilityClass(ee){return generateUtilityClass("MuiCardActions",ee)}generateUtilityClasses("MuiCardActions",["root","spacing"]);const useUtilityClasses$8=ee=>{const{classes:$,disableSpacing:te}=ee;return composeClasses({root:["root",!te&&"spacing"]},getCardActionsUtilityClass,$)},CardActionsRoot=styled("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.root,!te.disableSpacing&&$.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),CardActions=reactExports.forwardRef(function($,te){const ne=useDefaultProps({props:$,name:"MuiCardActions"}),{disableSpacing:ie=!1,className:se,...le}=ne,oe={...ne,disableSpacing:ie},ce=useUtilityClasses$8(oe);return jsxRuntimeExports.jsx(CardActionsRoot,{className:clsx(ce.root,se),ownerState:oe,ref:te,...le})});function getSvgIconUtilityClass(ee){return generateUtilityClass("MuiSvgIcon",ee)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const useUtilityClasses$7=ee=>{const{color:$,fontSize:te,classes:ne}=ee,ie={root:["root",$!=="inherit"&&`color${capitalize($)}`,`fontSize${capitalize(te)}`]};return composeClasses(ie,getSvgIconUtilityClass,ne)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.root,te.color!=="inherit"&&$[`color${capitalize(te.color)}`],$[`fontSize${capitalize(te.fontSize)}`]]}})(memoTheme(({theme:ee})=>{var $,te,ne,ie,se,le,oe,ce,ae,he,de,pe,re,Ae;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(ie=($=ee.transitions)==null?void 0:$.create)==null?void 0:ie.call($,"fill",{duration:(ne=(te=(ee.vars??ee).transitions)==null?void 0:te.duration)==null?void 0:ne.shorter}),variants:[{props:ge=>!ge.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((le=(se=ee.typography)==null?void 0:se.pxToRem)==null?void 0:le.call(se,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((ce=(oe=ee.typography)==null?void 0:oe.pxToRem)==null?void 0:ce.call(oe,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((he=(ae=ee.typography)==null?void 0:ae.pxToRem)==null?void 0:he.call(ae,35))||"2.1875rem"}},...Object.entries((ee.vars??ee).palette).filter(([,ge])=>ge&&ge.main).map(([ge])=>{var Se,fe;return{props:{color:ge},style:{color:(fe=(Se=(ee.vars??ee).palette)==null?void 0:Se[ge])==null?void 0:fe.main}}}),{props:{color:"action"},style:{color:(pe=(de=(ee.vars??ee).palette)==null?void 0:de.action)==null?void 0:pe.active}},{props:{color:"disabled"},style:{color:(Ae=(re=(ee.vars??ee).palette)==null?void 0:re.action)==null?void 0:Ae.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),SvgIcon=reactExports.forwardRef(function($,te){const ne=useDefaultProps({props:$,name:"MuiSvgIcon"}),{children:ie,className:se,color:le="inherit",component:oe="svg",fontSize:ce="medium",htmlColor:ae,inheritViewBox:he=!1,titleAccess:de,viewBox:pe="0 0 24 24",...re}=ne,Ae=reactExports.isValidElement(ie)&&ie.type==="svg",ge={...ne,color:le,component:oe,fontSize:ce,instanceFontSize:$.fontSize,inheritViewBox:he,viewBox:pe,hasSvgAsChild:Ae},Se={};he||(Se.viewBox=pe);const fe=useUtilityClasses$7(ge);return jsxRuntimeExports.jsxs(SvgIconRoot,{as:oe,className:clsx(fe.root,se),focusable:"false",color:ae,"aria-hidden":de?void 0:!0,role:de?"img":void 0,ref:te,...Se,...re,...Ae&&ie.props,ownerState:ge,children:[Ae?ie.props.children:ie,de?jsxRuntimeExports.jsx("title",{children:de}):null]})});SvgIcon.muiName="SvgIcon";function createSvgIcon(ee,$){function te(ne,ie){return jsxRuntimeExports.jsx(SvgIcon,{"data-testid":`${$}Icon`,ref:ie,...ne,children:ee})}return te.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(te))}class LazyRipple{constructor(){vi(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new LazyRipple}static use(){const $=useLazyRef(LazyRipple.create).current,[te,ne]=reactExports.useState(!1);return $.shouldMount=te,$.setShouldMount=ne,reactExports.useEffect($.mountEffect,[te]),$}mount(){return this.mounted||(this.mounted=createControlledPromise(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...$){this.mount().then(()=>{var te;return(te=this.ref.current)==null?void 0:te.start(...$)})}stop(...$){this.mount().then(()=>{var te;return(te=this.ref.current)==null?void 0:te.stop(...$)})}pulsate(...$){this.mount().then(()=>{var te;return(te=this.ref.current)==null?void 0:te.pulsate(...$)})}}function useLazyRipple(){return LazyRipple.use()}function createControlledPromise(){let ee,$;const te=new Promise((ne,ie)=>{ee=ne,$=ie});return te.resolve=ee,te.reject=$,te}function _objectWithoutPropertiesLoose(ee,$){if(ee==null)return{};var te={};for(var ne in ee)if({}.hasOwnProperty.call(ee,ne)){if($.indexOf(ne)!==-1)continue;te[ne]=ee[ne]}return te}function _setPrototypeOf(ee,$){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ne){return te.__proto__=ne,te},_setPrototypeOf(ee,$)}function _inheritsLoose(ee,$){ee.prototype=Object.create($.prototype),ee.prototype.constructor=ee,_setPrototypeOf(ee,$)}const TransitionGroupContext=React$4.createContext(null);function _assertThisInitialized(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function getChildMapping(ee,$){var te=function(se){return $&&reactExports.isValidElement(se)?$(se):se},ne=Object.create(null);return ee&&reactExports.Children.map(ee,function(ie){return ie}).forEach(function(ie){ne[ie.key]=te(ie)}),ne}function mergeChildMappings(ee,$){ee=ee||{},$=$||{};function te(he){return he in $?$[he]:ee[he]}var ne=Object.create(null),ie=[];for(var se in ee)se in $?ie.length&&(ne[se]=ie,ie=[]):ie.push(se);var le,oe={};for(var ce in $){if(ne[ce])for(le=0;le<ne[ce].length;le++){var ae=ne[ce][le];oe[ne[ce][le]]=te(ae)}oe[ce]=te(ce)}for(le=0;le<ie.length;le++)oe[ie[le]]=te(ie[le]);return oe}function getProp(ee,$,te){return te[$]!=null?te[$]:ee.props[$]}function getInitialChildMapping(ee,$){return getChildMapping(ee.children,function(te){return reactExports.cloneElement(te,{onExited:$.bind(null,te),in:!0,appear:getProp(te,"appear",ee),enter:getProp(te,"enter",ee),exit:getProp(te,"exit",ee)})})}function getNextChildMapping(ee,$,te){var ne=getChildMapping(ee.children),ie=mergeChildMappings($,ne);return Object.keys(ie).forEach(function(se){var le=ie[se];if(reactExports.isValidElement(le)){var oe=se in $,ce=se in ne,ae=$[se],he=reactExports.isValidElement(ae)&&!ae.props.in;ce&&(!oe||he)?ie[se]=reactExports.cloneElement(le,{onExited:te.bind(null,le),in:!0,exit:getProp(le,"exit",ee),enter:getProp(le,"enter",ee)}):!ce&&oe&&!he?ie[se]=reactExports.cloneElement(le,{in:!1}):ce&&oe&&reactExports.isValidElement(ae)&&(ie[se]=reactExports.cloneElement(le,{onExited:te.bind(null,le),in:ae.props.in,exit:getProp(le,"exit",ee),enter:getProp(le,"enter",ee)}))}}),ie}var values=Object.values||function(ee){return Object.keys(ee).map(function($){return ee[$]})},defaultProps={component:"div",childFactory:function($){return $}},TransitionGroup=function(ee){_inheritsLoose($,ee);function $(ne,ie){var se;se=ee.call(this,ne,ie)||this;var le=se.handleExited.bind(_assertThisInitialized(se));return se.state={contextValue:{isMounting:!0},handleExited:le,firstRender:!0},se}var te=$.prototype;return te.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},te.componentWillUnmount=function(){this.mounted=!1},$.getDerivedStateFromProps=function(ie,se){var le=se.children,oe=se.handleExited,ce=se.firstRender;return{children:ce?getInitialChildMapping(ie,oe):getNextChildMapping(ie,le,oe),firstRender:!1}},te.handleExited=function(ie,se){var le=getChildMapping(this.props.children);ie.key in le||(ie.props.onExited&&ie.props.onExited(se),this.mounted&&this.setState(function(oe){var ce=_extends({},oe.children);return delete ce[ie.key],{children:ce}}))},te.render=function(){var ie=this.props,se=ie.component,le=ie.childFactory,oe=_objectWithoutPropertiesLoose(ie,["component","childFactory"]),ce=this.state.contextValue,ae=values(this.state.children).map(le);return delete oe.appear,delete oe.enter,delete oe.exit,se===null?React$4.createElement(TransitionGroupContext.Provider,{value:ce},ae):React$4.createElement(TransitionGroupContext.Provider,{value:ce},React$4.createElement(se,oe,ae))},$}(React$4.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;function Ripple(ee){const{className:$,classes:te,pulsate:ne=!1,rippleX:ie,rippleY:se,rippleSize:le,in:oe,onExited:ce,timeout:ae}=ee,[he,de]=reactExports.useState(!1),pe=clsx($,te.ripple,te.rippleVisible,ne&&te.ripplePulsate),re={width:le,height:le,top:-(le/2)+se,left:-(le/2)+ie},Ae=clsx(te.child,he&&te.childLeaving,ne&&te.childPulsate);return!oe&&!he&&de(!0),reactExports.useEffect(()=>{if(!oe&&ce!=null){const ge=setTimeout(ce,ae);return()=>{clearTimeout(ge)}}},[ce,oe,ae]),jsxRuntimeExports.jsx("span",{className:pe,style:re,children:jsxRuntimeExports.jsx("span",{className:Ae})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,exitKeyframe=keyframes`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,pulsateKeyframe=keyframes`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${touchRippleClasses.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${enterKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:ee})=>ee.transitions.easing.easeInOut};
  }

  &.${touchRippleClasses.ripplePulsate} {
    animation-duration: ${({theme:ee})=>ee.transitions.duration.shorter}ms;
  }

  & .${touchRippleClasses.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${touchRippleClasses.childLeaving} {
    opacity: 0;
    animation-name: ${exitKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:ee})=>ee.transitions.easing.easeInOut};
  }

  & .${touchRippleClasses.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pulsateKeyframe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:ee})=>ee.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,TouchRipple=reactExports.forwardRef(function($,te){const ne=useDefaultProps({props:$,name:"MuiTouchRipple"}),{center:ie=!1,classes:se={},className:le,...oe}=ne,[ce,ae]=reactExports.useState([]),he=reactExports.useRef(0),de=reactExports.useRef(null);reactExports.useEffect(()=>{de.current&&(de.current(),de.current=null)},[ce]);const pe=reactExports.useRef(!1),re=useTimeout(),Ae=reactExports.useRef(null),ge=reactExports.useRef(null),Se=reactExports.useCallback(ue=>{const{pulsate:we,rippleX:Fe,rippleY:_e,rippleSize:Ee,cb:Ce}=ue;ae(ye=>[...ye,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(se.ripple,touchRippleClasses.ripple),rippleVisible:clsx(se.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(se.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(se.child,touchRippleClasses.child),childLeaving:clsx(se.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(se.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:we,rippleX:Fe,rippleY:_e,rippleSize:Ee},he.current)]),he.current+=1,de.current=Ce},[se]),fe=reactExports.useCallback((ue={},we={},Fe=()=>{})=>{const{pulsate:_e=!1,center:Ee=ie||we.pulsate,fakeElement:Ce=!1}=we;if((ue==null?void 0:ue.type)==="mousedown"&&pe.current){pe.current=!1;return}(ue==null?void 0:ue.type)==="touchstart"&&(pe.current=!0);const ye=Ce?null:ge.current,Re=ye?ye.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Ye,ke,$e;if(Ee||ue===void 0||ue.clientX===0&&ue.clientY===0||!ue.clientX&&!ue.touches)Ye=Math.round(Re.width/2),ke=Math.round(Re.height/2);else{const{clientX:Be,clientY:Pe}=ue.touches&&ue.touches.length>0?ue.touches[0]:ue;Ye=Math.round(Be-Re.left),ke=Math.round(Pe-Re.top)}if(Ee)$e=Math.sqrt((2*Re.width**2+Re.height**2)/3),$e%2===0&&($e+=1);else{const Be=Math.max(Math.abs((ye?ye.clientWidth:0)-Ye),Ye)*2+2,Pe=Math.max(Math.abs((ye?ye.clientHeight:0)-ke),ke)*2+2;$e=Math.sqrt(Be**2+Pe**2)}ue!=null&&ue.touches?Ae.current===null&&(Ae.current=()=>{Se({pulsate:_e,rippleX:Ye,rippleY:ke,rippleSize:$e,cb:Fe})},re.start(DELAY_RIPPLE,()=>{Ae.current&&(Ae.current(),Ae.current=null)})):Se({pulsate:_e,rippleX:Ye,rippleY:ke,rippleSize:$e,cb:Fe})},[ie,Se,re]),be=reactExports.useCallback(()=>{fe({},{pulsate:!0})},[fe]),xe=reactExports.useCallback((ue,we)=>{if(re.clear(),(ue==null?void 0:ue.type)==="touchend"&&Ae.current){Ae.current(),Ae.current=null,re.start(0,()=>{xe(ue,we)});return}Ae.current=null,ae(Fe=>Fe.length>0?Fe.slice(1):Fe),de.current=we},[re]);return reactExports.useImperativeHandle(te,()=>({pulsate:be,start:fe,stop:xe}),[be,fe,xe]),jsxRuntimeExports.jsx(TouchRippleRoot,{className:clsx(touchRippleClasses.root,se.root,le),ref:ge,...oe,children:jsxRuntimeExports.jsx(TransitionGroup,{component:null,exit:!0,children:ce})})});function getButtonBaseUtilityClass(ee){return generateUtilityClass("MuiButtonBase",ee)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),useUtilityClasses$6=ee=>{const{disabled:$,focusVisible:te,focusVisibleClassName:ne,classes:ie}=ee,le=composeClasses({root:["root",$&&"disabled",te&&"focusVisible"]},getButtonBaseUtilityClass,ie);return te&&ne&&(le.root+=` ${ne}`),le},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(ee,$)=>$.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function($,te){const ne=useDefaultProps({props:$,name:"MuiButtonBase"}),{action:ie,centerRipple:se=!1,children:le,className:oe,component:ce="button",disabled:ae=!1,disableRipple:he=!1,disableTouchRipple:de=!1,focusRipple:pe=!1,focusVisibleClassName:re,LinkComponent:Ae="a",onBlur:ge,onClick:Se,onContextMenu:fe,onDragLeave:be,onFocus:xe,onFocusVisible:ue,onKeyDown:we,onKeyUp:Fe,onMouseDown:_e,onMouseLeave:Ee,onMouseUp:Ce,onTouchEnd:ye,onTouchMove:Re,onTouchStart:Ye,tabIndex:ke=0,TouchRippleProps:$e,touchRippleRef:Be,type:Pe,...Ue}=ne,Te=reactExports.useRef(null),Me=useLazyRipple(),Ve=useForkRef(Me.ref,Be),[He,Ie]=reactExports.useState(!1);ae&&He&&Ie(!1),reactExports.useImperativeHandle(ie,()=>({focusVisible:()=>{Ie(!0),Te.current.focus()}}),[]);const Le=Me.shouldMount&&!he&&!ae;reactExports.useEffect(()=>{He&&pe&&!he&&Me.pulsate()},[he,pe,He,Me]);const Oe=useRippleHandler(Me,"start",_e,de),Ne=useRippleHandler(Me,"stop",fe,de),qe=useRippleHandler(Me,"stop",be,de),it=useRippleHandler(Me,"stop",Ce,de),tt=useRippleHandler(Me,"stop",Je=>{He&&Je.preventDefault(),Ee&&Ee(Je)},de),Xe=useRippleHandler(Me,"start",Ye,de),Ze=useRippleHandler(Me,"stop",ye,de),ot=useRippleHandler(Me,"stop",Re,de),Ge=useRippleHandler(Me,"stop",Je=>{isFocusVisible(Je.target)||Ie(!1),ge&&ge(Je)},!1),Ke=useEventCallback(Je=>{Te.current||(Te.current=Je.currentTarget),isFocusVisible(Je.target)&&(Ie(!0),ue&&ue(Je)),xe&&xe(Je)}),je=()=>{const Je=Te.current;return ce&&ce!=="button"&&!(Je.tagName==="A"&&Je.href)},nt=useEventCallback(Je=>{pe&&!Je.repeat&&He&&Je.key===" "&&Me.stop(Je,()=>{Me.start(Je)}),Je.target===Je.currentTarget&&je()&&Je.key===" "&&Je.preventDefault(),we&&we(Je),Je.target===Je.currentTarget&&je()&&Je.key==="Enter"&&!ae&&(Je.preventDefault(),Se&&Se(Je))}),Qe=useEventCallback(Je=>{pe&&Je.key===" "&&He&&!Je.defaultPrevented&&Me.stop(Je,()=>{Me.pulsate(Je)}),Fe&&Fe(Je),Se&&Je.target===Je.currentTarget&&je()&&Je.key===" "&&!Je.defaultPrevented&&Se(Je)});let We=ce;We==="button"&&(Ue.href||Ue.to)&&(We=Ae);const rt={};We==="button"?(rt.type=Pe===void 0?"button":Pe,rt.disabled=ae):(!Ue.href&&!Ue.to&&(rt.role="button"),ae&&(rt["aria-disabled"]=ae));const et=useForkRef(te,Te),ct={...ne,centerRipple:se,component:ce,disabled:ae,disableRipple:he,disableTouchRipple:de,focusRipple:pe,tabIndex:ke,focusVisible:He},at=useUtilityClasses$6(ct);return jsxRuntimeExports.jsxs(ButtonBaseRoot,{as:We,className:clsx(at.root,oe),ownerState:ct,onBlur:Ge,onClick:Se,onContextMenu:Ne,onFocus:Ke,onKeyDown:nt,onKeyUp:Qe,onMouseDown:Oe,onMouseLeave:tt,onMouseUp:it,onDragLeave:qe,onTouchEnd:Ze,onTouchMove:ot,onTouchStart:Xe,ref:et,tabIndex:ae?-1:ke,type:Pe,...rt,...Ue,children:[le,Le?jsxRuntimeExports.jsx(TouchRipple,{ref:Ve,center:se,...$e}):null]})});function useRippleHandler(ee,$,te,ne=!1){return useEventCallback(ie=>(te&&te(ie),ne||ee[$](ie),!0))}function getCircularProgressUtilityClass(ee){return generateUtilityClass("MuiCircularProgress",ee)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const SIZE=44,circularRotateKeyframe=keyframes`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,circularDashKeyframe=keyframes`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,rotateAnimation=typeof circularRotateKeyframe!="string"?css`
        animation: ${circularRotateKeyframe} 1.4s linear infinite;
      `:null,dashAnimation=typeof circularDashKeyframe!="string"?css`
        animation: ${circularDashKeyframe} 1.4s ease-in-out infinite;
      `:null,useUtilityClasses$5=ee=>{const{classes:$,variant:te,color:ne,disableShrink:ie}=ee,se={root:["root",te,`color${capitalize(ne)}`],svg:["svg"],circle:["circle",`circle${capitalize(te)}`,ie&&"circleDisableShrink"]};return composeClasses(se,getCircularProgressUtilityClass,$)},CircularProgressRoot=styled("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.root,$[te.variant],$[`color${capitalize(te.color)}`]]}})(memoTheme(({theme:ee})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:ee.transitions.create("transform")}},{props:{variant:"indeterminate"},style:rotateAnimation||{animation:`${circularRotateKeyframe} 1.4s linear infinite`}},...Object.entries(ee.palette).filter(createSimplePaletteValueFilter()).map(([$])=>({props:{color:$},style:{color:(ee.vars||ee).palette[$].main}}))]}))),CircularProgressSVG=styled("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(ee,$)=>$.svg})({display:"block"}),CircularProgressCircle=styled("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.circle,$[`circle${capitalize(te.variant)}`],te.disableShrink&&$.circleDisableShrink]}})(memoTheme(({theme:ee})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:ee.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:$})=>$.variant==="indeterminate"&&!$.disableShrink,style:dashAnimation||{animation:`${circularDashKeyframe} 1.4s ease-in-out infinite`}}]}))),CircularProgress=reactExports.forwardRef(function($,te){const ne=useDefaultProps({props:$,name:"MuiCircularProgress"}),{className:ie,color:se="primary",disableShrink:le=!1,size:oe=40,style:ce,thickness:ae=3.6,value:he=0,variant:de="indeterminate",...pe}=ne,re={...ne,color:se,disableShrink:le,size:oe,thickness:ae,value:he,variant:de},Ae=useUtilityClasses$5(re),ge={},Se={},fe={};if(de==="determinate"){const be=2*Math.PI*((SIZE-ae)/2);ge.strokeDasharray=be.toFixed(3),fe["aria-valuenow"]=Math.round(he),ge.strokeDashoffset=`${((100-he)/100*be).toFixed(3)}px`,Se.transform="rotate(-90deg)"}return jsxRuntimeExports.jsx(CircularProgressRoot,{className:clsx(Ae.root,ie),style:{width:oe,height:oe,...Se,...ce},ownerState:re,ref:te,role:"progressbar",...fe,...pe,children:jsxRuntimeExports.jsx(CircularProgressSVG,{className:Ae.svg,ownerState:re,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:jsxRuntimeExports.jsx(CircularProgressCircle,{className:Ae.circle,style:ge,ownerState:re,cx:SIZE,cy:SIZE,r:(SIZE-ae)/2,fill:"none",strokeWidth:ae})})})});function getButtonUtilityClass(ee){return generateUtilityClass("MuiButton",ee)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupButtonContext=reactExports.createContext(void 0),useUtilityClasses$4=ee=>{const{color:$,disableElevation:te,fullWidth:ne,size:ie,variant:se,loading:le,loadingPosition:oe,classes:ce}=ee,ae={root:["root",le&&"loading",se,`${se}${capitalize($)}`,`size${capitalize(ie)}`,`${se}Size${capitalize(ie)}`,`color${capitalize($)}`,te&&"disableElevation",ne&&"fullWidth",le&&`loadingPosition${capitalize(oe)}`],startIcon:["icon","startIcon",`iconSize${capitalize(ie)}`],endIcon:["icon","endIcon",`iconSize${capitalize(ie)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},he=composeClasses(ae,getButtonUtilityClass,ce);return{...ce,...he}},commonIconStyles=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],ButtonRoot=styled(ButtonBase,{shouldForwardProp:ee=>rootShouldForwardProp(ee)||ee==="classes",name:"MuiButton",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.root,$[te.variant],$[`${te.variant}${capitalize(te.color)}`],$[`size${capitalize(te.size)}`],$[`${te.variant}Size${capitalize(te.size)}`],te.color==="inherit"&&$.colorInherit,te.disableElevation&&$.disableElevation,te.fullWidth&&$.fullWidth,te.loading&&$.loading]}})(memoTheme(({theme:ee})=>{const $=ee.palette.mode==="light"?ee.palette.grey[300]:ee.palette.grey[800],te=ee.palette.mode==="light"?ee.palette.grey.A100:ee.palette.grey[700];return{...ee.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(ee.vars||ee).shape.borderRadius,transition:ee.transitions.create(["background-color","box-shadow","border-color","color"],{duration:ee.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${buttonClasses$1.disabled}`]:{color:(ee.vars||ee).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(ee.vars||ee).shadows[2],"&:hover":{boxShadow:(ee.vars||ee).shadows[4],"@media (hover: none)":{boxShadow:(ee.vars||ee).shadows[2]}},"&:active":{boxShadow:(ee.vars||ee).shadows[8]},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:(ee.vars||ee).shadows[6]},[`&.${buttonClasses$1.disabled}`]:{color:(ee.vars||ee).palette.action.disabled,boxShadow:(ee.vars||ee).shadows[0],backgroundColor:(ee.vars||ee).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${buttonClasses$1.disabled}`]:{border:`1px solid ${(ee.vars||ee).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(ee.palette).filter(createSimplePaletteValueFilter()).map(([ne])=>({props:{color:ne},style:{"--variant-textColor":(ee.vars||ee).palette[ne].main,"--variant-outlinedColor":(ee.vars||ee).palette[ne].main,"--variant-outlinedBorder":ee.vars?`rgba(${ee.vars.palette[ne].mainChannel} / 0.5)`:alpha(ee.palette[ne].main,.5),"--variant-containedColor":(ee.vars||ee).palette[ne].contrastText,"--variant-containedBg":(ee.vars||ee).palette[ne].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(ee.vars||ee).palette[ne].dark,"--variant-textBg":ee.vars?`rgba(${ee.vars.palette[ne].mainChannel} / ${ee.vars.palette.action.hoverOpacity})`:alpha(ee.palette[ne].main,ee.palette.action.hoverOpacity),"--variant-outlinedBorder":(ee.vars||ee).palette[ne].main,"--variant-outlinedBg":ee.vars?`rgba(${ee.vars.palette[ne].mainChannel} / ${ee.vars.palette.action.hoverOpacity})`:alpha(ee.palette[ne].main,ee.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":ee.vars?ee.vars.palette.Button.inheritContainedBg:$,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":ee.vars?ee.vars.palette.Button.inheritContainedHoverBg:te,"--variant-textBg":ee.vars?`rgba(${ee.vars.palette.text.primaryChannel} / ${ee.vars.palette.action.hoverOpacity})`:alpha(ee.palette.text.primary,ee.palette.action.hoverOpacity),"--variant-outlinedBg":ee.vars?`rgba(${ee.vars.palette.text.primaryChannel} / ${ee.vars.palette.action.hoverOpacity})`:alpha(ee.palette.text.primary,ee.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:ee.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:ee.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:ee.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:ee.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:ee.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:ee.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:ee.transitions.create(["background-color","box-shadow","border-color"],{duration:ee.transitions.duration.short}),[`&.${buttonClasses$1.loading}`]:{color:"transparent"}}}]}})),ButtonStartIcon=styled("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.startIcon,te.loading&&$.startIconLoadingStart,$[`iconSize${capitalize(te.size)}`]]}})(({theme:ee})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:ee.transitions.create(["opacity"],{duration:ee.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...commonIconStyles]})),ButtonEndIcon=styled("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.endIcon,te.loading&&$.endIconLoadingEnd,$[`iconSize${capitalize(te.size)}`]]}})(({theme:ee})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:ee.transitions.create(["opacity"],{duration:ee.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...commonIconStyles]})),ButtonLoadingIndicator=styled("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(ee,$)=>$.loadingIndicator})(({theme:ee})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(ee.vars||ee).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ButtonLoadingIconPlaceholder=styled("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(ee,$)=>$.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),Button=reactExports.forwardRef(function($,te){const ne=reactExports.useContext(ButtonGroupContext),ie=reactExports.useContext(ButtonGroupButtonContext),se=resolveProps(ne,$),le=useDefaultProps({props:se,name:"MuiButton"}),{children:oe,color:ce="primary",component:ae="button",className:he,disabled:de=!1,disableElevation:pe=!1,disableFocusRipple:re=!1,endIcon:Ae,focusVisibleClassName:ge,fullWidth:Se=!1,id:fe,loading:be=null,loadingIndicator:xe,loadingPosition:ue="center",size:we="medium",startIcon:Fe,type:_e,variant:Ee="text",...Ce}=le,ye=useId(fe),Re=xe??jsxRuntimeExports.jsx(CircularProgress,{"aria-labelledby":ye,color:"inherit",size:16}),Ye={...le,color:ce,component:ae,disabled:de,disableElevation:pe,disableFocusRipple:re,fullWidth:Se,loading:be,loadingIndicator:Re,loadingPosition:ue,size:we,type:_e,variant:Ee},ke=useUtilityClasses$4(Ye),$e=(Fe||be&&ue==="start")&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:ke.startIcon,ownerState:Ye,children:Fe||jsxRuntimeExports.jsx(ButtonLoadingIconPlaceholder,{className:ke.loadingIconPlaceholder,ownerState:Ye})}),Be=(Ae||be&&ue==="end")&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:ke.endIcon,ownerState:Ye,children:Ae||jsxRuntimeExports.jsx(ButtonLoadingIconPlaceholder,{className:ke.loadingIconPlaceholder,ownerState:Ye})}),Pe=ie||"",Ue=typeof be=="boolean"?jsxRuntimeExports.jsx("span",{className:ke.loadingWrapper,style:{display:"contents"},children:be&&jsxRuntimeExports.jsx(ButtonLoadingIndicator,{className:ke.loadingIndicator,ownerState:Ye,children:Re})}):null;return jsxRuntimeExports.jsxs(ButtonRoot,{ownerState:Ye,className:clsx(ne.className,ke.root,he,Pe),component:ae,disabled:de||be,focusRipple:!re,focusVisibleClassName:clsx(ke.focusVisible,ge),ref:te,type:_e,id:be?ye:fe,...Ce,classes:ke,children:[$e,ue!=="end"&&Ue,oe,ue==="end"&&Ue,Be]})});function getCardMediaUtilityClass(ee){return generateUtilityClass("MuiCardMedia",ee)}generateUtilityClasses("MuiCardMedia",["root","media","img"]);const useUtilityClasses$3=ee=>{const{classes:$,isMediaComponent:te,isImageComponent:ne}=ee;return composeClasses({root:["root",te&&"media",ne&&"img"]},getCardMediaUtilityClass,$)},CardMediaRoot=styled("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee,{isMediaComponent:ne,isImageComponent:ie}=te;return[$.root,ne&&$.media,ie&&$.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),MEDIA_COMPONENTS=["video","audio","picture","iframe","img"],IMAGE_COMPONENTS=["picture","img"],CardMedia=reactExports.forwardRef(function($,te){const ne=useDefaultProps({props:$,name:"MuiCardMedia"}),{children:ie,className:se,component:le="div",image:oe,src:ce,style:ae,...he}=ne,de=MEDIA_COMPONENTS.includes(le),pe=!de&&oe?{backgroundImage:`url("${oe}")`,...ae}:ae,re={...ne,component:le,isMediaComponent:de,isImageComponent:IMAGE_COMPONENTS.includes(le)},Ae=useUtilityClasses$3(re);return jsxRuntimeExports.jsx(CardMediaRoot,{className:clsx(Ae.root,se),as:le,role:!de&&oe?"img":void 0,ref:te,style:pe,ownerState:re,src:de?oe||ce:void 0,...he,children:ie})});function getUnit(ee){return String(ee).match(/[\d.\-+]*\s*(.*)/)[1]||""}function toUnitless(ee){return parseFloat(ee)}function getSkeletonUtilityClass(ee){return generateUtilityClass("MuiSkeleton",ee)}generateUtilityClasses("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const useUtilityClasses$2=ee=>{const{classes:$,variant:te,animation:ne,hasChildren:ie,width:se,height:le}=ee;return composeClasses({root:["root",te,ne,ie&&"withChildren",ie&&!se&&"fitContent",ie&&!le&&"heightAuto"]},getSkeletonUtilityClass,$)},pulseKeyframe=keyframes`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`,waveKeyframe=keyframes`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`,pulseAnimation=typeof pulseKeyframe!="string"?css`
        animation: ${pulseKeyframe} 2s ease-in-out 0.5s infinite;
      `:null,waveAnimation=typeof waveKeyframe!="string"?css`
        &::after {
          animation: ${waveKeyframe} 2s linear 0.5s infinite;
        }
      `:null,SkeletonRoot=styled("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.root,$[te.variant],te.animation!==!1&&$[te.animation],te.hasChildren&&$.withChildren,te.hasChildren&&!te.width&&$.fitContent,te.hasChildren&&!te.height&&$.heightAuto]}})(memoTheme(({theme:ee})=>{const $=getUnit(ee.shape.borderRadius)||"px",te=toUnitless(ee.shape.borderRadius);return{display:"block",backgroundColor:ee.vars?ee.vars.palette.Skeleton.bg:alpha(ee.palette.text.primary,ee.palette.mode==="light"?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${te}${$}/${Math.round(te/.6*10)/10}${$}`,"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(ee.vars||ee).shape.borderRadius}},{props:({ownerState:ne})=>ne.hasChildren,style:{"& > *":{visibility:"hidden"}}},{props:({ownerState:ne})=>ne.hasChildren&&!ne.width,style:{maxWidth:"fit-content"}},{props:({ownerState:ne})=>ne.hasChildren&&!ne.height,style:{height:"auto"}},{props:{animation:"pulse"},style:pulseAnimation||{animation:`${pulseKeyframe} 2s ease-in-out 0.5s infinite`}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:`linear-gradient(
                90deg,
                transparent,
                ${(ee.vars||ee).palette.action.hover},
                transparent
              )`,content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:waveAnimation||{"&::after":{animation:`${waveKeyframe} 2s linear 0.5s infinite`}}}]}})),Skeleton=reactExports.forwardRef(function($,te){const ne=useDefaultProps({props:$,name:"MuiSkeleton"}),{animation:ie="pulse",className:se,component:le="span",height:oe,style:ce,variant:ae="text",width:he,...de}=ne,pe={...ne,animation:ie,component:le,variant:ae,hasChildren:!!de.children},re=useUtilityClasses$2(pe);return jsxRuntimeExports.jsx(SkeletonRoot,{as:le,ref:te,className:clsx(re.root,se),ownerState:pe,...de,style:{width:he,height:oe,...ce}})}),BlogList=()=>{const[ee,$]=reactExports.useState([]),[te,ne]=reactExports.useState(!0);reactExports.useEffect(()=>{fetch("https://portfoliobackend-311015061542.europe-west1.run.app/api/website/blog/get-all-blogs").then(le=>{if(!le.ok)throw new Error(`HTTP error! Status: ${le.status}`);return le.json()}).then(le=>$(le)).catch(le=>console.error("Error fetching blogs:",le)).finally(()=>ne(!1))},[]);const ie=()=>Array.from({length:6}).map((le,oe)=>jsxRuntimeExports.jsxs(Card,{sx:{maxWidth:345,height:380,display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:3,borderRadius:2,backgroundColor:"rgba(255, 255, 255, 0.1)"},children:[jsxRuntimeExports.jsx(Skeleton,{variant:"rectangular",width:"100%",height:160}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Skeleton,{variant:"text",width:"80%"}),jsxRuntimeExports.jsx(Skeleton,{variant:"text",width:"95%"})]}),jsxRuntimeExports.jsx(CardActions,{children:jsxRuntimeExports.jsx(Skeleton,{variant:"rectangular",width:100,height:30})})]},oe)),se=()=>ee.map(le=>{var ae,he;const oe=((ae=le.images)==null?void 0:ae.length)>0?le.images[0]:"https://via.placeholder.com/345",ce=((he=le.content)==null?void 0:he.slice(0,120))||"";return jsxRuntimeExports.jsx(motion.div,{whileHover:{scale:1.05},transition:{type:"spring",stiffness:150,damping:10},children:jsxRuntimeExports.jsxs(Card,{sx:{maxWidth:345,height:380,display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:4,borderRadius:3,backgroundColor:"rgba(255, 255, 255, 0.1)"},children:[jsxRuntimeExports.jsx(CardMedia,{component:"img",image:oe,alt:le.title,sx:{height:160,objectFit:"cover"}}),jsxRuntimeExports.jsxs(CardContent,{sx:{flexGrow:1},children:[jsxRuntimeExports.jsx(Typography,{variant:"h6",component:"div",color:"white",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:le.title}),jsxRuntimeExports.jsx(Typography,{variant:"body2",color:"white",sx:{mt:1,overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:ce})]}),jsxRuntimeExports.jsxs(CardActions,{sx:{display:"flex",justifyContent:"space-between"},children:[jsxRuntimeExports.jsx(Button,{size:"small",href:le.url,target:"_blank",rel:"noopener noreferrer",variant:"outlined",sx:{color:"white",borderColor:"white"},children:"Read More"}),le.url&&jsxRuntimeExports.jsx("a",{href:le.url,target:"_blank",rel:"noopener noreferrer",style:{color:"white"},children:jsxRuntimeExports.jsx(FaMedium,{size:22})})]})]})},le._id)});return jsxRuntimeExports.jsxs("div",{className:"container mx-auto p-5",children:[jsxRuntimeExports.jsx(Typography,{variant:"h3",component:"h1",color:"white",gutterBottom:!0,children:"Blog Posts"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:te?ie():se()})]})};var pdfViewerReactjs={exports:{}},_typeof={exports:{}};(function(ee){function $(te){"@babel/helpers - typeof";return ee.exports=$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},ee.exports.__esModule=!0,ee.exports.default=ee.exports,$(te)}ee.exports=$,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(_typeof);var _typeofExports=_typeof.exports,classCallCheck={exports:{}};(function(ee){function $(te,ne){if(!(te instanceof ne))throw new TypeError("Cannot call a class as a function")}ee.exports=$,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(classCallCheck);var classCallCheckExports=classCallCheck.exports,createClass={exports:{}},toPropertyKey={exports:{}},toPrimitive={exports:{}};(function(ee){var $=_typeofExports.default;function te(ne,ie){if($(ne)!="object"||!ne)return ne;var se=ne[Symbol.toPrimitive];if(se!==void 0){var le=se.call(ne,ie||"default");if($(le)!="object")return le;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ie==="string"?String:Number)(ne)}ee.exports=te,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(toPrimitive);var toPrimitiveExports=toPrimitive.exports;(function(ee){var $=_typeofExports.default,te=toPrimitiveExports;function ne(ie){var se=te(ie,"string");return $(se)=="symbol"?se:se+""}ee.exports=ne,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(toPropertyKey);var toPropertyKeyExports=toPropertyKey.exports;(function(ee){var $=toPropertyKeyExports;function te(ie,se){for(var le=0;le<se.length;le++){var oe=se[le];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(ie,$(oe.key),oe)}}function ne(ie,se,le){return se&&te(ie.prototype,se),le&&te(ie,le),Object.defineProperty(ie,"prototype",{writable:!1}),ie}ee.exports=ne,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(createClass);var createClassExports=createClass.exports,assertThisInitialized={exports:{}};(function(ee){function $(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te}ee.exports=$,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(assertThisInitialized);var assertThisInitializedExports=assertThisInitialized.exports,inherits={exports:{}},setPrototypeOf={exports:{}};(function(ee){function $(te,ne){return ee.exports=$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ie,se){return ie.__proto__=se,ie},ee.exports.__esModule=!0,ee.exports.default=ee.exports,$(te,ne)}ee.exports=$,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(setPrototypeOf);var setPrototypeOfExports=setPrototypeOf.exports;(function(ee){var $=setPrototypeOfExports;function te(ne,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),ie&&$(ne,ie)}ee.exports=te,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(inherits);var inheritsExports=inherits.exports,possibleConstructorReturn={exports:{}};(function(ee){var $=_typeofExports.default,te=assertThisInitializedExports;function ne(ie,se){if(se&&($(se)=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return te(ie)}ee.exports=ne,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(possibleConstructorReturn);var possibleConstructorReturnExports=possibleConstructorReturn.exports,getPrototypeOf={exports:{}};(function(ee){function $(te){return ee.exports=$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},ee.exports.__esModule=!0,ee.exports.default=ee.exports,$(te)}ee.exports=$,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(getPrototypeOf);var getPrototypeOfExports=getPrototypeOf.exports,regeneratorRuntime$1={exports:{}};(function(ee){var $=_typeofExports.default;function te(){ee.exports=te=function(){return ie},ee.exports.__esModule=!0,ee.exports.default=ee.exports;var ne,ie={},se=Object.prototype,le=se.hasOwnProperty,oe=Object.defineProperty||function(Me,Ve,He){Me[Ve]=He.value},ce=typeof Symbol=="function"?Symbol:{},ae=ce.iterator||"@@iterator",he=ce.asyncIterator||"@@asyncIterator",de=ce.toStringTag||"@@toStringTag";function pe(Me,Ve,He){return Object.defineProperty(Me,Ve,{value:He,enumerable:!0,configurable:!0,writable:!0}),Me[Ve]}try{pe({},"")}catch{pe=function(He,Ie,Le){return He[Ie]=Le}}function re(Me,Ve,He,Ie){var Le=Ve&&Ve.prototype instanceof ue?Ve:ue,Oe=Object.create(Le.prototype),Ne=new Ue(Ie||[]);return oe(Oe,"_invoke",{value:ke(Me,He,Ne)}),Oe}function Ae(Me,Ve,He){try{return{type:"normal",arg:Me.call(Ve,He)}}catch(Ie){return{type:"throw",arg:Ie}}}ie.wrap=re;var ge="suspendedStart",Se="suspendedYield",fe="executing",be="completed",xe={};function ue(){}function we(){}function Fe(){}var _e={};pe(_e,ae,function(){return this});var Ee=Object.getPrototypeOf,Ce=Ee&&Ee(Ee(Te([])));Ce&&Ce!==se&&le.call(Ce,ae)&&(_e=Ce);var ye=Fe.prototype=ue.prototype=Object.create(_e);function Re(Me){["next","throw","return"].forEach(function(Ve){pe(Me,Ve,function(He){return this._invoke(Ve,He)})})}function Ye(Me,Ve){function He(Le,Oe,Ne,qe){var it=Ae(Me[Le],Me,Oe);if(it.type!=="throw"){var tt=it.arg,Xe=tt.value;return Xe&&$(Xe)=="object"&&le.call(Xe,"__await")?Ve.resolve(Xe.__await).then(function(Ze){He("next",Ze,Ne,qe)},function(Ze){He("throw",Ze,Ne,qe)}):Ve.resolve(Xe).then(function(Ze){tt.value=Ze,Ne(tt)},function(Ze){return He("throw",Ze,Ne,qe)})}qe(it.arg)}var Ie;oe(this,"_invoke",{value:function(Oe,Ne){function qe(){return new Ve(function(it,tt){He(Oe,Ne,it,tt)})}return Ie=Ie?Ie.then(qe,qe):qe()}})}function ke(Me,Ve,He){var Ie=ge;return function(Le,Oe){if(Ie===fe)throw Error("Generator is already running");if(Ie===be){if(Le==="throw")throw Oe;return{value:ne,done:!0}}for(He.method=Le,He.arg=Oe;;){var Ne=He.delegate;if(Ne){var qe=$e(Ne,He);if(qe){if(qe===xe)continue;return qe}}if(He.method==="next")He.sent=He._sent=He.arg;else if(He.method==="throw"){if(Ie===ge)throw Ie=be,He.arg;He.dispatchException(He.arg)}else He.method==="return"&&He.abrupt("return",He.arg);Ie=fe;var it=Ae(Me,Ve,He);if(it.type==="normal"){if(Ie=He.done?be:Se,it.arg===xe)continue;return{value:it.arg,done:He.done}}it.type==="throw"&&(Ie=be,He.method="throw",He.arg=it.arg)}}}function $e(Me,Ve){var He=Ve.method,Ie=Me.iterator[He];if(Ie===ne)return Ve.delegate=null,He==="throw"&&Me.iterator.return&&(Ve.method="return",Ve.arg=ne,$e(Me,Ve),Ve.method==="throw")||He!=="return"&&(Ve.method="throw",Ve.arg=new TypeError("The iterator does not provide a '"+He+"' method")),xe;var Le=Ae(Ie,Me.iterator,Ve.arg);if(Le.type==="throw")return Ve.method="throw",Ve.arg=Le.arg,Ve.delegate=null,xe;var Oe=Le.arg;return Oe?Oe.done?(Ve[Me.resultName]=Oe.value,Ve.next=Me.nextLoc,Ve.method!=="return"&&(Ve.method="next",Ve.arg=ne),Ve.delegate=null,xe):Oe:(Ve.method="throw",Ve.arg=new TypeError("iterator result is not an object"),Ve.delegate=null,xe)}function Be(Me){var Ve={tryLoc:Me[0]};1 in Me&&(Ve.catchLoc=Me[1]),2 in Me&&(Ve.finallyLoc=Me[2],Ve.afterLoc=Me[3]),this.tryEntries.push(Ve)}function Pe(Me){var Ve=Me.completion||{};Ve.type="normal",delete Ve.arg,Me.completion=Ve}function Ue(Me){this.tryEntries=[{tryLoc:"root"}],Me.forEach(Be,this),this.reset(!0)}function Te(Me){if(Me||Me===""){var Ve=Me[ae];if(Ve)return Ve.call(Me);if(typeof Me.next=="function")return Me;if(!isNaN(Me.length)){var He=-1,Ie=function Le(){for(;++He<Me.length;)if(le.call(Me,He))return Le.value=Me[He],Le.done=!1,Le;return Le.value=ne,Le.done=!0,Le};return Ie.next=Ie}}throw new TypeError($(Me)+" is not iterable")}return we.prototype=Fe,oe(ye,"constructor",{value:Fe,configurable:!0}),oe(Fe,"constructor",{value:we,configurable:!0}),we.displayName=pe(Fe,de,"GeneratorFunction"),ie.isGeneratorFunction=function(Me){var Ve=typeof Me=="function"&&Me.constructor;return!!Ve&&(Ve===we||(Ve.displayName||Ve.name)==="GeneratorFunction")},ie.mark=function(Me){return Object.setPrototypeOf?Object.setPrototypeOf(Me,Fe):(Me.__proto__=Fe,pe(Me,de,"GeneratorFunction")),Me.prototype=Object.create(ye),Me},ie.awrap=function(Me){return{__await:Me}},Re(Ye.prototype),pe(Ye.prototype,he,function(){return this}),ie.AsyncIterator=Ye,ie.async=function(Me,Ve,He,Ie,Le){Le===void 0&&(Le=Promise);var Oe=new Ye(re(Me,Ve,He,Ie),Le);return ie.isGeneratorFunction(Ve)?Oe:Oe.next().then(function(Ne){return Ne.done?Ne.value:Oe.next()})},Re(ye),pe(ye,de,"Generator"),pe(ye,ae,function(){return this}),pe(ye,"toString",function(){return"[object Generator]"}),ie.keys=function(Me){var Ve=Object(Me),He=[];for(var Ie in Ve)He.push(Ie);return He.reverse(),function Le(){for(;He.length;){var Oe=He.pop();if(Oe in Ve)return Le.value=Oe,Le.done=!1,Le}return Le.done=!0,Le}},ie.values=Te,Ue.prototype={constructor:Ue,reset:function(Ve){if(this.prev=0,this.next=0,this.sent=this._sent=ne,this.done=!1,this.delegate=null,this.method="next",this.arg=ne,this.tryEntries.forEach(Pe),!Ve)for(var He in this)He.charAt(0)==="t"&&le.call(this,He)&&!isNaN(+He.slice(1))&&(this[He]=ne)},stop:function(){this.done=!0;var Ve=this.tryEntries[0].completion;if(Ve.type==="throw")throw Ve.arg;return this.rval},dispatchException:function(Ve){if(this.done)throw Ve;var He=this;function Ie(tt,Xe){return Ne.type="throw",Ne.arg=Ve,He.next=tt,Xe&&(He.method="next",He.arg=ne),!!Xe}for(var Le=this.tryEntries.length-1;Le>=0;--Le){var Oe=this.tryEntries[Le],Ne=Oe.completion;if(Oe.tryLoc==="root")return Ie("end");if(Oe.tryLoc<=this.prev){var qe=le.call(Oe,"catchLoc"),it=le.call(Oe,"finallyLoc");if(qe&&it){if(this.prev<Oe.catchLoc)return Ie(Oe.catchLoc,!0);if(this.prev<Oe.finallyLoc)return Ie(Oe.finallyLoc)}else if(qe){if(this.prev<Oe.catchLoc)return Ie(Oe.catchLoc,!0)}else{if(!it)throw Error("try statement without catch or finally");if(this.prev<Oe.finallyLoc)return Ie(Oe.finallyLoc)}}}},abrupt:function(Ve,He){for(var Ie=this.tryEntries.length-1;Ie>=0;--Ie){var Le=this.tryEntries[Ie];if(Le.tryLoc<=this.prev&&le.call(Le,"finallyLoc")&&this.prev<Le.finallyLoc){var Oe=Le;break}}Oe&&(Ve==="break"||Ve==="continue")&&Oe.tryLoc<=He&&He<=Oe.finallyLoc&&(Oe=null);var Ne=Oe?Oe.completion:{};return Ne.type=Ve,Ne.arg=He,Oe?(this.method="next",this.next=Oe.finallyLoc,xe):this.complete(Ne)},complete:function(Ve,He){if(Ve.type==="throw")throw Ve.arg;return Ve.type==="break"||Ve.type==="continue"?this.next=Ve.arg:Ve.type==="return"?(this.rval=this.arg=Ve.arg,this.method="return",this.next="end"):Ve.type==="normal"&&He&&(this.next=He),xe},finish:function(Ve){for(var He=this.tryEntries.length-1;He>=0;--He){var Ie=this.tryEntries[He];if(Ie.finallyLoc===Ve)return this.complete(Ie.completion,Ie.afterLoc),Pe(Ie),xe}},catch:function(Ve){for(var He=this.tryEntries.length-1;He>=0;--He){var Ie=this.tryEntries[He];if(Ie.tryLoc===Ve){var Le=Ie.completion;if(Le.type==="throw"){var Oe=Le.arg;Pe(Ie)}return Oe}}throw Error("illegal catch attempt")},delegateYield:function(Ve,He,Ie){return this.delegate={iterator:Te(Ve),resultName:He,nextLoc:Ie},this.method==="next"&&(this.arg=ne),xe}},ie}ee.exports=te,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(regeneratorRuntime$1);var regeneratorRuntimeExports=regeneratorRuntime$1.exports,runtime=regeneratorRuntimeExports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}var asyncToGenerator={exports:{}};(function(ee){function $(ne,ie,se,le,oe,ce,ae){try{var he=ne[ce](ae),de=he.value}catch(pe){return void se(pe)}he.done?ie(de):Promise.resolve(de).then(le,oe)}function te(ne){return function(){var ie=this,se=arguments;return new Promise(function(le,oe){var ce=ne.apply(ie,se);function ae(de){$(ce,le,oe,ae,he,"next",de)}function he(de){$(ce,le,oe,ae,he,"throw",de)}ae(void 0)})}}ee.exports=te,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(asyncToGenerator);var asyncToGeneratorExports=asyncToGenerator.exports,slicedToArray={exports:{}},arrayWithHoles={exports:{}};(function(ee){function $(te){if(Array.isArray(te))return te}ee.exports=$,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(arrayWithHoles);var arrayWithHolesExports=arrayWithHoles.exports,iterableToArrayLimit={exports:{}};(function(ee){function $(te,ne){var ie=te==null?null:typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(ie!=null){var se,le,oe,ce,ae=[],he=!0,de=!1;try{if(oe=(ie=ie.call(te)).next,ne===0){if(Object(ie)!==ie)return;he=!1}else for(;!(he=(se=oe.call(ie)).done)&&(ae.push(se.value),ae.length!==ne);he=!0);}catch(pe){de=!0,le=pe}finally{try{if(!he&&ie.return!=null&&(ce=ie.return(),Object(ce)!==ce))return}finally{if(de)throw le}}return ae}}ee.exports=$,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(iterableToArrayLimit);var iterableToArrayLimitExports=iterableToArrayLimit.exports,unsupportedIterableToArray={exports:{}},arrayLikeToArray={exports:{}};(function(ee){function $(te,ne){(ne==null||ne>te.length)&&(ne=te.length);for(var ie=0,se=Array(ne);ie<ne;ie++)se[ie]=te[ie];return se}ee.exports=$,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(arrayLikeToArray);var arrayLikeToArrayExports=arrayLikeToArray.exports;(function(ee){var $=arrayLikeToArrayExports;function te(ne,ie){if(ne){if(typeof ne=="string")return $(ne,ie);var se={}.toString.call(ne).slice(8,-1);return se==="Object"&&ne.constructor&&(se=ne.constructor.name),se==="Map"||se==="Set"?Array.from(ne):se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se)?$(ne,ie):void 0}}ee.exports=te,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(unsupportedIterableToArray);var unsupportedIterableToArrayExports=unsupportedIterableToArray.exports,nonIterableRest={exports:{}};(function(ee){function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}ee.exports=$,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(nonIterableRest);var nonIterableRestExports=nonIterableRest.exports;(function(ee){var $=arrayWithHolesExports,te=iterableToArrayLimitExports,ne=unsupportedIterableToArrayExports,ie=nonIterableRestExports;function se(le,oe){return $(le)||te(le,oe)||ne(le,oe)||ie()}ee.exports=se,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(slicedToArray);var slicedToArrayExports=slicedToArray.exports;function commonjsRequire(ee){throw new Error('Could not dynamically require "'+ee+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,te){module.exports=te()})(globalThis,()=>(()=>{var __webpack_modules__=[,(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.StreamType=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FontType=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.arrayByteLength=We,$.arraysToBytes=rt,$.assert=Le,$.bytesToString=nt,$.createPromiseCapability=Ft,$.createValidAbsoluteUrl=Ne,$.escapeString=vt,$.getModificationDate=St,$.getVerbosityLevel=Me,$.info=Ve,$.isArrayBuffer=jt,$.isArrayEqual=Bt,$.isAscii=wt,$.objectFromMap=at,$.objectSize=ct,$.setVerbosityLevel=Te,$.shadow=qe,$.string32=et,$.stringToBytes=Qe,$.stringToPDFString=xt,$.stringToUTF16BEString=_t,$.stringToUTF8String=Tt,$.unreachable=Ie,$.utf8StringToString=Lt,$.warn=He,te(2);const ne=[1,0,0,1,0,0];$.IDENTITY_MATRIX=ne;const ie=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=ie;const se=1.35;$.LINE_FACTOR=se;const le=.35;$.LINE_DESCENT_FACTOR=le;const oe={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=oe;const ce={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=ce;const ae="pdfjs_internal_editor_";$.AnnotationEditorPrefix=ae;const he={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=he;const de={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=de;const pe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=pe;const re={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=re;const Ae={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=Ae;const ge={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=ge;const Se={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=Se;const fe={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=fe;const be={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=be;const xe={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=xe;const ue={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=ue;const we={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=we;const Fe={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Fe;const _e={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=_e;const Ee={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Ee;const Ce={O:"PageOpen",C:"PageClose"};$.PageActionEventType=Ce;const ye={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};$.StreamType=ye;const Re={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};$.FontType=Re;const Ye={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Ye;const ke={NONE:0,BINARY:1,STREAM:2};$.CMapCompressionType=ke;const $e={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=$e;const Be={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=Be;const Pe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=Pe;let Ue=Ye.WARNINGS;function Te(Ct){Number.isInteger(Ct)&&(Ue=Ct)}function Me(){return Ue}function Ve(Ct){Ue>=Ye.INFOS&&console.log(`Info: ${Ct}`)}function He(Ct){Ue>=Ye.WARNINGS&&console.log(`Warning: ${Ct}`)}function Ie(Ct){throw new Error(Ct)}function Le(Ct,yt){Ct||Ie(yt)}function Oe(Ct){if(!Ct)return!1;switch(Ct.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Ne(Ct,yt=null,bt=null){if(!Ct)return null;try{if(bt&&typeof Ct=="string"){if(bt.addDefaultProtocol&&Ct.startsWith("www.")){const Ut=Ct.match(/\./g);Ut&&Ut.length>=2&&(Ct=`http://${Ct}`)}if(bt.tryConvertEncoding)try{Ct=Tt(Ct)}catch{}}const Pt=yt?new URL(Ct,yt):new URL(Ct);if(Oe(Pt))return Pt}catch{}return null}function qe(Ct,yt,bt){return Object.defineProperty(Ct,yt,{value:bt,enumerable:!0,configurable:!0,writable:!1}),bt}const it=function(){function yt(bt,Pt){this.constructor===yt&&Ie("Cannot initialize BaseException."),this.message=bt,this.name=Pt}return yt.prototype=new Error,yt.constructor=yt,yt}();$.BaseException=it;class tt extends it{constructor(yt,bt){super(yt,"PasswordException"),this.code=bt}}$.PasswordException=tt;class Xe extends it{constructor(yt,bt){super(yt,"UnknownErrorException"),this.details=bt}}$.UnknownErrorException=Xe;class Ze extends it{constructor(yt){super(yt,"InvalidPDFException")}}$.InvalidPDFException=Ze;class ot extends it{constructor(yt){super(yt,"MissingPDFException")}}$.MissingPDFException=ot;class Ge extends it{constructor(yt,bt){super(yt,"UnexpectedResponseException"),this.status=bt}}$.UnexpectedResponseException=Ge;class Ke extends it{constructor(yt){super(yt,"FormatError")}}$.FormatError=Ke;class je extends it{constructor(yt){super(yt,"AbortException")}}$.AbortException=je;function nt(Ct){(typeof Ct!="object"||Ct===null||Ct.length===void 0)&&Ie("Invalid argument for bytesToString");const yt=Ct.length,bt=8192;if(yt<bt)return String.fromCharCode.apply(null,Ct);const Pt=[];for(let Ut=0;Ut<yt;Ut+=bt){const Yt=Math.min(Ut+bt,yt),kt=Ct.subarray(Ut,Yt);Pt.push(String.fromCharCode.apply(null,kt))}return Pt.join("")}function Qe(Ct){typeof Ct!="string"&&Ie("Invalid argument for stringToBytes");const yt=Ct.length,bt=new Uint8Array(yt);for(let Pt=0;Pt<yt;++Pt)bt[Pt]=Ct.charCodeAt(Pt)&255;return bt}function We(Ct){if(Ct.length!==void 0)return Ct.length;if(Ct.byteLength!==void 0)return Ct.byteLength;Ie("Invalid argument for arrayByteLength")}function rt(Ct){const yt=Ct.length;if(yt===1&&Ct[0]instanceof Uint8Array)return Ct[0];let bt=0;for(let Yt=0;Yt<yt;Yt++)bt+=We(Ct[Yt]);let Pt=0;const Ut=new Uint8Array(bt);for(let Yt=0;Yt<yt;Yt++){let kt=Ct[Yt];kt instanceof Uint8Array||(typeof kt=="string"?kt=Qe(kt):kt=new Uint8Array(kt));const Ot=kt.byteLength;Ut.set(kt,Pt),Pt+=Ot}return Ut}function et(Ct){return String.fromCharCode(Ct>>24&255,Ct>>16&255,Ct>>8&255,Ct&255)}function ct(Ct){return Object.keys(Ct).length}function at(Ct){const yt=Object.create(null);for(const[bt,Pt]of Ct)yt[bt]=Pt;return yt}function Je(){const Ct=new Uint8Array(4);return Ct[0]=1,new Uint32Array(Ct.buffer,0,1)[0]===1}function lt(){try{return new Function(""),!0}catch{return!1}}class ut{static get isLittleEndian(){return qe(this,"isLittleEndian",Je())}static get isEvalSupported(){return qe(this,"isEvalSupported",lt())}static get isOffscreenCanvasSupported(){return qe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}$.FeatureTest=ut;const ft=[...Array(256).keys()].map(Ct=>Ct.toString(16).padStart(2,"0"));class pt{static makeHexColor(yt,bt,Pt){return`#${ft[yt]}${ft[bt]}${ft[Pt]}`}static scaleMinMax(yt,bt){let Pt;yt[0]?(yt[0]<0&&(Pt=bt[0],bt[0]=bt[1],bt[1]=Pt),bt[0]*=yt[0],bt[1]*=yt[0],yt[3]<0&&(Pt=bt[2],bt[2]=bt[3],bt[3]=Pt),bt[2]*=yt[3],bt[3]*=yt[3]):(Pt=bt[0],bt[0]=bt[2],bt[2]=Pt,Pt=bt[1],bt[1]=bt[3],bt[3]=Pt,yt[1]<0&&(Pt=bt[2],bt[2]=bt[3],bt[3]=Pt),bt[2]*=yt[1],bt[3]*=yt[1],yt[2]<0&&(Pt=bt[0],bt[0]=bt[1],bt[1]=Pt),bt[0]*=yt[2],bt[1]*=yt[2]),bt[0]+=yt[4],bt[1]+=yt[4],bt[2]+=yt[5],bt[3]+=yt[5]}static transform(yt,bt){return[yt[0]*bt[0]+yt[2]*bt[1],yt[1]*bt[0]+yt[3]*bt[1],yt[0]*bt[2]+yt[2]*bt[3],yt[1]*bt[2]+yt[3]*bt[3],yt[0]*bt[4]+yt[2]*bt[5]+yt[4],yt[1]*bt[4]+yt[3]*bt[5]+yt[5]]}static applyTransform(yt,bt){const Pt=yt[0]*bt[0]+yt[1]*bt[2]+bt[4],Ut=yt[0]*bt[1]+yt[1]*bt[3]+bt[5];return[Pt,Ut]}static applyInverseTransform(yt,bt){const Pt=bt[0]*bt[3]-bt[1]*bt[2],Ut=(yt[0]*bt[3]-yt[1]*bt[2]+bt[2]*bt[5]-bt[4]*bt[3])/Pt,Yt=(-yt[0]*bt[1]+yt[1]*bt[0]+bt[4]*bt[1]-bt[5]*bt[0])/Pt;return[Ut,Yt]}static getAxialAlignedBoundingBox(yt,bt){const Pt=pt.applyTransform(yt,bt),Ut=pt.applyTransform(yt.slice(2,4),bt),Yt=pt.applyTransform([yt[0],yt[3]],bt),kt=pt.applyTransform([yt[2],yt[1]],bt);return[Math.min(Pt[0],Ut[0],Yt[0],kt[0]),Math.min(Pt[1],Ut[1],Yt[1],kt[1]),Math.max(Pt[0],Ut[0],Yt[0],kt[0]),Math.max(Pt[1],Ut[1],Yt[1],kt[1])]}static inverseTransform(yt){const bt=yt[0]*yt[3]-yt[1]*yt[2];return[yt[3]/bt,-yt[1]/bt,-yt[2]/bt,yt[0]/bt,(yt[2]*yt[5]-yt[4]*yt[3])/bt,(yt[4]*yt[1]-yt[5]*yt[0])/bt]}static apply3dTransform(yt,bt){return[yt[0]*bt[0]+yt[1]*bt[1]+yt[2]*bt[2],yt[3]*bt[0]+yt[4]*bt[1]+yt[5]*bt[2],yt[6]*bt[0]+yt[7]*bt[1]+yt[8]*bt[2]]}static singularValueDecompose2dScale(yt){const bt=[yt[0],yt[2],yt[1],yt[3]],Pt=yt[0]*bt[0]+yt[1]*bt[2],Ut=yt[0]*bt[1]+yt[1]*bt[3],Yt=yt[2]*bt[0]+yt[3]*bt[2],kt=yt[2]*bt[1]+yt[3]*bt[3],Ot=(Pt+kt)/2,Et=Math.sqrt((Pt+kt)**2-4*(Pt*kt-Yt*Ut))/2,nn=Ot+Et||1,en=Ot-Et||1;return[Math.sqrt(nn),Math.sqrt(en)]}static normalizeRect(yt){const bt=yt.slice(0);return yt[0]>yt[2]&&(bt[0]=yt[2],bt[2]=yt[0]),yt[1]>yt[3]&&(bt[1]=yt[3],bt[3]=yt[1]),bt}static intersect(yt,bt){const Pt=Math.max(Math.min(yt[0],yt[2]),Math.min(bt[0],bt[2])),Ut=Math.min(Math.max(yt[0],yt[2]),Math.max(bt[0],bt[2]));if(Pt>Ut)return null;const Yt=Math.max(Math.min(yt[1],yt[3]),Math.min(bt[1],bt[3])),kt=Math.min(Math.max(yt[1],yt[3]),Math.max(bt[1],bt[3]));return Yt>kt?null:[Pt,Yt,Ut,kt]}static bezierBoundingBox(yt,bt,Pt,Ut,Yt,kt,Ot,Et){const nn=[],en=[[],[]];let an,Sn,sn,yn,On,tn,Dn,xn;for(let wn=0;wn<2;++wn){if(wn===0?(Sn=6*yt-12*Pt+6*Yt,an=-3*yt+9*Pt-9*Yt+3*Ot,sn=3*Pt-3*yt):(Sn=6*bt-12*Ut+6*kt,an=-3*bt+9*Ut-9*kt+3*Et,sn=3*Ut-3*bt),Math.abs(an)<1e-12){if(Math.abs(Sn)<1e-12)continue;yn=-sn/Sn,0<yn&&yn<1&&nn.push(yn);continue}Dn=Sn*Sn-4*sn*an,xn=Math.sqrt(Dn),!(Dn<0)&&(On=(-Sn+xn)/(2*an),0<On&&On<1&&nn.push(On),tn=(-Sn-xn)/(2*an),0<tn&&tn<1&&nn.push(tn))}let Hn=nn.length,In;const _n=Hn;for(;Hn--;)yn=nn[Hn],In=1-yn,en[0][Hn]=In*In*In*yt+3*In*In*yn*Pt+3*In*yn*yn*Yt+yn*yn*yn*Ot,en[1][Hn]=In*In*In*bt+3*In*In*yn*Ut+3*In*yn*yn*kt+yn*yn*yn*Et;return en[0][_n]=yt,en[1][_n]=bt,en[0][_n+1]=Ot,en[1][_n+1]=Et,en[0].length=en[1].length=_n+2,[Math.min(...en[0]),Math.min(...en[1]),Math.max(...en[0]),Math.max(...en[1])]}}$.Util=pt;const mt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function xt(Ct){if(Ct[0]>="ï"){let bt;if(Ct[0]==="þ"&&Ct[1]==="ÿ"?bt="utf-16be":Ct[0]==="ÿ"&&Ct[1]==="þ"?bt="utf-16le":Ct[0]==="ï"&&Ct[1]==="»"&&Ct[2]==="¿"&&(bt="utf-8"),bt)try{const Pt=new TextDecoder(bt,{fatal:!0}),Ut=Qe(Ct);return Pt.decode(Ut)}catch(Pt){He(`stringToPDFString: "${Pt}".`)}}const yt=[];for(let bt=0,Pt=Ct.length;bt<Pt;bt++){const Ut=mt[Ct.charCodeAt(bt)];yt.push(Ut?String.fromCharCode(Ut):Ct.charAt(bt))}return yt.join("")}function vt(Ct){return Ct.replace(/([()\\\n\r])/g,yt=>yt===`
`?"\\n":yt==="\r"?"\\r":`\\${yt}`)}function wt(Ct){return/^[\x00-\x7F]*$/.test(Ct)}function _t(Ct){const yt=["þÿ"];for(let bt=0,Pt=Ct.length;bt<Pt;bt++){const Ut=Ct.charCodeAt(bt);yt.push(String.fromCharCode(Ut>>8&255),String.fromCharCode(Ut&255))}return yt.join("")}function Tt(Ct){return decodeURIComponent(escape(Ct))}function Lt(Ct){return unescape(encodeURIComponent(Ct))}function jt(Ct){return typeof Ct=="object"&&Ct!==null&&Ct.byteLength!==void 0}function Bt(Ct,yt){if(Ct.length!==yt.length)return!1;for(let bt=0,Pt=Ct.length;bt<Pt;bt++)if(Ct[bt]!==yt[bt])return!1;return!0}function St(Ct=new Date){return[Ct.getUTCFullYear().toString(),(Ct.getUTCMonth()+1).toString().padStart(2,"0"),Ct.getUTCDate().toString().padStart(2,"0"),Ct.getUTCHours().toString().padStart(2,"0"),Ct.getUTCMinutes().toString().padStart(2,"0"),Ct.getUTCSeconds().toString().padStart(2,"0")].join("")}function Ft(){const Ct=Object.create(null);let yt=!1;return Object.defineProperty(Ct,"settled",{get(){return yt}}),Ct.promise=new Promise(function(bt,Pt){Ct.resolve=function(Ut){yt=!0,bt(Ut)},Ct.reject=function(Ut){yt=!0,Pt(Ut)}}),Ct}},(ee,$,te)=>{te(3)},(ee,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const te=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=te},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var ee,te,ne,ie,se,le,oe,ce,ae,Il,de,pe;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Ae,NodeCMapReaderFactory:ge,NodeStandardFontDataFactory:Se}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=Ae,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=ge,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=Se}let createPDFNetworkStream;function setPDFNetworkStreamFactory(Ae){createPDFNetworkStream=Ae}function getDocument(Ae){const ge=new PDFDocumentLoadingTask;let Se;if(typeof Ae=="string"||Ae instanceof URL)Se={url:Ae};else if((0,_util.isArrayBuffer)(Ae))Se={data:Ae};else if(Ae instanceof PDFDataRangeTransport)Se={range:Ae};else{if(typeof Ae!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!Ae.url&&!Ae.data&&!Ae.range)throw new Error("Invalid parameter object: need either .data, .range or .url");Se=Ae}const fe=Object.create(null);let be=null,xe=null;for(const we in Se){const Fe=Se[we];switch(we){case"url":if(typeof window<"u")try{fe[we]=new URL(Fe,window.location).href;continue}catch(_e){(0,_util.warn)(`Cannot create valid URL: "${_e}".`)}else if(typeof Fe=="string"||Fe instanceof URL){fe[we]=Fe.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":be=Fe;continue;case"worker":xe=Fe;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&Fe instanceof Buffer)fe[we]=new Uint8Array(Fe);else{if(Fe instanceof Uint8Array)break;if(typeof Fe=="string")fe[we]=(0,_util.stringToBytes)(Fe);else if(typeof Fe=="object"&&Fe!==null&&!isNaN(Fe.length))fe[we]=new Uint8Array(Fe);else if((0,_util.isArrayBuffer)(Fe))fe[we]=new Uint8Array(Fe);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}fe[we]=Fe}if(fe.CMapReaderFactory=fe.CMapReaderFactory||DefaultCMapReaderFactory,fe.StandardFontDataFactory=fe.StandardFontDataFactory||DefaultStandardFontDataFactory,fe.ignoreErrors=fe.stopAtErrors!==!0,fe.fontExtraProperties=fe.fontExtraProperties===!0,fe.pdfBug=fe.pdfBug===!0,fe.enableXfa=fe.enableXfa===!0,(!Number.isInteger(fe.rangeChunkSize)||fe.rangeChunkSize<1)&&(fe.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof fe.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(fe.docBaseUrl))&&(fe.docBaseUrl=null),(!Number.isInteger(fe.maxImageSize)||fe.maxImageSize<-1)&&(fe.maxImageSize=-1),typeof fe.cMapUrl!="string"&&(fe.cMapUrl=null),typeof fe.standardFontDataUrl!="string"&&(fe.standardFontDataUrl=null),typeof fe.useWorkerFetch!="boolean"&&(fe.useWorkerFetch=fe.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&fe.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof fe.isEvalSupported!="boolean"&&(fe.isEvalSupported=!0),typeof fe.disableFontFace!="boolean"&&(fe.disableFontFace=_is_node.isNodeJS),typeof fe.useSystemFonts!="boolean"&&(fe.useSystemFonts=!_is_node.isNodeJS&&!fe.disableFontFace),(typeof fe.ownerDocument!="object"||fe.ownerDocument===null)&&(fe.ownerDocument=globalThis.document),typeof fe.disableRange!="boolean"&&(fe.disableRange=!1),typeof fe.disableStream!="boolean"&&(fe.disableStream=!1),typeof fe.disableAutoFetch!="boolean"&&(fe.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(fe.verbosity),!xe){const we={verbosity:fe.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};xe=we.port?PDFWorker.fromPort(we):new PDFWorker(we),ge._worker=xe}const ue=ge.docId;return xe.promise.then(function(){if(ge.destroyed)throw new Error("Loading aborted");const we=_fetchDocument(xe,fe,be,ue),Fe=new Promise(function(_e){let Ee;be?Ee=new _transport_stream.PDFDataTransportStream({length:fe.length,initialData:fe.initialData,progressiveDone:fe.progressiveDone,contentDispositionFilename:fe.contentDispositionFilename,disableRange:fe.disableRange,disableStream:fe.disableStream},be):fe.data||(Ee=createPDFNetworkStream({url:fe.url,length:fe.length,httpHeaders:fe.httpHeaders,withCredentials:fe.withCredentials,rangeChunkSize:fe.rangeChunkSize,disableRange:fe.disableRange,disableStream:fe.disableStream})),_e(Ee)});return Promise.all([we,Fe]).then(function([_e,Ee]){if(ge.destroyed)throw new Error("Loading aborted");const Ce=new _message_handler.MessageHandler(ue,_e,xe.port),ye=new WorkerTransport(Ce,ge,Ee,fe);ge._transport=ye,Ce.send("Ready",null)})}).catch(ge._capability.reject),ge}async function _fetchDocument(Ae,ge,Se,fe){if(Ae.destroyed)throw new Error("Worker was destroyed");Se&&(ge.length=Se.length,ge.initialData=Se.initialData,ge.progressiveDone=Se.progressiveDone,ge.contentDispositionFilename=Se.contentDispositionFilename);const be=await Ae.messageHandler.sendWithPromise("GetDocRequest",{docId:fe,apiVersion:"2.16.105",source:{data:ge.data,url:ge.url,password:ge.password,disableAutoFetch:ge.disableAutoFetch,rangeChunkSize:ge.rangeChunkSize,length:ge.length},maxImageSize:ge.maxImageSize,disableFontFace:ge.disableFontFace,docBaseUrl:ge.docBaseUrl,ignoreErrors:ge.ignoreErrors,isEvalSupported:ge.isEvalSupported,fontExtraProperties:ge.fontExtraProperties,enableXfa:ge.enableXfa,useSystemFonts:ge.useSystemFonts,cMapUrl:ge.useWorkerFetch?ge.cMapUrl:null,standardFontDataUrl:ge.useWorkerFetch?ge.standardFontDataUrl:null});if(ge.data&&(ge.data=null),Ae.destroyed)throw new Error("Worker was destroyed");return be}const $=class ${constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Ol($,ee)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var ge;this.destroyed=!0,await((ge=this._transport)==null?void 0:ge.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};ee=new WeakMap,Fn($,ee,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(ge,Se,fe=!1,be=null){this.length=ge,this.initialData=Se,this.progressiveDone=fe,this.contentDispositionFilename=be,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(ge){this._rangeListeners.push(ge)}addProgressListener(ge){this._progressListeners.push(ge)}addProgressiveReadListener(ge){this._progressiveReadListeners.push(ge)}addProgressiveDoneListener(ge){this._progressiveDoneListeners.push(ge)}onDataRange(ge,Se){for(const fe of this._rangeListeners)fe(ge,Se)}onDataProgress(ge,Se){this._readyCapability.promise.then(()=>{for(const fe of this._progressListeners)fe(ge,Se)})}onDataProgressiveRead(ge){this._readyCapability.promise.then(()=>{for(const Se of this._progressiveReadListeners)Se(ge)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ge of this._progressiveDoneListeners)ge()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ge,Se){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ge,Se){this._pdfInfo=ge,this._transport=Se,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ge){return this._transport.getPage(ge)}getPageIndex(ge){return this._transport.getPageIndex(ge)}getDestinations(){return this._transport.getDestinations()}getDestination(ge){return this._transport.getDestination(ge)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ge=!1){return this._transport.startCleanup(ge||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ge,Se,fe,be,xe=!1){this._pageIndex=ge,this._pageInfo=Se,this._ownerDocument=be,this._transport=fe,this._stats=xe?new _display_utils.StatTimer:null,this._pdfBug=xe,this.commonObjs=fe.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ge,rotation:Se=this.rotate,offsetX:fe=0,offsetY:be=0,dontFlip:xe=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ge,rotation:Se,offsetX:fe,offsetY:be,dontFlip:xe})}getAnnotations({intent:ge="display"}={}){const Se=this._transport.getRenderingIntent(ge);let fe=this._annotationPromises.get(Se.cacheKey);return fe||(fe=this._transport.getAnnotations(this._pageIndex,Se.renderingIntent),this._annotationPromises.set(Se.cacheKey,fe),fe=fe.then(be=>{for(const xe of be)xe.titleObj!==void 0&&Object.defineProperty(xe,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),xe.titleObj.str}}),xe.contentsObj!==void 0&&Object.defineProperty(xe,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),xe.contentsObj.str}});return be})),fe}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var ge;return((ge=this._transport._htmlForXfa)==null?void 0:ge.children[this._pageIndex])||null}render({canvasContext:ge,viewport:Se,intent:fe="display",annotationMode:be=_util.AnnotationMode.ENABLE,transform:xe=null,imageLayer:ue=null,canvasFactory:we=null,background:Fe=null,optionalContentConfigPromise:_e=null,annotationCanvasMap:Ee=null,pageColors:Ce=null,printAnnotationStorage:ye=null}){var Te,Me;((Te=arguments[0])==null?void 0:Te.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&be===_util.AnnotationMode.ENABLE&&(be=_util.AnnotationMode.ENABLE_FORMS)),((Me=arguments[0])==null?void 0:Me.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&be===_util.AnnotationMode.ENABLE&&(be=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const Re=this._transport.getRenderingIntent(fe,be,ye);this.pendingCleanup=!1,_e||(_e=this._transport.getOptionalContentConfig());let Ye=this._intentStates.get(Re.cacheKey);Ye||(Ye=Object.create(null),this._intentStates.set(Re.cacheKey,Ye)),Ye.streamReaderCancelTimeout&&(clearTimeout(Ye.streamReaderCancelTimeout),Ye.streamReaderCancelTimeout=null);const ke=we||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),$e=!!(Re.renderingIntent&_util.RenderingIntentFlag.PRINT);Ye.displayReadyCapability||(Ye.displayReadyCapability=(0,_util.createPromiseCapability)(),Ye.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Re));const Be=Ve=>{Ye.renderTasks.delete(Pe),(this.cleanupAfterRender||$e)&&(this.pendingCleanup=!0),this._tryCleanup(),Ve?(Pe.capability.reject(Ve),this._abortOperatorList({intentState:Ye,reason:Ve instanceof Error?Ve:new Error(Ve)})):Pe.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},Pe=new InternalRenderTask({callback:Be,params:{canvasContext:ge,viewport:Se,transform:xe,imageLayer:ue,background:Fe},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ee,operatorList:Ye.operatorList,pageIndex:this._pageIndex,canvasFactory:ke,useRequestAnimationFrame:!$e,pdfBug:this._pdfBug,pageColors:Ce});(Ye.renderTasks||(Ye.renderTasks=new Set)).add(Pe);const Ue=Pe.task;return Promise.all([Ye.displayReadyCapability.promise,_e]).then(([Ve,He])=>{if(this.pendingCleanup){Be();return}this._stats&&this._stats.time("Rendering"),Pe.initializeGraphics({transparency:Ve,optionalContentConfig:He}),Pe.operatorListChanged()}).catch(Be),Ue}getOperatorList({intent:ge="display",annotationMode:Se=_util.AnnotationMode.ENABLE,printAnnotationStorage:fe=null}={}){function be(){ue.operatorList.lastChunk&&(ue.opListReadCapability.resolve(ue.operatorList),ue.renderTasks.delete(we))}const xe=this._transport.getRenderingIntent(ge,Se,fe,!0);let ue=this._intentStates.get(xe.cacheKey);ue||(ue=Object.create(null),this._intentStates.set(xe.cacheKey,ue));let we;return ue.opListReadCapability||(we=Object.create(null),we.operatorListChanged=be,ue.opListReadCapability=(0,_util.createPromiseCapability)(),(ue.renderTasks||(ue.renderTasks=new Set)).add(we),ue.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(xe)),ue.opListReadCapability.promise}streamTextContent({disableCombineTextItems:ge=!1,includeMarkedContent:Se=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:ge!==!0,includeMarkedContent:Se===!0},{highWaterMark:100,size(be){return be.items.length}})}getTextContent(ge={}){if(this._transport._htmlForXfa)return this.getXfa().then(fe=>_xfa_text.XfaText.textContent(fe));const Se=this.streamTextContent(ge);return new Promise(function(fe,be){function xe(){ue.read().then(function({value:Fe,done:_e}){if(_e){fe(we);return}Object.assign(we.styles,Fe.styles),we.items.push(...Fe.items),xe()},be)}const ue=Se.getReader(),we={items:[],styles:Object.create(null)};xe()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const ge=[];for(const Se of this._intentStates.values())if(this._abortOperatorList({intentState:Se,reason:new Error("Page was destroyed."),force:!0}),!Se.opListReadCapability)for(const fe of Se.renderTasks)ge.push(fe.completed),fe.cancel();this.objs.clear();for(const Se of this._bitmaps)Se.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(ge)}cleanup(ge=!1){return this.pendingCleanup=!0,this._tryCleanup(ge)}_tryCleanup(ge=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:Se,operatorList:fe}of this._intentStates.values())if(Se.size>0||!fe.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,ge&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const Se of this._bitmaps)Se.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(ge,Se){const fe=this._intentStates.get(Se);fe&&(this._stats&&this._stats.timeEnd("Page Request"),fe.displayReadyCapability&&fe.displayReadyCapability.resolve(ge))}_renderPageChunk(ge,Se){for(let fe=0,be=ge.length;fe<be;fe++)Se.operatorList.fnArray.push(ge.fnArray[fe]),Se.operatorList.argsArray.push(ge.argsArray[fe]);Se.operatorList.lastChunk=ge.lastChunk,Se.operatorList.separateAnnots=ge.separateAnnots;for(const fe of Se.renderTasks)fe.operatorListChanged();ge.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:ge,cacheKey:Se,annotationStorageMap:fe}){const xe=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ge,cacheKey:Se,annotationStorage:fe}).getReader(),ue=this._intentStates.get(Se);ue.streamReader=xe;const we=()=>{xe.read().then(({value:Fe,done:_e})=>{if(_e){ue.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Fe,ue),we())},Fe=>{if(ue.streamReader=null,!this._transport.destroyed){if(ue.operatorList){ue.operatorList.lastChunk=!0;for(const _e of ue.renderTasks)_e.operatorListChanged();this._tryCleanup()}if(ue.displayReadyCapability)ue.displayReadyCapability.reject(Fe);else if(ue.opListReadCapability)ue.opListReadCapability.reject(Fe);else throw Fe}})};we()}_abortOperatorList({intentState:ge,reason:Se,force:fe=!1}){if(ge.streamReader){if(!fe){if(ge.renderTasks.size>0)return;if(Se instanceof _display_utils.RenderingCancelledException){ge.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:ge,reason:Se,force:!0}),ge.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(ge.streamReader.cancel(new _util.AbortException(Se.message)).catch(()=>{}),ge.streamReader=null,!this._transport.destroyed){for(const[be,xe]of this._intentStates)if(xe===ge){this._intentStates.delete(be);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(ge,Se){const fe={data:structuredClone(ge,Se)};this._deferred.then(()=>{for(const be of this._listeners)be.call(this,fe)})}addEventListener(ge,Se){this._listeners.push(Se)}removeEventListener(ge,Se){const fe=this._listeners.indexOf(Se);this._listeners.splice(fe,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Ae=(te=document==null?void 0:document.currentScript)==null?void 0:te.src;Ae&&(PDFWorkerUtil.fallbackWorkerSrc=Ae.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ae,ge){let Se;try{if(Se=new URL(Ae),!Se.origin||Se.origin==="null")return!1}catch{return!1}const fe=new URL(ge,Se);return Se.origin===fe.origin},PDFWorkerUtil.createCDNWrapper=function(Ae){const ge=`importScripts("${Ae}");`;return URL.createObjectURL(new Blob([ge]))}}const _PDFWorker=class _PDFWorker{constructor({name:Ae=null,port:ge=null,verbosity:Se=(0,_util.getVerbosityLevel)()}={}){if(ge&&It(_PDFWorker,ne).has(ge))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Ae,this.destroyed=!1,this.verbosity=Se,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,ge){It(_PDFWorker,ne).set(ge,this),this._initializeFromPort(ge);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ae){this._port=Ae,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ae),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Ae}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ae)||(Ae=PDFWorkerUtil.createCDNWrapper(new URL(Ae,window.location).href));const ge=new Worker(Ae),Se=new _message_handler.MessageHandler("main","worker",ge),fe=()=>{ge.removeEventListener("error",be),Se.destroy(),ge.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},be=()=>{this._webWorker||fe()};ge.addEventListener("error",be),Se.on("test",ue=>{if(ge.removeEventListener("error",be),this.destroyed){fe();return}ue?(this._messageHandler=Se,this._port=ge,this._webWorker=ge,this._readyCapability.resolve(),Se.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Se.destroy(),ge.terminate())}),Se.on("ready",ue=>{if(ge.removeEventListener("error",be),this.destroyed){fe();return}try{xe()}catch{this._setupFakeWorker()}});const xe=()=>{const ue=new Uint8Array;Se.send("test",ue,[ue.buffer])};xe();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Ae=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ge=new LoopbackPort;this._port=ge;const Se=`fake${PDFWorkerUtil.fakeWorkerId++}`,fe=new _message_handler.MessageHandler(Se+"_worker",Se,ge);Ae.setup(fe,ge);const be=new _message_handler.MessageHandler(Se,Se+"_worker",ge);this._messageHandler=be,this._readyCapability.resolve(),be.send("configure",{verbosity:this.verbosity})}).catch(Ae=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ae.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),It(_PDFWorker,ne).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ae){if(!(Ae!=null&&Ae.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return It(this,ne).has(Ae.port)?It(this,ne).get(Ae.port):new _PDFWorker(Ae)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Ae;try{return((Ae=globalThis.pdfjsWorker)==null?void 0:Ae.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};ne=new WeakMap,Fn(_PDFWorker,ne,new WeakMap);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(ge,Se,fe,be){Fn(this,ie,null);Fn(this,se,new Map);Fn(this,le,new Map);Fn(this,oe,null);this.messageHandler=ge,this.loadingTask=Se,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:Se.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:be.ownerDocument,styleElement:be.styleElement}),this._params=be,be.useWorkerFetch||(this.CMapReaderFactory=new be.CMapReaderFactory({baseUrl:be.cMapUrl,isCompressed:be.cMapPacked}),this.StandardFontDataFactory=new be.StandardFontDataFactory({baseUrl:be.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=fe,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return It(this,ie)}getRenderingIntent(ge,Se=_util.AnnotationMode.ENABLE,fe=null,be=!1){let xe=_util.RenderingIntentFlag.DISPLAY,ue=null;switch(ge){case"any":xe=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":xe=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${ge}`)}switch(Se){case _util.AnnotationMode.DISABLE:xe+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:xe+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:xe+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,ue=(xe&_util.RenderingIntentFlag.PRINT&&fe instanceof _annotation_storage.PrintAnnotationStorage?fe:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Se}`)}return be&&(xe+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:xe,cacheKey:`${xe}_${_annotation_storage.AnnotationStorage.getHash(ue)}`,annotationStorageMap:ue}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const ge=[];for(const fe of It(this,se).values())ge.push(fe._destroy());It(this,se).clear(),It(this,le).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Se=this.messageHandler.sendWithPromise("Terminate",null);return ge.push(Se),Promise.all(ge).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Pn(this,oe,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ge,loadingTask:Se}=this;ge.on("GetReader",(fe,be)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=xe=>{this._lastProgress={loaded:xe.loaded,total:xe.total}},be.onPull=()=>{this._fullReader.read().then(function({value:xe,done:ue}){if(ue){be.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(xe),"GetReader - expected an ArrayBuffer."),be.enqueue(new Uint8Array(xe),1,[xe])}).catch(xe=>{be.error(xe)})},be.onCancel=xe=>{this._fullReader.cancel(xe),be.ready.catch(ue=>{if(!this.destroyed)throw ue})}}),ge.on("ReaderHeadersReady",fe=>{const be=(0,_util.createPromiseCapability)(),xe=this._fullReader;return xe.headersReady.then(()=>{var ue;(!xe.isStreamingSupported||!xe.isRangeSupported)&&(this._lastProgress&&((ue=Se.onProgress)==null||ue.call(Se,this._lastProgress)),xe.onProgress=we=>{var Fe;(Fe=Se.onProgress)==null||Fe.call(Se,{loaded:we.loaded,total:we.total})}),be.resolve({isStreamingSupported:xe.isStreamingSupported,isRangeSupported:xe.isRangeSupported,contentLength:xe.contentLength})},be.reject),be.promise}),ge.on("GetRangeReader",(fe,be)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const xe=this._networkStream.getRangeReader(fe.begin,fe.end);if(!xe){be.close();return}be.onPull=()=>{xe.read().then(function({value:ue,done:we}){if(we){be.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(ue),"GetRangeReader - expected an ArrayBuffer."),be.enqueue(new Uint8Array(ue),1,[ue])}).catch(ue=>{be.error(ue)})},be.onCancel=ue=>{xe.cancel(ue),be.ready.catch(we=>{if(!this.destroyed)throw we})}}),ge.on("GetDoc",({pdfInfo:fe})=>{this._numPages=fe.numPages,this._htmlForXfa=fe.htmlForXfa,delete fe.htmlForXfa,Se._capability.resolve(new PDFDocumentProxy(fe,this))}),ge.on("DocException",function(fe){let be;switch(fe.name){case"PasswordException":be=new _util.PasswordException(fe.message,fe.code);break;case"InvalidPDFException":be=new _util.InvalidPDFException(fe.message);break;case"MissingPDFException":be=new _util.MissingPDFException(fe.message);break;case"UnexpectedResponseException":be=new _util.UnexpectedResponseException(fe.message,fe.status);break;case"UnknownErrorException":be=new _util.UnknownErrorException(fe.message,fe.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Se._capability.reject(be)}),ge.on("PasswordRequest",fe=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),Se.onPassword){const be=xe=>{xe instanceof Error?this._passwordCapability.reject(xe):this._passwordCapability.resolve({password:xe})};try{Se.onPassword(be,fe.code)}catch(xe){this._passwordCapability.reject(xe)}}else this._passwordCapability.reject(new _util.PasswordException(fe.message,fe.code));return this._passwordCapability.promise}),ge.on("DataLoaded",fe=>{var be;(be=Se.onProgress)==null||be.call(Se,{loaded:fe.length,total:fe.length}),this.downloadInfoCapability.resolve(fe)}),ge.on("StartRenderPage",fe=>{if(this.destroyed)return;It(this,se).get(fe.pageIndex)._startRenderPage(fe.transparency,fe.cacheKey)}),ge.on("commonobj",([fe,be,xe])=>{var ue;if(!this.destroyed&&!this.commonObjs.has(fe))switch(be){case"Font":const we=this._params;if("error"in xe){const Ee=xe.error;(0,_util.warn)(`Error during font loading: ${Ee}`),this.commonObjs.resolve(fe,Ee);break}let Fe=null;we.pdfBug&&((ue=globalThis.FontInspector)!=null&&ue.enabled)&&(Fe={registerFont(Ee,Ce){globalThis.FontInspector.fontAdded(Ee,Ce)}});const _e=new _font_loader.FontFaceObject(xe,{isEvalSupported:we.isEvalSupported,disableFontFace:we.disableFontFace,ignoreErrors:we.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:Fe});this.fontLoader.bind(_e).catch(Ee=>ge.sendWithPromise("FontFallback",{id:fe})).finally(()=>{!we.fontExtraProperties&&_e.data&&(_e.data=null),this.commonObjs.resolve(fe,_e)});break;case"FontPath":case"Image":this.commonObjs.resolve(fe,xe);break;default:throw new Error(`Got unknown common object type ${be}`)}}),ge.on("obj",([fe,be,xe,ue])=>{var Fe;if(this.destroyed)return;const we=It(this,se).get(be);if(!we.objs.has(fe))switch(xe){case"Image":we.objs.resolve(fe,ue);const _e=8e6;if(ue){let Ee;if(ue.bitmap){const{bitmap:Ce,width:ye,height:Re}=ue;Ee=ye*Re*4,we._bitmaps.add(Ce)}else Ee=((Fe=ue.data)==null?void 0:Fe.length)||0;Ee>_e&&(we.cleanupAfterRender=!0)}break;case"Pattern":we.objs.resolve(fe,ue);break;default:throw new Error(`Got unknown object type ${xe}`)}}),ge.on("DocProgress",fe=>{var be;this.destroyed||(be=Se.onProgress)==null||be.call(Se,{loaded:fe.loaded,total:fe.total})}),ge.on("DocStats",fe=>{this.destroyed||Pn(this,ie,Object.freeze({streamTypes:Object.freeze(fe.streamTypes),fontTypes:Object.freeze(fe.fontTypes)}))}),ge.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),ge.on("FetchBuiltInCMap",fe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(fe):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ge.on("FetchStandardFontData",fe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(fe):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:ge}){var Se,fe;this.destroyed||(fe=(Se=this.loadingTask).onUnsupportedFeature)==null||fe.call(Se,ge)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(ge){if(!Number.isInteger(ge)||ge<=0||ge>this._numPages)return Promise.reject(new Error("Invalid page request."));const Se=ge-1,fe=It(this,le).get(Se);if(fe)return fe;const be=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Se}).then(xe=>{if(this.destroyed)throw new Error("Transport destroyed");const ue=new PDFPageProxy(Se,xe,this,this._params.ownerDocument,this._params.pdfBug);return It(this,se).set(Se,ue),ue});return It(this,le).set(Se,be),be}getPageIndex(ge){return typeof ge!="object"||ge===null||!Number.isInteger(ge.num)||ge.num<0||!Number.isInteger(ge.gen)||ge.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ge.num,gen:ge.gen})}getAnnotations(ge,Se){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ge,intent:Se})}saveDocument(){var ge;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((ge=this._fullReader)==null?void 0:ge.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ge){return typeof ge!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ge})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(ge){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ge})}getStructTree(ge){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ge})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ge=>new _optional_content_config.OptionalContentConfig(ge))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return It(this,oe)||Pn(this,oe,this.messageHandler.sendWithPromise("GetMetadata",null).then(ge=>{var Se,fe;return{info:ge[0],metadata:ge[1]?new _metadata.Metadata(ge[1]):null,contentDispositionFilename:((Se=this._fullReader)==null?void 0:Se.filename)??null,contentLength:((fe=this._fullReader)==null?void 0:fe.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ge=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const Se of It(this,se).values())if(!Se.cleanup())throw new Error(`startCleanup: Page ${Se.pageNumber} is currently rendering.`);this.commonObjs.clear(),ge||this.fontLoader.clear(),Pn(this,oe,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const ge=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ge.disableAutoFetch,enableXfa:ge.enableXfa})}}ie=new WeakMap,se=new WeakMap,le=new WeakMap,oe=new WeakMap;class PDFObjects{constructor(){Fn(this,ae);Fn(this,ce,Object.create(null))}get(ge,Se=null){if(Se){const be=bn(this,ae,Il).call(this,ge);return be.capability.promise.then(()=>Se(be.data)),null}const fe=It(this,ce)[ge];if(!(fe!=null&&fe.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${ge}.`);return fe.data}has(ge){const Se=It(this,ce)[ge];return(Se==null?void 0:Se.capability.settled)||!1}resolve(ge,Se=null){const fe=bn(this,ae,Il).call(this,ge);fe.data=Se,fe.capability.resolve()}clear(){Pn(this,ce,Object.create(null))}}ce=new WeakMap,ae=new WeakSet,Il=function(ge){const Se=It(this,ce)[ge];return Se||(It(this,ce)[ge]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(ge){Fn(this,de,null);Pn(this,de,ge),this.onContinue=null}get promise(){return It(this,de).capability.promise}cancel(){It(this,de).cancel()}get separateAnnots(){const{separateAnnots:ge}=It(this,de).operatorList;if(!ge)return!1;const{annotationCanvasMap:Se}=It(this,de);return ge.form||ge.canvas&&(Se==null?void 0:Se.size)>0}}de=new WeakMap,exports.RenderTask=RenderTask;const re=class re{constructor({callback:ge,params:Se,objs:fe,commonObjs:be,annotationCanvasMap:xe,operatorList:ue,pageIndex:we,canvasFactory:Fe,useRequestAnimationFrame:_e=!1,pdfBug:Ee=!1,pageColors:Ce=null}){this.callback=ge,this.params=Se,this.objs=fe,this.commonObjs=be,this.annotationCanvasMap=xe,this.operatorListIdx=null,this.operatorList=ue,this._pageIndex=we,this.canvasFactory=Fe,this._pdfBug=Ee,this.pageColors=Ce,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_e===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Se.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ge=!1,optionalContentConfig:Se}){var Fe;if(this.cancelled)return;if(this._canvas){if(It(re,pe).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");It(re,pe).add(this._canvas)}this._pdfBug&&((Fe=globalThis.StepperManager)!=null&&Fe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:fe,viewport:be,transform:xe,imageLayer:ue,background:we}=this.params;this.gfx=new _canvas.CanvasGraphics(fe,this.commonObjs,this.objs,this.canvasFactory,ue,Se,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:xe,viewport:be,transparency:ge,background:we}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(ge=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&It(re,pe).delete(this._canvas),this.callback(ge||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&It(re,pe).delete(this._canvas),this.callback())))}};pe=new WeakMap,Fn(re,pe,new WeakSet);let InternalRenderTask=re;const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(ee,$,te)=>{var ce,Ou,he;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var ne=te(1),ie=te(6),se=te(10);class le{constructor(){Fn(this,ce);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(pe,re){const Ae=this._storage.get(pe);return Ae===void 0?re:Object.assign(re,Ae)}getRawValue(pe){return this._storage.get(pe)}remove(pe){if(this._storage.delete(pe),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const re of this._storage.values())if(re instanceof ie.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(pe,re){const Ae=this._storage.get(pe);let ge=!1;if(Ae!==void 0)for(const[Se,fe]of Object.entries(re))Ae[Se]!==fe&&(ge=!0,Ae[Se]=fe);else ge=!0,this._storage.set(pe,re);ge&&bn(this,ce,Ou).call(this),re instanceof ie.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(re.constructor._type)}has(pe){return this._storage.has(pe)}getAll(){return this._storage.size>0?(0,ne.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new oe(this)}get serializable(){if(this._storage.size===0)return null;const pe=new Map;for(const[re,Ae]of this._storage){const ge=Ae instanceof ie.AnnotationEditor?Ae.serialize():Ae;ge&&pe.set(re,ge)}return pe}static getHash(pe){if(!pe)return"";const re=new se.MurmurHash3_64;for(const[Ae,ge]of pe)re.update(`${Ae}:${JSON.stringify(ge)}`);return re.hexdigest()}}ce=new WeakSet,Ou=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=le;class oe extends le{constructor(re){super();Fn(this,he,null);Pn(this,he,structuredClone(re.serializable))}get print(){(0,ne.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return It(this,he)}}he=new WeakMap,$.PrintAnnotationStorage=oe},(ee,$,te)=>{var le,oe,ce,ae,he,de;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var ne=te(7),ie=te(1);const pe=class pe{constructor(Ae){Fn(this,le,this.focusin.bind(this));Fn(this,oe,this.focusout.bind(this));Fn(this,ce,!1);Fn(this,ae,!1);Fn(this,he,!1);Fn(this,de,pe._zIndex++);this.constructor===pe&&(0,ie.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Ae.parent,this.id=Ae.id,this.width=this.height=null,this.pageIndex=Ae.parent.pageIndex,this.name=Ae.name,this.div=null;const[ge,Se]=this.parent.viewportBaseDimensions;this.x=Ae.x/ge,this.y=Ae.y/Se,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,ie.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=It(this,de)}focusin(Ae){It(this,ce)?Pn(this,ce,!1):this.parent.setSelected(this)}focusout(Ae){if(!this.isAttachedToDOM)return;const ge=Ae.relatedTarget;ge!=null&&ge.closest(`#${this.id}`)||(Ae.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(Ae){const ge=this.parent.div.getBoundingClientRect();this.startX=Ae.clientX-ge.x,this.startY=Ae.clientY-ge.y,Ae.dataTransfer.setData("text/plain",this.id),Ae.dataTransfer.effectAllowed="move"}setAt(Ae,ge,Se,fe){const[be,xe]=this.parent.viewportBaseDimensions;[Se,fe]=this.screenToPageTranslation(Se,fe),this.x=(Ae+Se)/be,this.y=(ge+fe)/xe,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(Ae,ge){const[Se,fe]=this.parent.viewportBaseDimensions;[Ae,ge]=this.screenToPageTranslation(Ae,ge),this.x+=Ae/Se,this.y+=ge/fe,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(Ae,ge){const{rotation:Se}=this.parent.viewport;switch(Se){case 90:return[ge,-Ae];case 180:return[-Ae,-ge];case 270:return[-ge,Ae];default:return[Ae,ge]}}setDims(Ae,ge){const[Se,fe]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*Ae/Se}%`,this.div.style.height=`${100*ge/fe}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",It(this,le)),this.div.addEventListener("focusout",It(this,oe));const[Ae,ge]=this.getInitialTranslation();return this.translate(Ae,ge),(0,ne.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(Ae){const ge=ne.KeyboardManager.platform.isMac;if(Ae.button!==0||Ae.ctrlKey&&ge){Ae.preventDefault();return}Ae.ctrlKey&&!ge||Ae.shiftKey||Ae.metaKey&&ge?this.parent.toggleSelected(this):this.parent.setSelected(this),Pn(this,ce,!0)}getRect(Ae,ge){const[Se,fe]=this.parent.viewportBaseDimensions,[be,xe]=this.parent.pageDimensions,ue=be*Ae/Se,we=xe*ge/fe,Fe=this.x*be,_e=this.y*xe,Ee=this.width*be,Ce=this.height*xe;switch(this.rotation){case 0:return[Fe+ue,xe-_e-we-Ce,Fe+ue+Ee,xe-_e-we];case 90:return[Fe+we,xe-_e+ue,Fe+we+Ce,xe-_e+ue+Ee];case 180:return[Fe-ue-Ee,xe-_e+we,Fe-ue,xe-_e+we+Ce];case 270:return[Fe-we-Ce,xe-_e-ue-Ee,Fe-we,xe-_e-ue];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Ae,ge){const[Se,fe,be,xe]=Ae,ue=be-Se,we=xe-fe;switch(this.rotation){case 0:return[Se,ge-xe,ue,we];case 90:return[Se,ge-fe,we,ue];case 180:return[be,ge-fe,ue,we];case 270:return[be,ge-xe,we,ue];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Pn(this,he,!0)}disableEditMode(){Pn(this,he,!1)}isInEditMode(){return It(this,he)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Ae;(Ae=this.div)==null||Ae.addEventListener("focusin",It(this,le))}serialize(){(0,ie.unreachable)("An editor must be serializable")}static deserialize(Ae,ge){const Se=new this.prototype.constructor({parent:ge,id:ge.getNextId()});Se.rotation=Ae.rotation;const[fe,be]=ge.pageDimensions,[xe,ue,we,Fe]=Se.getRectInCurrentCoords(Ae.rect,be);return Se.x=xe/fe,Se.y=ue/be,Se.width=we/fe,Se.height=Fe/be,Se}remove(){this.div.removeEventListener("focusin",It(this,le)),this.div.removeEventListener("focusout",It(this,oe)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var Ae;(Ae=this.div)==null||Ae.classList.add("selectedEditor")}unselect(){var Ae;(Ae=this.div)==null||Ae.classList.remove("selectedEditor")}updateParams(Ae,ge){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return It(this,ae)}set isEditing(Ae){Pn(this,ae,Ae),Ae?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};le=new WeakMap,oe=new WeakMap,ce=new WeakMap,ae=new WeakMap,he=new WeakMap,de=new WeakMap,vi(pe,"_colorManager",new ne.ColorManager),vi(pe,"_zIndex",1);let se=pe;$.AnnotationEditor=se},(ee,$,te)=>{var re,Ae,ge,Se,fe,be,Iu,we,_e,Ee,Ce,ye,Re,Ye,ke,$e,Be,Pe,Ue,Te,Me,Ve,He,Ie,Le,Oe,ku,kl,cr,Os,Lu,Nu,Ll,Is,po;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=se,$.opacityToHex=le;var ne=te(1),ie=te(8);function se(nt,Qe,We){for(const rt of We)Qe.addEventListener(rt,nt[rt].bind(nt))}function le(nt){return Math.round(Math.min(255,Math.max(1,255*nt))).toString(16).padStart(2,"0")}class oe{constructor(){Fn(this,re,0)}getId(){return`${ne.AnnotationEditorPrefix}${Ol(this,re)._++}`}}re=new WeakMap;class ce{constructor(Qe=128){Fn(this,Ae,[]);Fn(this,ge,!1);Fn(this,Se);Fn(this,fe,-1);Pn(this,Se,Qe)}add({cmd:Qe,undo:We,mustExec:rt,type:et=NaN,overwriteIfSameType:ct=!1,keepUndo:at=!1}){if(rt&&Qe(),It(this,ge))return;const Je={cmd:Qe,undo:We,type:et};if(It(this,fe)===-1){It(this,Ae).length>0&&(It(this,Ae).length=0),Pn(this,fe,0),It(this,Ae).push(Je);return}if(ct&&It(this,Ae)[It(this,fe)].type===et){at&&(Je.undo=It(this,Ae)[It(this,fe)].undo),It(this,Ae)[It(this,fe)]=Je;return}const lt=It(this,fe)+1;lt===It(this,Se)?It(this,Ae).splice(0,1):(Pn(this,fe,lt),lt<It(this,Ae).length&&It(this,Ae).splice(lt)),It(this,Ae).push(Je)}undo(){It(this,fe)!==-1&&(Pn(this,ge,!0),It(this,Ae)[It(this,fe)].undo(),Pn(this,ge,!1),Pn(this,fe,It(this,fe)-1))}redo(){It(this,fe)<It(this,Ae).length-1&&(Pn(this,fe,It(this,fe)+1),Pn(this,ge,!0),It(this,Ae)[It(this,fe)].cmd(),Pn(this,ge,!1))}hasSomethingToUndo(){return It(this,fe)!==-1}hasSomethingToRedo(){return It(this,fe)<It(this,Ae).length-1}destroy(){Pn(this,Ae,null)}}Ae=new WeakMap,ge=new WeakMap,Se=new WeakMap,fe=new WeakMap,$.CommandManager=ce;const ue=class ue{constructor(Qe){Fn(this,be);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const We=ue.platform.isMac;for(const[rt,et]of Qe)for(const ct of rt){const at=ct.startsWith("mac+");We&&at?(this.callbacks.set(ct.slice(4),et),this.allKeys.add(ct.split("+").at(-1))):!We&&!at&&(this.callbacks.set(ct,et),this.allKeys.add(ct.split("+").at(-1)))}}static get platform(){const Qe=typeof navigator<"u"?navigator.platform:"";return(0,ne.shadow)(this,"platform",{isWin:Qe.includes("Win"),isMac:Qe.includes("Mac")})}exec(Qe,We){if(!this.allKeys.has(We.key))return;const rt=this.callbacks.get(bn(this,be,Iu).call(this,We));rt&&(rt.bind(Qe)(),We.stopPropagation(),We.preventDefault())}};be=new WeakSet,Iu=function(Qe){Qe.altKey&&this.buffer.push("alt"),Qe.ctrlKey&&this.buffer.push("ctrl"),Qe.metaKey&&this.buffer.push("meta"),Qe.shiftKey&&this.buffer.push("shift"),this.buffer.push(Qe.key);const We=this.buffer.join("+");return this.buffer.length=0,We};let ae=ue;$.KeyboardManager=ae;class he{constructor(){Fn(this,we,null)}copy(Qe){Qe&&(Array.isArray(Qe)?Pn(this,we,Qe.map(We=>We.serialize())):Pn(this,we,[Qe.serialize()]),Pn(this,we,It(this,we).filter(We=>!!We)),It(this,we).length===0&&Pn(this,we,null))}paste(){return It(this,we)}isEmpty(){return It(this,we)===null}destroy(){Pn(this,we,null)}}we=new WeakMap;const Fe=class Fe{get _colors(){const Qe=new Map([["CanvasText",null],["Canvas",null]]);return(0,ie.getColorValues)(Qe),(0,ne.shadow)(this,"_colors",Qe)}convert(Qe){const We=(0,ie.getRGB)(Qe);if(!window.matchMedia("(forced-colors: active)").matches)return We;for(const[rt,et]of this._colors)if(et.every((ct,at)=>ct===We[at]))return Fe._colorsMapping.get(rt);return We}getHexCode(Qe){const We=this._colors.get(Qe);return We?ne.Util.makeHexColor(...We):Qe}};vi(Fe,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let de=Fe;$.ColorManager=de;const je=class je{constructor(Qe,We){Fn(this,Oe);Fn(this,_e,null);Fn(this,Ee,new Map);Fn(this,Ce,new Map);Fn(this,ye,new he);Fn(this,Re,new ce);Fn(this,Ye,0);Fn(this,ke,null);Fn(this,$e,null);Fn(this,Be,new oe);Fn(this,Pe,!1);Fn(this,Ue,ne.AnnotationEditorType.NONE);Fn(this,Te,new Set);Fn(this,Me,this.keydown.bind(this));Fn(this,Ve,this.onEditingAction.bind(this));Fn(this,He,this.onPageChanging.bind(this));Fn(this,Ie,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Fn(this,Le,null);Pn(this,Le,Qe),Pn(this,$e,We),It(this,$e)._on("editingaction",It(this,Ve)),It(this,$e)._on("pagechanging",It(this,He))}destroy(){bn(this,Oe,kl).call(this),It(this,$e)._off("editingaction",It(this,Ve)),It(this,$e)._off("pagechanging",It(this,He));for(const Qe of It(this,Ce).values())Qe.destroy();It(this,Ce).clear(),It(this,Ee).clear(),Pn(this,_e,null),It(this,Te).clear(),It(this,ye).destroy(),It(this,Re).destroy()}onPageChanging({pageNumber:Qe}){Pn(this,Ye,Qe-1)}focusMainContainer(){It(this,Le).focus()}keydown(Qe){var We;(We=this.getActive())!=null&&We.shouldGetKeyboardEvents()||je._keyboardManager.exec(this,Qe)}onEditingAction(Qe){["undo","redo","cut","copy","paste","delete","selectAll"].includes(Qe.name)&&this[Qe.name]()}setEditingState(Qe){Qe?(bn(this,Oe,ku).call(this),bn(this,Oe,cr).call(this,{isEditing:It(this,Ue)!==ne.AnnotationEditorType.NONE,isEmpty:bn(this,Oe,Is).call(this),hasSomethingToUndo:It(this,Re).hasSomethingToUndo(),hasSomethingToRedo:It(this,Re).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:It(this,ye).isEmpty()})):(bn(this,Oe,kl).call(this),bn(this,Oe,cr).call(this,{isEditing:!1}))}registerEditorTypes(Qe){Pn(this,ke,Qe);for(const We of It(this,ke))bn(this,Oe,Os).call(this,We.defaultPropertiesToUpdate)}getId(){return It(this,Be).getId()}addLayer(Qe){It(this,Ce).set(Qe.pageIndex,Qe),It(this,Pe)?Qe.enable():Qe.disable()}removeLayer(Qe){It(this,Ce).delete(Qe.pageIndex)}updateMode(Qe){if(Pn(this,Ue,Qe),Qe===ne.AnnotationEditorType.NONE)this.setEditingState(!1),bn(this,Oe,Nu).call(this);else{this.setEditingState(!0),bn(this,Oe,Lu).call(this);for(const We of It(this,Ce).values())We.updateMode(Qe)}}updateToolbar(Qe){Qe!==It(this,Ue)&&It(this,$e).dispatch("switchannotationeditormode",{source:this,mode:Qe})}updateParams(Qe,We){for(const rt of It(this,Te))rt.updateParams(Qe,We);for(const rt of It(this,ke))rt.updateDefaultParams(Qe,We)}getEditors(Qe){const We=[];for(const rt of It(this,Ee).values())rt.pageIndex===Qe&&We.push(rt);return We}getEditor(Qe){return It(this,Ee).get(Qe)}addEditor(Qe){It(this,Ee).set(Qe.id,Qe)}removeEditor(Qe){It(this,Ee).delete(Qe.id),this.unselect(Qe)}setActiveEditor(Qe){It(this,_e)!==Qe&&(Pn(this,_e,Qe),Qe&&bn(this,Oe,Os).call(this,Qe.propertiesToUpdate))}toggleSelected(Qe){if(It(this,Te).has(Qe)){It(this,Te).delete(Qe),Qe.unselect(),bn(this,Oe,cr).call(this,{hasSelectedEditor:this.hasSelection});return}It(this,Te).add(Qe),Qe.select(),bn(this,Oe,Os).call(this,Qe.propertiesToUpdate),bn(this,Oe,cr).call(this,{hasSelectedEditor:!0})}setSelected(Qe){for(const We of It(this,Te))We!==Qe&&We.unselect();It(this,Te).clear(),It(this,Te).add(Qe),Qe.select(),bn(this,Oe,Os).call(this,Qe.propertiesToUpdate),bn(this,Oe,cr).call(this,{hasSelectedEditor:!0})}isSelected(Qe){return It(this,Te).has(Qe)}unselect(Qe){Qe.unselect(),It(this,Te).delete(Qe),bn(this,Oe,cr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return It(this,Te).size!==0}undo(){It(this,Re).undo(),bn(this,Oe,cr).call(this,{hasSomethingToUndo:It(this,Re).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:bn(this,Oe,Is).call(this)})}redo(){It(this,Re).redo(),bn(this,Oe,cr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:It(this,Re).hasSomethingToRedo(),isEmpty:bn(this,Oe,Is).call(this)})}addCommands(Qe){It(this,Re).add(Qe),bn(this,Oe,cr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:bn(this,Oe,Is).call(this)})}delete(){if(It(this,_e)&&It(this,_e).commitOrRemove(),!this.hasSelection)return;const Qe=[...It(this,Te)],We=()=>{for(const et of Qe)et.remove()},rt=()=>{for(const et of Qe)bn(this,Oe,Ll).call(this,et)};this.addCommands({cmd:We,undo:rt,mustExec:!0})}copy(){if(It(this,_e)&&It(this,_e).commitOrRemove(),this.hasSelection){const Qe=[];for(const We of It(this,Te))We.isEmpty()||Qe.push(We);if(Qe.length===0)return;It(this,ye).copy(Qe),bn(this,Oe,cr).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(It(this,ye).isEmpty())return;this.unselectAll();const Qe=It(this,Ce).get(It(this,Ye)),We=It(this,ye).paste().map(ct=>Qe.deserialize(ct)),rt=()=>{for(const ct of We)bn(this,Oe,Ll).call(this,ct);bn(this,Oe,po).call(this,We)},et=()=>{for(const ct of We)ct.remove()};this.addCommands({cmd:rt,undo:et,mustExec:!0})}selectAll(){for(const Qe of It(this,Te))Qe.commit();bn(this,Oe,po).call(this,It(this,Ee).values())}unselectAll(){if(It(this,_e)){It(this,_e).commitOrRemove();return}if(bn(this,Oe,po).size!==0){for(const Qe of It(this,Te))Qe.unselect();It(this,Te).clear(),bn(this,Oe,cr).call(this,{hasSelectedEditor:!1})}}isActive(Qe){return It(this,_e)===Qe}getActive(){return It(this,_e)}getMode(){return It(this,Ue)}};_e=new WeakMap,Ee=new WeakMap,Ce=new WeakMap,ye=new WeakMap,Re=new WeakMap,Ye=new WeakMap,ke=new WeakMap,$e=new WeakMap,Be=new WeakMap,Pe=new WeakMap,Ue=new WeakMap,Te=new WeakMap,Me=new WeakMap,Ve=new WeakMap,He=new WeakMap,Ie=new WeakMap,Le=new WeakMap,Oe=new WeakSet,ku=function(){It(this,Le).addEventListener("keydown",It(this,Me))},kl=function(){It(this,Le).removeEventListener("keydown",It(this,Me))},cr=function(Qe){Object.entries(Qe).some(([rt,et])=>It(this,Ie)[rt]!==et)&&It(this,$e).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(It(this,Ie),Qe)})},Os=function(Qe){It(this,$e).dispatch("annotationeditorparamschanged",{source:this,details:Qe})},Lu=function(){if(!It(this,Pe)){Pn(this,Pe,!0);for(const Qe of It(this,Ce).values())Qe.enable()}},Nu=function(){if(this.unselectAll(),It(this,Pe)){Pn(this,Pe,!1);for(const Qe of It(this,Ce).values())Qe.disable()}},Ll=function(Qe){const We=It(this,Ce).get(Qe.pageIndex);We?We.addOrRebuild(Qe):this.addEditor(Qe)},Is=function(){if(It(this,Ee).size===0)return!0;if(It(this,Ee).size===1)for(const Qe of It(this,Ee).values())return Qe.isEmpty();return!1},po=function(Qe){It(this,Te).clear();for(const We of Qe)We.isEmpty()||(It(this,Te).add(We),We.select());bn(this,Oe,cr).call(this,{hasSelectedEditor:!0})},vi(je,"_keyboardManager",new ae([[["ctrl+a","mac+meta+a"],je.prototype.selectAll],[["ctrl+c","mac+meta+c"],je.prototype.copy],[["ctrl+v","mac+meta+v"],je.prototype.paste],[["ctrl+x","mac+meta+x"],je.prototype.cut],[["ctrl+z","mac+meta+z"],je.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],je.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],je.prototype.delete],[["Escape","mac+Escape"],je.prototype.unselectAll]]));let pe=je;$.AnnotationEditorUIManager=pe},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=$.AnnotationPrefix=void 0,$.deprecated=Fe,$.getColorValues=Re,$.getCurrentTransform=Ye,$.getCurrentTransformInverse=ke,$.getFilenameFromUrl=fe,$.getPdfFilenameFromUrl=be,$.getRGB=ye,$.getXfaPageViewport=Ce,$.isDataScheme=ge,$.isPdfFile=Se,$.isValidFetchUrl=ue,$.loadScript=we;var ne=te(9),ie=te(1);const se="http://www.w3.org/2000/svg",le="pdfjs_internal_id_";$.AnnotationPrefix=le;const $e=class $e{};vi($e,"CSS",96),vi($e,"PDF",72),vi($e,"PDF_TO_CSS_UNITS",$e.CSS/$e.PDF);let oe=$e;$.PixelsPerInch=oe;class ce extends ne.BaseCanvasFactory{constructor({ownerDocument:Pe=globalThis.document}={}){super(),this._document=Pe}_createCanvas(Pe,Ue){const Te=this._document.createElement("canvas");return Te.width=Pe,Te.height=Ue,Te}}$.DOMCanvasFactory=ce;async function ae(Be,Pe=!1){if(ue(Be,document.baseURI)){const Ue=await fetch(Be);if(!Ue.ok)throw new Error(Ue.statusText);return Pe?new Uint8Array(await Ue.arrayBuffer()):(0,ie.stringToBytes)(await Ue.text())}return new Promise((Ue,Te)=>{const Me=new XMLHttpRequest;Me.open("GET",Be,!0),Pe&&(Me.responseType="arraybuffer"),Me.onreadystatechange=()=>{if(Me.readyState===XMLHttpRequest.DONE){if(Me.status===200||Me.status===0){let Ve;if(Pe&&Me.response?Ve=new Uint8Array(Me.response):!Pe&&Me.responseText&&(Ve=(0,ie.stringToBytes)(Me.responseText)),Ve){Ue(Ve);return}}Te(new Error(Me.statusText))}},Me.send(null)})}class he extends ne.BaseCMapReaderFactory{_fetchData(Pe,Ue){return ae(Pe,this.isCompressed).then(Te=>({cMapData:Te,compressionType:Ue}))}}$.DOMCMapReaderFactory=he;class de extends ne.BaseStandardFontDataFactory{_fetchData(Pe){return ae(Pe,!0)}}$.DOMStandardFontDataFactory=de;class pe extends ne.BaseSVGFactory{_createSVG(Pe){return document.createElementNS(se,Pe)}}$.DOMSVGFactory=pe;class re{constructor({viewBox:Pe,scale:Ue,rotation:Te,offsetX:Me=0,offsetY:Ve=0,dontFlip:He=!1}){this.viewBox=Pe,this.scale=Ue,this.rotation=Te,this.offsetX=Me,this.offsetY=Ve;const Ie=(Pe[2]+Pe[0])/2,Le=(Pe[3]+Pe[1])/2;let Oe,Ne,qe,it;switch(Te%=360,Te<0&&(Te+=360),Te){case 180:Oe=-1,Ne=0,qe=0,it=1;break;case 90:Oe=0,Ne=1,qe=1,it=0;break;case 270:Oe=0,Ne=-1,qe=-1,it=0;break;case 0:Oe=1,Ne=0,qe=0,it=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}He&&(qe=-qe,it=-it);let tt,Xe,Ze,ot;Oe===0?(tt=Math.abs(Le-Pe[1])*Ue+Me,Xe=Math.abs(Ie-Pe[0])*Ue+Ve,Ze=Math.abs(Pe[3]-Pe[1])*Ue,ot=Math.abs(Pe[2]-Pe[0])*Ue):(tt=Math.abs(Ie-Pe[0])*Ue+Me,Xe=Math.abs(Le-Pe[1])*Ue+Ve,Ze=Math.abs(Pe[2]-Pe[0])*Ue,ot=Math.abs(Pe[3]-Pe[1])*Ue),this.transform=[Oe*Ue,Ne*Ue,qe*Ue,it*Ue,tt-Oe*Ue*Ie-qe*Ue*Le,Xe-Ne*Ue*Ie-it*Ue*Le],this.width=Ze,this.height=ot}clone({scale:Pe=this.scale,rotation:Ue=this.rotation,offsetX:Te=this.offsetX,offsetY:Me=this.offsetY,dontFlip:Ve=!1}={}){return new re({viewBox:this.viewBox.slice(),scale:Pe,rotation:Ue,offsetX:Te,offsetY:Me,dontFlip:Ve})}convertToViewportPoint(Pe,Ue){return ie.Util.applyTransform([Pe,Ue],this.transform)}convertToViewportRectangle(Pe){const Ue=ie.Util.applyTransform([Pe[0],Pe[1]],this.transform),Te=ie.Util.applyTransform([Pe[2],Pe[3]],this.transform);return[Ue[0],Ue[1],Te[0],Te[1]]}convertToPdfPoint(Pe,Ue){return ie.Util.applyInverseTransform([Pe,Ue],this.transform)}}$.PageViewport=re;class Ae extends ie.BaseException{constructor(Pe,Ue){super(Pe,"RenderingCancelledException"),this.type=Ue}}$.RenderingCancelledException=Ae;function ge(Be){const Pe=Be.length;let Ue=0;for(;Ue<Pe&&Be[Ue].trim()==="";)Ue++;return Be.substring(Ue,Ue+5).toLowerCase()==="data:"}function Se(Be){return typeof Be=="string"&&/\.pdf$/i.test(Be)}function fe(Be){const Pe=Be.indexOf("#"),Ue=Be.indexOf("?"),Te=Math.min(Pe>0?Pe:Be.length,Ue>0?Ue:Be.length);return Be.substring(Be.lastIndexOf("/",Te)+1,Te)}function be(Be,Pe="document.pdf"){if(typeof Be!="string")return Pe;if(ge(Be))return(0,ie.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Pe;const Ue=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Te=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Me=Ue.exec(Be);let Ve=Te.exec(Me[1])||Te.exec(Me[2])||Te.exec(Me[3]);if(Ve&&(Ve=Ve[0],Ve.includes("%")))try{Ve=Te.exec(decodeURIComponent(Ve))[0]}catch{}return Ve||Pe}class xe{constructor(){this.started=Object.create(null),this.times=[]}time(Pe){Pe in this.started&&(0,ie.warn)(`Timer is already running for ${Pe}`),this.started[Pe]=Date.now()}timeEnd(Pe){Pe in this.started||(0,ie.warn)(`Timer has not been started for ${Pe}`),this.times.push({name:Pe,start:this.started[Pe],end:Date.now()}),delete this.started[Pe]}toString(){const Pe=[];let Ue=0;for(const Te of this.times){const Me=Te.name;Me.length>Ue&&(Ue=Me.length)}for(const Te of this.times){const Me=Te.end-Te.start;Pe.push(`${Te.name.padEnd(Ue)} ${Me}ms
`)}return Pe.join("")}}$.StatTimer=xe;function ue(Be,Pe){try{const{protocol:Ue}=Pe?new URL(Be,Pe):new URL(Be);return Ue==="http:"||Ue==="https:"}catch{return!1}}function we(Be,Pe=!1){return new Promise((Ue,Te)=>{const Me=document.createElement("script");Me.src=Be,Me.onload=function(Ve){Pe&&Me.remove(),Ue(Ve)},Me.onerror=function(){Te(new Error(`Cannot load script at: ${Me.src}`))},(document.head||document.documentElement).append(Me)})}function Fe(Be){console.log("Deprecated API usage: "+Be)}let _e;class Ee{static toDateObject(Pe){if(!Pe||typeof Pe!="string")return null;_e||(_e=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Ue=_e.exec(Pe);if(!Ue)return null;const Te=parseInt(Ue[1],10);let Me=parseInt(Ue[2],10);Me=Me>=1&&Me<=12?Me-1:0;let Ve=parseInt(Ue[3],10);Ve=Ve>=1&&Ve<=31?Ve:1;let He=parseInt(Ue[4],10);He=He>=0&&He<=23?He:0;let Ie=parseInt(Ue[5],10);Ie=Ie>=0&&Ie<=59?Ie:0;let Le=parseInt(Ue[6],10);Le=Le>=0&&Le<=59?Le:0;const Oe=Ue[7]||"Z";let Ne=parseInt(Ue[8],10);Ne=Ne>=0&&Ne<=23?Ne:0;let qe=parseInt(Ue[9],10)||0;return qe=qe>=0&&qe<=59?qe:0,Oe==="-"?(He+=Ne,Ie+=qe):Oe==="+"&&(He-=Ne,Ie-=qe),new Date(Date.UTC(Te,Me,Ve,He,Ie,Le))}}$.PDFDateString=Ee;function Ce(Be,{scale:Pe=1,rotation:Ue=0}){const{width:Te,height:Me}=Be.attributes.style,Ve=[0,0,parseInt(Te),parseInt(Me)];return new re({viewBox:Ve,scale:Pe,rotation:Ue})}function ye(Be){if(Be.startsWith("#")){const Pe=parseInt(Be.slice(1),16);return[(Pe&16711680)>>16,(Pe&65280)>>8,Pe&255]}return Be.startsWith("rgb(")?Be.slice(4,-1).split(",").map(Pe=>parseInt(Pe)):Be.startsWith("rgba(")?Be.slice(5,-1).split(",").map(Pe=>parseInt(Pe)).slice(0,3):((0,ie.warn)(`Not a valid color format: "${Be}"`),[0,0,0])}function Re(Be){const Pe=document.createElement("span");Pe.style.visibility="hidden",document.body.append(Pe);for(const Ue of Be.keys()){Pe.style.color=Ue;const Te=window.getComputedStyle(Pe).color;Be.set(Ue,ye(Te))}Pe.remove()}function Ye(Be){const{a:Pe,b:Ue,c:Te,d:Me,e:Ve,f:He}=Be.getTransform();return[Pe,Ue,Te,Me,Ve,He]}function ke(Be){const{a:Pe,b:Ue,c:Te,d:Me,e:Ve,f:He}=Be.getTransform().invertSelf();return[Pe,Ue,Te,Me,Ve,He]}},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var ne=te(1);class ie{constructor(){this.constructor===ie&&(0,ne.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ae,he){if(ae<=0||he<=0)throw new Error("Invalid canvas size");const de=this._createCanvas(ae,he);return{canvas:de,context:de.getContext("2d")}}reset(ae,he,de){if(!ae.canvas)throw new Error("Canvas is not specified");if(he<=0||de<=0)throw new Error("Invalid canvas size");ae.canvas.width=he,ae.canvas.height=de}destroy(ae){if(!ae.canvas)throw new Error("Canvas is not specified");ae.canvas.width=0,ae.canvas.height=0,ae.canvas=null,ae.context=null}_createCanvas(ae,he){(0,ne.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=ie;class se{constructor({baseUrl:ae=null,isCompressed:he=!1}){this.constructor===se&&(0,ne.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ae,this.isCompressed=he}async fetch({name:ae}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ae)throw new Error("CMap name must be specified.");const he=this.baseUrl+ae+(this.isCompressed?".bcmap":""),de=this.isCompressed?ne.CMapCompressionType.BINARY:ne.CMapCompressionType.NONE;return this._fetchData(he,de).catch(pe=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${he}`)})}_fetchData(ae,he){(0,ne.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=se;class le{constructor({baseUrl:ae=null}){this.constructor===le&&(0,ne.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ae}async fetch({filename:ae}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ae)throw new Error("Font filename must be specified.");const he=`${this.baseUrl}${ae}`;return this._fetchData(he).catch(de=>{throw new Error(`Unable to load font data at: ${he}`)})}_fetchData(ae){(0,ne.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=le;class oe{constructor(){this.constructor===oe&&(0,ne.unreachable)("Cannot initialize BaseSVGFactory.")}create(ae,he,de=!1){if(ae<=0||he<=0)throw new Error("Invalid SVG dimensions");const pe=this._createSVG("svg:svg");return pe.setAttribute("version","1.1"),de||(pe.setAttribute("width",`${ae}px`),pe.setAttribute("height",`${he}px`)),pe.setAttribute("preserveAspectRatio","none"),pe.setAttribute("viewBox",`0 0 ${ae} ${he}`),pe}createElement(ae){if(typeof ae!="string")throw new Error("Invalid SVG element type");return this._createSVG(ae)}_createSVG(ae){(0,ne.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=oe},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var ne=te(1);const ie=3285377520,se=4294901760,le=65535;class oe{constructor(ae){this.h1=ae?ae&4294967295:ie,this.h2=ae?ae&4294967295:ie}update(ae){let he,de;if(typeof ae=="string"){he=new Uint8Array(ae.length*2),de=0;for(let _e=0,Ee=ae.length;_e<Ee;_e++){const Ce=ae.charCodeAt(_e);Ce<=255?he[de++]=Ce:(he[de++]=Ce>>>8,he[de++]=Ce&255)}}else if((0,ne.isArrayBuffer)(ae))he=ae.slice(),de=he.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const pe=de>>2,re=de-pe*4,Ae=new Uint32Array(he.buffer,0,pe);let ge=0,Se=0,fe=this.h1,be=this.h2;const xe=3432918353,ue=461845907,we=xe&le,Fe=ue&le;for(let _e=0;_e<pe;_e++)_e&1?(ge=Ae[_e],ge=ge*xe&se|ge*we&le,ge=ge<<15|ge>>>17,ge=ge*ue&se|ge*Fe&le,fe^=ge,fe=fe<<13|fe>>>19,fe=fe*5+3864292196):(Se=Ae[_e],Se=Se*xe&se|Se*we&le,Se=Se<<15|Se>>>17,Se=Se*ue&se|Se*Fe&le,be^=Se,be=be<<13|be>>>19,be=be*5+3864292196);switch(ge=0,re){case 3:ge^=he[pe*4+2]<<16;case 2:ge^=he[pe*4+1]<<8;case 1:ge^=he[pe*4],ge=ge*xe&se|ge*we&le,ge=ge<<15|ge>>>17,ge=ge*ue&se|ge*Fe&le,pe&1?fe^=ge:be^=ge}this.h1=fe,this.h2=be}hexdigest(){let ae=this.h1,he=this.h2;ae^=he>>>1,ae=ae*3981806797&se|ae*36045&le,he=he*4283543511&se|((he<<16|ae>>>16)*2950163797&se)>>>16,ae^=he>>>1,ae=ae*444984403&se|ae*60499&le,he=he*3301882366&se|((he<<16|ae>>>16)*3120437893&se)>>>16,ae^=he>>>1;const de=(ae>>>0).toString(16),pe=(he>>>0).toString(16);return de.padStart(8,"0")+pe.padStart(8,"0")}}$.MurmurHash3_64=oe},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var ne=te(1);class ie{constructor({docId:ce,onUnsupportedFeature:ae,ownerDocument:he=globalThis.document,styleElement:de=null}){this.constructor===ie&&(0,ne.unreachable)("Cannot initialize BaseFontLoader."),this.docId=ce,this._onUnsupportedFeature=ae,this._document=he,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(ce){this.nativeFontFaces.push(ce),this._document.fonts.add(ce)}insertRule(ce){let ae=this.styleElement;ae||(ae=this.styleElement=this._document.createElement("style"),ae.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(ae));const he=ae.sheet;he.insertRule(ce,he.cssRules.length)}clear(){for(const ce of this.nativeFontFaces)this._document.fonts.delete(ce);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(ce){if(ce.attached||ce.missingFile)return;if(ce.attached=!0,this.isFontLoadingAPISupported){const he=ce.createNativeFontFace();if(he){this.addNativeFontFace(he);try{await he.loaded}catch(de){throw this._onUnsupportedFeature({featureId:ne.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,ne.warn)(`Failed to load font '${he.family}': '${de}'.`),ce.disableFontFace=!0,de}}return}const ae=ce.createFontFaceRule();if(ae){if(this.insertRule(ae),this.isSyncFontLoadingSupported)return;await new Promise(he=>{const de=this._queueLoadingCallback(he);this._prepareFontLoadEvent([ae],[ce],de)})}}_queueLoadingCallback(ce){(0,ne.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var ae;const ce=!!((ae=this._document)!=null&&ae.fonts);return(0,ne.shadow)(this,"isFontLoadingAPISupported",ce)}get isSyncFontLoadingSupported(){(0,ne.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,ne.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(ce,ae,he){(0,ne.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let se;$.FontLoader=se,$.FontLoader=se=class extends ie{constructor(ce){super(ce),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let ce=!1;if(typeof navigator>"u")ce=!0;else{const ae=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(ae==null?void 0:ae[1])>=14&&(ce=!0)}return(0,ne.shadow)(this,"isSyncFontLoadingSupported",ce)}_queueLoadingCallback(ce){function ae(){for((0,ne.assert)(!de.done,"completeRequest() cannot be called twice."),de.done=!0;he.requests.length>0&&he.requests[0].done;){const pe=he.requests.shift();setTimeout(pe.callback,0)}}const he=this.loadingContext,de={id:`pdfjs-font-loading-${he.nextRequestId++}`,done:!1,complete:ae,callback:ce};return he.requests.push(de),de}get _loadTestFont(){const ce=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,ne.shadow)(this,"_loadTestFont",ce())}_prepareFontLoadEvent(ce,ae,he){function de(ke,$e){return ke.charCodeAt($e)<<24|ke.charCodeAt($e+1)<<16|ke.charCodeAt($e+2)<<8|ke.charCodeAt($e+3)&255}function pe(ke,$e,Be,Pe){const Ue=ke.substring(0,$e),Te=ke.substring($e+Be);return Ue+Pe+Te}let re,Ae;const ge=this._document.createElement("canvas");ge.width=1,ge.height=1;const Se=ge.getContext("2d");let fe=0;function be(ke,$e){if(fe++,fe>30){(0,ne.warn)("Load test font never loaded."),$e();return}if(Se.font="30px "+ke,Se.fillText(".",0,20),Se.getImageData(0,0,1,1).data[3]>0){$e();return}setTimeout(be.bind(null,ke,$e))}const xe=`lt${Date.now()}${this.loadTestFontId++}`;let ue=this._loadTestFont;ue=pe(ue,976,xe.length,xe);const Fe=16,_e=1482184792;let Ee=de(ue,Fe);for(re=0,Ae=xe.length-3;re<Ae;re+=4)Ee=Ee-_e+de(xe,re)|0;re<xe.length&&(Ee=Ee-_e+de(xe+"XXX",re)|0),ue=pe(ue,Fe,4,(0,ne.string32)(Ee));const Ce=`url(data:font/opentype;base64,${btoa(ue)});`,ye=`@font-face {font-family:"${xe}";src:${Ce}}`;this.insertRule(ye);const Re=[];for(const ke of ae)Re.push(ke.loadedName);Re.push(xe);const Ye=this._document.createElement("div");Ye.style.visibility="hidden",Ye.style.width=Ye.style.height="10px",Ye.style.position="absolute",Ye.style.top=Ye.style.left="0px";for(const ke of Re){const $e=this._document.createElement("span");$e.textContent="Hi",$e.style.fontFamily=ke,Ye.append($e)}this._document.body.append(Ye),be(xe,()=>{Ye.remove(),he.complete()})}};class le{constructor(ce,{isEvalSupported:ae=!0,disableFontFace:he=!1,ignoreErrors:de=!1,onUnsupportedFeature:pe,fontRegistry:re=null}){this.compiledGlyphs=Object.create(null);for(const Ae in ce)this[Ae]=ce[Ae];this.isEvalSupported=ae!==!1,this.disableFontFace=he===!0,this.ignoreErrors=de===!0,this._onUnsupportedFeature=pe,this.fontRegistry=re}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let ce;if(!this.cssFontInfo)ce=new FontFace(this.loadedName,this.data,{});else{const ae={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ae.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ce=new FontFace(this.cssFontInfo.fontFamily,this.data,ae)}return this.fontRegistry&&this.fontRegistry.registerFont(this),ce}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const ce=(0,ne.bytesToString)(this.data),ae=`url(data:${this.mimetype};base64,${btoa(ce)});`;let he;if(!this.cssFontInfo)he=`@font-face {font-family:"${this.loadedName}";src:${ae}}`;else{let de=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(de+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),he=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${de}src:${ae}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,ae),he}getPathGenerator(ce,ae){if(this.compiledGlyphs[ae]!==void 0)return this.compiledGlyphs[ae];let he;try{he=ce.get(this.loadedName+"_path_"+ae)}catch(de){if(!this.ignoreErrors)throw de;return this._onUnsupportedFeature({featureId:ne.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,ne.warn)(`getPathGenerator - ignoring character: "${de}".`),this.compiledGlyphs[ae]=function(pe,re){}}if(this.isEvalSupported&&ne.FeatureTest.isEvalSupported){const de=[];for(const pe of he){const re=pe.args!==void 0?pe.args.join(","):"";de.push("c.",pe.cmd,"(",re,`);
`)}return this.compiledGlyphs[ae]=new Function("c","size",de.join(""))}return this.compiledGlyphs[ae]=function(de,pe){for(const re of he)re.cmd==="scale"&&(re.args=[pe,-pe]),de[re.cmd].apply(de,re.args)}}}$.FontFaceObject=le},(ee,$,te)=>{var Me,Nl;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var ne=te(8),ie=te(1),se=te(13),le=te(14),oe=te(3);const ce=16,ae=100,he=4096,de=15,pe=10,re=oe.isNodeJS&&typeof Path2D>"u"?-1:1e3,Ae=16;function ge(Ie,Le){if(Ie._removeMirroring)throw new Error("Context is already forwarding operations.");Ie.__originalSave=Ie.save,Ie.__originalRestore=Ie.restore,Ie.__originalRotate=Ie.rotate,Ie.__originalScale=Ie.scale,Ie.__originalTranslate=Ie.translate,Ie.__originalTransform=Ie.transform,Ie.__originalSetTransform=Ie.setTransform,Ie.__originalResetTransform=Ie.resetTransform,Ie.__originalClip=Ie.clip,Ie.__originalMoveTo=Ie.moveTo,Ie.__originalLineTo=Ie.lineTo,Ie.__originalBezierCurveTo=Ie.bezierCurveTo,Ie.__originalRect=Ie.rect,Ie.__originalClosePath=Ie.closePath,Ie.__originalBeginPath=Ie.beginPath,Ie._removeMirroring=()=>{Ie.save=Ie.__originalSave,Ie.restore=Ie.__originalRestore,Ie.rotate=Ie.__originalRotate,Ie.scale=Ie.__originalScale,Ie.translate=Ie.__originalTranslate,Ie.transform=Ie.__originalTransform,Ie.setTransform=Ie.__originalSetTransform,Ie.resetTransform=Ie.__originalResetTransform,Ie.clip=Ie.__originalClip,Ie.moveTo=Ie.__originalMoveTo,Ie.lineTo=Ie.__originalLineTo,Ie.bezierCurveTo=Ie.__originalBezierCurveTo,Ie.rect=Ie.__originalRect,Ie.closePath=Ie.__originalClosePath,Ie.beginPath=Ie.__originalBeginPath,delete Ie._removeMirroring},Ie.save=function(){Le.save(),this.__originalSave()},Ie.restore=function(){Le.restore(),this.__originalRestore()},Ie.translate=function(Ne,qe){Le.translate(Ne,qe),this.__originalTranslate(Ne,qe)},Ie.scale=function(Ne,qe){Le.scale(Ne,qe),this.__originalScale(Ne,qe)},Ie.transform=function(Ne,qe,it,tt,Xe,Ze){Le.transform(Ne,qe,it,tt,Xe,Ze),this.__originalTransform(Ne,qe,it,tt,Xe,Ze)},Ie.setTransform=function(Ne,qe,it,tt,Xe,Ze){Le.setTransform(Ne,qe,it,tt,Xe,Ze),this.__originalSetTransform(Ne,qe,it,tt,Xe,Ze)},Ie.resetTransform=function(){Le.resetTransform(),this.__originalResetTransform()},Ie.rotate=function(Ne){Le.rotate(Ne),this.__originalRotate(Ne)},Ie.clip=function(Ne){Le.clip(Ne),this.__originalClip(Ne)},Ie.moveTo=function(Oe,Ne){Le.moveTo(Oe,Ne),this.__originalMoveTo(Oe,Ne)},Ie.lineTo=function(Oe,Ne){Le.lineTo(Oe,Ne),this.__originalLineTo(Oe,Ne)},Ie.bezierCurveTo=function(Oe,Ne,qe,it,tt,Xe){Le.bezierCurveTo(Oe,Ne,qe,it,tt,Xe),this.__originalBezierCurveTo(Oe,Ne,qe,it,tt,Xe)},Ie.rect=function(Oe,Ne,qe,it){Le.rect(Oe,Ne,qe,it),this.__originalRect(Oe,Ne,qe,it)},Ie.closePath=function(){Le.closePath(),this.__originalClosePath()},Ie.beginPath=function(){Le.beginPath(),this.__originalBeginPath()}}class Se{constructor(Le){this.canvasFactory=Le,this.cache=Object.create(null)}getCanvas(Le,Oe,Ne){let qe;return this.cache[Le]!==void 0?(qe=this.cache[Le],this.canvasFactory.reset(qe,Oe,Ne)):(qe=this.canvasFactory.create(Oe,Ne),this.cache[Le]=qe),qe}delete(Le){delete this.cache[Le]}clear(){for(const Le in this.cache){const Oe=this.cache[Le];this.canvasFactory.destroy(Oe),delete this.cache[Le]}}}function fe(Ie,Le,Oe,Ne,qe,it,tt,Xe,Ze,ot){const[Ge,Ke,je,nt,Qe,We]=(0,ne.getCurrentTransform)(Ie);if(Ke===0&&je===0){const ct=tt*Ge+Qe,at=Math.round(ct),Je=Xe*nt+We,lt=Math.round(Je),ut=(tt+Ze)*Ge+Qe,ft=Math.abs(Math.round(ut)-at)||1,pt=(Xe+ot)*nt+We,mt=Math.abs(Math.round(pt)-lt)||1;return Ie.setTransform(Math.sign(Ge),0,0,Math.sign(nt),at,lt),Ie.drawImage(Le,Oe,Ne,qe,it,0,0,ft,mt),Ie.setTransform(Ge,Ke,je,nt,Qe,We),[ft,mt]}if(Ge===0&&nt===0){const ct=Xe*je+Qe,at=Math.round(ct),Je=tt*Ke+We,lt=Math.round(Je),ut=(Xe+ot)*je+Qe,ft=Math.abs(Math.round(ut)-at)||1,pt=(tt+Ze)*Ke+We,mt=Math.abs(Math.round(pt)-lt)||1;return Ie.setTransform(0,Math.sign(Ke),Math.sign(je),0,at,lt),Ie.drawImage(Le,Oe,Ne,qe,it,0,0,mt,ft),Ie.setTransform(Ge,Ke,je,nt,Qe,We),[mt,ft]}Ie.drawImage(Le,Oe,Ne,qe,it,tt,Xe,Ze,ot);const rt=Math.hypot(Ge,Ke),et=Math.hypot(je,nt);return[rt*Ze,et*ot]}function be(Ie){const{width:Le,height:Oe}=Ie;if(Le>re||Oe>re)return null;const Ne=1e3,qe=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),it=Le+1;let tt=new Uint8Array(it*(Oe+1)),Xe,Ze,ot;const Ge=Le+7&-8;let Ke=new Uint8Array(Ge*Oe),je=0;for(const et of Ie.data){let ct=128;for(;ct>0;)Ke[je++]=et&ct?0:255,ct>>=1}let nt=0;for(je=0,Ke[je]!==0&&(tt[0]=1,++nt),Ze=1;Ze<Le;Ze++)Ke[je]!==Ke[je+1]&&(tt[Ze]=Ke[je]?2:1,++nt),je++;for(Ke[je]!==0&&(tt[Ze]=2,++nt),Xe=1;Xe<Oe;Xe++){je=Xe*Ge,ot=Xe*it,Ke[je-Ge]!==Ke[je]&&(tt[ot]=Ke[je]?1:8,++nt);let et=(Ke[je]?4:0)+(Ke[je-Ge]?8:0);for(Ze=1;Ze<Le;Ze++)et=(et>>2)+(Ke[je+1]?4:0)+(Ke[je-Ge+1]?8:0),qe[et]&&(tt[ot+Ze]=qe[et],++nt),je++;if(Ke[je-Ge]!==Ke[je]&&(tt[ot+Ze]=Ke[je]?2:4,++nt),nt>Ne)return null}for(je=Ge*(Oe-1),ot=Xe*it,Ke[je]!==0&&(tt[ot]=8,++nt),Ze=1;Ze<Le;Ze++)Ke[je]!==Ke[je+1]&&(tt[ot+Ze]=Ke[je]?4:8,++nt),je++;if(Ke[je]!==0&&(tt[ot+Ze]=4,++nt),nt>Ne)return null;const Qe=new Int32Array([0,it,-1,0,-it,0,0,0,1]),We=new Path2D;for(Xe=0;nt&&Xe<=Oe;Xe++){let et=Xe*it;const ct=et+Le;for(;et<ct&&!tt[et];)et++;if(et===ct)continue;We.moveTo(et%it,Xe);const at=et;let Je=tt[et];do{const lt=Qe[Je];do et+=lt;while(!tt[et]);const ut=tt[et];ut!==5&&ut!==10?(Je=ut,tt[et]=0):(Je=ut&51*Je>>4,tt[et]&=Je>>2|Je<<2),We.lineTo(et%it,et/it|0),tt[et]||--nt}while(at!==et);--Xe}return Ke=null,tt=null,function(et){et.save(),et.scale(1/Le,-1/Oe),et.translate(0,-Oe),et.fill(We),et.beginPath(),et.restore()}}class xe{constructor(Le,Oe){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=ie.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=ie.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ie.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Le,Oe])}clone(){const Le=Object.create(this);return Le.clipBox=this.clipBox.slice(),Le}setCurrentPoint(Le,Oe){this.x=Le,this.y=Oe}updatePathMinMax(Le,Oe,Ne){[Oe,Ne]=ie.Util.applyTransform([Oe,Ne],Le),this.minX=Math.min(this.minX,Oe),this.minY=Math.min(this.minY,Ne),this.maxX=Math.max(this.maxX,Oe),this.maxY=Math.max(this.maxY,Ne)}updateRectMinMax(Le,Oe){const Ne=ie.Util.applyTransform(Oe,Le),qe=ie.Util.applyTransform(Oe.slice(2),Le);this.minX=Math.min(this.minX,Ne[0],qe[0]),this.minY=Math.min(this.minY,Ne[1],qe[1]),this.maxX=Math.max(this.maxX,Ne[0],qe[0]),this.maxY=Math.max(this.maxY,Ne[1],qe[1])}updateScalingPathMinMax(Le,Oe){ie.Util.scaleMinMax(Le,Oe),this.minX=Math.min(this.minX,Oe[0]),this.maxX=Math.max(this.maxX,Oe[1]),this.minY=Math.min(this.minY,Oe[2]),this.maxY=Math.max(this.maxY,Oe[3])}updateCurvePathMinMax(Le,Oe,Ne,qe,it,tt,Xe,Ze,ot,Ge){const Ke=ie.Util.bezierBoundingBox(Oe,Ne,qe,it,tt,Xe,Ze,ot);if(Ge){Ge[0]=Math.min(Ge[0],Ke[0],Ke[2]),Ge[1]=Math.max(Ge[1],Ke[0],Ke[2]),Ge[2]=Math.min(Ge[2],Ke[1],Ke[3]),Ge[3]=Math.max(Ge[3],Ke[1],Ke[3]);return}this.updateRectMinMax(Le,Ke)}getPathBoundingBox(Le=se.PathType.FILL,Oe=null){const Ne=[this.minX,this.minY,this.maxX,this.maxY];if(Le===se.PathType.STROKE){Oe||(0,ie.unreachable)("Stroke bounding box must include transform.");const qe=ie.Util.singularValueDecompose2dScale(Oe),it=qe[0]*this.lineWidth/2,tt=qe[1]*this.lineWidth/2;Ne[0]-=it,Ne[1]-=tt,Ne[2]+=it,Ne[3]+=tt}return Ne}updateClipFromPath(){const Le=ie.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Le||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Le){this.clipBox=Le,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Le=se.PathType.FILL,Oe=null){return ie.Util.intersect(this.clipBox,this.getPathBoundingBox(Le,Oe))}}function ue(Ie,Le,Oe=null){if(typeof ImageData<"u"&&Le instanceof ImageData){Ie.putImageData(Le,0,0);return}const Ne=Le.height,qe=Le.width,it=Ne%Ae,tt=(Ne-it)/Ae,Xe=it===0?tt:tt+1,Ze=Ie.createImageData(qe,Ae);let ot=0,Ge;const Ke=Le.data,je=Ze.data;let nt,Qe,We,rt,et,ct,at,Je;if(Oe)switch(Oe.length){case 1:et=Oe[0],ct=Oe[0],at=Oe[0],Je=Oe[0];break;case 4:et=Oe[0],ct=Oe[1],at=Oe[2],Je=Oe[3];break}if(Le.kind===ie.ImageKind.GRAYSCALE_1BPP){const lt=Ke.byteLength,ut=new Uint32Array(je.buffer,0,je.byteLength>>2),ft=ut.length,pt=qe+7>>3;let mt=4294967295,xt=ie.FeatureTest.isLittleEndian?4278190080:255;for(Je&&Je[0]===255&&Je[255]===0&&([mt,xt]=[xt,mt]),nt=0;nt<Xe;nt++){for(We=nt<tt?Ae:it,Ge=0,Qe=0;Qe<We;Qe++){const vt=lt-ot;let wt=0;const _t=vt>pt?qe:vt*8-7,Tt=_t&-8;let Lt=0,jt=0;for(;wt<Tt;wt+=8)jt=Ke[ot++],ut[Ge++]=jt&128?mt:xt,ut[Ge++]=jt&64?mt:xt,ut[Ge++]=jt&32?mt:xt,ut[Ge++]=jt&16?mt:xt,ut[Ge++]=jt&8?mt:xt,ut[Ge++]=jt&4?mt:xt,ut[Ge++]=jt&2?mt:xt,ut[Ge++]=jt&1?mt:xt;for(;wt<_t;wt++)Lt===0&&(jt=Ke[ot++],Lt=128),ut[Ge++]=jt&Lt?mt:xt,Lt>>=1}for(;Ge<ft;)ut[Ge++]=0;Ie.putImageData(Ze,0,nt*Ae)}}else if(Le.kind===ie.ImageKind.RGBA_32BPP){const lt=!!(et||ct||at);for(Qe=0,rt=qe*Ae*4,nt=0;nt<tt;nt++){if(je.set(Ke.subarray(ot,ot+rt)),ot+=rt,lt)for(let ut=0;ut<rt;ut+=4)et&&(je[ut+0]=et[je[ut+0]]),ct&&(je[ut+1]=ct[je[ut+1]]),at&&(je[ut+2]=at[je[ut+2]]);Ie.putImageData(Ze,0,Qe),Qe+=Ae}if(nt<Xe){if(rt=qe*it*4,je.set(Ke.subarray(ot,ot+rt)),lt)for(let ut=0;ut<rt;ut+=4)et&&(je[ut+0]=et[je[ut+0]]),ct&&(je[ut+1]=ct[je[ut+1]]),at&&(je[ut+2]=at[je[ut+2]]);Ie.putImageData(Ze,0,Qe)}}else if(Le.kind===ie.ImageKind.RGB_24BPP){const lt=!!(et||ct||at);for(We=Ae,rt=qe*We,nt=0;nt<Xe;nt++){for(nt>=tt&&(We=it,rt=qe*We),Ge=0,Qe=rt;Qe--;)je[Ge++]=Ke[ot++],je[Ge++]=Ke[ot++],je[Ge++]=Ke[ot++],je[Ge++]=255;if(lt)for(let ut=0;ut<Ge;ut+=4)et&&(je[ut+0]=et[je[ut+0]]),ct&&(je[ut+1]=ct[je[ut+1]]),at&&(je[ut+2]=at[je[ut+2]]);Ie.putImageData(Ze,0,nt*Ae)}}else throw new Error(`bad image kind: ${Le.kind}`)}function we(Ie,Le){if(Le.bitmap){Ie.drawImage(Le.bitmap,0,0);return}const Oe=Le.height,Ne=Le.width,qe=Oe%Ae,it=(Oe-qe)/Ae,tt=qe===0?it:it+1,Xe=Ie.createImageData(Ne,Ae);let Ze=0;const ot=Le.data,Ge=Xe.data;for(let Ke=0;Ke<tt;Ke++){const je=Ke<it?Ae:qe;({srcPos:Ze}=(0,le.applyMaskImageData)({src:ot,srcPos:Ze,dest:Ge,width:Ne,height:je})),Ie.putImageData(Xe,0,Ke*Ae)}}function Fe(Ie,Le){const Oe=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let Ne=0,qe=Oe.length;Ne<qe;Ne++){const it=Oe[Ne];Ie[it]!==void 0&&(Le[it]=Ie[it])}Ie.setLineDash!==void 0&&(Le.setLineDash(Ie.getLineDash()),Le.lineDashOffset=Ie.lineDashOffset)}function _e(Ie,Le){Ie.strokeStyle=Ie.fillStyle=Le||"#000000",Ie.fillRule="nonzero",Ie.globalAlpha=1,Ie.lineWidth=1,Ie.lineCap="butt",Ie.lineJoin="miter",Ie.miterLimit=10,Ie.globalCompositeOperation="source-over",Ie.font="10px sans-serif",Ie.setLineDash!==void 0&&(Ie.setLineDash([]),Ie.lineDashOffset=0)}function Ee(Ie,Le,Oe,Ne){const qe=Ie.length;for(let it=3;it<qe;it+=4){const tt=Ie[it];if(tt===0)Ie[it-3]=Le,Ie[it-2]=Oe,Ie[it-1]=Ne;else if(tt<255){const Xe=255-tt;Ie[it-3]=Ie[it-3]*tt+Le*Xe>>8,Ie[it-2]=Ie[it-2]*tt+Oe*Xe>>8,Ie[it-1]=Ie[it-1]*tt+Ne*Xe>>8}}}function Ce(Ie,Le,Oe){const Ne=Ie.length,qe=1/255;for(let it=3;it<Ne;it+=4){const tt=Oe?Oe[Ie[it]]:Ie[it];Le[it]=Le[it]*tt*qe|0}}function ye(Ie,Le,Oe){const Ne=Ie.length;for(let qe=3;qe<Ne;qe+=4){const it=Ie[qe-3]*77+Ie[qe-2]*152+Ie[qe-1]*28;Le[qe]=Oe?Le[qe]*Oe[it>>8]>>8:Le[qe]*it>>16}}function Re(Ie,Le,Oe,Ne,qe,it,tt,Xe,Ze,ot,Ge){const Ke=!!it,je=Ke?it[0]:0,nt=Ke?it[1]:0,Qe=Ke?it[2]:0;let We;qe==="Luminosity"?We=ye:We=Ce;const et=Math.min(Ne,Math.ceil(1048576/Oe));for(let ct=0;ct<Ne;ct+=et){const at=Math.min(et,Ne-ct),Je=Ie.getImageData(Xe-ot,ct+(Ze-Ge),Oe,at),lt=Le.getImageData(Xe,ct+Ze,Oe,at);Ke&&Ee(Je.data,je,nt,Qe),We(Je.data,lt.data,tt),Le.putImageData(lt,Xe,ct+Ze)}}function Ye(Ie,Le,Oe,Ne){const qe=Ne[0],it=Ne[1],tt=Ne[2]-qe,Xe=Ne[3]-it;tt===0||Xe===0||(Re(Le.context,Oe,tt,Xe,Le.subtype,Le.backdrop,Le.transferMap,qe,it,Le.offsetX,Le.offsetY),Ie.save(),Ie.globalAlpha=1,Ie.globalCompositeOperation="source-over",Ie.setTransform(1,0,0,1,0,0),Ie.drawImage(Oe.canvas,0,0),Ie.restore())}function ke(Ie,Le){const Oe=ie.Util.singularValueDecompose2dScale(Ie);Oe[0]=Math.fround(Oe[0]),Oe[1]=Math.fround(Oe[1]);const Ne=Math.fround((globalThis.devicePixelRatio||1)*ne.PixelsPerInch.PDF_TO_CSS_UNITS);return Le!==void 0?Le:Oe[0]<=Ne||Oe[1]<=Ne}const $e=["butt","round","square"],Be=["miter","round","bevel"],Pe={},Ue={},He=class He{constructor(Le,Oe,Ne,qe,it,tt,Xe,Ze){Fn(this,Me);this.ctx=Le,this.current=new xe(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Oe,this.objs=Ne,this.canvasFactory=qe,this.imageLayer=it,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=tt,this.cachedCanvases=new Se(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Xe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Ze==null?void 0:Ze.background)||null,this.foregroundColor=(Ze==null?void 0:Ze.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Le,Oe=null){return typeof Le=="string"?Le.startsWith("g_")?this.commonObjs.get(Le):this.objs.get(Le):Oe}beginDrawing({transform:Le,viewport:Oe,transparency:Ne=!1,background:qe=null}){const it=this.ctx.canvas.width,tt=this.ctx.canvas.height,Xe=qe||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Ze=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const ot=this.backgroundColor=this.ctx.fillStyle;let Ge=!0,Ke=Xe;if(this.ctx.fillStyle=Xe,Ke=this.ctx.fillStyle,Ge=typeof Ke=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ke),Ze==="#000000"&&ot==="#ffffff"||Ze===ot||!Ge)this.foregroundColor=this.backgroundColor=null;else{const[je,nt,Qe]=(0,ne.getRGB)(Ke),We=et=>(et/=255,et<=.03928?et/12.92:((et+.055)/1.055)**2.4),rt=Math.round(.2126*We(je)+.7152*We(nt)+.0722*We(Qe));this.selectColor=(et,ct,at)=>{const Je=.2126*We(et)+.7152*We(ct)+.0722*We(at);return Math.round(Je)===rt?ot:Ze}}}if(this.ctx.fillStyle=this.backgroundColor||Xe,this.ctx.fillRect(0,0,it,tt),this.ctx.restore(),Ne){const Ze=this.cachedCanvases.getCanvas("transparent",it,tt);this.compositeCtx=this.ctx,this.transparentCanvas=Ze.canvas,this.ctx=Ze.context,this.ctx.save(),this.ctx.transform(...(0,ne.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),_e(this.ctx,this.foregroundColor),Le&&(this.ctx.transform(...Le),this.outputScaleX=Le[0],this.outputScaleY=Le[0]),this.ctx.transform(...Oe.transform),this.viewportScale=Oe.scale,this.baseTransform=(0,ne.getCurrentTransform)(this.ctx),this.imageLayer&&((0,ne.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(Le,Oe,Ne,qe){const it=Le.argsArray,tt=Le.fnArray;let Xe=Oe||0;const Ze=it.length;if(Ze===Xe)return Xe;const ot=Ze-Xe>pe&&typeof Ne=="function",Ge=ot?Date.now()+de:0;let Ke=0;const je=this.commonObjs,nt=this.objs;let Qe;for(;;){if(qe!==void 0&&Xe===qe.nextBreakPoint)return qe.breakIt(Xe,Ne),Xe;if(Qe=tt[Xe],Qe!==ie.OPS.dependency)this[Qe].apply(this,it[Xe]);else for(const We of it[Xe]){const rt=We.startsWith("g_")?je:nt;if(!rt.has(We))return rt.get(We,Ne),Xe}if(Xe++,Xe===Ze)return Xe;if(ot&&++Ke>pe){if(Date.now()>Ge)return Ne(),Xe;Ke=0}}}endDrawing(){bn(this,Me,Nl).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Le of this._cachedBitmapsMap.values()){for(const Oe of Le.values())typeof HTMLCanvasElement<"u"&&Oe instanceof HTMLCanvasElement&&(Oe.width=Oe.height=0);Le.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(Le,Oe){const Ne=Le.width,qe=Le.height;let it=Math.max(Math.hypot(Oe[0],Oe[1]),1),tt=Math.max(Math.hypot(Oe[2],Oe[3]),1),Xe=Ne,Ze=qe,ot="prescale1",Ge,Ke;for(;it>2&&Xe>1||tt>2&&Ze>1;){let je=Xe,nt=Ze;it>2&&Xe>1&&(je=Math.ceil(Xe/2),it/=Xe/je),tt>2&&Ze>1&&(nt=Math.ceil(Ze/2),tt/=Ze/nt),Ge=this.cachedCanvases.getCanvas(ot,je,nt),Ke=Ge.context,Ke.clearRect(0,0,je,nt),Ke.drawImage(Le,0,0,Xe,Ze,0,0,je,nt),Le=Ge.canvas,Xe=je,Ze=nt,ot=ot==="prescale1"?"prescale2":"prescale1"}return{img:Le,paintWidth:Xe,paintHeight:Ze}}_createMaskCanvas(Le){const Oe=this.ctx,{width:Ne,height:qe}=Le,it=this.current.fillColor,tt=this.current.patternFill,Xe=(0,ne.getCurrentTransform)(Oe);let Ze,ot,Ge,Ke;if((Le.bitmap||Le.data)&&Le.count>1){const ft=Le.bitmap||Le.data.buffer,pt=Xe.slice(0,4);ot=JSON.stringify(tt?pt:[pt,it]),Ze=this._cachedBitmapsMap.get(ft),Ze||(Ze=new Map,this._cachedBitmapsMap.set(ft,Ze));const mt=Ze.get(ot);if(mt&&!tt){const xt=Math.round(Math.min(Xe[0],Xe[2])+Xe[4]),vt=Math.round(Math.min(Xe[1],Xe[3])+Xe[5]);return{canvas:mt,offsetX:xt,offsetY:vt}}Ge=mt}Ge||(Ke=this.cachedCanvases.getCanvas("maskCanvas",Ne,qe),we(Ke.context,Le));let je=ie.Util.transform(Xe,[1/Ne,0,0,-1/qe,0,0]);je=ie.Util.transform(je,[1,0,0,1,0,-qe]);const nt=ie.Util.applyTransform([0,0],je),Qe=ie.Util.applyTransform([Ne,qe],je),We=ie.Util.normalizeRect([nt[0],nt[1],Qe[0],Qe[1]]),rt=Math.round(We[2]-We[0])||1,et=Math.round(We[3]-We[1])||1,ct=this.cachedCanvases.getCanvas("fillCanvas",rt,et),at=ct.context,Je=Math.min(nt[0],Qe[0]),lt=Math.min(nt[1],Qe[1]);at.translate(-Je,-lt),at.transform(...je),Ge||(Ge=this._scaleImage(Ke.canvas,(0,ne.getCurrentTransformInverse)(at)),Ge=Ge.img,Ze&&tt&&Ze.set(ot,Ge)),at.imageSmoothingEnabled=ke((0,ne.getCurrentTransform)(at),Le.interpolate),fe(at,Ge,0,0,Ge.width,Ge.height,0,0,Ne,qe),at.globalCompositeOperation="source-in";const ut=ie.Util.transform((0,ne.getCurrentTransformInverse)(at),[1,0,0,1,-Je,-lt]);return at.fillStyle=tt?it.getPattern(Oe,this,ut,se.PathType.FILL):it,at.fillRect(0,0,Ne,qe),Ze&&!tt&&(this.cachedCanvases.delete("fillCanvas"),Ze.set(ot,ct.canvas)),{canvas:ct.canvas,offsetX:Math.round(Je),offsetY:Math.round(lt)}}setLineWidth(Le){Le!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Le,this.ctx.lineWidth=Le}setLineCap(Le){this.ctx.lineCap=$e[Le]}setLineJoin(Le){this.ctx.lineJoin=Be[Le]}setMiterLimit(Le){this.ctx.miterLimit=Le}setDash(Le,Oe){const Ne=this.ctx;Ne.setLineDash!==void 0&&(Ne.setLineDash(Le),Ne.lineDashOffset=Oe)}setRenderingIntent(Le){}setFlatness(Le){}setGState(Le){for(let Oe=0,Ne=Le.length;Oe<Ne;Oe++){const qe=Le[Oe],it=qe[0],tt=qe[1];switch(it){case"LW":this.setLineWidth(tt);break;case"LC":this.setLineCap(tt);break;case"LJ":this.setLineJoin(tt);break;case"ML":this.setMiterLimit(tt);break;case"D":this.setDash(tt[0],tt[1]);break;case"RI":this.setRenderingIntent(tt);break;case"FL":this.setFlatness(tt);break;case"Font":this.setFont(tt[0],tt[1]);break;case"CA":this.current.strokeAlpha=qe[1];break;case"ca":this.current.fillAlpha=qe[1],this.ctx.globalAlpha=qe[1];break;case"BM":this.ctx.globalCompositeOperation=tt;break;case"SMask":this.current.activeSMask=tt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=tt}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Le=this.inSMaskMode;this.current.activeSMask&&!Le?this.beginSMaskMode():!this.current.activeSMask&&Le&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Le=this.ctx.canvas.width,Oe=this.ctx.canvas.height,Ne="smaskGroupAt"+this.groupLevel,qe=this.cachedCanvases.getCanvas(Ne,Le,Oe);this.suspendedCtx=this.ctx,this.ctx=qe.context;const it=this.ctx;it.setTransform(...(0,ne.getCurrentTransform)(this.suspendedCtx)),Fe(this.suspendedCtx,it),ge(it,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Fe(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Le){if(!this.current.activeSMask)return;Le?(Le[0]=Math.floor(Le[0]),Le[1]=Math.floor(Le[1]),Le[2]=Math.ceil(Le[2]),Le[3]=Math.ceil(Le[3])):Le=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Oe=this.current.activeSMask,Ne=this.suspendedCtx;Ye(Ne,Oe,this.ctx,Le),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Fe(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Le=this.current;this.stateStack.push(Le),this.current=Le.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Fe(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Le,Oe,Ne,qe,it,tt){this.ctx.transform(Le,Oe,Ne,qe,it,tt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Le,Oe,Ne){const qe=this.ctx,it=this.current;let tt=it.x,Xe=it.y,Ze,ot;const Ge=(0,ne.getCurrentTransform)(qe),Ke=Ge[0]===0&&Ge[3]===0||Ge[1]===0&&Ge[2]===0,je=Ke?Ne.slice(0):null;for(let nt=0,Qe=0,We=Le.length;nt<We;nt++)switch(Le[nt]|0){case ie.OPS.rectangle:tt=Oe[Qe++],Xe=Oe[Qe++];const rt=Oe[Qe++],et=Oe[Qe++],ct=tt+rt,at=Xe+et;qe.moveTo(tt,Xe),rt===0||et===0?qe.lineTo(ct,at):(qe.lineTo(ct,Xe),qe.lineTo(ct,at),qe.lineTo(tt,at)),Ke||it.updateRectMinMax(Ge,[tt,Xe,ct,at]),qe.closePath();break;case ie.OPS.moveTo:tt=Oe[Qe++],Xe=Oe[Qe++],qe.moveTo(tt,Xe),Ke||it.updatePathMinMax(Ge,tt,Xe);break;case ie.OPS.lineTo:tt=Oe[Qe++],Xe=Oe[Qe++],qe.lineTo(tt,Xe),Ke||it.updatePathMinMax(Ge,tt,Xe);break;case ie.OPS.curveTo:Ze=tt,ot=Xe,tt=Oe[Qe+4],Xe=Oe[Qe+5],qe.bezierCurveTo(Oe[Qe],Oe[Qe+1],Oe[Qe+2],Oe[Qe+3],tt,Xe),it.updateCurvePathMinMax(Ge,Ze,ot,Oe[Qe],Oe[Qe+1],Oe[Qe+2],Oe[Qe+3],tt,Xe,je),Qe+=6;break;case ie.OPS.curveTo2:Ze=tt,ot=Xe,qe.bezierCurveTo(tt,Xe,Oe[Qe],Oe[Qe+1],Oe[Qe+2],Oe[Qe+3]),it.updateCurvePathMinMax(Ge,Ze,ot,tt,Xe,Oe[Qe],Oe[Qe+1],Oe[Qe+2],Oe[Qe+3],je),tt=Oe[Qe+2],Xe=Oe[Qe+3],Qe+=4;break;case ie.OPS.curveTo3:Ze=tt,ot=Xe,tt=Oe[Qe+2],Xe=Oe[Qe+3],qe.bezierCurveTo(Oe[Qe],Oe[Qe+1],tt,Xe,tt,Xe),it.updateCurvePathMinMax(Ge,Ze,ot,Oe[Qe],Oe[Qe+1],tt,Xe,tt,Xe,je),Qe+=4;break;case ie.OPS.closePath:qe.closePath();break}Ke&&it.updateScalingPathMinMax(Ge,je),it.setCurrentPoint(tt,Xe)}closePath(){this.ctx.closePath()}stroke(Le){Le=typeof Le<"u"?Le:!0;const Oe=this.ctx,Ne=this.current.strokeColor;Oe.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Ne=="object"&&(Ne!=null&&Ne.getPattern)?(Oe.save(),Oe.strokeStyle=Ne.getPattern(Oe,this,(0,ne.getCurrentTransformInverse)(Oe),se.PathType.STROKE),this.rescaleAndStroke(!1),Oe.restore()):this.rescaleAndStroke(!0)),Le&&this.consumePath(this.current.getClippedPathBoundingBox()),Oe.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Le){Le=typeof Le<"u"?Le:!0;const Oe=this.ctx,Ne=this.current.fillColor,qe=this.current.patternFill;let it=!1;qe&&(Oe.save(),Oe.fillStyle=Ne.getPattern(Oe,this,(0,ne.getCurrentTransformInverse)(Oe),se.PathType.FILL),it=!0);const tt=this.current.getClippedPathBoundingBox();this.contentVisible&&tt!==null&&(this.pendingEOFill?(Oe.fill("evenodd"),this.pendingEOFill=!1):Oe.fill()),it&&Oe.restore(),Le&&this.consumePath(tt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Pe}eoClip(){this.pendingClip=Ue}beginText(){this.current.textMatrix=ie.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Le=this.pendingTextPaths,Oe=this.ctx;if(Le===void 0){Oe.beginPath();return}Oe.save(),Oe.beginPath();for(const Ne of Le)Oe.setTransform(...Ne.transform),Oe.translate(Ne.x,Ne.y),Ne.addToPath(Oe,Ne.fontSize);Oe.restore(),Oe.clip(),Oe.beginPath(),delete this.pendingTextPaths}setCharSpacing(Le){this.current.charSpacing=Le}setWordSpacing(Le){this.current.wordSpacing=Le}setHScale(Le){this.current.textHScale=Le/100}setLeading(Le){this.current.leading=-Le}setFont(Le,Oe){const Ne=this.commonObjs.get(Le),qe=this.current;if(!Ne)throw new Error(`Can't find font for ${Le}`);if(qe.fontMatrix=Ne.fontMatrix||ie.FONT_IDENTITY_MATRIX,(qe.fontMatrix[0]===0||qe.fontMatrix[3]===0)&&(0,ie.warn)("Invalid font matrix for font "+Le),Oe<0?(Oe=-Oe,qe.fontDirection=-1):qe.fontDirection=1,this.current.font=Ne,this.current.fontSize=Oe,Ne.isType3Font)return;const it=Ne.loadedName||"sans-serif";let tt="normal";Ne.black?tt="900":Ne.bold&&(tt="bold");const Xe=Ne.italic?"italic":"normal",Ze=`"${it}", ${Ne.fallbackName}`;let ot=Oe;Oe<ce?ot=ce:Oe>ae&&(ot=ae),this.current.fontSizeScale=Oe/ot,this.ctx.font=`${Xe} ${tt} ${ot}px ${Ze}`}setTextRenderingMode(Le){this.current.textRenderingMode=Le}setTextRise(Le){this.current.textRise=Le}moveText(Le,Oe){this.current.x=this.current.lineX+=Le,this.current.y=this.current.lineY+=Oe}setLeadingMoveText(Le,Oe){this.setLeading(-Oe),this.moveText(Le,Oe)}setTextMatrix(Le,Oe,Ne,qe,it,tt){this.current.textMatrix=[Le,Oe,Ne,qe,it,tt],this.current.textMatrixScale=Math.hypot(Le,Oe),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Le,Oe,Ne,qe){const it=this.ctx,tt=this.current,Xe=tt.font,Ze=tt.textRenderingMode,ot=tt.fontSize/tt.fontSizeScale,Ge=Ze&ie.TextRenderingMode.FILL_STROKE_MASK,Ke=!!(Ze&ie.TextRenderingMode.ADD_TO_PATH_FLAG),je=tt.patternFill&&!Xe.missingFile;let nt;(Xe.disableFontFace||Ke||je)&&(nt=Xe.getPathGenerator(this.commonObjs,Le)),Xe.disableFontFace||je?(it.save(),it.translate(Oe,Ne),it.beginPath(),nt(it,ot),qe&&it.setTransform(...qe),(Ge===ie.TextRenderingMode.FILL||Ge===ie.TextRenderingMode.FILL_STROKE)&&it.fill(),(Ge===ie.TextRenderingMode.STROKE||Ge===ie.TextRenderingMode.FILL_STROKE)&&it.stroke(),it.restore()):((Ge===ie.TextRenderingMode.FILL||Ge===ie.TextRenderingMode.FILL_STROKE)&&it.fillText(Le,Oe,Ne),(Ge===ie.TextRenderingMode.STROKE||Ge===ie.TextRenderingMode.FILL_STROKE)&&it.strokeText(Le,Oe,Ne)),Ke&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,ne.getCurrentTransform)(it),x:Oe,y:Ne,fontSize:ot,addToPath:nt})}get isFontSubpixelAAEnabled(){const{context:Le}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Le.scale(1.5,1),Le.fillText("I",0,10);const Oe=Le.getImageData(0,0,10,10).data;let Ne=!1;for(let qe=3;qe<Oe.length;qe+=4)if(Oe[qe]>0&&Oe[qe]<255){Ne=!0;break}return(0,ie.shadow)(this,"isFontSubpixelAAEnabled",Ne)}showText(Le){const Oe=this.current,Ne=Oe.font;if(Ne.isType3Font)return this.showType3Text(Le);const qe=Oe.fontSize;if(qe===0)return;const it=this.ctx,tt=Oe.fontSizeScale,Xe=Oe.charSpacing,Ze=Oe.wordSpacing,ot=Oe.fontDirection,Ge=Oe.textHScale*ot,Ke=Le.length,je=Ne.vertical,nt=je?1:-1,Qe=Ne.defaultVMetrics,We=qe*Oe.fontMatrix[0],rt=Oe.textRenderingMode===ie.TextRenderingMode.FILL&&!Ne.disableFontFace&&!Oe.patternFill;it.save(),it.transform(...Oe.textMatrix),it.translate(Oe.x,Oe.y+Oe.textRise),ot>0?it.scale(Ge,-1):it.scale(Ge,1);let et;if(Oe.patternFill){it.save();const ut=Oe.fillColor.getPattern(it,this,(0,ne.getCurrentTransformInverse)(it),se.PathType.FILL);et=(0,ne.getCurrentTransform)(it),it.restore(),it.fillStyle=ut}let ct=Oe.lineWidth;const at=Oe.textMatrixScale;if(at===0||ct===0){const ut=Oe.textRenderingMode&ie.TextRenderingMode.FILL_STROKE_MASK;(ut===ie.TextRenderingMode.STROKE||ut===ie.TextRenderingMode.FILL_STROKE)&&(ct=this.getSinglePixelWidth())}else ct/=at;tt!==1&&(it.scale(tt,tt),ct/=tt),it.lineWidth=ct;let Je=0,lt;for(lt=0;lt<Ke;++lt){const ut=Le[lt];if(typeof ut=="number"){Je+=nt*ut*qe/1e3;continue}let ft=!1;const pt=(ut.isSpace?Ze:0)+Xe,mt=ut.fontChar,xt=ut.accent;let vt,wt,_t=ut.width;if(je){const Lt=ut.vmetric||Qe,jt=-(ut.vmetric?Lt[1]:_t*.5)*We,Bt=Lt[2]*We;_t=Lt?-Lt[0]:_t,vt=jt/tt,wt=(Je+Bt)/tt}else vt=Je/tt,wt=0;if(Ne.remeasure&&_t>0){const Lt=it.measureText(mt).width*1e3/qe*tt;if(_t<Lt&&this.isFontSubpixelAAEnabled){const jt=_t/Lt;ft=!0,it.save(),it.scale(jt,1),vt/=jt}else _t!==Lt&&(vt+=(_t-Lt)/2e3*qe/tt)}if(this.contentVisible&&(ut.isInFont||Ne.missingFile)){if(rt&&!xt)it.fillText(mt,vt,wt);else if(this.paintChar(mt,vt,wt,et),xt){const Lt=vt+qe*xt.offset.x/tt,jt=wt-qe*xt.offset.y/tt;this.paintChar(xt.fontChar,Lt,jt,et)}}let Tt;je?Tt=_t*We-pt*ot:Tt=_t*We+pt*ot,Je+=Tt,ft&&it.restore()}je?Oe.y-=Je:Oe.x+=Je*Ge,it.restore(),this.compose()}showType3Text(Le){const Oe=this.ctx,Ne=this.current,qe=Ne.font,it=Ne.fontSize,tt=Ne.fontDirection,Xe=qe.vertical?1:-1,Ze=Ne.charSpacing,ot=Ne.wordSpacing,Ge=Ne.textHScale*tt,Ke=Ne.fontMatrix||ie.FONT_IDENTITY_MATRIX,je=Le.length,nt=Ne.textRenderingMode===ie.TextRenderingMode.INVISIBLE;let Qe,We,rt,et;if(!(nt||it===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Oe.save(),Oe.transform(...Ne.textMatrix),Oe.translate(Ne.x,Ne.y),Oe.scale(Ge,tt),Qe=0;Qe<je;++Qe){if(We=Le[Qe],typeof We=="number"){et=Xe*We*it/1e3,this.ctx.translate(et,0),Ne.x+=et*Ge;continue}const ct=(We.isSpace?ot:0)+Ze,at=qe.charProcOperatorList[We.operatorListId];if(!at){(0,ie.warn)(`Type3 character "${We.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=We,this.save(),Oe.scale(it,it),Oe.transform(...Ke),this.executeOperatorList(at),this.restore()),rt=ie.Util.applyTransform([We.width,0],Ke)[0]*it+ct,Oe.translate(rt,0),Ne.x+=rt*Ge}Oe.restore(),this.processingType3=null}}setCharWidth(Le,Oe){}setCharWidthAndBounds(Le,Oe,Ne,qe,it,tt){this.ctx.rect(Ne,qe,it-Ne,tt-qe),this.ctx.clip(),this.endPath()}getColorN_Pattern(Le){let Oe;if(Le[0]==="TilingPattern"){const Ne=Le[1],qe=this.baseTransform||(0,ne.getCurrentTransform)(this.ctx),it={createCanvasGraphics:tt=>new He(tt,this.commonObjs,this.objs,this.canvasFactory)};Oe=new se.TilingPattern(Le,Ne,this.ctx,it,qe)}else Oe=this._getPattern(Le[1],Le[2]);return Oe}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Le,Oe,Ne){var it;const qe=((it=this.selectColor)==null?void 0:it.call(this,Le,Oe,Ne))||ie.Util.makeHexColor(Le,Oe,Ne);this.ctx.strokeStyle=qe,this.current.strokeColor=qe}setFillRGBColor(Le,Oe,Ne){var it;const qe=((it=this.selectColor)==null?void 0:it.call(this,Le,Oe,Ne))||ie.Util.makeHexColor(Le,Oe,Ne);this.ctx.fillStyle=qe,this.current.fillColor=qe,this.current.patternFill=!1}_getPattern(Le,Oe=null){let Ne;return this.cachedPatterns.has(Le)?Ne=this.cachedPatterns.get(Le):(Ne=(0,se.getShadingPattern)(this.objs.get(Le)),this.cachedPatterns.set(Le,Ne)),Oe&&(Ne.matrix=Oe),Ne}shadingFill(Le){if(!this.contentVisible)return;const Oe=this.ctx;this.save();const Ne=this._getPattern(Le);Oe.fillStyle=Ne.getPattern(Oe,this,(0,ne.getCurrentTransformInverse)(Oe),se.PathType.SHADING);const qe=(0,ne.getCurrentTransformInverse)(Oe);if(qe){const it=Oe.canvas,tt=it.width,Xe=it.height,Ze=ie.Util.applyTransform([0,0],qe),ot=ie.Util.applyTransform([0,Xe],qe),Ge=ie.Util.applyTransform([tt,0],qe),Ke=ie.Util.applyTransform([tt,Xe],qe),je=Math.min(Ze[0],ot[0],Ge[0],Ke[0]),nt=Math.min(Ze[1],ot[1],Ge[1],Ke[1]),Qe=Math.max(Ze[0],ot[0],Ge[0],Ke[0]),We=Math.max(Ze[1],ot[1],Ge[1],Ke[1]);this.ctx.fillRect(je,nt,Qe-je,We-nt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,ie.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,ie.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Le,Oe){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Le)&&Le.length===6&&this.transform(...Le),this.baseTransform=(0,ne.getCurrentTransform)(this.ctx),Oe)){const Ne=Oe[2]-Oe[0],qe=Oe[3]-Oe[1];this.ctx.rect(Oe[0],Oe[1],Ne,qe),this.current.updateRectMinMax((0,ne.getCurrentTransform)(this.ctx),Oe),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Le){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Oe=this.ctx;Le.isolated||(0,ie.info)("TODO: Support non-isolated groups."),Le.knockout&&(0,ie.warn)("Knockout groups not supported.");const Ne=(0,ne.getCurrentTransform)(Oe);if(Le.matrix&&Oe.transform(...Le.matrix),!Le.bbox)throw new Error("Bounding box is required.");let qe=ie.Util.getAxialAlignedBoundingBox(Le.bbox,(0,ne.getCurrentTransform)(Oe));const it=[0,0,Oe.canvas.width,Oe.canvas.height];qe=ie.Util.intersect(qe,it)||[0,0,0,0];const tt=Math.floor(qe[0]),Xe=Math.floor(qe[1]);let Ze=Math.max(Math.ceil(qe[2])-tt,1),ot=Math.max(Math.ceil(qe[3])-Xe,1),Ge=1,Ke=1;Ze>he&&(Ge=Ze/he,Ze=he),ot>he&&(Ke=ot/he,ot=he),this.current.startNewPathAndClipBox([0,0,Ze,ot]);let je="groupAt"+this.groupLevel;Le.smask&&(je+="_smask_"+this.smaskCounter++%2);const nt=this.cachedCanvases.getCanvas(je,Ze,ot),Qe=nt.context;Qe.scale(1/Ge,1/Ke),Qe.translate(-tt,-Xe),Qe.transform(...Ne),Le.smask?this.smaskStack.push({canvas:nt.canvas,context:Qe,offsetX:tt,offsetY:Xe,scaleX:Ge,scaleY:Ke,subtype:Le.smask.subtype,backdrop:Le.smask.backdrop,transferMap:Le.smask.transferMap||null,startTransformInverse:null}):(Oe.setTransform(1,0,0,1,0,0),Oe.translate(tt,Xe),Oe.scale(Ge,Ke),Oe.save()),Fe(Oe,Qe),this.ctx=Qe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Oe),this.groupLevel++}endGroup(Le){if(!this.contentVisible)return;this.groupLevel--;const Oe=this.ctx,Ne=this.groupStack.pop();if(this.ctx=Ne,this.ctx.imageSmoothingEnabled=!1,Le.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const qe=(0,ne.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...qe);const it=ie.Util.getAxialAlignedBoundingBox([0,0,Oe.canvas.width,Oe.canvas.height],qe);this.ctx.drawImage(Oe.canvas,0,0),this.ctx.restore(),this.compose(it)}}beginAnnotation(Le,Oe,Ne,qe,it){if(bn(this,Me,Nl).call(this),_e(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Oe)&&Oe.length===4){const tt=Oe[2]-Oe[0],Xe=Oe[3]-Oe[1];if(it&&this.annotationCanvasMap){Ne=Ne.slice(),Ne[4]-=Oe[0],Ne[5]-=Oe[1],Oe=Oe.slice(),Oe[0]=Oe[1]=0,Oe[2]=tt,Oe[3]=Xe;const[Ze,ot]=ie.Util.singularValueDecompose2dScale((0,ne.getCurrentTransform)(this.ctx)),{viewportScale:Ge}=this,Ke=Math.ceil(tt*this.outputScaleX*Ge),je=Math.ceil(Xe*this.outputScaleY*Ge);this.annotationCanvas=this.canvasFactory.create(Ke,je);const{canvas:nt,context:Qe}=this.annotationCanvas;this.annotationCanvasMap.set(Le,nt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Qe,this.ctx.setTransform(Ze,0,0,-ot,0,Xe*ot),_e(this.ctx,this.foregroundColor)}else _e(this.ctx,this.foregroundColor),this.ctx.rect(Oe[0],Oe[1],tt,Xe),this.ctx.clip(),this.endPath()}this.current=new xe(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Ne),this.transform(...qe)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Le){if(!this.contentVisible)return;const Oe=Le.count;Le=this.getObject(Le.data,Le),Le.count=Oe;const Ne=this.ctx,qe=this.processingType3;if(qe&&(qe.compiled===void 0&&(qe.compiled=be(Le)),qe.compiled)){qe.compiled(Ne);return}const it=this._createMaskCanvas(Le),tt=it.canvas;Ne.save(),Ne.setTransform(1,0,0,1,0,0),Ne.drawImage(tt,it.offsetX,it.offsetY),Ne.restore(),this.compose()}paintImageMaskXObjectRepeat(Le,Oe,Ne=0,qe=0,it,tt){if(!this.contentVisible)return;Le=this.getObject(Le.data,Le);const Xe=this.ctx;Xe.save();const Ze=(0,ne.getCurrentTransform)(Xe);Xe.transform(Oe,Ne,qe,it,0,0);const ot=this._createMaskCanvas(Le);Xe.setTransform(1,0,0,1,0,0);for(let Ge=0,Ke=tt.length;Ge<Ke;Ge+=2){const je=ie.Util.transform(Ze,[Oe,Ne,qe,it,tt[Ge],tt[Ge+1]]),[nt,Qe]=ie.Util.applyTransform([0,0],je);Xe.drawImage(ot.canvas,nt,Qe)}Xe.restore(),this.compose()}paintImageMaskXObjectGroup(Le){if(!this.contentVisible)return;const Oe=this.ctx,Ne=this.current.fillColor,qe=this.current.patternFill;for(const it of Le){const{data:tt,width:Xe,height:Ze,transform:ot}=it,Ge=this.cachedCanvases.getCanvas("maskCanvas",Xe,Ze),Ke=Ge.context;Ke.save();const je=this.getObject(tt,it);we(Ke,je),Ke.globalCompositeOperation="source-in",Ke.fillStyle=qe?Ne.getPattern(Ke,this,(0,ne.getCurrentTransformInverse)(Oe),se.PathType.FILL):Ne,Ke.fillRect(0,0,Xe,Ze),Ke.restore(),Oe.save(),Oe.transform(...ot),Oe.scale(1,-1),fe(Oe,Ge.canvas,0,0,Xe,Ze,0,-1,1,1),Oe.restore()}this.compose()}paintImageXObject(Le){if(!this.contentVisible)return;const Oe=this.getObject(Le);if(!Oe){(0,ie.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Oe)}paintImageXObjectRepeat(Le,Oe,Ne,qe){if(!this.contentVisible)return;const it=this.getObject(Le);if(!it){(0,ie.warn)("Dependent image isn't ready yet");return}const tt=it.width,Xe=it.height,Ze=[];for(let ot=0,Ge=qe.length;ot<Ge;ot+=2)Ze.push({transform:[Oe,0,0,Ne,qe[ot],qe[ot+1]],x:0,y:0,w:tt,h:Xe});this.paintInlineImageXObjectGroup(it,Ze)}paintInlineImageXObject(Le){if(!this.contentVisible)return;const Oe=Le.width,Ne=Le.height,qe=this.ctx;this.save(),qe.scale(1/Oe,-1/Ne);let it;if(typeof HTMLElement=="function"&&Le instanceof HTMLElement||!Le.data)it=Le;else{const ot=this.cachedCanvases.getCanvas("inlineImage",Oe,Ne),Ge=ot.context;ue(Ge,Le,this.current.transferMaps),it=ot.canvas}const tt=this._scaleImage(it,(0,ne.getCurrentTransformInverse)(qe));qe.imageSmoothingEnabled=ke((0,ne.getCurrentTransform)(qe),Le.interpolate);const[Xe,Ze]=fe(qe,tt.img,0,0,tt.paintWidth,tt.paintHeight,0,-Ne,Oe,Ne);if(this.imageLayer){const[ot,Ge]=ie.Util.applyTransform([0,-Ne],(0,ne.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:Le,left:ot,top:Ge,width:Xe,height:Ze})}this.compose(),this.restore()}paintInlineImageXObjectGroup(Le,Oe){if(!this.contentVisible)return;const Ne=this.ctx,qe=Le.width,it=Le.height,tt=this.cachedCanvases.getCanvas("inlineImage",qe,it),Xe=tt.context;ue(Xe,Le,this.current.transferMaps);for(const Ze of Oe){if(Ne.save(),Ne.transform(...Ze.transform),Ne.scale(1,-1),fe(Ne,tt.canvas,Ze.x,Ze.y,Ze.w,Ze.h,0,-1,1,1),this.imageLayer){const[ot,Ge]=ie.Util.applyTransform([Ze.x,Ze.y],(0,ne.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:Le,left:ot,top:Ge,width:qe,height:it})}Ne.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Le){}markPointProps(Le,Oe){}beginMarkedContent(Le){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Le,Oe){Le==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Oe)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Le){const Oe=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Le);const Ne=this.ctx;this.pendingClip&&(Oe||(this.pendingClip===Ue?Ne.clip("evenodd"):Ne.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Ne.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Le=(0,ne.getCurrentTransform)(this.ctx);if(Le[1]===0&&Le[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Le[0]),Math.abs(Le[3]));else{const Oe=Math.abs(Le[0]*Le[3]-Le[2]*Le[1]),Ne=Math.hypot(Le[0],Le[2]),qe=Math.hypot(Le[1],Le[3]);this._cachedGetSinglePixelWidth=Math.max(Ne,qe)/Oe}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Le}=this.current,Oe=(0,ne.getCurrentTransform)(this.ctx);let Ne,qe;if(Oe[1]===0&&Oe[2]===0){const it=Math.abs(Oe[0]),tt=Math.abs(Oe[3]);if(Le===0)Ne=1/it,qe=1/tt;else{const Xe=it*Le,Ze=tt*Le;Ne=Xe<1?1/Xe:1,qe=Ze<1?1/Ze:1}}else{const it=Math.abs(Oe[0]*Oe[3]-Oe[2]*Oe[1]),tt=Math.hypot(Oe[0],Oe[1]),Xe=Math.hypot(Oe[2],Oe[3]);if(Le===0)Ne=Xe/it,qe=tt/it;else{const Ze=Le*it;Ne=Xe>Ze?Xe/Ze:1,qe=tt>Ze?tt/Ze:1}}this._cachedScaleForStroking=[Ne,qe]}return this._cachedScaleForStroking}rescaleAndStroke(Le){const{ctx:Oe}=this,{lineWidth:Ne}=this.current,[qe,it]=this.getScaleForStroking();if(Oe.lineWidth=Ne||1,qe===1&&it===1){Oe.stroke();return}let tt,Xe,Ze;Le&&(tt=(0,ne.getCurrentTransform)(Oe),Xe=Oe.getLineDash().slice(),Ze=Oe.lineDashOffset),Oe.scale(qe,it);const ot=Math.max(qe,it);Oe.setLineDash(Oe.getLineDash().map(Ge=>Ge/ot)),Oe.lineDashOffset/=ot,Oe.stroke(),Le&&(Oe.setTransform(...tt),Oe.setLineDash(Xe),Oe.lineDashOffset=Ze)}isContentVisible(){for(let Le=this.markedContentStack.length-1;Le>=0;Le--)if(!this.markedContentStack[Le].visible)return!1;return!0}};Me=new WeakSet,Nl=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)};let Te=He;$.CanvasGraphics=Te;for(const Ie in ie.OPS)Te.prototype[Ie]!==void 0&&(Te.prototype[ie.OPS[Ie]]=Te.prototype[Ie])},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=Ae;var ne=te(1),ie=te(8),se=te(3);const le={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=le;function oe(fe,be){if(!be||se.isNodeJS)return;const xe=be[2]-be[0],ue=be[3]-be[1],we=new Path2D;we.rect(be[0],be[1],xe,ue),fe.clip(we)}class ce{constructor(){this.constructor===ce&&(0,ne.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,ne.unreachable)("Abstract method `getPattern` called.")}}class ae extends ce{constructor(be){super(),this._type=be[1],this._bbox=be[2],this._colorStops=be[3],this._p0=be[4],this._p1=be[5],this._r0=be[6],this._r1=be[7],this.matrix=null}_createGradient(be){let xe;this._type==="axial"?xe=be.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(xe=be.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ue of this._colorStops)xe.addColorStop(ue[0],ue[1]);return xe}getPattern(be,xe,ue,we){let Fe;if(we===le.STROKE||we===le.FILL){const _e=xe.current.getClippedPathBoundingBox(we,(0,ie.getCurrentTransform)(be))||[0,0,0,0],Ee=Math.ceil(_e[2]-_e[0])||1,Ce=Math.ceil(_e[3]-_e[1])||1,ye=xe.cachedCanvases.getCanvas("pattern",Ee,Ce,!0),Re=ye.context;Re.clearRect(0,0,Re.canvas.width,Re.canvas.height),Re.beginPath(),Re.rect(0,0,Re.canvas.width,Re.canvas.height),Re.translate(-_e[0],-_e[1]),ue=ne.Util.transform(ue,[1,0,0,1,_e[0],_e[1]]),Re.transform(...xe.baseTransform),this.matrix&&Re.transform(...this.matrix),oe(Re,this._bbox),Re.fillStyle=this._createGradient(Re),Re.fill(),Fe=be.createPattern(ye.canvas,"no-repeat");const Ye=new DOMMatrix(ue);try{Fe.setTransform(Ye)}catch(ke){(0,ne.warn)(`RadialAxialShadingPattern.getPattern: "${ke==null?void 0:ke.message}".`)}}else oe(be,this._bbox),Fe=this._createGradient(be);return Fe}}function he(fe,be,xe,ue,we,Fe,_e,Ee){const Ce=be.coords,ye=be.colors,Re=fe.data,Ye=fe.width*4;let ke;Ce[xe+1]>Ce[ue+1]&&(ke=xe,xe=ue,ue=ke,ke=Fe,Fe=_e,_e=ke),Ce[ue+1]>Ce[we+1]&&(ke=ue,ue=we,we=ke,ke=_e,_e=Ee,Ee=ke),Ce[xe+1]>Ce[ue+1]&&(ke=xe,xe=ue,ue=ke,ke=Fe,Fe=_e,_e=ke);const $e=(Ce[xe]+be.offsetX)*be.scaleX,Be=(Ce[xe+1]+be.offsetY)*be.scaleY,Pe=(Ce[ue]+be.offsetX)*be.scaleX,Ue=(Ce[ue+1]+be.offsetY)*be.scaleY,Te=(Ce[we]+be.offsetX)*be.scaleX,Me=(Ce[we+1]+be.offsetY)*be.scaleY;if(Be>=Me)return;const Ve=ye[Fe],He=ye[Fe+1],Ie=ye[Fe+2],Le=ye[_e],Oe=ye[_e+1],Ne=ye[_e+2],qe=ye[Ee],it=ye[Ee+1],tt=ye[Ee+2],Xe=Math.round(Be),Ze=Math.round(Me);let ot,Ge,Ke,je,nt,Qe,We,rt;for(let et=Xe;et<=Ze;et++){if(et<Ue){let ut;et<Be?ut=0:ut=(Be-et)/(Be-Ue),ot=$e-($e-Pe)*ut,Ge=Ve-(Ve-Le)*ut,Ke=He-(He-Oe)*ut,je=Ie-(Ie-Ne)*ut}else{let ut;et>Me?ut=1:Ue===Me?ut=0:ut=(Ue-et)/(Ue-Me),ot=Pe-(Pe-Te)*ut,Ge=Le-(Le-qe)*ut,Ke=Oe-(Oe-it)*ut,je=Ne-(Ne-tt)*ut}let ct;et<Be?ct=0:et>Me?ct=1:ct=(Be-et)/(Be-Me),nt=$e-($e-Te)*ct,Qe=Ve-(Ve-qe)*ct,We=He-(He-it)*ct,rt=Ie-(Ie-tt)*ct;const at=Math.round(Math.min(ot,nt)),Je=Math.round(Math.max(ot,nt));let lt=Ye*et+at*4;for(let ut=at;ut<=Je;ut++)ct=(ot-ut)/(ot-nt),ct<0?ct=0:ct>1&&(ct=1),Re[lt++]=Ge-(Ge-Qe)*ct|0,Re[lt++]=Ke-(Ke-We)*ct|0,Re[lt++]=je-(je-rt)*ct|0,Re[lt++]=255}}function de(fe,be,xe){const ue=be.coords,we=be.colors;let Fe,_e;switch(be.type){case"lattice":const Ee=be.verticesPerRow,Ce=Math.floor(ue.length/Ee)-1,ye=Ee-1;for(Fe=0;Fe<Ce;Fe++){let Re=Fe*Ee;for(let Ye=0;Ye<ye;Ye++,Re++)he(fe,xe,ue[Re],ue[Re+1],ue[Re+Ee],we[Re],we[Re+1],we[Re+Ee]),he(fe,xe,ue[Re+Ee+1],ue[Re+1],ue[Re+Ee],we[Re+Ee+1],we[Re+1],we[Re+Ee])}break;case"triangles":for(Fe=0,_e=ue.length;Fe<_e;Fe+=3)he(fe,xe,ue[Fe],ue[Fe+1],ue[Fe+2],we[Fe],we[Fe+1],we[Fe+2]);break;default:throw new Error("illegal figure")}}class pe extends ce{constructor(be){super(),this._coords=be[2],this._colors=be[3],this._figures=be[4],this._bounds=be[5],this._bbox=be[7],this._background=be[8],this.matrix=null}_createMeshCanvas(be,xe,ue){const Ee=Math.floor(this._bounds[0]),Ce=Math.floor(this._bounds[1]),ye=Math.ceil(this._bounds[2])-Ee,Re=Math.ceil(this._bounds[3])-Ce,Ye=Math.min(Math.ceil(Math.abs(ye*be[0]*1.1)),3e3),ke=Math.min(Math.ceil(Math.abs(Re*be[1]*1.1)),3e3),$e=ye/Ye,Be=Re/ke,Pe={coords:this._coords,colors:this._colors,offsetX:-Ee,offsetY:-Ce,scaleX:1/$e,scaleY:1/Be},Ue=Ye+2*2,Te=ke+2*2,Me=ue.getCanvas("mesh",Ue,Te,!1),Ve=Me.context,He=Ve.createImageData(Ye,ke);if(xe){const Le=He.data;for(let Oe=0,Ne=Le.length;Oe<Ne;Oe+=4)Le[Oe]=xe[0],Le[Oe+1]=xe[1],Le[Oe+2]=xe[2],Le[Oe+3]=255}for(const Le of this._figures)de(He,Le,Pe);return Ve.putImageData(He,2,2),{canvas:Me.canvas,offsetX:Ee-2*$e,offsetY:Ce-2*Be,scaleX:$e,scaleY:Be}}getPattern(be,xe,ue,we){oe(be,this._bbox);let Fe;if(we===le.SHADING)Fe=ne.Util.singularValueDecompose2dScale((0,ie.getCurrentTransform)(be));else if(Fe=ne.Util.singularValueDecompose2dScale(xe.baseTransform),this.matrix){const Ee=ne.Util.singularValueDecompose2dScale(this.matrix);Fe=[Fe[0]*Ee[0],Fe[1]*Ee[1]]}const _e=this._createMeshCanvas(Fe,we===le.SHADING?null:this._background,xe.cachedCanvases);return we!==le.SHADING&&(be.setTransform(...xe.baseTransform),this.matrix&&be.transform(...this.matrix)),be.translate(_e.offsetX,_e.offsetY),be.scale(_e.scaleX,_e.scaleY),be.createPattern(_e.canvas,"no-repeat")}}class re extends ce{getPattern(){return"hotpink"}}function Ae(fe){switch(fe[0]){case"RadialAxial":return new ae(fe);case"Mesh":return new pe(fe);case"Dummy":return new re}throw new Error(`Unknown IR type: ${fe[0]}`)}const ge={COLORED:1,UNCOLORED:2};class Se{static get MAX_PATTERN_SIZE(){return(0,ne.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(be,xe,ue,we,Fe){this.operatorList=be[2],this.matrix=be[3]||[1,0,0,1,0,0],this.bbox=be[4],this.xstep=be[5],this.ystep=be[6],this.paintType=be[7],this.tilingType=be[8],this.color=xe,this.ctx=ue,this.canvasGraphicsFactory=we,this.baseTransform=Fe}createPatternCanvas(be){const xe=this.operatorList,ue=this.bbox,we=this.xstep,Fe=this.ystep,_e=this.paintType,Ee=this.tilingType,Ce=this.color,ye=this.canvasGraphicsFactory;(0,ne.info)("TilingType: "+Ee);const Re=ue[0],Ye=ue[1],ke=ue[2],$e=ue[3],Be=ne.Util.singularValueDecompose2dScale(this.matrix),Pe=ne.Util.singularValueDecompose2dScale(this.baseTransform),Ue=[Be[0]*Pe[0],Be[1]*Pe[1]],Te=this.getSizeAndScale(we,this.ctx.canvas.width,Ue[0]),Me=this.getSizeAndScale(Fe,this.ctx.canvas.height,Ue[1]),Ve=be.cachedCanvases.getCanvas("pattern",Te.size,Me.size,!0),He=Ve.context,Ie=ye.createCanvasGraphics(He);Ie.groupLevel=be.groupLevel,this.setFillAndStrokeStyleToContext(Ie,_e,Ce);let Le=Re,Oe=Ye,Ne=ke,qe=$e;return Re<0&&(Le=0,Ne+=Math.abs(Re)),Ye<0&&(Oe=0,qe+=Math.abs(Ye)),He.translate(-(Te.scale*Le),-(Me.scale*Oe)),Ie.transform(Te.scale,0,0,Me.scale,0,0),He.save(),this.clipBbox(Ie,Le,Oe,Ne,qe),Ie.baseTransform=(0,ie.getCurrentTransform)(Ie.ctx),Ie.executeOperatorList(xe),Ie.endDrawing(),{canvas:Ve.canvas,scaleX:Te.scale,scaleY:Me.scale,offsetX:Le,offsetY:Oe}}getSizeAndScale(be,xe,ue){be=Math.abs(be);const we=Math.max(Se.MAX_PATTERN_SIZE,xe);let Fe=Math.ceil(be*ue);return Fe>=we?Fe=we:ue=Fe/be,{scale:ue,size:Fe}}clipBbox(be,xe,ue,we,Fe){const _e=we-xe,Ee=Fe-ue;be.ctx.rect(xe,ue,_e,Ee),be.current.updateRectMinMax((0,ie.getCurrentTransform)(be.ctx),[xe,ue,we,Fe]),be.clip(),be.endPath()}setFillAndStrokeStyleToContext(be,xe,ue){const we=be.ctx,Fe=be.current;switch(xe){case ge.COLORED:const _e=this.ctx;we.fillStyle=_e.fillStyle,we.strokeStyle=_e.strokeStyle,Fe.fillColor=_e.fillStyle,Fe.strokeColor=_e.strokeStyle;break;case ge.UNCOLORED:const Ee=ne.Util.makeHexColor(ue[0],ue[1],ue[2]);we.fillStyle=Ee,we.strokeStyle=Ee,Fe.fillColor=Ee,Fe.strokeColor=Ee;break;default:throw new ne.FormatError(`Unsupported paint type: ${xe}`)}}getPattern(be,xe,ue,we){let Fe=ue;we!==le.SHADING&&(Fe=ne.Util.transform(Fe,xe.baseTransform),this.matrix&&(Fe=ne.Util.transform(Fe,this.matrix)));const _e=this.createPatternCanvas(xe);let Ee=new DOMMatrix(Fe);Ee=Ee.translate(_e.offsetX,_e.offsetY),Ee=Ee.scale(1/_e.scaleX,1/_e.scaleY);const Ce=be.createPattern(_e.canvas,"repeat");try{Ce.setTransform(Ee)}catch(ye){(0,ne.warn)(`TilingPattern.getPattern: "${ye==null?void 0:ye.message}".`)}return Ce}}$.TilingPattern=Se},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=ie;var ne=te(1);function ie({src:se,srcPos:le=0,dest:oe,destPos:ce=0,width:ae,height:he,inverseDecode:de=!1}){const pe=ne.FeatureTest.isLittleEndian?4278190080:255,[re,Ae]=de?[0,pe]:[pe,0],ge=ae>>3,Se=ae&7,fe=se.length;oe=new Uint32Array(oe.buffer);for(let be=0;be<he;be++){for(const ue=le+ge;le<ue;le++){const we=le<fe?se[le]:255;oe[ce++]=we&128?Ae:re,oe[ce++]=we&64?Ae:re,oe[ce++]=we&32?Ae:re,oe[ce++]=we&16?Ae:re,oe[ce++]=we&8?Ae:re,oe[ce++]=we&4?Ae:re,oe[ce++]=we&2?Ae:re,oe[ce++]=we&1?Ae:re}if(Se===0)continue;const xe=le<fe?se[le++]:255;for(let ue=0;ue<Se;ue++)oe[ce++]=xe&1<<7-ue?Ae:re}return{srcPos:le,destPos:ce}}},(ee,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const te=Object.create(null);$.GlobalWorkerOptions=te,te.workerPort=te.workerPort===void 0?null:te.workerPort,te.workerSrc=te.workerSrc===void 0?"":te.workerSrc},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var ne=te(1);const ie={UNKNOWN:0,DATA:1,ERROR:2},se={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function le(ce){switch(ce instanceof Error||typeof ce=="object"&&ce!==null||(0,ne.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),ce.name){case"AbortException":return new ne.AbortException(ce.message);case"MissingPDFException":return new ne.MissingPDFException(ce.message);case"PasswordException":return new ne.PasswordException(ce.message,ce.code);case"UnexpectedResponseException":return new ne.UnexpectedResponseException(ce.message,ce.status);case"UnknownErrorException":return new ne.UnknownErrorException(ce.message,ce.details);default:return new ne.UnknownErrorException(ce.message,ce.toString())}}class oe{constructor(ae,he,de){this.sourceName=ae,this.targetName=he,this.comObj=de,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=pe=>{const re=pe.data;if(re.targetName!==this.sourceName)return;if(re.stream){this._processStreamMessage(re);return}if(re.callback){const ge=re.callbackId,Se=this.callbackCapabilities[ge];if(!Se)throw new Error(`Cannot resolve callback ${ge}`);if(delete this.callbackCapabilities[ge],re.callback===ie.DATA)Se.resolve(re.data);else if(re.callback===ie.ERROR)Se.reject(le(re.reason));else throw new Error("Unexpected callback case");return}const Ae=this.actionHandler[re.action];if(!Ae)throw new Error(`Unknown action from worker: ${re.action}`);if(re.callbackId){const ge=this.sourceName,Se=re.sourceName;new Promise(function(fe){fe(Ae(re.data))}).then(function(fe){de.postMessage({sourceName:ge,targetName:Se,callback:ie.DATA,callbackId:re.callbackId,data:fe})},function(fe){de.postMessage({sourceName:ge,targetName:Se,callback:ie.ERROR,callbackId:re.callbackId,reason:le(fe)})});return}if(re.streamId){this._createStreamSink(re);return}Ae(re.data)},de.addEventListener("message",this._onComObjOnMessage)}on(ae,he){const de=this.actionHandler;if(de[ae])throw new Error(`There is already an actionName called "${ae}"`);de[ae]=he}send(ae,he,de){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ae,data:he},de)}sendWithPromise(ae,he,de){const pe=this.callbackId++,re=(0,ne.createPromiseCapability)();this.callbackCapabilities[pe]=re;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ae,callbackId:pe,data:he},de)}catch(Ae){re.reject(Ae)}return re.promise}sendWithStream(ae,he,de,pe){const re=this.streamId++,Ae=this.sourceName,ge=this.targetName,Se=this.comObj;return new ReadableStream({start:fe=>{const be=(0,ne.createPromiseCapability)();return this.streamControllers[re]={controller:fe,startCall:be,pullCall:null,cancelCall:null,isClosed:!1},Se.postMessage({sourceName:Ae,targetName:ge,action:ae,streamId:re,data:he,desiredSize:fe.desiredSize},pe),be.promise},pull:fe=>{const be=(0,ne.createPromiseCapability)();return this.streamControllers[re].pullCall=be,Se.postMessage({sourceName:Ae,targetName:ge,stream:se.PULL,streamId:re,desiredSize:fe.desiredSize}),be.promise},cancel:fe=>{(0,ne.assert)(fe instanceof Error,"cancel must have a valid reason");const be=(0,ne.createPromiseCapability)();return this.streamControllers[re].cancelCall=be,this.streamControllers[re].isClosed=!0,Se.postMessage({sourceName:Ae,targetName:ge,stream:se.CANCEL,streamId:re,reason:le(fe)}),be.promise}},de)}_createStreamSink(ae){const he=ae.streamId,de=this.sourceName,pe=ae.sourceName,re=this.comObj,Ae=this,ge=this.actionHandler[ae.action],Se={enqueue(fe,be=1,xe){if(this.isCancelled)return;const ue=this.desiredSize;this.desiredSize-=be,ue>0&&this.desiredSize<=0&&(this.sinkCapability=(0,ne.createPromiseCapability)(),this.ready=this.sinkCapability.promise),re.postMessage({sourceName:de,targetName:pe,stream:se.ENQUEUE,streamId:he,chunk:fe},xe)},close(){this.isCancelled||(this.isCancelled=!0,re.postMessage({sourceName:de,targetName:pe,stream:se.CLOSE,streamId:he}),delete Ae.streamSinks[he])},error(fe){(0,ne.assert)(fe instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,re.postMessage({sourceName:de,targetName:pe,stream:se.ERROR,streamId:he,reason:le(fe)}))},sinkCapability:(0,ne.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ae.desiredSize,ready:null};Se.sinkCapability.resolve(),Se.ready=Se.sinkCapability.promise,this.streamSinks[he]=Se,new Promise(function(fe){fe(ge(ae.data,Se))}).then(function(){re.postMessage({sourceName:de,targetName:pe,stream:se.START_COMPLETE,streamId:he,success:!0})},function(fe){re.postMessage({sourceName:de,targetName:pe,stream:se.START_COMPLETE,streamId:he,reason:le(fe)})})}_processStreamMessage(ae){const he=ae.streamId,de=this.sourceName,pe=ae.sourceName,re=this.comObj,Ae=this.streamControllers[he],ge=this.streamSinks[he];switch(ae.stream){case se.START_COMPLETE:ae.success?Ae.startCall.resolve():Ae.startCall.reject(le(ae.reason));break;case se.PULL_COMPLETE:ae.success?Ae.pullCall.resolve():Ae.pullCall.reject(le(ae.reason));break;case se.PULL:if(!ge){re.postMessage({sourceName:de,targetName:pe,stream:se.PULL_COMPLETE,streamId:he,success:!0});break}ge.desiredSize<=0&&ae.desiredSize>0&&ge.sinkCapability.resolve(),ge.desiredSize=ae.desiredSize,new Promise(function(Se){Se(ge.onPull&&ge.onPull())}).then(function(){re.postMessage({sourceName:de,targetName:pe,stream:se.PULL_COMPLETE,streamId:he,success:!0})},function(Se){re.postMessage({sourceName:de,targetName:pe,stream:se.PULL_COMPLETE,streamId:he,reason:le(Se)})});break;case se.ENQUEUE:if((0,ne.assert)(Ae,"enqueue should have stream controller"),Ae.isClosed)break;Ae.controller.enqueue(ae.chunk);break;case se.CLOSE:if((0,ne.assert)(Ae,"close should have stream controller"),Ae.isClosed)break;Ae.isClosed=!0,Ae.controller.close(),this._deleteStreamController(Ae,he);break;case se.ERROR:(0,ne.assert)(Ae,"error should have stream controller"),Ae.controller.error(le(ae.reason)),this._deleteStreamController(Ae,he);break;case se.CANCEL_COMPLETE:ae.success?Ae.cancelCall.resolve():Ae.cancelCall.reject(le(ae.reason)),this._deleteStreamController(Ae,he);break;case se.CANCEL:if(!ge)break;new Promise(function(Se){Se(ge.onCancel&&ge.onCancel(le(ae.reason)))}).then(function(){re.postMessage({sourceName:de,targetName:pe,stream:se.CANCEL_COMPLETE,streamId:he,success:!0})},function(Se){re.postMessage({sourceName:de,targetName:pe,stream:se.CANCEL_COMPLETE,streamId:he,reason:le(Se)})}),ge.sinkCapability.reject(le(ae.reason)),ge.isCancelled=!0,delete this.streamSinks[he];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(ae,he){await Promise.allSettled([ae.startCall&&ae.startCall.promise,ae.pullCall&&ae.pullCall.promise,ae.cancelCall&&ae.cancelCall.promise]),delete this.streamControllers[he]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=oe},(ee,$,te)=>{var se,le;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var ne=te(1);class ie{constructor({parsedData:ce,rawData:ae}){Fn(this,se);Fn(this,le);Pn(this,se,ce),Pn(this,le,ae)}getRaw(){return It(this,le)}get(ce){return It(this,se).get(ce)??null}getAll(){return(0,ne.objectFromMap)(It(this,se))}has(ce){return It(this,se).has(ce)}}se=new WeakMap,le=new WeakMap,$.Metadata=ie},(ee,$,te)=>{var oe,ce,ae,he,de,pe,Bl;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var ne=te(1);const ie=Symbol("INTERNAL");class se{constructor(ge,Se){Fn(this,oe,!0);this.name=ge,this.intent=Se}get visible(){return It(this,oe)}_setVisible(ge,Se){ge!==ie&&(0,ne.unreachable)("Internal method `_setVisible` called."),Pn(this,oe,Se)}}oe=new WeakMap;class le{constructor(ge){Fn(this,pe);Fn(this,ce,!0);Fn(this,ae,new Map);Fn(this,he,null);Fn(this,de,null);if(this.name=null,this.creator=null,ge!==null){this.name=ge.name,this.creator=ge.creator,Pn(this,de,ge.order);for(const Se of ge.groups)It(this,ae).set(Se.id,new se(Se.name,Se.intent));if(ge.baseState==="OFF")for(const Se of It(this,ae).values())Se._setVisible(ie,!1);for(const Se of ge.on)It(this,ae).get(Se)._setVisible(ie,!0);for(const Se of ge.off)It(this,ae).get(Se)._setVisible(ie,!1);Pn(this,he,new Map);for(const[Se,fe]of It(this,ae))It(this,he).set(Se,fe.visible)}}isVisible(ge){if(It(this,ae).size===0)return!0;if(!ge)return(0,ne.warn)("Optional content group not defined."),!0;if(ge.type==="OCG")return It(this,ae).has(ge.id)?It(this,ae).get(ge.id).visible:((0,ne.warn)(`Optional content group not found: ${ge.id}`),!0);if(ge.type==="OCMD"){if(ge.expression)return bn(this,pe,Bl).call(this,ge.expression);if(!ge.policy||ge.policy==="AnyOn"){for(const Se of ge.ids){if(!It(this,ae).has(Se))return(0,ne.warn)(`Optional content group not found: ${Se}`),!0;if(It(this,ae).get(Se).visible)return!0}return!1}else if(ge.policy==="AllOn"){for(const Se of ge.ids){if(!It(this,ae).has(Se))return(0,ne.warn)(`Optional content group not found: ${Se}`),!0;if(!It(this,ae).get(Se).visible)return!1}return!0}else if(ge.policy==="AnyOff"){for(const Se of ge.ids){if(!It(this,ae).has(Se))return(0,ne.warn)(`Optional content group not found: ${Se}`),!0;if(!It(this,ae).get(Se).visible)return!0}return!1}else if(ge.policy==="AllOff"){for(const Se of ge.ids){if(!It(this,ae).has(Se))return(0,ne.warn)(`Optional content group not found: ${Se}`),!0;if(It(this,ae).get(Se).visible)return!1}return!0}return(0,ne.warn)(`Unknown optional content policy ${ge.policy}.`),!0}return(0,ne.warn)(`Unknown group type ${ge.type}.`),!0}setVisibility(ge,Se=!0){if(!It(this,ae).has(ge)){(0,ne.warn)(`Optional content group not found: ${ge}`);return}It(this,ae).get(ge)._setVisible(ie,!!Se),Pn(this,ce,null)}get hasInitialVisibility(){if(It(this,ce)!==null)return It(this,ce);for(const[ge,Se]of It(this,ae)){const fe=It(this,he).get(ge);if(Se.visible!==fe)return Pn(this,ce,!1)}return Pn(this,ce,!0)}getOrder(){return It(this,ae).size?It(this,de)?It(this,de).slice():[...It(this,ae).keys()]:null}getGroups(){return It(this,ae).size>0?(0,ne.objectFromMap)(It(this,ae)):null}getGroup(ge){return It(this,ae).get(ge)||null}}ce=new WeakMap,ae=new WeakMap,he=new WeakMap,de=new WeakMap,pe=new WeakSet,Bl=function(ge){const Se=ge.length;if(Se<2)return!0;const fe=ge[0];for(let be=1;be<Se;be++){const xe=ge[be];let ue;if(Array.isArray(xe))ue=bn(this,pe,Bl).call(this,xe);else if(It(this,ae).has(xe))ue=It(this,ae).get(xe).visible;else return(0,ne.warn)(`Optional content group not found: ${xe}`),!0;switch(fe){case"And":if(!ue)return!1;break;case"Or":if(ue)return!0;break;case"Not":return!ue;default:return!0}}return fe==="And"},$.OptionalContentConfig=le},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var ne=te(1),ie=te(8);class se{constructor(ae,he){(0,ne.assert)(he,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ae.progressiveDone||!1,this._contentDispositionFilename=ae.contentDispositionFilename||null;const de=ae.initialData;if((de==null?void 0:de.length)>0){const pe=new Uint8Array(de).buffer;this._queuedChunks.push(pe)}this._pdfDataRangeTransport=he,this._isStreamingSupported=!ae.disableStream,this._isRangeSupported=!ae.disableRange,this._contentLength=ae.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((pe,re)=>{this._onReceiveData({begin:pe,chunk:re})}),this._pdfDataRangeTransport.addProgressListener((pe,re)=>{this._onProgress({loaded:pe,total:re})}),this._pdfDataRangeTransport.addProgressiveReadListener(pe=>{this._onReceiveData({chunk:pe})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(ae){const he=new Uint8Array(ae.chunk).buffer;if(ae.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(he):this._queuedChunks.push(he);else{const de=this._rangeReaders.some(function(pe){return pe._begin!==ae.begin?!1:(pe._enqueue(he),!0)});(0,ne.assert)(de,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ae;return((ae=this._fullRequestReader)==null?void 0:ae._loaded)??0}_onProgress(ae){if(ae.total===void 0){const he=this._rangeReaders[0];he!=null&&he.onProgress&&he.onProgress({loaded:ae.loaded})}else{const he=this._fullRequestReader;he!=null&&he.onProgress&&he.onProgress({loaded:ae.loaded,total:ae.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ae){const he=this._rangeReaders.indexOf(ae);he>=0&&this._rangeReaders.splice(he,1)}getFullReader(){(0,ne.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ae=this._queuedChunks;return this._queuedChunks=null,new le(this,ae,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ae,he){if(he<=this._progressiveDataLength)return null;const de=new oe(this,ae,he);return this._pdfDataRangeTransport.requestDataRange(ae,he),this._rangeReaders.push(de),de}cancelAllRequests(ae){this._fullRequestReader&&this._fullRequestReader.cancel(ae);for(const he of this._rangeReaders.slice(0))he.cancel(ae);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=se;class le{constructor(ae,he,de=!1,pe=null){this._stream=ae,this._done=de||!1,this._filename=(0,ie.isPdfFile)(pe)?pe:null,this._queuedChunks=he||[],this._loaded=0;for(const re of this._queuedChunks)this._loaded+=re.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ae._fullRequestReader=this,this.onProgress=null}_enqueue(ae){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ae,done:!1}):this._queuedChunks.push(ae),this._loaded+=ae.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ae=(0,ne.createPromiseCapability)();return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0;for(const he of this._requests)he.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class oe{constructor(ae,he,de){this._stream=ae,this._begin=he,this._end=de,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ae){if(!this._done){if(this._requests.length===0)this._queuedChunk=ae;else{this._requests.shift().resolve({value:ae,done:!1});for(const de of this._requests)de.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const he=this._queuedChunk;return this._queuedChunk=null,{value:he,done:!1}}if(this._done)return{value:void 0,done:!0};const ae=(0,ne.createPromiseCapability)();return this._requests.push(ae),ae.promise}cancel(ae){this._done=!0;for(const he of this._requests)he.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ee,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class te{static textContent(ie){const se=[],le={items:se,styles:Object.create(null)};function oe(ce){var de;if(!ce)return;let ae=null;const he=ce.name;if(he==="#text")ae=ce.value;else if(te.shouldBuildText(he))(de=ce==null?void 0:ce.attributes)!=null&&de.textContent?ae=ce.attributes.textContent:ce.value&&(ae=ce.value);else return;if(ae!==null&&se.push({str:ae}),!!ce.children)for(const pe of ce.children)oe(pe)}return oe(ie),le}static shouldBuildText(ie){return!(ie==="textarea"||ie==="input"||ie==="option"||ie==="select")}}$.XfaText=te},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var ne=te(9);const ie=function(ce){return new Promise((ae,he)=>{require$$5.readFile(ce,(pe,re)=>{if(pe||!re){he(new Error(pe));return}ae(new Uint8Array(re))})})};class se extends ne.BaseCanvasFactory{_createCanvas(ae,he){return require$$5.createCanvas(ae,he)}}$.NodeCanvasFactory=se;class le extends ne.BaseCMapReaderFactory{_fetchData(ae,he){return ie(ae).then(de=>({cMapData:de,compressionType:he}))}}$.NodeCMapReaderFactory=le;class oe extends ne.BaseStandardFontDataFactory{_fetchData(ae){return ie(ae)}}$.NodeStandardFontDataFactory=oe},(ee,$,te)=>{var ce,ae,he,de,pe,re,Ae,ge,Se,Ul,Bu,Hl,Uu;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var ne=te(7),ie=te(1),se=te(23),le=te(24);const we=class we{constructor(_e){Fn(this,Se);Fn(this,ce);Fn(this,ae,!1);Fn(this,he,this.pointerup.bind(this));Fn(this,de,this.pointerdown.bind(this));Fn(this,pe,new Map);Fn(this,re,!1);Fn(this,Ae,!1);Fn(this,ge);we._initialized||(we._initialized=!0,se.FreeTextEditor.initialize(_e.l10n),le.InkEditor.initialize(_e.l10n),_e.uiManager.registerEditorTypes([se.FreeTextEditor,le.InkEditor])),Pn(this,ge,_e.uiManager),this.annotationStorage=_e.annotationStorage,this.pageIndex=_e.pageIndex,this.div=_e.div,Pn(this,ce,_e.accessibilityManager),It(this,ge).addLayer(this)}updateToolbar(_e){It(this,ge).updateToolbar(_e)}updateMode(_e=It(this,ge).getMode()){bn(this,Se,Uu).call(this),_e===ie.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),It(this,ge).unselectAll()}addInkEditorIfNeeded(_e){if(!_e&&It(this,ge).getMode()!==ie.AnnotationEditorType.INK)return;if(!_e){for(const Ce of It(this,pe).values())if(Ce.isEmpty()){Ce.setInBackground();return}}bn(this,Se,Hl).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(_e){It(this,ge).setEditingState(_e)}addCommands(_e){It(this,ge).addCommands(_e)}enable(){this.div.style.pointerEvents="auto";for(const _e of It(this,pe).values())_e.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const _e of It(this,pe).values())_e.disableEditing()}setActiveEditor(_e){It(this,ge).getActive()!==_e&&It(this,ge).setActiveEditor(_e)}enableClick(){this.div.addEventListener("pointerdown",It(this,de)),this.div.addEventListener("pointerup",It(this,he))}disableClick(){this.div.removeEventListener("pointerdown",It(this,de)),this.div.removeEventListener("pointerup",It(this,he))}attach(_e){It(this,pe).set(_e.id,_e)}detach(_e){var Ee;It(this,pe).delete(_e.id),(Ee=It(this,ce))==null||Ee.removePointerInTextLayer(_e.contentDiv)}remove(_e){It(this,ge).removeEditor(_e),this.detach(_e),this.annotationStorage.remove(_e.id),_e.div.style.display="none",setTimeout(()=>{_e.div.style.display="",_e.div.remove(),_e.isAttachedToDOM=!1,document.activeElement===document.body&&It(this,ge).focusMainContainer()},0),It(this,Ae)||this.addInkEditorIfNeeded(!1)}add(_e){if(bn(this,Se,Ul).call(this,_e),It(this,ge).addEditor(_e),this.attach(_e),!_e.isAttachedToDOM){const Ee=_e.render();this.div.append(Ee),_e.isAttachedToDOM=!0}this.moveEditorInDOM(_e),_e.onceAdded(),this.addToAnnotationStorage(_e)}moveEditorInDOM(_e){var Ee;(Ee=It(this,ce))==null||Ee.moveElementInDOM(this.div,_e.div,_e.contentDiv,!0)}addToAnnotationStorage(_e){!_e.isEmpty()&&!this.annotationStorage.has(_e.id)&&this.annotationStorage.setValue(_e.id,_e)}addOrRebuild(_e){_e.needsToBeRebuilt()?_e.rebuild():this.add(_e)}addANewEditor(_e){const Ee=()=>{this.addOrRebuild(_e)},Ce=()=>{_e.remove()};this.addCommands({cmd:Ee,undo:Ce,mustExec:!0})}addUndoableEditor(_e){const Ee=()=>{this.addOrRebuild(_e)},Ce=()=>{_e.remove()};this.addCommands({cmd:Ee,undo:Ce,mustExec:!1})}getNextId(){return It(this,ge).getId()}deserialize(_e){switch(_e.annotationType){case ie.AnnotationEditorType.FREETEXT:return se.FreeTextEditor.deserialize(_e,this);case ie.AnnotationEditorType.INK:return le.InkEditor.deserialize(_e,this)}return null}setSelected(_e){It(this,ge).setSelected(_e)}toggleSelected(_e){It(this,ge).toggleSelected(_e)}isSelected(_e){return It(this,ge).isSelected(_e)}unselect(_e){It(this,ge).unselect(_e)}pointerup(_e){const Ee=ne.KeyboardManager.platform.isMac;if(!(_e.button!==0||_e.ctrlKey&&Ee)&&_e.target===this.div&&It(this,re)){if(Pn(this,re,!1),!It(this,ae)){Pn(this,ae,!0);return}bn(this,Se,Hl).call(this,_e)}}pointerdown(_e){const Ee=ne.KeyboardManager.platform.isMac;if(_e.button!==0||_e.ctrlKey&&Ee||_e.target!==this.div)return;Pn(this,re,!0);const Ce=It(this,ge).getActive();Pn(this,ae,!Ce||Ce.isEmpty())}drop(_e){const Ee=_e.dataTransfer.getData("text/plain"),Ce=It(this,ge).getEditor(Ee);if(!Ce)return;_e.preventDefault(),_e.dataTransfer.dropEffect="move",bn(this,Se,Ul).call(this,Ce);const ye=this.div.getBoundingClientRect(),Re=_e.clientX-ye.x,Ye=_e.clientY-ye.y;Ce.translate(Re-Ce.startX,Ye-Ce.startY),this.moveEditorInDOM(Ce),Ce.div.focus()}dragover(_e){_e.preventDefault()}destroy(){var _e,Ee;((_e=It(this,ge).getActive())==null?void 0:_e.parent)===this&&It(this,ge).setActiveEditor(null);for(const Ce of It(this,pe).values())(Ee=It(this,ce))==null||Ee.removePointerInTextLayer(Ce.contentDiv),Ce.isAttachedToDOM=!1,Ce.div.remove(),Ce.parent=null;this.div=null,It(this,pe).clear(),It(this,ge).removeLayer(this)}render(_e){this.viewport=_e.viewport,(0,ne.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Ee of It(this,ge).getEditors(this.pageIndex))this.add(Ee);this.updateMode()}update(_e){this.viewport=_e.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[_e,Ee,Ce,ye]=this.viewport.viewBox,Re=Ce-_e,Ye=ye-Ee;return[Re,Ye]}get viewportBaseDimensions(){const{width:_e,height:Ee,rotation:Ce}=this.viewport;return Ce%180===0?[_e,Ee]:[Ee,_e]}setDimensions(){const{width:_e,height:Ee,rotation:Ce}=this.viewport,ye=Ce%180!==0,Re=Math.floor(_e)+"px",Ye=Math.floor(Ee)+"px";this.div.style.width=ye?Ye:Re,this.div.style.height=ye?Re:Ye,this.div.setAttribute("data-main-rotation",Ce)}};ce=new WeakMap,ae=new WeakMap,he=new WeakMap,de=new WeakMap,pe=new WeakMap,re=new WeakMap,Ae=new WeakMap,ge=new WeakMap,Se=new WeakSet,Ul=function(_e){var Ee;_e.parent!==this&&(this.attach(_e),_e.pageIndex=this.pageIndex,(Ee=_e.parent)==null||Ee.detach(_e),_e.parent=this,_e.div&&_e.isAttachedToDOM&&(_e.div.remove(),this.div.append(_e.div)))},Bu=function(_e){switch(It(this,ge).getMode()){case ie.AnnotationEditorType.FREETEXT:return new se.FreeTextEditor(_e);case ie.AnnotationEditorType.INK:return new le.InkEditor(_e)}return null},Hl=function(_e){const Ee=this.getNextId(),Ce=bn(this,Se,Bu).call(this,{parent:this,id:Ee,x:_e.offsetX,y:_e.offsetY});return Ce&&this.add(Ce),Ce},Uu=function(){Pn(this,Ae,!0);for(const _e of It(this,pe).values())_e.isEmpty()&&_e.remove();Pn(this,Ae,!1)},vi(we,"_initialized",!1);let oe=we;$.AnnotationEditorLayer=oe},(ee,$,te)=>{var oe,ce,ae,he,de,pe,re,Ae,Hu,zu,Vu,zl;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var ne=te(1),ie=te(7),se=te(6);const xe=class xe extends se.AnnotationEditor{constructor(Fe){super({...Fe,name:"freeTextEditor"});Fn(this,Ae);Fn(this,oe,this.editorDivBlur.bind(this));Fn(this,ce,this.editorDivFocus.bind(this));Fn(this,ae,this.editorDivKeydown.bind(this));Fn(this,he);Fn(this,de,"");Fn(this,pe,!1);Fn(this,re);Pn(this,he,Fe.color||xe._defaultColor||se.AnnotationEditor._defaultLineColor),Pn(this,re,Fe.fontSize||xe._defaultFontSize)}static initialize(Fe){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(Ee=>[Ee,Fe.get(Ee)]));const _e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(_e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Fe,_e){switch(Fe){case ne.AnnotationEditorParamsType.FREETEXT_SIZE:xe._defaultFontSize=_e;break;case ne.AnnotationEditorParamsType.FREETEXT_COLOR:xe._defaultColor=_e;break}}updateParams(Fe,_e){switch(Fe){case ne.AnnotationEditorParamsType.FREETEXT_SIZE:bn(this,Ae,Hu).call(this,_e);break;case ne.AnnotationEditorParamsType.FREETEXT_COLOR:bn(this,Ae,zu).call(this,_e);break}}static get defaultPropertiesToUpdate(){return[[ne.AnnotationEditorParamsType.FREETEXT_SIZE,xe._defaultFontSize],[ne.AnnotationEditorParamsType.FREETEXT_COLOR,xe._defaultColor||se.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[ne.AnnotationEditorParamsType.FREETEXT_SIZE,It(this,re)],[ne.AnnotationEditorParamsType.FREETEXT_COLOR,It(this,he)]]}getInitialTranslation(){return[-xe._internalPadding*this.parent.scaleFactor,-(xe._internalPadding+It(this,re))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(ne.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",It(this,ae)),this.editorDiv.addEventListener("focus",It(this,ce)),this.editorDiv.addEventListener("blur",It(this,oe)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",It(this,ae)),this.editorDiv.removeEventListener("focus",It(this,ce)),this.editorDiv.removeEventListener("blur",It(this,oe)),this.div.focus(),this.isEditing=!1)}focusin(Fe){super.focusin(Fe),Fe.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),It(this,pe)||(Pn(this,pe,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Pn(this,de,bn(this,Ae,Vu).call(this).trimEnd()),bn(this,Ae,zl).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Fe){this.enableEditMode(),this.editorDiv.focus()}keydown(Fe){Fe.target===this.div&&Fe.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Fe){xe._keyboardManager.exec(this,Fe)}editorDivFocus(Fe){this.isEditing=!0}editorDivBlur(Fe){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Fe,_e;this.width&&(Fe=this.x,_e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),xe._l10nPromise.get("editor_free_text_aria_label").then(Ce=>{var ye;return(ye=this.editorDiv)==null?void 0:ye.setAttribute("aria-label",Ce)}),xe._l10nPromise.get("free_text_default_content").then(Ce=>{var ye;return(ye=this.editorDiv)==null?void 0:ye.setAttribute("default-content",Ce)}),this.editorDiv.contentEditable=!0;const{style:Ee}=this.editorDiv;if(Ee.fontSize=`calc(${It(this,re)}px * var(--scale-factor))`,Ee.color=It(this,he),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,ie.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ce,ye]=this.parent.viewportBaseDimensions;this.setAt(Fe*Ce,_e*ye,this.width*Ce,this.height*ye);for(const Re of It(this,de).split(`
`)){const Ye=document.createElement("div");Ye.append(Re?document.createTextNode(Re):document.createElement("br")),this.editorDiv.append(Ye)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Fe,_e){const Ee=super.deserialize(Fe,_e);return Pn(Ee,re,Fe.fontSize),Pn(Ee,he,ne.Util.makeHexColor(...Fe.color)),Pn(Ee,de,Fe.value),Ee}serialize(){if(this.isEmpty())return null;const Fe=xe._internalPadding*this.parent.scaleFactor,_e=this.getRect(Fe,Fe),Ee=se.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:ne.AnnotationEditorType.FREETEXT,color:Ee,fontSize:It(this,re),value:It(this,de),pageIndex:this.parent.pageIndex,rect:_e,rotation:this.rotation}}};oe=new WeakMap,ce=new WeakMap,ae=new WeakMap,he=new WeakMap,de=new WeakMap,pe=new WeakMap,re=new WeakMap,Ae=new WeakSet,Hu=function(Fe){const _e=Ce=>{this.editorDiv.style.fontSize=`calc(${Ce}px * var(--scale-factor))`,this.translate(0,-(Ce-It(this,re))*this.parent.scaleFactor),Pn(this,re,Ce),bn(this,Ae,zl).call(this)},Ee=It(this,re);this.parent.addCommands({cmd:()=>{_e(Fe)},undo:()=>{_e(Ee)},mustExec:!0,type:ne.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},zu=function(Fe){const _e=It(this,he);this.parent.addCommands({cmd:()=>{Pn(this,he,Fe),this.editorDiv.style.color=Fe},undo:()=>{Pn(this,he,_e),this.editorDiv.style.color=_e},mustExec:!0,type:ne.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Vu=function(){const Fe=this.editorDiv.getElementsByTagName("div");if(Fe.length===0)return this.editorDiv.innerText;const _e=[];for(let Ee=0,Ce=Fe.length;Ee<Ce;Ee++){const Re=Fe[Ee].firstChild;(Re==null?void 0:Re.nodeName)==="#text"?_e.push(Re.data):_e.push("")}return _e.join(`
`)},zl=function(){const[Fe,_e]=this.parent.viewportBaseDimensions,Ee=this.div.getBoundingClientRect();this.width=Ee.width/Fe,this.height=Ee.height/_e},vi(xe,"_freeTextDefaultContent",""),vi(xe,"_l10nPromise"),vi(xe,"_internalPadding",0),vi(xe,"_defaultColor",null),vi(xe,"_defaultFontSize",10),vi(xe,"_keyboardManager",new ie.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],xe.prototype.commitOrRemove]])),vi(xe,"_type","freetext");let le=xe;$.FreeTextEditor=le},(ee,$,te)=>{var ae,he,de,pe,re,Ae,ge,Se,fe,be,xe,ue,we,Fe,_e,ju,$u,Gu,Xu,Vl,Wu,qu,Yu,Dr,jl,mo,go,us,$l,xo,Le,Gl,Ku,Zu,Qu,Xl,yo,hs,Wl;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return se.fitCurve}});var ne=te(1),ie=te(6),se=te(25),le=te(7);const oe=16,Ge=class Ge extends ie.AnnotationEditor{constructor(nt){super({...nt,name:"inkEditor"});Fn(this,_e);Fn(this,ae,0);Fn(this,he,0);Fn(this,de,0);Fn(this,pe,this.canvasPointermove.bind(this));Fn(this,re,this.canvasPointerleave.bind(this));Fn(this,Ae,this.canvasPointerup.bind(this));Fn(this,ge,this.canvasPointerdown.bind(this));Fn(this,Se,!1);Fn(this,fe,!1);Fn(this,be,null);Fn(this,xe,null);Fn(this,ue,0);Fn(this,we,0);Fn(this,Fe,null);this.color=nt.color||null,this.thickness=nt.thickness||null,this.opacity=nt.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(nt){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(Qe=>[Qe,nt.get(Qe)]))}static updateDefaultParams(nt,Qe){switch(nt){case ne.AnnotationEditorParamsType.INK_THICKNESS:Ge._defaultThickness=Qe;break;case ne.AnnotationEditorParamsType.INK_COLOR:Ge._defaultColor=Qe;break;case ne.AnnotationEditorParamsType.INK_OPACITY:Ge._defaultOpacity=Qe/100;break}}updateParams(nt,Qe){switch(nt){case ne.AnnotationEditorParamsType.INK_THICKNESS:bn(this,_e,ju).call(this,Qe);break;case ne.AnnotationEditorParamsType.INK_COLOR:bn(this,_e,$u).call(this,Qe);break;case ne.AnnotationEditorParamsType.INK_OPACITY:bn(this,_e,Gu).call(this,Qe);break}}static get defaultPropertiesToUpdate(){return[[ne.AnnotationEditorParamsType.INK_THICKNESS,Ge._defaultThickness],[ne.AnnotationEditorParamsType.INK_COLOR,Ge._defaultColor||ie.AnnotationEditor._defaultLineColor],[ne.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ge._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ne.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ge._defaultThickness],[ne.AnnotationEditorParamsType.INK_COLOR,this.color||Ge._defaultColor||ie.AnnotationEditor._defaultLineColor],[ne.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Ge._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(bn(this,_e,mo).call(this),bn(this,_e,go).call(this)),this.isAttachedToDOM||(this.parent.add(this),bn(this,_e,us).call(this)),bn(this,_e,hs).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,It(this,xe).disconnect(),Pn(this,xe,null),super.remove())}enableEditMode(){It(this,Se)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",It(this,ge)),this.canvas.addEventListener("pointerup",It(this,Ae)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",It(this,ge)),this.canvas.removeEventListener("pointerup",It(this,Ae)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){It(this,Se)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Pn(this,Se,!0),this.div.classList.add("disabled"),bn(this,_e,hs).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(nt){super.focusin(nt),this.enableEditMode()}canvasPointerdown(nt){nt.button!==0||!this.isInEditMode()||It(this,Se)||(this.setInForeground(),nt.type!=="mouse"&&this.div.focus(),nt.stopPropagation(),this.canvas.addEventListener("pointerleave",It(this,re)),this.canvas.addEventListener("pointermove",It(this,pe)),bn(this,_e,Wu).call(this,nt.offsetX,nt.offsetY))}canvasPointermove(nt){nt.stopPropagation(),bn(this,_e,qu).call(this,nt.offsetX,nt.offsetY)}canvasPointerup(nt){nt.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(nt.stopPropagation(),bn(this,_e,jl).call(this,nt),this.setInBackground())}canvasPointerleave(nt){bn(this,_e,jl).call(this,nt),this.setInBackground()}render(){if(this.div)return this.div;let nt,Qe;this.width&&(nt=this.x,Qe=this.y),super.render(),Ge._l10nPromise.get("editor_ink_aria_label").then(at=>{var Je;return(Je=this.div)==null?void 0:Je.setAttribute("aria-label",at)});const[We,rt,et,ct]=bn(this,_e,Xu).call(this);if(this.setAt(We,rt,0,0),this.setDims(et,ct),bn(this,_e,mo).call(this),this.width){const[at,Je]=this.parent.viewportBaseDimensions;this.setAt(nt*at,Qe*Je,this.width*at,this.height*Je),Pn(this,fe,!0),bn(this,_e,us).call(this),this.setDims(this.width*at,this.height*Je),bn(this,_e,Dr).call(this),bn(this,_e,Wl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return bn(this,_e,go).call(this),this.div}setDimensions(nt,Qe){const We=Math.round(nt),rt=Math.round(Qe);if(It(this,ue)===We&&It(this,we)===rt)return;Pn(this,ue,We),Pn(this,we,rt),this.canvas.style.visibility="hidden",It(this,ae)&&Math.abs(It(this,ae)-nt/Qe)>.01&&(Qe=Math.ceil(nt/It(this,ae)),this.setDims(nt,Qe));const[et,ct]=this.parent.viewportBaseDimensions;this.width=nt/et,this.height=Qe/ct,It(this,Se)&&bn(this,_e,$l).call(this,nt,Qe),bn(this,_e,us).call(this),bn(this,_e,Dr).call(this),this.canvas.style.visibility="visible"}static deserialize(nt,Qe){var ft,pt;const We=super.deserialize(nt,Qe);We.thickness=nt.thickness,We.color=ne.Util.makeHexColor(...nt.color),We.opacity=nt.opacity;const[rt,et]=Qe.pageDimensions,ct=We.width*rt,at=We.height*et,Je=Qe.scaleFactor,lt=nt.thickness/2;Pn(We,ae,ct/at),Pn(We,Se,!0),Pn(We,ue,Math.round(ct)),Pn(We,we,Math.round(at));for(const{bezier:mt}of nt.paths){const xt=[];We.paths.push(xt);let vt=Je*(mt[0]-lt),wt=Je*(at-mt[1]-lt);for(let Tt=2,Lt=mt.length;Tt<Lt;Tt+=6){const jt=Je*(mt[Tt]-lt),Bt=Je*(at-mt[Tt+1]-lt),St=Je*(mt[Tt+2]-lt),Ft=Je*(at-mt[Tt+3]-lt),Ct=Je*(mt[Tt+4]-lt),yt=Je*(at-mt[Tt+5]-lt);xt.push([[vt,wt],[jt,Bt],[St,Ft],[Ct,yt]]),vt=Ct,wt=yt}const _t=bn(this,Le,Gl).call(this,xt);We.bezierPath2D.push(_t)}const ut=bn(ft=We,_e,Xl).call(ft);return Pn(We,de,Math.max(oe,ut[2]-ut[0])),Pn(We,he,Math.max(oe,ut[3]-ut[1])),bn(pt=We,_e,$l).call(pt,ct,at),We}serialize(){if(this.isEmpty())return null;const nt=this.getRect(0,0),Qe=this.rotation%180===0?nt[3]-nt[1]:nt[2]-nt[0],We=ie.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ne.AnnotationEditorType.INK,color:We,thickness:this.thickness,opacity:this.opacity,paths:bn(this,_e,Ku).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Qe),pageIndex:this.parent.pageIndex,rect:nt,rotation:this.rotation}}};ae=new WeakMap,he=new WeakMap,de=new WeakMap,pe=new WeakMap,re=new WeakMap,Ae=new WeakMap,ge=new WeakMap,Se=new WeakMap,fe=new WeakMap,be=new WeakMap,xe=new WeakMap,ue=new WeakMap,we=new WeakMap,Fe=new WeakMap,_e=new WeakSet,ju=function(nt){const Qe=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=nt,bn(this,_e,hs).call(this)},undo:()=>{this.thickness=Qe,bn(this,_e,hs).call(this)},mustExec:!0,type:ne.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},$u=function(nt){const Qe=this.color;this.parent.addCommands({cmd:()=>{this.color=nt,bn(this,_e,Dr).call(this)},undo:()=>{this.color=Qe,bn(this,_e,Dr).call(this)},mustExec:!0,type:ne.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Gu=function(nt){nt/=100;const Qe=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=nt,bn(this,_e,Dr).call(this)},undo:()=>{this.opacity=Qe,bn(this,_e,Dr).call(this)},mustExec:!0,type:ne.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Xu=function(){const{width:nt,height:Qe,rotation:We}=this.parent.viewport;switch(We){case 90:return[0,nt,nt,Qe];case 180:return[nt,Qe,nt,Qe];case 270:return[Qe,0,nt,Qe];default:return[0,0,nt,Qe]}},Vl=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,le.opacityToHex)(this.opacity)}`},Wu=function(nt,Qe){this.isEditing=!0,It(this,fe)||(Pn(this,fe,!0),bn(this,_e,us).call(this),this.thickness||(this.thickness=Ge._defaultThickness),this.color||(this.color=Ge._defaultColor||ie.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Ge._defaultOpacity)),this.currentPath.push([nt,Qe]),Pn(this,be,null),bn(this,_e,Vl).call(this),this.ctx.beginPath(),this.ctx.moveTo(nt,Qe),Pn(this,Fe,()=>{It(this,Fe)&&(It(this,be)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):bn(this,_e,Dr).call(this),this.ctx.lineTo(...It(this,be)),Pn(this,be,null),this.ctx.stroke()),window.requestAnimationFrame(It(this,Fe)))}),window.requestAnimationFrame(It(this,Fe))},qu=function(nt,Qe){const[We,rt]=this.currentPath.at(-1);nt===We&&Qe===rt||(this.currentPath.push([nt,Qe]),Pn(this,be,[nt,Qe]))},Yu=function(nt,Qe){var lt;this.ctx.closePath(),Pn(this,Fe,null),nt=Math.min(Math.max(nt,0),this.canvas.width),Qe=Math.min(Math.max(Qe,0),this.canvas.height);const[We,rt]=this.currentPath.at(-1);(nt!==We||Qe!==rt)&&this.currentPath.push([nt,Qe]);let et;if(this.currentPath.length!==1)et=(0,se.fitCurve)(this.currentPath,30,null);else{const ut=[nt,Qe];et=[[ut,ut.slice(),ut.slice(),ut]]}const ct=bn(lt=Ge,Le,Gl).call(lt,et);this.currentPath.length=0;const at=()=>{this.paths.push(et),this.bezierPath2D.push(ct),this.rebuild()},Je=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(bn(this,_e,mo).call(this),bn(this,_e,go).call(this)),bn(this,_e,hs).call(this))};this.parent.addCommands({cmd:at,undo:Je,mustExec:!0})},Dr=function(){if(this.isEmpty()){bn(this,_e,xo).call(this);return}bn(this,_e,Vl).call(this);const{canvas:nt,ctx:Qe}=this;Qe.setTransform(1,0,0,1,0,0),Qe.clearRect(0,0,nt.width,nt.height),bn(this,_e,xo).call(this);for(const We of this.bezierPath2D)Qe.stroke(We)},jl=function(nt){bn(this,_e,Yu).call(this,nt.offsetX,nt.offsetY),this.canvas.removeEventListener("pointerleave",It(this,re)),this.canvas.removeEventListener("pointermove",It(this,pe)),this.parent.addToAnnotationStorage(this)},mo=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Ge._l10nPromise.get("editor_ink_canvas_aria_label").then(nt=>{var Qe;return(Qe=this.canvas)==null?void 0:Qe.setAttribute("aria-label",nt)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},go=function(){Pn(this,xe,new ResizeObserver(nt=>{const Qe=nt[0].contentRect;Qe.width&&Qe.height&&this.setDimensions(Qe.width,Qe.height)})),It(this,xe).observe(this.div)},us=function(){if(!It(this,fe))return;const[nt,Qe]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*nt),this.canvas.height=Math.ceil(this.height*Qe),bn(this,_e,xo).call(this)},$l=function(nt,Qe){const We=bn(this,_e,yo).call(this),rt=(nt-We)/It(this,de),et=(Qe-We)/It(this,he);this.scaleFactor=Math.min(rt,et)},xo=function(){const nt=bn(this,_e,yo).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+nt,this.translationY*this.scaleFactor+nt)},Le=new WeakSet,Gl=function(nt){const Qe=new Path2D;for(let We=0,rt=nt.length;We<rt;We++){const[et,ct,at,Je]=nt[We];We===0&&Qe.moveTo(...et),Qe.bezierCurveTo(ct[0],ct[1],at[0],at[1],Je[0],Je[1])}return Qe},Ku=function(nt,Qe,We,rt){const ct=[],at=this.thickness/2;let Je,lt;for(const ut of this.paths){Je=[],lt=[];for(let ft=0,pt=ut.length;ft<pt;ft++){const[mt,xt,vt,wt]=ut[ft],_t=nt*(mt[0]+Qe)+at,Tt=rt-nt*(mt[1]+We)-at,Lt=nt*(xt[0]+Qe)+at,jt=rt-nt*(xt[1]+We)-at,Bt=nt*(vt[0]+Qe)+at,St=rt-nt*(vt[1]+We)-at,Ft=nt*(wt[0]+Qe)+at,Ct=rt-nt*(wt[1]+We)-at;ft===0&&(Je.push(_t,Tt),lt.push(_t,Tt)),Je.push(Lt,jt,Bt,St,Ft,Ct),bn(this,_e,Zu).call(this,_t,Tt,Lt,jt,Bt,St,Ft,Ct,4,lt)}ct.push({bezier:Je,points:lt})}return ct},Zu=function(nt,Qe,We,rt,et,ct,at,Je,lt,ut){if(bn(this,_e,Qu).call(this,nt,Qe,We,rt,et,ct,at,Je)){ut.push(at,Je);return}for(let ft=1;ft<lt-1;ft++){const pt=ft/lt,mt=1-pt;let xt=pt*nt+mt*We,vt=pt*Qe+mt*rt,wt=pt*We+mt*et,_t=pt*rt+mt*ct;const Tt=pt*et+mt*at,Lt=pt*ct+mt*Je;xt=pt*xt+mt*wt,vt=pt*vt+mt*_t,wt=pt*wt+mt*Tt,_t=pt*_t+mt*Lt,xt=pt*xt+mt*wt,vt=pt*vt+mt*_t,ut.push(xt,vt)}ut.push(at,Je)},Qu=function(nt,Qe,We,rt,et,ct,at,Je){const ut=(3*We-2*nt-at)**2,ft=(3*rt-2*Qe-Je)**2,pt=(3*et-nt-2*at)**2,mt=(3*ct-Qe-2*Je)**2;return Math.max(ut,pt)+Math.max(ft,mt)<=10},Xl=function(){let nt=1/0,Qe=-1/0,We=1/0,rt=-1/0;for(const et of this.paths)for(const[ct,at,Je,lt]of et){const ut=ne.Util.bezierBoundingBox(...ct,...at,...Je,...lt);nt=Math.min(nt,ut[0]),We=Math.min(We,ut[1]),Qe=Math.max(Qe,ut[2]),rt=Math.max(rt,ut[3])}return[nt,We,Qe,rt]},yo=function(){return It(this,Se)?Math.ceil(this.thickness*this.parent.scaleFactor):0},hs=function(nt=!1){if(this.isEmpty())return;if(!It(this,Se)){bn(this,_e,Dr).call(this);return}const Qe=bn(this,_e,Xl).call(this),We=bn(this,_e,yo).call(this);Pn(this,de,Math.max(oe,Qe[2]-Qe[0])),Pn(this,he,Math.max(oe,Qe[3]-Qe[1]));const rt=Math.ceil(We+It(this,de)*this.scaleFactor),et=Math.ceil(We+It(this,he)*this.scaleFactor),[ct,at]=this.parent.viewportBaseDimensions;this.width=rt/ct,this.height=et/at,Pn(this,ae,rt/et),bn(this,_e,Wl).call(this);const Je=this.translationX,lt=this.translationY;this.translationX=-Qe[0],this.translationY=-Qe[1],bn(this,_e,us).call(this),bn(this,_e,Dr).call(this),Pn(this,ue,rt),Pn(this,we,et),this.setDims(rt,et);const ut=nt?We/this.scaleFactor/2:0;this.translate(Je-this.translationX-ut,lt-this.translationY-ut)},Wl=function(){const{style:nt}=this.div;It(this,ae)>=1?(nt.minHeight=`${oe}px`,nt.minWidth=`${Math.round(It(this,ae)*oe)}px`):(nt.minWidth=`${oe}px`,nt.minHeight=`${Math.round(oe/It(this,ae))}px`)},Fn(Ge,Le),vi(Ge,"_defaultColor",null),vi(Ge,"_defaultOpacity",1),vi(Ge,"_defaultThickness",1),vi(Ge,"_l10nPromise"),vi(Ge,"_type","ink");let ce=Ge;$.InkEditor=ce},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const ne=te(26);$.fitCurve=ne},ee=>{function $(Ae,ge,Se){if(!Array.isArray(Ae))throw new TypeError("First argument should be an array");if(Ae.forEach(ue=>{if(!Array.isArray(ue)||ue.some(we=>typeof we!="number")||ue.length!==Ae[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),Ae=Ae.filter((ue,we)=>we===0||!ue.every((Fe,_e)=>Fe===Ae[we-1][_e])),Ae.length<2)return[];const fe=Ae.length,be=de(Ae[1],Ae[0]),xe=de(Ae[fe-2],Ae[fe-1]);return te(Ae,be,xe,ge,Se)}function te(Ae,ge,Se,fe,be){var ue,we,Fe,_e,Ee,Ce,ye,Re,Ye,ke,$e,Be,Pe;if(Ae.length===2)return Be=pe.vectorLen(pe.subtract(Ae[0],Ae[1]))/3,ue=[Ae[0],pe.addArrays(Ae[0],pe.mulItems(ge,Be)),pe.addArrays(Ae[1],pe.mulItems(Se,Be)),Ae[1]],[ue];if(we=oe(Ae),[ue,_e,Ce]=ne(Ae,we,we,ge,Se,be),_e===0||_e<fe)return[ue];if(_e<fe*fe)for(Fe=we,Ee=_e,ye=Ce,Pe=0;Pe<20;Pe++){if(Fe=se(ue,Ae,Fe),[ue,_e,Ce]=ne(Ae,we,Fe,ge,Se,be),_e<fe)return[ue];if(Ce===ye){let Ue=_e/Ee;if(Ue>.9999&&Ue<1.0001)break}Ee=_e,ye=Ce}return $e=[],Re=pe.subtract(Ae[Ce-1],Ae[Ce+1]),Re.every(Ue=>Ue===0)&&(Re=pe.subtract(Ae[Ce-1],Ae[Ce]),[Re[0],Re[1]]=[-Re[1],Re[0]]),Ye=pe.normalize(Re),ke=pe.mulItems(Ye,-1),$e=$e.concat(te(Ae.slice(0,Ce+1),ge,Ye,fe,be)),$e=$e.concat(te(Ae.slice(Ce),ke,Se,fe,be)),$e}function ne(Ae,ge,Se,fe,be,xe){var ue,we,Fe;return ue=ie(Ae,Se,fe,be),[we,Fe]=ce(Ae,ue,ge),xe&&xe({bez:ue,points:Ae,params:ge,maxErr:we,maxPoint:Fe}),[ue,we,Fe]}function ie(Ae,ge,Se,fe){var be,xe,ue,we,Fe,_e,Ee,Ce,ye,Re,Ye,ke,$e,Be,Pe,Ue,Te,Me=Ae[0],Ve=Ae[Ae.length-1];for(be=[Me,null,null,Ve],xe=pe.zeros_Xx2x2(ge.length),$e=0,Be=ge.length;$e<Be;$e++)Ue=ge[$e],Te=1-Ue,ue=xe[$e],ue[0]=pe.mulItems(Se,3*Ue*(Te*Te)),ue[1]=pe.mulItems(fe,3*Te*(Ue*Ue));for(we=[[0,0],[0,0]],Fe=[0,0],$e=0,Be=Ae.length;$e<Be;$e++)Ue=ge[$e],ue=xe[$e],we[0][0]+=pe.dot(ue[0],ue[0]),we[0][1]+=pe.dot(ue[0],ue[1]),we[1][0]+=pe.dot(ue[0],ue[1]),we[1][1]+=pe.dot(ue[1],ue[1]),Pe=pe.subtract(Ae[$e],re.q([Me,Me,Ve,Ve],Ue)),Fe[0]+=pe.dot(ue[0],Pe),Fe[1]+=pe.dot(ue[1],Pe);return _e=we[0][0]*we[1][1]-we[1][0]*we[0][1],Ee=we[0][0]*Fe[1]-we[1][0]*Fe[0],Ce=Fe[0]*we[1][1]-Fe[1]*we[0][1],ye=_e===0?0:Ce/_e,Re=_e===0?0:Ee/_e,ke=pe.vectorLen(pe.subtract(Me,Ve)),Ye=1e-6*ke,ye<Ye||Re<Ye?(be[1]=pe.addArrays(Me,pe.mulItems(Se,ke/3)),be[2]=pe.addArrays(Ve,pe.mulItems(fe,ke/3))):(be[1]=pe.addArrays(Me,pe.mulItems(Se,ye)),be[2]=pe.addArrays(Ve,pe.mulItems(fe,Re))),be}function se(Ae,ge,Se){return Se.map((fe,be)=>le(Ae,ge[be],fe))}function le(Ae,ge,Se){var fe=pe.subtract(re.q(Ae,Se),ge),be=re.qprime(Ae,Se),xe=pe.mulMatrix(fe,be),ue=pe.sum(pe.squareItems(be))+2*pe.mulMatrix(fe,re.qprimeprime(Ae,Se));return ue===0?Se:Se-xe/ue}function oe(Ae){var ge=[],Se,fe,be;return Ae.forEach((xe,ue)=>{Se=ue?fe+pe.vectorLen(pe.subtract(xe,be)):0,ge.push(Se),fe=Se,be=xe}),ge=ge.map(xe=>xe/fe),ge}function ce(Ae,ge,Se){var fe,be,xe,ue,we,Fe,_e,Ee;be=0,xe=Math.floor(Ae.length/2);const Ce=ae(ge,10);for(we=0,Fe=Ae.length;we<Fe;we++)_e=Ae[we],Ee=he(ge,Se[we],Ce,10),ue=pe.subtract(re.q(ge,Ee),_e),fe=ue[0]*ue[0]+ue[1]*ue[1],fe>be&&(be=fe,xe=we);return[be,xe]}var ae=function(Ae,ge){for(var Se,fe=[0],be=Ae[0],xe=0,ue=1;ue<=ge;ue++)Se=re.q(Ae,ue/ge),xe+=pe.vectorLen(pe.subtract(Se,be)),fe.push(xe),be=Se;return fe=fe.map(we=>we/xe),fe};function he(Ae,ge,Se,fe){if(ge<0)return 0;if(ge>1)return 1;for(var be,xe,ue,we,Fe,_e=1;_e<=fe;_e++)if(ge<=Se[_e]){we=(_e-1)/fe,ue=_e/fe,xe=Se[_e-1],be=Se[_e],Fe=(ge-xe)/(be-xe)*(ue-we)+we;break}return Fe}function de(Ae,ge){return pe.normalize(pe.subtract(Ae,ge))}class pe{static zeros_Xx2x2(ge){for(var Se=[];ge--;)Se.push([0,0]);return Se}static mulItems(ge,Se){return ge.map(fe=>fe*Se)}static mulMatrix(ge,Se){return ge.reduce((fe,be,xe)=>fe+be*Se[xe],0)}static subtract(ge,Se){return ge.map((fe,be)=>fe-Se[be])}static addArrays(ge,Se){return ge.map((fe,be)=>fe+Se[be])}static addItems(ge,Se){return ge.map(fe=>fe+Se)}static sum(ge){return ge.reduce((Se,fe)=>Se+fe)}static dot(ge,Se){return pe.mulMatrix(ge,Se)}static vectorLen(ge){return Math.hypot(...ge)}static divItems(ge,Se){return ge.map(fe=>fe/Se)}static squareItems(ge){return ge.map(Se=>Se*Se)}static normalize(ge){return this.divItems(ge,this.vectorLen(ge))}}class re{static q(ge,Se){var fe=1-Se,be=pe.mulItems(ge[0],fe*fe*fe),xe=pe.mulItems(ge[1],3*fe*fe*Se),ue=pe.mulItems(ge[2],3*fe*Se*Se),we=pe.mulItems(ge[3],Se*Se*Se);return pe.addArrays(pe.addArrays(be,xe),pe.addArrays(ue,we))}static qprime(ge,Se){var fe=1-Se,be=pe.mulItems(pe.subtract(ge[1],ge[0]),3*fe*fe),xe=pe.mulItems(pe.subtract(ge[2],ge[1]),6*fe*Se),ue=pe.mulItems(pe.subtract(ge[3],ge[2]),3*Se*Se);return pe.addArrays(pe.addArrays(be,xe),ue)}static qprimeprime(ge,Se){return pe.addArrays(pe.mulItems(pe.addArrays(pe.subtract(ge[2],pe.mulItems(ge[1],2)),ge[0]),6*(1-Se)),pe.mulItems(pe.addArrays(pe.subtract(ge[3],pe.mulItems(ge[2],2)),ge[1]),6*Se))}}ee.exports=$,ee.exports.fitCubic=te,ee.exports.createTangent=de},(ee,$,te)=>{var Le,ql,Yl,Kl;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var ne=te(1),ie=te(8),se=te(5),le=te(28),oe=te(29);const ce=1e3,ae=9,he=new WeakSet;function de(tt){return{width:tt[2]-tt[0],height:tt[3]-tt[1]}}class pe{static create(Xe){switch(Xe.data.annotationType){case ne.AnnotationType.LINK:return new Ae(Xe);case ne.AnnotationType.TEXT:return new ge(Xe);case ne.AnnotationType.WIDGET:switch(Xe.data.fieldType){case"Tx":return new fe(Xe);case"Btn":return Xe.data.radioButton?new xe(Xe):Xe.data.checkBox?new be(Xe):new ue(Xe);case"Ch":return new we(Xe)}return new Se(Xe);case ne.AnnotationType.POPUP:return new Fe(Xe);case ne.AnnotationType.FREETEXT:return new Ee(Xe);case ne.AnnotationType.LINE:return new Ce(Xe);case ne.AnnotationType.SQUARE:return new ye(Xe);case ne.AnnotationType.CIRCLE:return new Re(Xe);case ne.AnnotationType.POLYLINE:return new Ye(Xe);case ne.AnnotationType.CARET:return new $e(Xe);case ne.AnnotationType.INK:return new Be(Xe);case ne.AnnotationType.POLYGON:return new ke(Xe);case ne.AnnotationType.HIGHLIGHT:return new Pe(Xe);case ne.AnnotationType.UNDERLINE:return new Ue(Xe);case ne.AnnotationType.SQUIGGLY:return new Te(Xe);case ne.AnnotationType.STRIKEOUT:return new Me(Xe);case ne.AnnotationType.STAMP:return new Ve(Xe);case ne.AnnotationType.FILEATTACHMENT:return new He(Xe);default:return new re(Xe)}}}class re{constructor(Xe,{isRenderable:Ze=!1,ignoreBorder:ot=!1,createQuadrilaterals:Ge=!1}={}){this.isRenderable=Ze,this.data=Xe.data,this.layer=Xe.layer,this.page=Xe.page,this.viewport=Xe.viewport,this.linkService=Xe.linkService,this.downloadManager=Xe.downloadManager,this.imageResourcesPath=Xe.imageResourcesPath,this.renderForms=Xe.renderForms,this.svgFactory=Xe.svgFactory,this.annotationStorage=Xe.annotationStorage,this.enableScripting=Xe.enableScripting,this.hasJSActions=Xe.hasJSActions,this._fieldObjects=Xe.fieldObjects,this._mouseState=Xe.mouseState,Ze&&(this.container=this._createContainer(ot)),Ge&&(this.quadrilaterals=this._createQuadrilaterals(ot))}_createContainer(Xe=!1){const Ze=this.data,ot=this.page,Ge=this.viewport,Ke=document.createElement("section"),{width:je,height:nt}=de(Ze.rect),[Qe,We,rt,et]=Ge.viewBox,ct=rt-Qe,at=et-We;Ke.setAttribute("data-annotation-id",Ze.id);const Je=ne.Util.normalizeRect([Ze.rect[0],ot.view[3]-Ze.rect[1]+ot.view[1],Ze.rect[2],ot.view[3]-Ze.rect[3]+ot.view[1]]);if(!Xe&&Ze.borderStyle.width>0){Ke.style.borderWidth=`${Ze.borderStyle.width}px`;const ut=Ze.borderStyle.horizontalCornerRadius,ft=Ze.borderStyle.verticalCornerRadius;if(ut>0||ft>0){const mt=`calc(${ut}px * var(--scale-factor)) / calc(${ft}px * var(--scale-factor))`;Ke.style.borderRadius=mt}else if(this instanceof xe){const mt=`calc(${je}px * var(--scale-factor)) / calc(${nt}px * var(--scale-factor))`;Ke.style.borderRadius=mt}switch(Ze.borderStyle.style){case ne.AnnotationBorderStyleType.SOLID:Ke.style.borderStyle="solid";break;case ne.AnnotationBorderStyleType.DASHED:Ke.style.borderStyle="dashed";break;case ne.AnnotationBorderStyleType.BEVELED:(0,ne.warn)("Unimplemented border style: beveled");break;case ne.AnnotationBorderStyleType.INSET:(0,ne.warn)("Unimplemented border style: inset");break;case ne.AnnotationBorderStyleType.UNDERLINE:Ke.style.borderBottomStyle="solid";break}const pt=Ze.borderColor||null;pt?Ke.style.borderColor=ne.Util.makeHexColor(pt[0]|0,pt[1]|0,pt[2]|0):Ke.style.borderWidth=0}Ke.style.left=`${100*(Je[0]-Qe)/ct}%`,Ke.style.top=`${100*(Je[1]-We)/at}%`;const{rotation:lt}=Ze;return Ze.hasOwnCanvas||lt===0?(Ke.style.width=`${100*je/ct}%`,Ke.style.height=`${100*nt/at}%`):this.setRotation(lt,Ke),Ke}setRotation(Xe,Ze=this.container){const[ot,Ge,Ke,je]=this.viewport.viewBox,nt=Ke-ot,Qe=je-Ge,{width:We,height:rt}=de(this.data.rect);let et,ct;Xe%180===0?(et=100*We/nt,ct=100*rt/Qe):(et=100*rt/nt,ct=100*We/Qe),Ze.style.width=`${et}%`,Ze.style.height=`${ct}%`,Ze.setAttribute("data-main-rotation",(360-Xe)%360)}get _commonActions(){const Xe=(Ze,ot,Ge)=>{const Ke=Ge.detail[Ze];Ge.target.style[ot]=le.ColorConverters[`${Ke[0]}_HTML`](Ke.slice(1))};return(0,ne.shadow)(this,"_commonActions",{display:Ze=>{const ot=Ze.detail.display%2===1;this.container.style.visibility=ot?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ot,print:Ze.detail.display===0||Ze.detail.display===3})},print:Ze=>{this.annotationStorage.setValue(this.data.id,{print:Ze.detail.print})},hidden:Ze=>{this.container.style.visibility=Ze.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Ze.detail.hidden})},focus:Ze=>{setTimeout(()=>Ze.target.focus({preventScroll:!1}),0)},userName:Ze=>{Ze.target.title=Ze.detail.userName},readonly:Ze=>{Ze.detail.readonly?Ze.target.setAttribute("readonly",""):Ze.target.removeAttribute("readonly")},required:Ze=>{this._setRequired(Ze.target,Ze.detail.required)},bgColor:Ze=>{Xe("bgColor","backgroundColor",Ze)},fillColor:Ze=>{Xe("fillColor","backgroundColor",Ze)},fgColor:Ze=>{Xe("fgColor","color",Ze)},textColor:Ze=>{Xe("textColor","color",Ze)},borderColor:Ze=>{Xe("borderColor","borderColor",Ze)},strokeColor:Ze=>{Xe("strokeColor","borderColor",Ze)},rotation:Ze=>{const ot=Ze.detail.rotation;this.setRotation(ot),this.annotationStorage.setValue(this.data.id,{rotation:ot})}})}_dispatchEventFromSandbox(Xe,Ze){const ot=this._commonActions;for(const Ge of Object.keys(Ze.detail)){const Ke=Xe[Ge]||ot[Ge];Ke&&Ke(Ze)}}_setDefaultPropertiesFromJS(Xe){if(!this.enableScripting)return;const Ze=this.annotationStorage.getRawValue(this.data.id);if(!Ze)return;const ot=this._commonActions;for(const[Ge,Ke]of Object.entries(Ze)){const je=ot[Ge];if(je){const nt={detail:{[Ge]:Ke},target:Xe};je(nt),delete Ze[Ge]}}}_createQuadrilaterals(Xe=!1){if(!this.data.quadPoints)return null;const Ze=[],ot=this.data.rect;for(const Ge of this.data.quadPoints)this.data.rect=[Ge[2].x,Ge[2].y,Ge[1].x,Ge[1].y],Ze.push(this._createContainer(Xe));return this.data.rect=ot,Ze}_createPopup(Xe,Ze){let ot=this.container;this.quadrilaterals&&(Xe=Xe||this.quadrilaterals,ot=this.quadrilaterals[0]),Xe||(Xe=document.createElement("div"),Xe.className="popupTriggerArea",ot.append(Xe));const Ke=new _e({container:ot,trigger:Xe,color:Ze.color,titleObj:Ze.titleObj,modificationDate:Ze.modificationDate,contentsObj:Ze.contentsObj,richText:Ze.richText,hideWrapper:!0}).render();Ke.style.left="100%",ot.append(Ke)}_renderQuadrilaterals(Xe){for(const Ze of this.quadrilaterals)Ze.className=Xe;return this.quadrilaterals}render(){(0,ne.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Xe,Ze=null){const ot=[];if(this._fieldObjects){const Ge=this._fieldObjects[Xe];if(Ge)for(const{page:Ke,id:je,exportValues:nt}of Ge){if(Ke===-1||je===Ze)continue;const Qe=typeof nt=="string"?nt:null,We=document.querySelector(`[data-element-id="${je}"]`);if(We&&!he.has(We)){(0,ne.warn)(`_getElementsByName - element not allowed: ${je}`);continue}ot.push({id:je,exportValue:Qe,domElement:We})}return ot}for(const Ge of document.getElementsByName(Xe)){const{id:Ke,exportValue:je}=Ge;Ke!==Ze&&he.has(Ge)&&ot.push({id:Ke,exportValue:je,domElement:Ge})}return ot}static get platform(){const Xe=typeof navigator<"u"?navigator.platform:"";return(0,ne.shadow)(this,"platform",{isWin:Xe.includes("Win"),isMac:Xe.includes("Mac")})}}class Ae extends re{constructor(Xe,Ze=null){super(Xe,{isRenderable:!0,ignoreBorder:!!(Ze!=null&&Ze.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=Xe.data.isTooltipOnly}render(){const{data:Xe,linkService:Ze}=this,ot=document.createElement("a");ot.setAttribute("data-element-id",Xe.id);let Ge=!1;return Xe.url?(Ze.addLinkAttributes(ot,Xe.url,Xe.newWindow),Ge=!0):Xe.action?(this._bindNamedAction(ot,Xe.action),Ge=!0):Xe.dest?(this._bindLink(ot,Xe.dest),Ge=!0):(Xe.actions&&(Xe.actions.Action||Xe.actions["Mouse Up"]||Xe.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ot,Xe),Ge=!0),Xe.resetForm?(this._bindResetFormAction(ot,Xe.resetForm),Ge=!0):this.isTooltipOnly&&!Ge&&(this._bindLink(ot,""),Ge=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Ke,je)=>{const nt=je===0?ot:ot.cloneNode();return Ke.append(nt),Ke}):(this.container.className="linkAnnotation",Ge&&this.container.append(ot),this.container)}_bindLink(Xe,Ze){Xe.href=this.linkService.getDestinationHash(Ze),Xe.onclick=()=>(Ze&&this.linkService.goToDestination(Ze),!1),(Ze||Ze==="")&&(Xe.className="internalLink")}_bindNamedAction(Xe,Ze){Xe.href=this.linkService.getAnchorUrl(""),Xe.onclick=()=>(this.linkService.executeNamedAction(Ze),!1),Xe.className="internalLink"}_bindJSAction(Xe,Ze){Xe.href=this.linkService.getAnchorUrl("");const ot=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Ge of Object.keys(Ze.actions)){const Ke=ot.get(Ge);Ke&&(Xe[Ke]=()=>{var je;return(je=this.linkService.eventBus)==null||je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ze.id,name:Ge}}),!1})}Xe.onclick||(Xe.onclick=()=>!1),Xe.className="internalLink"}_bindResetFormAction(Xe,Ze){const ot=Xe.onclick;if(ot||(Xe.href=this.linkService.getAnchorUrl("")),Xe.className="internalLink",!this._fieldObjects){(0,ne.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ot||(Xe.onclick=()=>!1);return}Xe.onclick=()=>{var rt;ot&&ot();const{fields:Ge,refs:Ke,include:je}=Ze,nt=[];if(Ge.length!==0||Ke.length!==0){const et=new Set(Ke);for(const ct of Ge){const at=this._fieldObjects[ct]||[];for(const{id:Je}of at)et.add(Je)}for(const ct of Object.values(this._fieldObjects))for(const at of ct)et.has(at.id)===je&&nt.push(at)}else for(const et of Object.values(this._fieldObjects))nt.push(...et);const Qe=this.annotationStorage,We=[];for(const et of nt){const{id:ct}=et;switch(We.push(ct),et.type){case"text":{const Je=et.defaultValue||"";Qe.setValue(ct,{value:Je});break}case"checkbox":case"radiobutton":{const Je=et.defaultValue===et.exportValues;Qe.setValue(ct,{value:Je});break}case"combobox":case"listbox":{const Je=et.defaultValue||"";Qe.setValue(ct,{value:Je});break}default:continue}const at=document.querySelector(`[data-element-id="${ct}"]`);if(at){if(!he.has(at)){(0,ne.warn)(`_bindResetFormAction - element not allowed: ${ct}`);continue}}else continue;at.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((rt=this.linkService.eventBus)==null||rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:We,name:"ResetForm"}})),!1}}}class ge extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze})}render(){this.container.className="textAnnotation";const Xe=document.createElement("img");return Xe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Xe.alt="[{{type}} Annotation]",Xe.dataset.l10nId="text_annotation_type",Xe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Xe,this.data),this.container.append(Xe),this.container}}class Se extends re{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(Xe){const{isWin:Ze,isMac:ot}=re.platform;return Ze&&Xe.ctrlKey||ot&&Xe.metaKey}_setEventListener(Xe,Ze,ot,Ge){Ze.includes("mouse")?Xe.addEventListener(Ze,Ke=>{var je;(je=this.linkService.eventBus)==null||je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ot,value:Ge(Ke),shift:Ke.shiftKey,modifier:this._getKeyModifier(Ke)}})}):Xe.addEventListener(Ze,Ke=>{var je;(je=this.linkService.eventBus)==null||je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ot,value:Ge(Ke)}})})}_setEventListeners(Xe,Ze,ot){var Ge;for(const[Ke,je]of Ze)(je==="Action"||(Ge=this.data.actions)!=null&&Ge[je])&&this._setEventListener(Xe,Ke,je,ot)}_setBackgroundColor(Xe){const Ze=this.data.backgroundColor||null;Xe.style.backgroundColor=Ze===null?"transparent":ne.Util.makeHexColor(Ze[0],Ze[1],Ze[2])}_setTextStyle(Xe){const Ze=["left","center","right"],{fontColor:ot}=this.data.defaultAppearanceData,Ge=this.data.defaultAppearanceData.fontSize||ae,Ke=Xe.style;let je;if(this.data.multiLine){const nt=Math.abs(this.data.rect[3]-this.data.rect[1]),Qe=Math.round(nt/(ne.LINE_FACTOR*Ge))||1,We=nt/Qe;je=Math.min(Ge,Math.round(We/ne.LINE_FACTOR))}else{const nt=Math.abs(this.data.rect[3]-this.data.rect[1]);je=Math.min(Ge,Math.round(nt/ne.LINE_FACTOR))}Ke.fontSize=`calc(${je}px * var(--scale-factor))`,Ke.color=ne.Util.makeHexColor(ot[0],ot[1],ot[2]),this.data.textAlignment!==null&&(Ke.textAlign=Ze[this.data.textAlignment])}_setRequired(Xe,Ze){Ze?Xe.setAttribute("required",!0):Xe.removeAttribute("required"),Xe.setAttribute("aria-required",Ze)}}class fe extends Se{constructor(Xe){const Ze=Xe.renderForms||!Xe.data.hasAppearance&&!!Xe.data.fieldValue;super(Xe,{isRenderable:Ze})}setPropertyOnSiblings(Xe,Ze,ot,Ge){const Ke=this.annotationStorage;for(const je of this._getElementsByName(Xe.name,Xe.id))je.domElement&&(je.domElement[Ze]=ot),Ke.setValue(je.id,{[Ge]:ot})}render(){var Ge;const Xe=this.annotationStorage,Ze=this.data.id;this.container.className="textWidgetAnnotation";let ot=null;if(this.renderForms){const Ke=Xe.getValue(Ze,{value:this.data.fieldValue});let je=Ke.formattedValue||Ke.value||"";const nt=Xe.getValue(Ze,{charLimit:this.data.maxLen}).charLimit;nt&&je.length>nt&&(je=je.slice(0,nt));const Qe={userValue:je,formattedValue:null,valueOnFocus:""};this.data.multiLine?(ot=document.createElement("textarea"),ot.textContent=je,this.data.doNotScroll&&(ot.style.overflowY="hidden")):(ot=document.createElement("input"),ot.type="text",ot.setAttribute("value",je),this.data.doNotScroll&&(ot.style.overflowX="hidden")),he.add(ot),ot.setAttribute("data-element-id",Ze),ot.disabled=this.data.readOnly,ot.name=this.data.fieldName,ot.tabIndex=ce,this._setRequired(ot,this.data.required),nt&&(ot.maxLength=nt),ot.addEventListener("input",rt=>{Xe.setValue(Ze,{value:rt.target.value}),this.setPropertyOnSiblings(ot,"value",rt.target.value,"value")}),ot.addEventListener("resetform",rt=>{const et=this.data.defaultFieldValue??"";ot.value=Qe.userValue=et,Qe.formattedValue=null});let We=rt=>{const{formattedValue:et}=Qe;et!=null&&(rt.target.value=et),rt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ot.addEventListener("focus",et=>{Qe.userValue&&(et.target.value=Qe.userValue),Qe.valueOnFocus=et.target.value}),ot.addEventListener("updatefromsandbox",et=>{const ct={value(at){Qe.userValue=at.detail.value??"",Xe.setValue(Ze,{value:Qe.userValue.toString()}),at.target.value=Qe.userValue},formattedValue(at){const{formattedValue:Je}=at.detail;Qe.formattedValue=Je,Je!=null&&at.target!==document.activeElement&&(at.target.value=Je),Xe.setValue(Ze,{formattedValue:Je})},selRange(at){at.target.setSelectionRange(...at.detail.selRange)},charLimit:at=>{var ft;const{charLimit:Je}=at.detail,{target:lt}=at;if(Je===0){lt.removeAttribute("maxLength");return}lt.setAttribute("maxLength",Je);let ut=Qe.userValue;!ut||ut.length<=Je||(ut=ut.slice(0,Je),lt.value=Qe.userValue=ut,Xe.setValue(Ze,{value:ut}),(ft=this.linkService.eventBus)==null||ft.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ze,name:"Keystroke",value:ut,willCommit:!0,commitKey:1,selStart:lt.selectionStart,selEnd:lt.selectionEnd}}))}};this._dispatchEventFromSandbox(ct,et)}),ot.addEventListener("keydown",et=>{var Je;let ct=-1;if(et.key==="Escape"?ct=0:et.key==="Enter"?ct=2:et.key==="Tab"&&(ct=3),ct===-1)return;const{value:at}=et.target;Qe.valueOnFocus!==at&&(Qe.userValue=at,(Je=this.linkService.eventBus)==null||Je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ze,name:"Keystroke",value:at,willCommit:!0,commitKey:ct,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}}))});const rt=We;We=null,ot.addEventListener("blur",et=>{var at;const{value:ct}=et.target;Qe.userValue=ct,this._mouseState.isDown&&Qe.valueOnFocus!==ct&&((at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ze,name:"Keystroke",value:ct,willCommit:!0,commitKey:1,selStart:et.target.selectionStart,selEnd:et.target.selectionEnd}})),rt(et)}),(Ge=this.data.actions)!=null&&Ge.Keystroke&&ot.addEventListener("beforeinput",et=>{var mt;const{data:ct,target:at}=et,{value:Je,selectionStart:lt,selectionEnd:ut}=at;let ft=lt,pt=ut;switch(et.inputType){case"deleteWordBackward":{const xt=Je.substring(0,lt).match(/\w*[^\w]*$/);xt&&(ft-=xt[0].length);break}case"deleteWordForward":{const xt=Je.substring(lt).match(/^[^\w]*\w*/);xt&&(pt+=xt[0].length);break}case"deleteContentBackward":lt===ut&&(ft-=1);break;case"deleteContentForward":lt===ut&&(pt+=1);break}et.preventDefault(),(mt=this.linkService.eventBus)==null||mt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ze,name:"Keystroke",value:Je,change:ct||"",willCommit:!1,selStart:ft,selEnd:pt}})}),this._setEventListeners(ot,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],et=>et.target.value)}if(We&&ot.addEventListener("blur",We),this.data.comb){const et=(this.data.rect[2]-this.data.rect[0])/nt;ot.classList.add("comb"),ot.style.letterSpacing=`calc(${et}px * var(--scale-factor) - 1ch)`}}else ot=document.createElement("div"),ot.textContent=this.data.fieldValue,ot.style.verticalAlign="middle",ot.style.display="table-cell";return this._setTextStyle(ot),this._setBackgroundColor(ot),this._setDefaultPropertiesFromJS(ot),this.container.append(ot),this.container}}class be extends Se{constructor(Xe){super(Xe,{isRenderable:Xe.renderForms})}render(){const Xe=this.annotationStorage,Ze=this.data,ot=Ze.id;let Ge=Xe.getValue(ot,{value:Ze.exportValue===Ze.fieldValue}).value;typeof Ge=="string"&&(Ge=Ge!=="Off",Xe.setValue(ot,{value:Ge})),this.container.className="buttonWidgetAnnotation checkBox";const Ke=document.createElement("input");return he.add(Ke),Ke.setAttribute("data-element-id",ot),Ke.disabled=Ze.readOnly,this._setRequired(Ke,this.data.required),Ke.type="checkbox",Ke.name=Ze.fieldName,Ge&&Ke.setAttribute("checked",!0),Ke.setAttribute("exportValue",Ze.exportValue),Ke.tabIndex=ce,Ke.addEventListener("change",je=>{const{name:nt,checked:Qe}=je.target;for(const We of this._getElementsByName(nt,ot)){const rt=Qe&&We.exportValue===Ze.exportValue;We.domElement&&(We.domElement.checked=rt),Xe.setValue(We.id,{value:rt})}Xe.setValue(ot,{value:Qe})}),Ke.addEventListener("resetform",je=>{const nt=Ze.defaultFieldValue||"Off";je.target.checked=nt===Ze.exportValue}),this.enableScripting&&this.hasJSActions&&(Ke.addEventListener("updatefromsandbox",je=>{const nt={value(Qe){Qe.target.checked=Qe.detail.value!=="Off",Xe.setValue(ot,{value:Qe.target.checked})}};this._dispatchEventFromSandbox(nt,je)}),this._setEventListeners(Ke,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],je=>je.target.checked)),this._setBackgroundColor(Ke),this._setDefaultPropertiesFromJS(Ke),this.container.append(Ke),this.container}}class xe extends Se{constructor(Xe){super(Xe,{isRenderable:Xe.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const Xe=this.annotationStorage,Ze=this.data,ot=Ze.id;let Ge=Xe.getValue(ot,{value:Ze.fieldValue===Ze.buttonValue}).value;typeof Ge=="string"&&(Ge=Ge!==Ze.buttonValue,Xe.setValue(ot,{value:Ge}));const Ke=document.createElement("input");if(he.add(Ke),Ke.setAttribute("data-element-id",ot),Ke.disabled=Ze.readOnly,this._setRequired(Ke,this.data.required),Ke.type="radio",Ke.name=Ze.fieldName,Ge&&Ke.setAttribute("checked",!0),Ke.tabIndex=ce,Ke.addEventListener("change",je=>{const{name:nt,checked:Qe}=je.target;for(const We of this._getElementsByName(nt,ot))Xe.setValue(We.id,{value:!1});Xe.setValue(ot,{value:Qe})}),Ke.addEventListener("resetform",je=>{const nt=Ze.defaultFieldValue;je.target.checked=nt!=null&&nt===Ze.buttonValue}),this.enableScripting&&this.hasJSActions){const je=Ze.buttonValue;Ke.addEventListener("updatefromsandbox",nt=>{const Qe={value:We=>{const rt=je===We.detail.value;for(const et of this._getElementsByName(We.target.name)){const ct=rt&&et.id===ot;et.domElement&&(et.domElement.checked=ct),Xe.setValue(et.id,{value:ct})}}};this._dispatchEventFromSandbox(Qe,nt)}),this._setEventListeners(Ke,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],nt=>nt.target.checked)}return this._setBackgroundColor(Ke),this._setDefaultPropertiesFromJS(Ke),this.container.append(Ke),this.container}}class ue extends Ae{constructor(Xe){super(Xe,{ignoreBorder:Xe.data.hasAppearance})}render(){const Xe=super.render();Xe.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Xe.title=this.data.alternativeText);const Ze=Xe.lastChild;return this.enableScripting&&this.hasJSActions&&Ze&&(this._setDefaultPropertiesFromJS(Ze),Ze.addEventListener("updatefromsandbox",ot=>{this._dispatchEventFromSandbox({},ot)})),Xe}}class we extends Se{constructor(Xe){super(Xe,{isRenderable:Xe.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const Xe=this.annotationStorage,Ze=this.data.id,ot=Xe.getValue(Ze,{value:this.data.fieldValue}),Ge=document.createElement("select");he.add(Ge),Ge.setAttribute("data-element-id",Ze),Ge.disabled=this.data.readOnly,this._setRequired(Ge,this.data.required),Ge.name=this.data.fieldName,Ge.tabIndex=ce;let Ke=this.data.combo&&this.data.options.length>0;this.data.combo||(Ge.size=this.data.options.length,this.data.multiSelect&&(Ge.multiple=!0)),Ge.addEventListener("resetform",We=>{const rt=this.data.defaultFieldValue;for(const et of Ge.options)et.selected=et.value===rt});for(const We of this.data.options){const rt=document.createElement("option");rt.textContent=We.displayValue,rt.value=We.exportValue,ot.value.includes(We.exportValue)&&(rt.setAttribute("selected",!0),Ke=!1),Ge.append(rt)}let je=null;if(Ke){const We=document.createElement("option");We.value=" ",We.setAttribute("hidden",!0),We.setAttribute("selected",!0),Ge.prepend(We),je=()=>{We.remove(),Ge.removeEventListener("input",je),je=null},Ge.addEventListener("input",je)}const nt=(We,rt)=>{const et=rt?"value":"textContent",ct=We.target.options;return We.target.multiple?Array.prototype.filter.call(ct,at=>at.selected).map(at=>at[et]):ct.selectedIndex===-1?null:ct[ct.selectedIndex][et]},Qe=We=>{const rt=We.target.options;return Array.prototype.map.call(rt,et=>({displayValue:et.textContent,exportValue:et.value}))};return this.enableScripting&&this.hasJSActions?(Ge.addEventListener("updatefromsandbox",We=>{const rt={value(et){je==null||je();const ct=et.detail.value,at=new Set(Array.isArray(ct)?ct:[ct]);for(const Je of Ge.options)Je.selected=at.has(Je.value);Xe.setValue(Ze,{value:nt(et,!0)})},multipleSelection(et){Ge.multiple=!0},remove(et){const ct=Ge.options,at=et.detail.remove;ct[at].selected=!1,Ge.remove(at),ct.length>0&&Array.prototype.findIndex.call(ct,lt=>lt.selected)===-1&&(ct[0].selected=!0),Xe.setValue(Ze,{value:nt(et,!0),items:Qe(et)})},clear(et){for(;Ge.length!==0;)Ge.remove(0);Xe.setValue(Ze,{value:null,items:[]})},insert(et){const{index:ct,displayValue:at,exportValue:Je}=et.detail.insert,lt=Ge.children[ct],ut=document.createElement("option");ut.textContent=at,ut.value=Je,lt?lt.before(ut):Ge.append(ut),Xe.setValue(Ze,{value:nt(et,!0),items:Qe(et)})},items(et){const{items:ct}=et.detail;for(;Ge.length!==0;)Ge.remove(0);for(const at of ct){const{displayValue:Je,exportValue:lt}=at,ut=document.createElement("option");ut.textContent=Je,ut.value=lt,Ge.append(ut)}Ge.options.length>0&&(Ge.options[0].selected=!0),Xe.setValue(Ze,{value:nt(et,!0),items:Qe(et)})},indices(et){const ct=new Set(et.detail.indices);for(const at of et.target.options)at.selected=ct.has(at.index);Xe.setValue(Ze,{value:nt(et,!0)})},editable(et){et.target.disabled=!et.detail.editable}};this._dispatchEventFromSandbox(rt,We)}),Ge.addEventListener("input",We=>{var ct;const rt=nt(We,!0),et=nt(We,!1);Xe.setValue(Ze,{value:rt}),(ct=this.linkService.eventBus)==null||ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ze,name:"Keystroke",value:et,changeEx:rt,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ge,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],We=>We.target.checked)):Ge.addEventListener("input",function(We){Xe.setValue(Ze,{value:nt(We,!0)})}),this.data.combo&&this._setTextStyle(Ge),this._setBackgroundColor(Ge),this._setDefaultPropertiesFromJS(Ge),this.container.append(Ge),this.container}}class Fe extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!((ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze})}render(){const Xe=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",Xe.includes(this.data.parentType))return this.container;const Ze=`[data-annotation-id="${this.data.parentId}"]`,ot=this.layer.querySelectorAll(Ze);if(ot.length===0)return this.container;const Ge=new _e({container:this.container,trigger:Array.from(ot),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Ke=this.page,je=ne.Util.normalizeRect([this.data.parentRect[0],Ke.view[3]-this.data.parentRect[1]+Ke.view[1],this.data.parentRect[2],Ke.view[3]-this.data.parentRect[3]+Ke.view[1]]),nt=je[0]+this.data.parentRect[2]-this.data.parentRect[0],Qe=je[1],[We,rt,et,ct]=this.viewport.viewBox,at=et-We,Je=ct-rt;return this.container.style.left=`${100*(nt-We)/at}%`,this.container.style.top=`${100*(Qe-rt)/Je}%`,this.container.append(Ge.render()),this.container}}class _e{constructor(Xe){this.container=Xe.container,this.trigger=Xe.trigger,this.color=Xe.color,this.titleObj=Xe.titleObj,this.modificationDate=Xe.modificationDate,this.contentsObj=Xe.contentsObj,this.richText=Xe.richText,this.hideWrapper=Xe.hideWrapper||!1,this.pinned=!1}render(){var nt,Qe;const Ze=document.createElement("div");Ze.className="popupWrapper",this.hideElement=this.hideWrapper?Ze:this.container,this.hideElement.hidden=!0;const ot=document.createElement("div");ot.className="popup";const Ge=this.color;if(Ge){const We=.7*(255-Ge[0])+Ge[0],rt=.7*(255-Ge[1])+Ge[1],et=.7*(255-Ge[2])+Ge[2];ot.style.backgroundColor=ne.Util.makeHexColor(We|0,rt|0,et|0)}const Ke=document.createElement("h1");Ke.dir=this.titleObj.dir,Ke.textContent=this.titleObj.str,ot.append(Ke);const je=ie.PDFDateString.toDateObject(this.modificationDate);if(je){const We=document.createElement("span");We.className="popupDate",We.textContent="{{date}}, {{time}}",We.dataset.l10nId="annotation_date_string",We.dataset.l10nArgs=JSON.stringify({date:je.toLocaleDateString(),time:je.toLocaleTimeString()}),ot.append(We)}if((nt=this.richText)!=null&&nt.str&&(!((Qe=this.contentsObj)!=null&&Qe.str)||this.contentsObj.str===this.richText.str))oe.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ot}),ot.lastChild.className="richText popupContent";else{const We=this._formatContents(this.contentsObj);ot.append(We)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const We of this.trigger)We.addEventListener("click",this._toggle.bind(this)),We.addEventListener("mouseover",this._show.bind(this,!1)),We.addEventListener("mouseout",this._hide.bind(this,!1));return ot.addEventListener("click",this._hide.bind(this,!0)),Ze.append(ot),Ze}_formatContents({str:Xe,dir:Ze}){const ot=document.createElement("p");ot.className="popupContent",ot.dir=Ze;const Ge=Xe.split(/(?:\r\n?|\n)/);for(let Ke=0,je=Ge.length;Ke<je;++Ke){const nt=Ge[Ke];ot.append(document.createTextNode(nt)),Ke<je-1&&ot.append(document.createElement("br"))}return ot}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(Xe=!1){Xe&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(Xe=!0){Xe&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class Ee extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0}),this.textContent=Xe.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const Xe=document.createElement("div");Xe.className="annotationTextContent",Xe.setAttribute("role","comment");for(const Ze of this.textContent){const ot=document.createElement("span");ot.textContent=Ze,Xe.append(ot)}this.container.append(Xe)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ce extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const Xe=this.data,{width:Ze,height:ot}=de(Xe.rect),Ge=this.svgFactory.create(Ze,ot,!0),Ke=this.svgFactory.createElement("svg:line");return Ke.setAttribute("x1",Xe.rect[2]-Xe.lineCoordinates[0]),Ke.setAttribute("y1",Xe.rect[3]-Xe.lineCoordinates[1]),Ke.setAttribute("x2",Xe.rect[2]-Xe.lineCoordinates[2]),Ke.setAttribute("y2",Xe.rect[3]-Xe.lineCoordinates[3]),Ke.setAttribute("stroke-width",Xe.borderStyle.width||1),Ke.setAttribute("stroke","transparent"),Ke.setAttribute("fill","transparent"),Ge.append(Ke),this.container.append(Ge),this._createPopup(Ke,Xe),this.container}}class ye extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const Xe=this.data,{width:Ze,height:ot}=de(Xe.rect),Ge=this.svgFactory.create(Ze,ot,!0),Ke=Xe.borderStyle.width,je=this.svgFactory.createElement("svg:rect");return je.setAttribute("x",Ke/2),je.setAttribute("y",Ke/2),je.setAttribute("width",Ze-Ke),je.setAttribute("height",ot-Ke),je.setAttribute("stroke-width",Ke||1),je.setAttribute("stroke","transparent"),je.setAttribute("fill","transparent"),Ge.append(je),this.container.append(Ge),this._createPopup(je,Xe),this.container}}class Re extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const Xe=this.data,{width:Ze,height:ot}=de(Xe.rect),Ge=this.svgFactory.create(Ze,ot,!0),Ke=Xe.borderStyle.width,je=this.svgFactory.createElement("svg:ellipse");return je.setAttribute("cx",Ze/2),je.setAttribute("cy",ot/2),je.setAttribute("rx",Ze/2-Ke/2),je.setAttribute("ry",ot/2-Ke/2),je.setAttribute("stroke-width",Ke||1),je.setAttribute("stroke","transparent"),je.setAttribute("fill","transparent"),Ge.append(je),this.container.append(Ge),this._createPopup(je,Xe),this.container}}class Ye extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Xe=this.data,{width:Ze,height:ot}=de(Xe.rect),Ge=this.svgFactory.create(Ze,ot,!0);let Ke=[];for(const nt of Xe.vertices){const Qe=nt.x-Xe.rect[0],We=Xe.rect[3]-nt.y;Ke.push(Qe+","+We)}Ke=Ke.join(" ");const je=this.svgFactory.createElement(this.svgElementName);return je.setAttribute("points",Ke),je.setAttribute("stroke-width",Xe.borderStyle.width||1),je.setAttribute("stroke","transparent"),je.setAttribute("fill","transparent"),Ge.append(je),this.container.append(Ge),this._createPopup(je,Xe),this.container}}class ke extends Ye{constructor(Xe){super(Xe),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $e extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Be extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Xe=this.data,{width:Ze,height:ot}=de(Xe.rect),Ge=this.svgFactory.create(Ze,ot,!0);for(const Ke of Xe.inkLists){let je=[];for(const Qe of Ke){const We=Qe.x-Xe.rect[0],rt=Xe.rect[3]-Qe.y;je.push(`${We},${rt}`)}je=je.join(" ");const nt=this.svgFactory.createElement(this.svgElementName);nt.setAttribute("points",je),nt.setAttribute("stroke-width",Xe.borderStyle.width||1),nt.setAttribute("stroke","transparent"),nt.setAttribute("fill","transparent"),this._createPopup(nt,Xe),Ge.append(nt)}return this.container.append(Ge),this.container}}class Pe extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Ue extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Te extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Me extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Ve extends re{constructor(Xe){var ot,Ge,Ke;const Ze=!!(Xe.data.hasPopup||(ot=Xe.data.titleObj)!=null&&ot.str||(Ge=Xe.data.contentsObj)!=null&&Ge.str||(Ke=Xe.data.richText)!=null&&Ke.str);super(Xe,{isRenderable:Ze,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class He extends re{constructor(Xe){var Ge;super(Xe,{isRenderable:!0});const{filename:Ze,content:ot}=this.data.file;this.filename=(0,ie.getFilenameFromUrl)(Ze),this.content=ot,(Ge=this.linkService.eventBus)==null||Ge.dispatch("fileattachmentannotation",{source:this,filename:Ze,content:ot})}render(){var Ze,ot;this.container.className="fileAttachmentAnnotation";const Xe=document.createElement("div");return Xe.className="popupTriggerArea",Xe.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((Ze=this.data.titleObj)!=null&&Ze.str||(ot=this.data.contentsObj)!=null&&ot.str||this.data.richText)&&this._createPopup(Xe,this.data),this.container.append(Xe),this.container}_download(){var Xe;(Xe=this.downloadManager)==null||Xe.openOrDownloadData(this.container,this.content,this.filename)}}const it=class it{static render(Xe){var nt,Qe;const{annotations:Ze,div:ot,viewport:Ge,accessibilityManager:Ke}=Xe;bn(this,Le,Yl).call(this,ot,Ge);let je=0;for(const We of Ze){if(We.annotationType!==ne.AnnotationType.POPUP){const{width:et,height:ct}=de(We.rect);if(et<=0||ct<=0)continue}const rt=pe.create({data:We,layer:ot,page:Xe.page,viewport:Ge,linkService:Xe.linkService,downloadManager:Xe.downloadManager,imageResourcesPath:Xe.imageResourcesPath||"",renderForms:Xe.renderForms!==!1,svgFactory:new ie.DOMSVGFactory,annotationStorage:Xe.annotationStorage||new se.AnnotationStorage,enableScripting:Xe.enableScripting,hasJSActions:Xe.hasJSActions,fieldObjects:Xe.fieldObjects,mouseState:Xe.mouseState||{isDown:!1}});if(rt.isRenderable){const et=rt.render();if(We.hidden&&(et.style.visibility="hidden"),Array.isArray(et))for(const ct of et)ct.style.zIndex=je++,bn(nt=it,Le,ql).call(nt,ct,We.id,ot,Ke);else et.style.zIndex=je++,rt instanceof Fe?ot.prepend(et):bn(Qe=it,Le,ql).call(Qe,et,We.id,ot,Ke)}}bn(this,Le,Kl).call(this,ot,Xe.annotationCanvasMap)}static update(Xe){const{annotationCanvasMap:Ze,div:ot,viewport:Ge}=Xe;bn(this,Le,Yl).call(this,ot,Ge),bn(this,Le,Kl).call(this,ot,Ze),ot.hidden=!1}};Le=new WeakSet,ql=function(Xe,Ze,ot,Ge){const Ke=Xe.firstChild||Xe;Ke.id=`${ie.AnnotationPrefix}${Ze}`,ot.append(Xe),Ge==null||Ge.moveElementInDOM(ot,Xe,Ke,!1)},Yl=function(Xe,{width:Ze,height:ot,rotation:Ge}){const{style:Ke}=Xe,je=Ge%180!==0,nt=Math.floor(Ze)+"px",Qe=Math.floor(ot)+"px";Ke.width=je?Qe:nt,Ke.height=je?nt:Qe,Xe.setAttribute("data-main-rotation",Ge)},Kl=function(Xe,Ze){if(Ze){for(const[ot,Ge]of Ze){const Ke=Xe.querySelector(`[data-annotation-id="${ot}"]`);if(!Ke)continue;const{firstChild:je}=Ke;je?je.nodeName==="CANVAS"?je.replaceWith(Ge):je.before(Ge):Ke.append(Ge)}Ze.clear()}},Fn(it,Le);let Ie=it;$.AnnotationLayer=Ie},(ee,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function te(ie){return Math.floor(Math.max(0,Math.min(1,ie))*255).toString(16).padStart(2,"0")}class ne{static CMYK_G([se,le,oe,ce]){return["G",1-Math.min(1,.3*se+.59*oe+.11*le+ce)]}static G_CMYK([se]){return["CMYK",0,0,0,1-se]}static G_RGB([se]){return["RGB",se,se,se]}static G_HTML([se]){const le=te(se);return`#${le}${le}${le}`}static RGB_G([se,le,oe]){return["G",.3*se+.59*le+.11*oe]}static RGB_HTML([se,le,oe]){const ce=te(se),ae=te(le),he=te(oe);return`#${ce}${ae}${he}`}static T_HTML(){return"#00000000"}static CMYK_RGB([se,le,oe,ce]){return["RGB",1-Math.min(1,se+ce),1-Math.min(1,oe+ce),1-Math.min(1,le+ce)]}static CMYK_HTML(se){const le=this.CMYK_RGB(se).slice(1);return this.RGB_HTML(le)}static RGB_CMYK([se,le,oe]){const ce=1-se,ae=1-le,he=1-oe,de=Math.min(ce,ae,he);return["CMYK",ce,ae,he,de]}}$.ColorConverters=ne},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var ne=te(20);class ie{static setupStorage(le,oe,ce,ae,he){const de=ae.getValue(oe,{value:null});switch(ce.name){case"textarea":if(de.value!==null&&(le.textContent=de.value),he==="print")break;le.addEventListener("input",pe=>{ae.setValue(oe,{value:pe.target.value})});break;case"input":if(ce.attributes.type==="radio"||ce.attributes.type==="checkbox"){if(de.value===ce.attributes.xfaOn?le.setAttribute("checked",!0):de.value===ce.attributes.xfaOff&&le.removeAttribute("checked"),he==="print")break;le.addEventListener("change",pe=>{ae.setValue(oe,{value:pe.target.checked?pe.target.getAttribute("xfaOn"):pe.target.getAttribute("xfaOff")})})}else{if(de.value!==null&&le.setAttribute("value",de.value),he==="print")break;le.addEventListener("input",pe=>{ae.setValue(oe,{value:pe.target.value})})}break;case"select":if(de.value!==null)for(const pe of ce.children)pe.attributes.value===de.value&&(pe.attributes.selected=!0);le.addEventListener("input",pe=>{const re=pe.target.options,Ae=re.selectedIndex===-1?"":re[re.selectedIndex].value;ae.setValue(oe,{value:Ae})});break}}static setAttributes({html:le,element:oe,storage:ce=null,intent:ae,linkService:he}){const{attributes:de}=oe,pe=le instanceof HTMLAnchorElement;de.type==="radio"&&(de.name=`${de.name}-${ae}`);for(const[re,Ae]of Object.entries(de))if(Ae!=null)switch(re){case"class":Ae.length&&le.setAttribute(re,Ae.join(" "));break;case"dataId":break;case"id":le.setAttribute("data-element-id",Ae);break;case"style":Object.assign(le.style,Ae);break;case"textContent":le.textContent=Ae;break;default:(!pe||re!=="href"&&re!=="newWindow")&&le.setAttribute(re,Ae)}pe&&he.addLinkAttributes(le,de.href,de.newWindow),ce&&de.dataId&&this.setupStorage(le,de.dataId,oe,ce)}static render(le){var ge;const oe=le.annotationStorage,ce=le.linkService,ae=le.xfaHtml,he=le.intent||"display",de=document.createElement(ae.name);ae.attributes&&this.setAttributes({html:de,element:ae,intent:he,linkService:ce});const pe=[[ae,-1,de]],re=le.div;if(re.append(de),le.viewport){const Se=`matrix(${le.viewport.transform.join(",")})`;re.style.transform=Se}he!=="richText"&&re.setAttribute("class","xfaLayer xfaFont");const Ae=[];for(;pe.length>0;){const[Se,fe,be]=pe.at(-1);if(fe+1===Se.children.length){pe.pop();continue}const xe=Se.children[++pe.at(-1)[1]];if(xe===null)continue;const{name:ue}=xe;if(ue==="#text"){const Fe=document.createTextNode(xe.value);Ae.push(Fe),be.append(Fe);continue}let we;if((ge=xe==null?void 0:xe.attributes)!=null&&ge.xmlns?we=document.createElementNS(xe.attributes.xmlns,ue):we=document.createElement(ue),be.append(we),xe.attributes&&this.setAttributes({html:we,element:xe,storage:oe,intent:he,linkService:ce}),xe.children&&xe.children.length>0)pe.push([xe,-1,we]);else if(xe.value){const Fe=document.createTextNode(xe.value);ne.XfaText.shouldBuildText(ue)&&Ae.push(Fe),we.append(Fe)}}for(const Se of re.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Se.setAttribute("readOnly",!0);return{textDivs:Ae}}static update(le){const oe=`matrix(${le.viewport.transform.join(",")})`;le.div.style.transform=oe,le.div.hidden=!1}}$.XfaLayer=ie},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=be;var ne=te(1),ie=te(8);const se=1e5,le=30,oe=.8,ce=new Map,ae=/^\s+$/g;function he(xe,ue){const we=ce.get(xe);if(we)return we;ue.save(),ue.font=`${le}px ${xe}`;const Fe=ue.measureText("");let _e=Fe.fontBoundingBoxAscent,Ee=Math.abs(Fe.fontBoundingBoxDescent);if(_e){ue.restore();const ye=_e/(_e+Ee);return ce.set(xe,ye),ye}ue.strokeStyle="red",ue.clearRect(0,0,le,le),ue.strokeText("g",0,0);let Ce=ue.getImageData(0,0,le,le).data;Ee=0;for(let ye=Ce.length-1-3;ye>=0;ye-=4)if(Ce[ye]>0){Ee=Math.ceil(ye/4/le);break}ue.clearRect(0,0,le,le),ue.strokeText("A",0,le),Ce=ue.getImageData(0,0,le,le).data,_e=0;for(let ye=0,Re=Ce.length;ye<Re;ye+=4)if(Ce[ye]>0){_e=le-Math.floor(ye/4/le);break}if(ue.restore(),_e){const ye=_e/(_e+Ee);return ce.set(xe,ye),ye}return ce.set(xe,oe),oe}function de(xe,ue,we,Fe){const _e=document.createElement("span"),Ee=xe._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:ue.str!=="",hasEOL:ue.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:ue.str!=="",hasEOL:ue.hasEOL,fontSize:0};xe._textDivs.push(_e);const Ce=ne.Util.transform(xe._viewport.transform,ue.transform);let ye=Math.atan2(Ce[1],Ce[0]);const Re=we[ue.fontName];Re.vertical&&(ye+=Math.PI/2);const Ye=Math.hypot(Ce[2],Ce[3]),ke=Ye*he(Re.fontFamily,Fe);let $e,Be;ye===0?($e=Ce[4],Be=Ce[5]-ke):($e=Ce[4]+ke*Math.sin(ye),Be=Ce[5]-ke*Math.cos(ye)),_e.style.left=`${$e}px`,_e.style.top=`${Be}px`,_e.style.fontSize=`${Ye}px`,_e.style.fontFamily=Re.fontFamily,Ee.fontSize=Ye,_e.setAttribute("role","presentation"),_e.textContent=ue.str,_e.dir=ue.dir,xe._fontInspectorEnabled&&(_e.dataset.fontName=ue.fontName),ye!==0&&(Ee.angle=ye*(180/Math.PI));let Pe=!1;if(ue.str.length>1||xe._enhanceTextSelection&&ae.test(ue.str))Pe=!0;else if(ue.str!==" "&&ue.transform[0]!==ue.transform[3]){const Ue=Math.abs(ue.transform[0]),Te=Math.abs(ue.transform[3]);Ue!==Te&&Math.max(Ue,Te)/Math.min(Ue,Te)>1.5&&(Pe=!0)}if(Pe&&(Re.vertical?Ee.canvasWidth=ue.height*xe._viewport.scale:Ee.canvasWidth=ue.width*xe._viewport.scale),xe._textDivProperties.set(_e,Ee),xe._textContentStream&&xe._layoutText(_e),xe._enhanceTextSelection&&Ee.hasText){let Ue=1,Te=0;ye!==0&&(Ue=Math.cos(ye),Te=Math.sin(ye));const Me=(Re.vertical?ue.height:ue.width)*xe._viewport.scale,Ve=Ye;let He,Ie;ye!==0?(He=[Ue,Te,-Te,Ue,$e,Be],Ie=ne.Util.getAxialAlignedBoundingBox([0,0,Me,Ve],He)):Ie=[$e,Be,$e+Me,Be+Ve],xe._bounds.push({left:Ie[0],top:Ie[1],right:Ie[2],bottom:Ie[3],div:_e,size:[Me,Ve],m:He})}}function pe(xe){if(xe._canceled)return;const ue=xe._textDivs,we=xe._capability,Fe=ue.length;if(Fe>se){xe._renderingDone=!0,we.resolve();return}if(!xe._textContentStream)for(let _e=0;_e<Fe;_e++)xe._layoutText(ue[_e]);xe._renderingDone=!0,we.resolve()}function re(xe,ue,we){let Fe=0;for(let _e=0;_e<we;_e++){const Ee=xe[ue++];Ee>0&&(Fe=Fe?Math.min(Ee,Fe):Ee)}return Fe}function Ae(xe){const ue=xe._bounds,we=xe._viewport,Fe=ge(we.width,we.height,ue);for(let _e=0;_e<Fe.length;_e++){const Ee=ue[_e].div,Ce=xe._textDivProperties.get(Ee);if(Ce.angle===0){Ce.paddingLeft=ue[_e].left-Fe[_e].left,Ce.paddingTop=ue[_e].top-Fe[_e].top,Ce.paddingRight=Fe[_e].right-ue[_e].right,Ce.paddingBottom=Fe[_e].bottom-ue[_e].bottom,xe._textDivProperties.set(Ee,Ce);continue}const ye=Fe[_e],Re=ue[_e],Ye=Re.m,ke=Ye[0],$e=Ye[1],Be=[[0,0],[0,Re.size[1]],[Re.size[0],0],Re.size],Pe=new Float64Array(64);for(let Te=0,Me=Be.length;Te<Me;Te++){const Ve=ne.Util.applyTransform(Be[Te],Ye);Pe[Te+0]=ke&&(ye.left-Ve[0])/ke,Pe[Te+4]=$e&&(ye.top-Ve[1])/$e,Pe[Te+8]=ke&&(ye.right-Ve[0])/ke,Pe[Te+12]=$e&&(ye.bottom-Ve[1])/$e,Pe[Te+16]=$e&&(ye.left-Ve[0])/-$e,Pe[Te+20]=ke&&(ye.top-Ve[1])/ke,Pe[Te+24]=$e&&(ye.right-Ve[0])/-$e,Pe[Te+28]=ke&&(ye.bottom-Ve[1])/ke,Pe[Te+32]=ke&&(ye.left-Ve[0])/-ke,Pe[Te+36]=$e&&(ye.top-Ve[1])/-$e,Pe[Te+40]=ke&&(ye.right-Ve[0])/-ke,Pe[Te+44]=$e&&(ye.bottom-Ve[1])/-$e,Pe[Te+48]=$e&&(ye.left-Ve[0])/$e,Pe[Te+52]=ke&&(ye.top-Ve[1])/-ke,Pe[Te+56]=$e&&(ye.right-Ve[0])/$e,Pe[Te+60]=ke&&(ye.bottom-Ve[1])/-ke}const Ue=1+Math.min(Math.abs(ke),Math.abs($e));Ce.paddingLeft=re(Pe,32,16)/Ue,Ce.paddingTop=re(Pe,48,16)/Ue,Ce.paddingRight=re(Pe,0,16)/Ue,Ce.paddingBottom=re(Pe,16,16)/Ue,xe._textDivProperties.set(Ee,Ce)}}function ge(xe,ue,we){const Fe=we.map(function(Ee,Ce){return{x1:Ee.left,y1:Ee.top,x2:Ee.right,y2:Ee.bottom,index:Ce,x1New:void 0,x2New:void 0}});Se(xe,Fe);const _e=new Array(we.length);for(const Ee of Fe){const Ce=Ee.index;_e[Ce]={left:Ee.x1New,top:0,right:Ee.x2New,bottom:0}}we.map(function(Ee,Ce){const ye=_e[Ce],Re=Fe[Ce];Re.x1=Ee.top,Re.y1=xe-ye.right,Re.x2=Ee.bottom,Re.y2=xe-ye.left,Re.index=Ce,Re.x1New=void 0,Re.x2New=void 0}),Se(ue,Fe);for(const Ee of Fe){const Ce=Ee.index;_e[Ce].top=Ee.x1New,_e[Ce].bottom=Ee.x2New}return _e}function Se(xe,ue){ue.sort(function(_e,Ee){return _e.x1-Ee.x1||_e.index-Ee.index});const Fe=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const _e of ue){let Ee=0;for(;Ee<Fe.length&&Fe[Ee].end<=_e.y1;)Ee++;let Ce=Fe.length-1;for(;Ce>=0&&Fe[Ce].start>=_e.y2;)Ce--;let ye,Re,Ye,ke,$e=-1/0;for(Ye=Ee;Ye<=Ce;Ye++){ye=Fe[Ye],Re=ye.boundary;let Ue;Re.x2>_e.x1?Ue=Re.index>_e.index?Re.x1New:_e.x1:Re.x2New===void 0?Ue=(Re.x2+_e.x1)/2:Ue=Re.x2New,Ue>$e&&($e=Ue)}for(_e.x1New=$e,Ye=Ee;Ye<=Ce;Ye++)ye=Fe[Ye],Re=ye.boundary,Re.x2New===void 0?Re.x2>_e.x1?Re.index>_e.index&&(Re.x2New=Re.x2):Re.x2New=$e:Re.x2New>$e&&(Re.x2New=Math.max($e,Re.x2));const Be=[];let Pe=null;for(Ye=Ee;Ye<=Ce;Ye++){ye=Fe[Ye],Re=ye.boundary;const Ue=Re.x2>_e.x2?Re:_e;Pe===Ue?Be.at(-1).end=ye.end:(Be.push({start:ye.start,end:ye.end,boundary:Ue}),Pe=Ue)}for(Fe[Ee].start<_e.y1&&(Be[0].start=_e.y1,Be.unshift({start:Fe[Ee].start,end:_e.y1,boundary:Fe[Ee].boundary})),_e.y2<Fe[Ce].end&&(Be.at(-1).end=_e.y2,Be.push({start:_e.y2,end:Fe[Ce].end,boundary:Fe[Ce].boundary})),Ye=Ee;Ye<=Ce;Ye++){if(ye=Fe[Ye],Re=ye.boundary,Re.x2New!==void 0)continue;let Ue=!1;for(ke=Ee-1;!Ue&&ke>=0&&Fe[ke].start>=Re.y1;ke--)Ue=Fe[ke].boundary===Re;for(ke=Ce+1;!Ue&&ke<Fe.length&&Fe[ke].end<=Re.y2;ke++)Ue=Fe[ke].boundary===Re;for(ke=0;!Ue&&ke<Be.length;ke++)Ue=Be[ke].boundary===Re;Ue||(Re.x2New=$e)}Array.prototype.splice.apply(Fe,[Ee,Ce-Ee+1,...Be])}for(const _e of Fe){const Ee=_e.boundary;Ee.x2New===void 0&&(Ee.x2New=Math.max(xe,Ee.x2))}}class fe{constructor({textContent:ue,textContentStream:we,container:Fe,viewport:_e,textDivs:Ee,textContentItemsStr:Ce,enhanceTextSelection:ye}){var Re;ye&&(0,ie.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=ue,this._textContentStream=we,this._container=Fe,this._document=Fe.ownerDocument,this._viewport=_e,this._textDivs=Ee||[],this._textContentItemsStr=Ce||[],this._enhanceTextSelection=!!ye,this._fontInspectorEnabled=!!((Re=globalThis.FontInspector)!=null&&Re.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,ne.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new ne.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(ue,we){for(let Fe=0,_e=ue.length;Fe<_e;Fe++){if(ue[Fe].str===void 0){if(ue[Fe].type==="beginMarkedContentProps"||ue[Fe].type==="beginMarkedContent"){const Ee=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),ue[Fe].id!==null&&this._container.setAttribute("id",`${ue[Fe].id}`),Ee.append(this._container)}else ue[Fe].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(ue[Fe].str),de(this,ue[Fe],we,this._layoutTextCtx)}}_layoutText(ue){const we=this._textDivProperties.get(ue);let Fe="";if(we.canvasWidth!==0&&we.hasText){const{fontFamily:_e}=ue.style,{fontSize:Ee}=we;(Ee!==this._layoutTextLastFontSize||_e!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${Ee*this._devicePixelRatio}px ${_e}`,this._layoutTextLastFontSize=Ee,this._layoutTextLastFontFamily=_e);const{width:Ce}=this._layoutTextCtx.measureText(ue.textContent);if(Ce>0){const ye=this._devicePixelRatio*we.canvasWidth/Ce;this._enhanceTextSelection&&(we.scale=ye),Fe=`scaleX(${ye})`}}if(we.angle!==0&&(Fe=`rotate(${we.angle}deg) ${Fe}`),Fe.length>0&&(this._enhanceTextSelection&&(we.originalTransform=Fe),ue.style.transform=Fe),we.hasText&&this._container.append(ue),we.hasEOL){const _e=document.createElement("br");_e.setAttribute("role","presentation"),this._container.append(_e)}}_render(ue=0){const we=(0,ne.createPromiseCapability)();let Fe=Object.create(null);const _e=this._document.createElement("canvas");if(_e.height=_e.width=le,this._layoutTextCtx=_e.getContext("2d",{alpha:!1}),this._textContent){const Ee=this._textContent.items,Ce=this._textContent.styles;this._processItems(Ee,Ce),we.resolve()}else if(this._textContentStream){const Ee=()=>{this._reader.read().then(({value:Ce,done:ye})=>{if(ye){we.resolve();return}Object.assign(Fe,Ce.styles),this._processItems(Ce.items,Fe),Ee()},we.reject)};this._reader=this._textContentStream.getReader(),Ee()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');we.promise.then(()=>{Fe=null,ue?this._renderTimer=setTimeout(()=>{pe(this),this._renderTimer=null},ue):pe(this)},this._capability.reject)}expandTextDivs(ue=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(Ae(this),this._bounds=null);const we=[],Fe=[];for(let _e=0,Ee=this._textDivs.length;_e<Ee;_e++){const Ce=this._textDivs[_e],ye=this._textDivProperties.get(Ce);ye.hasText&&(ue?(we.length=0,Fe.length=0,ye.originalTransform&&we.push(ye.originalTransform),ye.paddingTop>0?(Fe.push(`${ye.paddingTop}px`),we.push(`translateY(${-ye.paddingTop}px)`)):Fe.push(0),ye.paddingRight>0?Fe.push(`${ye.paddingRight/ye.scale}px`):Fe.push(0),ye.paddingBottom>0?Fe.push(`${ye.paddingBottom}px`):Fe.push(0),ye.paddingLeft>0?(Fe.push(`${ye.paddingLeft/ye.scale}px`),we.push(`translateX(${-ye.paddingLeft/ye.scale}px)`)):Fe.push(0),Ce.style.padding=Fe.join(" "),we.length&&(Ce.style.transform=we.join(" "))):(Ce.style.padding=null,Ce.style.transform=ye.originalTransform))}}}$.TextLayerRenderTask=fe;function be(xe){const ue=new fe({textContent:xe.textContent,textContentStream:xe.textContentStream,container:xe.container,viewport:xe.viewport,textDivs:xe.textDivs,textContentItemsStr:xe.textContentItemsStr,enhanceTextSelection:xe.enhanceTextSelection});return ue._render(xe.timeout),ue}},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var ne=te(8),ie=te(1),se=te(3);let le=class{constructor(){(0,ie.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=le;{let be=function(Ee){let Ce=[];const ye=[];for(const Re of Ee){if(Re.fn==="save"){Ce.push({fnId:92,fn:"group",items:[]}),ye.push(Ce),Ce=Ce.at(-1).items;continue}Re.fn==="restore"?Ce=ye.pop():Ce.push(Re)}return Ce},xe=function(Ee){if(Number.isInteger(Ee))return Ee.toString();const Ce=Ee.toFixed(10);let ye=Ce.length-1;if(Ce[ye]!=="0")return Ce;do ye--;while(Ce[ye]==="0");return Ce.substring(0,Ce[ye]==="."?ye:ye+1)},ue=function(Ee){if(Ee[4]===0&&Ee[5]===0){if(Ee[1]===0&&Ee[2]===0)return Ee[0]===1&&Ee[3]===1?"":`scale(${xe(Ee[0])} ${xe(Ee[3])})`;if(Ee[0]===Ee[3]&&Ee[1]===-Ee[2]){const Ce=Math.acos(Ee[0])*180/Math.PI;return`rotate(${xe(Ce)})`}}else if(Ee[0]===1&&Ee[1]===0&&Ee[2]===0&&Ee[3]===1)return`translate(${xe(Ee[4])} ${xe(Ee[5])})`;return`matrix(${xe(Ee[0])} ${xe(Ee[1])} ${xe(Ee[2])} ${xe(Ee[3])} ${xe(Ee[4])} ${xe(Ee[5])})`};var oe=be,ce=xe,ae=ue;const he={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},de="http://www.w3.org/XML/1998/namespace",pe="http://www.w3.org/1999/xlink",re=["butt","round","square"],Ae=["miter","round","bevel"],ge=function(Ee,Ce="",ye=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ye)return URL.createObjectURL(new Blob([Ee],{type:Ce}));const Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Ye=`data:${Ce};base64,`;for(let ke=0,$e=Ee.length;ke<$e;ke+=3){const Be=Ee[ke]&255,Pe=Ee[ke+1]&255,Ue=Ee[ke+2]&255,Te=Be>>2,Me=(Be&3)<<4|Pe>>4,Ve=ke+1<$e?(Pe&15)<<2|Ue>>6:64,He=ke+2<$e?Ue&63:64;Ye+=Re[Te]+Re[Me]+Re[Ve]+Re[He]}return Ye},Se=function(){const Ee=new Uint8Array([137,80,78,71,13,10,26,10]),Ce=12,ye=new Int32Array(256);for(let Ue=0;Ue<256;Ue++){let Te=Ue;for(let Me=0;Me<8;Me++)Te&1?Te=3988292384^Te>>1&2147483647:Te=Te>>1&2147483647;ye[Ue]=Te}function Re(Ue,Te,Me){let Ve=-1;for(let He=Te;He<Me;He++){const Ie=(Ve^Ue[He])&255,Le=ye[Ie];Ve=Ve>>>8^Le}return Ve^-1}function Ye(Ue,Te,Me,Ve){let He=Ve;const Ie=Te.length;Me[He]=Ie>>24&255,Me[He+1]=Ie>>16&255,Me[He+2]=Ie>>8&255,Me[He+3]=Ie&255,He+=4,Me[He]=Ue.charCodeAt(0)&255,Me[He+1]=Ue.charCodeAt(1)&255,Me[He+2]=Ue.charCodeAt(2)&255,Me[He+3]=Ue.charCodeAt(3)&255,He+=4,Me.set(Te,He),He+=Te.length;const Le=Re(Me,Ve+4,He);Me[He]=Le>>24&255,Me[He+1]=Le>>16&255,Me[He+2]=Le>>8&255,Me[He+3]=Le&255}function ke(Ue,Te,Me){let Ve=1,He=0;for(let Ie=Te;Ie<Me;++Ie)Ve=(Ve+(Ue[Ie]&255))%65521,He=(He+Ve)%65521;return He<<16|Ve}function $e(Ue){if(!se.isNodeJS)return Be(Ue);try{let Te;parseInt(process.versions.node)>=8?Te=Ue:Te=Buffer.from(Ue);const Me=require$$5.deflateSync(Te,{level:9});return Me instanceof Uint8Array?Me:new Uint8Array(Me)}catch(Te){(0,ie.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Te)}return Be(Ue)}function Be(Ue){let Te=Ue.length;const Me=65535,Ve=Math.ceil(Te/Me),He=new Uint8Array(2+Te+Ve*5+4);let Ie=0;He[Ie++]=120,He[Ie++]=156;let Le=0;for(;Te>Me;)He[Ie++]=0,He[Ie++]=255,He[Ie++]=255,He[Ie++]=0,He[Ie++]=0,He.set(Ue.subarray(Le,Le+Me),Ie),Ie+=Me,Le+=Me,Te-=Me;He[Ie++]=1,He[Ie++]=Te&255,He[Ie++]=Te>>8&255,He[Ie++]=~Te&65535&255,He[Ie++]=(~Te&65535)>>8&255,He.set(Ue.subarray(Le),Ie),Ie+=Ue.length-Le;const Oe=ke(Ue,0,Ue.length);return He[Ie++]=Oe>>24&255,He[Ie++]=Oe>>16&255,He[Ie++]=Oe>>8&255,He[Ie++]=Oe&255,He}function Pe(Ue,Te,Me,Ve){const He=Ue.width,Ie=Ue.height;let Le,Oe,Ne;const qe=Ue.data;switch(Te){case ie.ImageKind.GRAYSCALE_1BPP:Oe=0,Le=1,Ne=He+7>>3;break;case ie.ImageKind.RGB_24BPP:Oe=2,Le=8,Ne=He*3;break;case ie.ImageKind.RGBA_32BPP:Oe=6,Le=8,Ne=He*4;break;default:throw new Error("invalid format")}const it=new Uint8Array((1+Ne)*Ie);let tt=0,Xe=0;for(let nt=0;nt<Ie;++nt)it[tt++]=0,it.set(qe.subarray(Xe,Xe+Ne),tt),Xe+=Ne,tt+=Ne;if(Te===ie.ImageKind.GRAYSCALE_1BPP&&Ve){tt=0;for(let nt=0;nt<Ie;nt++){tt++;for(let Qe=0;Qe<Ne;Qe++)it[tt++]^=255}}const Ze=new Uint8Array([He>>24&255,He>>16&255,He>>8&255,He&255,Ie>>24&255,Ie>>16&255,Ie>>8&255,Ie&255,Le,Oe,0,0,0]),ot=$e(it),Ge=Ee.length+Ce*3+Ze.length+ot.length,Ke=new Uint8Array(Ge);let je=0;return Ke.set(Ee,je),je+=Ee.length,Ye("IHDR",Ze,Ke,je),je+=Ce+Ze.length,Ye("IDATA",ot,Ke,je),je+=Ce+ot.length,Ye("IEND",new Uint8Array(0),Ke,je),ge(Ke,"image/png",Me)}return function(Te,Me,Ve){const He=Te.kind===void 0?ie.ImageKind.GRAYSCALE_1BPP:Te.kind;return Pe(Te,He,Me,Ve)}}();class fe{constructor(){this.fontSizeScale=1,this.fontWeight=he.fontWeight,this.fontSize=0,this.textMatrix=ie.IDENTITY_MATRIX,this.fontMatrix=ie.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=ie.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=he.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Ce,ye){this.x=Ce,this.y=ye}}let we=0,Fe=0,_e=0;$.SVGGraphics=le=class{constructor(Ee,Ce,ye=!1){(0,ne.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new ne.DOMSVGFactory,this.current=new fe,this.transformMatrix=ie.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Ee,this.objs=Ce,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ye,this._operatorIdMapping=[];for(const Re in ie.OPS)this._operatorIdMapping[ie.OPS[Re]]=Re}save(){this.transformStack.push(this.transformMatrix);const Ee=this.current;this.extraStack.push(Ee),this.current=Ee.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Ee){this.save(),this.executeOpTree(Ee),this.restore()}loadDependencies(Ee){const Ce=Ee.fnArray,ye=Ee.argsArray;for(let Re=0,Ye=Ce.length;Re<Ye;Re++)if(Ce[Re]===ie.OPS.dependency)for(const ke of ye[Re]){const $e=ke.startsWith("g_")?this.commonObjs:this.objs,Be=new Promise(Pe=>{$e.get(ke,Pe)});this.current.dependencies.push(Be)}return Promise.all(this.current.dependencies)}transform(Ee,Ce,ye,Re,Ye,ke){const $e=[Ee,Ce,ye,Re,Ye,ke];this.transformMatrix=ie.Util.transform(this.transformMatrix,$e),this.tgrp=null}getSVG(Ee,Ce){this.viewport=Ce;const ye=this._initialize(Ce);return this.loadDependencies(Ee).then(()=>(this.transformMatrix=ie.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Ee)),ye))}convertOpList(Ee){const Ce=this._operatorIdMapping,ye=Ee.argsArray,Re=Ee.fnArray,Ye=[];for(let ke=0,$e=Re.length;ke<$e;ke++){const Be=Re[ke];Ye.push({fnId:Be,fn:Ce[Be],args:ye[ke]})}return be(Ye)}executeOpTree(Ee){for(const Ce of Ee){const ye=Ce.fn,Re=Ce.fnId,Ye=Ce.args;switch(Re|0){case ie.OPS.beginText:this.beginText();break;case ie.OPS.dependency:break;case ie.OPS.setLeading:this.setLeading(Ye);break;case ie.OPS.setLeadingMoveText:this.setLeadingMoveText(Ye[0],Ye[1]);break;case ie.OPS.setFont:this.setFont(Ye);break;case ie.OPS.showText:this.showText(Ye[0]);break;case ie.OPS.showSpacedText:this.showText(Ye[0]);break;case ie.OPS.endText:this.endText();break;case ie.OPS.moveText:this.moveText(Ye[0],Ye[1]);break;case ie.OPS.setCharSpacing:this.setCharSpacing(Ye[0]);break;case ie.OPS.setWordSpacing:this.setWordSpacing(Ye[0]);break;case ie.OPS.setHScale:this.setHScale(Ye[0]);break;case ie.OPS.setTextMatrix:this.setTextMatrix(Ye[0],Ye[1],Ye[2],Ye[3],Ye[4],Ye[5]);break;case ie.OPS.setTextRise:this.setTextRise(Ye[0]);break;case ie.OPS.setTextRenderingMode:this.setTextRenderingMode(Ye[0]);break;case ie.OPS.setLineWidth:this.setLineWidth(Ye[0]);break;case ie.OPS.setLineJoin:this.setLineJoin(Ye[0]);break;case ie.OPS.setLineCap:this.setLineCap(Ye[0]);break;case ie.OPS.setMiterLimit:this.setMiterLimit(Ye[0]);break;case ie.OPS.setFillRGBColor:this.setFillRGBColor(Ye[0],Ye[1],Ye[2]);break;case ie.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ye[0],Ye[1],Ye[2]);break;case ie.OPS.setStrokeColorN:this.setStrokeColorN(Ye);break;case ie.OPS.setFillColorN:this.setFillColorN(Ye);break;case ie.OPS.shadingFill:this.shadingFill(Ye[0]);break;case ie.OPS.setDash:this.setDash(Ye[0],Ye[1]);break;case ie.OPS.setRenderingIntent:this.setRenderingIntent(Ye[0]);break;case ie.OPS.setFlatness:this.setFlatness(Ye[0]);break;case ie.OPS.setGState:this.setGState(Ye[0]);break;case ie.OPS.fill:this.fill();break;case ie.OPS.eoFill:this.eoFill();break;case ie.OPS.stroke:this.stroke();break;case ie.OPS.fillStroke:this.fillStroke();break;case ie.OPS.eoFillStroke:this.eoFillStroke();break;case ie.OPS.clip:this.clip("nonzero");break;case ie.OPS.eoClip:this.clip("evenodd");break;case ie.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case ie.OPS.paintImageXObject:this.paintImageXObject(Ye[0]);break;case ie.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ye[0]);break;case ie.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ye[0]);break;case ie.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ye[0],Ye[1]);break;case ie.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case ie.OPS.closePath:this.closePath();break;case ie.OPS.closeStroke:this.closeStroke();break;case ie.OPS.closeFillStroke:this.closeFillStroke();break;case ie.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case ie.OPS.nextLine:this.nextLine();break;case ie.OPS.transform:this.transform(Ye[0],Ye[1],Ye[2],Ye[3],Ye[4],Ye[5]);break;case ie.OPS.constructPath:this.constructPath(Ye[0],Ye[1]);break;case ie.OPS.endPath:this.endPath();break;case 92:this.group(Ce.items);break;default:(0,ie.warn)(`Unimplemented operator ${ye}`);break}}}setWordSpacing(Ee){this.current.wordSpacing=Ee}setCharSpacing(Ee){this.current.charSpacing=Ee}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Ee,Ce,ye,Re,Ye,ke){const $e=this.current;$e.textMatrix=$e.lineMatrix=[Ee,Ce,ye,Re,Ye,ke],$e.textMatrixScale=Math.hypot(Ee,Ce),$e.x=$e.lineX=0,$e.y=$e.lineY=0,$e.xcoords=[],$e.ycoords=[],$e.tspan=this.svgFactory.createElement("svg:tspan"),$e.tspan.setAttributeNS(null,"font-family",$e.fontFamily),$e.tspan.setAttributeNS(null,"font-size",`${xe($e.fontSize)}px`),$e.tspan.setAttributeNS(null,"y",xe(-$e.y)),$e.txtElement=this.svgFactory.createElement("svg:text"),$e.txtElement.append($e.tspan)}beginText(){const Ee=this.current;Ee.x=Ee.lineX=0,Ee.y=Ee.lineY=0,Ee.textMatrix=ie.IDENTITY_MATRIX,Ee.lineMatrix=ie.IDENTITY_MATRIX,Ee.textMatrixScale=1,Ee.tspan=this.svgFactory.createElement("svg:tspan"),Ee.txtElement=this.svgFactory.createElement("svg:text"),Ee.txtgrp=this.svgFactory.createElement("svg:g"),Ee.xcoords=[],Ee.ycoords=[]}moveText(Ee,Ce){const ye=this.current;ye.x=ye.lineX+=Ee,ye.y=ye.lineY+=Ce,ye.xcoords=[],ye.ycoords=[],ye.tspan=this.svgFactory.createElement("svg:tspan"),ye.tspan.setAttributeNS(null,"font-family",ye.fontFamily),ye.tspan.setAttributeNS(null,"font-size",`${xe(ye.fontSize)}px`),ye.tspan.setAttributeNS(null,"y",xe(-ye.y))}showText(Ee){const Ce=this.current,ye=Ce.font,Re=Ce.fontSize;if(Re===0)return;const Ye=Ce.fontSizeScale,ke=Ce.charSpacing,$e=Ce.wordSpacing,Be=Ce.fontDirection,Pe=Ce.textHScale*Be,Ue=ye.vertical,Te=Ue?1:-1,Me=ye.defaultVMetrics,Ve=Re*Ce.fontMatrix[0];let He=0;for(const Oe of Ee){if(Oe===null){He+=Be*$e;continue}else if(typeof Oe=="number"){He+=Te*Oe*Re/1e3;continue}const Ne=(Oe.isSpace?$e:0)+ke,qe=Oe.fontChar;let it,tt,Xe=Oe.width;if(Ue){let ot;const Ge=Oe.vmetric||Me;ot=Oe.vmetric?Ge[1]:Xe*.5,ot=-ot*Ve;const Ke=Ge[2]*Ve;Xe=Ge?-Ge[0]:Xe,it=ot/Ye,tt=(He+Ke)/Ye}else it=He/Ye,tt=0;(Oe.isInFont||ye.missingFile)&&(Ce.xcoords.push(Ce.x+it),Ue&&Ce.ycoords.push(-Ce.y+tt),Ce.tspan.textContent+=qe);let Ze;Ue?Ze=Xe*Ve-Ne*Be:Ze=Xe*Ve+Ne*Be,He+=Ze}Ce.tspan.setAttributeNS(null,"x",Ce.xcoords.map(xe).join(" ")),Ue?Ce.tspan.setAttributeNS(null,"y",Ce.ycoords.map(xe).join(" ")):Ce.tspan.setAttributeNS(null,"y",xe(-Ce.y)),Ue?Ce.y-=He:Ce.x+=He*Pe,Ce.tspan.setAttributeNS(null,"font-family",Ce.fontFamily),Ce.tspan.setAttributeNS(null,"font-size",`${xe(Ce.fontSize)}px`),Ce.fontStyle!==he.fontStyle&&Ce.tspan.setAttributeNS(null,"font-style",Ce.fontStyle),Ce.fontWeight!==he.fontWeight&&Ce.tspan.setAttributeNS(null,"font-weight",Ce.fontWeight);const Ie=Ce.textRenderingMode&ie.TextRenderingMode.FILL_STROKE_MASK;if(Ie===ie.TextRenderingMode.FILL||Ie===ie.TextRenderingMode.FILL_STROKE?(Ce.fillColor!==he.fillColor&&Ce.tspan.setAttributeNS(null,"fill",Ce.fillColor),Ce.fillAlpha<1&&Ce.tspan.setAttributeNS(null,"fill-opacity",Ce.fillAlpha)):Ce.textRenderingMode===ie.TextRenderingMode.ADD_TO_PATH?Ce.tspan.setAttributeNS(null,"fill","transparent"):Ce.tspan.setAttributeNS(null,"fill","none"),Ie===ie.TextRenderingMode.STROKE||Ie===ie.TextRenderingMode.FILL_STROKE){const Oe=1/(Ce.textMatrixScale||1);this._setStrokeAttributes(Ce.tspan,Oe)}let Le=Ce.textMatrix;Ce.textRise!==0&&(Le=Le.slice(),Le[5]+=Ce.textRise),Ce.txtElement.setAttributeNS(null,"transform",`${ue(Le)} scale(${xe(Pe)}, -1)`),Ce.txtElement.setAttributeNS(de,"xml:space","preserve"),Ce.txtElement.append(Ce.tspan),Ce.txtgrp.append(Ce.txtElement),this._ensureTransformGroup().append(Ce.txtElement)}setLeadingMoveText(Ee,Ce){this.setLeading(-Ce),this.moveText(Ee,Ce)}addFontStyle(Ee){if(!Ee.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Ce=ge(Ee.data,Ee.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Ee.loadedName}"; src: url(${Ce}); }
`}setFont(Ee){const Ce=this.current,ye=this.commonObjs.get(Ee[0]);let Re=Ee[1];Ce.font=ye,this.embedFonts&&!ye.missingFile&&!this.embeddedFonts[ye.loadedName]&&(this.addFontStyle(ye),this.embeddedFonts[ye.loadedName]=ye),Ce.fontMatrix=ye.fontMatrix||ie.FONT_IDENTITY_MATRIX;let Ye="normal";ye.black?Ye="900":ye.bold&&(Ye="bold");const ke=ye.italic?"italic":"normal";Re<0?(Re=-Re,Ce.fontDirection=-1):Ce.fontDirection=1,Ce.fontSize=Re,Ce.fontFamily=ye.loadedName,Ce.fontWeight=Ye,Ce.fontStyle=ke,Ce.tspan=this.svgFactory.createElement("svg:tspan"),Ce.tspan.setAttributeNS(null,"y",xe(-Ce.y)),Ce.xcoords=[],Ce.ycoords=[]}endText(){var Ce;const Ee=this.current;Ee.textRenderingMode&ie.TextRenderingMode.ADD_TO_PATH_FLAG&&((Ce=Ee.txtElement)!=null&&Ce.hasChildNodes())&&(Ee.element=Ee.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Ee){Ee>0&&(this.current.lineWidth=Ee)}setLineCap(Ee){this.current.lineCap=re[Ee]}setLineJoin(Ee){this.current.lineJoin=Ae[Ee]}setMiterLimit(Ee){this.current.miterLimit=Ee}setStrokeAlpha(Ee){this.current.strokeAlpha=Ee}setStrokeRGBColor(Ee,Ce,ye){this.current.strokeColor=ie.Util.makeHexColor(Ee,Ce,ye)}setFillAlpha(Ee){this.current.fillAlpha=Ee}setFillRGBColor(Ee,Ce,ye){this.current.fillColor=ie.Util.makeHexColor(Ee,Ce,ye),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Ee){this.current.strokeColor=this._makeColorN_Pattern(Ee)}setFillColorN(Ee){this.current.fillColor=this._makeColorN_Pattern(Ee)}shadingFill(Ee){const Ce=this.viewport.width,ye=this.viewport.height,Re=ie.Util.inverseTransform(this.transformMatrix),Ye=ie.Util.applyTransform([0,0],Re),ke=ie.Util.applyTransform([0,ye],Re),$e=ie.Util.applyTransform([Ce,0],Re),Be=ie.Util.applyTransform([Ce,ye],Re),Pe=Math.min(Ye[0],ke[0],$e[0],Be[0]),Ue=Math.min(Ye[1],ke[1],$e[1],Be[1]),Te=Math.max(Ye[0],ke[0],$e[0],Be[0]),Me=Math.max(Ye[1],ke[1],$e[1],Be[1]),Ve=this.svgFactory.createElement("svg:rect");Ve.setAttributeNS(null,"x",Pe),Ve.setAttributeNS(null,"y",Ue),Ve.setAttributeNS(null,"width",Te-Pe),Ve.setAttributeNS(null,"height",Me-Ue),Ve.setAttributeNS(null,"fill",this._makeShadingPattern(Ee)),this.current.fillAlpha<1&&Ve.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Ve)}_makeColorN_Pattern(Ee){return Ee[0]==="TilingPattern"?this._makeTilingPattern(Ee):this._makeShadingPattern(Ee)}_makeTilingPattern(Ee){const Ce=Ee[1],ye=Ee[2],Re=Ee[3]||ie.IDENTITY_MATRIX,[Ye,ke,$e,Be]=Ee[4],Pe=Ee[5],Ue=Ee[6],Te=Ee[7],Me=`shading${_e++}`,[Ve,He,Ie,Le]=ie.Util.normalizeRect([...ie.Util.applyTransform([Ye,ke],Re),...ie.Util.applyTransform([$e,Be],Re)]),[Oe,Ne]=ie.Util.singularValueDecompose2dScale(Re),qe=Pe*Oe,it=Ue*Ne,tt=this.svgFactory.createElement("svg:pattern");tt.setAttributeNS(null,"id",Me),tt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),tt.setAttributeNS(null,"width",qe),tt.setAttributeNS(null,"height",it),tt.setAttributeNS(null,"x",`${Ve}`),tt.setAttributeNS(null,"y",`${He}`);const Xe=this.svg,Ze=this.transformMatrix,ot=this.current.fillColor,Ge=this.current.strokeColor,Ke=this.svgFactory.create(Ie-Ve,Le-He);if(this.svg=Ke,this.transformMatrix=Re,Te===2){const je=ie.Util.makeHexColor(...Ce);this.current.fillColor=je,this.current.strokeColor=je}return this.executeOpTree(this.convertOpList(ye)),this.svg=Xe,this.transformMatrix=Ze,this.current.fillColor=ot,this.current.strokeColor=Ge,tt.append(Ke.childNodes[0]),this.defs.append(tt),`url(#${Me})`}_makeShadingPattern(Ee){switch(typeof Ee=="string"&&(Ee=this.objs.get(Ee)),Ee[0]){case"RadialAxial":const Ce=`shading${_e++}`,ye=Ee[3];let Re;switch(Ee[1]){case"axial":const Ye=Ee[4],ke=Ee[5];Re=this.svgFactory.createElement("svg:linearGradient"),Re.setAttributeNS(null,"id",Ce),Re.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Re.setAttributeNS(null,"x1",Ye[0]),Re.setAttributeNS(null,"y1",Ye[1]),Re.setAttributeNS(null,"x2",ke[0]),Re.setAttributeNS(null,"y2",ke[1]);break;case"radial":const $e=Ee[4],Be=Ee[5],Pe=Ee[6],Ue=Ee[7];Re=this.svgFactory.createElement("svg:radialGradient"),Re.setAttributeNS(null,"id",Ce),Re.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Re.setAttributeNS(null,"cx",Be[0]),Re.setAttributeNS(null,"cy",Be[1]),Re.setAttributeNS(null,"r",Ue),Re.setAttributeNS(null,"fx",$e[0]),Re.setAttributeNS(null,"fy",$e[1]),Re.setAttributeNS(null,"fr",Pe);break;default:throw new Error(`Unknown RadialAxial type: ${Ee[1]}`)}for(const Ye of ye){const ke=this.svgFactory.createElement("svg:stop");ke.setAttributeNS(null,"offset",Ye[0]),ke.setAttributeNS(null,"stop-color",Ye[1]),Re.append(ke)}return this.defs.append(Re),`url(#${Ce})`;case"Mesh":return(0,ie.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Ee[0]}`)}}setDash(Ee,Ce){this.current.dashArray=Ee,this.current.dashPhase=Ce}constructPath(Ee,Ce){const ye=this.current;let Re=ye.x,Ye=ye.y,ke=[],$e=0;for(const Be of Ee)switch(Be|0){case ie.OPS.rectangle:Re=Ce[$e++],Ye=Ce[$e++];const Pe=Ce[$e++],Ue=Ce[$e++],Te=Re+Pe,Me=Ye+Ue;ke.push("M",xe(Re),xe(Ye),"L",xe(Te),xe(Ye),"L",xe(Te),xe(Me),"L",xe(Re),xe(Me),"Z");break;case ie.OPS.moveTo:Re=Ce[$e++],Ye=Ce[$e++],ke.push("M",xe(Re),xe(Ye));break;case ie.OPS.lineTo:Re=Ce[$e++],Ye=Ce[$e++],ke.push("L",xe(Re),xe(Ye));break;case ie.OPS.curveTo:Re=Ce[$e+4],Ye=Ce[$e+5],ke.push("C",xe(Ce[$e]),xe(Ce[$e+1]),xe(Ce[$e+2]),xe(Ce[$e+3]),xe(Re),xe(Ye)),$e+=6;break;case ie.OPS.curveTo2:ke.push("C",xe(Re),xe(Ye),xe(Ce[$e]),xe(Ce[$e+1]),xe(Ce[$e+2]),xe(Ce[$e+3])),Re=Ce[$e+2],Ye=Ce[$e+3],$e+=4;break;case ie.OPS.curveTo3:Re=Ce[$e+2],Ye=Ce[$e+3],ke.push("C",xe(Ce[$e]),xe(Ce[$e+1]),xe(Re),xe(Ye),xe(Re),xe(Ye)),$e+=4;break;case ie.OPS.closePath:ke.push("Z");break}ke=ke.join(" "),ye.path&&Ee.length>0&&Ee[0]!==ie.OPS.rectangle&&Ee[0]!==ie.OPS.moveTo?ke=ye.path.getAttributeNS(null,"d")+ke:(ye.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ye.path)),ye.path.setAttributeNS(null,"d",ke),ye.path.setAttributeNS(null,"fill","none"),ye.element=ye.path,ye.setCurrentPoint(Re,Ye)}endPath(){const Ee=this.current;if(Ee.path=null,!this.pendingClip)return;if(!Ee.element){this.pendingClip=null;return}const Ce=`clippath${we++}`,ye=this.svgFactory.createElement("svg:clipPath");ye.setAttributeNS(null,"id",Ce),ye.setAttributeNS(null,"transform",ue(this.transformMatrix));const Re=Ee.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Re.setAttributeNS(null,"clip-rule","evenodd"):Re.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ye.append(Re),this.defs.append(ye),Ee.activeClipUrl){Ee.clipGroup=null;for(const Ye of this.extraStack)Ye.clipGroup=null;ye.setAttributeNS(null,"clip-path",Ee.activeClipUrl)}Ee.activeClipUrl=`url(#${Ce})`,this.tgrp=null}clip(Ee){this.pendingClip=Ee}closePath(){const Ee=this.current;if(Ee.path){const Ce=`${Ee.path.getAttributeNS(null,"d")}Z`;Ee.path.setAttributeNS(null,"d",Ce)}}setLeading(Ee){this.current.leading=-Ee}setTextRise(Ee){this.current.textRise=Ee}setTextRenderingMode(Ee){this.current.textRenderingMode=Ee}setHScale(Ee){this.current.textHScale=Ee/100}setRenderingIntent(Ee){}setFlatness(Ee){}setGState(Ee){for(const[Ce,ye]of Ee)switch(Ce){case"LW":this.setLineWidth(ye);break;case"LC":this.setLineCap(ye);break;case"LJ":this.setLineJoin(ye);break;case"ML":this.setMiterLimit(ye);break;case"D":this.setDash(ye[0],ye[1]);break;case"RI":this.setRenderingIntent(ye);break;case"FL":this.setFlatness(ye);break;case"Font":this.setFont(ye);break;case"CA":this.setStrokeAlpha(ye);break;case"ca":this.setFillAlpha(ye);break;default:(0,ie.warn)(`Unimplemented graphic state operator ${Ce}`);break}}fill(){const Ee=this.current;Ee.element&&(Ee.element.setAttributeNS(null,"fill",Ee.fillColor),Ee.element.setAttributeNS(null,"fill-opacity",Ee.fillAlpha),this.endPath())}stroke(){const Ee=this.current;Ee.element&&(this._setStrokeAttributes(Ee.element),Ee.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Ee,Ce=1){const ye=this.current;let Re=ye.dashArray;Ce!==1&&Re.length>0&&(Re=Re.map(function(Ye){return Ce*Ye})),Ee.setAttributeNS(null,"stroke",ye.strokeColor),Ee.setAttributeNS(null,"stroke-opacity",ye.strokeAlpha),Ee.setAttributeNS(null,"stroke-miterlimit",xe(ye.miterLimit)),Ee.setAttributeNS(null,"stroke-linecap",ye.lineCap),Ee.setAttributeNS(null,"stroke-linejoin",ye.lineJoin),Ee.setAttributeNS(null,"stroke-width",xe(Ce*ye.lineWidth)+"px"),Ee.setAttributeNS(null,"stroke-dasharray",Re.map(xe).join(" ")),Ee.setAttributeNS(null,"stroke-dashoffset",xe(Ce*ye.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Ee=this.svgFactory.createElement("svg:rect");Ee.setAttributeNS(null,"x","0"),Ee.setAttributeNS(null,"y","0"),Ee.setAttributeNS(null,"width","1px"),Ee.setAttributeNS(null,"height","1px"),Ee.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Ee)}paintImageXObject(Ee){const Ce=Ee.startsWith("g_")?this.commonObjs.get(Ee):this.objs.get(Ee);if(!Ce){(0,ie.warn)(`Dependent image with object ID ${Ee} is not ready yet`);return}this.paintInlineImageXObject(Ce)}paintInlineImageXObject(Ee,Ce){const ye=Ee.width,Re=Ee.height,Ye=Se(Ee,this.forceDataSchema,!!Ce),ke=this.svgFactory.createElement("svg:rect");ke.setAttributeNS(null,"x","0"),ke.setAttributeNS(null,"y","0"),ke.setAttributeNS(null,"width",xe(ye)),ke.setAttributeNS(null,"height",xe(Re)),this.current.element=ke,this.clip("nonzero");const $e=this.svgFactory.createElement("svg:image");$e.setAttributeNS(pe,"xlink:href",Ye),$e.setAttributeNS(null,"x","0"),$e.setAttributeNS(null,"y",xe(-Re)),$e.setAttributeNS(null,"width",xe(ye)+"px"),$e.setAttributeNS(null,"height",xe(Re)+"px"),$e.setAttributeNS(null,"transform",`scale(${xe(1/ye)} ${xe(-1/Re)})`),Ce?Ce.append($e):this._ensureTransformGroup().append($e)}paintImageMaskXObject(Ee){const Ce=this.current,ye=Ee.width,Re=Ee.height,Ye=Ce.fillColor;Ce.maskId=`mask${Fe++}`;const ke=this.svgFactory.createElement("svg:mask");ke.setAttributeNS(null,"id",Ce.maskId);const $e=this.svgFactory.createElement("svg:rect");$e.setAttributeNS(null,"x","0"),$e.setAttributeNS(null,"y","0"),$e.setAttributeNS(null,"width",xe(ye)),$e.setAttributeNS(null,"height",xe(Re)),$e.setAttributeNS(null,"fill",Ye),$e.setAttributeNS(null,"mask",`url(#${Ce.maskId})`),this.defs.append(ke),this._ensureTransformGroup().append($e),this.paintInlineImageXObject(Ee,ke)}paintFormXObjectBegin(Ee,Ce){if(Array.isArray(Ee)&&Ee.length===6&&this.transform(Ee[0],Ee[1],Ee[2],Ee[3],Ee[4],Ee[5]),Ce){const ye=Ce[2]-Ce[0],Re=Ce[3]-Ce[1],Ye=this.svgFactory.createElement("svg:rect");Ye.setAttributeNS(null,"x",Ce[0]),Ye.setAttributeNS(null,"y",Ce[1]),Ye.setAttributeNS(null,"width",xe(ye)),Ye.setAttributeNS(null,"height",xe(Re)),this.current.element=Ye,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Ee){const Ce=this.svgFactory.create(Ee.width,Ee.height),ye=this.svgFactory.createElement("svg:defs");Ce.append(ye),this.defs=ye;const Re=this.svgFactory.createElement("svg:g");return Re.setAttributeNS(null,"transform",ue(Ee.transform)),Ce.append(Re),this.svg=Re,Ce}_ensureClipGroup(){if(!this.current.clipGroup){const Ee=this.svgFactory.createElement("svg:g");Ee.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Ee),this.current.clipGroup=Ee}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ue(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var ne=te(1),ie=te(33);const se=require$$5,le=require$$5,oe=require$$5,ce=require$$5,ae=/^file:\/\/\/[a-zA-Z]:\//;function he(xe){const ue=ce.parse(xe);return ue.protocol==="file:"||ue.host?ue:/^[a-z]:[/\\]/i.test(xe)?ce.parse(`file:///${xe}`):(ue.host||(ue.protocol="file:"),ue)}class de{constructor(ue){this.source=ue,this.url=he(ue.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&ue.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ue;return((ue=this._fullRequestReader)==null?void 0:ue._loaded)??0}getFullReader(){return(0,ne.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new fe(this):new ge(this),this._fullRequestReader}getRangeReader(ue,we){if(we<=this._progressiveDataLength)return null;const Fe=this.isFsUrl?new be(this,ue,we):new Se(this,ue,we);return this._rangeRequestReaders.push(Fe),Fe}cancelAllRequests(ue){this._fullRequestReader&&this._fullRequestReader.cancel(ue);for(const we of this._rangeRequestReaders.slice(0))we.cancel(ue)}}$.PDFNodeStream=de;class pe{constructor(ue){this._url=ue.url,this._done=!1,this._storedError=null,this.onProgress=null;const we=ue.source;this._contentLength=we.length,this._loaded=0,this._filename=null,this._disableRange=we.disableRange||!1,this._rangeChunkSize=we.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!we.disableStream,this._isRangeSupported=!we.disableRange,this._readableStream=null,this._readCapability=(0,ne.createPromiseCapability)(),this._headersCapability=(0,ne.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ue=this._readableStream.read();return ue===null?(this._readCapability=(0,ne.createPromiseCapability)(),this.read()):(this._loaded+=ue.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ue).buffer,done:!1})}cancel(ue){if(!this._readableStream){this._error(ue);return}this._readableStream.destroy(ue)}_error(ue){this._storedError=ue,this._readCapability.resolve()}_setReadableStream(ue){this._readableStream=ue,ue.on("readable",()=>{this._readCapability.resolve()}),ue.on("end",()=>{ue.destroy(),this._done=!0,this._readCapability.resolve()}),ue.on("error",we=>{this._error(we)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ne.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class re{constructor(ue){this._url=ue.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,ne.createPromiseCapability)();const we=ue.source;this._isStreamingSupported=!we.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const ue=this._readableStream.read();return ue===null?(this._readCapability=(0,ne.createPromiseCapability)(),this.read()):(this._loaded+=ue.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(ue).buffer,done:!1})}cancel(ue){if(!this._readableStream){this._error(ue);return}this._readableStream.destroy(ue)}_error(ue){this._storedError=ue,this._readCapability.resolve()}_setReadableStream(ue){this._readableStream=ue,ue.on("readable",()=>{this._readCapability.resolve()}),ue.on("end",()=>{ue.destroy(),this._done=!0,this._readCapability.resolve()}),ue.on("error",we=>{this._error(we)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Ae(xe,ue){return{protocol:xe.protocol,auth:xe.auth,host:xe.hostname,port:xe.port,path:xe.path,method:"GET",headers:ue}}class ge extends pe{constructor(ue){super(ue);const we=Fe=>{if(Fe.statusCode===404){const ye=new ne.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ye,this._headersCapability.reject(ye);return}this._headersCapability.resolve(),this._setReadableStream(Fe);const _e=ye=>this._readableStream.headers[ye.toLowerCase()],{allowRangeRequests:Ee,suggestedLength:Ce}=(0,ie.validateRangeRequestCapabilities)({getResponseHeader:_e,isHttp:ue.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ee,this._contentLength=Ce||this._contentLength,this._filename=(0,ie.extractFilenameFromHeader)(_e)};this._request=null,this._url.protocol==="http:"?this._request=le.request(Ae(this._url,ue.httpHeaders),we):this._request=oe.request(Ae(this._url,ue.httpHeaders),we),this._request.on("error",Fe=>{this._storedError=Fe,this._headersCapability.reject(Fe)}),this._request.end()}}class Se extends re{constructor(ue,we,Fe){super(ue),this._httpHeaders={};for(const Ee in ue.httpHeaders){const Ce=ue.httpHeaders[Ee];typeof Ce>"u"||(this._httpHeaders[Ee]=Ce)}this._httpHeaders.Range=`bytes=${we}-${Fe-1}`;const _e=Ee=>{if(Ee.statusCode===404){const Ce=new ne.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ce;return}this._setReadableStream(Ee)};this._request=null,this._url.protocol==="http:"?this._request=le.request(Ae(this._url,this._httpHeaders),_e):this._request=oe.request(Ae(this._url,this._httpHeaders),_e),this._request.on("error",Ee=>{this._storedError=Ee}),this._request.end()}}class fe extends pe{constructor(ue){super(ue);let we=decodeURIComponent(this._url.path);ae.test(this._url.href)&&(we=we.replace(/^\//,"")),se.lstat(we,(Fe,_e)=>{if(Fe){Fe.code==="ENOENT"&&(Fe=new ne.MissingPDFException(`Missing PDF "${we}".`)),this._storedError=Fe,this._headersCapability.reject(Fe);return}this._contentLength=_e.size,this._setReadableStream(se.createReadStream(we)),this._headersCapability.resolve()})}}class be extends re{constructor(ue,we,Fe){super(ue);let _e=decodeURIComponent(this._url.path);ae.test(this._url.href)&&(_e=_e.replace(/^\//,"")),this._setReadableStream(se.createReadStream(_e,{start:we,end:Fe-1}))}}},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=ce,$.extractFilenameFromHeader=oe,$.validateRangeRequestCapabilities=le,$.validateResponseStatus=ae;var ne=te(1),ie=te(34),se=te(8);function le({getResponseHeader:he,isHttp:de,rangeChunkSize:pe,disableRange:re}){const Ae={allowRangeRequests:!1,suggestedLength:void 0},ge=parseInt(he("Content-Length"),10);return!Number.isInteger(ge)||(Ae.suggestedLength=ge,ge<=2*pe)||re||!de||he("Accept-Ranges")!=="bytes"||(he("Content-Encoding")||"identity")!=="identity"||(Ae.allowRangeRequests=!0),Ae}function oe(he){const de=he("Content-Disposition");if(de){let pe=(0,ie.getFilenameFromContentDispositionHeader)(de);if(pe.includes("%"))try{pe=decodeURIComponent(pe)}catch{}if((0,se.isPdfFile)(pe))return pe}return null}function ce(he,de){return he===404||he===0&&de.startsWith("file:")?new ne.MissingPDFException('Missing PDF "'+de+'".'):new ne.UnexpectedResponseException(`Unexpected server response (${he}) while retrieving PDF "${de}".`,he)}function ae(he){return he===200||he===206}},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=ie;var ne=te(1);function ie(se){let le=!0,oe=ce("filename\\*","i").exec(se);if(oe){oe=oe[1];let ge=pe(oe);return ge=unescape(ge),ge=re(ge),ge=Ae(ge),he(ge)}if(oe=de(se),oe){const ge=Ae(oe);return he(ge)}if(oe=ce("filename","i").exec(se),oe){oe=oe[1];let ge=pe(oe);return ge=Ae(ge),he(ge)}function ce(ge,Se){return new RegExp("(?:^|;)\\s*"+ge+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Se)}function ae(ge,Se){if(ge){if(!/^[\x00-\xFF]+$/.test(Se))return Se;try{const fe=new TextDecoder(ge,{fatal:!0}),be=(0,ne.stringToBytes)(Se);Se=fe.decode(be),le=!1}catch{}}return Se}function he(ge){return le&&/[\x80-\xff]/.test(ge)&&(ge=ae("utf-8",ge),le&&(ge=ae("iso-8859-1",ge))),ge}function de(ge){const Se=[];let fe;const be=ce("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(fe=be.exec(ge))!==null;){let[,ue,we,Fe]=fe;if(ue=parseInt(ue,10),ue in Se){if(ue===0)break;continue}Se[ue]=[we,Fe]}const xe=[];for(let ue=0;ue<Se.length&&ue in Se;++ue){let[we,Fe]=Se[ue];Fe=pe(Fe),we&&(Fe=unescape(Fe),ue===0&&(Fe=re(Fe))),xe.push(Fe)}return xe.join("")}function pe(ge){if(ge.startsWith('"')){const Se=ge.slice(1).split('\\"');for(let fe=0;fe<Se.length;++fe){const be=Se[fe].indexOf('"');be!==-1&&(Se[fe]=Se[fe].slice(0,be),Se.length=fe+1),Se[fe]=Se[fe].replace(/\\(.)/g,"$1")}ge=Se.join('"')}return ge}function re(ge){const Se=ge.indexOf("'");if(Se===-1)return ge;const fe=ge.slice(0,Se),xe=ge.slice(Se+1).replace(/^[^']*'/,"");return ae(fe,xe)}function Ae(ge){return!ge.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ge)?ge:ge.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Se,fe,be,xe){if(be==="q"||be==="Q")return xe=xe.replace(/_/g," "),xe=xe.replace(/=([0-9a-fA-F]{2})/g,function(ue,we){return String.fromCharCode(parseInt(we,16))}),ae(fe,xe);try{xe=atob(xe)}catch{}return ae(fe,xe)})}return""}},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var ne=te(1),ie=te(33);const se=200,le=206;function oe(pe){const re=pe.response;return typeof re!="string"?re:(0,ne.stringToBytes)(re).buffer}class ce{constructor(re,Ae={}){this.url=re,this.isHttp=/^https?:/i.test(re),this.httpHeaders=this.isHttp&&Ae.httpHeaders||Object.create(null),this.withCredentials=Ae.withCredentials||!1,this.getXhr=Ae.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(re,Ae,ge){const Se={begin:re,end:Ae};for(const fe in ge)Se[fe]=ge[fe];return this.request(Se)}requestFull(re){return this.request(re)}request(re){const Ae=this.getXhr(),ge=this.currXhrId++,Se=this.pendingRequests[ge]={xhr:Ae};Ae.open("GET",this.url),Ae.withCredentials=this.withCredentials;for(const fe in this.httpHeaders){const be=this.httpHeaders[fe];typeof be>"u"||Ae.setRequestHeader(fe,be)}return this.isHttp&&"begin"in re&&"end"in re?(Ae.setRequestHeader("Range",`bytes=${re.begin}-${re.end-1}`),Se.expectedStatus=le):Se.expectedStatus=se,Ae.responseType="arraybuffer",re.onError&&(Ae.onerror=function(fe){re.onError(Ae.status)}),Ae.onreadystatechange=this.onStateChange.bind(this,ge),Ae.onprogress=this.onProgress.bind(this,ge),Se.onHeadersReceived=re.onHeadersReceived,Se.onDone=re.onDone,Se.onError=re.onError,Se.onProgress=re.onProgress,Ae.send(null),ge}onProgress(re,Ae){var Se;const ge=this.pendingRequests[re];ge&&((Se=ge.onProgress)==null||Se.call(ge,Ae))}onStateChange(re,Ae){var ue,we,Fe;const ge=this.pendingRequests[re];if(!ge)return;const Se=ge.xhr;if(Se.readyState>=2&&ge.onHeadersReceived&&(ge.onHeadersReceived(),delete ge.onHeadersReceived),Se.readyState!==4||!(re in this.pendingRequests))return;if(delete this.pendingRequests[re],Se.status===0&&this.isHttp){(ue=ge.onError)==null||ue.call(ge,Se.status);return}const fe=Se.status||se;if(!(fe===se&&ge.expectedStatus===le)&&fe!==ge.expectedStatus){(we=ge.onError)==null||we.call(ge,Se.status);return}const xe=oe(Se);if(fe===le){const _e=Se.getResponseHeader("Content-Range"),Ee=/bytes (\d+)-(\d+)\/(\d+)/.exec(_e);ge.onDone({begin:parseInt(Ee[1],10),chunk:xe})}else xe?ge.onDone({begin:0,chunk:xe}):(Fe=ge.onError)==null||Fe.call(ge,Se.status)}getRequestXhr(re){return this.pendingRequests[re].xhr}isPendingRequest(re){return re in this.pendingRequests}abortRequest(re){const Ae=this.pendingRequests[re].xhr;delete this.pendingRequests[re],Ae.abort()}}class ae{constructor(re){this._source=re,this._manager=new ce(re.url,{httpHeaders:re.httpHeaders,withCredentials:re.withCredentials}),this._rangeChunkSize=re.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(re){const Ae=this._rangeRequestReaders.indexOf(re);Ae>=0&&this._rangeRequestReaders.splice(Ae,1)}getFullReader(){return(0,ne.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new he(this._manager,this._source),this._fullRequestReader}getRangeReader(re,Ae){const ge=new de(this._manager,re,Ae);return ge.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ge),ge}cancelAllRequests(re){var Ae;(Ae=this._fullRequestReader)==null||Ae.cancel(re);for(const ge of this._rangeRequestReaders.slice(0))ge.cancel(re)}}$.PDFNetworkStream=ae;class he{constructor(re,Ae){this._manager=re;const ge={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Ae.url,this._fullRequestId=re.requestFull(ge),this._headersReceivedCapability=(0,ne.createPromiseCapability)(),this._disableRange=Ae.disableRange||!1,this._contentLength=Ae.length,this._rangeChunkSize=Ae.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const re=this._fullRequestId,Ae=this._manager.getRequestXhr(re),ge=be=>Ae.getResponseHeader(be),{allowRangeRequests:Se,suggestedLength:fe}=(0,ie.validateRangeRequestCapabilities)({getResponseHeader:ge,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Se&&(this._isRangeSupported=!0),this._contentLength=fe||this._contentLength,this._filename=(0,ie.extractFilenameFromHeader)(ge),this._isRangeSupported&&this._manager.abortRequest(re),this._headersReceivedCapability.resolve()}_onDone(re){if(re&&(this._requests.length>0?this._requests.shift().resolve({value:re.chunk,done:!1}):this._cachedChunks.push(re.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Ae of this._requests)Ae.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(re){this._storedError=(0,ie.createResponseStatusError)(re,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Ae of this._requests)Ae.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(re){var Ae;(Ae=this.onProgress)==null||Ae.call(this,{loaded:re.loaded,total:re.lengthComputable?re.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const re=(0,ne.createPromiseCapability)();return this._requests.push(re),re.promise}cancel(re){this._done=!0,this._headersReceivedCapability.reject(re);for(const Ae of this._requests)Ae.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class de{constructor(re,Ae,ge){this._manager=re;const Se={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=re.url,this._requestId=re.requestRange(Ae,ge,Se),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var re;(re=this.onClosed)==null||re.call(this,this)}_onDone(re){const Ae=re.chunk;this._requests.length>0?this._requests.shift().resolve({value:Ae,done:!1}):this._queuedChunk=Ae,this._done=!0;for(const ge of this._requests)ge.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(re){this._storedError=(0,ie.createResponseStatusError)(re,this._url);for(const Ae of this._requests)Ae.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(re){var Ae;this.isStreamingSupported||(Ae=this.onProgress)==null||Ae.call(this,{loaded:re.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Ae=this._queuedChunk;return this._queuedChunk=null,{value:Ae,done:!1}}if(this._done)return{value:void 0,done:!0};const re=(0,ne.createPromiseCapability)();return this._requests.push(re),re.promise}cancel(re){this._done=!0;for(const Ae of this._requests)Ae.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ee,$,te)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var ne=te(1),ie=te(33);function se(he,de,pe){return{method:"GET",headers:he,signal:pe.signal,mode:"cors",credentials:de?"include":"same-origin",redirect:"follow"}}function le(he){const de=new Headers;for(const pe in he){const re=he[pe];typeof re>"u"||de.append(pe,re)}return de}class oe{constructor(de){this.source=de,this.isHttp=/^https?:/i.test(de.url),this.httpHeaders=this.isHttp&&de.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var de;return((de=this._fullRequestReader)==null?void 0:de._loaded)??0}getFullReader(){return(0,ne.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ce(this),this._fullRequestReader}getRangeReader(de,pe){if(pe<=this._progressiveDataLength)return null;const re=new ae(this,de,pe);return this._rangeRequestReaders.push(re),re}cancelAllRequests(de){this._fullRequestReader&&this._fullRequestReader.cancel(de);for(const pe of this._rangeRequestReaders.slice(0))pe.cancel(de)}}$.PDFFetchStream=oe;class ce{constructor(de){this._stream=de,this._reader=null,this._loaded=0,this._filename=null;const pe=de.source;this._withCredentials=pe.withCredentials||!1,this._contentLength=pe.length,this._headersCapability=(0,ne.createPromiseCapability)(),this._disableRange=pe.disableRange||!1,this._rangeChunkSize=pe.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!pe.disableStream,this._isRangeSupported=!pe.disableRange,this._headers=le(this._stream.httpHeaders);const re=pe.url;fetch(re,se(this._headers,this._withCredentials,this._abortController)).then(Ae=>{if(!(0,ie.validateResponseStatus)(Ae.status))throw(0,ie.createResponseStatusError)(Ae.status,re);this._reader=Ae.body.getReader(),this._headersCapability.resolve();const ge=be=>Ae.headers.get(be),{allowRangeRequests:Se,suggestedLength:fe}=(0,ie.validateRangeRequestCapabilities)({getResponseHeader:ge,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Se,this._contentLength=fe||this._contentLength,this._filename=(0,ie.extractFilenameFromHeader)(ge),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ne.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:de,done:pe}=await this._reader.read();return pe?{value:de,done:pe}:(this._loaded+=de.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(de).buffer,done:!1})}cancel(de){this._reader&&this._reader.cancel(de),this._abortController.abort()}}class ae{constructor(de,pe,re){this._stream=de,this._reader=null,this._loaded=0;const Ae=de.source;this._withCredentials=Ae.withCredentials||!1,this._readCapability=(0,ne.createPromiseCapability)(),this._isStreamingSupported=!Ae.disableStream,this._abortController=new AbortController,this._headers=le(this._stream.httpHeaders),this._headers.append("Range",`bytes=${pe}-${re-1}`);const ge=Ae.url;fetch(ge,se(this._headers,this._withCredentials,this._abortController)).then(Se=>{if(!(0,ie.validateResponseStatus)(Se.status))throw(0,ie.createResponseStatusError)(Se.status,ge);this._readCapability.resolve(),this._reader=Se.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:de,done:pe}=await this._reader.read();return pe?{value:de,done:pe}:(this._loaded+=de.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(de).buffer,done:!1})}cancel(de){this._reader&&this._reader.cancel(de),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(ee){var $=__webpack_module_cache__[ee];if($!==void 0)return $.exports;var te=__webpack_module_cache__[ee]={exports:{}};return __webpack_modules__[ee](te,te.exports,__w_pdfjs_require__),te.exports}var __webpack_exports__={};return(()=>{var ee=__webpack_exports__;Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ie.AnnotationEditorLayer}}),Object.defineProperty(ee,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(ee,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(ee,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return se.AnnotationEditorUIManager}}),Object.defineProperty(ee,"AnnotationLayer",{enumerable:!0,get:function(){return le.AnnotationLayer}}),Object.defineProperty(ee,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(ee,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(ee,"GlobalWorkerOptions",{enumerable:!0,get:function(){return oe.GlobalWorkerOptions}}),Object.defineProperty(ee,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(ee,"LoopbackPort",{enumerable:!0,get:function(){return te.LoopbackPort}}),Object.defineProperty(ee,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(ee,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(ee,"PDFDataRangeTransport",{enumerable:!0,get:function(){return te.PDFDataRangeTransport}}),Object.defineProperty(ee,"PDFDateString",{enumerable:!0,get:function(){return ne.PDFDateString}}),Object.defineProperty(ee,"PDFWorker",{enumerable:!0,get:function(){return te.PDFWorker}}),Object.defineProperty(ee,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(ee,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(ee,"PixelsPerInch",{enumerable:!0,get:function(){return ne.PixelsPerInch}}),Object.defineProperty(ee,"RenderingCancelledException",{enumerable:!0,get:function(){return ne.RenderingCancelledException}}),Object.defineProperty(ee,"SVGGraphics",{enumerable:!0,get:function(){return he.SVGGraphics}}),Object.defineProperty(ee,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(ee,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(ee,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(ee,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(ee,"XfaLayer",{enumerable:!0,get:function(){return de.XfaLayer}}),Object.defineProperty(ee,"build",{enumerable:!0,get:function(){return te.build}}),Object.defineProperty(ee,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(ee,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(ee,"getDocument",{enumerable:!0,get:function(){return te.getDocument}}),Object.defineProperty(ee,"getFilenameFromUrl",{enumerable:!0,get:function(){return ne.getFilenameFromUrl}}),Object.defineProperty(ee,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return ne.getPdfFilenameFromUrl}}),Object.defineProperty(ee,"getXfaPageViewport",{enumerable:!0,get:function(){return ne.getXfaPageViewport}}),Object.defineProperty(ee,"isPdfFile",{enumerable:!0,get:function(){return ne.isPdfFile}}),Object.defineProperty(ee,"loadScript",{enumerable:!0,get:function(){return ne.loadScript}}),Object.defineProperty(ee,"renderTextLayer",{enumerable:!0,get:function(){return ae.renderTextLayer}}),Object.defineProperty(ee,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(ee,"version",{enumerable:!0,get:function(){return te.version}});var $=__w_pdfjs_require__(1),te=__w_pdfjs_require__(4),ne=__w_pdfjs_require__(8),ie=__w_pdfjs_require__(22),se=__w_pdfjs_require__(7),le=__w_pdfjs_require__(27),oe=__w_pdfjs_require__(15),ce=__w_pdfjs_require__(3),ae=__w_pdfjs_require__(30),he=__w_pdfjs_require__(31),de=__w_pdfjs_require__(29);if(ce.isNodeJS){const{PDFNodeStream:pe}=__w_pdfjs_require__(32);(0,te.setPDFNetworkStreamFactory)(re=>new pe(re))}else{const{PDFNetworkStream:pe}=__w_pdfjs_require__(35),{PDFFetchStream:re}=__w_pdfjs_require__(36);(0,te.setPDFNetworkStreamFactory)(Ae=>(0,ne.isValidFetchUrl)(Ae.url)?new re(Ae):new pe(Ae))}})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports,pdf_worker_entry={},pdf_worker={exports:{}};(function(ee,$){(function(ne,ie){ee.exports=ie()})(globalThis,()=>(()=>{var te=[,(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.WorkerTask=oe.WorkerMessageHandler=void 0;var ae=ce(2),he=ce(5),de=ce(6),pe=ce(8),re=ce(71),Ae=ce(65),ge=ce(4),Se=ce(102),fe=ce(103);class be{constructor(Fe){this.name=Fe,this.terminated=!1,this._capability=(0,ae.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}oe.WorkerTask=be;class xe{static setup(Fe,_e){let Ee=!1;Fe.on("test",function(ye){Ee||(Ee=!0,Fe.send("test",ye instanceof Uint8Array))}),Fe.on("configure",function(ye){(0,ae.setVerbosityLevel)(ye.verbosity)}),Fe.on("GetDocRequest",function(ye){return xe.createDocumentHandler(ye,_e)})}static createDocumentHandler(Fe,_e){let Ee,Ce=!1,ye=null;const Re=[],Ye=(0,ae.getVerbosityLevel)(),ke=Fe.apiVersion,$e="2.16.105";if(ke!==$e)throw new Error(`The API version "${ke}" does not match the Worker version "${$e}".`);const Be=[];for(const qe in[])Be.push(qe);if(Be.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+Be.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u"){const qe="The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); ";throw ge.isNodeJS?new Error(qe+"please use a `legacy`-build instead."):new Error(qe+"please update to a supported browser.")}const Pe=Fe.docId,Ue=Fe.docBaseUrl,Te=Fe.docId+"_worker";let Me=new Se.MessageHandler(Te,Pe,_e);function Ve(){if(Ce)throw new Error("Worker was terminated")}function He(qe){Re.push(qe)}function Ie(qe){qe.finish();const it=Re.indexOf(qe);Re.splice(it,1)}async function Le(qe){await Ee.ensureDoc("checkHeader"),await Ee.ensureDoc("parseStartXRef"),await Ee.ensureDoc("parse",[qe]),await Ee.ensureDoc("checkFirstPage",[qe]),await Ee.ensureDoc("checkLastPage",[qe]);const it=await Ee.ensureDoc("isPureXfa");if(it){const ot=new be("loadXfaFonts");He(ot),await Promise.all([Ee.loadXfaFonts(Me,ot).catch(Ge=>{}).then(()=>Ie(ot)),Ee.loadXfaImages()])}const[tt,Xe]=await Promise.all([Ee.ensureDoc("numPages"),Ee.ensureDoc("fingerprints")]),Ze=it?await Ee.ensureDoc("htmlForXfa"):null;return{numPages:tt,fingerprints:Xe,htmlForXfa:Ze}}function Oe(qe,it,tt){const Xe=(0,ae.createPromiseCapability)();let Ze;const ot=qe.source;if(ot.data){try{Ze=new pe.LocalPdfManager(Pe,ot.data,ot.password,Me,it,tt,Ue),Xe.resolve(Ze)}catch(rt){Xe.reject(rt)}return Xe.promise}let Ge,Ke=[];try{Ge=new fe.PDFWorkerStream(Me)}catch(rt){return Xe.reject(rt),Xe.promise}const je=Ge.getFullReader();je.headersReady.then(function(){if(!je.isRangeSupported)return;const rt=ot.disableAutoFetch||je.isStreamingSupported;Ze=new pe.NetworkPdfManager(Pe,Ge,{msgHandler:Me,password:ot.password,length:je.contentLength,disableAutoFetch:rt,rangeChunkSize:ot.rangeChunkSize},it,tt,Ue);for(const et of Ke)Ze.sendProgressiveData(et);Ke=[],Xe.resolve(Ze),ye=null}).catch(function(rt){Xe.reject(rt),ye=null});let nt=0;const Qe=function(){const rt=(0,ae.arraysToBytes)(Ke);ot.length&&rt.length!==ot.length&&(0,ae.warn)("reported HTTP length is different from actual");try{Ze=new pe.LocalPdfManager(Pe,rt,ot.password,Me,it,tt,Ue),Xe.resolve(Ze)}catch(et){Xe.reject(et)}Ke=[]};return new Promise(function(rt,et){const ct=function({value:at,done:Je}){try{if(Ve(),Je){Ze||Qe(),ye=null;return}nt+=(0,ae.arrayByteLength)(at),je.isStreamingSupported||Me.send("DocProgress",{loaded:nt,total:Math.max(nt,je.contentLength||0)}),Ze?Ze.sendProgressiveData(at):Ke.push(at),je.read().then(ct,et)}catch(lt){et(lt)}};je.read().then(ct,et)}).catch(function(rt){Xe.reject(rt),ye=null}),ye=function(rt){Ge.cancelAllRequests(rt)},Xe.promise}function Ne(qe){function it(ot){Ve(),Me.send("GetDoc",{pdfInfo:ot})}function tt(ot){if(Ve(),ot instanceof ae.PasswordException){const Ge=new be(`PasswordException: response ${ot.code}`);He(Ge),Me.sendWithPromise("PasswordRequest",ot).then(function({password:Ke}){Ie(Ge),Ee.updatePassword(Ke),Xe()}).catch(function(){Ie(Ge),Me.send("DocException",ot)})}else ot instanceof ae.InvalidPDFException||ot instanceof ae.MissingPDFException||ot instanceof ae.UnexpectedResponseException||ot instanceof ae.UnknownErrorException?Me.send("DocException",ot):Me.send("DocException",new ae.UnknownErrorException(ot.message,ot.toString()))}function Xe(){Ve(),Le(!1).then(it,function(ot){if(Ve(),!(ot instanceof de.XRefParseException)){tt(ot);return}Ee.requestLoadedStream(),Ee.onLoadedStream().then(function(){Ve(),Le(!0).then(it,tt)})})}Ve();const Ze={maxImageSize:qe.maxImageSize,disableFontFace:qe.disableFontFace,ignoreErrors:qe.ignoreErrors,isEvalSupported:qe.isEvalSupported,fontExtraProperties:qe.fontExtraProperties,useSystemFonts:qe.useSystemFonts,cMapUrl:qe.cMapUrl,standardFontDataUrl:qe.standardFontDataUrl};Oe(qe,Ze,qe.enableXfa).then(function(ot){if(Ce)throw ot.terminate(new ae.AbortException("Worker was terminated.")),new Error("Worker was terminated");Ee=ot,Ee.onLoadedStream().then(function(Ge){Me.send("DataLoaded",{length:Ge.bytes.byteLength})})}).then(Xe,tt)}return Me.on("GetPage",function(it){return Ee.getPage(it.pageIndex).then(function(tt){return Promise.all([Ee.ensure(tt,"rotate"),Ee.ensure(tt,"ref"),Ee.ensure(tt,"userUnit"),Ee.ensure(tt,"view")]).then(function([Xe,Ze,ot,Ge]){return{rotate:Xe,ref:Ze,userUnit:ot,view:Ge}})})}),Me.on("GetPageIndex",function(it){const tt=he.Ref.get(it.num,it.gen);return Ee.ensureCatalog("getPageIndex",[tt])}),Me.on("GetDestinations",function(it){return Ee.ensureCatalog("destinations")}),Me.on("GetDestination",function(it){return Ee.ensureCatalog("getDestination",[it.id])}),Me.on("GetPageLabels",function(it){return Ee.ensureCatalog("pageLabels")}),Me.on("GetPageLayout",function(it){return Ee.ensureCatalog("pageLayout")}),Me.on("GetPageMode",function(it){return Ee.ensureCatalog("pageMode")}),Me.on("GetViewerPreferences",function(qe){return Ee.ensureCatalog("viewerPreferences")}),Me.on("GetOpenAction",function(qe){return Ee.ensureCatalog("openAction")}),Me.on("GetAttachments",function(it){return Ee.ensureCatalog("attachments")}),Me.on("GetJavaScript",function(it){return Ee.ensureCatalog("javaScript")}),Me.on("GetDocJSActions",function(it){return Ee.ensureCatalog("jsActions")}),Me.on("GetPageJSActions",function({pageIndex:qe}){return Ee.getPage(qe).then(function(it){return Ee.ensure(it,"jsActions")})}),Me.on("GetOutline",function(it){return Ee.ensureCatalog("documentOutline")}),Me.on("GetOptionalContentConfig",function(qe){return Ee.ensureCatalog("optionalContentConfig")}),Me.on("GetPermissions",function(qe){return Ee.ensureCatalog("permissions")}),Me.on("GetMetadata",function(it){return Promise.all([Ee.ensureDoc("documentInfo"),Ee.ensureCatalog("metadata")])}),Me.on("GetMarkInfo",function(it){return Ee.ensureCatalog("markInfo")}),Me.on("GetData",function(it){return Ee.requestLoadedStream(),Ee.onLoadedStream().then(function(tt){return tt.bytes})}),Me.on("GetAnnotations",function({pageIndex:qe,intent:it}){return Ee.getPage(qe).then(function(tt){const Xe=new be(`GetAnnotations: page ${qe}`);return He(Xe),tt.getAnnotationsData(Me,Xe,it).then(Ze=>(Ie(Xe),Ze),Ze=>{Ie(Xe)})})}),Me.on("GetFieldObjects",function(qe){return Ee.ensureDoc("fieldObjects")}),Me.on("HasJSActions",function(qe){return Ee.ensureDoc("hasJSActions")}),Me.on("GetCalculationOrderIds",function(qe){return Ee.ensureDoc("calculationOrderIds")}),Me.on("SaveDocument",function({isPureXfa:qe,numPages:it,annotationStorage:tt,filename:Xe}){Ee.requestLoadedStream();const Ze=qe?null:(0,de.getNewAnnotationsMap)(tt),ot=[Ee.onLoadedStream(),Ee.ensureCatalog("acroForm"),Ee.ensureCatalog("acroFormRef"),Ee.ensureDoc("xref"),Ee.ensureDoc("startXRef")];if(Ze)for(const[Ge,Ke]of Ze)ot.push(Ee.getPage(Ge).then(je=>{const nt=new be(`Save (editor): page ${Ge}`);return je.saveNewAnnotations(Me,nt,Ke).finally(function(){Ie(nt)})}));if(qe)ot.push(Ee.serializeXfaData(tt));else for(let Ge=0;Ge<it;Ge++)ot.push(Ee.getPage(Ge).then(function(Ke){const je=new be(`Save: page ${Ge}`);return Ke.save(Me,je,tt).finally(function(){Ie(je)})}));return Promise.all(ot).then(function([Ge,Ke,je,nt,Qe,...We]){let rt=[],et=null;if(qe){if(et=We[0],!et)return Ge.bytes}else if(rt=We.flat(2),rt.length===0)return Ge.bytes;const ct=Ke instanceof he.Dict&&Ke.get("XFA")||null;let at=null,Je=!1;if(Array.isArray(ct)){for(let ut=0,ft=ct.length;ut<ft;ut+=2)ct[ut]==="datasets"&&(at=ct[ut+1],je=null,Je=!0);at===null&&(at=nt.getNewRef())}else ct&&(je=null,(0,ae.warn)("Unsupported XFA type."));let lt=Object.create(null);if(nt.trailer){const ut=Object.create(null),ft=nt.trailer.get("Info")||null;ft instanceof he.Dict&&ft.forEach((pt,mt)=>{typeof mt=="string"&&(ut[pt]=(0,ae.stringToPDFString)(mt))}),lt={rootRef:nt.trailer.getRaw("Root")||null,encryptRef:nt.trailer.getRaw("Encrypt")||null,newRef:nt.getNewRef(),infoRef:nt.trailer.getRaw("Info")||null,info:ut,fileIds:nt.trailer.get("ID")||null,startXRef:Qe,filename:Xe}}return nt.resetNewRef(),(0,Ae.incrementalUpdate)({originalData:Ge.bytes,xrefInfo:lt,newRefs:rt,xref:nt,hasXfa:!!ct,xfaDatasetsRef:at,hasXfaDatasetsEntry:Je,acroFormRef:je,acroForm:Ke,xfaData:et})})}),Me.on("GetOperatorList",function(it,tt){const Xe=it.pageIndex;Ee.getPage(Xe).then(function(Ze){const ot=new be(`GetOperatorList: page ${Xe}`);He(ot);const Ge=Ye>=ae.VerbosityLevel.INFOS?Date.now():0;Ze.getOperatorList({handler:Me,sink:tt,task:ot,intent:it.intent,cacheKey:it.cacheKey,annotationStorage:it.annotationStorage}).then(function(Ke){Ie(ot),Ge&&(0,ae.info)(`page=${Xe+1} - getOperatorList: time=${Date.now()-Ge}ms, len=${Ke.length}`),tt.close()},function(Ke){Ie(ot),!ot.terminated&&(Me.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorOperatorList}),tt.error(Ke))})})}),Me.on("GetTextContent",function(it,tt){const Xe=it.pageIndex;Ee.getPage(Xe).then(function(Ze){const ot=new be("GetTextContent: page "+Xe);He(ot);const Ge=Ye>=ae.VerbosityLevel.INFOS?Date.now():0;Ze.extractTextContent({handler:Me,task:ot,sink:tt,includeMarkedContent:it.includeMarkedContent,combineTextItems:it.combineTextItems}).then(function(){Ie(ot),Ge&&(0,ae.info)(`page=${Xe+1} - getTextContent: time=${Date.now()-Ge}ms`),tt.close()},function(Ke){Ie(ot),!ot.terminated&&tt.error(Ke)})})}),Me.on("GetStructTree",function(it){return Ee.getPage(it.pageIndex).then(function(tt){return Ee.ensure(tt,"getStructTree")})}),Me.on("FontFallback",function(qe){return Ee.fontFallback(qe.id,Me)}),Me.on("Cleanup",function(it){return Ee.cleanup(!0)}),Me.on("Terminate",function(it){Ce=!0;const tt=[];if(Ee){Ee.terminate(new ae.AbortException("Worker was terminated."));const Xe=Ee.cleanup();tt.push(Xe),Ee=null}else(0,re.clearGlobalCaches)();ye&&ye(new ae.AbortException("Worker was terminated."));for(const Xe of Re)tt.push(Xe.finished),Xe.terminate();return Promise.all(tt).then(function(){Me.destroy(),Me=null})}),Me.on("Ready",function(it){Ne(Fe),Fe=null}),Te}static initializeFromPort(Fe){const _e=new Se.MessageHandler("worker","main",Fe);xe.setup(_e,Fe),_e.send("ready",null)}}oe.WorkerMessageHandler=xe;function ue(we){return typeof we.postMessage=="function"&&"onmessage"in we}typeof window>"u"&&!ge.isNodeJS&&typeof self<"u"&&ue(self)&&xe.initializeFromPort(self)},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.VerbosityLevel=oe.Util=oe.UnknownErrorException=oe.UnexpectedResponseException=oe.UNSUPPORTED_FEATURES=oe.TextRenderingMode=oe.StreamType=oe.RenderingIntentFlag=oe.PermissionFlag=oe.PasswordResponses=oe.PasswordException=oe.PageActionEventType=oe.OPS=oe.MissingPDFException=oe.LINE_FACTOR=oe.LINE_DESCENT_FACTOR=oe.InvalidPDFException=oe.ImageKind=oe.IDENTITY_MATRIX=oe.FormatError=oe.FontType=oe.FeatureTest=oe.FONT_IDENTITY_MATRIX=oe.DocumentActionEventType=oe.CMapCompressionType=oe.BaseException=oe.AnnotationType=oe.AnnotationStateModelType=oe.AnnotationReviewState=oe.AnnotationReplyType=oe.AnnotationMode=oe.AnnotationMarkedState=oe.AnnotationFlag=oe.AnnotationFieldFlag=oe.AnnotationEditorType=oe.AnnotationEditorPrefix=oe.AnnotationEditorParamsType=oe.AnnotationBorderStyleType=oe.AnnotationActionEventType=oe.AbortException=void 0,oe.arrayByteLength=lt,oe.arraysToBytes=ut,oe.assert=Xe,oe.bytesToString=at,oe.createPromiseCapability=Yt,oe.createValidAbsoluteUrl=ot,oe.escapeString=Bt,oe.getModificationDate=Ut,oe.getVerbosityLevel=Ne,oe.info=qe,oe.isArrayBuffer=bt,oe.isArrayEqual=Pt,oe.isAscii=St,oe.objectFromMap=mt,oe.objectSize=pt,oe.setVerbosityLevel=Oe,oe.shadow=Ge,oe.string32=ft,oe.stringToBytes=Je,oe.stringToPDFString=jt,oe.stringToUTF16BEString=Ft,oe.stringToUTF8String=Ct,oe.unreachable=tt,oe.utf8StringToString=yt,oe.warn=it,ce(3);const ae=[1,0,0,1,0,0];oe.IDENTITY_MATRIX=ae;const he=[.001,0,0,.001,0,0];oe.FONT_IDENTITY_MATRIX=he;const de=1.35;oe.LINE_FACTOR=de;const pe=.35;oe.LINE_DESCENT_FACTOR=pe;const re={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};oe.RenderingIntentFlag=re;const Ae={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};oe.AnnotationMode=Ae;const ge="pdfjs_internal_editor_";oe.AnnotationEditorPrefix=ge;const Se={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};oe.AnnotationEditorType=Se;const fe={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};oe.AnnotationEditorParamsType=fe;const be={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};oe.PermissionFlag=be;const xe={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};oe.TextRenderingMode=xe;const ue={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};oe.ImageKind=ue;const we={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};oe.AnnotationType=we;const Fe={MARKED:"Marked",REVIEW:"Review"};oe.AnnotationStateModelType=Fe;const _e={MARKED:"Marked",UNMARKED:"Unmarked"};oe.AnnotationMarkedState=_e;const Ee={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};oe.AnnotationReviewState=Ee;const Ce={GROUP:"Group",REPLY:"R"};oe.AnnotationReplyType=Ce;const ye={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};oe.AnnotationFlag=ye;const Re={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};oe.AnnotationFieldFlag=Re;const Ye={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};oe.AnnotationBorderStyleType=Ye;const ke={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};oe.AnnotationActionEventType=ke;const $e={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};oe.DocumentActionEventType=$e;const Be={O:"PageOpen",C:"PageClose"};oe.PageActionEventType=Be;const Pe={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};oe.StreamType=Pe;const Ue={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};oe.FontType=Ue;const Te={ERRORS:0,WARNINGS:1,INFOS:5};oe.VerbosityLevel=Te;const Me={NONE:0,BINARY:1,STREAM:2};oe.CMapCompressionType=Me;const Ve={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};oe.OPS=Ve;const He={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};oe.UNSUPPORTED_FEATURES=He;const Ie={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};oe.PasswordResponses=Ie;let Le=Te.WARNINGS;function Oe(kt){Number.isInteger(kt)&&(Le=kt)}function Ne(){return Le}function qe(kt){Le>=Te.INFOS&&console.log(`Info: ${kt}`)}function it(kt){Le>=Te.WARNINGS&&console.log(`Warning: ${kt}`)}function tt(kt){throw new Error(kt)}function Xe(kt,Ot){kt||tt(Ot)}function Ze(kt){if(!kt)return!1;switch(kt.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ot(kt,Ot=null,Et=null){if(!kt)return null;try{if(Et&&typeof kt=="string"){if(Et.addDefaultProtocol&&kt.startsWith("www.")){const en=kt.match(/\./g);en&&en.length>=2&&(kt=`http://${kt}`)}if(Et.tryConvertEncoding)try{kt=Ct(kt)}catch{}}const nn=Ot?new URL(kt,Ot):new URL(kt);if(Ze(nn))return nn}catch{}return null}function Ge(kt,Ot,Et){return Object.defineProperty(kt,Ot,{value:Et,enumerable:!0,configurable:!0,writable:!1}),Et}const Ke=function(){function Ot(Et,nn){this.constructor===Ot&&tt("Cannot initialize BaseException."),this.message=Et,this.name=nn}return Ot.prototype=new Error,Ot.constructor=Ot,Ot}();oe.BaseException=Ke;class je extends Ke{constructor(Ot,Et){super(Ot,"PasswordException"),this.code=Et}}oe.PasswordException=je;class nt extends Ke{constructor(Ot,Et){super(Ot,"UnknownErrorException"),this.details=Et}}oe.UnknownErrorException=nt;class Qe extends Ke{constructor(Ot){super(Ot,"InvalidPDFException")}}oe.InvalidPDFException=Qe;class We extends Ke{constructor(Ot){super(Ot,"MissingPDFException")}}oe.MissingPDFException=We;class rt extends Ke{constructor(Ot,Et){super(Ot,"UnexpectedResponseException"),this.status=Et}}oe.UnexpectedResponseException=rt;class et extends Ke{constructor(Ot){super(Ot,"FormatError")}}oe.FormatError=et;class ct extends Ke{constructor(Ot){super(Ot,"AbortException")}}oe.AbortException=ct;function at(kt){(typeof kt!="object"||kt===null||kt.length===void 0)&&tt("Invalid argument for bytesToString");const Ot=kt.length,Et=8192;if(Ot<Et)return String.fromCharCode.apply(null,kt);const nn=[];for(let en=0;en<Ot;en+=Et){const an=Math.min(en+Et,Ot),Sn=kt.subarray(en,an);nn.push(String.fromCharCode.apply(null,Sn))}return nn.join("")}function Je(kt){typeof kt!="string"&&tt("Invalid argument for stringToBytes");const Ot=kt.length,Et=new Uint8Array(Ot);for(let nn=0;nn<Ot;++nn)Et[nn]=kt.charCodeAt(nn)&255;return Et}function lt(kt){if(kt.length!==void 0)return kt.length;if(kt.byteLength!==void 0)return kt.byteLength;tt("Invalid argument for arrayByteLength")}function ut(kt){const Ot=kt.length;if(Ot===1&&kt[0]instanceof Uint8Array)return kt[0];let Et=0;for(let an=0;an<Ot;an++)Et+=lt(kt[an]);let nn=0;const en=new Uint8Array(Et);for(let an=0;an<Ot;an++){let Sn=kt[an];Sn instanceof Uint8Array||(typeof Sn=="string"?Sn=Je(Sn):Sn=new Uint8Array(Sn));const sn=Sn.byteLength;en.set(Sn,nn),nn+=sn}return en}function ft(kt){return String.fromCharCode(kt>>24&255,kt>>16&255,kt>>8&255,kt&255)}function pt(kt){return Object.keys(kt).length}function mt(kt){const Ot=Object.create(null);for(const[Et,nn]of kt)Ot[Et]=nn;return Ot}function xt(){const kt=new Uint8Array(4);return kt[0]=1,new Uint32Array(kt.buffer,0,1)[0]===1}function vt(){try{return new Function(""),!0}catch{return!1}}class wt{static get isLittleEndian(){return Ge(this,"isLittleEndian",xt())}static get isEvalSupported(){return Ge(this,"isEvalSupported",vt())}static get isOffscreenCanvasSupported(){return Ge(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}oe.FeatureTest=wt;const _t=[...Array(256).keys()].map(kt=>kt.toString(16).padStart(2,"0"));class Tt{static makeHexColor(Ot,Et,nn){return`#${_t[Ot]}${_t[Et]}${_t[nn]}`}static scaleMinMax(Ot,Et){let nn;Ot[0]?(Ot[0]<0&&(nn=Et[0],Et[0]=Et[1],Et[1]=nn),Et[0]*=Ot[0],Et[1]*=Ot[0],Ot[3]<0&&(nn=Et[2],Et[2]=Et[3],Et[3]=nn),Et[2]*=Ot[3],Et[3]*=Ot[3]):(nn=Et[0],Et[0]=Et[2],Et[2]=nn,nn=Et[1],Et[1]=Et[3],Et[3]=nn,Ot[1]<0&&(nn=Et[2],Et[2]=Et[3],Et[3]=nn),Et[2]*=Ot[1],Et[3]*=Ot[1],Ot[2]<0&&(nn=Et[0],Et[0]=Et[1],Et[1]=nn),Et[0]*=Ot[2],Et[1]*=Ot[2]),Et[0]+=Ot[4],Et[1]+=Ot[4],Et[2]+=Ot[5],Et[3]+=Ot[5]}static transform(Ot,Et){return[Ot[0]*Et[0]+Ot[2]*Et[1],Ot[1]*Et[0]+Ot[3]*Et[1],Ot[0]*Et[2]+Ot[2]*Et[3],Ot[1]*Et[2]+Ot[3]*Et[3],Ot[0]*Et[4]+Ot[2]*Et[5]+Ot[4],Ot[1]*Et[4]+Ot[3]*Et[5]+Ot[5]]}static applyTransform(Ot,Et){const nn=Ot[0]*Et[0]+Ot[1]*Et[2]+Et[4],en=Ot[0]*Et[1]+Ot[1]*Et[3]+Et[5];return[nn,en]}static applyInverseTransform(Ot,Et){const nn=Et[0]*Et[3]-Et[1]*Et[2],en=(Ot[0]*Et[3]-Ot[1]*Et[2]+Et[2]*Et[5]-Et[4]*Et[3])/nn,an=(-Ot[0]*Et[1]+Ot[1]*Et[0]+Et[4]*Et[1]-Et[5]*Et[0])/nn;return[en,an]}static getAxialAlignedBoundingBox(Ot,Et){const nn=Tt.applyTransform(Ot,Et),en=Tt.applyTransform(Ot.slice(2,4),Et),an=Tt.applyTransform([Ot[0],Ot[3]],Et),Sn=Tt.applyTransform([Ot[2],Ot[1]],Et);return[Math.min(nn[0],en[0],an[0],Sn[0]),Math.min(nn[1],en[1],an[1],Sn[1]),Math.max(nn[0],en[0],an[0],Sn[0]),Math.max(nn[1],en[1],an[1],Sn[1])]}static inverseTransform(Ot){const Et=Ot[0]*Ot[3]-Ot[1]*Ot[2];return[Ot[3]/Et,-Ot[1]/Et,-Ot[2]/Et,Ot[0]/Et,(Ot[2]*Ot[5]-Ot[4]*Ot[3])/Et,(Ot[4]*Ot[1]-Ot[5]*Ot[0])/Et]}static apply3dTransform(Ot,Et){return[Ot[0]*Et[0]+Ot[1]*Et[1]+Ot[2]*Et[2],Ot[3]*Et[0]+Ot[4]*Et[1]+Ot[5]*Et[2],Ot[6]*Et[0]+Ot[7]*Et[1]+Ot[8]*Et[2]]}static singularValueDecompose2dScale(Ot){const Et=[Ot[0],Ot[2],Ot[1],Ot[3]],nn=Ot[0]*Et[0]+Ot[1]*Et[2],en=Ot[0]*Et[1]+Ot[1]*Et[3],an=Ot[2]*Et[0]+Ot[3]*Et[2],Sn=Ot[2]*Et[1]+Ot[3]*Et[3],sn=(nn+Sn)/2,yn=Math.sqrt((nn+Sn)**2-4*(nn*Sn-an*en))/2,On=sn+yn||1,tn=sn-yn||1;return[Math.sqrt(On),Math.sqrt(tn)]}static normalizeRect(Ot){const Et=Ot.slice(0);return Ot[0]>Ot[2]&&(Et[0]=Ot[2],Et[2]=Ot[0]),Ot[1]>Ot[3]&&(Et[1]=Ot[3],Et[3]=Ot[1]),Et}static intersect(Ot,Et){const nn=Math.max(Math.min(Ot[0],Ot[2]),Math.min(Et[0],Et[2])),en=Math.min(Math.max(Ot[0],Ot[2]),Math.max(Et[0],Et[2]));if(nn>en)return null;const an=Math.max(Math.min(Ot[1],Ot[3]),Math.min(Et[1],Et[3])),Sn=Math.min(Math.max(Ot[1],Ot[3]),Math.max(Et[1],Et[3]));return an>Sn?null:[nn,an,en,Sn]}static bezierBoundingBox(Ot,Et,nn,en,an,Sn,sn,yn){const On=[],tn=[[],[]];let Dn,xn,Hn,In,_n,wn,ei,ni;for(let fn=0;fn<2;++fn){if(fn===0?(xn=6*Ot-12*nn+6*an,Dn=-3*Ot+9*nn-9*an+3*sn,Hn=3*nn-3*Ot):(xn=6*Et-12*en+6*Sn,Dn=-3*Et+9*en-9*Sn+3*yn,Hn=3*en-3*Et),Math.abs(Dn)<1e-12){if(Math.abs(xn)<1e-12)continue;In=-Hn/xn,0<In&&In<1&&On.push(In);continue}ei=xn*xn-4*Hn*Dn,ni=Math.sqrt(ei),!(ei<0)&&(_n=(-xn+ni)/(2*Dn),0<_n&&_n<1&&On.push(_n),wn=(-xn-ni)/(2*Dn),0<wn&&wn<1&&On.push(wn))}let on=On.length,Kt;const un=on;for(;on--;)In=On[on],Kt=1-In,tn[0][on]=Kt*Kt*Kt*Ot+3*Kt*Kt*In*nn+3*Kt*In*In*an+In*In*In*sn,tn[1][on]=Kt*Kt*Kt*Et+3*Kt*Kt*In*en+3*Kt*In*In*Sn+In*In*In*yn;return tn[0][un]=Ot,tn[1][un]=Et,tn[0][un+1]=sn,tn[1][un+1]=yn,tn[0].length=tn[1].length=un+2,[Math.min(...tn[0]),Math.min(...tn[1]),Math.max(...tn[0]),Math.max(...tn[1])]}}oe.Util=Tt;const Lt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function jt(kt){if(kt[0]>="ï"){let Et;if(kt[0]==="þ"&&kt[1]==="ÿ"?Et="utf-16be":kt[0]==="ÿ"&&kt[1]==="þ"?Et="utf-16le":kt[0]==="ï"&&kt[1]==="»"&&kt[2]==="¿"&&(Et="utf-8"),Et)try{const nn=new TextDecoder(Et,{fatal:!0}),en=Je(kt);return nn.decode(en)}catch(nn){it(`stringToPDFString: "${nn}".`)}}const Ot=[];for(let Et=0,nn=kt.length;Et<nn;Et++){const en=Lt[kt.charCodeAt(Et)];Ot.push(en?String.fromCharCode(en):kt.charAt(Et))}return Ot.join("")}function Bt(kt){return kt.replace(/([()\\\n\r])/g,Ot=>Ot===`
`?"\\n":Ot==="\r"?"\\r":`\\${Ot}`)}function St(kt){return/^[\x00-\x7F]*$/.test(kt)}function Ft(kt){const Ot=["þÿ"];for(let Et=0,nn=kt.length;Et<nn;Et++){const en=kt.charCodeAt(Et);Ot.push(String.fromCharCode(en>>8&255),String.fromCharCode(en&255))}return Ot.join("")}function Ct(kt){return decodeURIComponent(escape(kt))}function yt(kt){return unescape(encodeURIComponent(kt))}function bt(kt){return typeof kt=="object"&&kt!==null&&kt.byteLength!==void 0}function Pt(kt,Ot){if(kt.length!==Ot.length)return!1;for(let Et=0,nn=kt.length;Et<nn;Et++)if(kt[Et]!==Ot[Et])return!1;return!0}function Ut(kt=new Date){return[kt.getUTCFullYear().toString(),(kt.getUTCMonth()+1).toString().padStart(2,"0"),kt.getUTCDate().toString().padStart(2,"0"),kt.getUTCHours().toString().padStart(2,"0"),kt.getUTCMinutes().toString().padStart(2,"0"),kt.getUTCSeconds().toString().padStart(2,"0")].join("")}function Yt(){const kt=Object.create(null);let Ot=!1;return Object.defineProperty(kt,"settled",{get(){return Ot}}),kt.promise=new Promise(function(Et,nn){kt.resolve=function(en){Ot=!0,Et(en)},kt.reject=function(en){Ot=!0,nn(en)}}),kt}},(le,oe,ce)=>{ce(4)},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.isNodeJS=void 0;const ce=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");oe.isNodeJS=ce},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.RefSetCache=oe.RefSet=oe.Ref=oe.Name=oe.EOF=oe.Dict=oe.Cmd=oe.CIRCULAR_REF=void 0,oe.clearPrimitiveCaches=_e,oe.isCmd=ue,oe.isDict=we,oe.isName=xe,oe.isRefsEqual=Fe;var ae=ce(2);const he=Symbol("CIRCULAR_REF");oe.CIRCULAR_REF=he;const de=Symbol("EOF");oe.EOF=de;const pe=function(){let Ce=Object.create(null);class ye{constructor(Ye){this.name=Ye}static get(Ye){return Ce[Ye]||(Ce[Ye]=new ye(Ye))}static _clearCache(){Ce=Object.create(null)}}return ye}();oe.Name=pe;const re=function(){let Ce=Object.create(null);class ye{constructor(Ye){this.cmd=Ye}static get(Ye){return Ce[Ye]||(Ce[Ye]=new ye(Ye))}static _clearCache(){Ce=Object.create(null)}}return ye}();oe.Cmd=re;const Ae=function(){return Ae};class ge{constructor(Ce=null){this._map=Object.create(null),this.xref=Ce,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=Ae}assignXref(Ce){this.xref=Ce}get size(){return Object.keys(this._map).length}get(Ce,ye,Re){let Ye=this._map[Ce];return Ye===void 0&&ye!==void 0&&(Ye=this._map[ye],Ye===void 0&&Re!==void 0&&(Ye=this._map[Re])),Ye instanceof Se&&this.xref?this.xref.fetch(Ye,this.suppressEncryption):Ye}async getAsync(Ce,ye,Re){let Ye=this._map[Ce];return Ye===void 0&&ye!==void 0&&(Ye=this._map[ye],Ye===void 0&&Re!==void 0&&(Ye=this._map[Re])),Ye instanceof Se&&this.xref?this.xref.fetchAsync(Ye,this.suppressEncryption):Ye}getArray(Ce,ye,Re){let Ye=this._map[Ce];if(Ye===void 0&&ye!==void 0&&(Ye=this._map[ye],Ye===void 0&&Re!==void 0&&(Ye=this._map[Re])),Ye instanceof Se&&this.xref&&(Ye=this.xref.fetch(Ye,this.suppressEncryption)),Array.isArray(Ye)){Ye=Ye.slice();for(let ke=0,$e=Ye.length;ke<$e;ke++)Ye[ke]instanceof Se&&this.xref&&(Ye[ke]=this.xref.fetch(Ye[ke],this.suppressEncryption))}return Ye}getRaw(Ce){return this._map[Ce]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(Ce,ye){this._map[Ce]=ye}has(Ce){return this._map[Ce]!==void 0}forEach(Ce){for(const ye in this._map)Ce(ye,this.get(ye))}static get empty(){const Ce=new ge(null);return Ce.set=(ye,Re)=>{(0,ae.unreachable)("Should not call `set` on the empty dictionary.")},(0,ae.shadow)(this,"empty",Ce)}static merge({xref:Ce,dictArray:ye,mergeSubDicts:Re=!1}){const Ye=new ge(Ce),ke=new Map;for(const $e of ye)if($e instanceof ge)for(const[Be,Pe]of Object.entries($e._map)){let Ue=ke.get(Be);if(Ue===void 0)Ue=[],ke.set(Be,Ue);else if(!Re||!(Pe instanceof ge))continue;Ue.push(Pe)}for(const[$e,Be]of ke){if(Be.length===1||!(Be[0]instanceof ge)){Ye._map[$e]=Be[0];continue}const Pe=new ge(Ce);for(const Ue of Be)for(const[Te,Me]of Object.entries(Ue._map))Pe._map[Te]===void 0&&(Pe._map[Te]=Me);Pe.size>0&&(Ye._map[$e]=Pe)}return ke.clear(),Ye.size>0?Ye:ge.empty}}oe.Dict=ge;const Se=function(){let Ce=Object.create(null);class ye{constructor(Ye,ke){this.num=Ye,this.gen=ke}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static get(Ye,ke){const $e=ke===0?`${Ye}R`:`${Ye}R${ke}`;return Ce[$e]||(Ce[$e]=new ye(Ye,ke))}static _clearCache(){Ce=Object.create(null)}}return ye}();oe.Ref=Se;class fe{constructor(Ce=null){this._set=new Set(Ce&&Ce._set)}has(Ce){return this._set.has(Ce.toString())}put(Ce){this._set.add(Ce.toString())}remove(Ce){this._set.delete(Ce.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}oe.RefSet=fe;class be{constructor(){this._map=new Map}get size(){return this._map.size}get(Ce){return this._map.get(Ce.toString())}has(Ce){return this._map.has(Ce.toString())}put(Ce,ye){this._map.set(Ce.toString(),ye)}putAlias(Ce,ye){this._map.set(Ce.toString(),this.get(ye))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}oe.RefSetCache=be;function xe(Ee,Ce){return Ee instanceof pe&&(Ce===void 0||Ee.name===Ce)}function ue(Ee,Ce){return Ee instanceof re&&(Ce===void 0||Ee.cmd===Ce)}function we(Ee,Ce){return Ee instanceof ge&&(Ce===void 0||xe(Ee.get("Type"),Ce))}function Fe(Ee,Ce){return Ee.num===Ce.num&&Ee.gen===Ce.gen}function _e(){re._clearCache(),pe._clearCache(),Se._clearCache()}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.XRefParseException=oe.XRefEntryException=oe.ParserEOFException=oe.MissingDataException=oe.DocStats=void 0,oe.collectActions=$e,oe.encodeToXmlString=Pe,oe.escapePDFName=Ye,oe.getArrayLookupTableFactory=re,oe.getInheritableProperty=xe,oe.getLookupTableFactory=pe,oe.getNewAnnotationsMap=Ve,oe.isWhiteSpace=ye,oe.log2=Fe,oe.numberToString=Me,oe.parseXFAPath=Re,oe.readInt8=_e,oe.readUint16=Ee,oe.readUint32=Ce,oe.recoverJsURL=Te,oe.toRomanNumerals=we,oe.validateCSSFont=Ue;var ae=ce(2),he=ce(5),de=ce(7);function pe(He){let Ie;return function(){return He&&(Ie=Object.create(null),He(Ie),He=null),Ie}}function re(He){let Ie;return function(){if(He){let Le=He();He=null,Ie=Object.create(null);for(let Oe=0,Ne=Le.length;Oe<Ne;Oe+=2)Ie[Le[Oe]]=Le[Oe+1];Le=null}return Ie}}class Ae extends ae.BaseException{constructor(Ie,Le){super(`Missing data [${Ie}, ${Le})`,"MissingDataException"),this.begin=Ie,this.end=Le}}oe.MissingDataException=Ae;class ge extends ae.BaseException{constructor(Ie){super(Ie,"ParserEOFException")}}oe.ParserEOFException=ge;class Se extends ae.BaseException{constructor(Ie){super(Ie,"XRefEntryException")}}oe.XRefEntryException=Se;class fe extends ae.BaseException{constructor(Ie){super(Ie,"XRefParseException")}}oe.XRefParseException=fe;class be{constructor(Ie){this._handler=Ie,this._streamTypes=new Set,this._fontTypes=new Set}_send(){const Ie=Object.create(null),Le=Object.create(null);for(const Oe of this._streamTypes)Ie[Oe]=!0;for(const Oe of this._fontTypes)Le[Oe]=!0;this._handler.send("DocStats",{streamTypes:Ie,fontTypes:Le})}addStreamType(Ie){this._streamTypes.has(Ie)||(this._streamTypes.add(Ie),this._send())}addFontType(Ie){this._fontTypes.has(Ie)||(this._fontTypes.add(Ie),this._send())}}oe.DocStats=be;function xe({dict:He,key:Ie,getArray:Le=!1,stopWhenFound:Oe=!0}){let Ne;const qe=new he.RefSet;for(;He instanceof he.Dict&&!(He.objId&&qe.has(He.objId));){He.objId&&qe.put(He.objId);const it=Le?He.getArray(Ie):He.get(Ie);if(it!==void 0){if(Oe)return it;Ne||(Ne=[]),Ne.push(it)}He=He.get("Parent")}return Ne}const ue=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function we(He,Ie=!1){(0,ae.assert)(Number.isInteger(He)&&He>0,"The number should be a positive integer.");const Le=[];let Oe;for(;He>=1e3;)He-=1e3,Le.push("M");Oe=He/100|0,He%=100,Le.push(ue[Oe]),Oe=He/10|0,He%=10,Le.push(ue[10+Oe]),Le.push(ue[20+He]);const Ne=Le.join("");return Ie?Ne.toLowerCase():Ne}function Fe(He){return He<=0?0:Math.ceil(Math.log2(He))}function _e(He,Ie){return He[Ie]<<24>>24}function Ee(He,Ie){return He[Ie]<<8|He[Ie+1]}function Ce(He,Ie){return(He[Ie]<<24|He[Ie+1]<<16|He[Ie+2]<<8|He[Ie+3])>>>0}function ye(He){return He===32||He===9||He===13||He===10}function Re(He){const Ie=/(.+)\[(\d+)\]$/;return He.split(".").map(Le=>{const Oe=Le.match(Ie);return Oe?{name:Oe[1],pos:parseInt(Oe[2],10)}:{name:Le,pos:0}})}function Ye(He){const Ie=[];let Le=0;for(let Oe=0,Ne=He.length;Oe<Ne;Oe++){const qe=He.charCodeAt(Oe);(qe<33||qe>126||qe===35||qe===40||qe===41||qe===60||qe===62||qe===91||qe===93||qe===123||qe===125||qe===47||qe===37)&&(Le<Oe&&Ie.push(He.substring(Le,Oe)),Ie.push(`#${qe.toString(16)}`),Le=Oe+1)}return Ie.length===0?He:(Le<He.length&&Ie.push(He.substring(Le,He.length)),Ie.join(""))}function ke(He,Ie,Le,Oe){if(!He)return;let Ne=null;if(He instanceof he.Ref){if(Oe.has(He))return;Ne=He,Oe.put(Ne),He=Ie.fetch(He)}if(Array.isArray(He))for(const qe of He)ke(qe,Ie,Le,Oe);else if(He instanceof he.Dict){if((0,he.isName)(He.get("S"),"JavaScript")){const qe=He.get("JS");let it;qe instanceof de.BaseStream?it=qe.getString():typeof qe=="string"&&(it=qe),it=it&&(0,ae.stringToPDFString)(it).replace(/\u0000/g,""),it&&Le.push(it)}ke(He.getRaw("Next"),Ie,Le,Oe)}Ne&&Oe.remove(Ne)}function $e(He,Ie,Le){const Oe=Object.create(null),Ne=xe({dict:Ie,key:"AA",stopWhenFound:!1});if(Ne)for(let qe=Ne.length-1;qe>=0;qe--){const it=Ne[qe];if(it instanceof he.Dict)for(const tt of it.getKeys()){const Xe=Le[tt];if(!Xe)continue;const Ze=it.getRaw(tt),ot=new he.RefSet,Ge=[];ke(Ze,He,Ge,ot),Ge.length>0&&(Oe[Xe]=Ge)}}if(Ie.has("A")){const qe=Ie.get("A"),it=new he.RefSet,tt=[];ke(qe,He,tt,it),tt.length>0&&(Oe.Action=tt)}return(0,ae.objectSize)(Oe)>0?Oe:null}const Be={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function Pe(He){const Ie=[];let Le=0;for(let Oe=0,Ne=He.length;Oe<Ne;Oe++){const qe=He.codePointAt(Oe);if(32<=qe&&qe<=126){const it=Be[qe];it&&(Le<Oe&&Ie.push(He.substring(Le,Oe)),Ie.push(it),Le=Oe+1)}else Le<Oe&&Ie.push(He.substring(Le,Oe)),Ie.push(`&#x${qe.toString(16).toUpperCase()};`),qe>55295&&(qe<57344||qe>65533)&&Oe++,Le=Oe+1}return Ie.length===0?He:(Le<He.length&&Ie.push(He.substring(Le,He.length)),Ie.join(""))}function Ue(He){const Ie="14",Le="400",Oe=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:Ne,fontWeight:qe,italicAngle:it}=He;if(/^".*"$/.test(Ne)){if(/[^\\]"/.test(Ne.slice(1,Ne.length-1)))return(0,ae.warn)(`XFA - FontFamily contains some unescaped ": ${Ne}.`),!1}else if(/^'.*'$/.test(Ne)){if(/[^\\]'/.test(Ne.slice(1,Ne.length-1)))return(0,ae.warn)(`XFA - FontFamily contains some unescaped ': ${Ne}.`),!1}else for(const Ze of Ne.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(Ze)||!/^[\w-\\]+$/.test(Ze))return(0,ae.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${Ne}.`),!1;const tt=qe?qe.toString():"";He.fontWeight=Oe.has(tt)?tt:Le;const Xe=parseFloat(it);return He.italicAngle=isNaN(Xe)||Xe<-90||Xe>90?Ie:it.toString(),!0}function Te(He){const Ie=["app.launchURL","window.open","xfa.host.gotoURL"],Oe=new RegExp("^\\s*("+Ie.join("|").split(".").join("\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(He);if(Oe&&Oe[2]){const Ne=Oe[2];let qe=!1;return Oe[3]==="true"&&Oe[1]==="app.launchURL"&&(qe=!0),{url:Ne,newWindow:qe}}return null}function Me(He){if(Number.isInteger(He))return He.toString();const Ie=Math.round(He*100);return Ie%100===0?(Ie/100).toString():Ie%10===0?He.toFixed(1):He.toFixed(2)}function Ve(He){if(!He)return null;const Ie=new Map;for(const[Le,Oe]of He){if(!Le.startsWith(ae.AnnotationEditorPrefix))continue;let Ne=Ie.get(Oe.pageIndex);Ne||(Ne=[],Ie.set(Oe.pageIndex,Ne)),Ne.push(Oe)}return Ie.size>0?Ie:null}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.BaseStream=void 0;var ae=ce(2);class he{constructor(){this.constructor===he&&(0,ae.unreachable)("Cannot initialize BaseStream.")}get length(){(0,ae.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,ae.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,ae.shadow)(this,"isDataLoaded",!0)}getByte(){(0,ae.unreachable)("Abstract method `getByte` called")}getBytes(pe){(0,ae.unreachable)("Abstract method `getBytes` called")}peekByte(){const pe=this.getByte();return pe!==-1&&this.pos--,pe}peekBytes(pe){const re=this.getBytes(pe);return this.pos-=re.length,re}getUint16(){const pe=this.getByte(),re=this.getByte();return pe===-1||re===-1?-1:(pe<<8)+re}getInt32(){const pe=this.getByte(),re=this.getByte(),Ae=this.getByte(),ge=this.getByte();return(pe<<24)+(re<<16)+(Ae<<8)+ge}getByteRange(pe,re){(0,ae.unreachable)("Abstract method `getByteRange` called")}getString(pe){return(0,ae.bytesToString)(this.getBytes(pe))}skip(pe){this.pos+=pe||1}reset(){(0,ae.unreachable)("Abstract method `reset` called")}moveStart(){(0,ae.unreachable)("Abstract method `moveStart` called")}makeSubStream(pe,re,Ae=null){(0,ae.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}oe.BaseStream=he},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.NetworkPdfManager=oe.LocalPdfManager=void 0;var ae=ce(2),he=ce(9),de=ce(6),pe=ce(11),re=ce(10);function Ae(be){if(be){const xe=(0,ae.createValidAbsoluteUrl)(be);if(xe)return xe.href;(0,ae.warn)(`Invalid absolute docBaseUrl: "${be}".`)}return null}class ge{constructor(){this.constructor===ge&&(0,ae.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){const xe=this.pdfDocument.catalog;return(0,ae.shadow)(this,"docBaseUrl",xe.baseUrl||this._docBaseUrl)}onLoadedStream(){(0,ae.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(xe,ue){return this.ensure(this.pdfDocument,xe,ue)}ensureXRef(xe,ue){return this.ensure(this.pdfDocument.xref,xe,ue)}ensureCatalog(xe,ue){return this.ensure(this.pdfDocument.catalog,xe,ue)}getPage(xe){return this.pdfDocument.getPage(xe)}fontFallback(xe,ue){return this.pdfDocument.fontFallback(xe,ue)}loadXfaFonts(xe,ue){return this.pdfDocument.loadXfaFonts(xe,ue)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(xe){return this.pdfDocument.serializeXfaData(xe)}cleanup(xe=!1){return this.pdfDocument.cleanup(xe)}async ensure(xe,ue,we){(0,ae.unreachable)("Abstract method `ensure` called")}requestRange(xe,ue){(0,ae.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,ae.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(xe){(0,ae.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(xe){this._password=xe}terminate(xe){(0,ae.unreachable)("Abstract method `terminate` called")}}class Se extends ge{constructor(xe,ue,we,Fe,_e,Ee,Ce){super(),this._docId=xe,this._password=we,this._docBaseUrl=Ae(Ce),this.msgHandler=Fe,this.evaluatorOptions=_e,this.enableXfa=Ee;const ye=new re.Stream(ue);this.pdfDocument=new pe.PDFDocument(this,ye),this._loadedStreamPromise=Promise.resolve(ye)}async ensure(xe,ue,we){const Fe=xe[ue];return typeof Fe=="function"?Fe.apply(xe,we):Fe}requestRange(xe,ue){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(xe){}}oe.LocalPdfManager=Se;class fe extends ge{constructor(xe,ue,we,Fe,_e,Ee){super(),this._docId=xe,this._password=we.password,this._docBaseUrl=Ae(Ee),this.msgHandler=we.msgHandler,this.evaluatorOptions=Fe,this.enableXfa=_e,this.streamManager=new he.ChunkedStreamManager(ue,{msgHandler:we.msgHandler,length:we.length,disableAutoFetch:we.disableAutoFetch,rangeChunkSize:we.rangeChunkSize}),this.pdfDocument=new pe.PDFDocument(this,this.streamManager.getStream())}async ensure(xe,ue,we){try{const Fe=xe[ue];return typeof Fe=="function"?Fe.apply(xe,we):Fe}catch(Fe){if(!(Fe instanceof de.MissingDataException))throw Fe;return await this.requestRange(Fe.begin,Fe.end),this.ensure(xe,ue,we)}}requestRange(xe,ue){return this.streamManager.requestRange(xe,ue)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(xe){this.streamManager.onReceiveData({chunk:xe})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(xe){this.streamManager.abort(xe)}}oe.NetworkPdfManager=fe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.ChunkedStreamManager=oe.ChunkedStream=void 0;var ae=ce(2),he=ce(6),de=ce(10);class pe extends de.Stream{constructor(ge,Se,fe){super(new Uint8Array(ge),0,ge,null),this.chunkSize=Se,this._loadedChunks=new Set,this.numChunks=Math.ceil(ge/Se),this.manager=fe,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const ge=[];for(let Se=0,fe=this.numChunks;Se<fe;++Se)this._loadedChunks.has(Se)||ge.push(Se);return ge}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(ge,Se){const fe=this.chunkSize;if(ge%fe!==0)throw new Error(`Bad begin offset: ${ge}`);const be=ge+Se.byteLength;if(be%fe!==0&&be!==this.bytes.length)throw new Error(`Bad end offset: ${be}`);this.bytes.set(new Uint8Array(Se),ge);const xe=Math.floor(ge/fe),ue=Math.floor((be-1)/fe)+1;for(let we=xe;we<ue;++we)this._loadedChunks.add(we)}onReceiveProgressiveData(ge){let Se=this.progressiveDataLength;const fe=Math.floor(Se/this.chunkSize);this.bytes.set(new Uint8Array(ge),Se),Se+=ge.byteLength,this.progressiveDataLength=Se;const be=Se>=this.end?this.numChunks:Math.floor(Se/this.chunkSize);for(let xe=fe;xe<be;++xe)this._loadedChunks.add(xe)}ensureByte(ge){if(ge<this.progressiveDataLength)return;const Se=Math.floor(ge/this.chunkSize);if(!(Se>this.numChunks)&&Se!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(Se))throw new he.MissingDataException(ge,ge+1);this.lastSuccessfulEnsureByteChunk=Se}}ensureRange(ge,Se){if(ge>=Se||Se<=this.progressiveDataLength)return;const fe=Math.floor(ge/this.chunkSize);if(fe>this.numChunks)return;const be=Math.min(Math.floor((Se-1)/this.chunkSize)+1,this.numChunks);for(let xe=fe;xe<be;++xe)if(!this._loadedChunks.has(xe))throw new he.MissingDataException(ge,Se)}nextEmptyChunk(ge){const Se=this.numChunks;for(let fe=0;fe<Se;++fe){const be=(ge+fe)%Se;if(!this._loadedChunks.has(be))return be}return null}hasChunk(ge){return this._loadedChunks.has(ge)}getByte(){const ge=this.pos;return ge>=this.end?-1:(ge>=this.progressiveDataLength&&this.ensureByte(ge),this.bytes[this.pos++])}getBytes(ge){const Se=this.bytes,fe=this.pos,be=this.end;if(!ge)return be>this.progressiveDataLength&&this.ensureRange(fe,be),Se.subarray(fe,be);let xe=fe+ge;return xe>be&&(xe=be),xe>this.progressiveDataLength&&this.ensureRange(fe,xe),this.pos=xe,Se.subarray(fe,xe)}getByteRange(ge,Se){return ge<0&&(ge=0),Se>this.end&&(Se=this.end),Se>this.progressiveDataLength&&this.ensureRange(ge,Se),this.bytes.subarray(ge,Se)}makeSubStream(ge,Se,fe=null){Se?ge+Se>this.progressiveDataLength&&this.ensureRange(ge,ge+Se):ge>=this.progressiveDataLength&&this.ensureByte(ge);function be(){}be.prototype=Object.create(this),be.prototype.getMissingChunks=function(){const ue=this.chunkSize,we=Math.floor(this.start/ue),Fe=Math.floor((this.end-1)/ue)+1,_e=[];for(let Ee=we;Ee<Fe;++Ee)this._loadedChunks.has(Ee)||_e.push(Ee);return _e},Object.defineProperty(be.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const xe=new be;return xe.pos=xe.start=ge,xe.end=ge+Se||this.end,xe.dict=fe,xe}getBaseStreams(){return[this]}}oe.ChunkedStream=pe;class re{constructor(ge,Se){this.length=Se.length,this.chunkSize=Se.rangeChunkSize,this.stream=new pe(this.length,this.chunkSize,this),this.pdfNetworkStream=ge,this.disableAutoFetch=Se.disableAutoFetch,this.msgHandler=Se.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,ae.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(ge,Se){const fe=this.pdfNetworkStream.getRangeReader(ge,Se);fe.isStreamingSupported||(fe.onProgress=this.onProgress.bind(this));let be=[],xe=0;return new Promise((ue,we)=>{const Fe=_e=>{try{if(!_e.done){const Ce=_e.value;be.push(Ce),xe+=(0,ae.arrayByteLength)(Ce),fe.isStreamingSupported&&this.onProgress({loaded:xe}),fe.read().then(Fe,we);return}const Ee=(0,ae.arraysToBytes)(be);be=null,ue(Ee)}catch(Ee){we(Ee)}};fe.read().then(Fe,we)}).then(ue=>{this.aborted||this.onReceiveData({chunk:ue,begin:ge})})}requestAllChunks(){const ge=this.stream.getMissingChunks();return this._requestChunks(ge),this._loadedStreamCapability.promise}_requestChunks(ge){const Se=this.currRequestId++,fe=new Set;this._chunksNeededByRequest.set(Se,fe);for(const ue of ge)this.stream.hasChunk(ue)||fe.add(ue);if(fe.size===0)return Promise.resolve();const be=(0,ae.createPromiseCapability)();this._promisesByRequest.set(Se,be);const xe=[];for(const ue of fe){let we=this._requestsByChunk.get(ue);we||(we=[],this._requestsByChunk.set(ue,we),xe.push(ue)),we.push(Se)}if(xe.length>0){const ue=this.groupChunks(xe);for(const we of ue){const Fe=we.beginChunk*this.chunkSize,_e=Math.min(we.endChunk*this.chunkSize,this.length);this.sendRequest(Fe,_e).catch(be.reject)}}return be.promise.catch(ue=>{if(!this.aborted)throw ue})}getStream(){return this.stream}requestRange(ge,Se){Se=Math.min(Se,this.length);const fe=this.getBeginChunk(ge),be=this.getEndChunk(Se),xe=[];for(let ue=fe;ue<be;++ue)xe.push(ue);return this._requestChunks(xe)}requestRanges(ge=[]){const Se=[];for(const fe of ge){const be=this.getBeginChunk(fe.begin),xe=this.getEndChunk(fe.end);for(let ue=be;ue<xe;++ue)Se.includes(ue)||Se.push(ue)}return Se.sort(function(fe,be){return fe-be}),this._requestChunks(Se)}groupChunks(ge){const Se=[];let fe=-1,be=-1;for(let xe=0,ue=ge.length;xe<ue;++xe){const we=ge[xe];fe<0&&(fe=we),be>=0&&be+1!==we&&(Se.push({beginChunk:fe,endChunk:be+1}),fe=we),xe+1===ge.length&&Se.push({beginChunk:fe,endChunk:we+1}),be=we}return Se}onProgress(ge){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+ge.loaded,total:this.length})}onReceiveData(ge){const Se=ge.chunk,fe=ge.begin===void 0,be=fe?this.progressiveDataLength:ge.begin,xe=be+Se.byteLength,ue=Math.floor(be/this.chunkSize),we=xe<this.length?Math.floor(xe/this.chunkSize):Math.ceil(xe/this.chunkSize);fe?(this.stream.onReceiveProgressiveData(Se),this.progressiveDataLength=xe):this.stream.onReceiveData(be,Se),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const Fe=[];for(let _e=ue;_e<we;++_e){const Ee=this._requestsByChunk.get(_e);if(Ee){this._requestsByChunk.delete(_e);for(const Ce of Ee){const ye=this._chunksNeededByRequest.get(Ce);ye.has(_e)&&ye.delete(_e),!(ye.size>0)&&Fe.push(Ce)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let _e;if(this.stream.numChunksLoaded===1){const Ee=this.stream.numChunks-1;this.stream.hasChunk(Ee)||(_e=Ee)}else _e=this.stream.nextEmptyChunk(we);Number.isInteger(_e)&&this._requestChunks([_e])}for(const _e of Fe){const Ee=this._promisesByRequest.get(_e);this._promisesByRequest.delete(_e),Ee.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(ge){this._loadedStreamCapability.reject(ge)}getBeginChunk(ge){return Math.floor(ge/this.chunkSize)}getEndChunk(ge){return Math.floor((ge-1)/this.chunkSize)+1}abort(ge){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(ge);for(const Se of this._promisesByRequest.values())Se.reject(ge)}}oe.ChunkedStreamManager=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.StringStream=oe.Stream=oe.NullStream=void 0;var ae=ce(7),he=ce(2);class de extends ae.BaseStream{constructor(ge,Se,fe,be){super(),this.bytes=ge instanceof Uint8Array?ge:new Uint8Array(ge),this.start=Se||0,this.pos=this.start,this.end=Se+fe||this.bytes.length,this.dict=be}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(ge){const Se=this.bytes,fe=this.pos,be=this.end;if(!ge)return Se.subarray(fe,be);let xe=fe+ge;return xe>be&&(xe=be),this.pos=xe,Se.subarray(fe,xe)}getByteRange(ge,Se){return ge<0&&(ge=0),Se>this.end&&(Se=this.end),this.bytes.subarray(ge,Se)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(ge,Se,fe=null){return new de(this.bytes.buffer,ge,Se,fe)}}oe.Stream=de;class pe extends de{constructor(ge){super((0,he.stringToBytes)(ge))}}oe.StringStream=pe;class re extends de{constructor(){super(new Uint8Array(0))}}oe.NullStream=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Page=oe.PDFDocument=void 0;var ae=ce(12),he=ce(2),de=ce(6),pe=ce(5),re=ce(51),Ae=ce(7),ge=ce(67),Se=ce(69),fe=ce(71),be=ce(100),xe=ce(17),ue=ce(10),we=ce(75),Fe=ce(62),_e=ce(15),Ee=ce(19),Ce=ce(74),ye=ce(65),Re=ce(76),Ye=ce(101);const ke=1,$e=[0,0,612,792];class Be{constructor({pdfManager:Ne,xref:qe,pageIndex:it,pageDict:tt,ref:Xe,globalIdFactory:Ze,fontCache:ot,builtInCMapCache:Ge,standardFontDataCache:Ke,globalImageCache:je,nonBlendModesSet:nt,xfaFactory:Qe}){this.pdfManager=Ne,this.pageIndex=it,this.pageDict=tt,this.xref=qe,this.ref=Xe,this.fontCache=ot,this.builtInCMapCache=Ge,this.standardFontDataCache=Ke,this.globalImageCache=je,this.nonBlendModesSet=nt,this.evaluatorOptions=Ne.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=Qe;const We={obj:0};this._localIdFactory=class extends Ze{static createObjId(){return`p${it}_${++We.obj}`}static getPageObjId(){return`page${Xe.toString()}`}}}_getInheritableProperty(Ne,qe=!1){const it=(0,de.getInheritableProperty)({dict:this.pageDict,key:Ne,getArray:qe,stopWhenFound:!1});return Array.isArray(it)?it.length===1||!(it[0]instanceof pe.Dict)?it[0]:pe.Dict.merge({xref:this.xref,dictArray:it}):it}get content(){return this.pageDict.getArray("Contents")}get resources(){const Ne=this._getInheritableProperty("Resources");return(0,he.shadow)(this,"resources",Ne instanceof pe.Dict?Ne:pe.Dict.empty)}_getBoundingBox(Ne){if(this.xfaData)return this.xfaData.bbox;const qe=this._getInheritableProperty(Ne,!0);if(Array.isArray(qe)&&qe.length===4){if(qe[2]-qe[0]!==0&&qe[3]-qe[1]!==0)return qe;(0,he.warn)(`Empty /${Ne} entry.`)}return null}get mediaBox(){return(0,he.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||$e)}get cropBox(){return(0,he.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let Ne=this.pageDict.get("UserUnit");return(typeof Ne!="number"||Ne<=0)&&(Ne=ke),(0,he.shadow)(this,"userUnit",Ne)}get view(){const{cropBox:Ne,mediaBox:qe}=this;let it;if(Ne===qe||(0,he.isArrayEqual)(Ne,qe))it=qe;else{const tt=he.Util.intersect(Ne,qe);tt&&tt[2]-tt[0]!==0&&tt[3]-tt[1]!==0?it=tt:(0,he.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,he.shadow)(this,"view",it||qe)}get rotate(){let Ne=this._getInheritableProperty("Rotate")||0;return Ne%90!==0?Ne=0:Ne>=360?Ne%=360:Ne<0&&(Ne=(Ne%360+360)%360),(0,he.shadow)(this,"rotate",Ne)}_onSubStreamError(Ne,qe,it){if(this.evaluatorOptions.ignoreErrors){Ne.send("UnsupportedFeature",{featureId:he.UNSUPPORTED_FEATURES.errorContentSubStream}),(0,he.warn)(`getContentStream - ignoring sub-stream (${it}): "${qe}".`);return}throw qe}getContentStream(Ne){return this.pdfManager.ensure(this,"content").then(qe=>qe instanceof Ae.BaseStream?qe:Array.isArray(qe)?new Ee.StreamsSequenceStream(qe,this._onSubStreamError.bind(this,Ne)):new ue.NullStream)}get xfaData(){return(0,he.shadow)(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(Ne,qe,it){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const tt=new _e.PartialEvaluator({xref:this.xref,handler:Ne,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),Xe=this.pageDict,Ze=this.annotations.slice(),ot=await ae.AnnotationFactory.saveNewAnnotations(tt,qe,it);for(const{ref:Qe}of ot.annotations)Ze.push(Qe);const Ge=Xe.get("Annots");Xe.set("Annots",Ze);const Ke=[];let je=null;this.xref.encrypt&&(je=this.xref.encrypt.createCipherTransform(this.ref.num,this.ref.gen)),(0,ye.writeObject)(this.ref,Xe,Ke,je),Ge&&Xe.set("Annots",Ge);const nt=ot.dependencies;return nt.push({ref:this.ref,data:Ke.join("")},...ot.annotations),nt}save(Ne,qe,it){const tt=new _e.PartialEvaluator({xref:this.xref,handler:Ne,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(Xe){const Ze=[];for(const ot of Xe)ot.mustBePrinted(it)&&Ze.push(ot.save(tt,qe,it).catch(function(Ge){return(0,he.warn)(`save - ignoring annotation data during "${qe.name}" task: "${Ge}".`),null}));return Promise.all(Ze).then(function(ot){return ot.filter(Ge=>!!Ge)})})}loadResources(Ne){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new we.ObjectLoader(this.resources,Ne,this.xref).load())}getOperatorList({handler:Ne,sink:qe,task:it,intent:tt,cacheKey:Xe,annotationStorage:Ze=null}){const ot=this.getContentStream(Ne),Ge=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),Ke=new _e.PartialEvaluator({xref:this.xref,handler:Ne,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),je=this.xfaFactory?null:(0,de.getNewAnnotationsMap)(Ze);let nt=Promise.resolve(null);if(je){const rt=je.get(this.pageIndex);rt&&(nt=ae.AnnotationFactory.printNewAnnotations(Ke,it,rt))}const We=Promise.all([ot,Ge]).then(([rt])=>{const et=new Fe.OperatorList(tt,qe);return Ne.send("StartRenderPage",{transparency:Ke.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:Xe}),Ke.getOperatorList({stream:rt,task:it,resources:this.resources,operatorList:et}).then(function(){return et})});return Promise.all([We,this._parsedAnnotations,nt]).then(function([rt,et,ct]){if(ct&&(et=et.concat(ct)),et.length===0||tt&he.RenderingIntentFlag.ANNOTATIONS_DISABLE)return rt.flush(!0),{length:rt.totalLength};const at=!!(tt&he.RenderingIntentFlag.ANNOTATIONS_FORMS),Je=!!(tt&he.RenderingIntentFlag.ANY),lt=!!(tt&he.RenderingIntentFlag.DISPLAY),ut=!!(tt&he.RenderingIntentFlag.PRINT),ft=[];for(const pt of et)(Je||lt&&pt.mustBeViewed(Ze)||ut&&pt.mustBePrinted(Ze))&&ft.push(pt.getOperatorList(Ke,it,tt,at,Ze).catch(function(mt){return(0,he.warn)(`getOperatorList - ignoring annotation data during "${it.name}" task: "${mt}".`),null}));return Promise.all(ft).then(function(pt){let mt=!1,xt=!1;for(const{opList:vt,separateForm:wt,separateCanvas:_t}of pt)rt.addOpList(vt),wt&&(mt=wt),_t&&(xt=_t);return rt.flush(!0,{form:mt,canvas:xt}),{length:rt.totalLength}})})}extractTextContent({handler:Ne,task:qe,includeMarkedContent:it,sink:tt,combineTextItems:Xe}){const Ze=this.getContentStream(Ne),ot=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([Ze,ot]).then(([Ke])=>new _e.PartialEvaluator({xref:this.xref,handler:Ne,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:Ke,task:qe,resources:this.resources,includeMarkedContent:it,combineTextItems:Xe,sink:tt,viewBox:this.view}))}async getStructTree(){const Ne=await this.pdfManager.ensureCatalog("structTreeRoot");return Ne?(await this.pdfManager.ensure(this,"_parseStructTree",[Ne])).serializable:null}_parseStructTree(Ne){const qe=new Ce.StructTreePage(Ne,this.pageDict);return qe.parse(),qe}async getAnnotationsData(Ne,qe,it){const tt=await this._parsedAnnotations;if(tt.length===0)return[];const Xe=[],Ze=[];let ot;const Ge=!!(it&he.RenderingIntentFlag.ANY),Ke=!!(it&he.RenderingIntentFlag.DISPLAY),je=!!(it&he.RenderingIntentFlag.PRINT);for(const nt of tt){const Qe=Ge||Ke&&nt.viewable;(Qe||je&&nt.printable)&&Ze.push(nt.data),nt.hasTextContent&&Qe&&(ot||(ot=new _e.PartialEvaluator({xref:this.xref,handler:Ne,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions})),Xe.push(nt.extractTextContent(ot,qe,this.view).catch(function(We){(0,he.warn)(`getAnnotationsData - ignoring textContent during "${qe.name}" task: "${We}".`)})))}return await Promise.all(Xe),Ze}get annotations(){const Ne=this._getInheritableProperty("Annots");return(0,he.shadow)(this,"annotations",Array.isArray(Ne)?Ne:[])}get _parsedAnnotations(){const Ne=this.pdfManager.ensure(this,"annotations").then(()=>{const qe=[];for(const it of this.annotations)qe.push(ae.AnnotationFactory.create(this.xref,it,this.pdfManager,this._localIdFactory,!1).catch(function(tt){return(0,he.warn)(`_parsedAnnotations: "${tt}".`),null}));return Promise.all(qe).then(function(it){if(it.length===0)return it;const tt=[];let Xe;for(const Ze of it)if(Ze){if(Ze instanceof ae.PopupAnnotation){Xe||(Xe=[]),Xe.push(Ze);continue}tt.push(Ze)}return Xe&&tt.push(...Xe),tt})});return(0,he.shadow)(this,"_parsedAnnotations",Ne)}get jsActions(){const Ne=(0,de.collectActions)(this.xref,this.pageDict,he.PageActionEventType);return(0,he.shadow)(this,"jsActions",Ne)}}oe.Page=Be;const Pe=new Uint8Array([37,80,68,70,45]),Ue=new Uint8Array([115,116,97,114,116,120,114,101,102]),Te=new Uint8Array([101,110,100,111,98,106]),Me=1024,Ve="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0",He=/^[1-9]\.\d$/;function Ie(Oe,Ne,qe=1024,it=!1){const tt=Ne.length,Xe=Oe.peekBytes(qe),Ze=Xe.length-tt;if(Ze<=0)return!1;if(it){const ot=tt-1;let Ge=Xe.length-1;for(;Ge>=ot;){let Ke=0;for(;Ke<tt&&Xe[Ge-Ke]===Ne[ot-Ke];)Ke++;if(Ke>=tt)return Oe.pos+=Ge-ot,!0;Ge--}}else{let ot=0;for(;ot<=Ze;){let Ge=0;for(;Ge<tt&&Xe[ot+Ge]===Ne[Ge];)Ge++;if(Ge>=tt)return Oe.pos+=ot,!0;ot++}}return!1}class Le{constructor(Ne,qe){if(qe.length<=0)throw new he.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=Ne,this.stream=qe,this.xref=new Ye.XRef(qe,Ne),this._pagePromises=new Map,this._version=null;const it={font:0};this._globalIdFactory=class{static getDocId(){return`g_${Ne.docId}`}static createFontId(){return`f${++it.font}`}static createObjId(){(0,he.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,he.unreachable)("Abstract method `getPageObjId` called.")}}}parse(Ne){this.xref.parse(Ne),this.catalog=new Se.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let Ne=null;try{Ne=xe.Linearization.create(this.stream)}catch(qe){if(qe instanceof de.MissingDataException)throw qe;(0,he.info)(qe)}return(0,he.shadow)(this,"linearization",Ne)}get startXRef(){const Ne=this.stream;let qe=0;if(this.linearization)Ne.reset(),Ie(Ne,Te)&&(qe=Ne.pos+6-Ne.start);else{const tt=Ue.length;let Xe=!1,Ze=Ne.end;for(;!Xe&&Ze>0;)Ze-=1024-tt,Ze<0&&(Ze=0),Ne.pos=Ze,Xe=Ie(Ne,Ue,1024,!0);if(Xe){Ne.skip(9);let ot;do ot=Ne.getByte();while((0,de.isWhiteSpace)(ot));let Ge="";for(;ot>=32&&ot<=57;)Ge+=String.fromCharCode(ot),ot=Ne.getByte();qe=parseInt(Ge,10),isNaN(qe)&&(qe=0)}}return(0,he.shadow)(this,"startXRef",qe)}checkHeader(){const Ne=this.stream;if(Ne.reset(),!Ie(Ne,Pe))return;Ne.moveStart();const qe=12;let it="",tt;for(;(tt=Ne.getByte())>32&&!(it.length>=qe);)it+=String.fromCharCode(tt);this._version||(this._version=it.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let Ne=0;return this.catalog.hasActualNumPages?Ne=this.catalog.numPages:this.xfaFactory?Ne=this.xfaFactory.getNumPages():this.linearization?Ne=this.linearization.numPages:Ne=this.catalog.numPages,(0,he.shadow)(this,"numPages",Ne)}_hasOnlyDocumentSignatures(Ne,qe=0){return Array.isArray(Ne)?Ne.every(tt=>{if(tt=this.xref.fetchIfRef(tt),!(tt instanceof pe.Dict))return!1;if(tt.has("Kids"))return++qe>10?((0,he.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(tt.get("Kids"),qe);const Xe=(0,pe.isName)(tt.get("FT"),"Sig"),Ze=tt.get("Rect"),ot=Array.isArray(Ze)&&Ze.every(Ge=>Ge===0);return Xe&&ot}):!1}get _xfaStreams(){const Ne=this.catalog.acroForm;if(!Ne)return null;const qe=Ne.get("XFA"),it={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(qe instanceof Ae.BaseStream&&!qe.isEmpty)return it["xdp:xdp"]=qe,it;if(!Array.isArray(qe)||qe.length===0)return null;for(let tt=0,Xe=qe.length;tt<Xe;tt+=2){let Ze;if(tt===0?Ze="xdp:xdp":tt===Xe-2?Ze="/xdp:xdp":Ze=qe[tt],!it.hasOwnProperty(Ze))continue;const ot=this.xref.fetchIfRef(qe[tt+1]);!(ot instanceof Ae.BaseStream)||ot.isEmpty||(it[Ze]=ot)}return it}get xfaDatasets(){const Ne=this._xfaStreams;if(!Ne)return(0,he.shadow)(this,"xfaDatasets",null);for(const qe of["datasets","xdp:xdp"]){const it=Ne[qe];if(it)try{const tt=(0,he.stringToUTF8String)(it.getString()),Xe={[qe]:tt};return(0,he.shadow)(this,"xfaDatasets",new be.DatasetReader(Xe))}catch{(0,he.warn)("XFA - Invalid utf-8 string.");break}}return(0,he.shadow)(this,"xfaDatasets",null)}get xfaData(){const Ne=this._xfaStreams;if(!Ne)return null;const qe=Object.create(null);for(const[it,tt]of Object.entries(Ne))if(tt)try{qe[it]=(0,he.stringToUTF8String)(tt.getString())}catch{return(0,he.warn)("XFA - Invalid utf-8 string."),null}return qe}get xfaFactory(){let Ne;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(Ne=this.xfaData),(0,he.shadow)(this,"xfaFactory",Ne?new Re.XFAFactory(Ne):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const Ne=await this.pdfManager.ensureCatalog("xfaImages");if(!Ne)return;const qe=Ne.getKeys();await new we.ObjectLoader(Ne,qe,this.xref).load();const tt=new Map;for(const Xe of qe){const Ze=Ne.get(Xe);Ze instanceof Ae.BaseStream&&tt.set(Xe,Ze.getBytes())}this.xfaFactory.setImages(tt)}async loadXfaFonts(Ne,qe){const it=await this.pdfManager.ensureCatalog("acroForm");if(!it)return;const tt=await it.getAsync("DR");if(!(tt instanceof pe.Dict))return;await new we.ObjectLoader(tt,["Font"],this.xref).load();const Ze=tt.get("Font");if(!(Ze instanceof pe.Dict))return;const ot=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);ot.useSystemFonts=!1;const Ge=new _e.PartialEvaluator({xref:this.xref,handler:Ne,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:ot}),Ke=new Fe.OperatorList,je=[],nt={get font(){return je.at(-1)},set font(ct){je.push(ct)},clone(){return this}},Qe=new Map;Ze.forEach((ct,at)=>{Qe.set(ct,at)});const We=[];for(const[ct,at]of Qe){const Je=at.get("FontDescriptor");if(!(Je instanceof pe.Dict))continue;let lt=Je.get("FontFamily");lt=lt.replace(/[ ]+(\d)/g,"$1");const ut=Je.get("FontWeight"),ft=-Je.get("ItalicAngle"),pt={fontFamily:lt,fontWeight:ut,italicAngle:ft};(0,de.validateCSSFont)(pt)&&We.push(Ge.handleSetFont(tt,[pe.Name.get(ct),1],null,Ke,qe,nt,null,pt).catch(function(mt){return(0,he.warn)(`loadXfaFonts: "${mt}".`),null}))}await Promise.all(We);const rt=this.xfaFactory.setFonts(je);if(!rt)return;ot.ignoreErrors=!0,We.length=0,je.length=0;const et=new Set;for(const ct of rt)(0,re.getXfaFontName)(`${ct}-Regular`)||et.add(ct);et.size&&rt.push("PdfJS-Fallback");for(const ct of rt)if(!et.has(ct))for(const at of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const Je=`${ct}-${at.name}`,lt=(0,re.getXfaFontDict)(Je);We.push(Ge.handleSetFont(tt,[pe.Name.get(Je),1],null,Ke,qe,nt,lt,{fontFamily:ct,fontWeight:at.fontWeight,italicAngle:at.italicAngle}).catch(function(ut){return(0,he.warn)(`loadXfaFonts: "${ut}".`),null}))}await Promise.all(We),this.xfaFactory.appendFonts(je,et)}async serializeXfaData(Ne){return this.xfaFactory?this.xfaFactory.serializeData(Ne):null}get formInfo(){const Ne={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},qe=this.catalog.acroForm;if(!qe)return(0,he.shadow)(this,"formInfo",Ne);try{const it=qe.get("Fields"),tt=Array.isArray(it)&&it.length>0;Ne.hasFields=tt;const Xe=qe.get("XFA");Ne.hasXfa=Array.isArray(Xe)&&Xe.length>0||Xe instanceof Ae.BaseStream&&!Xe.isEmpty;const ot=!!(qe.get("SigFlags")&1),Ge=ot&&this._hasOnlyDocumentSignatures(it);Ne.hasAcroForm=tt&&!Ge,Ne.hasSignatures=ot}catch(it){if(it instanceof de.MissingDataException)throw it;(0,he.warn)(`Cannot fetch form information: "${it}".`)}return(0,he.shadow)(this,"formInfo",Ne)}get documentInfo(){let Ne=this._version;(typeof Ne!="string"||!He.test(Ne))&&((0,he.warn)(`Invalid PDF header version number: ${Ne}`),Ne=null);const qe={PDFFormatVersion:Ne,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let it;try{it=this.xref.trailer.get("Info")}catch(tt){if(tt instanceof de.MissingDataException)throw tt;(0,he.info)("The document information dictionary is invalid.")}if(!(it instanceof pe.Dict))return(0,he.shadow)(this,"documentInfo",qe);for(const tt of it.getKeys()){const Xe=it.get(tt);switch(tt){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof Xe=="string"){qe[tt]=(0,he.stringToPDFString)(Xe);continue}break;case"Trapped":if(Xe instanceof pe.Name){qe[tt]=Xe;continue}break;default:let Ze;switch(typeof Xe){case"string":Ze=(0,he.stringToPDFString)(Xe);break;case"number":case"boolean":Ze=Xe;break;default:Xe instanceof pe.Name&&(Ze=Xe);break}if(Ze===void 0){(0,he.warn)(`Bad value, for custom key "${tt}", in Info: ${Xe}.`);continue}qe.Custom||(qe.Custom=Object.create(null)),qe.Custom[tt]=Ze;continue}(0,he.warn)(`Bad value, for key "${tt}", in Info: ${Xe}.`)}return(0,he.shadow)(this,"documentInfo",qe)}get fingerprints(){function Ne(Ze){return typeof Ze=="string"&&Ze.length>0&&Ze!==Ve}function qe(Ze){const ot=[];for(let Ge=0,Ke=Ze.length;Ge<Ke;Ge++){const je=Ze[Ge].toString(16);ot.push(je.padStart(2,"0"))}return ot.join("")}const it=this.xref.trailer.get("ID");let tt,Xe;return Array.isArray(it)&&Ne(it[0])?(tt=(0,he.stringToBytes)(it[0]),it[1]!==it[0]&&Ne(it[1])&&(Xe=(0,he.stringToBytes)(it[1]))):tt=(0,ge.calculateMD5)(this.stream.getByteRange(0,Me),0,Me),(0,he.shadow)(this,"fingerprints",[qe(tt),Xe?qe(Xe):null])}async _getLinearizationPage(Ne){const{catalog:qe,linearization:it,xref:tt}=this,Xe=pe.Ref.get(it.objectNumberFirst,0);try{const Ze=await tt.fetchAsync(Xe);if(Ze instanceof pe.Dict){let ot=Ze.getRaw("Type");if(ot instanceof pe.Ref&&(ot=await tt.fetchAsync(ot)),(0,pe.isName)(ot,"Page")||!Ze.has("Type")&&!Ze.has("Kids"))return qe.pageKidsCountCache.has(Xe)||qe.pageKidsCountCache.put(Xe,1),qe.pageIndexCache.has(Xe)||qe.pageIndexCache.put(Xe,0),[Ze,Xe]}throw new he.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(Ze){return(0,he.warn)(`_getLinearizationPage: "${Ze.message}".`),qe.getPageDict(Ne)}}getPage(Ne){const qe=this._pagePromises.get(Ne);if(qe)return qe;const{catalog:it,linearization:tt,xfaFactory:Xe}=this;let Ze;return Xe?Ze=Promise.resolve([pe.Dict.empty,null]):tt&&tt.pageFirst===Ne?Ze=this._getLinearizationPage(Ne):Ze=it.getPageDict(Ne),Ze=Ze.then(([ot,Ge])=>new Be({pdfManager:this.pdfManager,xref:this.xref,pageIndex:Ne,pageDict:ot,ref:Ge,globalIdFactory:this._globalIdFactory,fontCache:it.fontCache,builtInCMapCache:it.builtInCMapCache,standardFontDataCache:it.standardFontDataCache,globalImageCache:it.globalImageCache,nonBlendModesSet:it.nonBlendModesSet,xfaFactory:Xe})),this._pagePromises.set(Ne,Ze),Ze}async checkFirstPage(Ne=!1){if(!Ne)try{await this.getPage(0)}catch(qe){if(qe instanceof de.XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new de.XRefParseException}}async checkLastPage(Ne=!1){const{catalog:qe,pdfManager:it}=this;qe.setActualNumPages();let tt;try{if(await Promise.all([it.ensureDoc("xfaFactory"),it.ensureDoc("linearization"),it.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?tt=this.linearization.numPages:tt=qe.numPages,Number.isInteger(tt)){if(tt<=1)return}else throw new he.FormatError("Page count is not an integer.");await this.getPage(tt-1)}catch(Xe){if(this._pagePromises.delete(tt-1),await this.cleanup(),Xe instanceof de.XRefEntryException&&!Ne)throw new de.XRefParseException;(0,he.warn)(`checkLastPage - invalid /Pages tree /Count: ${tt}.`);let Ze;try{Ze=await qe.getAllPageDicts(Ne)}catch(ot){if(ot instanceof de.XRefEntryException&&!Ne)throw new de.XRefParseException;qe.setActualNumPages(1);return}for(const[ot,[Ge,Ke]]of Ze){let je;Ge instanceof Error?(je=Promise.reject(Ge),je.catch(()=>{})):je=Promise.resolve(new Be({pdfManager:it,xref:this.xref,pageIndex:ot,pageDict:Ge,ref:Ke,globalIdFactory:this._globalIdFactory,fontCache:qe.fontCache,builtInCMapCache:qe.builtInCMapCache,standardFontDataCache:qe.standardFontDataCache,globalImageCache:qe.globalImageCache,nonBlendModesSet:qe.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(ot,je)}qe.setActualNumPages(Ze.size)}}fontFallback(Ne,qe){return this.catalog.fontFallback(Ne,qe)}async cleanup(Ne=!1){return this.catalog?this.catalog.cleanup(Ne):(0,fe.clearGlobalCaches)()}_collectFieldObjects(Ne,qe,it){const tt=this.xref.fetchIfRef(qe);if(tt.has("T")){const Xe=(0,he.stringToPDFString)(tt.get("T"));Ne===""?Ne=Xe:Ne=`${Ne}.${Xe}`}if(it.has(Ne)||it.set(Ne,[]),it.get(Ne).push(ae.AnnotationFactory.create(this.xref,qe,this.pdfManager,this._localIdFactory,!0).then(Xe=>Xe&&Xe.getFieldObject()).catch(function(Xe){return(0,he.warn)(`_collectFieldObjects: "${Xe}".`),null})),tt.has("Kids")){const Xe=tt.get("Kids");for(const Ze of Xe)this._collectFieldObjects(Ne,Ze,it)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,he.shadow)(this,"fieldObjects",Promise.resolve(null));const Ne=Object.create(null),qe=new Map;for(const tt of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",tt,qe);const it=[];for(const[tt,Xe]of qe)it.push(Promise.all(Xe).then(Ze=>{Ze=Ze.filter(ot=>!!ot),Ze.length>0&&(Ne[tt]=Ze)}));return(0,he.shadow)(this,"fieldObjects",Promise.all(it).then(()=>Ne))}get hasJSActions(){const Ne=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,he.shadow)(this,"hasJSActions",Ne)}async _parseHasJSActions(){const[Ne,qe]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return Ne?!0:qe?Object.values(qe).some(it=>it.some(tt=>tt.actions!==null)):!1}get calculationOrderIds(){const Ne=this.catalog.acroForm;if(!Ne||!Ne.has("CO"))return(0,he.shadow)(this,"calculationOrderIds",null);const qe=Ne.get("CO");if(!Array.isArray(qe)||qe.length===0)return(0,he.shadow)(this,"calculationOrderIds",null);const it=[];for(const tt of qe)tt instanceof pe.Ref&&it.push(tt.toString());return it.length===0?(0,he.shadow)(this,"calculationOrderIds",null):(0,he.shadow)(this,"calculationOrderIds",it)}}oe.PDFDocument=Le},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.PopupAnnotation=oe.MarkupAnnotation=oe.AnnotationFactory=oe.AnnotationBorderStyle=oe.Annotation=void 0,oe.getQuadPoints=Ce;var ae=ce(2),he=ce(6),de=ce(13),pe=ce(5),re=ce(65),Ae=ce(7),ge=ce(60),Se=ce(69),fe=ce(14),be=ce(72),xe=ce(75),ue=ce(62),we=ce(10),Fe=ce(76);class _e{static create(We,rt,et,ct,at){return Promise.all([et.ensureCatalog("acroForm"),et.ensureCatalog("baseUrl"),et.ensureDoc("xfaDatasets"),at?this._getPageIndex(We,rt,et):-1]).then(([Je,lt,ut,ft])=>et.ensure(this,"_create",[We,rt,et,ct,Je,ut,at,ft]))}static _create(We,rt,et,ct,at,Je,lt,ut=-1){const ft=We.fetchIfRef(rt);if(!(ft instanceof pe.Dict))return;const pt=rt instanceof pe.Ref?rt.toString():`annot_${ct.createObjId()}`;let mt=ft.get("Subtype");mt=mt instanceof pe.Name?mt.name:null;const xt={xref:We,ref:rt,dict:ft,subtype:mt,id:pt,pdfManager:et,acroForm:at instanceof pe.Dict?at:pe.Dict.empty,xfaDatasets:Je,collectFields:lt,pageIndex:ut};switch(mt){case"Link":return new Ve(xt);case"Text":return new Me(xt);case"Widget":let vt=(0,he.getInheritableProperty)({dict:ft,key:"FT"});switch(vt=vt instanceof pe.Name?vt.name:null,vt){case"Tx":return new Be(xt);case"Btn":return new Pe(xt);case"Ch":return new Ue(xt);case"Sig":return new Te(xt)}return(0,ae.warn)(`Unimplemented widget field type "${vt}", falling back to base field type.`),new $e(xt);case"Popup":return new He(xt);case"FreeText":return new Ie(xt);case"Line":return new Le(xt);case"Square":return new Oe(xt);case"Circle":return new Ne(xt);case"PolyLine":return new qe(xt);case"Polygon":return new it(xt);case"Caret":return new tt(xt);case"Ink":return new Xe(xt);case"Highlight":return new Ze(xt);case"Underline":return new ot(xt);case"Squiggly":return new Ge(xt);case"StrikeOut":return new Ke(xt);case"Stamp":return new je(xt);case"FileAttachment":return new nt(xt);default:return lt||(mt?(0,ae.warn)(`Unimplemented annotation type "${mt}", falling back to base annotation.`):(0,ae.warn)("Annotation is missing the required /Subtype.")),new Re(xt)}}static async _getPageIndex(We,rt,et){try{const ct=await We.fetchIfRefAsync(rt);if(!(ct instanceof pe.Dict))return-1;const at=ct.getRaw("P");return at instanceof pe.Ref?await et.ensureCatalog("getPageIndex",[at]):-1}catch(ct){return(0,ae.warn)(`_getPageIndex: "${ct}".`),-1}}static async saveNewAnnotations(We,rt,et){const ct=We.xref;let at;const Je=[],lt=[];for(const ut of et)switch(ut.annotationType){case ae.AnnotationEditorType.FREETEXT:if(!at){const ft=new pe.Dict(ct);ft.set("BaseFont",pe.Name.get("Helvetica")),ft.set("Type",pe.Name.get("Font")),ft.set("Subtype",pe.Name.get("Type1")),ft.set("Encoding",pe.Name.get("WinAnsiEncoding"));const pt=[];at=ct.getNewRef(),(0,re.writeObject)(at,ft,pt,null),Je.push({ref:at,data:pt.join("")})}lt.push(Ie.createNewAnnotation(ct,ut,Je,{evaluator:We,task:rt,baseFontRef:at}));break;case ae.AnnotationEditorType.INK:lt.push(Xe.createNewAnnotation(ct,ut,Je))}return{annotations:await Promise.all(lt),dependencies:Je}}static async printNewAnnotations(We,rt,et){if(!et)return null;const ct=We.xref,at=[];for(const Je of et)switch(Je.annotationType){case ae.AnnotationEditorType.FREETEXT:at.push(Ie.createNewPrintAnnotation(ct,Je,{evaluator:We,task:rt}));break;case ae.AnnotationEditorType.INK:at.push(Xe.createNewPrintAnnotation(ct,Je));break}return Promise.all(at)}}oe.AnnotationFactory=_e;function Ee(Qe,We=new Uint8ClampedArray(3)){if(!Array.isArray(Qe))return We;const rt=We||new Uint8ClampedArray(3);switch(Qe.length){case 0:return null;case 1:return fe.ColorSpace.singletons.gray.getRgbItem(Qe,0,rt,0),rt;case 3:return fe.ColorSpace.singletons.rgb.getRgbItem(Qe,0,rt,0),rt;case 4:return fe.ColorSpace.singletons.cmyk.getRgbItem(Qe,0,rt,0),rt;default:return We}}function Ce(Qe,We){if(!Qe.has("QuadPoints"))return null;const rt=Qe.getArray("QuadPoints");if(!Array.isArray(rt)||rt.length===0||rt.length%8>0)return null;const et=[];for(let ct=0,at=rt.length/8;ct<at;ct++){et.push([]);for(let Je=ct*8,lt=ct*8+8;Je<lt;Je+=2){const ut=rt[Je],ft=rt[Je+1];if(We!==null&&(ut<We[0]||ut>We[2]||ft<We[1]||ft>We[3]))return null;et[ct].push({x:ut,y:ft})}}return et.map(ct=>{const[at,Je,lt,ut]=ct.reduce(([ft,pt,mt,xt],vt)=>[Math.min(ft,vt.x),Math.max(pt,vt.x),Math.min(mt,vt.y),Math.max(xt,vt.y)],[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:at,y:ut},{x:Je,y:ut},{x:at,y:lt},{x:Je,y:lt}]})}function ye(Qe,We,rt){const[et,ct,at,Je]=ae.Util.getAxialAlignedBoundingBox(We,rt);if(et===at||ct===Je)return[1,0,0,1,Qe[0],Qe[1]];const lt=(Qe[2]-Qe[0])/(at-et),ut=(Qe[3]-Qe[1])/(Je-ct);return[lt,0,0,ut,Qe[0]-et*lt,Qe[1]-ct*ut]}class Re{constructor(We){const rt=We.dict;this.setTitle(rt.get("T")),this.setContents(rt.get("Contents")),this.setModificationDate(rt.get("M")),this.setFlags(rt.get("F")),this.setRectangle(rt.getArray("Rect")),this.setColor(rt.getArray("C")),this.setBorderStyle(rt),this.setAppearance(rt),this.setOptionalContent(rt);const et=rt.get("MK");if(this.setBorderAndBackgroundColors(et),this.setRotation(et),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:We.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:We.subtype,hasOwnCanvas:!1},We.collectFields){const ct=rt.get("Kids");if(Array.isArray(ct)){const at=[];for(const Je of ct)Je instanceof pe.Ref&&at.push(Je.toString());at.length!==0&&(this.data.kidIds=at)}this.data.actions=(0,he.collectActions)(We.xref,rt,ae.AnnotationActionEventType),this.data.fieldName=this._constructFieldName(rt),this.data.pageIndex=We.pageIndex}this._fallbackFontDict=null}_hasFlag(We,rt){return!!(We&rt)}_isViewable(We){return!this._hasFlag(We,ae.AnnotationFlag.INVISIBLE)&&!this._hasFlag(We,ae.AnnotationFlag.NOVIEW)}_isPrintable(We){return this._hasFlag(We,ae.AnnotationFlag.PRINT)&&!this._hasFlag(We,ae.AnnotationFlag.INVISIBLE)}mustBeViewed(We){const rt=We&&We.get(this.data.id);return rt&&rt.hidden!==void 0?!rt.hidden:this.viewable&&!this._hasFlag(this.flags,ae.AnnotationFlag.HIDDEN)}mustBePrinted(We){const rt=We&&We.get(this.data.id);return rt&&rt.print!==void 0?rt.print:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(We){const rt=typeof We=="string"?(0,ae.stringToPDFString)(We):"",et=rt&&(0,ge.bidi)(rt).dir==="rtl"?"rtl":"ltr";return{str:rt,dir:et}}setTitle(We){this._title=this._parseStringHelper(We)}setContents(We){this._contents=this._parseStringHelper(We)}setModificationDate(We){this.modificationDate=typeof We=="string"?We:null}setFlags(We){this.flags=Number.isInteger(We)&&We>0?We:0}hasFlag(We){return this._hasFlag(this.flags,We)}setRectangle(We){Array.isArray(We)&&We.length===4?this.rectangle=ae.Util.normalizeRect(We):this.rectangle=[0,0,0,0]}setColor(We){this.color=Ee(We)}setLineEndings(We){if(this.lineEndings=["None","None"],Array.isArray(We)&&We.length===2)for(let rt=0;rt<2;rt++){const et=We[rt];if(et instanceof pe.Name)switch(et.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[rt]=et.name;continue}(0,ae.warn)(`Ignoring invalid lineEnding: ${et}`)}}setRotation(We){if(this.rotation=0,We instanceof pe.Dict){let rt=We.get("R")||0;Number.isInteger(rt)&&rt!==0&&(rt%=360,rt<0&&(rt+=360),rt%90===0&&(this.rotation=rt))}}setBorderAndBackgroundColors(We){We instanceof pe.Dict?(this.borderColor=Ee(We.getArray("BC"),null),this.backgroundColor=Ee(We.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(We){if(this.borderStyle=new Ye,We instanceof pe.Dict)if(We.has("BS")){const rt=We.get("BS"),et=rt.get("Type");(!et||(0,pe.isName)(et,"Border"))&&(this.borderStyle.setWidth(rt.get("W"),this.rectangle),this.borderStyle.setStyle(rt.get("S")),this.borderStyle.setDashArray(rt.getArray("D")))}else if(We.has("Border")){const rt=We.getArray("Border");Array.isArray(rt)&&rt.length>=3&&(this.borderStyle.setHorizontalCornerRadius(rt[0]),this.borderStyle.setVerticalCornerRadius(rt[1]),this.borderStyle.setWidth(rt[2],this.rectangle),rt.length===4&&this.borderStyle.setDashArray(rt[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(We){this.appearance=null;const rt=We.get("AP");if(!(rt instanceof pe.Dict))return;const et=rt.get("N");if(et instanceof Ae.BaseStream){this.appearance=et;return}if(!(et instanceof pe.Dict))return;const ct=We.get("AS");!(ct instanceof pe.Name)||!et.has(ct.name)||(this.appearance=et.get(ct.name))}setOptionalContent(We){this.oc=null;const rt=We.get("OC");rt instanceof pe.Name?(0,ae.warn)("setOptionalContent: Support for /Name-entry is not implemented."):rt instanceof pe.Dict&&(this.oc=rt)}loadResources(We,rt){return rt.dict.getAsync("Resources").then(et=>et?new xe.ObjectLoader(et,We,et.xref).load().then(function(){return et}):void 0)}async getOperatorList(We,rt,et,ct,at){const Je=this.data;let lt=this.appearance;const ut=!!(this.data.hasOwnCanvas&&et&ae.RenderingIntentFlag.DISPLAY);if(!lt){if(!ut)return{opList:new ue.OperatorList,separateForm:!1,separateCanvas:!1};lt=new we.StringStream(""),lt.dict=new pe.Dict}const ft=lt.dict,pt=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],lt),mt=ft.getArray("BBox")||[0,0,1,1],xt=ft.getArray("Matrix")||[1,0,0,1,0,0],vt=ye(Je.rect,mt,xt),wt=new ue.OperatorList;let _t;return this.oc&&(_t=await We.parseMarkedContentProps(this.oc,null)),_t!==void 0&&wt.addOp(ae.OPS.beginMarkedContentProps,["OC",_t]),wt.addOp(ae.OPS.beginAnnotation,[Je.id,Je.rect,vt,xt,ut]),await We.getOperatorList({stream:lt,task:rt,resources:pt,operatorList:wt,fallbackFontDict:this._fallbackFontDict}),wt.addOp(ae.OPS.endAnnotation,[]),_t!==void 0&&wt.addOp(ae.OPS.endMarkedContent,[]),this.reset(),{opList:wt,separateForm:!1,separateCanvas:ut}}async save(We,rt,et){return null}get hasTextContent(){return!1}async extractTextContent(We,rt,et){if(!this.appearance)return;const ct=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),at=[],Je=[],lt={desiredSize:Math.Infinity,ready:!0,enqueue(ut,ft){for(const pt of ut.items)Je.push(pt.str),pt.hasEOL&&(at.push(Je.join("")),Je.length=0)}};await We.getTextContent({stream:this.appearance,task:rt,resources:ct,includeMarkedContent:!0,combineTextItems:!0,sink:lt,viewBox:et}),this.reset(),Je.length&&at.push(Je.join("")),at.length>0&&(this.data.textContent=at)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const We of this._streams)We.reset()}_constructFieldName(We){if(!We.has("T")&&!We.has("Parent"))return(0,ae.warn)("Unknown field name, falling back to empty field name."),"";if(!We.has("Parent"))return(0,ae.stringToPDFString)(We.get("T"));const rt=[];We.has("T")&&rt.unshift((0,ae.stringToPDFString)(We.get("T")));let et=We;const ct=new pe.RefSet;for(We.objId&&ct.put(We.objId);et.has("Parent")&&(et=et.get("Parent"),!(!(et instanceof pe.Dict)||et.objId&&ct.has(et.objId)));)et.objId&&ct.put(et.objId),et.has("T")&&rt.unshift((0,ae.stringToPDFString)(et.get("T")));return rt.join(".")}}oe.Annotation=Re;class Ye{constructor(){this.width=1,this.style=ae.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(We,rt=[0,0,0,0]){if(We instanceof pe.Name){this.width=0;return}if(typeof We=="number"){if(We>0){const et=(rt[2]-rt[0])/2,ct=(rt[3]-rt[1])/2;et>0&&ct>0&&(We>et||We>ct)&&((0,ae.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${We}`),We=1)}this.width=We}}setStyle(We){if(We instanceof pe.Name)switch(We.name){case"S":this.style=ae.AnnotationBorderStyleType.SOLID;break;case"D":this.style=ae.AnnotationBorderStyleType.DASHED;break;case"B":this.style=ae.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=ae.AnnotationBorderStyleType.INSET;break;case"U":this.style=ae.AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(We,rt=!1){if(Array.isArray(We)&&We.length>0){let et=!0,ct=!0;for(const at of We)if(+at>=0)at>0&&(ct=!1);else{et=!1;break}et&&!ct?(this.dashArray=We,rt&&this.setStyle(pe.Name.get("D"))):this.width=0}else We&&(this.width=0)}setHorizontalCornerRadius(We){Number.isInteger(We)&&(this.horizontalCornerRadius=We)}setVerticalCornerRadius(We){Number.isInteger(We)&&(this.verticalCornerRadius=We)}}oe.AnnotationBorderStyle=Ye;class ke extends Re{constructor(We){super(We);const rt=We.dict;if(rt.has("IRT")){const et=rt.getRaw("IRT");this.data.inReplyTo=et instanceof pe.Ref?et.toString():null;const ct=rt.get("RT");this.data.replyType=ct instanceof pe.Name?ct.name:ae.AnnotationReplyType.REPLY}if(this.data.replyType===ae.AnnotationReplyType.GROUP){const et=rt.get("IRT");this.setTitle(et.get("T")),this.data.titleObj=this._title,this.setContents(et.get("Contents")),this.data.contentsObj=this._contents,et.has("CreationDate")?(this.setCreationDate(et.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,et.has("M")?(this.setModificationDate(et.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=et.has("Popup"),et.has("C")?(this.setColor(et.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(rt.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=rt.has("Popup"),rt.has("C")||(this.data.color=null);rt.has("RC")&&(this.data.richText=Fe.XFAFactory.getRichTextAsHtml(rt.get("RC")))}setCreationDate(We){this.creationDate=typeof We=="string"?We:null}_setDefaultAppearance({xref:We,extra:rt,strokeColor:et,fillColor:ct,blendMode:at,strokeAlpha:Je,fillAlpha:lt,pointsCallback:ut}){let ft=Number.MAX_VALUE,pt=Number.MAX_VALUE,mt=Number.MIN_VALUE,xt=Number.MIN_VALUE;const vt=["q"];rt&&vt.push(rt),et&&vt.push(`${et[0]} ${et[1]} ${et[2]} RG`),ct&&vt.push(`${ct[0]} ${ct[1]} ${ct[2]} rg`);let wt=this.data.quadPoints;wt||(wt=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const yt of wt){const[bt,Pt,Ut,Yt]=ut(vt,yt);ft=Math.min(ft,bt),mt=Math.max(mt,Pt),pt=Math.min(pt,Ut),xt=Math.max(xt,Yt)}vt.push("Q");const _t=new pe.Dict(We),Tt=new pe.Dict(We);Tt.set("Subtype",pe.Name.get("Form"));const Lt=new we.StringStream(vt.join(" "));Lt.dict=Tt,_t.set("Fm0",Lt);const jt=new pe.Dict(We);at&&jt.set("BM",pe.Name.get(at)),typeof Je=="number"&&jt.set("CA",Je),typeof lt=="number"&&jt.set("ca",lt);const Bt=new pe.Dict(We);Bt.set("GS0",jt);const St=new pe.Dict(We);St.set("ExtGState",Bt),St.set("XObject",_t);const Ft=new pe.Dict(We);Ft.set("Resources",St);const Ct=this.data.rect=[ft,pt,mt,xt];Ft.set("BBox",Ct),this.appearance=new we.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Ft,this._streams.push(this.appearance,Lt)}static async createNewAnnotation(We,rt,et,ct){const at=We.getNewRef(),Je=We.getNewRef(),lt=this.createNewDict(rt,We,{apRef:Je}),ut=await this.createNewAppearanceStream(rt,We,ct),ft=[];let pt=We.encrypt?We.encrypt.createCipherTransform(Je.num,Je.gen):null;return(0,re.writeObject)(Je,ut,ft,pt),et.push({ref:Je,data:ft.join("")}),ft.length=0,pt=We.encrypt?We.encrypt.createCipherTransform(at.num,at.gen):null,(0,re.writeObject)(at,lt,ft,pt),{ref:at,data:ft.join("")}}static async createNewPrintAnnotation(We,rt,et){const ct=await this.createNewAppearanceStream(rt,We,et),at=this.createNewDict(rt,We,{ap:ct});return new this.prototype.constructor({dict:at,xref:We})}}oe.MarkupAnnotation=ke;class $e extends Re{constructor(We){super(We);const rt=We.dict,et=this.data;this.ref=We.ref,et.annotationType=ae.AnnotationType.WIDGET,et.fieldName===void 0&&(et.fieldName=this._constructFieldName(rt)),et.actions===void 0&&(et.actions=(0,he.collectActions)(We.xref,rt,ae.AnnotationActionEventType));let ct=(0,he.getInheritableProperty)({dict:rt,key:"V",getArray:!0});et.fieldValue=this._decodeFormValue(ct);const at=(0,he.getInheritableProperty)({dict:rt,key:"DV",getArray:!0});if(et.defaultFieldValue=this._decodeFormValue(at),ct===void 0&&We.xfaDatasets){const mt=this._title.str;mt&&(this._hasValueFromXFA=!0,et.fieldValue=ct=We.xfaDatasets.getValue(mt))}ct===void 0&&et.defaultFieldValue!==null&&(et.fieldValue=et.defaultFieldValue),et.alternativeText=(0,ae.stringToPDFString)(rt.get("TU")||"");const Je=(0,he.getInheritableProperty)({dict:rt,key:"DA"})||We.acroForm.get("DA");this._defaultAppearance=typeof Je=="string"?Je:"",et.defaultAppearanceData=(0,de.parseDefaultAppearance)(this._defaultAppearance);const lt=(0,he.getInheritableProperty)({dict:rt,key:"FT"});et.fieldType=lt instanceof pe.Name?lt.name:null;const ut=(0,he.getInheritableProperty)({dict:rt,key:"DR"}),ft=We.acroForm.get("DR"),pt=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:ut,acroFormResources:ft,appearanceResources:pt,mergedResources:pe.Dict.merge({xref:We.xref,dictArray:[ut,pt,ft],mergeSubDicts:!0})},et.fieldFlags=(0,he.getInheritableProperty)({dict:rt,key:"Ff"}),(!Number.isInteger(et.fieldFlags)||et.fieldFlags<0)&&(et.fieldFlags=0),et.readOnly=this.hasFieldFlag(ae.AnnotationFieldFlag.READONLY),et.required=this.hasFieldFlag(ae.AnnotationFieldFlag.REQUIRED),et.hidden=this._hasFlag(et.annotationFlags,ae.AnnotationFlag.HIDDEN)}_decodeFormValue(We){return Array.isArray(We)?We.filter(rt=>typeof rt=="string").map(rt=>(0,ae.stringToPDFString)(rt)):We instanceof pe.Name?(0,ae.stringToPDFString)(We.name):typeof We=="string"?(0,ae.stringToPDFString)(We):null}hasFieldFlag(We){return!!(this.data.fieldFlags&We)}static _getRotationMatrix(We,rt,et){switch(We){case 90:return[0,1,-1,0,rt,0];case 180:return[-1,0,0,-1,rt,et];case 270:return[0,-1,1,0,0,et];default:throw new Error("Invalid rotation")}}getRotationMatrix(We){const rt=We?We.get(this.data.id):void 0;let et=rt&&rt.rotation;if(et===void 0&&(et=this.rotation),et===0)return ae.IDENTITY_MATRIX;const ct=this.data.rect[2]-this.data.rect[0],at=this.data.rect[3]-this.data.rect[1];return $e._getRotationMatrix(et,ct,at)}getBorderAndBackgroundAppearances(We){const rt=We?We.get(this.data.id):void 0;let et=rt&&rt.rotation;if(et===void 0&&(et=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const ct=this.data.rect[2]-this.data.rect[0],at=this.data.rect[3]-this.data.rect[1],Je=et===0||et===180?`0 0 ${ct} ${at} re`:`0 0 ${at} ${ct} re`;let lt="";if(this.backgroundColor&&(lt=`${(0,de.getPdfColor)(this.backgroundColor,!0)} ${Je} f `),this.borderColor){const ut=this.borderStyle.width||1;lt+=`${ut} w ${(0,de.getPdfColor)(this.borderColor,!1)} ${Je} S `}return lt}async getOperatorList(We,rt,et,ct,at){if(ct&&!(this instanceof Te))return{opList:new ue.OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(We,rt,et,ct,at);const Je=await this._getAppearance(We,rt,at);if(this.appearance&&Je===null)return super.getOperatorList(We,rt,et,ct,at);const lt=new ue.OperatorList;if(!this._defaultAppearance||Je===null)return{opList:lt,separateForm:!1,separateCanvas:!1};const ut=[1,0,0,1,0,0],ft=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],pt=ye(this.data.rect,ft,ut);let mt;this.oc&&(mt=await We.parseMarkedContentProps(this.oc,null)),mt!==void 0&&lt.addOp(ae.OPS.beginMarkedContentProps,["OC",mt]),lt.addOp(ae.OPS.beginAnnotation,[this.data.id,this.data.rect,pt,this.getRotationMatrix(at),!1]);const xt=new we.StringStream(Je);return await We.getOperatorList({stream:xt,task:rt,resources:this._fieldResources.mergedResources,operatorList:lt}),lt.addOp(ae.OPS.endAnnotation,[]),mt!==void 0&&lt.addOp(ae.OPS.endMarkedContent,[]),{opList:lt,separateForm:!1,separateCanvas:!1}}_getMKDict(We){const rt=new pe.Dict(null);return We&&rt.set("R",We),this.borderColor&&rt.set("BC",Array.from(this.borderColor).map(et=>et/255)),this.backgroundColor&&rt.set("BG",Array.from(this.backgroundColor).map(et=>et/255)),rt.size>0?rt:null}async save(We,rt,et){const ct=et?et.get(this.data.id):void 0;let at=ct&&ct.value,Je=ct&&ct.rotation;if(at===this.data.fieldValue||at===void 0){if(!this._hasValueFromXFA&&Je===void 0)return null;at=at||this.data.fieldValue}if(Je===void 0&&!this._hasValueFromXFA&&Array.isArray(at)&&Array.isArray(this.data.fieldValue)&&at.length===this.data.fieldValue.length&&at.every((yt,bt)=>yt===this.data.fieldValue[bt]))return null;Je===void 0&&(Je=this.rotation);let lt=await this._getAppearance(We,rt,et);if(lt===null)return null;const{xref:ut}=We,ft=ut.fetchIfRef(this.ref);if(!(ft instanceof pe.Dict))return null;const pt=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],mt={path:(0,ae.stringToPDFString)(ft.get("T")||""),value:at},xt=ut.getNewRef(),vt=new pe.Dict(ut);vt.set("N",xt);const wt=ut.encrypt;let _t=null,Tt=null;wt&&(_t=wt.createCipherTransform(this.ref.num,this.ref.gen),Tt=wt.createCipherTransform(xt.num,xt.gen),lt=Tt.encryptString(lt));const Lt=yt=>(0,ae.isAscii)(yt)?yt:(0,ae.stringToUTF16BEString)(yt);ft.set("V",Array.isArray(at)?at.map(Lt):Lt(at)),ft.set("AP",vt),ft.set("M",`D:${(0,ae.getModificationDate)()}`);const jt=this._getMKDict(Je);jt&&ft.set("MK",jt);const Bt=new pe.Dict(ut);Bt.set("Length",lt.length),Bt.set("Subtype",pe.Name.get("Form")),Bt.set("Resources",this._getSaveFieldResources(ut)),Bt.set("BBox",pt);const St=this.getRotationMatrix(et);St!==ae.IDENTITY_MATRIX&&Bt.set("Matrix",St);const Ft=[`${this.ref.num} ${this.ref.gen} obj
`];(0,re.writeDict)(ft,Ft,_t),Ft.push(`
endobj
`);const Ct=[`${xt.num} ${xt.gen} obj
`];return(0,re.writeDict)(Bt,Ct,Tt),Ct.push(` stream
`,lt,`
endstream
endobj
`),[{ref:this.ref,data:Ft.join(""),xfa:mt},{ref:xt,data:Ct.join(""),xfa:null}]}async _getAppearance(We,rt,et){if(this.hasFieldFlag(ae.AnnotationFieldFlag.PASSWORD))return null;const at=et?et.get(this.data.id):void 0;let Je,lt;if(at&&(Je=at.formattedValue||at.value,lt=at.rotation),lt===void 0&&Je===void 0&&(!this._hasValueFromXFA||this.appearance))return null;if(Je===void 0&&(Je=this.data.fieldValue,!Je)||(Array.isArray(Je)&&Je.length===1&&(Je=Je[0]),(0,ae.assert)(typeof Je=="string","Expected `value` to be a string."),Je=Je.trim(),Je===""))return"";lt===void 0&&(lt=this.rotation);let ut=-1;this.data.multiLine&&(ut=Je.split(/\r\n|\r|\n/).length);const ft=2,pt=ft;let mt=this.data.rect[3]-this.data.rect[1],xt=this.data.rect[2]-this.data.rect[0];(lt===90||lt===270)&&([xt,mt]=[mt,xt]),this._defaultAppearance||(this.data.defaultAppearanceData=(0,de.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const vt=await $e._getFontData(We,rt,this.data.defaultAppearanceData,this._fieldResources.mergedResources),[wt,_t]=this._computeFontSize(mt-ft,xt-2*pt,Je,vt,ut);let Tt=vt.descent;isNaN(Tt)&&(Tt=0);const jt=Math.min(Math.floor((mt-_t)/2),ft)+Math.abs(Tt)*_t,Bt=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(wt,Je,vt,_t,xt,mt,Bt,pt,jt,et);const St=vt.encodeString(Je).join("");if(this.data.comb)return this._getCombAppearance(wt,vt,St,xt,pt,jt,et);const Ft=this.getBorderAndBackgroundAppearances(et);if(Bt===0||Bt>2)return`/Tx BMC q ${Ft}BT `+wt+` 1 0 0 1 ${pt} ${jt} Tm (${(0,ae.escapeString)(St)}) Tj ET Q EMC`;const Ct=this._renderText(St,vt,_t,xt,Bt,pt,jt);return`/Tx BMC q ${Ft}BT `+wt+` 1 0 0 1 0 0 Tm ${Ct} ET Q EMC`}static async _getFontData(We,rt,et,ct){const at=new ue.OperatorList,Je={font:null,clone(){return this}},{fontName:lt,fontSize:ut}=et;return await We.handleSetFont(ct,[lt&&pe.Name.get(lt),ut],null,at,rt,Je,null),Je.font}_getTextWidth(We,rt){return rt.charsToGlyphs(We).reduce((et,ct)=>et+ct.width,0)/1e3}_computeFontSize(We,rt,et,ct,at){let{fontSize:Je}=this.data.defaultAppearanceData;if(!Je){const lt=pt=>Math.floor(pt*100)/100;if(at===-1){const pt=this._getTextWidth(et,ct);Je=lt(Math.min(We/ae.LINE_FACTOR,rt/pt))}else{const pt=et.split(/\r\n?|\n/),mt=[];for(const _t of pt){const Tt=ct.encodeString(_t).join(""),Lt=ct.charsToGlyphs(Tt),jt=ct.getCharPositions(Tt);mt.push({line:Tt,glyphs:Lt,positions:jt})}const xt=_t=>{let Tt=0;for(const Lt of mt){const jt=this._splitLine(null,ct,_t,rt,Lt);if(Tt+=jt.length*_t,Tt>We)return!0}return!1};Je=12;let vt=Je*ae.LINE_FACTOR,wt=Math.round(We/vt);for(wt=Math.max(wt,at);;){if(vt=We/wt,Je=lt(vt/ae.LINE_FACTOR),xt(Je)){wt++;continue}break}}const{fontName:ut,fontColor:ft}=this.data.defaultAppearanceData;this._defaultAppearance=(0,de.createDefaultAppearance)({fontSize:Je,fontName:ut,fontColor:ft})}return[this._defaultAppearance,Je]}_renderText(We,rt,et,ct,at,Je,lt){let ut;if(at===1){const ft=this._getTextWidth(We,rt)*et;ut=(ct-ft)/2}else if(at===2){const ft=this._getTextWidth(We,rt)*et;ut=ct-ft-Je}else ut=Je;return ut=(0,he.numberToString)(ut),lt=(0,he.numberToString)(lt),`${ut} ${lt} Td (${(0,ae.escapeString)(We)}) Tj`}_getSaveFieldResources(We){const{localResources:rt,appearanceResources:et,acroFormResources:ct}=this._fieldResources,at=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!at)return rt||pe.Dict.empty;for(const Je of[rt,et])if(Je instanceof pe.Dict){const lt=Je.get("Font");if(lt instanceof pe.Dict&&lt.has(at))return Je}if(ct instanceof pe.Dict){const Je=ct.get("Font");if(Je instanceof pe.Dict&&Je.has(at)){const lt=new pe.Dict(We);lt.set(at,Je.getRaw(at));const ut=new pe.Dict(We);return ut.set("Font",lt),pe.Dict.merge({xref:We,dictArray:[ut,rt],mergeSubDicts:!0})}}return rt||pe.Dict.empty}getFieldObject(){return null}}class Be extends $e{constructor(We){super(We),this._hasText=!0;const rt=We.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let et=(0,he.getInheritableProperty)({dict:rt,key:"Q"});(!Number.isInteger(et)||et<0||et>2)&&(et=null),this.data.textAlignment=et;let ct=(0,he.getInheritableProperty)({dict:rt,key:"MaxLen"});(!Number.isInteger(ct)||ct<0)&&(ct=0),this.data.maxLen=ct,this.data.multiLine=this.hasFieldFlag(ae.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(ae.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(ae.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(ae.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(ae.AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(ae.AnnotationFieldFlag.DONOTSCROLL)}_getCombAppearance(We,rt,et,ct,at,Je,lt){const ut=(0,he.numberToString)(ct/this.data.maxLen),ft=[],pt=rt.getCharPositions(et);for(const[vt,wt]of pt)ft.push(`(${(0,ae.escapeString)(et.substring(vt,wt))}) Tj`);const mt=this.getBorderAndBackgroundAppearances(lt),xt=ft.join(` ${ut} 0 Td `);return`/Tx BMC q ${mt}BT `+We+` 1 0 0 1 ${at} ${Je} Tm ${xt} ET Q EMC`}_getMultilineAppearance(We,rt,et,ct,at,Je,lt,ut,ft,pt){const mt=rt.split(/\r\n?|\n/),xt=[],vt=at-2*ut;for(const Tt of mt){const Lt=this._splitLine(Tt,et,ct,vt);for(const jt of Lt){const Bt=xt.length===0?ut:0;xt.push(this._renderText(jt,et,ct,at,lt,Bt,-ct))}}const wt=xt.join(`
`);return`/Tx BMC q ${this.getBorderAndBackgroundAppearances(pt)}BT `+We+` 1 0 0 1 0 ${Je} Tm ${wt} ET Q EMC`}_splitLine(We,rt,et,ct,at={}){We=at.line||rt.encodeString(We).join("");const Je=at.glyphs||rt.charsToGlyphs(We);if(Je.length<=1)return[We];const lt=at.positions||rt.getCharPositions(We),ut=et/1e3,ft=[];let pt=-1,mt=-1,xt=-1,vt=0,wt=0;for(let _t=0,Tt=Je.length;_t<Tt;_t++){const[Lt,jt]=lt[_t],Bt=Je[_t],St=Bt.width*ut;Bt.unicode===" "?wt+St>ct?(ft.push(We.substring(vt,Lt)),vt=Lt,wt=St,pt=-1,xt=-1):(wt+=St,pt=Lt,mt=jt,xt=_t):wt+St>ct?pt!==-1?(ft.push(We.substring(vt,mt)),vt=mt,_t=xt+1,pt=-1,wt=0):(ft.push(We.substring(vt,Lt)),vt=Lt,wt=St):wt+=St}return vt<We.length&&ft.push(We.substring(vt,We.length)),ft}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(ae.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class Pe extends $e{constructor(We){super(We),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(ae.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(ae.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(ae.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(ae.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(ae.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(We):this.data.radioButton?this._processRadioButton(We):this.data.pushButton?(this.data.hasOwnCanvas=!0,this._processPushButton(We)):(0,ae.warn)("Invalid field flags for button widget annotation")}async getOperatorList(We,rt,et,ct,at){if(this.data.pushButton)return super.getOperatorList(We,rt,et,!1,at);let Je=null,lt=null;if(at){const ft=at.get(this.data.id);Je=ft?ft.value:null,lt=ft?ft.rotation:null}if(Je===null&&this.appearance)return super.getOperatorList(We,rt,et,ct,at);Je==null&&(this.data.checkBox?Je=this.data.fieldValue===this.data.exportValue:Je=this.data.fieldValue===this.data.buttonValue);const ut=Je?this.checkedAppearance:this.uncheckedAppearance;if(ut){const ft=this.appearance,pt=ut.dict.getArray("Matrix")||ae.IDENTITY_MATRIX;lt&&ut.dict.set("Matrix",this.getRotationMatrix(at)),this.appearance=ut;const mt=super.getOperatorList(We,rt,et,ct,at);return this.appearance=ft,ut.dict.set("Matrix",pt),mt}return{opList:new ue.OperatorList,separateForm:!1,separateCanvas:!1}}async save(We,rt,et){return this.data.checkBox?this._saveCheckbox(We,rt,et):this.data.radioButton?this._saveRadioButton(We,rt,et):null}async _saveCheckbox(We,rt,et){if(!et)return null;const ct=et.get(this.data.id);let at=ct&&ct.rotation,Je=ct&&ct.value;if(at===void 0&&(Je===void 0||this.data.fieldValue===this.data.exportValue===Je))return null;const lt=We.xref.fetchIfRef(this.ref);if(!(lt instanceof pe.Dict))return null;at===void 0&&(at=this.rotation),Je===void 0&&(Je=this.data.fieldValue===this.data.exportValue);const ut={path:(0,ae.stringToPDFString)(lt.get("T")||""),value:Je?this.data.exportValue:""},ft=pe.Name.get(Je?this.data.exportValue:"Off");lt.set("V",ft),lt.set("AS",ft),lt.set("M",`D:${(0,ae.getModificationDate)()}`);const pt=this._getMKDict(at);pt&&lt.set("MK",pt);const mt=We.xref.encrypt;let xt=null;mt&&(xt=mt.createCipherTransform(this.ref.num,this.ref.gen));const vt=[`${this.ref.num} ${this.ref.gen} obj
`];return(0,re.writeDict)(lt,vt,xt),vt.push(`
endobj
`),[{ref:this.ref,data:vt.join(""),xfa:ut}]}async _saveRadioButton(We,rt,et){if(!et)return null;const ct=et.get(this.data.id);let at=ct&&ct.rotation,Je=ct&&ct.value;if(at===void 0&&(Je===void 0||this.data.fieldValue===this.data.buttonValue===Je))return null;const lt=We.xref.fetchIfRef(this.ref);if(!(lt instanceof pe.Dict))return null;Je===void 0&&(Je=this.data.fieldValue===this.data.buttonValue),at===void 0&&(at=this.rotation);const ut={path:(0,ae.stringToPDFString)(lt.get("T")||""),value:Je?this.data.buttonValue:""},ft=pe.Name.get(Je?this.data.buttonValue:"Off");let pt=null;const mt=We.xref.encrypt;if(Je)if(this.parent instanceof pe.Ref){const Tt=We.xref.fetch(this.parent);let Lt=null;mt&&(Lt=mt.createCipherTransform(this.parent.num,this.parent.gen)),Tt.set("V",ft),pt=[`${this.parent.num} ${this.parent.gen} obj
`],(0,re.writeDict)(Tt,pt,Lt),pt.push(`
endobj
`)}else this.parent instanceof pe.Dict&&this.parent.set("V",ft);lt.set("AS",ft),lt.set("M",`D:${(0,ae.getModificationDate)()}`);const xt=this._getMKDict(at);xt&&lt.set("MK",xt);let vt=null;mt&&(vt=mt.createCipherTransform(this.ref.num,this.ref.gen));const wt=[`${this.ref.num} ${this.ref.gen} obj
`];(0,re.writeDict)(lt,wt,vt),wt.push(`
endobj
`);const _t=[{ref:this.ref,data:wt.join(""),xfa:ut}];return pt!==null&&_t.push({ref:this.parent,data:pt.join(""),xfa:null}),_t}_getDefaultCheckedAppearance(We,rt){const et=this.data.rect[2]-this.data.rect[0],ct=this.data.rect[3]-this.data.rect[1],at=[0,0,et,ct],lt=Math.min(et,ct)*.8;let ut,ft;rt==="check"?(ut={width:.755*lt,height:.705*lt},ft="3"):rt==="disc"?(ut={width:.791*lt,height:.705*lt},ft="l"):(0,ae.unreachable)(`_getDefaultCheckedAppearance - unsupported type: ${rt}`);const pt=(0,he.numberToString)((et-ut.width)/2),mt=(0,he.numberToString)((ct-ut.height)/2),xt=`q BT /PdfJsZaDb ${lt} Tf 0 g ${pt} ${mt} Td (${ft}) Tj ET Q`,vt=new pe.Dict(We.xref);vt.set("FormType",1),vt.set("Subtype",pe.Name.get("Form")),vt.set("Type",pe.Name.get("XObject")),vt.set("BBox",at),vt.set("Matrix",[1,0,0,1,0,0]),vt.set("Length",xt.length);const wt=new pe.Dict(We.xref),_t=new pe.Dict(We.xref);_t.set("PdfJsZaDb",this.fallbackFontDict),wt.set("Font",_t),vt.set("Resources",wt),this.checkedAppearance=new we.StringStream(xt),this.checkedAppearance.dict=vt,this._streams.push(this.checkedAppearance)}_processCheckBox(We){const rt=We.dict.get("AP");if(!(rt instanceof pe.Dict))return;const et=rt.get("N");if(!(et instanceof pe.Dict))return;const ct=this._decodeFormValue(We.dict.get("AS"));typeof ct=="string"&&(this.data.fieldValue=ct);const at=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",Je=et.getKeys();if(Je.length===0)Je.push("Off",at);else if(Je.length===1)Je[0]==="Off"?Je.push(at):Je.unshift("Off");else if(Je.includes(at))Je.length=0,Je.push("Off",at);else{const lt=Je.find(ut=>ut!=="Off");Je.length=0,Je.push("Off",lt)}Je.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=Je[1],this.checkedAppearance=et.get(this.data.exportValue)||null,this.uncheckedAppearance=et.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(We,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}_processRadioButton(We){this.data.fieldValue=this.data.buttonValue=null;const rt=We.dict.get("Parent");if(rt instanceof pe.Dict){this.parent=We.dict.getRaw("Parent");const at=rt.get("V");at instanceof pe.Name&&(this.data.fieldValue=this._decodeFormValue(at))}const et=We.dict.get("AP");if(!(et instanceof pe.Dict))return;const ct=et.get("N");if(ct instanceof pe.Dict){for(const at of ct.getKeys())if(at!=="Off"){this.data.buttonValue=this._decodeFormValue(at);break}this.checkedAppearance=ct.get(this.data.buttonValue)||null,this.uncheckedAppearance=ct.get("Off")||null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(We,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(We){if(!We.dict.has("A")&&!We.dict.has("AA")&&!this.data.alternativeText){(0,ae.warn)("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!We.dict.has("A")&&!We.dict.has("AA"),Se.Catalog.parseDestDictionary({destDict:We.dict,resultObj:this.data,docBaseUrl:We.pdfManager.docBaseUrl})}getFieldObject(){let We="button",rt;return this.data.checkBox?(We="checkbox",rt=this.data.exportValue):this.data.radioButton&&(We="radiobutton",rt=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:rt,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:We}}get fallbackFontDict(){const We=new pe.Dict;return We.set("BaseFont",pe.Name.get("ZapfDingbats")),We.set("Type",pe.Name.get("FallbackType")),We.set("Subtype",pe.Name.get("FallbackType")),We.set("Encoding",pe.Name.get("ZapfDingbatsEncoding")),(0,ae.shadow)(this,"fallbackFontDict",We)}}class Ue extends $e{constructor(We){super(We),this.data.options=[];const rt=(0,he.getInheritableProperty)({dict:We.dict,key:"Opt"});if(Array.isArray(rt)){const et=We.xref;for(let ct=0,at=rt.length;ct<at;ct++){const Je=et.fetchIfRef(rt[ct]),lt=Array.isArray(Je);this.data.options[ct]={exportValue:this._decodeFormValue(lt?et.fetchIfRef(Je[0]):Je),displayValue:this._decodeFormValue(lt?et.fetchIfRef(Je[1]):Je)}}}typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(ae.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(ae.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const We=this.data.combo?"combobox":"listbox",rt=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:rt,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:We}}async _getAppearance(We,rt,et){if(this.data.combo)return super._getAppearance(We,rt,et);if(!et)return null;const ct=et.get(this.data.id);if(!ct)return null;const at=ct.rotation;let Je=ct.value;if(at===void 0&&Je===void 0)return null;Je===void 0?Je=this.data.fieldValue:Array.isArray(Je)||(Je=[Je]);const lt=2,ut=lt;let ft=this.data.rect[3]-this.data.rect[1],pt=this.data.rect[2]-this.data.rect[0];(at===90||at===270)&&([pt,ft]=[ft,pt]);const mt=this.data.options.length,xt=[];for(let Ct=0;Ct<mt;Ct++){const{exportValue:yt}=this.data.options[Ct];Je.includes(yt)&&xt.push(Ct)}this._defaultAppearance||(this.data.defaultAppearanceData=(0,de.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const vt=await $e._getFontData(We,rt,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let wt,{fontSize:_t}=this.data.defaultAppearanceData;if(_t)wt=this._defaultAppearance;else{const Ct=(ft-lt)/mt;let yt=-1,bt;for(const{displayValue:Pt}of this.data.options){const Ut=this._getTextWidth(Pt,vt);Ut>yt&&(yt=Ut,bt=Pt)}[wt,_t]=this._computeFontSize(Ct,pt-2*ut,bt,vt,-1)}const Tt=_t*ae.LINE_FACTOR,Lt=(Tt-_t)/2,jt=Math.floor(ft/Tt);let Bt;if(xt.length===1){const Ct=xt[0],yt=Ct%jt;Bt=Ct-yt}else Bt=xt.length?xt[0]:0;const St=Math.min(Bt+jt+1,mt),Ft=["/Tx BMC q",`1 1 ${pt} ${ft} re W n`];if(xt.length){Ft.push("0.600006 0.756866 0.854904 rg");for(const Ct of xt)Bt<=Ct&&Ct<St&&Ft.push(`1 ${ft-(Ct-Bt+1)*Tt} ${pt} ${Tt} re f`)}Ft.push("BT",wt,`1 0 0 1 0 ${ft} Tm`);for(let Ct=Bt;Ct<St;Ct++){const{displayValue:yt}=this.data.options[Ct],bt=Ct===Bt?ut:0,Pt=Ct===Bt?Lt:0;Ft.push(this._renderText(yt,vt,_t,pt,0,bt,-Tt+Pt))}return Ft.push("ET Q EMC"),Ft.join(`
`)}}class Te extends $e{constructor(We){super(We),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class Me extends ke{constructor(We){super(We);const et=We.dict;this.data.annotationType=ae.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=et.has("Name")?et.get("Name").name:"Note"),et.has("State")?(this.data.state=et.get("State")||null,this.data.stateModel=et.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class Ve extends Re{constructor(We){super(We),this.data.annotationType=ae.AnnotationType.LINK;const rt=Ce(We.dict,this.rectangle);rt&&(this.data.quadPoints=rt),this.data.borderColor=this.data.borderColor||this.data.color,Se.Catalog.parseDestDictionary({destDict:We.dict,resultObj:this.data,docBaseUrl:We.pdfManager.docBaseUrl})}}class He extends Re{constructor(We){super(We),this.data.annotationType=ae.AnnotationType.POPUP;let rt=We.dict.get("Parent");if(!rt){(0,ae.warn)("Popup annotation has a missing or invalid parent annotation.");return}const et=rt.get("Subtype");this.data.parentType=et instanceof pe.Name?et.name:null;const ct=We.dict.getRaw("Parent");this.data.parentId=ct instanceof pe.Ref?ct.toString():null;const at=rt.getArray("Rect");Array.isArray(at)&&at.length===4?this.data.parentRect=ae.Util.normalizeRect(at):this.data.parentRect=[0,0,0,0];const Je=rt.get("RT");if((0,pe.isName)(Je,ae.AnnotationReplyType.GROUP)&&(rt=rt.get("IRT")),rt.has("M")?(this.setModificationDate(rt.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,rt.has("C")?(this.setColor(rt.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const lt=rt.get("F");this._isViewable(lt)&&this.setFlags(lt)}this.setTitle(rt.get("T")),this.data.titleObj=this._title,this.setContents(rt.get("Contents")),this.data.contentsObj=this._contents,rt.has("RC")&&(this.data.richText=Fe.XFAFactory.getRichTextAsHtml(rt.get("RC")))}}oe.PopupAnnotation=He;class Ie extends ke{constructor(We){super(We),this.data.annotationType=ae.AnnotationType.FREETEXT}get hasTextContent(){return!!this.appearance}static createNewDict(We,rt,{apRef:et,ap:ct}){const{color:at,fontSize:Je,rect:lt,rotation:ut,user:ft,value:pt}=We,mt=new pe.Dict(rt);mt.set("Type",pe.Name.get("Annot")),mt.set("Subtype",pe.Name.get("FreeText")),mt.set("CreationDate",`D:${(0,ae.getModificationDate)()}`),mt.set("Rect",lt);const xt=`/Helv ${Je} Tf ${(0,de.getPdfColor)(at,!0)}`;mt.set("DA",xt),mt.set("Contents",pt),mt.set("F",4),mt.set("Border",[0,0,0]),mt.set("Rotate",ut),ft&&mt.set("T",(0,ae.stringToUTF8String)(ft));const vt=new pe.Dict(rt);return mt.set("AP",vt),et?vt.set("N",et):vt.set("N",ct),mt}static async createNewAppearanceStream(We,rt,et){const{baseFontRef:ct,evaluator:at,task:Je}=et,{color:lt,fontSize:ut,rect:ft,rotation:pt,value:mt}=We,xt=new pe.Dict(rt),vt=new pe.Dict(rt);if(ct)vt.set("Helv",ct);else{const On=new pe.Dict(rt);On.set("BaseFont",pe.Name.get("Helvetica")),On.set("Type",pe.Name.get("Font")),On.set("Subtype",pe.Name.get("Type1")),On.set("Encoding",pe.Name.get("WinAnsiEncoding")),vt.set("Helv",On)}xt.set("Font",vt);const wt=await $e._getFontData(at,Je,{fontName:"Helvetica",fontSize:ut},xt),[_t,Tt,Lt,jt]=ft;let Bt=Lt-_t,St=jt-Tt;pt%180!==0&&([Bt,St]=[St,Bt]);const Ft=mt.split(`
`),Ct=ut/1e3;let yt=-1/0;const bt=[];for(let On of Ft){On=wt.encodeString(On).join(""),bt.push(On);let tn=0;const Dn=wt.charsToGlyphs(On);for(const xn of Dn)tn+=xn.width*Ct;yt=Math.max(yt,tn)}let Pt=1;yt>Bt&&(Pt=Bt/yt);let Ut=1;const Yt=ae.LINE_FACTOR*ut,kt=ae.LINE_DESCENT_FACTOR*ut,Ot=Yt*Ft.length;Ot>St&&(Ut=St/Ot);const Et=Math.min(Pt,Ut),nn=ut*Et,en=["q",`0 0 ${(0,he.numberToString)(Bt)} ${(0,he.numberToString)(St)} re W n`,"BT",`1 0 0 1 0 ${(0,he.numberToString)(St+kt)} Tm 0 Tc ${(0,de.getPdfColor)(lt,!0)}`,`/Helv ${(0,he.numberToString)(nn)} Tf`],an=(0,he.numberToString)(Yt);for(const On of bt)en.push(`0 -${an} Td (${(0,ae.escapeString)(On)}) Tj`);en.push("ET","Q");const Sn=en.join(`
`),sn=new pe.Dict(rt);if(sn.set("FormType",1),sn.set("Subtype",pe.Name.get("Form")),sn.set("Type",pe.Name.get("XObject")),sn.set("BBox",[0,0,Bt,St]),sn.set("Length",Sn.length),sn.set("Resources",xt),pt){const On=$e._getRotationMatrix(pt,Bt,St);sn.set("Matrix",On)}const yn=new we.StringStream(Sn);return yn.dict=sn,yn}}class Le extends ke{constructor(We){super(We);const{dict:rt}=We;this.data.annotationType=ae.AnnotationType.LINE;const et=rt.getArray("L");if(this.data.lineCoordinates=ae.Util.normalizeRect(et),this.setLineEndings(rt.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const ct=this.color?Array.from(this.color).map(xt=>xt/255):[0,0,0],at=rt.get("CA");let Je=null,lt=rt.getArray("IC");lt&&(lt=Ee(lt,null),Je=lt?Array.from(lt).map(xt=>xt/255):null);const ut=Je?at:null,ft=this.borderStyle.width||1,pt=2*ft,mt=[this.data.lineCoordinates[0]-pt,this.data.lineCoordinates[1]-pt,this.data.lineCoordinates[2]+pt,this.data.lineCoordinates[3]+pt];ae.Util.intersect(this.rectangle,mt)||(this.rectangle=mt),this._setDefaultAppearance({xref:We.xref,extra:`${ft} w`,strokeColor:ct,fillColor:Je,strokeAlpha:at,fillAlpha:ut,pointsCallback:(xt,vt)=>(xt.push(`${et[0]} ${et[1]} m`,`${et[2]} ${et[3]} l`,"S"),[vt[0].x-ft,vt[1].x+ft,vt[3].y-ft,vt[1].y+ft])})}}}class Oe extends ke{constructor(We){if(super(We),this.data.annotationType=ae.AnnotationType.SQUARE,!this.appearance){const rt=this.color?Array.from(this.color).map(lt=>lt/255):[0,0,0],et=We.dict.get("CA");let ct=null,at=We.dict.getArray("IC");at&&(at=Ee(at,null),ct=at?Array.from(at).map(lt=>lt/255):null);const Je=ct?et:null;if(this.borderStyle.width===0&&!ct)return;this._setDefaultAppearance({xref:We.xref,extra:`${this.borderStyle.width} w`,strokeColor:rt,fillColor:ct,strokeAlpha:et,fillAlpha:Je,pointsCallback:(lt,ut)=>{const ft=ut[2].x+this.borderStyle.width/2,pt=ut[2].y+this.borderStyle.width/2,mt=ut[3].x-ut[2].x-this.borderStyle.width,xt=ut[1].y-ut[3].y-this.borderStyle.width;return lt.push(`${ft} ${pt} ${mt} ${xt} re`),ct?lt.push("B"):lt.push("S"),[ut[0].x,ut[1].x,ut[3].y,ut[1].y]}})}}}class Ne extends ke{constructor(We){if(super(We),this.data.annotationType=ae.AnnotationType.CIRCLE,!this.appearance){const rt=this.color?Array.from(this.color).map(ut=>ut/255):[0,0,0],et=We.dict.get("CA");let ct=null,at=We.dict.getArray("IC");at&&(at=Ee(at,null),ct=at?Array.from(at).map(ut=>ut/255):null);const Je=ct?et:null;if(this.borderStyle.width===0&&!ct)return;const lt=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:We.xref,extra:`${this.borderStyle.width} w`,strokeColor:rt,fillColor:ct,strokeAlpha:et,fillAlpha:Je,pointsCallback:(ut,ft)=>{const pt=ft[0].x+this.borderStyle.width/2,mt=ft[0].y-this.borderStyle.width/2,xt=ft[3].x-this.borderStyle.width/2,vt=ft[3].y+this.borderStyle.width/2,wt=pt+(xt-pt)/2,_t=mt+(vt-mt)/2,Tt=(xt-pt)/2*lt,Lt=(vt-mt)/2*lt;return ut.push(`${wt} ${vt} m`,`${wt+Tt} ${vt} ${xt} ${_t+Lt} ${xt} ${_t} c`,`${xt} ${_t-Lt} ${wt+Tt} ${mt} ${wt} ${mt} c`,`${wt-Tt} ${mt} ${pt} ${_t-Lt} ${pt} ${_t} c`,`${pt} ${_t+Lt} ${wt-Tt} ${vt} ${wt} ${vt} c`,"h"),ct?ut.push("B"):ut.push("S"),[ft[0].x,ft[1].x,ft[3].y,ft[1].y]}})}}}class qe extends ke{constructor(We){super(We);const{dict:rt}=We;this.data.annotationType=ae.AnnotationType.POLYLINE,this.data.vertices=[],this instanceof it||(this.setLineEndings(rt.getArray("LE")),this.data.lineEndings=this.lineEndings);const et=rt.getArray("Vertices");if(Array.isArray(et)){for(let ct=0,at=et.length;ct<at;ct+=2)this.data.vertices.push({x:et[ct],y:et[ct+1]});if(!this.appearance){const ct=this.color?Array.from(this.color).map(ft=>ft/255):[0,0,0],at=rt.get("CA"),Je=this.borderStyle.width||1,lt=2*Je,ut=[1/0,1/0,-1/0,-1/0];for(const ft of this.data.vertices)ut[0]=Math.min(ut[0],ft.x-lt),ut[1]=Math.min(ut[1],ft.y-lt),ut[2]=Math.max(ut[2],ft.x+lt),ut[3]=Math.max(ut[3],ft.y+lt);ae.Util.intersect(this.rectangle,ut)||(this.rectangle=ut),this._setDefaultAppearance({xref:We.xref,extra:`${Je} w`,strokeColor:ct,strokeAlpha:at,pointsCallback:(ft,pt)=>{const mt=this.data.vertices;for(let xt=0,vt=mt.length;xt<vt;xt++)ft.push(`${mt[xt].x} ${mt[xt].y} ${xt===0?"m":"l"}`);return ft.push("S"),[pt[0].x,pt[1].x,pt[3].y,pt[1].y]}})}}}}class it extends qe{constructor(We){super(We),this.data.annotationType=ae.AnnotationType.POLYGON}}class tt extends ke{constructor(We){super(We),this.data.annotationType=ae.AnnotationType.CARET}}class Xe extends ke{constructor(We){super(We),this.data.annotationType=ae.AnnotationType.INK,this.data.inkLists=[];const rt=We.dict.getArray("InkList");if(!Array.isArray(rt))return;const et=We.xref;for(let ct=0,at=rt.length;ct<at;++ct){this.data.inkLists.push([]);for(let Je=0,lt=rt[ct].length;Je<lt;Je+=2)this.data.inkLists[ct].push({x:et.fetchIfRef(rt[ct][Je]),y:et.fetchIfRef(rt[ct][Je+1])})}if(!this.appearance){const ct=this.color?Array.from(this.color).map(ft=>ft/255):[0,0,0],at=We.dict.get("CA"),Je=this.borderStyle.width||1,lt=2*Je,ut=[1/0,1/0,-1/0,-1/0];for(const ft of this.data.inkLists)for(const pt of ft)ut[0]=Math.min(ut[0],pt.x-lt),ut[1]=Math.min(ut[1],pt.y-lt),ut[2]=Math.max(ut[2],pt.x+lt),ut[3]=Math.max(ut[3],pt.y+lt);ae.Util.intersect(this.rectangle,ut)||(this.rectangle=ut),this._setDefaultAppearance({xref:We.xref,extra:`${Je} w`,strokeColor:ct,strokeAlpha:at,pointsCallback:(ft,pt)=>{for(const mt of this.data.inkLists){for(let xt=0,vt=mt.length;xt<vt;xt++)ft.push(`${mt[xt].x} ${mt[xt].y} ${xt===0?"m":"l"}`);ft.push("S")}return[pt[0].x,pt[1].x,pt[3].y,pt[1].y]}})}}static createNewDict(We,rt,{apRef:et,ap:ct}){const{paths:at,rect:Je,rotation:lt}=We,ut=new pe.Dict(rt);ut.set("Type",pe.Name.get("Annot")),ut.set("Subtype",pe.Name.get("Ink")),ut.set("CreationDate",`D:${(0,ae.getModificationDate)()}`),ut.set("Rect",Je),ut.set("InkList",at.map(pt=>pt.points)),ut.set("F",4),ut.set("Border",[0,0,0]),ut.set("Rotate",lt);const ft=new pe.Dict(rt);return ut.set("AP",ft),et?ft.set("N",et):ft.set("N",ct),ut}static async createNewAppearanceStream(We,rt,et){const{color:ct,rect:at,rotation:Je,paths:lt,thickness:ut,opacity:ft}=We,[pt,mt,xt,vt]=at;let wt=xt-pt,_t=vt-mt;Je%180!==0&&([wt,_t]=[_t,wt]);const Tt=[`${ut} w 1 J 1 j`,`${(0,de.getPdfColor)(ct,!1)}`];ft!==1&&Tt.push("/R0 gs");const Lt=[];for(const{bezier:Ft}of lt){Lt.length=0,Lt.push(`${(0,he.numberToString)(Ft[0])} ${(0,he.numberToString)(Ft[1])} m`);for(let Ct=2,yt=Ft.length;Ct<yt;Ct+=6){const bt=Ft.slice(Ct,Ct+6).map(he.numberToString).join(" ");Lt.push(`${bt} c`)}Lt.push("S"),Tt.push(Lt.join(`
`))}const jt=Tt.join(`
`),Bt=new pe.Dict(rt);if(Bt.set("FormType",1),Bt.set("Subtype",pe.Name.get("Form")),Bt.set("Type",pe.Name.get("XObject")),Bt.set("BBox",[0,0,wt,_t]),Bt.set("Length",jt.length),Je){const Ft=$e._getRotationMatrix(Je,wt,_t);Bt.set("Matrix",Ft)}if(ft!==1){const Ft=new pe.Dict(rt),Ct=new pe.Dict(rt),yt=new pe.Dict(rt);yt.set("CA",ft),yt.set("Type",pe.Name.get("ExtGState")),Ct.set("R0",yt),Ft.set("ExtGState",Ct),Bt.set("Resources",Ft)}const St=new we.StringStream(jt);return St.dict=Bt,St}}class Ze extends ke{constructor(We){if(super(We),this.data.annotationType=ae.AnnotationType.HIGHLIGHT,this.data.quadPoints=Ce(We.dict,null)){const et=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!(et&&et.has("ExtGState"))){this.appearance&&(0,ae.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const ct=this.color?Array.from(this.color).map(Je=>Je/255):[1,1,0],at=We.dict.get("CA");this._setDefaultAppearance({xref:We.xref,fillColor:ct,blendMode:"Multiply",fillAlpha:at,pointsCallback:(Je,lt)=>(Je.push(`${lt[0].x} ${lt[0].y} m`,`${lt[1].x} ${lt[1].y} l`,`${lt[3].x} ${lt[3].y} l`,`${lt[2].x} ${lt[2].y} l`,"f"),[lt[0].x,lt[1].x,lt[3].y,lt[1].y])})}}else this.data.hasPopup=!1}}class ot extends ke{constructor(We){if(super(We),this.data.annotationType=ae.AnnotationType.UNDERLINE,this.data.quadPoints=Ce(We.dict,null)){if(!this.appearance){const et=this.color?Array.from(this.color).map(at=>at/255):[0,0,0],ct=We.dict.get("CA");this._setDefaultAppearance({xref:We.xref,extra:"[] 0 d 1 w",strokeColor:et,strokeAlpha:ct,pointsCallback:(at,Je)=>(at.push(`${Je[2].x} ${Je[2].y} m`,`${Je[3].x} ${Je[3].y} l`,"S"),[Je[0].x,Je[1].x,Je[3].y,Je[1].y])})}}else this.data.hasPopup=!1}}class Ge extends ke{constructor(We){if(super(We),this.data.annotationType=ae.AnnotationType.SQUIGGLY,this.data.quadPoints=Ce(We.dict,null)){if(!this.appearance){const et=this.color?Array.from(this.color).map(at=>at/255):[0,0,0],ct=We.dict.get("CA");this._setDefaultAppearance({xref:We.xref,extra:"[] 0 d 1 w",strokeColor:et,strokeAlpha:ct,pointsCallback:(at,Je)=>{const lt=(Je[0].y-Je[2].y)/6;let ut=lt,ft=Je[2].x;const pt=Je[2].y,mt=Je[3].x;at.push(`${ft} ${pt+ut} m`);do ft+=2,ut=ut===0?lt:0,at.push(`${ft} ${pt+ut} l`);while(ft<mt);return at.push("S"),[Je[2].x,mt,pt-2*lt,pt+2*lt]}})}}else this.data.hasPopup=!1}}class Ke extends ke{constructor(We){if(super(We),this.data.annotationType=ae.AnnotationType.STRIKEOUT,this.data.quadPoints=Ce(We.dict,null)){if(!this.appearance){const et=this.color?Array.from(this.color).map(at=>at/255):[0,0,0],ct=We.dict.get("CA");this._setDefaultAppearance({xref:We.xref,extra:"[] 0 d 1 w",strokeColor:et,strokeAlpha:ct,pointsCallback:(at,Je)=>(at.push(`${(Je[0].x+Je[2].x)/2} ${(Je[0].y+Je[2].y)/2} m`,`${(Je[1].x+Je[3].x)/2} ${(Je[1].y+Je[3].y)/2} l`,"S"),[Je[0].x,Je[1].x,Je[3].y,Je[1].y])})}}else this.data.hasPopup=!1}}class je extends ke{constructor(We){super(We),this.data.annotationType=ae.AnnotationType.STAMP}}class nt extends ke{constructor(We){super(We);const rt=new be.FileSpec(We.dict.get("FS"),We.xref);this.data.annotationType=ae.AnnotationType.FILEATTACHMENT,this.data.file=rt.serializable}}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.createDefaultAppearance=be,oe.getPdfColor=fe,oe.parseDefaultAppearance=Se;var ae=ce(6),he=ce(2),de=ce(14),pe=ce(15),re=ce(5),Ae=ce(10);class ge extends pe.EvaluatorPreprocessor{constructor(ue){super(new Ae.StringStream(ue))}parse(){const ue={fn:0,args:[]},we={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;ue.args.length=0,!!this.read(ue);){if(this.savedStatesDepth!==0)continue;const{fn:Fe,args:_e}=ue;switch(Fe|0){case he.OPS.setFont:const[Ee,Ce]=_e;Ee instanceof re.Name&&(we.fontName=Ee.name),typeof Ce=="number"&&Ce>0&&(we.fontSize=Ce);break;case he.OPS.setFillRGBColor:de.ColorSpace.singletons.rgb.getRgbItem(_e,0,we.fontColor,0);break;case he.OPS.setFillGray:de.ColorSpace.singletons.gray.getRgbItem(_e,0,we.fontColor,0);break;case he.OPS.setFillColorSpace:de.ColorSpace.singletons.cmyk.getRgbItem(_e,0,we.fontColor,0);break}}}catch(Fe){(0,he.warn)(`parseDefaultAppearance - ignoring errors: "${Fe}".`)}return we}}function Se(xe){return new ge(xe).parse()}function fe(xe,ue){if(xe[0]===xe[1]&&xe[1]===xe[2]){const we=xe[0]/255;return`${(0,ae.numberToString)(we)} ${ue?"g":"G"}`}return Array.from(xe).map(we=>(0,ae.numberToString)(we/255)).join(" ")+` ${ue?"rg":"RG"}`}function be({fontSize:xe,fontName:ue,fontColor:we}){return`/${(0,ae.escapePDFName)(ue)} ${xe} Tf ${fe(we,!0)}`}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.ColorSpace=void 0;var ae=ce(2),he=ce(5),de=ce(7),pe=ce(6);function re(Ee,Ce,ye,Re,Ye,ke,$e){$e=$e!==1?0:$e;const Pe=ye/Ye,Ue=Re/ke;let Te=0,Me;const Ve=new Uint16Array(Ye),He=ye*3;for(let Ie=0;Ie<Ye;Ie++)Ve[Ie]=Math.floor(Ie*Pe)*3;for(let Ie=0;Ie<ke;Ie++){const Le=Math.floor(Ie*Ue)*He;for(let Oe=0;Oe<Ye;Oe++)Me=Le+Ve[Oe],Ce[Te++]=Ee[Me++],Ce[Te++]=Ee[Me++],Ce[Te++]=Ee[Me++],Te+=$e}}class Ae{constructor(Ce,ye){this.constructor===Ae&&(0,ae.unreachable)("Cannot initialize ColorSpace."),this.name=Ce,this.numComps=ye}getRgb(Ce,ye){const Re=new Uint8ClampedArray(3);return this.getRgbItem(Ce,ye,Re,0),Re}getRgbItem(Ce,ye,Re,Ye){(0,ae.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(Ce,ye,Re,Ye,ke,$e,Be){(0,ae.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(Ce,ye){(0,ae.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(Ce){return!1}isDefaultDecode(Ce,ye){return Ae.isDefaultDecode(Ce,this.numComps)}fillRgb(Ce,ye,Re,Ye,ke,$e,Be,Pe,Ue){const Te=ye*Re;let Me=null;const Ve=1<<Be,He=Re!==ke||ye!==Ye;if(this.isPassthrough(Be))Me=Pe;else if(this.numComps===1&&Te>Ve&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const Ie=Be<=8?new Uint8Array(Ve):new Uint16Array(Ve);for(let Oe=0;Oe<Ve;Oe++)Ie[Oe]=Oe;const Le=new Uint8ClampedArray(Ve*3);if(this.getRgbBuffer(Ie,0,Ve,Le,0,Be,0),He){Me=new Uint8Array(Te*3);let Oe=0;for(let Ne=0;Ne<Te;++Ne){const qe=Pe[Ne]*3;Me[Oe++]=Le[qe],Me[Oe++]=Le[qe+1],Me[Oe++]=Le[qe+2]}}else{let Oe=0;for(let Ne=0;Ne<Te;++Ne){const qe=Pe[Ne]*3;Ce[Oe++]=Le[qe],Ce[Oe++]=Le[qe+1],Ce[Oe++]=Le[qe+2],Oe+=Ue}}}else He?(Me=new Uint8ClampedArray(Te*3),this.getRgbBuffer(Pe,0,Te,Me,0,Be,0)):this.getRgbBuffer(Pe,0,Ye*$e,Ce,0,Be,Ue);if(Me)if(He)re(Me,Ce,ye,Re,Ye,ke,Ue);else{let Ie=0,Le=0;for(let Oe=0,Ne=Ye*$e;Oe<Ne;Oe++)Ce[Ie++]=Me[Le++],Ce[Ie++]=Me[Le++],Ce[Ie++]=Me[Le++],Ie+=Ue}}get usesZeroToOneRange(){return(0,ae.shadow)(this,"usesZeroToOneRange",!0)}static _cache(Ce,ye,Re,Ye){if(!Re)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!Ye)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let ke,$e;Ce instanceof he.Ref&&($e=Ce,Ce=ye.fetch(Ce)),Ce instanceof he.Name&&(ke=Ce.name),(ke||$e)&&Re.set(ke,$e,Ye)}static getCached(Ce,ye,Re){if(!Re)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(Ce instanceof he.Ref){const Ye=Re.getByRef(Ce);if(Ye)return Ye;try{Ce=ye.fetch(Ce)}catch(ke){if(ke instanceof pe.MissingDataException)throw ke}}if(Ce instanceof he.Name){const Ye=Re.getByName(Ce.name);if(Ye)return Ye}return null}static async parseAsync({cs:Ce,xref:ye,resources:Re=null,pdfFunctionFactory:Ye,localColorSpaceCache:ke}){const $e=this._parse(Ce,ye,Re,Ye);return this._cache(Ce,ye,ke,$e),$e}static parse({cs:Ce,xref:ye,resources:Re=null,pdfFunctionFactory:Ye,localColorSpaceCache:ke}){const $e=this.getCached(Ce,ye,ke);if($e)return $e;const Be=this._parse(Ce,ye,Re,Ye);return this._cache(Ce,ye,ke,Be),Be}static _parse(Ce,ye,Re=null,Ye){if(Ce=ye.fetchIfRef(Ce),Ce instanceof he.Name)switch(Ce.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new Se(null);default:if(Re instanceof he.Dict){const ke=Re.get("ColorSpace");if(ke instanceof he.Dict){const $e=ke.get(Ce.name);if($e){if($e instanceof he.Name)return this._parse($e,ye,Re,Ye);Ce=$e;break}}}throw new ae.FormatError(`Unrecognized ColorSpace: ${Ce.name}`)}if(Array.isArray(Ce)){const ke=ye.fetchIfRef(Ce[0]).name;let $e,Be,Pe,Ue,Te,Me;switch(ke){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return $e=ye.fetchIfRef(Ce[1]),Ue=$e.getArray("WhitePoint"),Te=$e.getArray("BlackPoint"),Me=$e.get("Gamma"),new we(Ue,Te,Me);case"CalRGB":$e=ye.fetchIfRef(Ce[1]),Ue=$e.getArray("WhitePoint"),Te=$e.getArray("BlackPoint"),Me=$e.getArray("Gamma");const Ve=$e.getArray("Matrix");return new Fe(Ue,Te,Me,Ve);case"ICCBased":const Ie=ye.fetchIfRef(Ce[1]).dict;Be=Ie.get("N");const Le=Ie.get("Alternate");if(Le){const Xe=this._parse(Le,ye,Re,Ye);if(Xe.numComps===Be)return Xe;(0,ae.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(Be===1)return this.singletons.gray;if(Be===3)return this.singletons.rgb;if(Be===4)return this.singletons.cmyk;break;case"Pattern":return Pe=Ce[1]||null,Pe&&(Pe=this._parse(Pe,ye,Re,Ye)),new Se(Pe);case"I":case"Indexed":Pe=this._parse(Ce[1],ye,Re,Ye);const Oe=ye.fetchIfRef(Ce[2])+1,Ne=ye.fetchIfRef(Ce[3]);return new fe(Pe,Oe,Ne);case"Separation":case"DeviceN":const qe=ye.fetchIfRef(Ce[1]);Be=Array.isArray(qe)?qe.length:1,Pe=this._parse(Ce[2],ye,Re,Ye);const it=Ye.create(Ce[3]);return new ge(Be,Pe,it);case"Lab":$e=ye.fetchIfRef(Ce[1]),Ue=$e.getArray("WhitePoint"),Te=$e.getArray("BlackPoint");const tt=$e.getArray("Range");return new _e(Ue,Te,tt);default:throw new ae.FormatError(`Unimplemented ColorSpace object: ${ke}`)}}throw new ae.FormatError(`Unrecognized ColorSpace object: ${Ce}`)}static isDefaultDecode(Ce,ye){if(!Array.isArray(Ce))return!0;if(ye*2!==Ce.length)return(0,ae.warn)("The decode map is not the correct length"),!0;for(let Re=0,Ye=Ce.length;Re<Ye;Re+=2)if(Ce[Re]!==0||Ce[Re+1]!==1)return!1;return!0}static get singletons(){return(0,ae.shadow)(this,"singletons",{get gray(){return(0,ae.shadow)(this,"gray",new be)},get rgb(){return(0,ae.shadow)(this,"rgb",new xe)},get cmyk(){return(0,ae.shadow)(this,"cmyk",new ue)}})}}oe.ColorSpace=Ae;class ge extends Ae{constructor(Ce,ye,Re){super("Alternate",Ce),this.base=ye,this.tintFn=Re,this.tmpBuf=new Float32Array(ye.numComps)}getRgbItem(Ce,ye,Re,Ye){const ke=this.tmpBuf;this.tintFn(Ce,ye,ke,0),this.base.getRgbItem(ke,0,Re,Ye)}getRgbBuffer(Ce,ye,Re,Ye,ke,$e,Be){const Pe=this.tintFn,Ue=this.base,Te=1/((1<<$e)-1),Me=Ue.numComps,Ve=Ue.usesZeroToOneRange,He=(Ue.isPassthrough(8)||!Ve)&&Be===0;let Ie=He?ke:0;const Le=He?Ye:new Uint8ClampedArray(Me*Re),Oe=this.numComps,Ne=new Float32Array(Oe),qe=new Float32Array(Me);let it,tt;for(it=0;it<Re;it++){for(tt=0;tt<Oe;tt++)Ne[tt]=Ce[ye++]*Te;if(Pe(Ne,0,qe,0),Ve)for(tt=0;tt<Me;tt++)Le[Ie++]=qe[tt]*255;else Ue.getRgbItem(qe,0,Le,Ie),Ie+=Me}He||Ue.getRgbBuffer(Le,0,Re,Ye,ke,8,Be)}getOutputLength(Ce,ye){return this.base.getOutputLength(Ce*this.base.numComps/this.numComps,ye)}}class Se extends Ae{constructor(Ce){super("Pattern",null),this.base=Ce}isDefaultDecode(Ce,ye){(0,ae.unreachable)("Should not call PatternCS.isDefaultDecode")}}class fe extends Ae{constructor(Ce,ye,Re){super("Indexed",1),this.base=Ce,this.highVal=ye;const Ye=Ce.numComps*ye;if(this.lookup=new Uint8Array(Ye),Re instanceof de.BaseStream){const ke=Re.getBytes(Ye);this.lookup.set(ke)}else if(typeof Re=="string")for(let ke=0;ke<Ye;++ke)this.lookup[ke]=Re.charCodeAt(ke)&255;else throw new ae.FormatError(`IndexedCS - unrecognized lookup table: ${Re}`)}getRgbItem(Ce,ye,Re,Ye){const ke=this.base.numComps,$e=Ce[ye]*ke;this.base.getRgbBuffer(this.lookup,$e,1,Re,Ye,8,0)}getRgbBuffer(Ce,ye,Re,Ye,ke,$e,Be){const Pe=this.base,Ue=Pe.numComps,Te=Pe.getOutputLength(Ue,Be),Me=this.lookup;for(let Ve=0;Ve<Re;++Ve){const He=Ce[ye++]*Ue;Pe.getRgbBuffer(Me,He,1,Ye,ke,8,Be),ke+=Te}}getOutputLength(Ce,ye){return this.base.getOutputLength(Ce*this.base.numComps,ye)}isDefaultDecode(Ce,ye){return Array.isArray(Ce)?Ce.length!==2?((0,ae.warn)("Decode map length is not correct"),!0):!Number.isInteger(ye)||ye<1?((0,ae.warn)("Bits per component is not correct"),!0):Ce[0]===0&&Ce[1]===(1<<ye)-1:!0}}class be extends Ae{constructor(){super("DeviceGray",1)}getRgbItem(Ce,ye,Re,Ye){const ke=Ce[ye]*255;Re[Ye]=Re[Ye+1]=Re[Ye+2]=ke}getRgbBuffer(Ce,ye,Re,Ye,ke,$e,Be){const Pe=255/((1<<$e)-1);let Ue=ye,Te=ke;for(let Me=0;Me<Re;++Me){const Ve=Pe*Ce[Ue++];Ye[Te++]=Ve,Ye[Te++]=Ve,Ye[Te++]=Ve,Te+=Be}}getOutputLength(Ce,ye){return Ce*(3+ye)}}class xe extends Ae{constructor(){super("DeviceRGB",3)}getRgbItem(Ce,ye,Re,Ye){Re[Ye]=Ce[ye]*255,Re[Ye+1]=Ce[ye+1]*255,Re[Ye+2]=Ce[ye+2]*255}getRgbBuffer(Ce,ye,Re,Ye,ke,$e,Be){if($e===8&&Be===0){Ye.set(Ce.subarray(ye,ye+Re*3),ke);return}const Pe=255/((1<<$e)-1);let Ue=ye,Te=ke;for(let Me=0;Me<Re;++Me)Ye[Te++]=Pe*Ce[Ue++],Ye[Te++]=Pe*Ce[Ue++],Ye[Te++]=Pe*Ce[Ue++],Te+=Be}getOutputLength(Ce,ye){return Ce*(3+ye)/3|0}isPassthrough(Ce){return Ce===8}}const ue=function(){function Ce(Re,Ye,ke,$e,Be){const Pe=Re[Ye]*ke,Ue=Re[Ye+1]*ke,Te=Re[Ye+2]*ke,Me=Re[Ye+3]*ke;$e[Be]=255+Pe*(-4.387332384609988*Pe+54.48615194189176*Ue+18.82290502165302*Te+212.25662451639585*Me+-285.2331026137004)+Ue*(1.7149763477362134*Ue-5.6096736904047315*Te+-17.873870861415444*Me-5.497006427196366)+Te*(-2.5217340131683033*Te-21.248923337353073*Me+17.5119270841813)+Me*(-21.86122147463605*Me-189.48180835922747),$e[Be+1]=255+Pe*(8.841041422036149*Pe+60.118027045597366*Ue+6.871425592049007*Te+31.159100130055922*Me+-79.2970844816548)+Ue*(-15.310361306967817*Ue+17.575251261109482*Te+131.35250912493976*Me-190.9453302588951)+Te*(4.444339102852739*Te+9.8632861493405*Me-24.86741582555878)+Me*(-20.737325471181034*Me-187.80453709719578),$e[Be+2]=255+Pe*(.8842522430003296*Pe+8.078677503112928*Ue+30.89978309703729*Te-.23883238689178934*Me+-14.183576799673286)+Ue*(10.49593273432072*Ue+63.02378494754052*Te+50.606957656360734*Me-112.23884253719248)+Te*(.03296041114873217*Te+115.60384449646641*Me+-193.58209356861505)+Me*(-22.33816807309886*Me-180.12613974708367)}class ye extends Ae{constructor(){super("DeviceCMYK",4)}getRgbItem(Ye,ke,$e,Be){Ce(Ye,ke,1,$e,Be)}getRgbBuffer(Ye,ke,$e,Be,Pe,Ue,Te){const Me=1/((1<<Ue)-1);for(let Ve=0;Ve<$e;Ve++)Ce(Ye,ke,Me,Be,Pe),ke+=4,Pe+=3+Te}getOutputLength(Ye,ke){return Ye/4*(3+ke)|0}}return ye}(),we=function(){function Ce(Re,Ye,ke,$e,Be,Pe){const Te=(Ye[ke]*Pe)**Re.G,Me=Re.YW*Te,Ve=Math.max(295.8*Me**.3333333333333333-40.8,0);$e[Be]=Ve,$e[Be+1]=Ve,$e[Be+2]=Ve}class ye extends Ae{constructor(Ye,ke,$e){if(super("CalGray",1),!Ye)throw new ae.FormatError("WhitePoint missing - required for color space CalGray");if(ke=ke||[0,0,0],$e=$e||1,this.XW=Ye[0],this.YW=Ye[1],this.ZW=Ye[2],this.XB=ke[0],this.YB=ke[1],this.ZB=ke[2],this.G=$e,this.XW<0||this.ZW<0||this.YW!==1)throw new ae.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,ae.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&(0,ae.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,ae.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(Ye,ke,$e,Be){Ce(this,Ye,ke,$e,Be,1)}getRgbBuffer(Ye,ke,$e,Be,Pe,Ue,Te){const Me=1/((1<<Ue)-1);for(let Ve=0;Ve<$e;++Ve)Ce(this,Ye,ke,Be,Pe,Me),ke+=1,Pe+=3+Te}getOutputLength(Ye,ke){return Ye*(3+ke)}}return ye}(),Fe=function(){const Ce=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),ye=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),Re=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),Ye=new Float32Array([1,1,1]),ke=new Float32Array(3),$e=new Float32Array(3),Be=new Float32Array(3),Pe=(24/116)**3/8;function Ue(tt,Xe,Ze){Ze[0]=tt[0]*Xe[0]+tt[1]*Xe[1]+tt[2]*Xe[2],Ze[1]=tt[3]*Xe[0]+tt[4]*Xe[1]+tt[5]*Xe[2],Ze[2]=tt[6]*Xe[0]+tt[7]*Xe[1]+tt[8]*Xe[2]}function Te(tt,Xe,Ze){Ze[0]=Xe[0]*1/tt[0],Ze[1]=Xe[1]*1/tt[1],Ze[2]=Xe[2]*1/tt[2]}function Me(tt,Xe,Ze){Ze[0]=Xe[0]*.95047/tt[0],Ze[1]=Xe[1]*1/tt[1],Ze[2]=Xe[2]*1.08883/tt[2]}function Ve(tt){return tt<=.0031308?He(0,1,12.92*tt):tt>=.99554525?1:He(0,1,(1+.055)*tt**(1/2.4)-.055)}function He(tt,Xe,Ze){return Math.max(tt,Math.min(Xe,Ze))}function Ie(tt){return tt<0?-Ie(-tt):tt>8?((tt+16)/116)**3:tt*Pe}function Le(tt,Xe,Ze){if(tt[0]===0&&tt[1]===0&&tt[2]===0){Ze[0]=Xe[0],Ze[1]=Xe[1],Ze[2]=Xe[2];return}const ot=Ie(0),Ge=ot,Ke=Ie(tt[0]),je=ot,nt=Ie(tt[1]),Qe=ot,We=Ie(tt[2]),rt=(1-Ge)/(1-Ke),et=1-rt,ct=(1-je)/(1-nt),at=1-ct,Je=(1-Qe)/(1-We),lt=1-Je;Ze[0]=Xe[0]*rt+et,Ze[1]=Xe[1]*ct+at,Ze[2]=Xe[2]*Je+lt}function Oe(tt,Xe,Ze){if(tt[0]===1&&tt[2]===1){Ze[0]=Xe[0],Ze[1]=Xe[1],Ze[2]=Xe[2];return}const ot=Ze;Ue(Ce,Xe,ot);const Ge=ke;Te(tt,ot,Ge),Ue(ye,Ge,Ze)}function Ne(tt,Xe,Ze){const ot=Ze;Ue(Ce,Xe,ot);const Ge=ke;Me(tt,ot,Ge),Ue(ye,Ge,Ze)}function qe(tt,Xe,Ze,ot,Ge,Ke){const je=He(0,1,Xe[Ze]*Ke),nt=He(0,1,Xe[Ze+1]*Ke),Qe=He(0,1,Xe[Ze+2]*Ke),We=je===1?1:je**tt.GR,rt=nt===1?1:nt**tt.GG,et=Qe===1?1:Qe**tt.GB,ct=tt.MXA*We+tt.MXB*rt+tt.MXC*et,at=tt.MYA*We+tt.MYB*rt+tt.MYC*et,Je=tt.MZA*We+tt.MZB*rt+tt.MZC*et,lt=$e;lt[0]=ct,lt[1]=at,lt[2]=Je;const ut=Be;Oe(tt.whitePoint,lt,ut);const ft=$e;Le(tt.blackPoint,ut,ft);const pt=Be;Ne(Ye,ft,pt);const mt=$e;Ue(Re,pt,mt),ot[Ge]=Ve(mt[0])*255,ot[Ge+1]=Ve(mt[1])*255,ot[Ge+2]=Ve(mt[2])*255}class it extends Ae{constructor(Xe,Ze,ot,Ge){if(super("CalRGB",3),!Xe)throw new ae.FormatError("WhitePoint missing - required for color space CalRGB");Ze=Ze||new Float32Array(3),ot=ot||new Float32Array([1,1,1]),Ge=Ge||new Float32Array([1,0,0,0,1,0,0,0,1]);const Ke=Xe[0],je=Xe[1],nt=Xe[2];this.whitePoint=Xe;const Qe=Ze[0],We=Ze[1],rt=Ze[2];if(this.blackPoint=Ze,this.GR=ot[0],this.GG=ot[1],this.GB=ot[2],this.MXA=Ge[0],this.MYA=Ge[1],this.MZA=Ge[2],this.MXB=Ge[3],this.MYB=Ge[4],this.MZB=Ge[5],this.MXC=Ge[6],this.MYC=Ge[7],this.MZC=Ge[8],Ke<0||nt<0||je!==1)throw new ae.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(Qe<0||We<0||rt<0)&&((0,ae.info)(`Invalid BlackPoint for ${this.name} [${Qe}, ${We}, ${rt}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,ae.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(Xe,Ze,ot,Ge){qe(this,Xe,Ze,ot,Ge,1)}getRgbBuffer(Xe,Ze,ot,Ge,Ke,je,nt){const Qe=1/((1<<je)-1);for(let We=0;We<ot;++We)qe(this,Xe,Ze,Ge,Ke,Qe),Ze+=3,Ke+=3+nt}getOutputLength(Xe,Ze){return Xe*(3+Ze)/3|0}}return it}(),_e=function(){function Ce(ke){let $e;return ke>=6/29?$e=ke**3:$e=108/841*(ke-4/29),$e}function ye(ke,$e,Be,Pe){return Be+ke*(Pe-Be)/$e}function Re(ke,$e,Be,Pe,Ue,Te){let Me=$e[Be],Ve=$e[Be+1],He=$e[Be+2];Pe!==!1&&(Me=ye(Me,Pe,0,100),Ve=ye(Ve,Pe,ke.amin,ke.amax),He=ye(He,Pe,ke.bmin,ke.bmax)),Ve>ke.amax?Ve=ke.amax:Ve<ke.amin&&(Ve=ke.amin),He>ke.bmax?He=ke.bmax:He<ke.bmin&&(He=ke.bmin);const Ie=(Me+16)/116,Le=Ie+Ve/500,Oe=Ie-He/200,Ne=ke.XW*Ce(Le),qe=ke.YW*Ce(Ie),it=ke.ZW*Ce(Oe);let tt,Xe,Ze;ke.ZW<1?(tt=Ne*3.1339+qe*-1.617+it*-.4906,Xe=Ne*-.9785+qe*1.916+it*.0333,Ze=Ne*.072+qe*-.229+it*1.4057):(tt=Ne*3.2406+qe*-1.5372+it*-.4986,Xe=Ne*-.9689+qe*1.8758+it*.0415,Ze=Ne*.0557+qe*-.204+it*1.057),Ue[Te]=Math.sqrt(tt)*255,Ue[Te+1]=Math.sqrt(Xe)*255,Ue[Te+2]=Math.sqrt(Ze)*255}class Ye extends Ae{constructor($e,Be,Pe){if(super("Lab",3),!$e)throw new ae.FormatError("WhitePoint missing - required for color space Lab");if(Be=Be||[0,0,0],Pe=Pe||[-100,100,-100,100],this.XW=$e[0],this.YW=$e[1],this.ZW=$e[2],this.amin=Pe[0],this.amax=Pe[1],this.bmin=Pe[2],this.bmax=Pe[3],this.XB=Be[0],this.YB=Be[1],this.ZB=Be[2],this.XW<0||this.ZW<0||this.YW!==1)throw new ae.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,ae.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,ae.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem($e,Be,Pe,Ue){Re(this,$e,Be,!1,Pe,Ue)}getRgbBuffer($e,Be,Pe,Ue,Te,Me,Ve){const He=(1<<Me)-1;for(let Ie=0;Ie<Pe;Ie++)Re(this,$e,Be,He,Ue,Te),Be+=3,Te+=3+Ve}getOutputLength($e,Be){return $e*(3+Be)/3|0}isDefaultDecode($e,Be){return!0}get usesZeroToOneRange(){return(0,ae.shadow)(this,"usesZeroToOneRange",!1)}}return Ye}()},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.PartialEvaluator=oe.EvaluatorPreprocessor=void 0;var ae=ce(2),he=ce(16),de=ce(5),pe=ce(34),re=ce(38),Ae=ce(37),ge=ce(41),Se=ce(40),fe=ce(50),be=ce(51),xe=ce(42),ue=ce(57),we=ce(17),Fe=ce(59),_e=ce(10),Ee=ce(7),Ce=ce(60),ye=ce(14),Re=ce(19),Ye=ce(39),ke=ce(6),$e=ce(45),Be=ce(61),Pe=ce(62),Ue=ce(63);const Te=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),Me={TILING:1,SHADING:2},Ve=10,He=Promise.resolve();function Ie(ot,Ge=!1){if(Array.isArray(ot)){for(let Ke=0,je=ot.length;Ke<je;Ke++){const nt=Ie(ot[Ke],!0);if(nt)return nt}return(0,ae.warn)(`Unsupported blend mode Array: ${ot}`),"source-over"}if(!(ot instanceof de.Name))return Ge?null:"source-over";switch(ot.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return Ge?null:((0,ae.warn)(`Unsupported blend mode: ${ot.name}`),"source-over")}function Le(ot){ot.fn===ae.OPS.paintImageMaskXObject&&ot.args[0]&&ot.args[0].count>0&&ot.args[0].count++}class Oe{static get TIME_SLOT_DURATION_MS(){return(0,ae.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,ae.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return++this.checked<Oe.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+Oe.TIME_SLOT_DURATION_MS,this.checked=0}}class Ne{constructor({xref:Ge,handler:Ke,pageIndex:je,idFactory:nt,fontCache:Qe,builtInCMapCache:We,standardFontDataCache:rt,globalImageCache:et,options:ct=null}){this.xref=Ge,this.handler=Ke,this.pageIndex=je,this.idFactory=nt,this.fontCache=Qe,this.builtInCMapCache=We,this.standardFontDataCache=rt,this.globalImageCache=et,this.options=ct||Te,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const Ge=new ue.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,ae.shadow)(this,"_pdfFunctionFactory",Ge)}clone(Ge=null){const Ke=Object.create(this);return Ke.options=Object.assign(Object.create(null),this.options,Ge),Ke}hasBlendModes(Ge,Ke){if(!(Ge instanceof de.Dict)||Ge.objId&&Ke.has(Ge.objId))return!1;const je=new de.RefSet(Ke);Ge.objId&&je.put(Ge.objId);const nt=[Ge],Qe=this.xref;for(;nt.length;){const We=nt.shift(),rt=We.get("ExtGState");if(rt instanceof de.Dict)for(let ct of rt.getRawValues()){if(ct instanceof de.Ref){if(je.has(ct))continue;try{ct=Qe.fetch(ct)}catch(Je){je.put(ct),(0,ae.info)(`hasBlendModes - ignoring ExtGState: "${Je}".`);continue}}if(!(ct instanceof de.Dict))continue;ct.objId&&je.put(ct.objId);const at=ct.get("BM");if(at instanceof de.Name){if(at.name!=="Normal")return!0;continue}if(at!==void 0&&Array.isArray(at)){for(const Je of at)if(Je instanceof de.Name&&Je.name!=="Normal")return!0}}const et=We.get("XObject");if(et instanceof de.Dict)for(let ct of et.getRawValues()){if(ct instanceof de.Ref){if(je.has(ct))continue;try{ct=Qe.fetch(ct)}catch(Je){je.put(ct),(0,ae.info)(`hasBlendModes - ignoring XObject: "${Je}".`);continue}}if(!(ct instanceof Ee.BaseStream))continue;ct.dict.objId&&je.put(ct.dict.objId);const at=ct.dict.get("Resources");at instanceof de.Dict&&(at.objId&&je.has(at.objId)||(nt.push(at),at.objId&&je.put(at.objId)))}}for(const We of je)Ke.put(We);return!1}async fetchBuiltInCMap(Ge){const Ke=this.builtInCMapCache.get(Ge);if(Ke)return Ke;let je;if(this.options.cMapUrl!==null){const nt=`${this.options.cMapUrl}${Ge}.bcmap`,Qe=await fetch(nt);if(!Qe.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${nt}" with "${Qe.statusText}".`);je={cMapData:new Uint8Array(await Qe.arrayBuffer()),compressionType:ae.CMapCompressionType.BINARY}}else je=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:Ge});return je.compressionType!==ae.CMapCompressionType.NONE&&this.builtInCMapCache.set(Ge,je),je}async fetchStandardFontData(Ge){const Ke=this.standardFontDataCache.get(Ge);if(Ke)return new _e.Stream(Ke);if(this.options.useSystemFonts&&Ge!=="Symbol"&&Ge!=="ZapfDingbats")return null;const je=(0,ge.getFontNameToFileMap)(),nt=je[Ge];let Qe;if(this.options.standardFontDataUrl!==null){const We=`${this.options.standardFontDataUrl}${nt}`,rt=await fetch(We);rt.ok?Qe=await rt.arrayBuffer():(0,ae.warn)(`fetchStandardFontData: failed to fetch file "${We}" with "${rt.statusText}".`)}else try{Qe=await this.handler.sendWithPromise("FetchStandardFontData",{filename:nt})}catch(We){(0,ae.warn)(`fetchStandardFontData: failed to fetch file "${nt}" with "${We}".`)}return Qe?(this.standardFontDataCache.set(Ge,Qe),new _e.Stream(Qe)):null}async buildFormXObject(Ge,Ke,je,nt,Qe,We,rt){const et=Ke.dict,ct=et.getArray("Matrix");let at=et.getArray("BBox");Array.isArray(at)&&at.length===4?at=ae.Util.normalizeRect(at):at=null;let Je,lt;et.has("OC")&&(Je=await this.parseMarkedContentProps(et.get("OC"),Ge)),Je!==void 0&&nt.addOp(ae.OPS.beginMarkedContentProps,["OC",Je]);const ut=et.get("Group");if(ut){lt={matrix:ct,bbox:at,smask:je,isolated:!1,knockout:!1};const pt=ut.get("S");let mt=null;if((0,de.isName)(pt,"Transparency")&&(lt.isolated=ut.get("I")||!1,lt.knockout=ut.get("K")||!1,ut.has("CS"))){const xt=ut.getRaw("CS"),vt=ye.ColorSpace.getCached(xt,this.xref,rt);vt?mt=vt:mt=await this.parseColorSpace({cs:xt,resources:Ge,localColorSpaceCache:rt})}je&&je.backdrop&&(mt=mt||ye.ColorSpace.singletons.rgb,je.backdrop=mt.getRgb(je.backdrop,0)),nt.addOp(ae.OPS.beginGroup,[lt])}const ft=ut?[ct,null]:[ct,at];return nt.addOp(ae.OPS.paintFormXObjectBegin,ft),this.getOperatorList({stream:Ke,task:Qe,resources:et.get("Resources")||Ge,operatorList:nt,initialState:We}).then(function(){nt.addOp(ae.OPS.paintFormXObjectEnd,[]),ut&&nt.addOp(ae.OPS.endGroup,[lt]),Je!==void 0&&nt.addOp(ae.OPS.endMarkedContent,[])})}_sendImgData(Ge,Ke,je=!1){const nt=Ke?[Ke.bitmap||Ke.data.buffer]:null;return this.parsingType3Font||je?this.handler.send("commonobj",[Ge,"Image",Ke],nt):this.handler.send("obj",[Ge,this.pageIndex,"Image",Ke],nt)}async buildPaintImageXObject({resources:Ge,image:Ke,isInline:je=!1,operatorList:nt,cacheKey:Qe,localImageCache:We,localColorSpaceCache:rt}){const et=Ke.dict,ct=et.objId,at=et.get("W","Width"),Je=et.get("H","Height");if(!(at&&typeof at=="number")||!(Je&&typeof Je=="number")){(0,ae.warn)("Image dimensions are missing, or not numbers.");return}const lt=this.options.maxImageSize;if(lt!==-1&&at*Je>lt){const Lt="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){(0,ae.warn)(Lt);return}throw new Error(Lt)}let ut;et.has("OC")&&(ut=await this.parseMarkedContentProps(et.get("OC"),Ge));const ft=et.get("IM","ImageMask")||!1;let pt,mt;if(ft){const Lt=et.get("I","Interpolate"),jt=at+7>>3,Bt=Ke.getBytes(jt*Je),St=et.getArray("D","Decode");if(this.parsingType3Font){pt=Ue.PDFImage.createRawMask({imgArray:Bt,width:at,height:Je,imageIsFromDecodeStream:Ke instanceof Re.DecodeStream,inverseDecode:!!St&&St[0]>0,interpolate:Lt}),pt.cached=!!Qe,mt=[pt],nt.addImageOps(ae.OPS.paintImageMaskXObject,mt,ut),Qe&&We.set(Qe,ct,{fn:ae.OPS.paintImageMaskXObject,args:mt,optionalContent:ut});return}if(pt=Ue.PDFImage.createMask({imgArray:Bt,width:at,height:Je,imageIsFromDecodeStream:Ke instanceof Re.DecodeStream,inverseDecode:!!St&&St[0]>0,interpolate:Lt}),pt.isSingleOpaquePixel){nt.addImageOps(ae.OPS.paintSolidColorImageMask,[],ut),Qe&&We.set(Qe,ct,{fn:ae.OPS.paintSolidColorImageMask,args:[],optionalContent:ut});return}const Ft=`mask_${this.idFactory.createObjId()}`;nt.addDependency(Ft),this._sendImgData(Ft,pt),mt=[{data:Ft,width:pt.width,height:pt.height,interpolate:pt.interpolate,count:1}],nt.addImageOps(ae.OPS.paintImageMaskXObject,mt,ut),Qe&&We.set(Qe,ct,{fn:ae.OPS.paintImageMaskXObject,args:mt,optionalContent:ut});return}const xt=et.get("SM","SMask")||!1,vt=et.get("Mask")||!1;if(je&&!xt&&!vt&&at+Je<200){pt=new Ue.PDFImage({xref:this.xref,res:Ge,image:Ke,isInline:je,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:rt}).createImageData(!0),nt.addImageOps(ae.OPS.paintInlineImageXObject,[pt],ut);return}let _t=`img_${this.idFactory.createObjId()}`,Tt=!1;this.parsingType3Font?_t=`${this.idFactory.getDocId()}_type3_${_t}`:ct&&(Tt=this.globalImageCache.shouldCache(ct,this.pageIndex),Tt&&(_t=`${this.idFactory.getDocId()}_${_t}`)),nt.addDependency(_t),mt=[_t,at,Je],Ue.PDFImage.buildImage({xref:this.xref,res:Ge,image:Ke,isInline:je,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:rt}).then(Lt=>(pt=Lt.createImageData(!1),Qe&&ct&&Tt&&this.globalImageCache.addByteSize(ct,pt.data.length),this._sendImgData(_t,pt,Tt))).catch(Lt=>((0,ae.warn)(`Unable to decode image "${_t}": "${Lt}".`),this._sendImgData(_t,null,Tt))),nt.addImageOps(ae.OPS.paintImageXObject,mt,ut),Qe&&(We.set(Qe,ct,{fn:ae.OPS.paintImageXObject,args:mt,optionalContent:ut}),ct&&((0,ae.assert)(!je,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(ct,this.pageIndex),Tt&&this.globalImageCache.setData(ct,{objId:_t,fn:ae.OPS.paintImageXObject,args:mt,optionalContent:ut,byteSize:0})))}handleSMask(Ge,Ke,je,nt,Qe,We){const rt=Ge.get("G"),et={subtype:Ge.get("S").name,backdrop:Ge.get("BC")},ct=Ge.get("TR");if((0,ue.isPDFFunction)(ct)){const at=this._pdfFunctionFactory.create(ct),Je=new Uint8Array(256),lt=new Float32Array(1);for(let ut=0;ut<256;ut++)lt[0]=ut/255,at(lt,0,lt,0),Je[ut]=lt[0]*255|0;et.transferMap=Je}return this.buildFormXObject(Ke,rt,et,je,nt,Qe.state.clone(),We)}handleTransferFunction(Ge){let Ke;if(Array.isArray(Ge))Ke=Ge;else if((0,ue.isPDFFunction)(Ge))Ke=[Ge];else return null;const je=[];let nt=0,Qe=0;for(const We of Ke){const rt=this.xref.fetchIfRef(We);if(nt++,(0,de.isName)(rt,"Identity")){je.push(null);continue}else if(!(0,ue.isPDFFunction)(rt))return null;const et=this._pdfFunctionFactory.create(rt),ct=new Uint8Array(256),at=new Float32Array(1);for(let Je=0;Je<256;Je++)at[0]=Je/255,et(at,0,at,0),ct[Je]=at[0]*255|0;je.push(ct),Qe++}return!(nt===1||nt===4)||Qe===0?null:je}handleTilingType(Ge,Ke,je,nt,Qe,We,rt,et){const ct=new Pe.OperatorList,at=de.Dict.merge({xref:this.xref,dictArray:[Qe.get("Resources"),je]});return this.getOperatorList({stream:nt,task:rt,resources:at,operatorList:ct}).then(function(){const Je=ct.getIR(),lt=(0,fe.getTilingPatternIR)(Je,Qe,Ke);We.addDependencies(ct.dependencies),We.addOp(Ge,lt),Qe.objId&&et.set(null,Qe.objId,{operatorListIR:Je,dict:Qe})}).catch(Je=>{if(!(Je instanceof ae.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,ae.warn)(`handleTilingType - ignoring pattern: "${Je}".`);return}throw Je}})}handleSetFont(Ge,Ke,je,nt,Qe,We,rt=null,et=null){const ct=Ke&&Ke[0]instanceof de.Name?Ke[0].name:null;return this.loadFont(ct,je,Ge,rt,et).then(at=>at.font.isType3Font?at.loadType3Data(this,Ge,Qe).then(function(){return nt.addDependencies(at.type3Dependencies),at}).catch(Je=>(this.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorFontLoadType3}),new qe({loadedName:"g_font_error",font:new pe.ErrorFont(`Type3 font load error: ${Je}`),dict:at.font,evaluatorOptions:this.options}))):at).then(at=>(We.font=at.font,at.send(this.handler),at.loadedName))}handleText(Ge,Ke){const je=Ke.font,nt=je.charsToGlyphs(Ge);return je.data&&(Ke.textRenderingMode&ae.TextRenderingMode.ADD_TO_PATH_FLAG||Ke.fillColorSpace.name==="Pattern"||je.disableFontFace||this.options.disableFontFace)&&Ne.buildFontPaths(je,nt,this.handler,this.options),nt}ensureStateFont(Ge){if(Ge.font)return;const Ke=new ae.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorFontState}),(0,ae.warn)(`ensureStateFont: "${Ke}".`);return}throw Ke}async setGState({resources:Ge,gState:Ke,operatorList:je,cacheKey:nt,task:Qe,stateManager:We,localGStateCache:rt,localColorSpaceCache:et}){const ct=Ke.objId;let at=!0;const Je=[],lt=Ke.getKeys();let ut=Promise.resolve();for(let ft=0,pt=lt.length;ft<pt;ft++){const mt=lt[ft],xt=Ke.get(mt);switch(mt){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Je.push([mt,xt]);break;case"Font":at=!1,ut=ut.then(()=>this.handleSetFont(Ge,null,xt[0],je,Qe,We.state).then(function(wt){je.addDependency(wt),Je.push([mt,[wt,xt[1]]])}));break;case"BM":Je.push([mt,Ie(xt)]);break;case"SMask":if((0,de.isName)(xt,"None")){Je.push([mt,!1]);break}xt instanceof de.Dict?(at=!1,ut=ut.then(()=>this.handleSMask(xt,Ge,je,Qe,We,et)),Je.push([mt,!0])):(0,ae.warn)("Unsupported SMask type");break;case"TR":const vt=this.handleTransferFunction(xt);Je.push([mt,vt]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,ae.info)("graphic state operator "+mt);break;default:(0,ae.info)("Unknown graphic state operator "+mt);break}}return ut.then(function(){Je.length>0&&je.addOp(ae.OPS.setGState,[Je]),at&&rt.set(nt,ct,Je)})}loadFont(Ge,Ke,je,nt=null,Qe=null){const We=async()=>new qe({loadedName:"g_font_error",font:new pe.ErrorFont(`Font "${Ge}" is not available.`),dict:Ke,evaluatorOptions:this.options}),rt=this.xref;let et;if(Ke)Ke instanceof de.Ref&&(et=Ke);else{const pt=je.get("Font");pt&&(et=pt.getRaw(Ge))}if(!et){const pt=`Font "${Ge||Ke&&Ke.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,ae.warn)(`${pt}.`),We();this.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorFontMissing}),(0,ae.warn)(`${pt} -- attempting to fallback to a default font.`),nt?et=nt:et=Ne.fallbackFontDict}if(this.parsingType3Font&&this.type3FontRefs.has(et))return We();if(this.fontCache.has(et))return this.fontCache.get(et);if(Ke=rt.fetchIfRef(et),!(Ke instanceof de.Dict))return We();if(Ke.cacheKey&&this.fontCache.has(Ke.cacheKey))return this.fontCache.get(Ke.cacheKey);const ct=(0,ae.createPromiseCapability)();let at;try{at=this.preEvaluateFont(Ke),at.cssFontInfo=Qe}catch(pt){return(0,ae.warn)(`loadFont - preEvaluateFont failed: "${pt}".`),We()}const{descriptor:Je,hash:lt}=at,ut=et instanceof de.Ref;let ft;if(ut&&(ft=`f${et.toString()}`),lt&&Je instanceof de.Dict){Je.fontAliases||(Je.fontAliases=Object.create(null));const pt=Je.fontAliases;if(pt[lt]){const mt=pt[lt].aliasRef;if(ut&&mt&&this.fontCache.has(mt))return this.fontCache.putAlias(et,mt),this.fontCache.get(et)}else pt[lt]={fontID:this.idFactory.createFontId()};ut&&(pt[lt].aliasRef=et),ft=pt[lt].fontID}return ut?this.fontCache.put(et,ct.promise):(ft||(ft=this.idFactory.createFontId()),Ke.cacheKey=`cacheKey_${ft}`,this.fontCache.put(Ke.cacheKey,ct.promise)),(0,ae.assert)(ft&&ft.startsWith("f"),'The "fontID" must be (correctly) defined.'),Ke.loadedName=`${this.idFactory.getDocId()}_${ft}`,this.translateFont(at).then(pt=>{pt.fontType!==void 0&&rt.stats.addFontType(pt.fontType),ct.resolve(new qe({loadedName:Ke.loadedName,font:pt,dict:Ke,evaluatorOptions:this.options}))}).catch(pt=>{this.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,ae.warn)(`loadFont - translateFont failed: "${pt}".`);try{const mt=Je&&Je.get("FontFile3"),xt=mt&&mt.get("Subtype"),vt=(0,re.getFontType)(at.type,xt&&xt.name);vt!==void 0&&rt.stats.addFontType(vt)}catch{}ct.resolve(new qe({loadedName:Ke.loadedName,font:new pe.ErrorFont(pt instanceof Error?pt.message:pt),dict:Ke,evaluatorOptions:this.options}))}),ct.promise}buildPath(Ge,Ke,je,nt=!1){const Qe=Ge.length-1;je||(je=[]);let We;if(Qe<0||Ge.fnArray[Qe]!==ae.OPS.constructPath)nt&&((0,ae.warn)(`Encountered path operator "${Ke}" inside of a text object.`),Ge.addOp(ae.OPS.save,null)),We=[1/0,-1/0,1/0,-1/0],Ge.addOp(ae.OPS.constructPath,[[Ke],je,We]),nt&&Ge.addOp(ae.OPS.restore,null);else{const rt=Ge.argsArray[Qe];rt[0].push(Ke),Array.prototype.push.apply(rt[1],je),We=rt[2]}switch(Ke){case ae.OPS.rectangle:We[0]=Math.min(We[0],je[0],je[0]+je[2]),We[1]=Math.max(We[1],je[0],je[0]+je[2]),We[2]=Math.min(We[2],je[1],je[1]+je[3]),We[3]=Math.max(We[3],je[1],je[1]+je[3]);break;case ae.OPS.moveTo:case ae.OPS.lineTo:We[0]=Math.min(We[0],je[0]),We[1]=Math.max(We[1],je[0]),We[2]=Math.min(We[2],je[1]),We[3]=Math.max(We[3],je[1]);break}}parseColorSpace({cs:Ge,resources:Ke,localColorSpaceCache:je}){return ye.ColorSpace.parseAsync({cs:Ge,xref:this.xref,resources:Ke,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:je}).catch(nt=>{if(nt instanceof ae.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorColorSpace}),(0,ae.warn)(`parseColorSpace - ignoring ColorSpace: "${nt}".`),null;throw nt})}parseShading({shading:Ge,resources:Ke,localColorSpaceCache:je,localShadingPatternCache:nt}){let Qe=nt.get(Ge);if(!Qe){var We=fe.Pattern.parseShading(Ge,this.xref,Ke,this.handler,this._pdfFunctionFactory,je);const rt=We.getIR();Qe=`pattern_${this.idFactory.createObjId()}`,nt.set(Ge,Qe),this.handler.send("obj",[Qe,this.pageIndex,"Pattern",rt])}return Qe}handleColorN(Ge,Ke,je,nt,Qe,We,rt,et,ct,at){const Je=je.pop();if(Je instanceof de.Name){const lt=Qe.getRaw(Je.name),ut=lt instanceof de.Ref&&ct.getByRef(lt);if(ut)try{const pt=nt.base?nt.base.getRgb(je,0):null,mt=(0,fe.getTilingPatternIR)(ut.operatorListIR,ut.dict,pt);Ge.addOp(Ke,mt);return}catch{}const ft=this.xref.fetchIfRef(lt);if(ft){const pt=ft instanceof Ee.BaseStream?ft.dict:ft,mt=pt.get("PatternType");if(mt===Me.TILING){const xt=nt.base?nt.base.getRgb(je,0):null;return this.handleTilingType(Ke,xt,We,ft,pt,Ge,rt,ct)}else if(mt===Me.SHADING){const xt=pt.get("Shading"),vt=pt.getArray("Matrix"),wt=this.parseShading({shading:xt,resources:We,localColorSpaceCache:et,localShadingPatternCache:at});Ge.addOp(Ke,["Shading",wt,vt]);return}throw new ae.FormatError(`Unknown PatternType: ${mt}`)}}throw new ae.FormatError(`Unknown PatternName: ${Je}`)}_parseVisibilityExpression(Ge,Ke,je){if(++Ke>10){(0,ae.warn)("Visibility expression is too deeply nested");return}const Qe=Ge.length,We=this.xref.fetchIfRef(Ge[0]);if(Qe<2||!(We instanceof de.Name)){(0,ae.warn)("Invalid visibility expression");return}switch(We.name){case"And":case"Or":case"Not":je.push(We.name);break;default:(0,ae.warn)(`Invalid operator ${We.name} in visibility expression`);return}for(let rt=1;rt<Qe;rt++){const et=Ge[rt],ct=this.xref.fetchIfRef(et);if(Array.isArray(ct)){const at=[];je.push(at),this._parseVisibilityExpression(ct,Ke,at)}else et instanceof de.Ref&&je.push(et.toString())}}async parseMarkedContentProps(Ge,Ke){let je;if(Ge instanceof de.Name)je=Ke.get("Properties").get(Ge.name);else if(Ge instanceof de.Dict)je=Ge;else throw new ae.FormatError("Optional content properties malformed.");const nt=je.get("Type").name;if(nt==="OCG")return{type:nt,id:je.objId};if(nt==="OCMD"){const Qe=je.get("VE");if(Array.isArray(Qe)){const rt=[];if(this._parseVisibilityExpression(Qe,0,rt),rt.length>0)return{type:"OCMD",expression:rt}}const We=je.get("OCGs");if(Array.isArray(We)||We instanceof de.Dict){const rt=[];if(Array.isArray(We))for(const et of We)rt.push(et.toString());else rt.push(We.objId);return{type:nt,ids:rt,policy:je.get("P")instanceof de.Name?je.get("P").name:null,expression:null}}else if(We instanceof de.Ref)return{type:nt,id:We.toString()}}return null}getOperatorList({stream:Ge,task:Ke,resources:je,operatorList:nt,initialState:Qe=null,fallbackFontDict:We=null}){if(je=je||de.Dict.empty,Qe=Qe||new Xe,!nt)throw new Error('getOperatorList: missing "operatorList" parameter');const rt=this,et=this.xref;let ct=!1;const at=new Fe.LocalImageCache,Je=new Fe.LocalColorSpaceCache,lt=new Fe.LocalGStateCache,ut=new Fe.LocalTilingPatternCache,ft=new Map,pt=je.get("XObject")||de.Dict.empty,mt=je.get("Pattern")||de.Dict.empty,xt=new it(Qe),vt=new Ze(Ge,et,xt),wt=new Oe;function _t(Tt){for(let Lt=0,jt=vt.savedStatesDepth;Lt<jt;Lt++)nt.addOp(ae.OPS.restore,[])}return new Promise(function Tt(Lt,jt){const Bt=function(sn){Promise.all([sn,nt.ready]).then(function(){try{Tt(Lt,jt)}catch(yn){jt(yn)}},jt)};Ke.ensureNotTerminated(),wt.reset();const St={};let Ft,Ct,yt,bt,Pt,Ut;for(;!(Ft=wt.check())&&(St.args=null,!!vt.read(St));){let sn=St.args,yn=St.fn;switch(yn|0){case ae.OPS.paintXObject:if(Ut=sn[0]instanceof de.Name,Pt=sn[0].name,Ut){const tn=at.getByName(Pt);if(tn){nt.addImageOps(tn.fn,tn.args,tn.optionalContent),Le(tn),sn=null;continue}}Bt(new Promise(function(tn,Dn){if(!Ut)throw new ae.FormatError("XObject must be referred to by name.");let xn=pt.getRaw(Pt);if(xn instanceof de.Ref){const In=at.getByRef(xn);if(In){nt.addImageOps(In.fn,In.args,In.optionalContent),Le(In),tn();return}const _n=rt.globalImageCache.getData(xn,rt.pageIndex);if(_n){nt.addDependency(_n.objId),nt.addImageOps(_n.fn,_n.args,_n.optionalContent),tn();return}xn=et.fetch(xn)}if(!(xn instanceof Ee.BaseStream))throw new ae.FormatError("XObject should be a stream");const Hn=xn.dict.get("Subtype");if(!(Hn instanceof de.Name))throw new ae.FormatError("XObject should have a Name subtype");if(Hn.name==="Form"){xt.save(),rt.buildFormXObject(je,xn,null,nt,Ke,xt.state.clone(),Je).then(function(){xt.restore(),tn()},Dn);return}else if(Hn.name==="Image"){rt.buildPaintImageXObject({resources:je,image:xn,operatorList:nt,cacheKey:Pt,localImageCache:at,localColorSpaceCache:Je}).then(tn,Dn);return}else if(Hn.name==="PS")(0,ae.info)("Ignored XObject subtype PS");else throw new ae.FormatError(`Unhandled XObject subtype ${Hn.name}`);tn()}).catch(function(tn){if(!(tn instanceof ae.AbortException)){if(rt.options.ignoreErrors){rt.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorXObject}),(0,ae.warn)(`getOperatorList - ignoring XObject: "${tn}".`);return}throw tn}}));return;case ae.OPS.setFont:var Yt=sn[1];Bt(rt.handleSetFont(je,sn,null,nt,Ke,xt.state,We).then(function(tn){nt.addDependency(tn),nt.addOp(ae.OPS.setFont,[tn,Yt])}));return;case ae.OPS.beginText:ct=!0;break;case ae.OPS.endText:ct=!1;break;case ae.OPS.endInlineImage:var kt=sn[0].cacheKey;if(kt){const tn=at.getByName(kt);if(tn){nt.addImageOps(tn.fn,tn.args,tn.optionalContent),Le(tn),sn=null;continue}}Bt(rt.buildPaintImageXObject({resources:je,image:sn[0],isInline:!0,operatorList:nt,cacheKey:kt,localImageCache:at,localColorSpaceCache:Je}));return;case ae.OPS.showText:if(!xt.state.font){rt.ensureStateFont(xt.state);continue}sn[0]=rt.handleText(sn[0],xt.state);break;case ae.OPS.showSpacedText:if(!xt.state.font){rt.ensureStateFont(xt.state);continue}var Ot=sn[0],Et=[],nn=Ot.length,en=xt.state;for(Ct=0;Ct<nn;++Ct){const tn=Ot[Ct];typeof tn=="string"?Array.prototype.push.apply(Et,rt.handleText(tn,en)):typeof tn=="number"&&Et.push(tn)}sn[0]=Et,yn=ae.OPS.showText;break;case ae.OPS.nextLineShowText:if(!xt.state.font){rt.ensureStateFont(xt.state);continue}nt.addOp(ae.OPS.nextLine),sn[0]=rt.handleText(sn[0],xt.state),yn=ae.OPS.showText;break;case ae.OPS.nextLineSetSpacingShowText:if(!xt.state.font){rt.ensureStateFont(xt.state);continue}nt.addOp(ae.OPS.nextLine),nt.addOp(ae.OPS.setWordSpacing,[sn.shift()]),nt.addOp(ae.OPS.setCharSpacing,[sn.shift()]),sn[0]=rt.handleText(sn[0],xt.state),yn=ae.OPS.showText;break;case ae.OPS.setTextRenderingMode:xt.state.textRenderingMode=sn[0];break;case ae.OPS.setFillColorSpace:{const tn=ye.ColorSpace.getCached(sn[0],et,Je);if(tn){xt.state.fillColorSpace=tn;continue}Bt(rt.parseColorSpace({cs:sn[0],resources:je,localColorSpaceCache:Je}).then(function(Dn){Dn&&(xt.state.fillColorSpace=Dn)}));return}case ae.OPS.setStrokeColorSpace:{const tn=ye.ColorSpace.getCached(sn[0],et,Je);if(tn){xt.state.strokeColorSpace=tn;continue}Bt(rt.parseColorSpace({cs:sn[0],resources:je,localColorSpaceCache:Je}).then(function(Dn){Dn&&(xt.state.strokeColorSpace=Dn)}));return}case ae.OPS.setFillColor:bt=xt.state.fillColorSpace,sn=bt.getRgb(sn,0),yn=ae.OPS.setFillRGBColor;break;case ae.OPS.setStrokeColor:bt=xt.state.strokeColorSpace,sn=bt.getRgb(sn,0),yn=ae.OPS.setStrokeRGBColor;break;case ae.OPS.setFillGray:xt.state.fillColorSpace=ye.ColorSpace.singletons.gray,sn=ye.ColorSpace.singletons.gray.getRgb(sn,0),yn=ae.OPS.setFillRGBColor;break;case ae.OPS.setStrokeGray:xt.state.strokeColorSpace=ye.ColorSpace.singletons.gray,sn=ye.ColorSpace.singletons.gray.getRgb(sn,0),yn=ae.OPS.setStrokeRGBColor;break;case ae.OPS.setFillCMYKColor:xt.state.fillColorSpace=ye.ColorSpace.singletons.cmyk,sn=ye.ColorSpace.singletons.cmyk.getRgb(sn,0),yn=ae.OPS.setFillRGBColor;break;case ae.OPS.setStrokeCMYKColor:xt.state.strokeColorSpace=ye.ColorSpace.singletons.cmyk,sn=ye.ColorSpace.singletons.cmyk.getRgb(sn,0),yn=ae.OPS.setStrokeRGBColor;break;case ae.OPS.setFillRGBColor:xt.state.fillColorSpace=ye.ColorSpace.singletons.rgb,sn=ye.ColorSpace.singletons.rgb.getRgb(sn,0);break;case ae.OPS.setStrokeRGBColor:xt.state.strokeColorSpace=ye.ColorSpace.singletons.rgb,sn=ye.ColorSpace.singletons.rgb.getRgb(sn,0);break;case ae.OPS.setFillColorN:if(bt=xt.state.fillColorSpace,bt.name==="Pattern"){Bt(rt.handleColorN(nt,ae.OPS.setFillColorN,sn,bt,mt,je,Ke,Je,ut,ft));return}sn=bt.getRgb(sn,0),yn=ae.OPS.setFillRGBColor;break;case ae.OPS.setStrokeColorN:if(bt=xt.state.strokeColorSpace,bt.name==="Pattern"){Bt(rt.handleColorN(nt,ae.OPS.setStrokeColorN,sn,bt,mt,je,Ke,Je,ut,ft));return}sn=bt.getRgb(sn,0),yn=ae.OPS.setStrokeRGBColor;break;case ae.OPS.shadingFill:var an=je.get("Shading");if(!an)throw new ae.FormatError("No shading resource found");var Sn=an.get(sn[0].name);if(!Sn)throw new ae.FormatError("No shading object found");sn=[rt.parseShading({shading:Sn,resources:je,localColorSpaceCache:Je,localShadingPatternCache:ft})],yn=ae.OPS.shadingFill;break;case ae.OPS.setGState:if(Ut=sn[0]instanceof de.Name,Pt=sn[0].name,Ut){const tn=lt.getByName(Pt);if(tn){tn.length>0&&nt.addOp(ae.OPS.setGState,[tn]),sn=null;continue}}Bt(new Promise(function(tn,Dn){if(!Ut)throw new ae.FormatError("GState must be referred to by name.");const xn=je.get("ExtGState");if(!(xn instanceof de.Dict))throw new ae.FormatError("ExtGState should be a dictionary.");const Hn=xn.get(Pt);if(!(Hn instanceof de.Dict))throw new ae.FormatError("GState should be a dictionary.");rt.setGState({resources:je,gState:Hn,operatorList:nt,cacheKey:Pt,task:Ke,stateManager:xt,localGStateCache:lt,localColorSpaceCache:Je}).then(tn,Dn)}).catch(function(tn){if(!(tn instanceof ae.AbortException)){if(rt.options.ignoreErrors){rt.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorExtGState}),(0,ae.warn)(`getOperatorList - ignoring ExtGState: "${tn}".`);return}throw tn}}));return;case ae.OPS.moveTo:case ae.OPS.lineTo:case ae.OPS.curveTo:case ae.OPS.curveTo2:case ae.OPS.curveTo3:case ae.OPS.closePath:case ae.OPS.rectangle:rt.buildPath(nt,yn,sn,ct);continue;case ae.OPS.markPoint:case ae.OPS.markPointProps:case ae.OPS.beginCompat:case ae.OPS.endCompat:continue;case ae.OPS.beginMarkedContentProps:if(!(sn[0]instanceof de.Name)){(0,ae.warn)(`Expected name for beginMarkedContentProps arg0=${sn[0]}`);continue}if(sn[0].name==="OC"){Bt(rt.parseMarkedContentProps(sn[1],je).then(tn=>{nt.addOp(ae.OPS.beginMarkedContentProps,["OC",tn])}).catch(tn=>{if(!(tn instanceof ae.AbortException)){if(rt.options.ignoreErrors){rt.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,ae.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${tn}".`);return}throw tn}}));return}sn=[sn[0].name,sn[1]instanceof de.Dict?sn[1].get("MCID"):null];break;case ae.OPS.beginMarkedContent:case ae.OPS.endMarkedContent:default:if(sn!==null){for(Ct=0,yt=sn.length;Ct<yt&&!(sn[Ct]instanceof de.Dict);Ct++);if(Ct<yt){(0,ae.warn)("getOperatorList - ignoring operator: "+yn);continue}}}nt.addOp(yn,sn)}if(Ft){Bt(He);return}_t(),Lt()}).catch(Tt=>{if(!(Tt instanceof ae.AbortException)){if(this.options.ignoreErrors){this.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorOperatorList}),(0,ae.warn)(`getOperatorList - ignoring errors during "${Ke.name}" task: "${Tt}".`),_t();return}throw Tt}})}getTextContent({stream:Ge,task:Ke,resources:je,stateManager:nt=null,combineTextItems:Qe=!1,includeMarkedContent:We=!1,sink:rt,seenStyles:et=new Set,viewBox:ct}){je=je||de.Dict.empty,nt=nt||new it(new tt);const at=(0,Se.getNormalizedUnicodes)(),Je={items:[],styles:Object.create(null)},lt={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},ut=[" "," "];let ft=0;function pt(tn){const Dn=(ft+1)%2,xn=ut[ft]!==" "&&ut[Dn]===" ";return ut[ft]=tn,ft=Dn,xn}function mt(){ut[0]=ut[1]=" ",ft=0}const xt=.1,vt=.03,wt=-.2,_t=.1,Tt=.6,Lt=this,jt=this.xref,Bt=[];let St=null;const Ft=new Fe.LocalImageCache,Ct=new Fe.LocalGStateCache,yt=new Ze(Ge,jt,nt);let bt;function Pt(){const tn=bt.font,Dn=[bt.fontSize*bt.textHScale,0,0,bt.fontSize,0,bt.textRise];if(tn.isType3Font&&(bt.fontSize<=1||tn.isCharBBox)&&!(0,ae.isArrayEqual)(bt.fontMatrix,ae.FONT_IDENTITY_MATRIX)){const xn=tn.bbox[3]-tn.bbox[1];xn>0&&(Dn[3]*=xn*bt.fontMatrix[3])}return ae.Util.transform(bt.ctm,ae.Util.transform(bt.textMatrix,Dn))}function Ut(){if(lt.initialized)return lt;const tn=bt.font,Dn=tn.loadedName;et.has(Dn)||(et.add(Dn),Je.styles[Dn]={fontFamily:tn.fallbackName,ascent:tn.ascent,descent:tn.descent,vertical:tn.vertical}),lt.fontName=Dn;const xn=lt.transform=Pt();tn.vertical?(lt.width=lt.totalWidth=Math.hypot(xn[0],xn[1]),lt.height=lt.totalHeight=0,lt.vertical=!0):(lt.width=lt.totalWidth=0,lt.height=lt.totalHeight=Math.hypot(xn[2],xn[3]),lt.vertical=!1);const Hn=Math.hypot(bt.textLineMatrix[0],bt.textLineMatrix[1]),In=Math.hypot(bt.ctm[0],bt.ctm[1]);return lt.textAdvanceScale=In*Hn,lt.trackingSpaceMin=bt.fontSize*xt,lt.notASpace=bt.fontSize*vt,lt.negativeSpaceMax=bt.fontSize*wt,lt.spaceInFlowMin=bt.fontSize*_t,lt.spaceInFlowMax=bt.fontSize*Tt,lt.hasEOL=!1,lt.initialized=!0,lt}function Yt(){if(!lt.initialized)return;const tn=Math.hypot(bt.textLineMatrix[0],bt.textLineMatrix[1]),xn=Math.hypot(bt.ctm[0],bt.ctm[1])*tn;xn!==lt.textAdvanceScale&&(lt.vertical?(lt.totalHeight+=lt.height*lt.textAdvanceScale,lt.height=0):(lt.totalWidth+=lt.width*lt.textAdvanceScale,lt.width=0),lt.textAdvanceScale=xn)}function kt(tn){const Dn=tn.str.join(""),xn=(0,Ce.bidi)(Dn,-1,tn.vertical);return{str:xn.str,dir:xn.dir,width:Math.abs(tn.totalWidth),height:Math.abs(tn.totalHeight),transform:tn.transform,fontName:tn.fontName,hasEOL:tn.hasEOL}}function Ot(tn,Dn){return Lt.loadFont(tn,Dn,je).then(function(xn){return xn.font.isType3Font?xn.loadType3Data(Lt,je,Ke).catch(function(){}).then(function(){return xn}):xn}).then(function(xn){bt.font=xn.font,bt.fontMatrix=xn.font.fontMatrix||ae.FONT_IDENTITY_MATRIX})}function Et(tn,Dn,xn){const Hn=Math.hypot(xn[0],xn[1]);return[(xn[0]*tn+xn[1]*Dn)/Hn,(xn[2]*tn+xn[3]*Dn)/Hn]}function nn(){const tn=Pt();let Dn=tn[4],xn=tn[5];const Hn=Dn-ct[0],In=xn-ct[1];if(Hn<0||Hn>ct[2]||In<0||In>ct[3])return!1;if(!Qe||!bt.font||!lt.prevTransform)return!0;let _n=lt.prevTransform[4],wn=lt.prevTransform[5];if(_n===Dn&&wn===xn)return!0;let ei=-1;switch(tn[0]&&tn[1]===0&&tn[2]===0?ei=tn[0]>0?0:180:tn[1]&&tn[0]===0&&tn[3]===0&&(ei=tn[1]>0?90:270),ei){case 0:break;case 90:[Dn,xn]=[xn,Dn],[_n,wn]=[wn,_n];break;case 180:[Dn,xn,_n,wn]=[-Dn,-xn,-_n,-wn];break;case 270:[Dn,xn]=[-xn,-Dn],[_n,wn]=[-wn,-_n];break;default:[Dn,xn]=Et(Dn,xn,tn),[_n,wn]=Et(_n,wn,lt.prevTransform)}if(bt.font.vertical){const un=(wn-xn)/lt.textAdvanceScale,fn=Dn-_n,vn=Math.sign(lt.height);return un<vn*lt.negativeSpaceMax?Math.abs(fn)>.5*lt.width?(an(),!0):(mt(),sn(),!0):Math.abs(fn)>lt.width?(an(),!0):(un<=vn*lt.notASpace&&mt(),un<=vn*lt.trackingSpaceMin?lt.height+=un:Sn(un,lt.prevTransform,vn)||(lt.str.length===0?(mt(),Je.items.push({str:" ",dir:"ltr",width:0,height:Math.abs(un),transform:lt.prevTransform,fontName:lt.fontName,hasEOL:!1})):lt.height+=un),!0)}const ni=(Dn-_n)/lt.textAdvanceScale,on=xn-wn,Kt=Math.sign(lt.width);return ni<Kt*lt.negativeSpaceMax?Math.abs(on)>.5*lt.height?(an(),!0):(mt(),sn(),!0):Math.abs(on)>lt.height?(an(),!0):(ni<=Kt*lt.notASpace&&mt(),ni<=Kt*lt.trackingSpaceMin?lt.width+=ni:Sn(ni,lt.prevTransform,Kt)||(lt.str.length===0?(mt(),Je.items.push({str:" ",dir:"ltr",width:Math.abs(ni),height:0,transform:lt.prevTransform,fontName:lt.fontName,hasEOL:!1})):lt.width+=ni),!0)}function en({chars:tn,extraSpacing:Dn}){const xn=bt.font;if(!tn){const _n=bt.charSpacing+Dn;_n&&(xn.vertical?bt.translateTextMatrix(0,-_n):bt.translateTextMatrix(_n*bt.textHScale,0));return}const Hn=xn.charsToGlyphs(tn),In=bt.fontMatrix[0]*bt.fontSize;for(let _n=0,wn=Hn.length;_n<wn;_n++){const ei=Hn[_n];if(ei.isInvisibleFormatMark)continue;let ni=bt.charSpacing+(_n+1===wn?Dn:0),on=ei.width;xn.vertical&&(on=ei.vmetric?ei.vmetric[0]:-on);let Kt=on*In;if(ei.isWhitespace){xn.vertical?(ni+=-Kt+bt.wordSpacing,bt.translateTextMatrix(0,-ni)):(ni+=Kt+bt.wordSpacing,bt.translateTextMatrix(ni*bt.textHScale,0)),pt(" ");continue}if(!nn())continue;const un=Ut();ei.isZeroWidthDiacritic&&(Kt=0),xn.vertical?(bt.translateTextMatrix(0,Kt),Kt=Math.abs(Kt),un.height+=Kt):(Kt*=bt.textHScale,bt.translateTextMatrix(Kt,0),un.width+=Kt),Kt&&(un.prevTransform=Pt());let fn=ei.unicode;fn=at[fn]||fn,fn=(0,Se.reverseIfRtl)(fn),pt(fn)&&un.str.push(" "),un.str.push(fn),ni&&(xn.vertical?bt.translateTextMatrix(0,-ni):bt.translateTextMatrix(ni*bt.textHScale,0))}}function an(){mt(),lt.initialized?(lt.hasEOL=!0,sn()):Je.items.push({str:"",dir:"ltr",width:0,height:0,transform:Pt(),fontName:bt.font.loadedName,hasEOL:!0})}function Sn(tn,Dn,xn){if(xn*lt.spaceInFlowMin<=tn&&tn<=xn*lt.spaceInFlowMax)return lt.initialized&&(mt(),lt.str.push(" ")),!1;const Hn=lt.fontName;let In=0;return lt.vertical&&(In=tn,tn=0),sn(),mt(),Je.items.push({str:" ",dir:"ltr",width:Math.abs(tn),height:Math.abs(In),transform:Dn||Pt(),fontName:Hn,hasEOL:!1}),!0}function sn(){!lt.initialized||!lt.str||(lt.vertical?lt.totalHeight+=lt.height*lt.textAdvanceScale:lt.totalWidth+=lt.width*lt.textAdvanceScale,Je.items.push(kt(lt)),lt.initialized=!1,lt.str.length=0)}function yn(tn=!1){const Dn=Je.items.length;Dn!==0&&(tn&&Dn<Ve||(rt.enqueue(Je,Dn),Je.items=[],Je.styles=Object.create(null)))}const On=new Oe;return new Promise(function tn(Dn,xn){const Hn=function(un){yn(!0),Promise.all([un,rt.ready]).then(function(){try{tn(Dn,xn)}catch(fn){xn(fn)}},xn)};Ke.ensureNotTerminated(),On.reset();const In={};let _n,wn=[];for(;!(_n=On.check())&&(wn.length=0,In.args=wn,!!yt.read(In));){bt=nt.state;const un=In.fn;switch(wn=In.args,un|0){case ae.OPS.setFont:var ei=wn[0].name,ni=wn[1];if(bt.font&&ei===bt.fontName&&ni===bt.fontSize)break;sn(),bt.fontName=ei,bt.fontSize=ni,Hn(Ot(ei,null));return;case ae.OPS.setTextRise:bt.textRise=wn[0];break;case ae.OPS.setHScale:bt.textHScale=wn[0]/100;break;case ae.OPS.setLeading:bt.leading=wn[0];break;case ae.OPS.moveText:bt.translateTextLineMatrix(wn[0],wn[1]),bt.textMatrix=bt.textLineMatrix.slice();break;case ae.OPS.setLeadingMoveText:bt.leading=-wn[1],bt.translateTextLineMatrix(wn[0],wn[1]),bt.textMatrix=bt.textLineMatrix.slice();break;case ae.OPS.nextLine:bt.carriageReturn();break;case ae.OPS.setTextMatrix:bt.setTextMatrix(wn[0],wn[1],wn[2],wn[3],wn[4],wn[5]),bt.setTextLineMatrix(wn[0],wn[1],wn[2],wn[3],wn[4],wn[5]),Yt();break;case ae.OPS.setCharSpacing:bt.charSpacing=wn[0];break;case ae.OPS.setWordSpacing:bt.wordSpacing=wn[0];break;case ae.OPS.beginText:bt.textMatrix=ae.IDENTITY_MATRIX.slice(),bt.textLineMatrix=ae.IDENTITY_MATRIX.slice();break;case ae.OPS.showSpacedText:if(!nt.state.font){Lt.ensureStateFont(nt.state);continue}const fn=(bt.font.vertical?1:-1)*bt.fontSize/1e3,vn=wn[0];for(let Dt=0,Nt=vn.length;Dt<Nt-1;Dt++){const zt=vn[Dt];if(typeof zt=="string")Bt.push(zt);else if(typeof zt=="number"&&zt!==0){const Ht=Bt.join("");Bt.length=0,en({chars:Ht,extraSpacing:zt*fn})}}const At=vn.at(-1);if(typeof At=="string"&&Bt.push(At),Bt.length>0){const Dt=Bt.join("");Bt.length=0,en({chars:Dt,extraSpacing:0})}break;case ae.OPS.showText:if(!nt.state.font){Lt.ensureStateFont(nt.state);continue}en({chars:wn[0],extraSpacing:0});break;case ae.OPS.nextLineShowText:if(!nt.state.font){Lt.ensureStateFont(nt.state);continue}bt.carriageReturn(),en({chars:wn[0],extraSpacing:0});break;case ae.OPS.nextLineSetSpacingShowText:if(!nt.state.font){Lt.ensureStateFont(nt.state);continue}bt.wordSpacing=wn[0],bt.charSpacing=wn[1],bt.carriageReturn(),en({chars:wn[2],extraSpacing:0});break;case ae.OPS.paintXObject:sn(),St||(St=je.get("XObject")||de.Dict.empty);var on=wn[0]instanceof de.Name,Kt=wn[0].name;if(on&&Ft.getByName(Kt))break;Hn(new Promise(function(Dt,Nt){if(!on)throw new ae.FormatError("XObject must be referred to by name.");let zt=St.getRaw(Kt);if(zt instanceof de.Ref){if(Ft.getByRef(zt)){Dt();return}if(Lt.globalImageCache.getData(zt,Lt.pageIndex)){Dt();return}zt=jt.fetch(zt)}if(!(zt instanceof Ee.BaseStream))throw new ae.FormatError("XObject should be a stream");const Ht=zt.dict.get("Subtype");if(!(Ht instanceof de.Name))throw new ae.FormatError("XObject should have a Name subtype");if(Ht.name!=="Form"){Ft.set(Kt,zt.dict.objId,!0),Dt();return}const rn=nt.state.clone(),dn=new it(rn),cn=zt.dict.getArray("Matrix");Array.isArray(cn)&&cn.length===6&&dn.transform(cn),yn();const Rt={enqueueInvoked:!1,enqueue(Vt,Wt){this.enqueueInvoked=!0,rt.enqueue(Vt,Wt)},get desiredSize(){return rt.desiredSize},get ready(){return rt.ready}};Lt.getTextContent({stream:zt,task:Ke,resources:zt.dict.get("Resources")||je,stateManager:dn,combineTextItems:Qe,includeMarkedContent:We,sink:Rt,seenStyles:et,viewBox:ct}).then(function(){Rt.enqueueInvoked||Ft.set(Kt,zt.dict.objId,!0),Dt()},Nt)}).catch(function(Dt){if(!(Dt instanceof ae.AbortException)){if(Lt.options.ignoreErrors){(0,ae.warn)(`getTextContent - ignoring XObject: "${Dt}".`);return}throw Dt}}));return;case ae.OPS.setGState:if(on=wn[0]instanceof de.Name,Kt=wn[0].name,on&&Ct.getByName(Kt))break;Hn(new Promise(function(Dt,Nt){if(!on)throw new ae.FormatError("GState must be referred to by name.");const zt=je.get("ExtGState");if(!(zt instanceof de.Dict))throw new ae.FormatError("ExtGState should be a dictionary.");const Ht=zt.get(Kt);if(!(Ht instanceof de.Dict))throw new ae.FormatError("GState should be a dictionary.");const rn=Ht.get("Font");if(!rn){Ct.set(Kt,Ht.objId,!0),Dt();return}sn(),bt.fontName=null,bt.fontSize=rn[1],Ot(null,rn[0]).then(Dt,Nt)}).catch(function(Dt){if(!(Dt instanceof ae.AbortException)){if(Lt.options.ignoreErrors){(0,ae.warn)(`getTextContent - ignoring ExtGState: "${Dt}".`);return}throw Dt}}));return;case ae.OPS.beginMarkedContent:sn(),We&&Je.items.push({type:"beginMarkedContent",tag:wn[0]instanceof de.Name?wn[0].name:null});break;case ae.OPS.beginMarkedContentProps:if(sn(),We){let Dt=null;wn[1]instanceof de.Dict&&(Dt=wn[1].get("MCID")),Je.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Dt)?`${Lt.idFactory.getPageObjId()}_mcid${Dt}`:null,tag:wn[0]instanceof de.Name?wn[0].name:null})}break;case ae.OPS.endMarkedContent:sn(),We&&Je.items.push({type:"endMarkedContent"});break}if(Je.items.length>=rt.desiredSize){_n=!0;break}}if(_n){Hn(He);return}sn(),yn(),Dn()}).catch(tn=>{if(!(tn instanceof ae.AbortException)){if(this.options.ignoreErrors){(0,ae.warn)(`getTextContent - ignoring errors during "${Ke.name}" task: "${tn}".`),sn(),yn();return}throw tn}})}extractDataStructures(Ge,Ke,je){const nt=this.xref;let Qe;const We=this.readToUnicode(je.toUnicode||Ge.get("ToUnicode")||Ke.get("ToUnicode"));if(je.composite){const at=Ge.get("CIDSystemInfo");at instanceof de.Dict&&(je.cidSystemInfo={registry:(0,ae.stringToPDFString)(at.get("Registry")),ordering:(0,ae.stringToPDFString)(at.get("Ordering")),supplement:at.get("Supplement")});try{const Je=Ge.get("CIDToGIDMap");Je instanceof Ee.BaseStream&&(Qe=Je.getBytes())}catch(Je){if(!this.options.ignoreErrors)throw Je;(0,ae.warn)(`extractDataStructures - ignoring CIDToGIDMap data: "${Je}".`)}}const rt=[];let et=null,ct;if(Ge.has("Encoding")){if(ct=Ge.get("Encoding"),ct instanceof de.Dict){if(et=ct.get("BaseEncoding"),et=et instanceof de.Name?et.name:null,ct.has("Differences")){const at=ct.get("Differences");let Je=0;for(let lt=0,ut=at.length;lt<ut;lt++){const ft=nt.fetchIfRef(at[lt]);if(typeof ft=="number")Je=ft;else if(ft instanceof de.Name)rt[Je++]=ft.name;else throw new ae.FormatError(`Invalid entry in 'Differences' array: ${ft}`)}}}else if(ct instanceof de.Name)et=ct.name;else{const at="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new ae.FormatError(at);(0,ae.warn)(at)}et!=="MacRomanEncoding"&&et!=="MacExpertEncoding"&&et!=="WinAnsiEncoding"&&(et=null)}if(et)je.defaultEncoding=(0,Ae.getEncoding)(et);else{const at=!!(je.flags&re.FontFlags.Symbolic),Je=!!(je.flags&re.FontFlags.Nonsymbolic);ct=Ae.StandardEncoding,je.type==="TrueType"&&!Je&&(ct=Ae.WinAnsiEncoding),at&&(ct=Ae.MacRomanEncoding,(!je.file||je.isInternalFont)&&(/Symbol/i.test(je.name)?ct=Ae.SymbolSetEncoding:/Dingbats|Wingdings/i.test(je.name)&&(ct=Ae.ZapfDingbatsEncoding))),je.defaultEncoding=ct}return je.differences=rt,je.baseEncodingName=et,je.hasEncoding=!!et||rt.length>0,je.dict=Ge,We.then(at=>(je.toUnicode=at,this.buildToUnicode(je))).then(at=>(je.toUnicode=at,Qe&&(je.cidToGidMap=this.readCidToGidMap(Qe,at)),je))}_simpleFontToUnicode(Ge,Ke=!1){(0,ae.assert)(!Ge.composite,"Must be a simple font.");const je=[],nt=Ge.defaultEncoding.slice(),Qe=Ge.baseEncodingName,We=Ge.differences;for(const et in We){const ct=We[et];ct!==".notdef"&&(nt[et]=ct)}const rt=(0,Ye.getGlyphsUnicode)();for(const et in nt){let ct=nt[et];if(ct!==""){if(rt[ct]===void 0){let at=0;switch(ct[0]){case"G":ct.length===3&&(at=parseInt(ct.substring(1),16));break;case"g":ct.length===5&&(at=parseInt(ct.substring(1),16));break;case"C":case"c":if(ct.length>=3&&ct.length<=4){const lt=ct.substring(1);if(Ke){at=parseInt(lt,16);break}if(at=+lt,Number.isNaN(at)&&Number.isInteger(parseInt(lt,16)))return this._simpleFontToUnicode(Ge,!0)}break;default:const Je=(0,Se.getUnicodeForGlyph)(ct,rt);Je!==-1&&(at=Je)}if(at>0&&at<=1114111&&Number.isInteger(at)){if(Qe&&at===+et){const Je=(0,Ae.getEncoding)(Qe);if(Je&&(ct=Je[et])){je[et]=String.fromCharCode(rt[ct]);continue}}je[et]=String.fromCodePoint(at)}continue}je[et]=String.fromCharCode(rt[ct])}}return je}async buildToUnicode(Ge){if(Ge.hasIncludedToUnicodeMap=!!Ge.toUnicode&&Ge.toUnicode.length>0,Ge.hasIncludedToUnicodeMap)return!Ge.composite&&Ge.hasEncoding&&(Ge.fallbackToUnicode=this._simpleFontToUnicode(Ge)),Ge.toUnicode;if(!Ge.composite)return new xe.ToUnicodeMap(this._simpleFontToUnicode(Ge));if(Ge.composite&&(Ge.cMap.builtInCMap&&!(Ge.cMap instanceof he.IdentityCMap)||Ge.cidSystemInfo.registry==="Adobe"&&(Ge.cidSystemInfo.ordering==="GB1"||Ge.cidSystemInfo.ordering==="CNS1"||Ge.cidSystemInfo.ordering==="Japan1"||Ge.cidSystemInfo.ordering==="Korea1"))){const{registry:Ke,ordering:je}=Ge.cidSystemInfo,nt=de.Name.get(`${Ke}-${je}-UCS2`),Qe=await he.CMapFactory.create({encoding:nt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),We=[];return Ge.cMap.forEach(function(rt,et){if(et>65535)throw new ae.FormatError("Max size of CID is 65,535");const ct=Qe.lookup(et);ct&&(We[rt]=String.fromCharCode((ct.charCodeAt(0)<<8)+ct.charCodeAt(1)))}),new xe.ToUnicodeMap(We)}return new xe.IdentityToUnicodeMap(Ge.firstChar,Ge.lastChar)}readToUnicode(Ge){return Ge?Ge instanceof de.Name?he.CMapFactory.create({encoding:Ge,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Ke){return Ke instanceof he.IdentityCMap?new xe.IdentityToUnicodeMap(0,65535):new xe.ToUnicodeMap(Ke.getMap())}):Ge instanceof Ee.BaseStream?he.CMapFactory.create({encoding:Ge,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(Ke){if(Ke instanceof he.IdentityCMap)return new xe.IdentityToUnicodeMap(0,65535);const je=new Array(Ke.length);return Ke.forEach(function(nt,Qe){if(typeof Qe=="number"){je[nt]=String.fromCodePoint(Qe);return}const We=[];for(let rt=0;rt<Qe.length;rt+=2){const et=Qe.charCodeAt(rt)<<8|Qe.charCodeAt(rt+1);if((et&63488)!==55296){We.push(et);continue}rt+=2;const ct=Qe.charCodeAt(rt)<<8|Qe.charCodeAt(rt+1);We.push(((et&1023)<<10)+(ct&1023)+65536)}je[nt]=String.fromCodePoint(...We)}),new xe.ToUnicodeMap(je)},Ke=>{if(Ke instanceof ae.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,ae.warn)(`readToUnicode - ignoring ToUnicode data: "${Ke}".`),null;throw Ke}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(Ge,Ke){const je=[];for(let nt=0,Qe=Ge.length;nt<Qe;nt++){const We=Ge[nt++]<<8|Ge[nt],rt=nt>>1;We===0&&!Ke.has(rt)||(je[rt]=We)}return je}extractWidths(Ge,Ke,je){const nt=this.xref;let Qe=[],We=0;const rt=[];let et,ct,at,Je,lt,ut,ft,pt;if(je.composite){if(We=Ge.has("DW")?Ge.get("DW"):1e3,pt=Ge.get("W"),pt)for(ct=0,at=pt.length;ct<at;ct++)if(ut=nt.fetchIfRef(pt[ct++]),ft=nt.fetchIfRef(pt[ct]),Array.isArray(ft))for(Je=0,lt=ft.length;Je<lt;Je++)Qe[ut++]=nt.fetchIfRef(ft[Je]);else{const vt=nt.fetchIfRef(pt[++ct]);for(Je=ut;Je<=ft;Je++)Qe[Je]=vt}if(je.vertical){let vt=Ge.getArray("DW2")||[880,-1e3];if(et=[vt[1],We*.5,vt[0]],vt=Ge.get("W2"),vt)for(ct=0,at=vt.length;ct<at;ct++)if(ut=nt.fetchIfRef(vt[ct++]),ft=nt.fetchIfRef(vt[ct]),Array.isArray(ft))for(Je=0,lt=ft.length;Je<lt;Je++)rt[ut++]=[nt.fetchIfRef(ft[Je++]),nt.fetchIfRef(ft[Je++]),nt.fetchIfRef(ft[Je])];else{const wt=[nt.fetchIfRef(vt[++ct]),nt.fetchIfRef(vt[++ct]),nt.fetchIfRef(vt[++ct])];for(Je=ut;Je<=ft;Je++)rt[Je]=wt}}}else{const vt=je.firstChar;if(pt=Ge.get("Widths"),pt){for(Je=vt,ct=0,at=pt.length;ct<at;ct++)Qe[Je++]=nt.fetchIfRef(pt[ct]);We=parseFloat(Ke.get("MissingWidth"))||0}else{const wt=Ge.get("BaseFont");if(wt instanceof de.Name){const _t=this.getBaseFontMetrics(wt.name);Qe=this.buildCharCodeToWidth(_t.widths,je),We=_t.defaultWidth}}}let mt=!0,xt=We;for(const vt in Qe){const wt=Qe[vt];if(wt){if(!xt){xt=wt;continue}if(xt!==wt){mt=!1;break}}}mt&&(je.flags|=re.FontFlags.FixedPitch),je.defaultWidth=We,je.widths=Qe,je.defaultVMetrics=et,je.vmetrics=rt}isSerifFont(Ge){const Ke=Ge.split("-")[0];return Ke in(0,ge.getSerifFonts)()||Ke.search(/serif/gi)!==-1}getBaseFontMetrics(Ge){let Ke=0,je=Object.create(null),nt=!1,We=(0,ge.getStdFontMap)()[Ge]||Ge;const rt=(0,$e.getMetrics)();We in rt||(this.isSerifFont(Ge)?We="Times-Roman":We="Helvetica");const et=rt[We];return typeof et=="number"?(Ke=et,nt=!0):je=et(),{defaultWidth:Ke,monospace:nt,widths:je}}buildCharCodeToWidth(Ge,Ke){const je=Object.create(null),nt=Ke.differences,Qe=Ke.defaultEncoding;for(let We=0;We<256;We++){if(We in nt&&Ge[nt[We]]){je[We]=Ge[nt[We]];continue}if(We in Qe&&Ge[Qe[We]]){je[We]=Ge[Qe[We]];continue}}return je}preEvaluateFont(Ge){const Ke=Ge;let je=Ge.get("Subtype");if(!(je instanceof de.Name))throw new ae.FormatError("invalid font Subtype");let nt=!1,Qe,We;if(je.name==="Type0"){const at=Ge.get("DescendantFonts");if(!at)throw new ae.FormatError("Descendant fonts are not specified");if(Ge=Array.isArray(at)?this.xref.fetchIfRef(at[0]):at,!(Ge instanceof de.Dict))throw new ae.FormatError("Descendant font is not a dictionary.");if(je=Ge.get("Subtype"),!(je instanceof de.Name))throw new ae.FormatError("invalid font Subtype");nt=!0}const rt=Ge.get("FirstChar")||0,et=Ge.get("LastChar")||(nt?65535:255),ct=Ge.get("FontDescriptor");if(ct){Qe=new Be.MurmurHash3_64;const at=Ke.getRaw("Encoding");if(at instanceof de.Name)Qe.update(at.name);else if(at instanceof de.Ref)Qe.update(at.toString());else if(at instanceof de.Dict){for(const lt of at.getRawValues())if(lt instanceof de.Name)Qe.update(lt.name);else if(lt instanceof de.Ref)Qe.update(lt.toString());else if(Array.isArray(lt)){const ut=lt.length,ft=new Array(ut);for(let pt=0;pt<ut;pt++){const mt=lt[pt];mt instanceof de.Name?ft[pt]=mt.name:(typeof mt=="number"||mt instanceof de.Ref)&&(ft[pt]=mt.toString())}Qe.update(ft.join())}}if(Qe.update(`${rt}-${et}`),We=Ge.get("ToUnicode")||Ke.get("ToUnicode"),We instanceof Ee.BaseStream){const lt=We.str||We,ut=lt.buffer?new Uint8Array(lt.buffer.buffer,0,lt.bufferLength):new Uint8Array(lt.bytes.buffer,lt.start,lt.end-lt.start);Qe.update(ut)}else We instanceof de.Name&&Qe.update(We.name);const Je=Ge.get("Widths")||Ke.get("Widths");if(Array.isArray(Je)){const lt=[];for(const ut of Je)(typeof ut=="number"||ut instanceof de.Ref)&&lt.push(ut.toString());Qe.update(lt.join())}if(nt){Qe.update("compositeFont");const lt=Ge.get("W")||Ke.get("W");if(Array.isArray(lt)){const ft=[];for(const pt of lt)if(typeof pt=="number"||pt instanceof de.Ref)ft.push(pt.toString());else if(Array.isArray(pt)){const mt=[];for(const xt of pt)(typeof xt=="number"||xt instanceof de.Ref)&&mt.push(xt.toString());ft.push(`[${mt.join()}]`)}Qe.update(ft.join())}const ut=Ge.getRaw("CIDToGIDMap")||Ke.getRaw("CIDToGIDMap");ut instanceof de.Name?Qe.update(ut.name):ut instanceof de.Ref?Qe.update(ut.toString()):ut instanceof Ee.BaseStream&&Qe.update(ut.peekBytes())}}return{descriptor:ct,dict:Ge,baseDict:Ke,composite:nt,type:je.name,firstChar:rt,lastChar:et,toUnicode:We,hash:Qe?Qe.hexdigest():""}}async translateFont({descriptor:Ge,dict:Ke,baseDict:je,composite:nt,type:Qe,firstChar:We,lastChar:rt,toUnicode:et,cssFontInfo:ct}){const at=Qe==="Type3";let Je;if(!Ge)if(at)Ge=new de.Dict(null),Ge.set("FontName",de.Name.get(Qe)),Ge.set("FontBBox",Ke.getArray("FontBBox")||[0,0,0,0]);else{let Lt=Ke.get("BaseFont");if(!(Lt instanceof de.Name))throw new ae.FormatError("Base font is not specified");Lt=Lt.name.replace(/[,_]/g,"-");const jt=this.getBaseFontMetrics(Lt),Bt=Lt.split("-")[0],St=(this.isSerifFont(Bt)?re.FontFlags.Serif:0)|(jt.monospace?re.FontFlags.FixedPitch:0)|((0,ge.getSymbolsFonts)()[Bt]?re.FontFlags.Symbolic:re.FontFlags.Nonsymbolic);Je={type:Qe,name:Lt,loadedName:je.loadedName,widths:jt.widths,defaultWidth:jt.defaultWidth,isSimulatedFlags:!0,flags:St,firstChar:We,lastChar:rt,toUnicode:et,xHeight:0,capHeight:0,italicAngle:0,isType3Font:at};const Ft=Ke.get("Widths"),Ct=(0,ge.getStandardFontName)(Lt);let yt=null;return Ct&&(Je.isStandardFont=!0,yt=await this.fetchStandardFontData(Ct),Je.isInternalFont=!!yt),this.extractDataStructures(Ke,Ke,Je).then(bt=>{if(Ft){const Pt=[];let Ut=We;for(let Yt=0,kt=Ft.length;Yt<kt;Yt++)Pt[Ut++]=this.xref.fetchIfRef(Ft[Yt]);bt.widths=Pt}else bt.widths=this.buildCharCodeToWidth(jt.widths,bt);return new pe.Font(Lt,yt,bt)})}let lt=Ge.get("FontName"),ut=Ke.get("BaseFont");if(typeof lt=="string"&&(lt=de.Name.get(lt)),typeof ut=="string"&&(ut=de.Name.get(ut)),!at){const Lt=lt&&lt.name,jt=ut&&ut.name;Lt!==jt&&((0,ae.info)(`The FontDescriptor's FontName is "${Lt}" but should be the same as the Font's BaseFont "${jt}".`),Lt&&jt&&jt.startsWith(Lt)&&(lt=ut))}if(lt=lt||ut,!(lt instanceof de.Name))throw new ae.FormatError("invalid font name");let ft,pt,mt,xt,vt;try{ft=Ge.get("FontFile","FontFile2","FontFile3")}catch(Lt){if(!this.options.ignoreErrors)throw Lt;(0,ae.warn)(`translateFont - fetching "${lt.name}" font file: "${Lt}".`),ft=new _e.NullStream}let wt=!1,_t=!1,Tt=null;if(ft){if(ft.dict){const Lt=ft.dict.get("Subtype");Lt instanceof de.Name&&(pt=Lt.name),mt=ft.dict.get("Length1"),xt=ft.dict.get("Length2"),vt=ft.dict.get("Length3")}}else if(ct){const Lt=(0,be.getXfaFontName)(lt.name);Lt&&(ct.fontFamily=`${ct.fontFamily}-PdfJS-XFA`,ct.metrics=Lt.metrics||null,Tt=Lt.factors||null,ft=await this.fetchStandardFontData(Lt.name),_t=!!ft,je=Ke=(0,be.getXfaFontDict)(lt.name),nt=!0)}else if(!at){const Lt=(0,ge.getStandardFontName)(lt.name);Lt&&(wt=!0,ft=await this.fetchStandardFontData(Lt),_t=!!ft)}if(Je={type:Qe,name:lt.name,subtype:pt,file:ft,length1:mt,length2:xt,length3:vt,isStandardFont:wt,isInternalFont:_t,loadedName:je.loadedName,composite:nt,fixedPitch:!1,fontMatrix:Ke.getArray("FontMatrix")||ae.FONT_IDENTITY_MATRIX,firstChar:We,lastChar:rt,toUnicode:et,bbox:Ge.getArray("FontBBox")||Ke.getArray("FontBBox"),ascent:Ge.get("Ascent"),descent:Ge.get("Descent"),xHeight:Ge.get("XHeight")||0,capHeight:Ge.get("CapHeight")||0,flags:Ge.get("Flags"),italicAngle:Ge.get("ItalicAngle")||0,isType3Font:at,cssFontInfo:ct,scaleFactors:Tt},nt){const Lt=je.get("Encoding");Lt instanceof de.Name&&(Je.cidEncoding=Lt.name);const jt=await he.CMapFactory.create({encoding:Lt,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Je.cMap=jt,Je.vertical=Je.cMap.vertical}return this.extractDataStructures(Ke,je,Je).then(Lt=>(this.extractWidths(Ke,Ge,Lt),new pe.Font(lt.name,ft,Lt)))}static buildFontPaths(Ge,Ke,je,nt){function Qe(We){const rt=`${Ge.loadedName}_path_${We}`;try{if(Ge.renderer.hasBuiltPath(We))return;je.send("commonobj",[rt,"FontPath",Ge.renderer.getPathJs(We)])}catch(et){if(nt.ignoreErrors){je.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.errorFontBuildPath}),(0,ae.warn)(`buildFontPaths - ignoring ${rt} glyph: "${et}".`);return}throw et}}for(const We of Ke){Qe(We.fontChar);const rt=We.accent;rt&&rt.fontChar&&Qe(rt.fontChar)}}static get fallbackFontDict(){const Ge=new de.Dict;return Ge.set("BaseFont",de.Name.get("PDFJS-FallbackFont")),Ge.set("Type",de.Name.get("FallbackType")),Ge.set("Subtype",de.Name.get("FallbackType")),Ge.set("Encoding",de.Name.get("WinAnsiEncoding")),(0,ae.shadow)(this,"fallbackFontDict",Ge)}}oe.PartialEvaluator=Ne;class qe{constructor({loadedName:Ge,font:Ke,dict:je,evaluatorOptions:nt}){this.loadedName=Ge,this.font=Ke,this.dict=je,this._evaluatorOptions=nt||Te,this.type3Loaded=null,this.type3Dependencies=Ke.isType3Font?new Set:null,this.sent=!1}send(Ge){this.sent||(this.sent=!0,Ge.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(Ge){this.font.data&&(this.font.disableFontFace=!0,Ne.buildFontPaths(this.font,this.font.glyphCacheValues,Ge,this._evaluatorOptions))}loadType3Data(Ge,Ke,je){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const nt=Ge.clone({ignoreErrors:!1});nt.parsingType3Font=!0;const Qe=new de.RefSet(Ge.type3FontRefs);this.dict.objId&&!Qe.has(this.dict.objId)&&Qe.put(this.dict.objId),nt.type3FontRefs=Qe;const We=this.font,rt=this.type3Dependencies;let et=Promise.resolve();const ct=this.dict.get("CharProcs"),at=this.dict.get("Resources")||Ke,Je=Object.create(null),lt=ae.Util.normalizeRect(We.bbox||[0,0,0,0]),ut=lt[2]-lt[0],ft=lt[3]-lt[1],pt=Math.hypot(ut,ft);for(const mt of ct.getKeys())et=et.then(()=>{const xt=ct.get(mt),vt=new Pe.OperatorList;return nt.getOperatorList({stream:xt,task:je,resources:at,operatorList:vt}).then(()=>{vt.fnArray[0]===ae.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(vt,pt),Je[mt]=vt.getIR();for(const wt of vt.dependencies)rt.add(wt)}).catch(function(wt){(0,ae.warn)(`Type3 font resource "${mt}" is not available.`);const _t=new Pe.OperatorList;Je[mt]=_t.getIR()})});return this.type3Loaded=et.then(()=>{We.charProcOperatorList=Je,this._bbox&&(We.isCharBBox=!0,We.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(Ge,Ke=NaN){const je=ae.Util.normalizeRect(Ge.argsArray[0].slice(2)),nt=je[2]-je[0],Qe=je[3]-je[1],We=Math.hypot(nt,Qe);nt===0||Qe===0?(Ge.fnArray.splice(0,1),Ge.argsArray.splice(0,1)):(Ke===0||Math.round(We/Ke)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],je[0]),this._bbox[1]=Math.min(this._bbox[1],je[1]),this._bbox[2]=Math.max(this._bbox[2],je[2]),this._bbox[3]=Math.max(this._bbox[3],je[3]));let rt=0,et=Ge.length;for(;rt<et;){switch(Ge.fnArray[rt]){case ae.OPS.setCharWidthAndBounds:break;case ae.OPS.setStrokeColorSpace:case ae.OPS.setFillColorSpace:case ae.OPS.setStrokeColor:case ae.OPS.setStrokeColorN:case ae.OPS.setFillColor:case ae.OPS.setFillColorN:case ae.OPS.setStrokeGray:case ae.OPS.setFillGray:case ae.OPS.setStrokeRGBColor:case ae.OPS.setFillRGBColor:case ae.OPS.setStrokeCMYKColor:case ae.OPS.setFillCMYKColor:case ae.OPS.shadingFill:case ae.OPS.setRenderingIntent:Ge.fnArray.splice(rt,1),Ge.argsArray.splice(rt,1),et--;continue;case ae.OPS.setGState:const[ct]=Ge.argsArray[rt];let at=0,Je=ct.length;for(;at<Je;){const[lt]=ct[at];switch(lt){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":ct.splice(at,1),Je--;continue}at++}break}rt++}}}class it{constructor(Ge=new Xe){this.state=Ge,this.stateStack=[]}save(){const Ge=this.state;this.stateStack.push(this.state),this.state=Ge.clone()}restore(){const Ge=this.stateStack.pop();Ge&&(this.state=Ge)}transform(Ge){this.state.ctm=ae.Util.transform(this.state.ctm,Ge)}}class tt{constructor(){this.ctm=new Float32Array(ae.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=ae.FONT_IDENTITY_MATRIX,this.textMatrix=ae.IDENTITY_MATRIX.slice(),this.textLineMatrix=ae.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(Ge,Ke,je,nt,Qe,We){const rt=this.textMatrix;rt[0]=Ge,rt[1]=Ke,rt[2]=je,rt[3]=nt,rt[4]=Qe,rt[5]=We}setTextLineMatrix(Ge,Ke,je,nt,Qe,We){const rt=this.textLineMatrix;rt[0]=Ge,rt[1]=Ke,rt[2]=je,rt[3]=nt,rt[4]=Qe,rt[5]=We}translateTextMatrix(Ge,Ke){const je=this.textMatrix;je[4]=je[0]*Ge+je[2]*Ke+je[4],je[5]=je[1]*Ge+je[3]*Ke+je[5]}translateTextLineMatrix(Ge,Ke){const je=this.textLineMatrix;je[4]=je[0]*Ge+je[2]*Ke+je[4],je[5]=je[1]*Ge+je[3]*Ke+je[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const Ge=Object.create(this);return Ge.textMatrix=this.textMatrix.slice(),Ge.textLineMatrix=this.textLineMatrix.slice(),Ge.fontMatrix=this.fontMatrix.slice(),Ge}}class Xe{constructor(){this.ctm=new Float32Array(ae.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=ae.TextRenderingMode.FILL,this.fillColorSpace=ye.ColorSpace.singletons.gray,this.strokeColorSpace=ye.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class Ze{static get opMap(){const Ge=(0,ke.getLookupTableFactory)(function(Ke){Ke.w={id:ae.OPS.setLineWidth,numArgs:1,variableArgs:!1},Ke.J={id:ae.OPS.setLineCap,numArgs:1,variableArgs:!1},Ke.j={id:ae.OPS.setLineJoin,numArgs:1,variableArgs:!1},Ke.M={id:ae.OPS.setMiterLimit,numArgs:1,variableArgs:!1},Ke.d={id:ae.OPS.setDash,numArgs:2,variableArgs:!1},Ke.ri={id:ae.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},Ke.i={id:ae.OPS.setFlatness,numArgs:1,variableArgs:!1},Ke.gs={id:ae.OPS.setGState,numArgs:1,variableArgs:!1},Ke.q={id:ae.OPS.save,numArgs:0,variableArgs:!1},Ke.Q={id:ae.OPS.restore,numArgs:0,variableArgs:!1},Ke.cm={id:ae.OPS.transform,numArgs:6,variableArgs:!1},Ke.m={id:ae.OPS.moveTo,numArgs:2,variableArgs:!1},Ke.l={id:ae.OPS.lineTo,numArgs:2,variableArgs:!1},Ke.c={id:ae.OPS.curveTo,numArgs:6,variableArgs:!1},Ke.v={id:ae.OPS.curveTo2,numArgs:4,variableArgs:!1},Ke.y={id:ae.OPS.curveTo3,numArgs:4,variableArgs:!1},Ke.h={id:ae.OPS.closePath,numArgs:0,variableArgs:!1},Ke.re={id:ae.OPS.rectangle,numArgs:4,variableArgs:!1},Ke.S={id:ae.OPS.stroke,numArgs:0,variableArgs:!1},Ke.s={id:ae.OPS.closeStroke,numArgs:0,variableArgs:!1},Ke.f={id:ae.OPS.fill,numArgs:0,variableArgs:!1},Ke.F={id:ae.OPS.fill,numArgs:0,variableArgs:!1},Ke["f*"]={id:ae.OPS.eoFill,numArgs:0,variableArgs:!1},Ke.B={id:ae.OPS.fillStroke,numArgs:0,variableArgs:!1},Ke["B*"]={id:ae.OPS.eoFillStroke,numArgs:0,variableArgs:!1},Ke.b={id:ae.OPS.closeFillStroke,numArgs:0,variableArgs:!1},Ke["b*"]={id:ae.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},Ke.n={id:ae.OPS.endPath,numArgs:0,variableArgs:!1},Ke.W={id:ae.OPS.clip,numArgs:0,variableArgs:!1},Ke["W*"]={id:ae.OPS.eoClip,numArgs:0,variableArgs:!1},Ke.BT={id:ae.OPS.beginText,numArgs:0,variableArgs:!1},Ke.ET={id:ae.OPS.endText,numArgs:0,variableArgs:!1},Ke.Tc={id:ae.OPS.setCharSpacing,numArgs:1,variableArgs:!1},Ke.Tw={id:ae.OPS.setWordSpacing,numArgs:1,variableArgs:!1},Ke.Tz={id:ae.OPS.setHScale,numArgs:1,variableArgs:!1},Ke.TL={id:ae.OPS.setLeading,numArgs:1,variableArgs:!1},Ke.Tf={id:ae.OPS.setFont,numArgs:2,variableArgs:!1},Ke.Tr={id:ae.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ke.Ts={id:ae.OPS.setTextRise,numArgs:1,variableArgs:!1},Ke.Td={id:ae.OPS.moveText,numArgs:2,variableArgs:!1},Ke.TD={id:ae.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Ke.Tm={id:ae.OPS.setTextMatrix,numArgs:6,variableArgs:!1},Ke["T*"]={id:ae.OPS.nextLine,numArgs:0,variableArgs:!1},Ke.Tj={id:ae.OPS.showText,numArgs:1,variableArgs:!1},Ke.TJ={id:ae.OPS.showSpacedText,numArgs:1,variableArgs:!1},Ke["'"]={id:ae.OPS.nextLineShowText,numArgs:1,variableArgs:!1},Ke['"']={id:ae.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},Ke.d0={id:ae.OPS.setCharWidth,numArgs:2,variableArgs:!1},Ke.d1={id:ae.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},Ke.CS={id:ae.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},Ke.cs={id:ae.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},Ke.SC={id:ae.OPS.setStrokeColor,numArgs:4,variableArgs:!0},Ke.SCN={id:ae.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},Ke.sc={id:ae.OPS.setFillColor,numArgs:4,variableArgs:!0},Ke.scn={id:ae.OPS.setFillColorN,numArgs:33,variableArgs:!0},Ke.G={id:ae.OPS.setStrokeGray,numArgs:1,variableArgs:!1},Ke.g={id:ae.OPS.setFillGray,numArgs:1,variableArgs:!1},Ke.RG={id:ae.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},Ke.rg={id:ae.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},Ke.K={id:ae.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},Ke.k={id:ae.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},Ke.sh={id:ae.OPS.shadingFill,numArgs:1,variableArgs:!1},Ke.BI={id:ae.OPS.beginInlineImage,numArgs:0,variableArgs:!1},Ke.ID={id:ae.OPS.beginImageData,numArgs:0,variableArgs:!1},Ke.EI={id:ae.OPS.endInlineImage,numArgs:1,variableArgs:!1},Ke.Do={id:ae.OPS.paintXObject,numArgs:1,variableArgs:!1},Ke.MP={id:ae.OPS.markPoint,numArgs:1,variableArgs:!1},Ke.DP={id:ae.OPS.markPointProps,numArgs:2,variableArgs:!1},Ke.BMC={id:ae.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},Ke.BDC={id:ae.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},Ke.EMC={id:ae.OPS.endMarkedContent,numArgs:0,variableArgs:!1},Ke.BX={id:ae.OPS.beginCompat,numArgs:0,variableArgs:!1},Ke.EX={id:ae.OPS.endCompat,numArgs:0,variableArgs:!1},Ke.BM=null,Ke.BD=null,Ke.true=null,Ke.fa=null,Ke.fal=null,Ke.fals=null,Ke.false=null,Ke.nu=null,Ke.nul=null,Ke.null=null});return(0,ae.shadow)(this,"opMap",Ge())}static get MAX_INVALID_PATH_OPS(){return(0,ae.shadow)(this,"MAX_INVALID_PATH_OPS",10)}constructor(Ge,Ke,je=new it){this.parser=new we.Parser({lexer:new we.Lexer(Ge,Ze.opMap),xref:Ke}),this.stateManager=je,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(Ge){let Ke=Ge.args;for(;;){const je=this.parser.getObj();if(je instanceof de.Cmd){const nt=je.cmd,Qe=Ze.opMap[nt];if(!Qe){(0,ae.warn)(`Unknown command "${nt}".`);continue}const We=Qe.id,rt=Qe.numArgs;let et=Ke!==null?Ke.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=We>=ae.OPS.moveTo&&We<=ae.OPS.endPath,Qe.variableArgs)et>rt&&(0,ae.info)(`Command ${nt}: expected [0, ${rt}] args, but received ${et} args.`);else{if(et!==rt){const ct=this.nonProcessedArgs;for(;et>rt;)ct.push(Ke.shift()),et--;for(;et<rt&&ct.length!==0;)Ke===null&&(Ke=[]),Ke.unshift(ct.pop()),et++}if(et<rt){const ct=`command ${nt}: expected ${rt} args, but received ${et} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>Ze.MAX_INVALID_PATH_OPS)throw new ae.FormatError(`Invalid ${ct}`);(0,ae.warn)(`Skipping ${ct}`),Ke!==null&&(Ke.length=0);continue}}return this.preprocessCommand(We,Ke),Ge.fn=We,Ge.args=Ke,!0}if(je===de.EOF)return!1;if(je!==null&&(Ke===null&&(Ke=[]),Ke.push(je),Ke.length>33))throw new ae.FormatError("Too many arguments")}}preprocessCommand(Ge,Ke){switch(Ge|0){case ae.OPS.save:this.stateManager.save();break;case ae.OPS.restore:this.stateManager.restore();break;case ae.OPS.transform:this.stateManager.transform(Ke);break}}}oe.EvaluatorPreprocessor=Ze},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.IdentityCMap=oe.CMapFactory=oe.CMap=void 0;var ae=ce(2),he=ce(5),de=ce(7),pe=ce(17),re=ce(6),Ae=ce(10);const ge=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],Se=2**24-1;class fe{constructor(Fe=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=Fe}addCodespaceRange(Fe,_e,Ee){this.codespaceRanges[Fe-1].push(_e,Ee),this.numCodespaceRanges++}mapCidRange(Fe,_e,Ee){if(_e-Fe>Se)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;Fe<=_e;)this._map[Fe++]=Ee++}mapBfRange(Fe,_e,Ee){if(_e-Fe>Se)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const Ce=Ee.length-1;for(;Fe<=_e;){this._map[Fe++]=Ee;const ye=Ee.charCodeAt(Ce)+1;if(ye>255){Ee=Ee.substring(0,Ce-1)+String.fromCharCode(Ee.charCodeAt(Ce-1)+1)+"\0";continue}Ee=Ee.substring(0,Ce)+String.fromCharCode(ye)}}mapBfRangeToArray(Fe,_e,Ee){if(_e-Fe>Se)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const Ce=Ee.length;let ye=0;for(;Fe<=_e&&ye<Ce;)this._map[Fe]=Ee[ye++],++Fe}mapOne(Fe,_e){this._map[Fe]=_e}lookup(Fe){return this._map[Fe]}contains(Fe){return this._map[Fe]!==void 0}forEach(Fe){const _e=this._map,Ee=_e.length;if(Ee<=65536)for(let Ce=0;Ce<Ee;Ce++)_e[Ce]!==void 0&&Fe(Ce,_e[Ce]);else for(const Ce in _e)Fe(Ce,_e[Ce])}charCodeOf(Fe){const _e=this._map;if(_e.length<=65536)return _e.indexOf(Fe);for(const Ee in _e)if(_e[Ee]===Fe)return Ee|0;return-1}getMap(){return this._map}readCharCode(Fe,_e,Ee){let Ce=0;const ye=this.codespaceRanges;for(let Re=0,Ye=ye.length;Re<Ye;Re++){Ce=(Ce<<8|Fe.charCodeAt(_e+Re))>>>0;const ke=ye[Re];for(let $e=0,Be=ke.length;$e<Be;){const Pe=ke[$e++],Ue=ke[$e++];if(Ce>=Pe&&Ce<=Ue){Ee.charcode=Ce,Ee.length=Re+1;return}}}Ee.charcode=0,Ee.length=1}getCharCodeLength(Fe){const _e=this.codespaceRanges;for(let Ee=0,Ce=_e.length;Ee<Ce;Ee++){const ye=_e[Ee];for(let Re=0,Ye=ye.length;Re<Ye;){const ke=ye[Re++],$e=ye[Re++];if(Fe>=ke&&Fe<=$e)return Ee+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let Fe=0;Fe<65536;Fe++)if(this._map[Fe]!==Fe)return!1;return!0}}oe.CMap=fe;class be extends fe{constructor(Fe,_e){super(),this.vertical=Fe,this.addCodespaceRange(_e,0,65535)}mapCidRange(Fe,_e,Ee){(0,ae.unreachable)("should not call mapCidRange")}mapBfRange(Fe,_e,Ee){(0,ae.unreachable)("should not call mapBfRange")}mapBfRangeToArray(Fe,_e,Ee){(0,ae.unreachable)("should not call mapBfRangeToArray")}mapOne(Fe,_e){(0,ae.unreachable)("should not call mapCidOne")}lookup(Fe){return Number.isInteger(Fe)&&Fe<=65535?Fe:void 0}contains(Fe){return Number.isInteger(Fe)&&Fe<=65535}forEach(Fe){for(let _e=0;_e<=65535;_e++)Fe(_e,_e)}charCodeOf(Fe){return Number.isInteger(Fe)&&Fe<=65535?Fe:-1}getMap(){const Fe=new Array(65536);for(let _e=0;_e<=65535;_e++)Fe[_e]=_e;return Fe}get length(){return 65536}get isIdentityCMap(){(0,ae.unreachable)("should not access .isIdentityCMap")}}oe.IdentityCMap=be;const xe=function(){function Fe($e,Be){let Pe=0;for(let Ue=0;Ue<=Be;Ue++)Pe=Pe<<8|$e[Ue];return Pe>>>0}function _e($e,Be){return Be===1?String.fromCharCode($e[0],$e[1]):Be===3?String.fromCharCode($e[0],$e[1],$e[2],$e[3]):String.fromCharCode.apply(null,$e.subarray(0,Be+1))}function Ee($e,Be,Pe){let Ue=0;for(let Te=Pe;Te>=0;Te--)Ue+=$e[Te]+Be[Te],$e[Te]=Ue&255,Ue>>=8}function Ce($e,Be){let Pe=1;for(let Ue=Be;Ue>=0&&Pe>0;Ue--)Pe+=$e[Ue],$e[Ue]=Pe&255,Pe>>=8}const ye=16,Re=19;class Ye{constructor(Be){this.buffer=Be,this.pos=0,this.end=Be.length,this.tmpBuf=new Uint8Array(Re)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let Be=0,Pe;do{const Ue=this.readByte();if(Ue<0)throw new ae.FormatError("unexpected EOF in bcmap");Pe=!(Ue&128),Be=Be<<7|Ue&127}while(!Pe);return Be}readSigned(){const Be=this.readNumber();return Be&1?~(Be>>>1):Be>>>1}readHex(Be,Pe){Be.set(this.buffer.subarray(this.pos,this.pos+Pe+1)),this.pos+=Pe+1}readHexNumber(Be,Pe){let Ue;const Te=this.tmpBuf;let Me=0;do{const Le=this.readByte();if(Le<0)throw new ae.FormatError("unexpected EOF in bcmap");Ue=!(Le&128),Te[Me++]=Le&127}while(!Ue);let Ve=Pe,He=0,Ie=0;for(;Ve>=0;){for(;Ie<8&&Te.length>0;)He|=Te[--Me]<<Ie,Ie+=7;Be[Ve]=He&255,Ve--,He>>=8,Ie-=8}}readHexSigned(Be,Pe){this.readHexNumber(Be,Pe);const Ue=Be[Pe]&1?255:0;let Te=0;for(let Me=0;Me<=Pe;Me++)Te=(Te&1)<<8|Be[Me],Be[Me]=Te>>1^Ue}readString(){const Be=this.readNumber();let Pe="";for(let Ue=0;Ue<Be;Ue++)Pe+=String.fromCharCode(this.readNumber());return Pe}}class ke{async process(Be,Pe,Ue){const Te=new Ye(Be),Me=Te.readByte();Pe.vertical=!!(Me&1);let Ve=null;const He=new Uint8Array(ye),Ie=new Uint8Array(ye),Le=new Uint8Array(ye),Oe=new Uint8Array(ye),Ne=new Uint8Array(ye);let qe,it;for(;(it=Te.readByte())>=0;){const tt=it>>5;if(tt===7){switch(it&31){case 0:Te.readString();break;case 1:Ve=Te.readString();break}continue}const Xe=!!(it&16),Ze=it&15;if(Ze+1>ye)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const ot=1,Ge=Te.readNumber();switch(tt){case 0:Te.readHex(He,Ze),Te.readHexNumber(Ie,Ze),Ee(Ie,He,Ze),Pe.addCodespaceRange(Ze+1,Fe(He,Ze),Fe(Ie,Ze));for(let Ke=1;Ke<Ge;Ke++)Ce(Ie,Ze),Te.readHexNumber(He,Ze),Ee(He,Ie,Ze),Te.readHexNumber(Ie,Ze),Ee(Ie,He,Ze),Pe.addCodespaceRange(Ze+1,Fe(He,Ze),Fe(Ie,Ze));break;case 1:Te.readHex(He,Ze),Te.readHexNumber(Ie,Ze),Ee(Ie,He,Ze),Te.readNumber();for(let Ke=1;Ke<Ge;Ke++)Ce(Ie,Ze),Te.readHexNumber(He,Ze),Ee(He,Ie,Ze),Te.readHexNumber(Ie,Ze),Ee(Ie,He,Ze),Te.readNumber();break;case 2:Te.readHex(Le,Ze),qe=Te.readNumber(),Pe.mapOne(Fe(Le,Ze),qe);for(let Ke=1;Ke<Ge;Ke++)Ce(Le,Ze),Xe||(Te.readHexNumber(Ne,Ze),Ee(Le,Ne,Ze)),qe=Te.readSigned()+(qe+1),Pe.mapOne(Fe(Le,Ze),qe);break;case 3:Te.readHex(He,Ze),Te.readHexNumber(Ie,Ze),Ee(Ie,He,Ze),qe=Te.readNumber(),Pe.mapCidRange(Fe(He,Ze),Fe(Ie,Ze),qe);for(let Ke=1;Ke<Ge;Ke++)Ce(Ie,Ze),Xe?He.set(Ie):(Te.readHexNumber(He,Ze),Ee(He,Ie,Ze)),Te.readHexNumber(Ie,Ze),Ee(Ie,He,Ze),qe=Te.readNumber(),Pe.mapCidRange(Fe(He,Ze),Fe(Ie,Ze),qe);break;case 4:Te.readHex(Le,ot),Te.readHex(Oe,Ze),Pe.mapOne(Fe(Le,ot),_e(Oe,Ze));for(let Ke=1;Ke<Ge;Ke++)Ce(Le,ot),Xe||(Te.readHexNumber(Ne,ot),Ee(Le,Ne,ot)),Ce(Oe,Ze),Te.readHexSigned(Ne,Ze),Ee(Oe,Ne,Ze),Pe.mapOne(Fe(Le,ot),_e(Oe,Ze));break;case 5:Te.readHex(He,ot),Te.readHexNumber(Ie,ot),Ee(Ie,He,ot),Te.readHex(Oe,Ze),Pe.mapBfRange(Fe(He,ot),Fe(Ie,ot),_e(Oe,Ze));for(let Ke=1;Ke<Ge;Ke++)Ce(Ie,ot),Xe?He.set(Ie):(Te.readHexNumber(He,ot),Ee(He,Ie,ot)),Te.readHexNumber(Ie,ot),Ee(Ie,He,ot),Te.readHex(Oe,Ze),Pe.mapBfRange(Fe(He,ot),Fe(Ie,ot),_e(Oe,Ze));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${tt}`)}}return Ve?Ue(Ve):Pe}}return ke}(),ue=function(){function Fe(Me){let Ve=0;for(let He=0;He<Me.length;He++)Ve=Ve<<8|Me.charCodeAt(He);return Ve>>>0}function _e(Me){if(typeof Me!="string")throw new ae.FormatError("Malformed CMap: expected string.")}function Ee(Me){if(!Number.isInteger(Me))throw new ae.FormatError("Malformed CMap: expected int.")}function Ce(Me,Ve){for(;;){let He=Ve.getObj();if(He===he.EOF)break;if((0,he.isCmd)(He,"endbfchar"))return;_e(He);const Ie=Fe(He);He=Ve.getObj(),_e(He);const Le=He;Me.mapOne(Ie,Le)}}function ye(Me,Ve){for(;;){let He=Ve.getObj();if(He===he.EOF)break;if((0,he.isCmd)(He,"endbfrange"))return;_e(He);const Ie=Fe(He);He=Ve.getObj(),_e(He);const Le=Fe(He);if(He=Ve.getObj(),Number.isInteger(He)||typeof He=="string"){const Oe=Number.isInteger(He)?String.fromCharCode(He):He;Me.mapBfRange(Ie,Le,Oe)}else if((0,he.isCmd)(He,"[")){He=Ve.getObj();const Oe=[];for(;!(0,he.isCmd)(He,"]")&&He!==he.EOF;)Oe.push(He),He=Ve.getObj();Me.mapBfRangeToArray(Ie,Le,Oe)}else break}throw new ae.FormatError("Invalid bf range.")}function Re(Me,Ve){for(;;){let He=Ve.getObj();if(He===he.EOF)break;if((0,he.isCmd)(He,"endcidchar"))return;_e(He);const Ie=Fe(He);He=Ve.getObj(),Ee(He);const Le=He;Me.mapOne(Ie,Le)}}function Ye(Me,Ve){for(;;){let He=Ve.getObj();if(He===he.EOF)break;if((0,he.isCmd)(He,"endcidrange"))return;_e(He);const Ie=Fe(He);He=Ve.getObj(),_e(He);const Le=Fe(He);He=Ve.getObj(),Ee(He);const Oe=He;Me.mapCidRange(Ie,Le,Oe)}}function ke(Me,Ve){for(;;){let He=Ve.getObj();if(He===he.EOF)break;if((0,he.isCmd)(He,"endcodespacerange"))return;if(typeof He!="string")break;const Ie=Fe(He);if(He=Ve.getObj(),typeof He!="string")break;const Le=Fe(He);Me.addCodespaceRange(He.length,Ie,Le)}throw new ae.FormatError("Invalid codespace range.")}function $e(Me,Ve){const He=Ve.getObj();Number.isInteger(He)&&(Me.vertical=!!He)}function Be(Me,Ve){const He=Ve.getObj();He instanceof he.Name&&(Me.name=He.name)}async function Pe(Me,Ve,He,Ie){let Le,Oe;e:for(;;)try{const Ne=Ve.getObj();if(Ne===he.EOF)break;if(Ne instanceof he.Name)Ne.name==="WMode"?$e(Me,Ve):Ne.name==="CMapName"&&Be(Me,Ve),Le=Ne;else if(Ne instanceof he.Cmd)switch(Ne.cmd){case"endcmap":break e;case"usecmap":Le instanceof he.Name&&(Oe=Le.name);break;case"begincodespacerange":ke(Me,Ve);break;case"beginbfchar":Ce(Me,Ve);break;case"begincidchar":Re(Me,Ve);break;case"beginbfrange":ye(Me,Ve);break;case"begincidrange":Ye(Me,Ve);break}}catch(Ne){if(Ne instanceof re.MissingDataException)throw Ne;(0,ae.warn)("Invalid cMap data: "+Ne);continue}return!Ie&&Oe&&(Ie=Oe),Ie?Ue(Me,He,Ie):Me}async function Ue(Me,Ve,He){if(Me.useCMap=await Te(He,Ve),Me.numCodespaceRanges===0){const Ie=Me.useCMap.codespaceRanges;for(let Le=0;Le<Ie.length;Le++)Me.codespaceRanges[Le]=Ie[Le].slice();Me.numCodespaceRanges=Me.useCMap.numCodespaceRanges}return Me.useCMap.forEach(function(Ie,Le){Me.contains(Ie)||Me.mapOne(Ie,Me.useCMap.lookup(Ie))}),Me}async function Te(Me,Ve){if(Me==="Identity-H")return new be(!1,2);if(Me==="Identity-V")return new be(!0,2);if(!ge.includes(Me))throw new Error("Unknown CMap name: "+Me);if(!Ve)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:He,compressionType:Ie}=await Ve(Me),Le=new fe(!0);if(Ie===ae.CMapCompressionType.BINARY)return new xe().process(He,Le,Oe=>Ue(Le,Ve,Oe));if(Ie===ae.CMapCompressionType.NONE){const Oe=new pe.Lexer(new Ae.Stream(He));return Pe(Le,Oe,Ve,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(Me){const Ve=Me.encoding,He=Me.fetchBuiltInCMap,Ie=Me.useCMap;if(Ve instanceof he.Name)return Te(Ve.name,He);if(Ve instanceof de.BaseStream){const Le=await Pe(new fe,new pe.Lexer(Ve),He,Ie);return Le.isIdentityCMap?Te(Le.name,He):Le}throw new Error("Encoding required.")}}}();oe.CMapFactory=ue},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Parser=oe.Linearization=oe.Lexer=void 0;var ae=ce(2),he=ce(5),de=ce(6),pe=ce(18),re=ce(20),Ae=ce(21),ge=ce(23),Se=ce(24),fe=ce(27),be=ce(29),xe=ce(31),ue=ce(10),we=ce(32),Fe=ce(33);const _e=1e3,Ee=5552;function Ce(Be){const Pe=Be.length;let Ue=1,Te=0;for(let Me=0;Me<Pe;++Me)Ue+=Be[Me]&255,Te+=Ue;return Te%65521<<16|Ue%65521}class ye{constructor({lexer:Pe,xref:Ue,allowStreams:Te=!1,recoveryMode:Me=!1}){this.lexer=Pe,this.xref=Ue,this.allowStreams=Te,this.recoveryMode=Me,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof he.Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(Pe){if(Pe instanceof de.MissingDataException)throw Pe;return!1}}getObj(Pe=null){const Ue=this.buf1;if(this.shift(),Ue instanceof he.Cmd)switch(Ue.cmd){case"BI":return this.makeInlineImage(Pe);case"[":const Te=[];for(;!(0,he.isCmd)(this.buf1,"]")&&this.buf1!==he.EOF;)Te.push(this.getObj(Pe));if(this.buf1===he.EOF){if(this.recoveryMode)return Te;throw new de.ParserEOFException("End of file inside array.")}return this.shift(),Te;case"<<":const Me=new he.Dict(this.xref);for(;!(0,he.isCmd)(this.buf1,">>")&&this.buf1!==he.EOF;){if(!(this.buf1 instanceof he.Name)){(0,ae.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const Ve=this.buf1.name;if(this.shift(),this.buf1===he.EOF)break;Me.set(Ve,this.getObj(Pe))}if(this.buf1===he.EOF){if(this.recoveryMode)return Me;throw new de.ParserEOFException("End of file inside dictionary.")}return(0,he.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(Me,Pe):Me:(this.shift(),Me);default:return Ue}if(Number.isInteger(Ue)){if(Number.isInteger(this.buf1)&&(0,he.isCmd)(this.buf2,"R")){const Te=he.Ref.get(Ue,this.buf1);return this.shift(),this.shift(),Te}return Ue}return typeof Ue=="string"&&Pe?Pe.decryptString(Ue):Ue}findDefaultInlineStreamEnd(Pe){const Le=this.lexer,Oe=Pe.pos,Ne=10;let qe=0,it,tt;for(;(it=Pe.getByte())!==-1;)if(qe===0)qe=it===69?1:0;else if(qe===1)qe=it===73?2:0;else if((0,ae.assert)(qe===2,"findDefaultInlineStreamEnd - invalid state."),it===32||it===10||it===13){tt=Pe.pos;const Ze=Pe.peekBytes(Ne);for(let ot=0,Ge=Ze.length;ot<Ge;ot++)if(it=Ze[ot],!(it===0&&Ze[ot+1]!==0)&&it!==10&&it!==13&&(it<32||it>127)){qe=0;break}if(qe!==2)continue;if(Le.knownCommands){const ot=Le.peekObj();ot instanceof he.Cmd&&!Le.knownCommands[ot.cmd]&&(qe=0)}else(0,ae.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(qe===2)break}else qe=0;it===-1&&((0,ae.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),tt&&((0,ae.warn)('... trying to recover by using the last "EI" occurrence.'),Pe.skip(-(Pe.pos-tt))));let Xe=4;return Pe.skip(-Xe),it=Pe.peekByte(),Pe.skip(Xe),(0,de.isWhiteSpace)(it)||Xe--,Pe.pos-Xe-Oe}findDCTDecodeInlineStreamEnd(Pe){const Ue=Pe.pos;let Te=!1,Me,Ve;for(;(Me=Pe.getByte())!==-1;)if(Me===255){switch(Pe.getByte()){case 0:break;case 255:Pe.skip(-1);break;case 217:Te=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:Ve=Pe.getUint16(),Ve>2?Pe.skip(Ve-2):Pe.skip(-2);break}if(Te)break}const He=Pe.pos-Ue;return Me===-1?((0,ae.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),Pe.skip(-He),this.findDefaultInlineStreamEnd(Pe)):(this.inlineStreamSkipEI(Pe),He)}findASCII85DecodeInlineStreamEnd(Pe){const Me=Pe.pos;let Ve;for(;(Ve=Pe.getByte())!==-1;)if(Ve===126){const Ie=Pe.pos;for(Ve=Pe.peekByte();(0,de.isWhiteSpace)(Ve);)Pe.skip(),Ve=Pe.peekByte();if(Ve===62){Pe.skip();break}if(Pe.pos>Ie){const Le=Pe.peekBytes(2);if(Le[0]===69&&Le[1]===73)break}}const He=Pe.pos-Me;return Ve===-1?((0,ae.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),Pe.skip(-He),this.findDefaultInlineStreamEnd(Pe)):(this.inlineStreamSkipEI(Pe),He)}findASCIIHexDecodeInlineStreamEnd(Pe){const Te=Pe.pos;let Me;for(;(Me=Pe.getByte())!==-1&&Me!==62;);const Ve=Pe.pos-Te;return Me===-1?((0,ae.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),Pe.skip(-Ve),this.findDefaultInlineStreamEnd(Pe)):(this.inlineStreamSkipEI(Pe),Ve)}inlineStreamSkipEI(Pe){let Me=0,Ve;for(;(Ve=Pe.getByte())!==-1;)if(Me===0)Me=Ve===69?1:0;else if(Me===1)Me=Ve===73?2:0;else if(Me===2)break}makeInlineImage(Pe){const Ue=this.lexer,Te=Ue.stream,Me=new he.Dict(this.xref);let Ve;for(;!(0,he.isCmd)(this.buf1,"ID")&&this.buf1!==he.EOF;){if(!(this.buf1 instanceof he.Name))throw new ae.FormatError("Dictionary key must be a name object");const it=this.buf1.name;if(this.shift(),this.buf1===he.EOF)break;Me.set(it,this.getObj(Pe))}Ue.beginInlineImagePos!==-1&&(Ve=Te.pos-Ue.beginInlineImagePos);const He=Me.get("F","Filter");let Ie;if(He instanceof he.Name)Ie=He.name;else if(Array.isArray(He)){const it=this.xref.fetchIfRef(He[0]);it instanceof he.Name&&(Ie=it.name)}const Le=Te.pos;let Oe;switch(Ie){case"DCT":case"DCTDecode":Oe=this.findDCTDecodeInlineStreamEnd(Te);break;case"A85":case"ASCII85Decode":Oe=this.findASCII85DecodeInlineStreamEnd(Te);break;case"AHx":case"ASCIIHexDecode":Oe=this.findASCIIHexDecodeInlineStreamEnd(Te);break;default:Oe=this.findDefaultInlineStreamEnd(Te)}let Ne=Te.makeSubStream(Le,Oe,Me),qe;if(Oe<_e&&Ve<Ee){const it=Ne.getBytes();Ne.reset();const tt=Te.pos;Te.pos=Ue.beginInlineImagePos;const Xe=Te.getBytes(Ve);Te.pos=tt,qe=Ce(it)+"_"+Ce(Xe);const Ze=this.imageCache[qe];if(Ze!==void 0)return this.buf2=he.Cmd.get("EI"),this.shift(),Ze.reset(),Ze}return Pe&&(Ne=Pe.createStream(Ne,Oe)),Ne=this.filter(Ne,Me,Oe),Ne.dict=Me,qe!==void 0&&(Ne.cacheKey=`inline_${Oe}_${qe}`,this.imageCache[qe]=Ne),this.buf2=he.Cmd.get("EI"),this.shift(),Ne}_findStreamLength(Pe,Ue){const{stream:Te}=this.lexer;Te.pos=Pe;const Me=2048,Ve=Ue.length;for(;Te.pos<Te.end;){const He=Te.peekBytes(Me),Ie=He.length-Ve;if(Ie<=0)break;let Le=0;for(;Le<Ie;){let Oe=0;for(;Oe<Ve&&He[Le+Oe]===Ue[Oe];)Oe++;if(Oe>=Ve)return Te.pos+=Le,Te.pos-Pe;Le++}Te.pos+=Ie}return-1}makeStream(Pe,Ue){const Te=this.lexer;let Me=Te.stream;Te.skipToNextLine();const Ve=Me.pos-1;let He=Pe.get("Length");if(Number.isInteger(He)||((0,ae.info)(`Bad length "${He&&He.toString()}" in stream.`),He=0),Me.pos=Ve+He,Te.nextChar(),this.tryShift()&&(0,he.isCmd)(this.buf2,"endstream"))this.shift();else{const Ie=new Uint8Array([101,110,100,115,116,114,101,97,109]);let Le=this._findStreamLength(Ve,Ie);if(Le<0){for(let Ne=1;Ne<=1;Ne++){const qe=Ie.length-Ne,it=Ie.slice(0,qe),tt=this._findStreamLength(Ve,it);if(tt>=0){const Xe=Me.peekBytes(qe+1)[qe];if(!(0,de.isWhiteSpace)(Xe))break;(0,ae.info)(`Found "${(0,ae.bytesToString)(it)}" when searching for endstream command.`),Le=tt;break}}if(Le<0)throw new ae.FormatError("Missing endstream command.")}He=Le,Te.nextChar(),this.shift(),this.shift()}return this.shift(),Me=Me.makeSubStream(Ve,He,Pe),Ue&&(Me=Ue.createStream(Me,He)),Me=this.filter(Me,Pe,He),Me.dict=Pe,Me}filter(Pe,Ue,Te){let Me=Ue.get("F","Filter"),Ve=Ue.get("DP","DecodeParms");if(Me instanceof he.Name)return Array.isArray(Ve)&&(0,ae.warn)("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(Pe,Me.name,Te,Ve);let He=Te;if(Array.isArray(Me)){const Ie=Me,Le=Ve;for(let Oe=0,Ne=Ie.length;Oe<Ne;++Oe){if(Me=this.xref.fetchIfRef(Ie[Oe]),!(Me instanceof he.Name))throw new ae.FormatError(`Bad filter name "${Me}"`);Ve=null,Array.isArray(Le)&&Oe in Le&&(Ve=this.xref.fetchIfRef(Le[Oe])),Pe=this.makeFilter(Pe,Me.name,He,Ve),He=null}}return Pe}makeFilter(Pe,Ue,Te,Me){if(Te===0)return(0,ae.warn)(`Empty "${Ue}" stream.`),new ue.NullStream;const Ve=this.xref.stats;try{switch(Ue){case"Fl":case"FlateDecode":return Ve.addStreamType(ae.StreamType.FLATE),Me?new we.PredictorStream(new ge.FlateStream(Pe,Te),Te,Me):new ge.FlateStream(Pe,Te);case"LZW":case"LZWDecode":Ve.addStreamType(ae.StreamType.LZW);let He=1;return Me?(Me.has("EarlyChange")&&(He=Me.get("EarlyChange")),new we.PredictorStream(new xe.LZWStream(Pe,Te,He),Te,Me)):new xe.LZWStream(Pe,Te,He);case"DCT":case"DCTDecode":return Ve.addStreamType(ae.StreamType.DCT),new fe.JpegStream(Pe,Te,Me);case"JPX":case"JPXDecode":return Ve.addStreamType(ae.StreamType.JPX),new be.JpxStream(Pe,Te,Me);case"A85":case"ASCII85Decode":return Ve.addStreamType(ae.StreamType.A85),new pe.Ascii85Stream(Pe,Te);case"AHx":case"ASCIIHexDecode":return Ve.addStreamType(ae.StreamType.AHX),new re.AsciiHexStream(Pe,Te);case"CCF":case"CCITTFaxDecode":return Ve.addStreamType(ae.StreamType.CCF),new Ae.CCITTFaxStream(Pe,Te,Me);case"RL":case"RunLengthDecode":return Ve.addStreamType(ae.StreamType.RLX),new Fe.RunLengthStream(Pe,Te);case"JBIG2Decode":return Ve.addStreamType(ae.StreamType.JBIG),new Se.Jbig2Stream(Pe,Te,Me)}return(0,ae.warn)(`Filter "${Ue}" is not supported.`),Pe}catch(He){if(He instanceof de.MissingDataException)throw He;return(0,ae.warn)(`Invalid stream: "${He}"`),new ue.NullStream}}}oe.Parser=ye;const Re=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Ye(Be){return Be>=48&&Be<=57?Be&15:Be>=65&&Be<=70||Be>=97&&Be<=102?(Be&15)+9:-1}class ke{constructor(Pe,Ue=null){this.stream=Pe,this.nextChar(),this.strBuf=[],this.knownCommands=Ue,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let Pe=this.currentChar,Ue=!1,Te=0,Me=0;if(Pe===45?(Me=-1,Pe=this.nextChar(),Pe===45&&(Pe=this.nextChar())):Pe===43&&(Me=1,Pe=this.nextChar()),Pe===10||Pe===13)do Pe=this.nextChar();while(Pe===10||Pe===13);if(Pe===46&&(Te=10,Pe=this.nextChar()),Pe<48||Pe>57){if((0,de.isWhiteSpace)(Pe)||Pe===-1){if(Te===10&&Me===0)return(0,ae.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;if(Te===0&&Me===-1)return(0,ae.warn)("Lexer.getNumber - treating a single minus sign as zero."),0}throw new ae.FormatError(`Invalid number: ${String.fromCharCode(Pe)} (charCode ${Pe})`)}Me=Me||1;let Ve=Pe-48,He=0,Ie=1;for(;(Pe=this.nextChar())>=0;)if(Pe>=48&&Pe<=57){const Le=Pe-48;Ue?He=He*10+Le:(Te!==0&&(Te*=10),Ve=Ve*10+Le)}else if(Pe===46)if(Te===0)Te=1;else break;else if(Pe===45)(0,ae.warn)("Badly formatted number: minus sign in the middle");else if(Pe===69||Pe===101){if(Pe=this.peekChar(),Pe===43||Pe===45)Ie=Pe===45?-1:1,this.nextChar();else if(Pe<48||Pe>57)break;Ue=!0}else break;return Te!==0&&(Ve/=Te),Ue&&(Ve*=10**(Ie*He)),Me*Ve}getString(){let Pe=1,Ue=!1;const Te=this.strBuf;Te.length=0;let Me=this.nextChar();for(;;){let Ve=!1;switch(Me|0){case-1:(0,ae.warn)("Unterminated string"),Ue=!0;break;case 40:++Pe,Te.push("(");break;case 41:--Pe===0?(this.nextChar(),Ue=!0):Te.push(")");break;case 92:switch(Me=this.nextChar(),Me){case-1:(0,ae.warn)("Unterminated string"),Ue=!0;break;case 110:Te.push(`
`);break;case 114:Te.push("\r");break;case 116:Te.push("	");break;case 98:Te.push("\b");break;case 102:Te.push("\f");break;case 92:case 40:case 41:Te.push(String.fromCharCode(Me));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let He=Me&15;Me=this.nextChar(),Ve=!0,Me>=48&&Me<=55&&(He=(He<<3)+(Me&15),Me=this.nextChar(),Me>=48&&Me<=55&&(Ve=!1,He=(He<<3)+(Me&15))),Te.push(String.fromCharCode(He));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:Te.push(String.fromCharCode(Me));break}break;default:Te.push(String.fromCharCode(Me));break}if(Ue)break;Ve||(Me=this.nextChar())}return Te.join("")}getName(){let Pe,Ue;const Te=this.strBuf;for(Te.length=0;(Pe=this.nextChar())>=0&&!Re[Pe];)if(Pe===35){if(Pe=this.nextChar(),Re[Pe]){(0,ae.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),Te.push("#");break}const Me=Ye(Pe);if(Me!==-1){Ue=Pe,Pe=this.nextChar();const Ve=Ye(Pe);if(Ve===-1){if((0,ae.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(Pe)}) in hexadecimal number.`),Te.push("#",String.fromCharCode(Ue)),Re[Pe])break;Te.push(String.fromCharCode(Pe));continue}Te.push(String.fromCharCode(Me<<4|Ve))}else Te.push("#",String.fromCharCode(Pe))}else Te.push(String.fromCharCode(Pe));return Te.length>127&&(0,ae.warn)(`Name token is longer than allowed by the spec: ${Te.length}`),he.Name.get(Te.join(""))}_hexStringWarn(Pe){if(this._hexStringNumWarn++===5){(0,ae.warn)("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||(0,ae.warn)(`getHexString - ignoring invalid character: ${Pe}`)}getHexString(){const Pe=this.strBuf;Pe.length=0;let Ue=this.currentChar,Te=!0,Me,Ve;for(this._hexStringNumWarn=0;;)if(Ue<0){(0,ae.warn)("Unterminated hex string");break}else if(Ue===62){this.nextChar();break}else if(Re[Ue]===1){Ue=this.nextChar();continue}else{if(Te){if(Me=Ye(Ue),Me===-1){this._hexStringWarn(Ue),Ue=this.nextChar();continue}}else{if(Ve=Ye(Ue),Ve===-1){this._hexStringWarn(Ue),Ue=this.nextChar();continue}Pe.push(String.fromCharCode(Me<<4|Ve))}Te=!Te,Ue=this.nextChar()}return Pe.join("")}getObj(){let Pe=!1,Ue=this.currentChar;for(;;){if(Ue<0)return he.EOF;if(Pe)(Ue===10||Ue===13)&&(Pe=!1);else if(Ue===37)Pe=!0;else if(Re[Ue]!==1)break;Ue=this.nextChar()}switch(Ue|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),he.Cmd.get("[");case 93:return this.nextChar(),he.Cmd.get("]");case 60:return Ue=this.nextChar(),Ue===60?(this.nextChar(),he.Cmd.get("<<")):this.getHexString();case 62:return Ue=this.nextChar(),Ue===62?(this.nextChar(),he.Cmd.get(">>")):he.Cmd.get(">");case 123:return this.nextChar(),he.Cmd.get("{");case 125:return this.nextChar(),he.Cmd.get("}");case 41:throw this.nextChar(),new ae.FormatError(`Illegal character: ${Ue}`)}let Te=String.fromCharCode(Ue);if(Ue<32||Ue>127){const He=this.peekChar();if(He>=32&&He<=127)return this.nextChar(),he.Cmd.get(Te)}const Me=this.knownCommands;let Ve=Me&&Me[Te]!==void 0;for(;(Ue=this.nextChar())>=0&&!Re[Ue];){const He=Te+String.fromCharCode(Ue);if(Ve&&Me[He]===void 0)break;if(Te.length===128)throw new ae.FormatError(`Command token too long: ${Te.length}`);Te=He,Ve=Me&&Me[Te]!==void 0}return Te==="true"?!0:Te==="false"?!1:Te==="null"?null:(Te==="BI"&&(this.beginInlineImagePos=this.stream.pos),he.Cmd.get(Te))}peekObj(){const Pe=this.stream.pos,Ue=this.currentChar,Te=this.beginInlineImagePos;let Me;try{Me=this.getObj()}catch(Ve){if(Ve instanceof de.MissingDataException)throw Ve;(0,ae.warn)(`peekObj: ${Ve}`)}return this.stream.pos=Pe,this.currentChar=Ue,this.beginInlineImagePos=Te,Me}skipToNextLine(){let Pe=this.currentChar;for(;Pe>=0;){if(Pe===13){Pe=this.nextChar(),Pe===10&&this.nextChar();break}else if(Pe===10){this.nextChar();break}Pe=this.nextChar()}}}oe.Lexer=ke;class $e{static create(Pe){function Ue(qe,it,tt=!1){const Xe=qe.get(it);if(Number.isInteger(Xe)&&(tt?Xe>=0:Xe>0))return Xe;throw new Error(`The "${it}" parameter in the linearization dictionary is invalid.`)}function Te(qe){const it=qe.get("H");let tt;if(Array.isArray(it)&&((tt=it.length)===2||tt===4)){for(let Xe=0;Xe<tt;Xe++){const Ze=it[Xe];if(!(Number.isInteger(Ze)&&Ze>0))throw new Error(`Hint (${Xe}) in the linearization dictionary is invalid.`)}return it}throw new Error("Hint array in the linearization dictionary is invalid.")}const Me=new ye({lexer:new ke(Pe),xref:null}),Ve=Me.getObj(),He=Me.getObj(),Ie=Me.getObj(),Le=Me.getObj();let Oe,Ne;if(Number.isInteger(Ve)&&Number.isInteger(He)&&(0,he.isCmd)(Ie,"obj")&&Le instanceof he.Dict&&typeof(Oe=Le.get("Linearized"))=="number"&&Oe>0){if((Ne=Ue(Le,"L"))!==Pe.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:Ne,hints:Te(Le),objectNumberFirst:Ue(Le,"O"),endFirst:Ue(Le,"E"),numPages:Ue(Le,"N"),mainXRefEntriesOffset:Ue(Le,"T"),pageFirst:Le.has("P")?Ue(Le,"P",!0):0}}}oe.Linearization=$e},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Ascii85Stream=void 0;var ae=ce(19),he=ce(6);class de extends ae.DecodeStream{constructor(re,Ae){Ae&&(Ae*=.8),super(Ae),this.str=re,this.dict=re.dict,this.input=new Uint8Array(5)}readBlock(){const Se=this.str;let fe=Se.getByte();for(;(0,he.isWhiteSpace)(fe);)fe=Se.getByte();if(fe===-1||fe===126){this.eof=!0;return}const be=this.bufferLength;let xe,ue;if(fe===122){for(xe=this.ensureBuffer(be+4),ue=0;ue<4;++ue)xe[be+ue]=0;this.bufferLength+=4}else{const we=this.input;for(we[0]=fe,ue=1;ue<5;++ue){for(fe=Se.getByte();(0,he.isWhiteSpace)(fe);)fe=Se.getByte();if(we[ue]=fe,fe===-1||fe===126)break}if(xe=this.ensureBuffer(be+ue-1),this.bufferLength+=ue-1,ue<5){for(;ue<5;++ue)we[ue]=117;this.eof=!0}let Fe=0;for(ue=0;ue<5;++ue)Fe=Fe*85+(we[ue]-33);for(ue=3;ue>=0;--ue)xe[be+ue]=Fe&255,Fe>>=8}}}oe.Ascii85Stream=de},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.StreamsSequenceStream=oe.DecodeStream=void 0;var ae=ce(7),he=ce(10);const de=new Uint8Array(0);class pe extends ae.BaseStream{constructor(ge){if(super(),this._rawMinBufferLength=ge||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=de,this.minBufferLength=512,ge)for(;this.minBufferLength<ge;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(ge){const Se=this.buffer;if(ge<=Se.byteLength)return Se;let fe=this.minBufferLength;for(;fe<ge;)fe*=2;const be=new Uint8Array(fe);return be.set(Se),this.buffer=be}getByte(){const ge=this.pos;for(;this.bufferLength<=ge;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(ge){const Se=this.pos;let fe;if(ge){for(this.ensureBuffer(Se+ge),fe=Se+ge;!this.eof&&this.bufferLength<fe;)this.readBlock();const be=this.bufferLength;fe>be&&(fe=be)}else{for(;!this.eof;)this.readBlock();fe=this.bufferLength}return this.pos=fe,this.buffer.subarray(Se,fe)}reset(){this.pos=0}makeSubStream(ge,Se,fe=null){if(Se===void 0)for(;!this.eof;)this.readBlock();else{const be=ge+Se;for(;this.bufferLength<=be&&!this.eof;)this.readBlock()}return new he.Stream(this.buffer,ge,Se,fe)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}oe.DecodeStream=pe;class re extends pe{constructor(ge,Se=null){let fe=0;for(const be of ge)fe+=be instanceof pe?be._rawMinBufferLength:be.length;super(fe),this.streams=ge,this._onError=Se}readBlock(){const ge=this.streams;if(ge.length===0){this.eof=!0;return}const Se=ge.shift();let fe;try{fe=Se.getBytes()}catch(we){if(this._onError){this._onError(we,Se.dict&&Se.dict.objId);return}throw we}const be=this.bufferLength,xe=be+fe.length;this.ensureBuffer(xe).set(fe,be),this.bufferLength=xe}getBaseStreams(){const ge=[];for(const Se of this.streams){const fe=Se.getBaseStreams();fe&&ge.push(...fe)}return ge.length>0?ge:null}}oe.StreamsSequenceStream=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.AsciiHexStream=void 0;var ae=ce(19);class he extends ae.DecodeStream{constructor(pe,re){re&&(re*=.5),super(re),this.str=pe,this.dict=pe.dict,this.firstDigit=-1}readBlock(){const re=this.str.getBytes(8e3);if(!re.length){this.eof=!0;return}const Ae=re.length+1>>1,ge=this.ensureBuffer(this.bufferLength+Ae);let Se=this.bufferLength,fe=this.firstDigit;for(const be of re){let xe;if(be>=48&&be<=57)xe=be&15;else if(be>=65&&be<=70||be>=97&&be<=102)xe=(be&15)+9;else if(be===62){this.eof=!0;break}else continue;fe<0?fe=xe:(ge[Se++]=fe<<4|xe,fe=-1)}fe>=0&&this.eof&&(ge[Se++]=fe<<4,fe=-1),this.firstDigit=fe,this.bufferLength=Se}}oe.AsciiHexStream=he},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.CCITTFaxStream=void 0;var ae=ce(22),he=ce(19),de=ce(5);class pe extends he.DecodeStream{constructor(Ae,ge,Se){super(ge),this.str=Ae,this.dict=Ae.dict,Se instanceof de.Dict||(Se=de.Dict.empty);const fe={next(){return Ae.getByte()}};this.ccittFaxDecoder=new ae.CCITTFaxDecoder(fe,{K:Se.get("K"),EndOfLine:Se.get("EndOfLine"),EncodedByteAlign:Se.get("EncodedByteAlign"),Columns:Se.get("Columns"),Rows:Se.get("Rows"),EndOfBlock:Se.get("EndOfBlock"),BlackIs1:Se.get("BlackIs1")})}readBlock(){for(;!this.eof;){const Ae=this.ccittFaxDecoder.readNextChar();if(Ae===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=Ae}}}oe.CCITTFaxStream=pe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.CCITTFaxDecoder=void 0;var ae=ce(2);const he=-2,de=-1,pe=0,re=1,Ae=2,ge=3,Se=4,fe=5,be=6,xe=7,ue=8,we=[[-1,-1],[-1,-1],[7,ue],[7,xe],[6,be],[6,be],[6,fe],[6,fe],[4,pe],[4,pe],[4,pe],[4,pe],[4,pe],[4,pe],[4,pe],[4,pe],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,re],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,Se],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[3,ge],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae],[1,Ae]],Fe=[[-1,-1],[12,he],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],_e=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],Ee=[[-1,-1],[-1,-1],[12,he],[12,he],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],Ce=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],ye=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class Re{constructor(ke,$e={}){if(!ke||typeof ke.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=ke,this.eof=!1,this.encoding=$e.K||0,this.eoline=$e.EndOfLine||!1,this.byteAlign=$e.EncodedByteAlign||!1,this.columns=$e.Columns||1728,this.rows=$e.Rows||0;let Be=$e.EndOfBlock;Be==null&&(Be=!0),this.eoblock=Be,this.black=$e.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let Pe;for(;(Pe=this._lookBits(12))===0;)this._eatBits(1);Pe===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const ke=this.refLine,$e=this.codingLine,Be=this.columns;let Pe,Ue,Te,Me;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let He,Ie,Le;if(this.nextLine2D){for(Me=0;$e[Me]<Be;++Me)ke[Me]=$e[Me];for(ke[Me++]=Be,ke[Me]=Be,$e[0]=0,this.codingPos=0,Pe=0,Ue=0;$e[this.codingPos]<Be;)switch(He=this._getTwoDimCode(),He){case pe:this._addPixels(ke[Pe+1],Ue),ke[Pe+1]<Be&&(Pe+=2);break;case re:if(He=Ie=0,Ue){do He+=Le=this._getBlackCode();while(Le>=64);do Ie+=Le=this._getWhiteCode();while(Le>=64)}else{do He+=Le=this._getWhiteCode();while(Le>=64);do Ie+=Le=this._getBlackCode();while(Le>=64)}for(this._addPixels($e[this.codingPos]+He,Ue),$e[this.codingPos]<Be&&this._addPixels($e[this.codingPos]+Ie,Ue^1);ke[Pe]<=$e[this.codingPos]&&ke[Pe]<Be;)Pe+=2;break;case xe:if(this._addPixels(ke[Pe]+3,Ue),Ue^=1,$e[this.codingPos]<Be)for(++Pe;ke[Pe]<=$e[this.codingPos]&&ke[Pe]<Be;)Pe+=2;break;case fe:if(this._addPixels(ke[Pe]+2,Ue),Ue^=1,$e[this.codingPos]<Be)for(++Pe;ke[Pe]<=$e[this.codingPos]&&ke[Pe]<Be;)Pe+=2;break;case ge:if(this._addPixels(ke[Pe]+1,Ue),Ue^=1,$e[this.codingPos]<Be)for(++Pe;ke[Pe]<=$e[this.codingPos]&&ke[Pe]<Be;)Pe+=2;break;case Ae:if(this._addPixels(ke[Pe],Ue),Ue^=1,$e[this.codingPos]<Be)for(++Pe;ke[Pe]<=$e[this.codingPos]&&ke[Pe]<Be;)Pe+=2;break;case ue:if(this._addPixelsNeg(ke[Pe]-3,Ue),Ue^=1,$e[this.codingPos]<Be)for(Pe>0?--Pe:++Pe;ke[Pe]<=$e[this.codingPos]&&ke[Pe]<Be;)Pe+=2;break;case be:if(this._addPixelsNeg(ke[Pe]-2,Ue),Ue^=1,$e[this.codingPos]<Be)for(Pe>0?--Pe:++Pe;ke[Pe]<=$e[this.codingPos]&&ke[Pe]<Be;)Pe+=2;break;case Se:if(this._addPixelsNeg(ke[Pe]-1,Ue),Ue^=1,$e[this.codingPos]<Be)for(Pe>0?--Pe:++Pe;ke[Pe]<=$e[this.codingPos]&&ke[Pe]<Be;)Pe+=2;break;case de:this._addPixels(Be,0),this.eof=!0;break;default:(0,ae.info)("bad 2d code"),this._addPixels(Be,0),this.err=!0}}else for($e[0]=0,this.codingPos=0,Ue=0;$e[this.codingPos]<Be;){if(He=0,Ue)do He+=Le=this._getBlackCode();while(Le>=64);else do He+=Le=this._getWhiteCode();while(Le>=64);this._addPixels($e[this.codingPos]+He,Ue),Ue^=1}let Oe=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(He=this._lookBits(12),this.eoline)for(;He!==de&&He!==1;)this._eatBits(1),He=this._lookBits(12);else for(;He===0;)this._eatBits(1),He=this._lookBits(12);He===1?(this._eatBits(12),Oe=!0):He===de&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&Oe&&this.byteAlign){if(He=this._lookBits(12),He===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(Me=0;Me<4;++Me)He=this._lookBits(12),He!==1&&(0,ae.info)("bad rtc code: "+He),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(He=this._lookBits(13),He===de)return this.eof=!0,-1;if(He>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(He&1))}$e[0]>0?this.outputBits=$e[this.codingPos=0]:this.outputBits=$e[this.codingPos=1],this.row++}let Ve;if(this.outputBits>=8)Ve=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&$e[this.codingPos]<Be&&(this.codingPos++,this.outputBits=$e[this.codingPos]-$e[this.codingPos-1]);else{Te=8,Ve=0;do{if(typeof this.outputBits!="number")throw new ae.FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>Te?(Ve<<=Te,this.codingPos&1||(Ve|=255>>8-Te),this.outputBits-=Te,Te=0):(Ve<<=this.outputBits,this.codingPos&1||(Ve|=255>>8-this.outputBits),Te-=this.outputBits,this.outputBits=0,$e[this.codingPos]<Be?(this.codingPos++,this.outputBits=$e[this.codingPos]-$e[this.codingPos-1]):Te>0&&(Ve<<=Te,Te=0))}while(Te)}return this.black&&(Ve^=255),Ve}_addPixels(ke,$e){const Be=this.codingLine;let Pe=this.codingPos;ke>Be[Pe]&&(ke>this.columns&&((0,ae.info)("row is wrong length"),this.err=!0,ke=this.columns),Pe&1^$e&&++Pe,Be[Pe]=ke),this.codingPos=Pe}_addPixelsNeg(ke,$e){const Be=this.codingLine;let Pe=this.codingPos;if(ke>Be[Pe])ke>this.columns&&((0,ae.info)("row is wrong length"),this.err=!0,ke=this.columns),Pe&1^$e&&++Pe,Be[Pe]=ke;else if(ke<Be[Pe]){for(ke<0&&((0,ae.info)("invalid code"),this.err=!0,ke=0);Pe>0&&ke<Be[Pe-1];)--Pe;Be[Pe]=ke}this.codingPos=Pe}_findTableCode(ke,$e,Be,Pe){const Ue=Pe||0;for(let Te=ke;Te<=$e;++Te){let Me=this._lookBits(Te);if(Me===de)return[!0,1,!1];if(Te<$e&&(Me<<=$e-Te),!Ue||Me>=Ue){const Ve=Be[Me-Ue];if(Ve[0]===Te)return this._eatBits(Te),[!0,Ve[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let ke=0,$e;if(this.eoblock){if(ke=this._lookBits(7),$e=we[ke],$e&&$e[0]>0)return this._eatBits($e[0]),$e[1]}else{const Be=this._findTableCode(1,7,we);if(Be[0]&&Be[2])return Be[1]}return(0,ae.info)("Bad two dim code"),de}_getWhiteCode(){let ke=0,$e;if(this.eoblock){if(ke=this._lookBits(12),ke===de)return 1;if(ke>>5?$e=_e[ke>>3]:$e=Fe[ke],$e[0]>0)return this._eatBits($e[0]),$e[1]}else{let Be=this._findTableCode(1,9,_e);if(Be[0]||(Be=this._findTableCode(11,12,Fe),Be[0]))return Be[1]}return(0,ae.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let ke,$e;if(this.eoblock){if(ke=this._lookBits(13),ke===de)return 1;if(ke>>7?!(ke>>9)&&ke>>7?$e=Ce[(ke>>1)-64]:$e=ye[ke>>7]:$e=Ee[ke],$e[0]>0)return this._eatBits($e[0]),$e[1]}else{let Be=this._findTableCode(2,6,ye);if(Be[0]||(Be=this._findTableCode(7,12,Ce,64),Be[0])||(Be=this._findTableCode(10,13,Ee),Be[0]))return Be[1]}return(0,ae.info)("bad black code"),this._eatBits(1),1}_lookBits(ke){let $e;for(;this.inputBits<ke;){if(($e=this.source.next())===-1)return this.inputBits===0?de:this.inputBuf<<ke-this.inputBits&65535>>16-ke;this.inputBuf=this.inputBuf<<8|$e,this.inputBits+=8}return this.inputBuf>>this.inputBits-ke&65535>>16-ke}_eatBits(ke){(this.inputBits-=ke)<0&&(this.inputBits=0)}}oe.CCITTFaxDecoder=Re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.FlateStream=void 0;var ae=ce(19),he=ce(2);const de=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pe=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),re=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Ae=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],ge=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class Se extends ae.DecodeStream{constructor(be,xe){super(xe),this.str=be,this.dict=be.dict;const ue=be.getByte(),we=be.getByte();if(ue===-1||we===-1)throw new he.FormatError(`Invalid header in flate stream: ${ue}, ${we}`);if((ue&15)!==8)throw new he.FormatError(`Unknown compression method in flate stream: ${ue}, ${we}`);if(((ue<<8)+we)%31!==0)throw new he.FormatError(`Bad FCHECK in flate stream: ${ue}, ${we}`);if(we&32)throw new he.FormatError(`FDICT bit set in flate stream: ${ue}, ${we}`);this.codeSize=0,this.codeBuf=0}getBits(be){const xe=this.str;let ue=this.codeSize,we=this.codeBuf,Fe;for(;ue<be;){if((Fe=xe.getByte())===-1)throw new he.FormatError("Bad encoding in flate stream");we|=Fe<<ue,ue+=8}return Fe=we&(1<<be)-1,this.codeBuf=we>>be,this.codeSize=ue-=be,Fe}getCode(be){const xe=this.str,ue=be[0],we=be[1];let Fe=this.codeSize,_e=this.codeBuf,Ee;for(;Fe<we&&(Ee=xe.getByte())!==-1;)_e|=Ee<<Fe,Fe+=8;const Ce=ue[_e&(1<<we)-1],ye=Ce>>16,Re=Ce&65535;if(ye<1||Fe<ye)throw new he.FormatError("Bad encoding in flate stream");return this.codeBuf=_e>>ye,this.codeSize=Fe-ye,Re}generateHuffmanTable(be){const xe=be.length;let ue=0,we;for(we=0;we<xe;++we)be[we]>ue&&(ue=be[we]);const Fe=1<<ue,_e=new Int32Array(Fe);for(let Ee=1,Ce=0,ye=2;Ee<=ue;++Ee,Ce<<=1,ye<<=1)for(let Re=0;Re<xe;++Re)if(be[Re]===Ee){let Ye=0,ke=Ce;for(we=0;we<Ee;++we)Ye=Ye<<1|ke&1,ke>>=1;for(we=Ye;we<Fe;we+=ye)_e[we]=Ee<<16|Re;++Ce}return[_e,ue]}readBlock(){let be,xe;const ue=this.str;let we=this.getBits(3);if(we&1&&(this.eof=!0),we>>=1,we===0){let ye;if((ye=ue.getByte())===-1)throw new he.FormatError("Bad block header in flate stream");let Re=ye;if((ye=ue.getByte())===-1)throw new he.FormatError("Bad block header in flate stream");if(Re|=ye<<8,(ye=ue.getByte())===-1)throw new he.FormatError("Bad block header in flate stream");let Ye=ye;if((ye=ue.getByte())===-1)throw new he.FormatError("Bad block header in flate stream");if(Ye|=ye<<8,Ye!==(~Re&65535)&&(Re!==0||Ye!==0))throw new he.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const ke=this.bufferLength,$e=ke+Re;if(be=this.ensureBuffer($e),this.bufferLength=$e,Re===0)ue.peekByte()===-1&&(this.eof=!0);else{const Be=ue.getBytes(Re);be.set(Be,ke),Be.length<Re&&(this.eof=!0)}return}let Fe,_e;if(we===1)Fe=Ae,_e=ge;else if(we===2){const ye=this.getBits(5)+257,Re=this.getBits(5)+1,Ye=this.getBits(4)+4,ke=new Uint8Array(de.length);let $e;for($e=0;$e<Ye;++$e)ke[de[$e]]=this.getBits(3);const Be=this.generateHuffmanTable(ke);xe=0,$e=0;const Pe=ye+Re,Ue=new Uint8Array(Pe);let Te,Me,Ve;for(;$e<Pe;){const He=this.getCode(Be);if(He===16)Te=2,Me=3,Ve=xe;else if(He===17)Te=3,Me=3,Ve=xe=0;else if(He===18)Te=7,Me=11,Ve=xe=0;else{Ue[$e++]=xe=He;continue}let Ie=this.getBits(Te)+Me;for(;Ie-- >0;)Ue[$e++]=Ve}Fe=this.generateHuffmanTable(Ue.subarray(0,ye)),_e=this.generateHuffmanTable(Ue.subarray(ye,Pe))}else throw new he.FormatError("Unknown block type in flate stream");be=this.buffer;let Ee=be?be.length:0,Ce=this.bufferLength;for(;;){let ye=this.getCode(Fe);if(ye<256){Ce+1>=Ee&&(be=this.ensureBuffer(Ce+1),Ee=be.length),be[Ce++]=ye;continue}if(ye===256){this.bufferLength=Ce;return}ye-=257,ye=pe[ye];let Re=ye>>16;Re>0&&(Re=this.getBits(Re)),xe=(ye&65535)+Re,ye=this.getCode(_e),ye=re[ye],Re=ye>>16,Re>0&&(Re=this.getBits(Re));const Ye=(ye&65535)+Re;Ce+xe>=Ee&&(be=this.ensureBuffer(Ce+xe),Ee=be.length);for(let ke=0;ke<xe;++ke,++Ce)be[Ce]=be[Ce-Ye]}}}oe.FlateStream=Se},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Jbig2Stream=void 0;var ae=ce(7),he=ce(19),de=ce(5),pe=ce(25),re=ce(2);class Ae extends he.DecodeStream{constructor(Se,fe,be){super(fe),this.stream=Se,this.dict=Se.dict,this.maybeLength=fe,this.params=be}get bytes(){return(0,re.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Se){}readBlock(){if(this.eof)return;const Se=new pe.Jbig2Image,fe=[];if(this.params instanceof de.Dict){const ue=this.params.get("JBIG2Globals");if(ue instanceof ae.BaseStream){const we=ue.getBytes();fe.push({data:we,start:0,end:we.length})}}fe.push({data:this.bytes,start:0,end:this.bytes.length});const be=Se.parseChunks(fe),xe=be.length;for(let ue=0;ue<xe;ue++)be[ue]^=255;this.buffer=be,this.bufferLength=xe,this.eof=!0}}oe.Jbig2Stream=Ae},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Jbig2Image=void 0;var ae=ce(2),he=ce(6),de=ce(26),pe=ce(22);class re extends ae.BaseException{constructor(nt){super(`JBIG2 error: ${nt}`,"Jbig2Error")}}class Ae{getContexts(nt){return nt in this?this[nt]:this[nt]=new Int8Array(65536)}}class ge{constructor(nt,Qe,We){this.data=nt,this.start=Qe,this.end=We}get decoder(){const nt=new de.ArithmeticDecoder(this.data,this.start,this.end);return(0,ae.shadow)(this,"decoder",nt)}get contextCache(){const nt=new Ae;return(0,ae.shadow)(this,"contextCache",nt)}}function Se(je,nt,Qe){const We=je.getContexts(nt);let rt=1;function et(Je){let lt=0;for(let ut=0;ut<Je;ut++){const ft=Qe.readBit(We,rt);rt=rt<256?rt<<1|ft:(rt<<1|ft)&511|256,lt=lt<<1|ft}return lt>>>0}const ct=et(1),at=et(1)?et(1)?et(1)?et(1)?et(1)?et(32)+4436:et(12)+340:et(8)+84:et(6)+20:et(4)+4:et(2);return ct===0?at:at>0?-at:null}function fe(je,nt,Qe){const We=je.getContexts("IAID");let rt=1;for(let et=0;et<Qe;et++){const ct=nt.readBit(We,rt);rt=rt<<1|ct}return Qe<31?rt&(1<<Qe)-1:rt&2147483647}const be=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],xe=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],ue=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],we=[39717,1941,229,405];function Fe(je,nt,Qe){const We=Qe.decoder,rt=Qe.contextCache.getContexts("GB"),et=[];let ct,at,Je,lt,ut,ft,pt;const mt=31735;for(at=0;at<nt;at++)for(ut=et[at]=new Uint8Array(je),ft=at<1?ut:et[at-1],pt=at<2?ut:et[at-2],ct=pt[0]<<13|pt[1]<<12|pt[2]<<11|ft[0]<<7|ft[1]<<6|ft[2]<<5|ft[3]<<4,Je=0;Je<je;Je++)ut[Je]=lt=We.readBit(rt,ct),ct=(ct&mt)<<1|(Je+3<je?pt[Je+3]<<11:0)|(Je+4<je?ft[Je+4]<<4:0)|lt;return et}function _e(je,nt,Qe,We,rt,et,ct,at){if(je){const yn=new it(at.data,at.start,at.end);return Ge(yn,nt,Qe,!1)}if(We===0&&!et&&!rt&&ct.length===4&&ct[0].x===3&&ct[0].y===-1&&ct[1].x===-3&&ct[1].y===-1&&ct[2].x===2&&ct[2].y===-2&&ct[3].x===-2&&ct[3].y===-2)return Fe(nt,Qe,at);const Je=xe[We].concat(ct);Je.sort(function(yn,On){return yn.y-On.y||yn.x-On.x});const lt=Je.length,ut=new Int8Array(lt),ft=new Int8Array(lt),pt=[];let mt=0,xt=0,vt=0,wt=0,_t,Tt;for(Tt=0;Tt<lt;Tt++)ut[Tt]=Je[Tt].x,ft[Tt]=Je[Tt].y,xt=Math.min(xt,Je[Tt].x),vt=Math.max(vt,Je[Tt].x),wt=Math.min(wt,Je[Tt].y),Tt<lt-1&&Je[Tt].y===Je[Tt+1].y&&Je[Tt].x===Je[Tt+1].x-1?mt|=1<<lt-1-Tt:pt.push(Tt);const Lt=pt.length,jt=new Int8Array(Lt),Bt=new Int8Array(Lt),St=new Uint16Array(Lt);for(_t=0;_t<Lt;_t++)Tt=pt[_t],jt[_t]=Je[Tt].x,Bt[_t]=Je[Tt].y,St[_t]=1<<lt-1-Tt;const Ft=-xt,Ct=-wt,yt=nt-vt,bt=we[We];let Pt=new Uint8Array(nt);const Ut=[],Yt=at.decoder,kt=at.contextCache.getContexts("GB");let Ot=0,Et,nn,en,an=0,Sn,sn;for(let yn=0;yn<Qe;yn++){if(rt){const On=Yt.readBit(kt,bt);if(Ot^=On,Ot){Ut.push(Pt);continue}}for(Pt=new Uint8Array(Pt),Ut.push(Pt),Et=0;Et<nt;Et++){if(Et>=Ft&&Et<yt&&yn>=Ct)for(an=an<<1&mt,Tt=0;Tt<Lt;Tt++)nn=yn+Bt[Tt],en=Et+jt[Tt],Sn=Ut[nn][en],Sn&&(Sn=St[Tt],an|=Sn);else for(an=0,sn=lt-1,Tt=0;Tt<lt;Tt++,sn--)en=Et+ut[Tt],en>=0&&en<nt&&(nn=yn+ft[Tt],nn>=0&&(Sn=Ut[nn][en],Sn&&(an|=Sn<<sn)));const On=Yt.readBit(kt,an);Pt[Et]=On}}return Ut}function Ee(je,nt,Qe,We,rt,et,ct,at,Je){let lt=ue[Qe].coding;Qe===0&&(lt=lt.concat([at[0]]));const ut=lt.length,ft=new Int32Array(ut),pt=new Int32Array(ut);let mt;for(mt=0;mt<ut;mt++)ft[mt]=lt[mt].x,pt[mt]=lt[mt].y;let xt=ue[Qe].reference;Qe===0&&(xt=xt.concat([at[1]]));const vt=xt.length,wt=new Int32Array(vt),_t=new Int32Array(vt);for(mt=0;mt<vt;mt++)wt[mt]=xt[mt].x,_t[mt]=xt[mt].y;const Tt=We[0].length,Lt=We.length,jt=[],Bt=Je.decoder,St=Je.contextCache.getContexts("GR");for(let Ft=0;Ft<nt;Ft++){const Ct=new Uint8Array(je);jt.push(Ct);for(let yt=0;yt<je;yt++){let bt,Pt,Ut=0;for(mt=0;mt<ut;mt++)bt=Ft+pt[mt],Pt=yt+ft[mt],bt<0||Pt<0||Pt>=je?Ut<<=1:Ut=Ut<<1|jt[bt][Pt];for(mt=0;mt<vt;mt++)bt=Ft+_t[mt]-et,Pt=yt+wt[mt]-rt,bt<0||bt>=Lt||Pt<0||Pt>=Tt?Ut<<=1:Ut=Ut<<1|We[bt][Pt];const Yt=Bt.readBit(St,Ut);Ct[yt]=Yt}}return jt}function Ce(je,nt,Qe,We,rt,et,ct,at,Je,lt,ut,ft){if(je&&nt)throw new re("symbol refinement with Huffman is not supported");const pt=[];let mt=0,xt=(0,he.log2)(Qe.length+We);const vt=ut.decoder,wt=ut.contextCache;let _t,Tt;for(je&&(_t=qe(1),Tt=[],xt=Math.max(xt,1));pt.length<We;){const yt=je?et.tableDeltaHeight.decode(ft):Se(wt,"IADH",vt);mt+=yt;let bt=0,Pt=0;const Ut=je?Tt.length:0;for(;;){const Yt=je?et.tableDeltaWidth.decode(ft):Se(wt,"IADW",vt);if(Yt===null)break;bt+=Yt,Pt+=bt;let kt;if(nt){const Ot=Se(wt,"IAAI",vt);if(Ot>1)kt=ye(je,nt,bt,mt,0,Ot,1,Qe.concat(pt),xt,0,0,1,0,et,Je,lt,ut,0,ft);else{const Et=fe(wt,vt,xt),nn=Se(wt,"IARDX",vt),en=Se(wt,"IARDY",vt),an=Et<Qe.length?Qe[Et]:pt[Et-Qe.length];kt=Ee(bt,mt,Je,an,nn,en,!1,lt,ut)}pt.push(kt)}else je?Tt.push(bt):(kt=_e(!1,bt,mt,ct,!1,null,at,ut),pt.push(kt))}if(je&&!nt){const Yt=et.tableBitmapSize.decode(ft);ft.byteAlign();let kt;if(Yt===0)kt=ot(ft,Pt,mt);else{const Et=ft.end,nn=ft.position+Yt;ft.end=nn,kt=Ge(ft,Pt,mt,!1),ft.end=Et,ft.position=nn}const Ot=Tt.length;if(Ut===Ot-1)pt.push(kt);else{let Et,nn,en=0,an,Sn,sn;for(Et=Ut;Et<Ot;Et++){for(Sn=Tt[Et],an=en+Sn,sn=[],nn=0;nn<mt;nn++)sn.push(kt[nn].subarray(en,an));pt.push(sn),en=an}}}}const Lt=[],jt=[];let Bt=!1,St,Ft;const Ct=Qe.length+We;for(;jt.length<Ct;){let yt=je?_t.decode(ft):Se(wt,"IAEX",vt);for(;yt--;)jt.push(Bt);Bt=!Bt}for(St=0,Ft=Qe.length;St<Ft;St++)jt[St]&&Lt.push(Qe[St]);for(let yt=0;yt<We;St++,yt++)jt[St]&&Lt.push(pt[yt]);return Lt}function ye(je,nt,Qe,We,rt,et,ct,at,Je,lt,ut,ft,pt,mt,xt,vt,wt,_t,Tt){if(je&&nt)throw new re("refinement with Huffman is not supported");const Lt=[];let jt,Bt;for(jt=0;jt<We;jt++){if(Bt=new Uint8Array(Qe),rt)for(let bt=0;bt<Qe;bt++)Bt[bt]=rt;Lt.push(Bt)}const St=wt.decoder,Ft=wt.contextCache;let Ct=je?-mt.tableDeltaT.decode(Tt):-Se(Ft,"IADT",St),yt=0;for(jt=0;jt<et;){const bt=je?mt.tableDeltaT.decode(Tt):Se(Ft,"IADT",St);Ct+=bt;const Pt=je?mt.tableFirstS.decode(Tt):Se(Ft,"IAFS",St);yt+=Pt;let Ut=yt;do{let Yt=0;ct>1&&(Yt=je?Tt.readBits(_t):Se(Ft,"IAIT",St));const kt=ct*Ct+Yt,Ot=je?mt.symbolIDTable.decode(Tt):fe(Ft,St,Je),Et=nt&&(je?Tt.readBit():Se(Ft,"IARI",St));let nn=at[Ot],en=nn[0].length,an=nn.length;if(Et){const xn=Se(Ft,"IARDW",St),Hn=Se(Ft,"IARDH",St),In=Se(Ft,"IARDX",St),_n=Se(Ft,"IARDY",St);en+=xn,an+=Hn,nn=Ee(en,an,xt,nn,(xn>>1)+In,(Hn>>1)+_n,!1,vt,wt)}const Sn=kt-(ft&1?0:an-1),sn=Ut-(ft&2?en-1:0);let yn,On,tn;if(lt){for(yn=0;yn<an;yn++){if(Bt=Lt[sn+yn],!Bt)continue;tn=nn[yn];const xn=Math.min(Qe-Sn,en);switch(pt){case 0:for(On=0;On<xn;On++)Bt[Sn+On]|=tn[On];break;case 2:for(On=0;On<xn;On++)Bt[Sn+On]^=tn[On];break;default:throw new re(`operator ${pt} is not supported`)}}Ut+=an-1}else{for(On=0;On<an;On++)if(Bt=Lt[Sn+On],!!Bt)switch(tn=nn[On],pt){case 0:for(yn=0;yn<en;yn++)Bt[sn+yn]|=tn[yn];break;case 2:for(yn=0;yn<en;yn++)Bt[sn+yn]^=tn[yn];break;default:throw new re(`operator ${pt} is not supported`)}Ut+=en-1}jt++;const Dn=je?mt.tableDeltaS.decode(Tt):Se(Ft,"IADS",St);if(Dn===null)break;Ut+=Dn+ut}while(!0)}return Lt}function Re(je,nt,Qe,We,rt,et){const ct=[];je||(ct.push({x:-nt,y:0}),rt===0&&ct.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const at=(We+1)*nt,Je=_e(je,at,Qe,rt,!1,null,ct,et),lt=[];for(let ut=0;ut<=We;ut++){const ft=[],pt=nt*ut,mt=pt+nt;for(let xt=0;xt<Qe;xt++)ft.push(Je[xt].subarray(pt,mt));lt.push(ft)}return lt}function Ye(je,nt,Qe,We,rt,et,ct,at,Je,lt,ut,ft,pt,mt,xt){if(ct)throw new re("skip is not supported");if(at!==0)throw new re(`operator "${at}" is not supported in halftone region`);const wt=[];let _t,Tt,Lt;for(_t=0;_t<rt;_t++){if(Lt=new Uint8Array(We),et)for(Tt=0;Tt<We;Tt++)Lt[Tt]=et;wt.push(Lt)}const jt=nt.length,Bt=nt[0],St=Bt[0].length,Ft=Bt.length,Ct=(0,he.log2)(jt),yt=[];je||(yt.push({x:Qe<=1?3:2,y:-1}),Qe===0&&yt.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const bt=[];let Pt,Ut;for(je&&(Pt=new it(xt.data,xt.start,xt.end)),_t=Ct-1;_t>=0;_t--)je?Ut=Ge(Pt,Je,lt,!0):Ut=_e(!1,Je,lt,Qe,!1,null,yt,xt),bt[_t]=Ut;let Yt,kt,Ot,Et,nn,en,an,Sn,sn;for(Yt=0;Yt<lt;Yt++)for(kt=0;kt<Je;kt++){for(Ot=0,Et=0,Tt=Ct-1;Tt>=0;Tt--)Ot^=bt[Tt][Yt][kt],Et|=Ot<<Tt;if(nn=nt[Et],en=ut+Yt*mt+kt*pt>>8,an=ft+Yt*pt-kt*mt>>8,en>=0&&en+St<=We&&an>=0&&an+Ft<=rt)for(_t=0;_t<Ft;_t++)for(sn=wt[an+_t],Sn=nn[_t],Tt=0;Tt<St;Tt++)sn[en+Tt]|=Sn[Tt];else{let yn,On;for(_t=0;_t<Ft;_t++)if(On=an+_t,!(On<0||On>=rt))for(sn=wt[On],Sn=nn[_t],Tt=0;Tt<St;Tt++)yn=en+Tt,yn>=0&&yn<We&&(sn[yn]|=Sn[Tt])}}return wt}function ke(je,nt){const Qe={};Qe.number=(0,he.readUint32)(je,nt);const We=je[nt+4],rt=We&63;if(!be[rt])throw new re("invalid segment type: "+rt);Qe.type=rt,Qe.typeName=be[rt],Qe.deferredNonRetain=!!(We&128);const et=!!(We&64),ct=je[nt+5];let at=ct>>5&7;const Je=[ct&31];let lt=nt+6;if(ct===7){at=(0,he.readUint32)(je,lt-1)&536870911,lt+=3;let xt=at+7>>3;for(Je[0]=je[lt++];--xt>0;)Je.push(je[lt++])}else if(ct===5||ct===6)throw new re("invalid referred-to flags");Qe.retainBits=Je;let ut=4;Qe.number<=256?ut=1:Qe.number<=65536&&(ut=2);const ft=[];let pt,mt;for(pt=0;pt<at;pt++){let xt;ut===1?xt=je[lt]:ut===2?xt=(0,he.readUint16)(je,lt):xt=(0,he.readUint32)(je,lt),ft.push(xt),lt+=ut}if(Qe.referredTo=ft,et?(Qe.pageAssociation=(0,he.readUint32)(je,lt),lt+=4):Qe.pageAssociation=je[lt++],Qe.length=(0,he.readUint32)(je,lt),lt+=4,Qe.length===4294967295)if(rt===38){const xt=Be(je,lt),wt=!!(je[lt+Pe]&1),_t=6,Tt=new Uint8Array(_t);for(wt||(Tt[0]=255,Tt[1]=172),Tt[2]=xt.height>>>24&255,Tt[3]=xt.height>>16&255,Tt[4]=xt.height>>8&255,Tt[5]=xt.height&255,pt=lt,mt=je.length;pt<mt;pt++){let Lt=0;for(;Lt<_t&&Tt[Lt]===je[pt+Lt];)Lt++;if(Lt===_t){Qe.length=pt+_t;break}}if(Qe.length===4294967295)throw new re("segment end was not found")}else throw new re("invalid unknown segment length");return Qe.headerEnd=lt,Qe}function $e(je,nt,Qe,We){const rt=[];let et=Qe;for(;et<We;){const ct=ke(nt,et);et=ct.headerEnd;const at={header:ct,data:nt};if(je.randomAccess||(at.start=et,et+=ct.length,at.end=et),rt.push(at),ct.type===51)break}if(je.randomAccess)for(let ct=0,at=rt.length;ct<at;ct++)rt[ct].start=et,et+=rt[ct].header.length,rt[ct].end=et;return rt}function Be(je,nt){return{width:(0,he.readUint32)(je,nt),height:(0,he.readUint32)(je,nt+4),x:(0,he.readUint32)(je,nt+8),y:(0,he.readUint32)(je,nt+12),combinationOperator:je[nt+16]&7}}const Pe=17;function Ue(je,nt){const Qe=je.header,We=je.data,rt=je.end;let et=je.start,ct,at,Je,lt;switch(Qe.type){case 0:const ft={},pt=(0,he.readUint16)(We,et);if(ft.huffman=!!(pt&1),ft.refinement=!!(pt&2),ft.huffmanDHSelector=pt>>2&3,ft.huffmanDWSelector=pt>>4&3,ft.bitmapSizeSelector=pt>>6&1,ft.aggregationInstancesSelector=pt>>7&1,ft.bitmapCodingContextUsed=!!(pt&256),ft.bitmapCodingContextRetained=!!(pt&512),ft.template=pt>>10&3,ft.refinementTemplate=pt>>12&1,et+=2,!ft.huffman){for(lt=ft.template===0?4:1,at=[],Je=0;Je<lt;Je++)at.push({x:(0,he.readInt8)(We,et),y:(0,he.readInt8)(We,et+1)}),et+=2;ft.at=at}if(ft.refinement&&!ft.refinementTemplate){for(at=[],Je=0;Je<2;Je++)at.push({x:(0,he.readInt8)(We,et),y:(0,he.readInt8)(We,et+1)}),et+=2;ft.refinementAt=at}ft.numberOfExportedSymbols=(0,he.readUint32)(We,et),et+=4,ft.numberOfNewSymbols=(0,he.readUint32)(We,et),et+=4,ct=[ft,Qe.number,Qe.referredTo,We,et,rt];break;case 6:case 7:const mt={};mt.info=Be(We,et),et+=Pe;const xt=(0,he.readUint16)(We,et);if(et+=2,mt.huffman=!!(xt&1),mt.refinement=!!(xt&2),mt.logStripSize=xt>>2&3,mt.stripSize=1<<mt.logStripSize,mt.referenceCorner=xt>>4&3,mt.transposed=!!(xt&64),mt.combinationOperator=xt>>7&3,mt.defaultPixelValue=xt>>9&1,mt.dsOffset=xt<<17>>27,mt.refinementTemplate=xt>>15&1,mt.huffman){const Ft=(0,he.readUint16)(We,et);et+=2,mt.huffmanFS=Ft&3,mt.huffmanDS=Ft>>2&3,mt.huffmanDT=Ft>>4&3,mt.huffmanRefinementDW=Ft>>6&3,mt.huffmanRefinementDH=Ft>>8&3,mt.huffmanRefinementDX=Ft>>10&3,mt.huffmanRefinementDY=Ft>>12&3,mt.huffmanRefinementSizeSelector=!!(Ft&16384)}if(mt.refinement&&!mt.refinementTemplate){for(at=[],Je=0;Je<2;Je++)at.push({x:(0,he.readInt8)(We,et),y:(0,he.readInt8)(We,et+1)}),et+=2;mt.refinementAt=at}mt.numberOfSymbolInstances=(0,he.readUint32)(We,et),et+=4,ct=[mt,Qe.referredTo,We,et,rt];break;case 16:const vt={},wt=We[et++];vt.mmr=!!(wt&1),vt.template=wt>>1&3,vt.patternWidth=We[et++],vt.patternHeight=We[et++],vt.maxPatternIndex=(0,he.readUint32)(We,et),et+=4,ct=[vt,Qe.number,We,et,rt];break;case 22:case 23:const _t={};_t.info=Be(We,et),et+=Pe;const Tt=We[et++];_t.mmr=!!(Tt&1),_t.template=Tt>>1&3,_t.enableSkip=!!(Tt&8),_t.combinationOperator=Tt>>4&7,_t.defaultPixelValue=Tt>>7&1,_t.gridWidth=(0,he.readUint32)(We,et),et+=4,_t.gridHeight=(0,he.readUint32)(We,et),et+=4,_t.gridOffsetX=(0,he.readUint32)(We,et)&4294967295,et+=4,_t.gridOffsetY=(0,he.readUint32)(We,et)&4294967295,et+=4,_t.gridVectorX=(0,he.readUint16)(We,et),et+=2,_t.gridVectorY=(0,he.readUint16)(We,et),et+=2,ct=[_t,Qe.referredTo,We,et,rt];break;case 38:case 39:const Lt={};Lt.info=Be(We,et),et+=Pe;const jt=We[et++];if(Lt.mmr=!!(jt&1),Lt.template=jt>>1&3,Lt.prediction=!!(jt&8),!Lt.mmr){for(lt=Lt.template===0?4:1,at=[],Je=0;Je<lt;Je++)at.push({x:(0,he.readInt8)(We,et),y:(0,he.readInt8)(We,et+1)}),et+=2;Lt.at=at}ct=[Lt,We,et,rt];break;case 48:const Bt={width:(0,he.readUint32)(We,et),height:(0,he.readUint32)(We,et+4),resolutionX:(0,he.readUint32)(We,et+8),resolutionY:(0,he.readUint32)(We,et+12)};Bt.height===4294967295&&delete Bt.height;const St=We[et+16];(0,he.readUint16)(We,et+17),Bt.lossless=!!(St&1),Bt.refinement=!!(St&2),Bt.defaultPixelValue=St>>2&1,Bt.combinationOperator=St>>3&3,Bt.requiresBuffer=!!(St&32),Bt.combinationOperatorOverride=!!(St&64),ct=[Bt];break;case 49:break;case 50:break;case 51:break;case 53:ct=[Qe.number,We,et,rt];break;case 62:break;default:throw new re(`segment type ${Qe.typeName}(${Qe.type}) is not implemented`)}const ut="on"+Qe.typeName;ut in nt&&nt[ut].apply(nt,ct)}function Te(je,nt){for(let Qe=0,We=je.length;Qe<We;Qe++)Ue(je[Qe],nt)}function Me(je){const nt=new Ve;for(let Qe=0,We=je.length;Qe<We;Qe++){const rt=je[Qe],et=$e({},rt.data,rt.start,rt.end);Te(et,nt)}return nt.buffer}class Ve{onPageInformation(nt){this.currentPageInfo=nt;const Qe=nt.width+7>>3,We=new Uint8ClampedArray(Qe*nt.height);nt.defaultPixelValue&&We.fill(255),this.buffer=We}drawBitmap(nt,Qe){const We=this.currentPageInfo,rt=nt.width,et=nt.height,ct=We.width+7>>3,at=We.combinationOperatorOverride?nt.combinationOperator:We.combinationOperator,Je=this.buffer,lt=128>>(nt.x&7);let ut=nt.y*ct+(nt.x>>3),ft,pt,mt,xt;switch(at){case 0:for(ft=0;ft<et;ft++){for(mt=lt,xt=ut,pt=0;pt<rt;pt++)Qe[ft][pt]&&(Je[xt]|=mt),mt>>=1,mt||(mt=128,xt++);ut+=ct}break;case 2:for(ft=0;ft<et;ft++){for(mt=lt,xt=ut,pt=0;pt<rt;pt++)Qe[ft][pt]&&(Je[xt]^=mt),mt>>=1,mt||(mt=128,xt++);ut+=ct}break;default:throw new re(`operator ${at} is not supported`)}}onImmediateGenericRegion(nt,Qe,We,rt){const et=nt.info,ct=new ge(Qe,We,rt),at=_e(nt.mmr,et.width,et.height,nt.template,nt.prediction,null,nt.at,ct);this.drawBitmap(et,at)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(nt,Qe,We,rt,et,ct){let at,Je;nt.huffman&&(at=Ze(nt,We,this.customTables),Je=new it(rt,et,ct));let lt=this.symbols;lt||(this.symbols=lt={});const ut=[];for(const pt of We){const mt=lt[pt];mt&&ut.push(...mt)}const ft=new ge(rt,et,ct);lt[Qe]=Ce(nt.huffman,nt.refinement,ut,nt.numberOfNewSymbols,nt.numberOfExportedSymbols,at,nt.template,nt.at,nt.refinementTemplate,nt.refinementAt,ft,Je)}onImmediateTextRegion(nt,Qe,We,rt,et){const ct=nt.info;let at,Je;const lt=this.symbols,ut=[];for(const xt of Qe){const vt=lt[xt];vt&&ut.push(...vt)}const ft=(0,he.log2)(ut.length);nt.huffman&&(Je=new it(We,rt,et),at=Xe(nt,Qe,this.customTables,ut.length,Je));const pt=new ge(We,rt,et),mt=ye(nt.huffman,nt.refinement,ct.width,ct.height,nt.defaultPixelValue,nt.numberOfSymbolInstances,nt.stripSize,ut,ft,nt.transposed,nt.dsOffset,nt.referenceCorner,nt.combinationOperator,at,nt.refinementTemplate,nt.refinementAt,pt,nt.logStripSize,Je);this.drawBitmap(ct,mt)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(nt,Qe,We,rt,et){let ct=this.patterns;ct||(this.patterns=ct={});const at=new ge(We,rt,et);ct[Qe]=Re(nt.mmr,nt.patternWidth,nt.patternHeight,nt.maxPatternIndex,nt.template,at)}onImmediateHalftoneRegion(nt,Qe,We,rt,et){const ct=this.patterns[Qe[0]],at=nt.info,Je=new ge(We,rt,et),lt=Ye(nt.mmr,ct,nt.template,at.width,at.height,nt.defaultPixelValue,nt.enableSkip,nt.combinationOperator,nt.gridWidth,nt.gridHeight,nt.gridOffsetX,nt.gridOffsetY,nt.gridVectorX,nt.gridVectorY,Je);this.drawBitmap(at,lt)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(nt,Qe,We,rt){let et=this.customTables;et||(this.customTables=et={}),et[nt]=Oe(Qe,We,rt)}}class He{constructor(nt){nt.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=nt[0],this.rangeLength=0,this.prefixCode=nt[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=nt[0],this.prefixLength=nt[1],this.rangeLength=nt[2],this.prefixCode=nt[3],this.isLowerRange=nt[4]==="lower")}}class Ie{constructor(nt){this.children=[],nt?(this.isLeaf=!0,this.rangeLength=nt.rangeLength,this.rangeLow=nt.rangeLow,this.isLowerRange=nt.isLowerRange,this.isOOB=nt.isOOB):this.isLeaf=!1}buildTree(nt,Qe){const We=nt.prefixCode>>Qe&1;if(Qe<=0)this.children[We]=new Ie(nt);else{let rt=this.children[We];rt||(this.children[We]=rt=new Ie(null)),rt.buildTree(nt,Qe-1)}}decodeNode(nt){if(this.isLeaf){if(this.isOOB)return null;const We=nt.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-We:We)}const Qe=this.children[nt.readBit()];if(!Qe)throw new re("invalid Huffman data");return Qe.decodeNode(nt)}}class Le{constructor(nt,Qe){Qe||this.assignPrefixCodes(nt),this.rootNode=new Ie(null);for(let We=0,rt=nt.length;We<rt;We++){const et=nt[We];et.prefixLength>0&&this.rootNode.buildTree(et,et.prefixLength-1)}}decode(nt){return this.rootNode.decodeNode(nt)}assignPrefixCodes(nt){const Qe=nt.length;let We=0;for(let ut=0;ut<Qe;ut++)We=Math.max(We,nt[ut].prefixLength);const rt=new Uint32Array(We+1);for(let ut=0;ut<Qe;ut++)rt[nt[ut].prefixLength]++;let et=1,ct=0,at,Je,lt;for(rt[0]=0;et<=We;){for(ct=ct+rt[et-1]<<1,at=ct,Je=0;Je<Qe;)lt=nt[Je],lt.prefixLength===et&&(lt.prefixCode=at,at++),Je++;et++}}}function Oe(je,nt,Qe){const We=je[nt],rt=(0,he.readUint32)(je,nt+1)&4294967295,et=(0,he.readUint32)(je,nt+5)&4294967295,ct=new it(je,nt+9,Qe),at=(We>>1&7)+1,Je=(We>>4&7)+1,lt=[];let ut,ft,pt=rt;do ut=ct.readBits(at),ft=ct.readBits(Je),lt.push(new He([pt,ut,ft,0])),pt+=1<<ft;while(pt<et);return ut=ct.readBits(at),lt.push(new He([rt-1,ut,32,0,"lower"])),ut=ct.readBits(at),lt.push(new He([et,ut,32,0])),We&1&&(ut=ct.readBits(at),lt.push(new He([ut,0]))),new Le(lt,!1)}const Ne={};function qe(je){let nt=Ne[je];if(nt)return nt;let Qe;switch(je){case 1:Qe=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:Qe=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:Qe=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:Qe=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:Qe=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:Qe=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:Qe=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:Qe=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:Qe=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:Qe=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:Qe=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:Qe=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:Qe=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:Qe=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:Qe=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new re(`standard table B.${je} does not exist`)}for(let We=0,rt=Qe.length;We<rt;We++)Qe[We]=new He(Qe[We]);return nt=new Le(Qe,!0),Ne[je]=nt,nt}class it{constructor(nt,Qe,We){this.data=nt,this.start=Qe,this.end=We,this.position=Qe,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new re("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const nt=this.currentByte>>this.shift&1;return this.shift--,nt}readBits(nt){let Qe=0,We;for(We=nt-1;We>=0;We--)Qe|=this.readBit()<<We;return Qe}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function tt(je,nt,Qe){let We=0;for(let rt=0,et=nt.length;rt<et;rt++){const ct=Qe[nt[rt]];if(ct){if(je===We)return ct;We++}}throw new re("can't find custom Huffman table")}function Xe(je,nt,Qe,We,rt){const et=[];for(let pt=0;pt<=34;pt++){const mt=rt.readBits(4);et.push(new He([pt,mt,0,0]))}const ct=new Le(et,!1);et.length=0;for(let pt=0;pt<We;){const mt=ct.decode(rt);if(mt>=32){let xt,vt,wt;switch(mt){case 32:if(pt===0)throw new re("no previous value in symbol ID table");vt=rt.readBits(2)+3,xt=et[pt-1].prefixLength;break;case 33:vt=rt.readBits(3)+3,xt=0;break;case 34:vt=rt.readBits(7)+11,xt=0;break;default:throw new re("invalid code length in symbol ID table")}for(wt=0;wt<vt;wt++)et.push(new He([pt,xt,0,0])),pt++}else et.push(new He([pt,mt,0,0])),pt++}rt.byteAlign();const at=new Le(et,!1);let Je=0,lt,ut,ft;switch(je.huffmanFS){case 0:case 1:lt=qe(je.huffmanFS+6);break;case 3:lt=tt(Je,nt,Qe),Je++;break;default:throw new re("invalid Huffman FS selector")}switch(je.huffmanDS){case 0:case 1:case 2:ut=qe(je.huffmanDS+8);break;case 3:ut=tt(Je,nt,Qe),Je++;break;default:throw new re("invalid Huffman DS selector")}switch(je.huffmanDT){case 0:case 1:case 2:ft=qe(je.huffmanDT+11);break;case 3:ft=tt(Je,nt,Qe),Je++;break;default:throw new re("invalid Huffman DT selector")}if(je.refinement)throw new re("refinement with Huffman is not supported");return{symbolIDTable:at,tableFirstS:lt,tableDeltaS:ut,tableDeltaT:ft}}function Ze(je,nt,Qe){let We=0,rt,et;switch(je.huffmanDHSelector){case 0:case 1:rt=qe(je.huffmanDHSelector+4);break;case 3:rt=tt(We,nt,Qe),We++;break;default:throw new re("invalid Huffman DH selector")}switch(je.huffmanDWSelector){case 0:case 1:et=qe(je.huffmanDWSelector+2);break;case 3:et=tt(We,nt,Qe),We++;break;default:throw new re("invalid Huffman DW selector")}let ct,at;return je.bitmapSizeSelector?(ct=tt(We,nt,Qe),We++):ct=qe(1),je.aggregationInstancesSelector?at=tt(We,nt,Qe):at=qe(1),{tableDeltaHeight:rt,tableDeltaWidth:et,tableBitmapSize:ct,tableAggregateInstances:at}}function ot(je,nt,Qe){const We=[];for(let rt=0;rt<Qe;rt++){const et=new Uint8Array(nt);We.push(et);for(let ct=0;ct<nt;ct++)et[ct]=je.readBit();je.byteAlign()}return We}function Ge(je,nt,Qe,We){const rt={K:-1,Columns:nt,Rows:Qe,BlackIs1:!0,EndOfBlock:We},et=new pe.CCITTFaxDecoder(je,rt),ct=[];let at,Je=!1;for(let lt=0;lt<Qe;lt++){const ut=new Uint8Array(nt);ct.push(ut);let ft=-1;for(let pt=0;pt<nt;pt++)ft<0&&(at=et.readNextChar(),at===-1&&(at=0,Je=!0),ft=7),ut[pt]=at>>ft&1,ft--}if(We&&!Je)for(let ut=0;ut<5&&et.readNextChar()!==-1;ut++);return ct}class Ke{parseChunks(nt){return Me(nt)}parse(nt){throw new Error("Not implemented: Jbig2Image.parse")}}oe.Jbig2Image=Ke},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.ArithmeticDecoder=void 0;const ce=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class ae{constructor(de,pe,re){this.data=de,this.bp=pe,this.dataEnd=re,this.chigh=de[pe],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const de=this.data;let pe=this.bp;de[pe]===255?de[pe+1]>143?(this.clow+=65280,this.ct=8):(pe++,this.clow+=de[pe]<<9,this.ct=7,this.bp=pe):(pe++,this.clow+=pe<this.dataEnd?de[pe]<<8:65280,this.ct=8,this.bp=pe),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(de,pe){let re=de[pe]>>1,Ae=de[pe]&1;const ge=ce[re],Se=ge.qe;let fe,be=this.a-Se;if(this.chigh<Se)be<Se?(be=Se,fe=Ae,re=ge.nmps):(be=Se,fe=1^Ae,ge.switchFlag===1&&(Ae=fe),re=ge.nlps);else{if(this.chigh-=Se,be&32768)return this.a=be,Ae;be<Se?(fe=1^Ae,ge.switchFlag===1&&(Ae=fe),re=ge.nlps):(fe=Ae,re=ge.nmps)}do this.ct===0&&this.byteIn(),be<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(be&32768));return this.a=be,de[pe]=re<<1|Ae,fe}}oe.ArithmeticDecoder=ae},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.JpegStream=void 0;var ae=ce(19),he=ce(5),de=ce(28),pe=ce(2);class re extends ae.DecodeStream{constructor(ge,Se,fe){let be;for(;(be=ge.getByte())!==-1;)if(be===255){ge.skip(-1);break}super(Se),this.stream=ge,this.dict=ge.dict,this.maybeLength=Se,this.params=fe}get bytes(){return(0,pe.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(ge){}readBlock(){if(this.eof)return;const ge={decodeTransform:void 0,colorTransform:void 0},Se=this.dict.getArray("D","Decode");if(this.forceRGB&&Array.isArray(Se)){const xe=this.dict.get("BPC","BitsPerComponent")||8,ue=Se.length,we=new Int32Array(ue);let Fe=!1;const _e=(1<<xe)-1;for(let Ee=0;Ee<ue;Ee+=2)we[Ee]=(Se[Ee+1]-Se[Ee])*256|0,we[Ee+1]=Se[Ee]*_e|0,(we[Ee]!==256||we[Ee+1]!==0)&&(Fe=!0);Fe&&(ge.decodeTransform=we)}if(this.params instanceof he.Dict){const xe=this.params.get("ColorTransform");Number.isInteger(xe)&&(ge.colorTransform=xe)}const fe=new de.JpegImage(ge);fe.parse(this.bytes);const be=fe.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=be,this.bufferLength=be.length,this.eof=!0}}oe.JpegStream=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.JpegImage=void 0;var ae=ce(2),he=ce(6);class de extends ae.BaseException{constructor(Be){super(`JPEG error: ${Be}`,"JpegError")}}class pe extends ae.BaseException{constructor(Be,Pe){super(Be,"DNLMarkerError"),this.scanLines=Pe}}class re extends ae.BaseException{constructor(Be){super(Be,"EOIMarkerError")}}const Ae=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),ge=4017,Se=799,fe=3406,be=2276,xe=1567,ue=3784,we=5793,Fe=2896;function _e($e,Be){let Pe=0,Ue,Te,Me=16;for(;Me>0&&!$e[Me-1];)Me--;const Ve=[{children:[],index:0}];let He=Ve[0],Ie;for(Ue=0;Ue<Me;Ue++){for(Te=0;Te<$e[Ue];Te++){for(He=Ve.pop(),He.children[He.index]=Be[Pe];He.index>0;)He=Ve.pop();for(He.index++,Ve.push(He);Ve.length<=Ue;)Ve.push(Ie={children:[],index:0}),He.children[He.index]=Ie.children,He=Ie;Pe++}Ue+1<Me&&(Ve.push(Ie={children:[],index:0}),He.children[He.index]=Ie.children,He=Ie)}return Ve[0].children}function Ee($e,Be,Pe){return 64*(($e.blocksPerLine+1)*Be+Pe)}function Ce($e,Be,Pe,Ue,Te,Me,Ve,He,Ie,Le=!1){const Oe=Pe.mcusPerLine,Ne=Pe.progressive,qe=Be;let it=0,tt=0;function Xe(){if(tt>0)return tt--,it>>tt&1;if(it=$e[Be++],it===255){const St=$e[Be++];if(St){if(St===220&&Le){Be+=2;const Ft=(0,he.readUint16)($e,Be);if(Be+=2,Ft>0&&Ft!==Pe.scanLines)throw new pe("Found DNL marker (0xFFDC) while parsing scan data",Ft)}else if(St===217){if(Le){const Ft=at*(Pe.precision===8?8:0);if(Ft>0&&Math.round(Pe.scanLines/Ft)>=10)throw new pe("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ft)}throw new re("Found EOI marker (0xFFD9) while parsing scan data")}throw new de(`unexpected marker ${(it<<8|St).toString(16)}`)}}return tt=7,it>>>7}function Ze(St){let Ft=St;for(;;){switch(Ft=Ft[Xe()],typeof Ft){case"number":return Ft;case"object":continue}throw new de("invalid huffman sequence")}}function ot(St){let Ft=0;for(;St>0;)Ft=Ft<<1|Xe(),St--;return Ft}function Ge(St){if(St===1)return Xe()===1?1:-1;const Ft=ot(St);return Ft>=1<<St-1?Ft:Ft+(-1<<St)+1}function Ke(St,Ft){const Ct=Ze(St.huffmanTableDC),yt=Ct===0?0:Ge(Ct);St.blockData[Ft]=St.pred+=yt;let bt=1;for(;bt<64;){const Pt=Ze(St.huffmanTableAC),Ut=Pt&15,Yt=Pt>>4;if(Ut===0){if(Yt<15)break;bt+=16;continue}bt+=Yt;const kt=Ae[bt];St.blockData[Ft+kt]=Ge(Ut),bt++}}function je(St,Ft){const Ct=Ze(St.huffmanTableDC),yt=Ct===0?0:Ge(Ct)<<Ie;St.blockData[Ft]=St.pred+=yt}function nt(St,Ft){St.blockData[Ft]|=Xe()<<Ie}let Qe=0;function We(St,Ft){if(Qe>0){Qe--;return}let Ct=Me;const yt=Ve;for(;Ct<=yt;){const bt=Ze(St.huffmanTableAC),Pt=bt&15,Ut=bt>>4;if(Pt===0){if(Ut<15){Qe=ot(Ut)+(1<<Ut)-1;break}Ct+=16;continue}Ct+=Ut;const Yt=Ae[Ct];St.blockData[Ft+Yt]=Ge(Pt)*(1<<Ie),Ct++}}let rt=0,et;function ct(St,Ft){let Ct=Me;const yt=Ve;let bt=0,Pt,Ut;for(;Ct<=yt;){const Yt=Ft+Ae[Ct],kt=St.blockData[Yt]<0?-1:1;switch(rt){case 0:if(Ut=Ze(St.huffmanTableAC),Pt=Ut&15,bt=Ut>>4,Pt===0)bt<15?(Qe=ot(bt)+(1<<bt),rt=4):(bt=16,rt=1);else{if(Pt!==1)throw new de("invalid ACn encoding");et=Ge(Pt),rt=bt?2:3}continue;case 1:case 2:St.blockData[Yt]?St.blockData[Yt]+=kt*(Xe()<<Ie):(bt--,bt===0&&(rt=rt===2?3:0));break;case 3:St.blockData[Yt]?St.blockData[Yt]+=kt*(Xe()<<Ie):(St.blockData[Yt]=et<<Ie,rt=0);break;case 4:St.blockData[Yt]&&(St.blockData[Yt]+=kt*(Xe()<<Ie));break}Ct++}rt===4&&(Qe--,Qe===0&&(rt=0))}let at=0;function Je(St,Ft,Ct,yt,bt){const Pt=Ct/Oe|0,Ut=Ct%Oe;at=Pt*St.v+yt;const Yt=Ut*St.h+bt,kt=Ee(St,at,Yt);Ft(St,kt)}function lt(St,Ft,Ct){at=Ct/St.blocksPerLine|0;const yt=Ct%St.blocksPerLine,bt=Ee(St,at,yt);Ft(St,bt)}const ut=Ue.length;let ft,pt,mt,xt,vt,wt;Ne?Me===0?wt=He===0?je:nt:wt=He===0?We:ct:wt=Ke;let _t=0,Tt,Lt;ut===1?Lt=Ue[0].blocksPerLine*Ue[0].blocksPerColumn:Lt=Oe*Pe.mcusPerColumn;let jt,Bt;for(;_t<=Lt;){const St=Te?Math.min(Lt-_t,Te):Lt;if(St>0){for(pt=0;pt<ut;pt++)Ue[pt].pred=0;if(Qe=0,ut===1)for(ft=Ue[0],vt=0;vt<St;vt++)lt(ft,wt,_t),_t++;else for(vt=0;vt<St;vt++){for(pt=0;pt<ut;pt++)for(ft=Ue[pt],jt=ft.h,Bt=ft.v,mt=0;mt<Bt;mt++)for(xt=0;xt<jt;xt++)Je(ft,wt,_t,mt,xt);_t++}}if(tt=0,Tt=Ye($e,Be),!Tt)break;if(Tt.invalid){const Ft=St>0?"unexpected":"excessive";(0,ae.warn)(`decodeScan - ${Ft} MCU data, current marker is: ${Tt.invalid}`),Be=Tt.offset}if(Tt.marker>=65488&&Tt.marker<=65495)Be+=2;else break}return Be-qe}function ye($e,Be,Pe){const Ue=$e.quantizationTable,Te=$e.blockData;let Me,Ve,He,Ie,Le,Oe,Ne,qe,it,tt,Xe,Ze,ot,Ge,Ke,je,nt;if(!Ue)throw new de("missing required Quantization Table.");for(let Qe=0;Qe<64;Qe+=8){if(it=Te[Be+Qe],tt=Te[Be+Qe+1],Xe=Te[Be+Qe+2],Ze=Te[Be+Qe+3],ot=Te[Be+Qe+4],Ge=Te[Be+Qe+5],Ke=Te[Be+Qe+6],je=Te[Be+Qe+7],it*=Ue[Qe],!(tt|Xe|Ze|ot|Ge|Ke|je)){nt=we*it+512>>10,Pe[Qe]=nt,Pe[Qe+1]=nt,Pe[Qe+2]=nt,Pe[Qe+3]=nt,Pe[Qe+4]=nt,Pe[Qe+5]=nt,Pe[Qe+6]=nt,Pe[Qe+7]=nt;continue}tt*=Ue[Qe+1],Xe*=Ue[Qe+2],Ze*=Ue[Qe+3],ot*=Ue[Qe+4],Ge*=Ue[Qe+5],Ke*=Ue[Qe+6],je*=Ue[Qe+7],Me=we*it+128>>8,Ve=we*ot+128>>8,He=Xe,Ie=Ke,Le=Fe*(tt-je)+128>>8,qe=Fe*(tt+je)+128>>8,Oe=Ze<<4,Ne=Ge<<4,Me=Me+Ve+1>>1,Ve=Me-Ve,nt=He*ue+Ie*xe+128>>8,He=He*xe-Ie*ue+128>>8,Ie=nt,Le=Le+Ne+1>>1,Ne=Le-Ne,qe=qe+Oe+1>>1,Oe=qe-Oe,Me=Me+Ie+1>>1,Ie=Me-Ie,Ve=Ve+He+1>>1,He=Ve-He,nt=Le*be+qe*fe+2048>>12,Le=Le*fe-qe*be+2048>>12,qe=nt,nt=Oe*Se+Ne*ge+2048>>12,Oe=Oe*ge-Ne*Se+2048>>12,Ne=nt,Pe[Qe]=Me+qe,Pe[Qe+7]=Me-qe,Pe[Qe+1]=Ve+Ne,Pe[Qe+6]=Ve-Ne,Pe[Qe+2]=He+Oe,Pe[Qe+5]=He-Oe,Pe[Qe+3]=Ie+Le,Pe[Qe+4]=Ie-Le}for(let Qe=0;Qe<8;++Qe){if(it=Pe[Qe],tt=Pe[Qe+8],Xe=Pe[Qe+16],Ze=Pe[Qe+24],ot=Pe[Qe+32],Ge=Pe[Qe+40],Ke=Pe[Qe+48],je=Pe[Qe+56],!(tt|Xe|Ze|ot|Ge|Ke|je)){nt=we*it+8192>>14,nt<-2040?nt=0:nt>=2024?nt=255:nt=nt+2056>>4,Te[Be+Qe]=nt,Te[Be+Qe+8]=nt,Te[Be+Qe+16]=nt,Te[Be+Qe+24]=nt,Te[Be+Qe+32]=nt,Te[Be+Qe+40]=nt,Te[Be+Qe+48]=nt,Te[Be+Qe+56]=nt;continue}Me=we*it+2048>>12,Ve=we*ot+2048>>12,He=Xe,Ie=Ke,Le=Fe*(tt-je)+2048>>12,qe=Fe*(tt+je)+2048>>12,Oe=Ze,Ne=Ge,Me=(Me+Ve+1>>1)+4112,Ve=Me-Ve,nt=He*ue+Ie*xe+2048>>12,He=He*xe-Ie*ue+2048>>12,Ie=nt,Le=Le+Ne+1>>1,Ne=Le-Ne,qe=qe+Oe+1>>1,Oe=qe-Oe,Me=Me+Ie+1>>1,Ie=Me-Ie,Ve=Ve+He+1>>1,He=Ve-He,nt=Le*be+qe*fe+2048>>12,Le=Le*fe-qe*be+2048>>12,qe=nt,nt=Oe*Se+Ne*ge+2048>>12,Oe=Oe*ge-Ne*Se+2048>>12,Ne=nt,it=Me+qe,je=Me-qe,tt=Ve+Ne,Ke=Ve-Ne,Xe=He+Oe,Ge=He-Oe,Ze=Ie+Le,ot=Ie-Le,it<16?it=0:it>=4080?it=255:it>>=4,tt<16?tt=0:tt>=4080?tt=255:tt>>=4,Xe<16?Xe=0:Xe>=4080?Xe=255:Xe>>=4,Ze<16?Ze=0:Ze>=4080?Ze=255:Ze>>=4,ot<16?ot=0:ot>=4080?ot=255:ot>>=4,Ge<16?Ge=0:Ge>=4080?Ge=255:Ge>>=4,Ke<16?Ke=0:Ke>=4080?Ke=255:Ke>>=4,je<16?je=0:je>=4080?je=255:je>>=4,Te[Be+Qe]=it,Te[Be+Qe+8]=tt,Te[Be+Qe+16]=Xe,Te[Be+Qe+24]=Ze,Te[Be+Qe+32]=ot,Te[Be+Qe+40]=Ge,Te[Be+Qe+48]=Ke,Te[Be+Qe+56]=je}}function Re($e,Be){const Pe=Be.blocksPerLine,Ue=Be.blocksPerColumn,Te=new Int16Array(64);for(let Me=0;Me<Ue;Me++)for(let Ve=0;Ve<Pe;Ve++){const He=Ee(Be,Me,Ve);ye(Be,He,Te)}return Be.blockData}function Ye($e,Be,Pe=Be){const Ue=$e.length-1;let Te=Pe<Be?Pe:Be;if(Be>=Ue)return null;const Me=(0,he.readUint16)($e,Be);if(Me>=65472&&Me<=65534)return{invalid:null,marker:Me,offset:Be};let Ve=(0,he.readUint16)($e,Te);for(;!(Ve>=65472&&Ve<=65534);){if(++Te>=Ue)return null;Ve=(0,he.readUint16)($e,Te)}return{invalid:Me.toString(16),marker:Ve,offset:Te}}class ke{constructor({decodeTransform:Be=null,colorTransform:Pe=-1}={}){this._decodeTransform=Be,this._colorTransform=Pe}parse(Be,{dnlScanLines:Pe=null}={}){function Ue(){const Xe=(0,he.readUint16)(Be,Me);Me+=2;let Ze=Me+Xe-2;const ot=Ye(Be,Ze,Me);ot&&ot.invalid&&((0,ae.warn)("readDataBlock - incorrect length, current marker is: "+ot.invalid),Ze=ot.offset);const Ge=Be.subarray(Me,Ze);return Me+=Ge.length,Ge}function Te(Xe){const Ze=Math.ceil(Xe.samplesPerLine/8/Xe.maxH),ot=Math.ceil(Xe.scanLines/8/Xe.maxV);for(let Ge=0,Ke=Xe.components.length;Ge<Ke;Ge++){const je=Xe.components[Ge],nt=Math.ceil(Math.ceil(Xe.samplesPerLine/8)*je.h/Xe.maxH),Qe=Math.ceil(Math.ceil(Xe.scanLines/8)*je.v/Xe.maxV),We=Ze*je.h,et=64*(ot*je.v)*(We+1);je.blockData=new Int16Array(et),je.blocksPerLine=nt,je.blocksPerColumn=Qe}Xe.mcusPerLine=Ze,Xe.mcusPerColumn=ot}let Me=0,Ve=null,He=null,Ie,Le,Oe=0;const Ne=[],qe=[],it=[];let tt=(0,he.readUint16)(Be,Me);if(Me+=2,tt!==65496)throw new de("SOI not found");tt=(0,he.readUint16)(Be,Me),Me+=2;e:for(;tt!==65497;){let Xe,Ze,ot;switch(tt){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const Ge=Ue();tt===65504&&Ge[0]===74&&Ge[1]===70&&Ge[2]===73&&Ge[3]===70&&Ge[4]===0&&(Ve={version:{major:Ge[5],minor:Ge[6]},densityUnits:Ge[7],xDensity:Ge[8]<<8|Ge[9],yDensity:Ge[10]<<8|Ge[11],thumbWidth:Ge[12],thumbHeight:Ge[13],thumbData:Ge.subarray(14,14+3*Ge[12]*Ge[13])}),tt===65518&&Ge[0]===65&&Ge[1]===100&&Ge[2]===111&&Ge[3]===98&&Ge[4]===101&&(He={version:Ge[5]<<8|Ge[6],flags0:Ge[7]<<8|Ge[8],flags1:Ge[9]<<8|Ge[10],transformCode:Ge[11]});break;case 65499:const Ke=(0,he.readUint16)(Be,Me);Me+=2;const je=Ke+Me-2;let nt;for(;Me<je;){const xt=Be[Me++],vt=new Uint16Array(64);if(xt>>4)if(xt>>4===1)for(Ze=0;Ze<64;Ze++)nt=Ae[Ze],vt[nt]=(0,he.readUint16)(Be,Me),Me+=2;else throw new de("DQT - invalid table spec");else for(Ze=0;Ze<64;Ze++)nt=Ae[Ze],vt[nt]=Be[Me++];Ne[xt&15]=vt}break;case 65472:case 65473:case 65474:if(Ie)throw new de("Only single frame JPEGs supported");Me+=2,Ie={},Ie.extended=tt===65473,Ie.progressive=tt===65474,Ie.precision=Be[Me++];const Qe=(0,he.readUint16)(Be,Me);Me+=2,Ie.scanLines=Pe||Qe,Ie.samplesPerLine=(0,he.readUint16)(Be,Me),Me+=2,Ie.components=[],Ie.componentIds={};const We=Be[Me++];let rt=0,et=0;for(Xe=0;Xe<We;Xe++){const xt=Be[Me],vt=Be[Me+1]>>4,wt=Be[Me+1]&15;rt<vt&&(rt=vt),et<wt&&(et=wt);const _t=Be[Me+2];ot=Ie.components.push({h:vt,v:wt,quantizationId:_t,quantizationTable:null}),Ie.componentIds[xt]=ot-1,Me+=3}Ie.maxH=rt,Ie.maxV=et,Te(Ie);break;case 65476:const ct=(0,he.readUint16)(Be,Me);for(Me+=2,Xe=2;Xe<ct;){const xt=Be[Me++],vt=new Uint8Array(16);let wt=0;for(Ze=0;Ze<16;Ze++,Me++)wt+=vt[Ze]=Be[Me];const _t=new Uint8Array(wt);for(Ze=0;Ze<wt;Ze++,Me++)_t[Ze]=Be[Me];Xe+=17+wt,(xt>>4?qe:it)[xt&15]=_e(vt,_t)}break;case 65501:Me+=2,Le=(0,he.readUint16)(Be,Me),Me+=2;break;case 65498:const at=++Oe===1&&!Pe;Me+=2;const Je=Be[Me++],lt=[];for(Xe=0;Xe<Je;Xe++){const xt=Be[Me++],vt=Ie.componentIds[xt],wt=Ie.components[vt];wt.index=xt;const _t=Be[Me++];wt.huffmanTableDC=it[_t>>4],wt.huffmanTableAC=qe[_t&15],lt.push(wt)}const ut=Be[Me++],ft=Be[Me++],pt=Be[Me++];try{const xt=Ce(Be,Me,Ie,lt,Le,ut,ft,pt>>4,pt&15,at);Me+=xt}catch(xt){if(xt instanceof pe)return(0,ae.warn)(`${xt.message} -- attempting to re-parse the JPEG image.`),this.parse(Be,{dnlScanLines:xt.scanLines});if(xt instanceof re){(0,ae.warn)(`${xt.message} -- ignoring the rest of the image data.`);break e}throw xt}break;case 65500:Me+=4;break;case 65535:Be[Me]!==255&&Me--;break;default:const mt=Ye(Be,Me-2,Me-3);if(mt&&mt.invalid){(0,ae.warn)("JpegImage.parse - unexpected data, current marker is: "+mt.invalid),Me=mt.offset;break}if(!mt||Me>=Be.length-1){(0,ae.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new de("JpegImage.parse - unknown marker: "+tt.toString(16))}tt=(0,he.readUint16)(Be,Me),Me+=2}this.width=Ie.samplesPerLine,this.height=Ie.scanLines,this.jfif=Ve,this.adobe=He,this.components=[];for(let Xe=0,Ze=Ie.components.length;Xe<Ze;Xe++){const ot=Ie.components[Xe],Ge=Ne[ot.quantizationId];Ge&&(ot.quantizationTable=Ge),this.components.push({index:ot.index,output:Re(Ie,ot),scaleX:ot.h/Ie.maxH,scaleY:ot.v/Ie.maxV,blocksPerLine:ot.blocksPerLine,blocksPerColumn:ot.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(Be,Pe,Ue=!1){const Te=this.width/Be,Me=this.height/Pe;let Ve,He,Ie,Le,Oe,Ne,qe,it,tt,Xe,Ze=0,ot;const Ge=this.components.length,Ke=Be*Pe*Ge,je=new Uint8ClampedArray(Ke),nt=new Uint32Array(Be),Qe=4294967288;let We;for(qe=0;qe<Ge;qe++){if(Ve=this.components[qe],He=Ve.scaleX*Te,Ie=Ve.scaleY*Me,Ze=qe,ot=Ve.output,Le=Ve.blocksPerLine+1<<3,He!==We){for(Oe=0;Oe<Be;Oe++)it=0|Oe*He,nt[Oe]=(it&Qe)<<3|it&7;We=He}for(Ne=0;Ne<Pe;Ne++)for(it=0|Ne*Ie,Xe=Le*(it&Qe)|(it&7)<<3,Oe=0;Oe<Be;Oe++)je[Ze]=ot[Xe+nt[Oe]],Ze+=Ge}let rt=this._decodeTransform;if(!Ue&&Ge===4&&!rt&&(rt=new Int32Array([-256,255,-256,255,-256,255,-256,255])),rt)for(qe=0;qe<Ke;)for(it=0,tt=0;it<Ge;it++,qe++,tt+=2)je[qe]=(je[qe]*rt[tt]>>8)+rt[tt+1];return je}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(Be){let Pe,Ue,Te;for(let Me=0,Ve=Be.length;Me<Ve;Me+=3)Pe=Be[Me],Ue=Be[Me+1],Te=Be[Me+2],Be[Me]=Pe-179.456+1.402*Te,Be[Me+1]=Pe+135.459-.344*Ue-.714*Te,Be[Me+2]=Pe-226.816+1.772*Ue;return Be}_convertYcckToRgb(Be){let Pe,Ue,Te,Me,Ve=0;for(let He=0,Ie=Be.length;He<Ie;He+=4)Pe=Be[He],Ue=Be[He+1],Te=Be[He+2],Me=Be[He+3],Be[Ve++]=-122.67195406894+Ue*(-660635669420364e-19*Ue+.000437130475926232*Te-54080610064599e-18*Pe+.00048449797120281*Me-.154362151871126)+Te*(-.000957964378445773*Te+.000817076911346625*Pe-.00477271405408747*Me+1.53380253221734)+Pe*(.000961250184130688*Pe-.00266257332283933*Me+.48357088451265)+Me*(-.000336197177618394*Me+.484791561490776),Be[Ve++]=107.268039397724+Ue*(219927104525741e-19*Ue-.000640992018297945*Te+.000659397001245577*Pe+.000426105652938837*Me-.176491792462875)+Te*(-.000778269941513683*Te+.00130872261408275*Pe+.000770482631801132*Me-.151051492775562)+Pe*(.00126935368114843*Pe-.00265090189010898*Me+.25802910206845)+Me*(-.000318913117588328*Me-.213742400323665),Be[Ve++]=-20.810012546947+Ue*(-.000570115196973677*Ue-263409051004589e-19*Te+.0020741088115012*Pe-.00288260236853442*Me+.814272968359295)+Te*(-153496057440975e-19*Te-.000132689043961446*Pe+.000560833691242812*Me-.195152027534049)+Pe*(.00174418132927582*Pe-.00255243321439347*Me+.116935020465145)+Me*(-.000343531996510555*Me+.24165260232407);return Be.subarray(0,Ve)}_convertYcckToCmyk(Be){let Pe,Ue,Te;for(let Me=0,Ve=Be.length;Me<Ve;Me+=4)Pe=Be[Me],Ue=Be[Me+1],Te=Be[Me+2],Be[Me]=434.456-Pe-1.402*Te,Be[Me+1]=119.541-Pe+.344*Ue+.714*Te,Be[Me+2]=481.816-Pe-1.772*Ue;return Be}_convertCmykToRgb(Be){let Pe,Ue,Te,Me,Ve=0;for(let He=0,Ie=Be.length;He<Ie;He+=4)Pe=Be[He],Ue=Be[He+1],Te=Be[He+2],Me=Be[He+3],Be[Ve++]=255+Pe*(-6747147073602441e-20*Pe+.0008379262121013727*Ue+.0002894718188643294*Te+.003264231057537806*Me-1.1185611867203937)+Ue*(26374107616089405e-21*Ue-8626949158638572e-20*Te-.0002748769067499491*Me-.02155688794978967)+Te*(-3878099212869363e-20*Te-.0003267808279485286*Me+.0686742238595345)-Me*(.0003361971776183937*Me+.7430659151342254),Be[Ve++]=255+Pe*(.00013596372813588848*Pe+.000924537132573585*Ue+.00010567359618683593*Te+.0004791864687436512*Me-.3109689587515875)+Ue*(-.00023545346108370344*Ue+.0002702845253534714*Te+.0020200308977307156*Me-.7488052167015494)+Te*(6834815998235662e-20*Te+.00015168452363460973*Me-.09751927774728933)-Me*(.0003189131175883281*Me+.7364883807733168),Be[Ve++]=255+Pe*(13598650411385307e-21*Pe+.00012423956175490851*Ue+.0004751985097583589*Te-36729317476630422e-22*Me-.05562186980264034)+Ue*(.00016141380598724676*Ue+.0009692239130725186*Te+.0007782692450036253*Me-.44015232367526463)+Te*(5068882914068769e-22*Te+.0017778369011375071*Me-.7591454649749609)-Me*(.0003435319965105553*Me+.7063770186160144);return Be.subarray(0,Ve)}getData({width:Be,height:Pe,forceRGB:Ue=!1,isSourcePDF:Te=!1}){if(this.numComponents>4)throw new de("Unsupported color mode");const Me=this._getLinearizedBlockData(Be,Pe,Te);if(this.numComponents===1&&Ue){const Ve=Me.length,He=new Uint8ClampedArray(Ve*3);let Ie=0;for(let Le=0;Le<Ve;Le++){const Oe=Me[Le];He[Ie++]=Oe,He[Ie++]=Oe,He[Ie++]=Oe}return He}else{if(this.numComponents===3&&this._isColorConversionNeeded)return this._convertYccToRgb(Me);if(this.numComponents===4){if(this._isColorConversionNeeded)return Ue?this._convertYcckToRgb(Me):this._convertYcckToCmyk(Me);if(Ue)return this._convertCmykToRgb(Me)}}return Me}}oe.JpegImage=ke},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.JpxStream=void 0;var ae=ce(19),he=ce(30),de=ce(2);class pe extends ae.DecodeStream{constructor(Ae,ge,Se){super(ge),this.stream=Ae,this.dict=Ae.dict,this.maybeLength=ge,this.params=Se}get bytes(){return(0,de.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(Ae){}readBlock(){if(this.eof)return;const Ae=new he.JpxImage;Ae.parse(this.bytes);const ge=Ae.width,Se=Ae.height,fe=Ae.componentsCount,be=Ae.tiles.length;if(be===1)this.buffer=Ae.tiles[0].items;else{const xe=new Uint8ClampedArray(ge*Se*fe);for(let ue=0;ue<be;ue++){const we=Ae.tiles[ue],Fe=we.width,_e=we.height,Ee=we.left,Ce=we.top,ye=we.items;let Re=0,Ye=(ge*Ce+Ee)*fe;const ke=ge*fe,$e=Fe*fe;for(let Be=0;Be<_e;Be++){const Pe=ye.subarray(Re,Re+$e);xe.set(Pe,Ye),Re+=$e,Ye+=ke}}this.buffer=xe}this.bufferLength=this.buffer.length,this.eof=!0}}oe.JpxStream=pe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.JpxImage=void 0;var ae=ce(2),he=ce(6),de=ce(26);class pe extends ae.BaseException{constructor(Ne){super(`JPX error: ${Ne}`,"JpxError")}}const re={LL:0,LH:1,HL:1,HH:2};class Ae{constructor(){this.failOnCorruptedImage=!1}parse(Ne){if((0,he.readUint16)(Ne,0)===65359){this.parseCodestream(Ne,0,Ne.length);return}const it=Ne.length;let tt=0;for(;tt<it;){let Xe=8,Ze=(0,he.readUint32)(Ne,tt);const ot=(0,he.readUint32)(Ne,tt+4);if(tt+=Xe,Ze===1&&(Ze=(0,he.readUint32)(Ne,tt)*4294967296+(0,he.readUint32)(Ne,tt+4),tt+=8,Xe+=8),Ze===0&&(Ze=it-tt+Xe),Ze<Xe)throw new pe("Invalid box field size");const Ge=Ze-Xe;let Ke=!0;switch(ot){case 1785737832:Ke=!1;break;case 1668246642:const je=Ne[tt];if(je===1){const Qe=(0,he.readUint32)(Ne,tt+3);switch(Qe){case 16:case 17:case 18:break;default:(0,ae.warn)("Unknown colorspace "+Qe);break}}else je===2&&(0,ae.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(Ne,tt,tt+Ge);break;case 1783636e3:(0,he.readUint32)(Ne,tt)!==218793738&&(0,ae.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const nt=String.fromCharCode(ot>>24&255,ot>>16&255,ot>>8&255,ot&255);(0,ae.warn)(`Unsupported header type ${ot} (${nt}).`);break}Ke&&(tt+=Ge)}}parseImageProperties(Ne){let qe=Ne.getByte();for(;qe>=0;){const it=qe;if(qe=Ne.getByte(),(it<<8|qe)===65361){Ne.skip(4);const Xe=Ne.getInt32()>>>0,Ze=Ne.getInt32()>>>0,ot=Ne.getInt32()>>>0,Ge=Ne.getInt32()>>>0;Ne.skip(16);const Ke=Ne.getUint16();this.width=Xe-ot,this.height=Ze-Ge,this.componentsCount=Ke,this.bitsPerComponent=8;return}}throw new pe("No size marker found in JPX stream")}parseCodestream(Ne,qe,it){const tt={};let Xe=!1;try{let Ze=qe;for(;Ze+1<it;){const ot=(0,he.readUint16)(Ne,Ze);Ze+=2;let Ge=0,Ke,je,nt,Qe,We,rt;switch(ot){case 65359:tt.mainHeader=!0;break;case 65497:break;case 65361:Ge=(0,he.readUint16)(Ne,Ze);const et={};et.Xsiz=(0,he.readUint32)(Ne,Ze+4),et.Ysiz=(0,he.readUint32)(Ne,Ze+8),et.XOsiz=(0,he.readUint32)(Ne,Ze+12),et.YOsiz=(0,he.readUint32)(Ne,Ze+16),et.XTsiz=(0,he.readUint32)(Ne,Ze+20),et.YTsiz=(0,he.readUint32)(Ne,Ze+24),et.XTOsiz=(0,he.readUint32)(Ne,Ze+28),et.YTOsiz=(0,he.readUint32)(Ne,Ze+32);const ct=(0,he.readUint16)(Ne,Ze+36);et.Csiz=ct;const at=[];Ke=Ze+38;for(let vt=0;vt<ct;vt++){const wt={precision:(Ne[Ke]&127)+1,isSigned:!!(Ne[Ke]&128),XRsiz:Ne[Ke+1],YRsiz:Ne[Ke+2]};Ke+=3,ge(wt,et),at.push(wt)}tt.SIZ=et,tt.components=at,Se(tt,at),tt.QCC=[],tt.COC=[];break;case 65372:Ge=(0,he.readUint16)(Ne,Ze);const Je={};switch(Ke=Ze+2,je=Ne[Ke++],je&31){case 0:Qe=8,We=!0;break;case 1:Qe=16,We=!1;break;case 2:Qe=16,We=!0;break;default:throw new Error("Invalid SQcd value "+je)}for(Je.noQuantization=Qe===8,Je.scalarExpounded=We,Je.guardBits=je>>5,nt=[];Ke<Ge+Ze;){const vt={};Qe===8?(vt.epsilon=Ne[Ke++]>>3,vt.mu=0):(vt.epsilon=Ne[Ke]>>3,vt.mu=(Ne[Ke]&7)<<8|Ne[Ke+1],Ke+=2),nt.push(vt)}Je.SPqcds=nt,tt.mainHeader?tt.QCD=Je:(tt.currentTile.QCD=Je,tt.currentTile.QCC=[]);break;case 65373:Ge=(0,he.readUint16)(Ne,Ze);const lt={};Ke=Ze+2;let ut;switch(tt.SIZ.Csiz<257?ut=Ne[Ke++]:(ut=(0,he.readUint16)(Ne,Ke),Ke+=2),je=Ne[Ke++],je&31){case 0:Qe=8,We=!0;break;case 1:Qe=16,We=!1;break;case 2:Qe=16,We=!0;break;default:throw new Error("Invalid SQcd value "+je)}for(lt.noQuantization=Qe===8,lt.scalarExpounded=We,lt.guardBits=je>>5,nt=[];Ke<Ge+Ze;){const vt={};Qe===8?(vt.epsilon=Ne[Ke++]>>3,vt.mu=0):(vt.epsilon=Ne[Ke]>>3,vt.mu=(Ne[Ke]&7)<<8|Ne[Ke+1],Ke+=2),nt.push(vt)}lt.SPqcds=nt,tt.mainHeader?tt.QCC[ut]=lt:tt.currentTile.QCC[ut]=lt;break;case 65362:Ge=(0,he.readUint16)(Ne,Ze);const ft={};Ke=Ze+2;const pt=Ne[Ke++];ft.entropyCoderWithCustomPrecincts=!!(pt&1),ft.sopMarkerUsed=!!(pt&2),ft.ephMarkerUsed=!!(pt&4),ft.progressionOrder=Ne[Ke++],ft.layersCount=(0,he.readUint16)(Ne,Ke),Ke+=2,ft.multipleComponentTransform=Ne[Ke++],ft.decompositionLevelsCount=Ne[Ke++],ft.xcb=(Ne[Ke++]&15)+2,ft.ycb=(Ne[Ke++]&15)+2;const mt=Ne[Ke++];if(ft.selectiveArithmeticCodingBypass=!!(mt&1),ft.resetContextProbabilities=!!(mt&2),ft.terminationOnEachCodingPass=!!(mt&4),ft.verticallyStripe=!!(mt&8),ft.predictableTermination=!!(mt&16),ft.segmentationSymbolUsed=!!(mt&32),ft.reversibleTransformation=Ne[Ke++],ft.entropyCoderWithCustomPrecincts){const vt=[];for(;Ke<Ge+Ze;){const wt=Ne[Ke++];vt.push({PPx:wt&15,PPy:wt>>4})}ft.precinctsSizes=vt}const xt=[];ft.selectiveArithmeticCodingBypass&&xt.push("selectiveArithmeticCodingBypass"),ft.terminationOnEachCodingPass&&xt.push("terminationOnEachCodingPass"),ft.verticallyStripe&&xt.push("verticallyStripe"),ft.predictableTermination&&xt.push("predictableTermination"),xt.length>0&&(Xe=!0,(0,ae.warn)(`JPX: Unsupported COD options (${xt.join(", ")}).`)),tt.mainHeader?tt.COD=ft:(tt.currentTile.COD=ft,tt.currentTile.COC=[]);break;case 65424:Ge=(0,he.readUint16)(Ne,Ze),rt={},rt.index=(0,he.readUint16)(Ne,Ze+2),rt.length=(0,he.readUint32)(Ne,Ze+4),rt.dataEnd=rt.length+Ze-2,rt.partIndex=Ne[Ze+8],rt.partsCount=Ne[Ze+9],tt.mainHeader=!1,rt.partIndex===0&&(rt.COD=tt.COD,rt.COC=tt.COC.slice(0),rt.QCD=tt.QCD,rt.QCC=tt.QCC.slice(0)),tt.currentTile=rt;break;case 65427:rt=tt.currentTile,rt.partIndex===0&&(Ue(tt,rt.index),Ye(tt)),Ge=rt.dataEnd-Ze,ke(tt,Ne,Ze,Ge);break;case 65363:(0,ae.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:Ge=(0,he.readUint16)(Ne,Ze);break;default:throw new Error("Unknown codestream code: "+ot.toString(16))}Ze+=Ge}}catch(Ze){if(Xe||this.failOnCorruptedImage)throw new pe(Ze.message);(0,ae.warn)(`JPX: Trying to recover from: "${Ze.message}".`)}this.tiles=Pe(tt),this.width=tt.SIZ.Xsiz-tt.SIZ.XOsiz,this.height=tt.SIZ.Ysiz-tt.SIZ.YOsiz,this.componentsCount=tt.SIZ.Csiz}}oe.JpxImage=Ae;function ge(Oe,Ne){Oe.x0=Math.ceil(Ne.XOsiz/Oe.XRsiz),Oe.x1=Math.ceil(Ne.Xsiz/Oe.XRsiz),Oe.y0=Math.ceil(Ne.YOsiz/Oe.YRsiz),Oe.y1=Math.ceil(Ne.Ysiz/Oe.YRsiz),Oe.width=Oe.x1-Oe.x0,Oe.height=Oe.y1-Oe.y0}function Se(Oe,Ne){const qe=Oe.SIZ,it=[];let tt;const Xe=Math.ceil((qe.Xsiz-qe.XTOsiz)/qe.XTsiz),Ze=Math.ceil((qe.Ysiz-qe.YTOsiz)/qe.YTsiz);for(let Ge=0;Ge<Ze;Ge++)for(let Ke=0;Ke<Xe;Ke++)tt={},tt.tx0=Math.max(qe.XTOsiz+Ke*qe.XTsiz,qe.XOsiz),tt.ty0=Math.max(qe.YTOsiz+Ge*qe.YTsiz,qe.YOsiz),tt.tx1=Math.min(qe.XTOsiz+(Ke+1)*qe.XTsiz,qe.Xsiz),tt.ty1=Math.min(qe.YTOsiz+(Ge+1)*qe.YTsiz,qe.Ysiz),tt.width=tt.tx1-tt.tx0,tt.height=tt.ty1-tt.ty0,tt.components=[],it.push(tt);Oe.tiles=it;const ot=qe.Csiz;for(let Ge=0,Ke=ot;Ge<Ke;Ge++){const je=Ne[Ge];for(let nt=0,Qe=it.length;nt<Qe;nt++){const We={};tt=it[nt],We.tcx0=Math.ceil(tt.tx0/je.XRsiz),We.tcy0=Math.ceil(tt.ty0/je.YRsiz),We.tcx1=Math.ceil(tt.tx1/je.XRsiz),We.tcy1=Math.ceil(tt.ty1/je.YRsiz),We.width=We.tcx1-We.tcx0,We.height=We.tcy1-We.tcy0,tt.components[Ge]=We}}}function fe(Oe,Ne,qe){const it=Ne.codingStyleParameters,tt={};return it.entropyCoderWithCustomPrecincts?(tt.PPx=it.precinctsSizes[qe].PPx,tt.PPy=it.precinctsSizes[qe].PPy):(tt.PPx=15,tt.PPy=15),tt.xcb_=qe>0?Math.min(it.xcb,tt.PPx-1):Math.min(it.xcb,tt.PPx),tt.ycb_=qe>0?Math.min(it.ycb,tt.PPy-1):Math.min(it.ycb,tt.PPy),tt}function be(Oe,Ne,qe){const it=1<<qe.PPx,tt=1<<qe.PPy,Xe=Ne.resLevel===0,Ze=1<<qe.PPx+(Xe?0:-1),ot=1<<qe.PPy+(Xe?0:-1),Ge=Ne.trx1>Ne.trx0?Math.ceil(Ne.trx1/it)-Math.floor(Ne.trx0/it):0,Ke=Ne.try1>Ne.try0?Math.ceil(Ne.try1/tt)-Math.floor(Ne.try0/tt):0,je=Ge*Ke;Ne.precinctParameters={precinctWidth:it,precinctHeight:tt,numprecinctswide:Ge,numprecinctshigh:Ke,numprecincts:je,precinctWidthInSubband:Ze,precinctHeightInSubband:ot}}function xe(Oe,Ne,qe){const it=qe.xcb_,tt=qe.ycb_,Xe=1<<it,Ze=1<<tt,ot=Ne.tbx0>>it,Ge=Ne.tby0>>tt,Ke=Ne.tbx1+Xe-1>>it,je=Ne.tby1+Ze-1>>tt,nt=Ne.resolution.precinctParameters,Qe=[],We=[];let rt,et,ct,at;for(et=Ge;et<je;et++)for(rt=ot;rt<Ke;rt++){ct={cbx:rt,cby:et,tbx0:Xe*rt,tby0:Ze*et,tbx1:Xe*(rt+1),tby1:Ze*(et+1)},ct.tbx0_=Math.max(Ne.tbx0,ct.tbx0),ct.tby0_=Math.max(Ne.tby0,ct.tby0),ct.tbx1_=Math.min(Ne.tbx1,ct.tbx1),ct.tby1_=Math.min(Ne.tby1,ct.tby1);const Je=Math.floor((ct.tbx0_-Ne.tbx0)/nt.precinctWidthInSubband),lt=Math.floor((ct.tby0_-Ne.tby0)/nt.precinctHeightInSubband);if(at=Je+lt*nt.numprecinctswide,ct.precinctNumber=at,ct.subbandType=Ne.type,ct.Lblock=3,ct.tbx1_<=ct.tbx0_||ct.tby1_<=ct.tby0_)continue;Qe.push(ct);let ut=We[at];ut!==void 0?(rt<ut.cbxMin?ut.cbxMin=rt:rt>ut.cbxMax&&(ut.cbxMax=rt),et<ut.cbyMin?ut.cbxMin=et:et>ut.cbyMax&&(ut.cbyMax=et)):We[at]=ut={cbxMin:rt,cbyMin:et,cbxMax:rt,cbyMax:et},ct.precinct=ut}Ne.codeblockParameters={codeblockWidth:it,codeblockHeight:tt,numcodeblockwide:Ke-ot+1,numcodeblockhigh:je-Ge+1},Ne.codeblocks=Qe,Ne.precincts=We}function ue(Oe,Ne,qe){const it=[],tt=Oe.subbands;for(let Xe=0,Ze=tt.length;Xe<Ze;Xe++){const Ge=tt[Xe].codeblocks;for(let Ke=0,je=Ge.length;Ke<je;Ke++){const nt=Ge[Ke];nt.precinctNumber===Ne&&it.push(nt)}}return{layerNumber:qe,codeblocks:it}}function we(Oe){const Ne=Oe.SIZ,qe=Oe.currentTile.index,it=Oe.tiles[qe],tt=it.codingStyleDefaultParameters.layersCount,Xe=Ne.Csiz;let Ze=0;for(let nt=0;nt<Xe;nt++)Ze=Math.max(Ze,it.components[nt].codingStyleParameters.decompositionLevelsCount);let ot=0,Ge=0,Ke=0,je=0;this.nextPacket=function(){for(;ot<tt;ot++){for(;Ge<=Ze;Ge++){for(;Ke<Xe;Ke++){const Qe=it.components[Ke];if(Ge>Qe.codingStyleParameters.decompositionLevelsCount)continue;const We=Qe.resolutions[Ge],rt=We.precinctParameters.numprecincts;for(;je<rt;){const et=ue(We,je,ot);return je++,et}je=0}Ke=0}Ge=0}throw new pe("Out of packets")}}function Fe(Oe){const Ne=Oe.SIZ,qe=Oe.currentTile.index,it=Oe.tiles[qe],tt=it.codingStyleDefaultParameters.layersCount,Xe=Ne.Csiz;let Ze=0;for(let nt=0;nt<Xe;nt++)Ze=Math.max(Ze,it.components[nt].codingStyleParameters.decompositionLevelsCount);let ot=0,Ge=0,Ke=0,je=0;this.nextPacket=function(){for(;ot<=Ze;ot++){for(;Ge<tt;Ge++){for(;Ke<Xe;Ke++){const Qe=it.components[Ke];if(ot>Qe.codingStyleParameters.decompositionLevelsCount)continue;const We=Qe.resolutions[ot],rt=We.precinctParameters.numprecincts;for(;je<rt;){const et=ue(We,je,Ge);return je++,et}je=0}Ke=0}Ge=0}throw new pe("Out of packets")}}function _e(Oe){const Ne=Oe.SIZ,qe=Oe.currentTile.index,it=Oe.tiles[qe],tt=it.codingStyleDefaultParameters.layersCount,Xe=Ne.Csiz;let Ze,ot,Ge,Ke,je=0;for(Ge=0;Ge<Xe;Ge++){const Qe=it.components[Ge];je=Math.max(je,Qe.codingStyleParameters.decompositionLevelsCount)}const nt=new Int32Array(je+1);for(ot=0;ot<=je;++ot){let Qe=0;for(Ge=0;Ge<Xe;++Ge){const We=it.components[Ge].resolutions;ot<We.length&&(Qe=Math.max(Qe,We[ot].precinctParameters.numprecincts))}nt[ot]=Qe}Ze=0,ot=0,Ge=0,Ke=0,this.nextPacket=function(){for(;ot<=je;ot++){for(;Ke<nt[ot];Ke++){for(;Ge<Xe;Ge++){const We=it.components[Ge];if(ot>We.codingStyleParameters.decompositionLevelsCount)continue;const rt=We.resolutions[ot],et=rt.precinctParameters.numprecincts;if(!(Ke>=et)){for(;Ze<tt;){const ct=ue(rt,Ke,Ze);return Ze++,ct}Ze=0}}Ge=0}Ke=0}throw new pe("Out of packets")}}function Ee(Oe){const Ne=Oe.SIZ,qe=Oe.currentTile.index,it=Oe.tiles[qe],tt=it.codingStyleDefaultParameters.layersCount,Xe=Ne.Csiz,Ze=Re(it),ot=Ze;let Ge=0,Ke=0,je=0,nt=0,Qe=0;this.nextPacket=function(){for(;Qe<ot.maxNumHigh;Qe++){for(;nt<ot.maxNumWide;nt++){for(;je<Xe;je++){const rt=it.components[je],et=rt.codingStyleParameters.decompositionLevelsCount;for(;Ke<=et;Ke++){const ct=rt.resolutions[Ke],at=Ze.components[je].resolutions[Ke],Je=ye(nt,Qe,at,ot,ct);if(Je!==null){for(;Ge<tt;){const lt=ue(ct,Je,Ge);return Ge++,lt}Ge=0}}Ke=0}je=0}nt=0}throw new pe("Out of packets")}}function Ce(Oe){const Ne=Oe.SIZ,qe=Oe.currentTile.index,it=Oe.tiles[qe],tt=it.codingStyleDefaultParameters.layersCount,Xe=Ne.Csiz,Ze=Re(it);let ot=0,Ge=0,Ke=0,je=0,nt=0;this.nextPacket=function(){for(;Ke<Xe;++Ke){const We=it.components[Ke],rt=Ze.components[Ke],et=We.codingStyleParameters.decompositionLevelsCount;for(;nt<rt.maxNumHigh;nt++){for(;je<rt.maxNumWide;je++){for(;Ge<=et;Ge++){const ct=We.resolutions[Ge],at=rt.resolutions[Ge],Je=ye(je,nt,at,rt,ct);if(Je!==null){for(;ot<tt;){const lt=ue(ct,Je,ot);return ot++,lt}ot=0}}Ge=0}je=0}nt=0}throw new pe("Out of packets")}}function ye(Oe,Ne,qe,it,tt){const Xe=Oe*it.minWidth,Ze=Ne*it.minHeight;if(Xe%qe.width!==0||Ze%qe.height!==0)return null;const ot=Ze/qe.width*tt.precinctParameters.numprecinctswide;return Xe/qe.height+ot}function Re(Oe){const Ne=Oe.components.length;let qe=Number.MAX_VALUE,it=Number.MAX_VALUE,tt=0,Xe=0;const Ze=new Array(Ne);for(let ot=0;ot<Ne;ot++){const Ge=Oe.components[ot],Ke=Ge.codingStyleParameters.decompositionLevelsCount,je=new Array(Ke+1);let nt=Number.MAX_VALUE,Qe=Number.MAX_VALUE,We=0,rt=0,et=1;for(let ct=Ke;ct>=0;--ct){const at=Ge.resolutions[ct],Je=et*at.precinctParameters.precinctWidth,lt=et*at.precinctParameters.precinctHeight;nt=Math.min(nt,Je),Qe=Math.min(Qe,lt),We=Math.max(We,at.precinctParameters.numprecinctswide),rt=Math.max(rt,at.precinctParameters.numprecinctshigh),je[ct]={width:Je,height:lt},et<<=1}qe=Math.min(qe,nt),it=Math.min(it,Qe),tt=Math.max(tt,We),Xe=Math.max(Xe,rt),Ze[ot]={resolutions:je,minWidth:nt,minHeight:Qe,maxNumWide:We,maxNumHigh:rt}}return{components:Ze,minWidth:qe,minHeight:it,maxNumWide:tt,maxNumHigh:Xe}}function Ye(Oe){const Ne=Oe.SIZ,qe=Oe.currentTile.index,it=Oe.tiles[qe],tt=Ne.Csiz;for(let Ze=0;Ze<tt;Ze++){const ot=it.components[Ze],Ge=ot.codingStyleParameters.decompositionLevelsCount,Ke=[],je=[];for(let nt=0;nt<=Ge;nt++){const Qe=fe(Oe,ot,nt),We={},rt=1<<Ge-nt;We.trx0=Math.ceil(ot.tcx0/rt),We.try0=Math.ceil(ot.tcy0/rt),We.trx1=Math.ceil(ot.tcx1/rt),We.try1=Math.ceil(ot.tcy1/rt),We.resLevel=nt,be(Oe,We,Qe),Ke.push(We);let et;if(nt===0)et={},et.type="LL",et.tbx0=Math.ceil(ot.tcx0/rt),et.tby0=Math.ceil(ot.tcy0/rt),et.tbx1=Math.ceil(ot.tcx1/rt),et.tby1=Math.ceil(ot.tcy1/rt),et.resolution=We,xe(Oe,et,Qe),je.push(et),We.subbands=[et];else{const ct=1<<Ge-nt+1,at=[];et={},et.type="HL",et.tbx0=Math.ceil(ot.tcx0/ct-.5),et.tby0=Math.ceil(ot.tcy0/ct),et.tbx1=Math.ceil(ot.tcx1/ct-.5),et.tby1=Math.ceil(ot.tcy1/ct),et.resolution=We,xe(Oe,et,Qe),je.push(et),at.push(et),et={},et.type="LH",et.tbx0=Math.ceil(ot.tcx0/ct),et.tby0=Math.ceil(ot.tcy0/ct-.5),et.tbx1=Math.ceil(ot.tcx1/ct),et.tby1=Math.ceil(ot.tcy1/ct-.5),et.resolution=We,xe(Oe,et,Qe),je.push(et),at.push(et),et={},et.type="HH",et.tbx0=Math.ceil(ot.tcx0/ct-.5),et.tby0=Math.ceil(ot.tcy0/ct-.5),et.tbx1=Math.ceil(ot.tcx1/ct-.5),et.tby1=Math.ceil(ot.tcy1/ct-.5),et.resolution=We,xe(Oe,et,Qe),je.push(et),at.push(et),We.subbands=at}}ot.resolutions=Ke,ot.subbands=je}const Xe=it.codingStyleDefaultParameters.progressionOrder;switch(Xe){case 0:it.packetsIterator=new we(Oe);break;case 1:it.packetsIterator=new Fe(Oe);break;case 2:it.packetsIterator=new _e(Oe);break;case 3:it.packetsIterator=new Ee(Oe);break;case 4:it.packetsIterator=new Ce(Oe);break;default:throw new pe(`Unsupported progression order ${Xe}`)}}function ke(Oe,Ne,qe,it){let tt=0,Xe,Ze=0,ot=!1;function Ge(Je){for(;Ze<Je;){const lt=Ne[qe+tt];tt++,ot?(Xe=Xe<<7|lt,Ze+=7,ot=!1):(Xe=Xe<<8|lt,Ze+=8),lt===255&&(ot=!0)}return Ze-=Je,Xe>>>Ze&(1<<Je)-1}function Ke(Je){return Ne[qe+tt-1]===255&&Ne[qe+tt]===Je?(je(1),!0):Ne[qe+tt]===255&&Ne[qe+tt+1]===Je?(je(2),!0):!1}function je(Je){tt+=Je}function nt(){Ze=0,ot&&(tt++,ot=!1)}function Qe(){if(Ge(1)===0)return 1;if(Ge(1)===0)return 2;let Je=Ge(2);return Je<3?Je+3:(Je=Ge(5),Je<31?Je+6:(Je=Ge(7),Je+37))}const We=Oe.currentTile.index,rt=Oe.tiles[We],et=Oe.COD.sopMarkerUsed,ct=Oe.COD.ephMarkerUsed,at=rt.packetsIterator;for(;tt<it;){nt(),et&&Ke(145)&&je(4);const Je=at.nextPacket();if(!Ge(1))continue;const lt=Je.layerNumber,ut=[];let ft;for(let pt=0,mt=Je.codeblocks.length;pt<mt;pt++){ft=Je.codeblocks[pt];let xt=ft.precinct;const vt=ft.cbx-xt.cbxMin,wt=ft.cby-xt.cbyMin;let _t=!1,Tt=!1,Lt,jt;if(ft.included!==void 0)_t=!!Ge(1);else{xt=ft.precinct;let yt;if(xt.inclusionTree!==void 0)yt=xt.inclusionTree;else{const bt=xt.cbxMax-xt.cbxMin+1,Pt=xt.cbyMax-xt.cbyMin+1;yt=new Me(bt,Pt,lt),jt=new Te(bt,Pt),xt.inclusionTree=yt,xt.zeroBitPlanesTree=jt;for(let Ut=0;Ut<lt;Ut++)if(Ge(1)!==0)throw new pe("Invalid tag tree")}if(yt.reset(vt,wt,lt))for(;;)if(Ge(1)){if(Lt=!yt.nextLevel(),Lt){ft.included=!0,_t=Tt=!0;break}}else{yt.incrementValue(lt);break}}if(!_t)continue;if(Tt){for(jt=xt.zeroBitPlanesTree,jt.reset(vt,wt);;)if(Ge(1)){if(Lt=!jt.nextLevel(),Lt)break}else jt.incrementValue();ft.zeroBitPlanes=jt.value}const Bt=Qe();for(;Ge(1);)ft.Lblock++;const St=(0,he.log2)(Bt),Ft=(Bt<1<<St?St-1:St)+ft.Lblock,Ct=Ge(Ft);ut.push({codeblock:ft,codingpasses:Bt,dataLength:Ct})}for(nt(),ct&&Ke(146);ut.length>0;){const pt=ut.shift();ft=pt.codeblock,ft.data===void 0&&(ft.data=[]),ft.data.push({data:Ne,start:qe+tt,end:qe+tt+pt.dataLength,codingpasses:pt.codingpasses}),tt+=pt.dataLength}}return tt}function $e(Oe,Ne,qe,it,tt,Xe,Ze,ot,Ge){const Ke=it.tbx0,je=it.tby0,nt=it.tbx1-it.tbx0,Qe=it.codeblocks,We=it.type.charAt(0)==="H"?1:0,rt=it.type.charAt(1)==="H"?Ne:0;for(let et=0,ct=Qe.length;et<ct;++et){const at=Qe[et],Je=at.tbx1_-at.tbx0_,lt=at.tby1_-at.tby0_;if(Je===0||lt===0||at.data===void 0)continue;const ut=new Ve(Je,lt,at.subbandType,at.zeroBitPlanes,Xe);let ft=2;const pt=at.data;let mt=0,xt=0,vt,wt,_t;for(vt=0,wt=pt.length;vt<wt;vt++)_t=pt[vt],mt+=_t.end-_t.start,xt+=_t.codingpasses;const Tt=new Uint8Array(mt);let Lt=0;for(vt=0,wt=pt.length;vt<wt;vt++){_t=pt[vt];const kt=_t.data.subarray(_t.start,_t.end);Tt.set(kt,Lt),Lt+=kt.length}const jt=new de.ArithmeticDecoder(Tt,0,mt);for(ut.setDecoder(jt),vt=0;vt<xt;vt++){switch(ft){case 0:ut.runSignificancePropagationPass();break;case 1:ut.runMagnitudeRefinementPass();break;case 2:ut.runCleanupPass(),ot&&ut.checkSegmentationSymbol();break}Ge&&ut.reset(),ft=(ft+1)%3}let Bt=at.tbx0_-Ke+(at.tby0_-je)*nt;const St=ut.coefficentsSign,Ft=ut.coefficentsMagnitude,Ct=ut.bitsDecoded,yt=Ze?0:.5;let bt,Pt,Ut;Lt=0;const Yt=it.type!=="LL";for(vt=0;vt<lt;vt++){const Ot=2*(Bt/nt|0)*(Ne-nt)+We+rt;for(bt=0;bt<Je;bt++){if(Pt=Ft[Lt],Pt!==0){Pt=(Pt+yt)*tt,St[Lt]!==0&&(Pt=-Pt),Ut=Ct[Lt];const Et=Yt?Ot+(Bt<<1):Bt;Ze&&Ut>=Xe?Oe[Et]=Pt:Oe[Et]=Pt*(1<<Xe-Ut)}Bt++,Lt++}Bt+=nt-Je}}}function Be(Oe,Ne,qe){const it=Ne.components[qe],tt=it.codingStyleParameters,Xe=it.quantizationParameters,Ze=tt.decompositionLevelsCount,ot=Xe.SPqcds,Ge=Xe.scalarExpounded,Ke=Xe.guardBits,je=tt.segmentationSymbolUsed,nt=tt.resetContextProbabilities,Qe=Oe.components[qe].precision,We=tt.reversibleTransformation,rt=We?new Le:new Ie,et=[];let ct=0;for(let Je=0;Je<=Ze;Je++){const lt=it.resolutions[Je],ut=lt.trx1-lt.trx0,ft=lt.try1-lt.try0,pt=new Float32Array(ut*ft);for(let mt=0,xt=lt.subbands.length;mt<xt;mt++){let vt,wt;Ge?(vt=ot[ct].mu,wt=ot[ct].epsilon,ct++):(vt=ot[0].mu,wt=ot[0].epsilon+(Je>0?1-Je:0));const _t=lt.subbands[mt],Tt=re[_t.type],Lt=We?1:2**(Qe+Tt-wt)*(1+vt/2048),jt=Ke+wt-1;$e(pt,ut,ft,_t,Lt,jt,We,je,nt)}et.push({width:ut,height:ft,items:pt})}const at=rt.calculate(et,it.tcx0,it.tcy0);return{left:it.tcx0,top:it.tcy0,width:at.width,height:at.height,items:at.items}}function Pe(Oe){const Ne=Oe.SIZ,qe=Oe.components,it=Ne.Csiz,tt=[];for(let Xe=0,Ze=Oe.tiles.length;Xe<Ze;Xe++){const ot=Oe.tiles[Xe],Ge=[];for(let ut=0;ut<it;ut++)Ge[ut]=Be(Oe,ot,ut);const Ke=Ge[0],je=new Uint8ClampedArray(Ke.items.length*it),nt={left:Ke.left,top:Ke.top,width:Ke.width,height:Ke.height,items:je};let Qe,We,rt=0,et,ct,at,Je,lt;if(ot.codingStyleDefaultParameters.multipleComponentTransform){const ut=it===4,ft=Ge[0].items,pt=Ge[1].items,mt=Ge[2].items,xt=ut?Ge[3].items:null;Qe=qe[0].precision-8,We=(128<<Qe)+.5;const vt=ot.components[0],wt=it-3;if(ct=ft.length,vt.codingStyleParameters.reversibleTransformation)for(et=0;et<ct;et++,rt+=wt){at=ft[et]+We,Je=pt[et],lt=mt[et];const _t=at-(lt+Je>>2);je[rt++]=_t+lt>>Qe,je[rt++]=_t>>Qe,je[rt++]=_t+Je>>Qe}else for(et=0;et<ct;et++,rt+=wt)at=ft[et]+We,Je=pt[et],lt=mt[et],je[rt++]=at+1.402*lt>>Qe,je[rt++]=at-.34413*Je-.71414*lt>>Qe,je[rt++]=at+1.772*Je>>Qe;if(ut)for(et=0,rt=3;et<ct;et++,rt+=4)je[rt]=xt[et]+We>>Qe}else for(let ut=0;ut<it;ut++){const ft=Ge[ut].items;for(Qe=qe[ut].precision-8,We=(128<<Qe)+.5,rt=ut,et=0,ct=ft.length;et<ct;et++)je[rt]=ft[et]+We>>Qe,rt+=it}tt.push(nt)}return tt}function Ue(Oe,Ne){const it=Oe.SIZ.Csiz,tt=Oe.tiles[Ne];for(let Xe=0;Xe<it;Xe++){const Ze=tt.components[Xe],ot=Oe.currentTile.QCC[Xe]!==void 0?Oe.currentTile.QCC[Xe]:Oe.currentTile.QCD;Ze.quantizationParameters=ot;const Ge=Oe.currentTile.COC[Xe]!==void 0?Oe.currentTile.COC[Xe]:Oe.currentTile.COD;Ze.codingStyleParameters=Ge}tt.codingStyleDefaultParameters=Oe.currentTile.COD}class Te{constructor(Ne,qe){const it=(0,he.log2)(Math.max(Ne,qe))+1;this.levels=[];for(let tt=0;tt<it;tt++){const Xe={width:Ne,height:qe,items:[]};this.levels.push(Xe),Ne=Math.ceil(Ne/2),qe=Math.ceil(qe/2)}}reset(Ne,qe){let it=0,tt=0,Xe;for(;it<this.levels.length;){Xe=this.levels[it];const Ze=Ne+qe*Xe.width;if(Xe.items[Ze]!==void 0){tt=Xe.items[Ze];break}Xe.index=Ze,Ne>>=1,qe>>=1,it++}it--,Xe=this.levels[it],Xe.items[Xe.index]=tt,this.currentLevel=it,delete this.value}incrementValue(){const Ne=this.levels[this.currentLevel];Ne.items[Ne.index]++}nextLevel(){let Ne=this.currentLevel,qe=this.levels[Ne];const it=qe.items[qe.index];return Ne--,Ne<0?(this.value=it,!1):(this.currentLevel=Ne,qe=this.levels[Ne],qe.items[qe.index]=it,!0)}}class Me{constructor(Ne,qe,it){const tt=(0,he.log2)(Math.max(Ne,qe))+1;this.levels=[];for(let Xe=0;Xe<tt;Xe++){const Ze=new Uint8Array(Ne*qe);for(let Ge=0,Ke=Ze.length;Ge<Ke;Ge++)Ze[Ge]=it;const ot={width:Ne,height:qe,items:Ze};this.levels.push(ot),Ne=Math.ceil(Ne/2),qe=Math.ceil(qe/2)}}reset(Ne,qe,it){let tt=0;for(;tt<this.levels.length;){const Xe=this.levels[tt],Ze=Ne+qe*Xe.width;Xe.index=Ze;const ot=Xe.items[Ze];if(ot===255)break;if(ot>it)return this.currentLevel=tt,this.propagateValues(),!1;Ne>>=1,qe>>=1,tt++}return this.currentLevel=tt-1,!0}incrementValue(Ne){const qe=this.levels[this.currentLevel];qe.items[qe.index]=Ne+1,this.propagateValues()}propagateValues(){let Ne=this.currentLevel,qe=this.levels[Ne];const it=qe.items[qe.index];for(;--Ne>=0;)qe=this.levels[Ne],qe.items[qe.index]=it}nextLevel(){let Ne=this.currentLevel,qe=this.levels[Ne];const it=qe.items[qe.index];return qe.items[qe.index]=255,Ne--,Ne<0?!1:(this.currentLevel=Ne,qe=this.levels[Ne],qe.items[qe.index]=it,!0)}}const Ve=function(){const it=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),tt=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),Xe=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);class Ze{constructor(Ge,Ke,je,nt,Qe){this.width=Ge,this.height=Ke;let We;je==="HH"?We=Xe:je==="HL"?We=tt:We=it,this.contextLabelTable=We;const rt=Ge*Ke;this.neighborsSignificance=new Uint8Array(rt),this.coefficentsSign=new Uint8Array(rt);let et;Qe>14?et=new Uint32Array(rt):Qe>6?et=new Uint16Array(rt):et=new Uint8Array(rt),this.coefficentsMagnitude=et,this.processingFlags=new Uint8Array(rt);const ct=new Uint8Array(rt);if(nt!==0)for(let at=0;at<rt;at++)ct[at]=nt;this.bitsDecoded=ct,this.reset()}setDecoder(Ge){this.decoder=Ge}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(Ge,Ke,je){const nt=this.neighborsSignificance,Qe=this.width,We=this.height,rt=Ke>0,et=Ke+1<Qe;let ct;Ge>0&&(ct=je-Qe,rt&&(nt[ct-1]+=16),et&&(nt[ct+1]+=16),nt[ct]+=4),Ge+1<We&&(ct=je+Qe,rt&&(nt[ct-1]+=16),et&&(nt[ct+1]+=16),nt[ct]+=4),rt&&(nt[je-1]+=1),et&&(nt[je+1]+=1),nt[je]|=128}runSignificancePropagationPass(){const Ge=this.decoder,Ke=this.width,je=this.height,nt=this.coefficentsMagnitude,Qe=this.coefficentsSign,We=this.neighborsSignificance,rt=this.processingFlags,et=this.contexts,ct=this.contextLabelTable,at=this.bitsDecoded,Je=-2,lt=1,ut=2;for(let ft=0;ft<je;ft+=4)for(let pt=0;pt<Ke;pt++){let mt=ft*Ke+pt;for(let xt=0;xt<4;xt++,mt+=Ke){const vt=ft+xt;if(vt>=je)break;if(rt[mt]&=Je,nt[mt]||!We[mt])continue;const wt=ct[We[mt]];if(Ge.readBit(et,wt)){const Tt=this.decodeSignBit(vt,pt,mt);Qe[mt]=Tt,nt[mt]=1,this.setNeighborsSignificance(vt,pt,mt),rt[mt]|=ut}at[mt]++,rt[mt]|=lt}}}decodeSignBit(Ge,Ke,je){const nt=this.width,Qe=this.height,We=this.coefficentsMagnitude,rt=this.coefficentsSign;let et,ct,at,Je,lt,ut;Je=Ke>0&&We[je-1]!==0,Ke+1<nt&&We[je+1]!==0?(at=rt[je+1],Je?(ct=rt[je-1],et=1-at-ct):et=1-at-at):Je?(ct=rt[je-1],et=1-ct-ct):et=0;const ft=3*et;return Je=Ge>0&&We[je-nt]!==0,Ge+1<Qe&&We[je+nt]!==0?(at=rt[je+nt],Je?(ct=rt[je-nt],et=1-at-ct+ft):et=1-at-at+ft):Je?(ct=rt[je-nt],et=1-ct-ct+ft):et=ft,et>=0?(lt=9+et,ut=this.decoder.readBit(this.contexts,lt)):(lt=9-et,ut=this.decoder.readBit(this.contexts,lt)^1),ut}runMagnitudeRefinementPass(){const Ge=this.decoder,Ke=this.width,je=this.height,nt=this.coefficentsMagnitude,Qe=this.neighborsSignificance,We=this.contexts,rt=this.bitsDecoded,et=this.processingFlags,ct=1,at=2,Je=Ke*je,lt=Ke*4;for(let ut=0,ft;ut<Je;ut=ft){ft=Math.min(Je,ut+lt);for(let pt=0;pt<Ke;pt++)for(let mt=ut+pt;mt<ft;mt+=Ke){if(!nt[mt]||et[mt]&ct)continue;let xt=16;et[mt]&at&&(et[mt]^=at,xt=(Qe[mt]&127)===0?15:14);const vt=Ge.readBit(We,xt);nt[mt]=nt[mt]<<1|vt,rt[mt]++,et[mt]|=ct}}}runCleanupPass(){const Ge=this.decoder,Ke=this.width,je=this.height,nt=this.neighborsSignificance,Qe=this.coefficentsMagnitude,We=this.coefficentsSign,rt=this.contexts,et=this.contextLabelTable,ct=this.bitsDecoded,at=this.processingFlags,Je=1,lt=2,ut=Ke,ft=Ke*2,pt=Ke*3;let mt;for(let xt=0;xt<je;xt=mt){mt=Math.min(xt+4,je);const vt=xt*Ke,wt=xt+3<je;for(let _t=0;_t<Ke;_t++){const Tt=vt+_t,Lt=wt&&at[Tt]===0&&at[Tt+ut]===0&&at[Tt+ft]===0&&at[Tt+pt]===0&&nt[Tt]===0&&nt[Tt+ut]===0&&nt[Tt+ft]===0&&nt[Tt+pt]===0;let jt=0,Bt=Tt,St=xt,Ft;if(Lt){if(!Ge.readBit(rt,18)){ct[Tt]++,ct[Tt+ut]++,ct[Tt+ft]++,ct[Tt+pt]++;continue}jt=Ge.readBit(rt,17)<<1|Ge.readBit(rt,17),jt!==0&&(St=xt+jt,Bt+=jt*Ke),Ft=this.decodeSignBit(St,_t,Bt),We[Bt]=Ft,Qe[Bt]=1,this.setNeighborsSignificance(St,_t,Bt),at[Bt]|=lt,Bt=Tt;for(let yt=xt;yt<=St;yt++,Bt+=Ke)ct[Bt]++;jt++}for(St=xt+jt;St<mt;St++,Bt+=Ke){if(Qe[Bt]||at[Bt]&Je)continue;const Ct=et[nt[Bt]];Ge.readBit(rt,Ct)===1&&(Ft=this.decodeSignBit(St,_t,Bt),We[Bt]=Ft,Qe[Bt]=1,this.setNeighborsSignificance(St,_t,Bt),at[Bt]|=lt),ct[Bt]++}}}}checkSegmentationSymbol(){const Ge=this.decoder,Ke=this.contexts;if((Ge.readBit(Ke,17)<<3|Ge.readBit(Ke,17)<<2|Ge.readBit(Ke,17)<<1|Ge.readBit(Ke,17))!==10)throw new pe("Invalid segmentation symbol")}}return Ze}();class He{constructor(){this.constructor===He&&(0,ae.unreachable)("Cannot initialize Transform.")}calculate(Ne,qe,it){let tt=Ne[0];for(let Xe=1,Ze=Ne.length;Xe<Ze;Xe++)tt=this.iterate(tt,Ne[Xe],qe,it);return tt}extend(Ne,qe,it){let tt=qe-1,Xe=qe+1,Ze=qe+it-2,ot=qe+it;Ne[tt--]=Ne[Xe++],Ne[ot++]=Ne[Ze--],Ne[tt--]=Ne[Xe++],Ne[ot++]=Ne[Ze--],Ne[tt--]=Ne[Xe++],Ne[ot++]=Ne[Ze--],Ne[tt]=Ne[Xe],Ne[ot]=Ne[Ze]}filter(Ne,qe,it){(0,ae.unreachable)("Abstract method `filter` called")}iterate(Ne,qe,it,tt){const Xe=Ne.width,Ze=Ne.height;let ot=Ne.items;const Ge=qe.width,Ke=qe.height,je=qe.items;let nt,Qe,We,rt,et,ct;for(We=0,nt=0;nt<Ze;nt++)for(rt=nt*2*Ge,Qe=0;Qe<Xe;Qe++,We++,rt+=2)je[rt]=ot[We];ot=Ne.items=null;const at=4,Je=new Float32Array(Ge+2*at);if(Ge===1){if(it&1)for(ct=0,We=0;ct<Ke;ct++,We+=Ge)je[We]*=.5}else for(ct=0,We=0;ct<Ke;ct++,We+=Ge)Je.set(je.subarray(We,We+Ge),at),this.extend(Je,at,Ge),this.filter(Je,at,Ge),je.set(Je.subarray(at,at+Ge),We);let lt=16;const ut=[];for(nt=0;nt<lt;nt++)ut.push(new Float32Array(Ke+2*at));let ft,pt=0;if(Ne=at+Ke,Ke===1){if(tt&1)for(et=0;et<Ge;et++)je[et]*=.5}else for(et=0;et<Ge;et++){if(pt===0){for(lt=Math.min(Ge-et,lt),We=et,rt=at;rt<Ne;We+=Ge,rt++)for(ft=0;ft<lt;ft++)ut[ft][rt]=je[We+ft];pt=lt}pt--;const mt=ut[pt];if(this.extend(mt,at,Ke),this.filter(mt,at,Ke),pt===0)for(We=et-lt+1,rt=at;rt<Ne;We+=Ge,rt++)for(ft=0;ft<lt;ft++)je[We+ft]=ut[ft][rt]}return{width:Ge,height:Ke,items:je}}}class Ie extends He{filter(Ne,qe,it){const tt=it>>1;qe|=0;let Xe,Ze,ot,Ge;const Ke=-1.586134342059924,je=-.052980118572961,nt=.882911075530934,Qe=.443506852043971,We=1.230174104914001,rt=1/We;for(Xe=qe-3,Ze=tt+4;Ze--;Xe+=2)Ne[Xe]*=rt;for(Xe=qe-2,ot=Qe*Ne[Xe-1],Ze=tt+3;Ze--&&(Ge=Qe*Ne[Xe+1],Ne[Xe]=We*Ne[Xe]-ot-Ge,Ze--);Xe+=2)Xe+=2,ot=Qe*Ne[Xe+1],Ne[Xe]=We*Ne[Xe]-ot-Ge;for(Xe=qe-1,ot=nt*Ne[Xe-1],Ze=tt+2;Ze--&&(Ge=nt*Ne[Xe+1],Ne[Xe]-=ot+Ge,Ze--);Xe+=2)Xe+=2,ot=nt*Ne[Xe+1],Ne[Xe]-=ot+Ge;for(Xe=qe,ot=je*Ne[Xe-1],Ze=tt+1;Ze--&&(Ge=je*Ne[Xe+1],Ne[Xe]-=ot+Ge,Ze--);Xe+=2)Xe+=2,ot=je*Ne[Xe+1],Ne[Xe]-=ot+Ge;if(tt!==0)for(Xe=qe+1,ot=Ke*Ne[Xe-1],Ze=tt;Ze--&&(Ge=Ke*Ne[Xe+1],Ne[Xe]-=ot+Ge,Ze--);Xe+=2)Xe+=2,ot=Ke*Ne[Xe+1],Ne[Xe]-=ot+Ge}}class Le extends He{filter(Ne,qe,it){const tt=it>>1;qe|=0;let Xe,Ze;for(Xe=qe,Ze=tt+1;Ze--;Xe+=2)Ne[Xe]-=Ne[Xe-1]+Ne[Xe+1]+2>>2;for(Xe=qe+1,Ze=tt;Ze--;Xe+=2)Ne[Xe]+=Ne[Xe-1]+Ne[Xe+1]>>1}}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.LZWStream=void 0;var ae=ce(19);class he extends ae.DecodeStream{constructor(pe,re,Ae){super(re),this.str=pe,this.dict=pe.dict,this.cachedData=0,this.bitsCached=0;const ge=4096,Se={earlyChange:Ae,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(ge),dictionaryLengths:new Uint16Array(ge),dictionaryPrevCodes:new Uint16Array(ge),currentSequence:new Uint8Array(ge),currentSequenceLength:0};for(let fe=0;fe<256;++fe)Se.dictionaryValues[fe]=fe,Se.dictionaryLengths[fe]=1;this.lzwState=Se}readBits(pe){let re=this.bitsCached,Ae=this.cachedData;for(;re<pe;){const ge=this.str.getByte();if(ge===-1)return this.eof=!0,null;Ae=Ae<<8|ge,re+=8}return this.bitsCached=re-=pe,this.cachedData=Ae,this.lastCode=null,Ae>>>re&(1<<pe)-1}readBlock(){let Ae=1024,ge,Se,fe;const be=this.lzwState;if(!be)return;const xe=be.earlyChange;let ue=be.nextCode;const we=be.dictionaryValues,Fe=be.dictionaryLengths,_e=be.dictionaryPrevCodes;let Ee=be.codeLength,Ce=be.prevCode;const ye=be.currentSequence;let Re=be.currentSequenceLength,Ye=0,ke=this.bufferLength,$e=this.ensureBuffer(this.bufferLength+Ae);for(ge=0;ge<512;ge++){const Be=this.readBits(Ee),Pe=Re>0;if(Be<256)ye[0]=Be,Re=1;else if(Be>=258)if(Be<ue)for(Re=Fe[Be],Se=Re-1,fe=Be;Se>=0;Se--)ye[Se]=we[fe],fe=_e[fe];else ye[Re++]=ye[0];else if(Be===256){Ee=9,ue=258,Re=0;continue}else{this.eof=!0,delete this.lzwState;break}if(Pe&&(_e[ue]=Ce,Fe[ue]=Fe[Ce]+1,we[ue]=ye[0],ue++,Ee=ue+xe&ue+xe-1?Ee:Math.min(Math.log(ue+xe)/.6931471805599453+1,12)|0),Ce=Be,Ye+=Re,Ae<Ye){do Ae+=512;while(Ae<Ye);$e=this.ensureBuffer(this.bufferLength+Ae)}for(Se=0;Se<Re;Se++)$e[ke++]=ye[Se]}be.nextCode=ue,be.codeLength=Ee,be.prevCode=Ce,be.currentSequenceLength=Re,this.bufferLength=ke}}oe.LZWStream=he},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.PredictorStream=void 0;var ae=ce(19),he=ce(5),de=ce(2);class pe extends ae.DecodeStream{constructor(Ae,ge,Se){if(super(ge),!(Se instanceof he.Dict))return Ae;const fe=this.predictor=Se.get("Predictor")||1;if(fe<=1)return Ae;if(fe!==2&&(fe<10||fe>15))throw new de.FormatError(`Unsupported predictor: ${fe}`);fe===2?this.readBlock=this.readBlockTiff:this.readBlock=this.readBlockPng,this.str=Ae,this.dict=Ae.dict;const be=this.colors=Se.get("Colors")||1,xe=this.bits=Se.get("BPC","BitsPerComponent")||8,ue=this.columns=Se.get("Columns")||1;return this.pixBytes=be*xe+7>>3,this.rowBytes=ue*be*xe+7>>3,this}readBlockTiff(){const Ae=this.rowBytes,ge=this.bufferLength,Se=this.ensureBuffer(ge+Ae),fe=this.bits,be=this.colors,xe=this.str.getBytes(Ae);if(this.eof=!xe.length,this.eof)return;let ue=0,we=0,Fe=0,_e=0,Ee=ge,Ce;if(fe===1&&be===1)for(Ce=0;Ce<Ae;++Ce){let ye=xe[Ce]^ue;ye^=ye>>1,ye^=ye>>2,ye^=ye>>4,ue=(ye&1)<<7,Se[Ee++]=ye}else if(fe===8){for(Ce=0;Ce<be;++Ce)Se[Ee++]=xe[Ce];for(;Ce<Ae;++Ce)Se[Ee]=Se[Ee-be]+xe[Ce],Ee++}else if(fe===16){const ye=be*2;for(Ce=0;Ce<ye;++Ce)Se[Ee++]=xe[Ce];for(;Ce<Ae;Ce+=2){const Re=((xe[Ce]&255)<<8)+(xe[Ce+1]&255)+((Se[Ee-ye]&255)<<8)+(Se[Ee-ye+1]&255);Se[Ee++]=Re>>8&255,Se[Ee++]=Re&255}}else{const ye=new Uint8Array(be+1),Re=(1<<fe)-1;let Ye=0,ke=ge;const $e=this.columns;for(Ce=0;Ce<$e;++Ce)for(let Be=0;Be<be;++Be)Fe<fe&&(ue=ue<<8|xe[Ye++]&255,Fe+=8),ye[Be]=ye[Be]+(ue>>Fe-fe)&Re,Fe-=fe,we=we<<fe|ye[Be],_e+=fe,_e>=8&&(Se[ke++]=we>>_e-8&255,_e-=8);_e>0&&(Se[ke++]=(we<<8-_e)+(ue&(1<<8-_e)-1))}this.bufferLength+=Ae}readBlockPng(){const Ae=this.rowBytes,ge=this.pixBytes,Se=this.str.getByte(),fe=this.str.getBytes(Ae);if(this.eof=!fe.length,this.eof)return;const be=this.bufferLength,xe=this.ensureBuffer(be+Ae);let ue=xe.subarray(be-Ae,be);ue.length===0&&(ue=new Uint8Array(Ae));let we,Fe=be,_e,Ee;switch(Se){case 0:for(we=0;we<Ae;++we)xe[Fe++]=fe[we];break;case 1:for(we=0;we<ge;++we)xe[Fe++]=fe[we];for(;we<Ae;++we)xe[Fe]=xe[Fe-ge]+fe[we]&255,Fe++;break;case 2:for(we=0;we<Ae;++we)xe[Fe++]=ue[we]+fe[we]&255;break;case 3:for(we=0;we<ge;++we)xe[Fe++]=(ue[we]>>1)+fe[we];for(;we<Ae;++we)xe[Fe]=(ue[we]+xe[Fe-ge]>>1)+fe[we]&255,Fe++;break;case 4:for(we=0;we<ge;++we)_e=ue[we],Ee=fe[we],xe[Fe++]=_e+Ee;for(;we<Ae;++we){_e=ue[we];const Ce=ue[we-ge],ye=xe[Fe-ge],Re=ye+_e-Ce;let Ye=Re-ye;Ye<0&&(Ye=-Ye);let ke=Re-_e;ke<0&&(ke=-ke);let $e=Re-Ce;$e<0&&($e=-$e),Ee=fe[we],Ye<=ke&&Ye<=$e?xe[Fe++]=ye+Ee:ke<=$e?xe[Fe++]=_e+Ee:xe[Fe++]=Ce+Ee}break;default:throw new de.FormatError(`Unsupported predictor: ${Se}`)}this.bufferLength+=Ae}}oe.PredictorStream=pe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.RunLengthStream=void 0;var ae=ce(19);class he extends ae.DecodeStream{constructor(pe,re){super(re),this.str=pe,this.dict=pe.dict}readBlock(){const pe=this.str.getBytes(2);if(!pe||pe.length<2||pe[0]===128){this.eof=!0;return}let re,Ae=this.bufferLength,ge=pe[0];if(ge<128){if(re=this.ensureBuffer(Ae+ge+1),re[Ae++]=pe[1],ge>0){const Se=this.str.getBytes(ge);re.set(Se,Ae),Ae+=ge}}else{ge=257-ge;const Se=pe[1];re=this.ensureBuffer(Ae+ge+1);for(let fe=0;fe<ge;fe++)re[Ae++]=Se}this.bufferLength=Ae}}oe.RunLengthStream=he},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Font=oe.ErrorFont=void 0;var ae=ce(2),he=ce(35),de=ce(38),pe=ce(40),re=ce(39),Ae=ce(37),ge=ce(41),Se=ce(42),fe=ce(43),be=ce(44),xe=ce(45),ue=ce(46),we=ce(16),Fe=ce(47),_e=ce(6),Ee=ce(10),Ce=ce(48);const ye=[[57344,63743],[1048576,1114109]],Re=1e3,Ye=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],ke=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function $e(lt){if(!lt.fontMatrix||lt.fontMatrix[0]===ae.FONT_IDENTITY_MATRIX[0])return;const ut=.001/lt.fontMatrix[0],ft=lt.widths;for(const pt in ft)ft[pt]*=ut;lt.defaultWidth*=ut}function Be(lt,ut){if(lt.isInternalFont||ut===lt.defaultEncoding||lt.toUnicode instanceof Se.IdentityToUnicodeMap)return;const ft=[],pt=(0,re.getGlyphsUnicode)();for(const mt in ut){if(lt.hasIncludedToUnicodeMap){if(lt.toUnicode.has(mt))continue}else if(lt.hasEncoding&&(lt.differences.length===0||lt.differences[mt]!==void 0))continue;const xt=ut[mt],vt=(0,pe.getUnicodeForGlyph)(xt,pt);vt!==-1&&(ft[mt]=String.fromCharCode(vt))}ft.length>0&&lt.toUnicode.amend(ft)}function Pe(lt){if(!lt.fallbackToUnicode||lt.toUnicode instanceof Se.IdentityToUnicodeMap)return;const ut=[];for(const ft in lt.fallbackToUnicode)lt.toUnicode.has(ft)||(ut[ft]=lt.fallbackToUnicode[ft]);ut.length>0&&lt.toUnicode.amend(ut)}class Ue{constructor(ut,ft,pt,mt,xt,vt,wt,_t,Tt){this.originalCharCode=ut,this.fontChar=ft,this.unicode=pt,this.accent=mt,this.width=xt,this.vmetric=vt,this.operatorListId=wt,this.isSpace=_t,this.isInFont=Tt;const Lt=(0,pe.getCharUnicodeCategory)(pt);this.isWhitespace=Lt.isWhitespace,this.isZeroWidthDiacritic=Lt.isZeroWidthDiacritic,this.isInvisibleFormatMark=Lt.isInvisibleFormatMark}matchesForCache(ut,ft,pt,mt,xt,vt,wt,_t,Tt){return this.originalCharCode===ut&&this.fontChar===ft&&this.unicode===pt&&this.accent===mt&&this.width===xt&&this.vmetric===vt&&this.operatorListId===wt&&this.isSpace===_t&&this.isInFont===Tt}}function Te(lt,ut){return(lt<<8)+ut}function Me(lt,ut,ft){lt[ut+1]=ft,lt[ut]=ft>>>8}function Ve(lt,ut){const ft=(lt<<8)+ut;return ft&32768?ft-65536:ft}function He(lt,ut,ft,pt){return(lt<<24)+(ut<<16)+(ft<<8)+pt}function Ie(lt){return String.fromCharCode(lt>>8&255,lt&255)}function Le(lt){return lt>32767?lt=32767:lt<-32768&&(lt=-32768),String.fromCharCode(lt>>8&255,lt&255)}function Oe(lt){const ut=lt.peekBytes(4);return(0,_e.readUint32)(ut,0)===65536||(0,ae.bytesToString)(ut)==="true"}function Ne(lt){const ut=lt.peekBytes(4);return(0,ae.bytesToString)(ut)==="ttcf"}function qe(lt){const ut=lt.peekBytes(4);return(0,ae.bytesToString)(ut)==="OTTO"}function it(lt){const ut=lt.peekBytes(2);return ut[0]===37&&ut[1]===33||ut[0]===128&&ut[1]===1}function tt(lt){const ut=lt.peekBytes(4);return ut[0]>=1&&ut[3]>=1&&ut[3]<=4}function Xe(lt,{type:ut,subtype:ft,composite:pt}){let mt,xt;return Oe(lt)||Ne(lt)?pt?mt="CIDFontType2":mt="TrueType":qe(lt)?pt?mt="CIDFontType2":mt="OpenType":it(lt)?pt?mt="CIDFontType0":mt=ut==="MMType1"?"MMType1":"Type1":tt(lt)?pt?(mt="CIDFontType0",xt="CIDFontType0C"):(mt=ut==="MMType1"?"MMType1":"Type1",xt="Type1C"):((0,ae.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),mt=ut,xt=ft),[mt,xt]}function Ze(lt,ut){for(const ft in ut)lt[+ft]=ut[ft]}function ot(lt,ut,ft){const pt=[];let mt;for(let xt=0,vt=lt.length;xt<vt;xt++)mt=(0,pe.getUnicodeForGlyph)(lt[xt],ut),mt!==-1&&(pt[xt]=mt);for(const xt in ft)mt=(0,pe.getUnicodeForGlyph)(ft[xt],ut),mt!==-1&&(pt[+xt]=mt);return pt}function Ge(lt,ut,ft=!1){switch(ut.length){case 1:return ut.charCodeAt(0);case 2:return ut.charCodeAt(0)<<8|ut.charCodeAt(1)}const pt=`Unsupported CID string (charCode ${lt}): "${ut}".`;if(ft)throw new ae.FormatError(pt);return(0,ae.warn)(pt),ut}function Ke(lt,ut,ft,pt){const mt=Object.create(null),xt=new Map,vt=[],wt=new Set;let _t=0;const Tt=ye[_t][0];let Lt=Tt,jt=ye[_t][1];for(let Bt in lt){Bt|=0;let St=lt[Bt];if(!ut(St))continue;if(Lt>jt){if(_t++,_t>=ye.length){(0,ae.warn)("Ran out of space in font private use area.");break}Lt=ye[_t][0],jt=ye[_t][1]}const Ft=Lt++;St===0&&(St=ft);let Ct=pt.get(Bt);typeof Ct=="string"&&(Ct=Ct.codePointAt(0)),Ct&&Ct<Tt&&!wt.has(St)&&(xt.set(Ct,St),wt.add(St)),mt[Ft]=St,vt[Bt]=Ft}return{toFontChar:vt,charCodeToGlyphId:mt,toUnicodeExtraMap:xt,nextAvailableFontCharCode:Lt}}function je(lt,ut,ft){const pt=[];for(const vt in lt)lt[vt]>=ft||pt.push({fontCharCode:vt|0,glyphId:lt[vt]});if(ut)for(const[vt,wt]of ut)wt>=ft||pt.push({fontCharCode:vt,glyphId:wt});pt.length===0&&pt.push({fontCharCode:0,glyphId:0}),pt.sort(function(wt,_t){return wt.fontCharCode-_t.fontCharCode});const mt=[],xt=pt.length;for(let vt=0;vt<xt;){const wt=pt[vt].fontCharCode,_t=[pt[vt].glyphId];++vt;let Tt=wt;for(;vt<xt&&Tt+1===pt[vt].fontCharCode&&(_t.push(pt[vt].glyphId),++Tt,++vt,Tt!==65535););mt.push([wt,Tt,_t])}return mt}function nt(lt,ut,ft){const pt=je(lt,ut,ft),mt=pt.at(-1)[1]>65535?2:1;let xt="\0\0"+Ie(mt)+"\0\0"+(0,ae.string32)(4+mt*8),vt,wt,_t,Tt;for(vt=pt.length-1;vt>=0&&!(pt[vt][0]<=65535);--vt);const Lt=vt+1;pt[vt][0]<65535&&pt[vt][1]===65535&&(pt[vt][1]=65534);const jt=pt[vt][1]<65535?1:0,Bt=Lt+jt,St=Fe.OpenTypeFileBuilder.getSearchParams(Bt,2);let Ft="",Ct="",yt="",bt="",Pt="",Ut=0,Yt,kt,Ot,Et;for(vt=0,wt=Lt;vt<wt;vt++){Yt=pt[vt],kt=Yt[0],Ot=Yt[1],Ft+=Ie(kt),Ct+=Ie(Ot),Et=Yt[2];let Sn=!0;for(_t=1,Tt=Et.length;_t<Tt;++_t)if(Et[_t]!==Et[_t-1]+1){Sn=!1;break}if(Sn){const sn=Et[0];yt+=Ie(sn-kt&65535),bt+=Ie(0)}else{const sn=(Bt-vt)*2+Ut*2;for(Ut+=Ot-kt+1,yt+=Ie(0),bt+=Ie(sn),_t=0,Tt=Et.length;_t<Tt;++_t)Pt+=Ie(Et[_t])}}jt>0&&(Ct+="ÿÿ",Ft+="ÿÿ",yt+="\0",bt+="\0\0");const nn="\0\0"+Ie(2*Bt)+Ie(St.range)+Ie(St.entry)+Ie(St.rangeShift)+Ct+"\0\0"+Ft+yt+bt+Pt;let en="",an="";if(mt>1){for(xt+=`\0\0
`+(0,ae.string32)(4+mt*8+4+nn.length),en="",vt=0,wt=pt.length;vt<wt;vt++){Yt=pt[vt],kt=Yt[0],Et=Yt[2];let Sn=Et[0];for(_t=1,Tt=Et.length;_t<Tt;++_t)Et[_t]!==Et[_t-1]+1&&(Ot=Yt[0]+_t-1,en+=(0,ae.string32)(kt)+(0,ae.string32)(Ot)+(0,ae.string32)(Sn),kt=Ot+1,Sn=Et[_t]);en+=(0,ae.string32)(kt)+(0,ae.string32)(Yt[1])+(0,ae.string32)(Sn)}an="\0\f\0\0"+(0,ae.string32)(en.length+16)+"\0\0\0\0"+(0,ae.string32)(en.length/12)}return xt+"\0"+Ie(nn.length+4)+nn+an+en}function Qe(lt,ut){ut.pos=(ut.start||0)+lt.offset;const ft=ut.getUint16();ut.skip(60);const pt=ut.getUint16();if(ft<4&&pt&768)return!1;const mt=ut.getUint16(),xt=ut.getUint16();return mt>xt||(ut.skip(6),ut.getUint16()===0)?!1:(lt.data[8]=lt.data[9]=0,!0)}function We(lt,ut,ft){ft=ft||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let pt=0,mt=0,xt=0,vt=0,wt=null,_t=0;if(ut){for(let yt in ut){yt|=0,(wt>yt||!wt)&&(wt=yt),_t<yt&&(_t=yt);const bt=(0,pe.getUnicodeRangeFor)(yt);if(bt<32)pt|=1<<bt;else if(bt<64)mt|=1<<bt-32;else if(bt<96)xt|=1<<bt-64;else if(bt<123)vt|=1<<bt-96;else throw new ae.FormatError("Unicode ranges Bits > 123 are reserved for internal usage")}_t>65535&&(_t=65535)}else wt=0,_t=255;const Tt=lt.bbox||[0,0,0,0],Lt=ft.unitsPerEm||1/(lt.fontMatrix||ae.FONT_IDENTITY_MATRIX)[0],jt=lt.ascentScaled?1:Lt/Re,Bt=ft.ascent||Math.round(jt*(lt.ascent||Tt[3]));let St=ft.descent||Math.round(jt*(lt.descent||Tt[1]));St>0&&lt.descent>0&&Tt[1]<0&&(St=-St);const Ft=ft.yMax||Bt,Ct=-ft.yMin||-St;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(lt.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,ae.string32)(pt)+(0,ae.string32)(mt)+(0,ae.string32)(xt)+(0,ae.string32)(vt)+"*21*"+Ie(lt.italicAngle?1:0)+Ie(wt||lt.firstChar)+Ie(_t||lt.lastChar)+Ie(Bt)+Ie(St)+"\0d"+Ie(Ft)+Ie(Ct)+"\0\0\0\0\0\0\0\0"+Ie(lt.xHeight)+Ie(lt.capHeight)+Ie(0)+Ie(wt||lt.firstChar)+"\0"}function rt(lt){const ut=Math.floor(lt.italicAngle*65536);return"\0\0\0"+(0,ae.string32)(ut)+"\0\0\0\0"+(0,ae.string32)(lt.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function et(lt){return lt.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function ct(lt,ut){ut||(ut=[[],[]]);const ft=[ut[0][0]||"Original licence",ut[0][1]||lt,ut[0][2]||"Unknown",ut[0][3]||"uniqueID",ut[0][4]||lt,ut[0][5]||"Version 0.11",ut[0][6]||et(lt),ut[0][7]||"Unknown",ut[0][8]||"Unknown",ut[0][9]||"Unknown"],pt=[];let mt,xt,vt,wt,_t;for(mt=0,xt=ft.length;mt<xt;mt++){_t=ut[1][mt]||ft[mt];const yt=[];for(vt=0,wt=_t.length;vt<wt;vt++)yt.push(Ie(_t.charCodeAt(vt)));pt.push(yt.join(""))}const Tt=[ft,pt],Lt=["\0","\0"],jt=["\0\0","\0"],Bt=["\0\0","	"],St=ft.length*Lt.length;let Ft="\0\0"+Ie(St)+Ie(St*12+6),Ct=0;for(mt=0,xt=Lt.length;mt<xt;mt++){const yt=Tt[mt];for(vt=0,wt=yt.length;vt<wt;vt++){_t=yt[vt];const bt=Lt[mt]+jt[mt]+Bt[mt]+Ie(vt)+Ie(_t.length)+Ie(Ct);Ft+=bt,Ct+=_t.length}}return Ft+=ft.join("")+pt.join(""),Ft}class at{constructor(ut,ft,pt){this.name=ut,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=pt.loadedName,this.isType3Font=pt.isType3Font,this.missingFile=!1,this.cssFontInfo=pt.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let mt=!!(pt.flags&de.FontFlags.Serif);if(!mt&&!pt.isSimulatedFlags){const Tt=ut.replace(/[,_]/g,"-").split("-")[0],Lt=(0,ge.getSerifFonts)();for(const jt of Tt.split("+"))if(Lt[jt]){mt=!0;break}}this.isSerifFont=mt,this.isSymbolicFont=!!(pt.flags&de.FontFlags.Symbolic),this.isMonospace=!!(pt.flags&de.FontFlags.FixedPitch);let xt=pt.type,vt=pt.subtype;this.type=xt,this.subtype=vt;let wt="sans-serif";if(this.isMonospace?wt="monospace":this.isSerifFont&&(wt="serif"),this.fallbackName=wt,this.differences=pt.differences,this.widths=pt.widths,this.defaultWidth=pt.defaultWidth,this.composite=pt.composite,this.cMap=pt.cMap,this.capHeight=pt.capHeight/Re,this.ascent=pt.ascent/Re,this.descent=pt.descent/Re,this.lineHeight=this.ascent-this.descent,this.fontMatrix=pt.fontMatrix,this.bbox=pt.bbox,this.defaultEncoding=pt.defaultEncoding,this.toUnicode=pt.toUnicode,this.toFontChar=[],pt.type==="Type3"){for(let Tt=0;Tt<256;Tt++)this.toFontChar[Tt]=this.differences[Tt]||pt.defaultEncoding[Tt];this.fontType=ae.FontType.TYPE3;return}if(this.cidEncoding=pt.cidEncoding||"",this.vertical=!!pt.vertical,this.vertical&&(this.vmetrics=pt.vmetrics,this.defaultVMetrics=pt.defaultVMetrics),!ft||ft.isEmpty){ft&&(0,ae.warn)('Font file is empty in "'+ut+'" ('+this.loadedName+")"),this.fallbackToSystemFont(pt);return}[xt,vt]=Xe(ft,pt),(xt!==this.type||vt!==this.subtype)&&(0,ae.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${xt}/${vt}.`);let _t;try{switch(xt){case"MMType1":(0,ae.info)("MMType1 font ("+ut+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const Tt=vt==="Type1C"||vt==="CIDFontType0C"?new fe.CFFFont(ft,pt):new Ce.Type1Font(ut,ft,pt);$e(pt),_t=this.convert(ut,Tt,pt);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",_t=this.checkAndRepair(ut,ft,pt),this.isOpenType&&($e(pt),xt="OpenType");break;default:throw new ae.FormatError(`Font ${xt} is not supported`)}}catch(Tt){(0,ae.warn)(Tt),this.fallbackToSystemFont(pt);return}Pe(pt),this.data=_t,this.fontType=(0,de.getFontType)(xt,vt,pt.isStandardFont),this.fontMatrix=pt.fontMatrix,this.widths=pt.widths,this.defaultWidth=pt.defaultWidth,this.toUnicode=pt.toUnicode,this.seacMap=pt.seacMap}get renderer(){const ut=be.FontRendererFactory.create(this,de.SEAC_ANALYSIS_ENABLED);return(0,ae.shadow)(this,"renderer",ut)}exportData(ut=!1){const ft=ut?[...Ye,...ke]:Ye,pt=Object.create(null);let mt,xt;for(mt of ft)xt=this[mt],xt!==void 0&&(pt[mt]=xt);return pt}fallbackToSystemFont(ut){this.missingFile=!0;const ft=this.name,pt=this.type,mt=this.subtype;let xt=(0,de.normalizeFontName)(ft);const vt=(0,ge.getStdFontMap)(),wt=(0,ge.getNonStdFontMap)(),_t=!!vt[xt],Tt=!!(wt[xt]&&vt[wt[xt]]);xt=vt[xt]||wt[xt]||xt;const jt=(0,xe.getFontBasicMetrics)()[xt];jt&&(isNaN(this.ascent)&&(this.ascent=jt.ascent/Re),isNaN(this.descent)&&(this.descent=jt.descent/Re),isNaN(this.capHeight)&&(this.capHeight=jt.capHeight/Re)),this.bold=xt.search(/bold/gi)!==-1,this.italic=xt.search(/oblique/gi)!==-1||xt.search(/italic/gi)!==-1,this.black=ft.search(/Black/g)!==-1;const Bt=ft.search(/Narrow/g)!==-1;if(this.remeasure=(!_t||Bt)&&Object.keys(this.widths).length>0,(_t||Tt)&&pt==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const St=ut.cidToGidMap,Ft=[];if(Ze(Ft,(0,ge.getGlyphMapForStandardFonts)()),/Arial-?Black/i.test(ft)?Ze(Ft,(0,ge.getSupplementalGlyphMapForArialBlack)()):/Calibri/i.test(ft)&&Ze(Ft,(0,ge.getSupplementalGlyphMapForCalibri)()),St){for(const Ct in Ft){const yt=Ft[Ct];St[yt]!==void 0&&(Ft[+Ct]=St[yt])}St.length!==this.toUnicode.length&&ut.hasIncludedToUnicodeMap&&this.toUnicode instanceof Se.IdentityToUnicodeMap&&this.toUnicode.forEach(function(Ct,yt){const bt=Ft[Ct];St[bt]===void 0&&(Ft[+Ct]=yt)})}this.toUnicode instanceof Se.IdentityToUnicodeMap||this.toUnicode.forEach(function(Ct,yt){Ft[+Ct]=yt}),this.toFontChar=Ft,this.toUnicode=new Se.ToUnicodeMap(Ft)}else if(/Symbol/i.test(xt))this.toFontChar=ot(Ae.SymbolSetEncoding,(0,re.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(xt))/Wingdings/i.test(ft)&&(0,ae.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=ot(Ae.ZapfDingbatsEncoding,(0,re.getDingbatsGlyphsUnicode)(),this.differences);else if(_t){const St=ot(this.defaultEncoding,(0,re.getGlyphsUnicode)(),this.differences);pt==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof Se.IdentityToUnicodeMap)&&this.toUnicode.forEach(function(Ft,Ct){St[+Ft]=Ct}),this.toFontChar=St}else{const St=(0,re.getGlyphsUnicode)(),Ft=[];this.toUnicode.forEach((Ct,yt)=>{if(!this.composite){const bt=this.differences[Ct]||this.defaultEncoding[Ct],Pt=(0,pe.getUnicodeForGlyph)(bt,St);Pt!==-1&&(yt=Pt)}Ft[+Ct]=yt}),this.composite&&this.toUnicode instanceof Se.IdentityToUnicodeMap&&/Verdana/i.test(ft)&&Ze(Ft,(0,ge.getGlyphMapForStandardFonts)()),this.toFontChar=Ft}Pe(ut),this.loadedName=xt.split("-")[0],this.fontType=(0,de.getFontType)(pt,mt,ut.isStandardFont)}checkAndRepair(ut,ft,pt){const mt=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function xt(on,Kt){const un=Object.create(null);un["OS/2"]=null,un.cmap=null,un.head=null,un.hhea=null,un.hmtx=null,un.maxp=null,un.name=null,un.post=null;for(let fn=0;fn<Kt;fn++){const vn=vt(on);mt.includes(vn.tag)&&vn.length!==0&&(un[vn.tag]=vn)}return un}function vt(on){const Kt=on.getString(4),un=on.getInt32()>>>0,fn=on.getInt32()>>>0,vn=on.getInt32()>>>0,At=on.pos;on.pos=on.start||0,on.skip(fn);const Dt=on.getBytes(vn);return on.pos=At,Kt==="head"&&(Dt[8]=Dt[9]=Dt[10]=Dt[11]=0,Dt[17]|=32),{tag:Kt,checksum:un,length:vn,offset:fn,data:Dt}}function wt(on){return{version:on.getString(4),numTables:on.getUint16(),searchRange:on.getUint16(),entrySelector:on.getUint16(),rangeShift:on.getUint16()}}function _t(on){const Kt=on.getString(4);(0,ae.assert)(Kt==="ttcf","Must be a TrueType Collection font.");const un=on.getUint16(),fn=on.getUint16(),vn=on.getInt32()>>>0,At=[];for(let Nt=0;Nt<vn;Nt++)At.push(on.getInt32()>>>0);const Dt={ttcTag:Kt,majorVersion:un,minorVersion:fn,numFonts:vn,offsetTable:At};switch(un){case 1:return Dt;case 2:return Dt.dsigTag=on.getInt32()>>>0,Dt.dsigLength=on.getInt32()>>>0,Dt.dsigOffset=on.getInt32()>>>0,Dt}throw new ae.FormatError(`Invalid TrueType Collection majorVersion: ${un}.`)}function Tt(on,Kt){const{numFonts:un,offsetTable:fn}=_t(on),vn=Kt.split("+");let At;for(let Dt=0;Dt<un;Dt++){on.pos=(on.start||0)+fn[Dt];const Nt=wt(on),zt=xt(on,Nt.numTables);if(!zt.name)throw new ae.FormatError('TrueType Collection font must contain a "name" table.');const Ht=yt(zt.name);for(let rn=0,dn=Ht.length;rn<dn;rn++)for(let cn=0,Rt=Ht[rn].length;cn<Rt;cn++){const Vt=Ht[rn][cn]&&Ht[rn][cn].replace(/\s/g,"");if(Vt){if(Vt===Kt)return{header:Nt,tables:zt};if(!(vn.length<2))for(const Wt of vn)Vt===Wt&&(At={name:Wt,header:Nt,tables:zt})}}}if(At)return(0,ae.warn)(`TrueType Collection does not contain "${Kt}" font, falling back to "${At.name}" font instead.`),{header:At.header,tables:At.tables};throw new ae.FormatError(`TrueType Collection does not contain "${Kt}" font.`)}function Lt(on,Kt,un,fn){if(!on)return(0,ae.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let vn,At=(Kt.start||0)+on.offset;Kt.pos=At,Kt.skip(2);const Dt=Kt.getUint16();let Nt,zt=!1;for(let Vt=0;Vt<Dt;Vt++){const Wt=Kt.getUint16(),Gt=Kt.getUint16(),pn=Kt.getInt32()>>>0;let An=!1;if(!(Nt&&Nt.platformId===Wt&&Nt.encodingId===Gt)){if(Wt===0&&(Gt===0||Gt===1||Gt===3))An=!0;else if(Wt===1&&Gt===0)An=!0;else if(Wt===3&&Gt===1&&(fn||!Nt))An=!0,un||(zt=!0);else if(un&&Wt===3&&Gt===0){An=!0;let zn=!0;if(Vt<Dt-1){const Tn=Kt.peekBytes(2);Te(Tn[0],Tn[1])<Wt&&(zn=!1)}zn&&(zt=!0)}if(An&&(Nt={platformId:Wt,encodingId:Gt,offset:pn}),zt)break}}if(Nt&&(Kt.pos=At+Nt.offset),!Nt||Kt.peekByte()===-1)return(0,ae.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const Ht=Kt.getUint16();let rn=!1;const dn=[];let cn,Rt;if(Ht===0){for(Kt.skip(4),cn=0;cn<256;cn++){const Vt=Kt.getByte();Vt&&dn.push({charCode:cn,glyphId:Vt})}rn=!0}else if(Ht===2){Kt.skip(4);const Vt=[];let Wt=0;for(let pn=0;pn<256;pn++){const An=Kt.getUint16()>>3;Vt.push(An),Wt=Math.max(An,Wt)}const Gt=[];for(let pn=0;pn<=Wt;pn++)Gt.push({firstCode:Kt.getUint16(),entryCount:Kt.getUint16(),idDelta:Ve(Kt.getByte(),Kt.getByte()),idRangePos:Kt.pos+Kt.getUint16()});for(let pn=0;pn<256;pn++)if(Vt[pn]===0)Kt.pos=Gt[0].idRangePos+2*pn,Rt=Kt.getUint16(),dn.push({charCode:pn,glyphId:Rt});else{const An=Gt[Vt[pn]];for(cn=0;cn<An.entryCount;cn++){const zn=(pn<<8)+cn+An.firstCode;Kt.pos=An.idRangePos+2*cn,Rt=Kt.getUint16(),Rt!==0&&(Rt=(Rt+An.idDelta)%65536),dn.push({charCode:zn,glyphId:Rt})}}}else if(Ht===4){Kt.skip(4);const Vt=Kt.getUint16()>>1;Kt.skip(6);const Wt=[];let Gt;for(Gt=0;Gt<Vt;Gt++)Wt.push({end:Kt.getUint16()});for(Kt.skip(2),Gt=0;Gt<Vt;Gt++)Wt[Gt].start=Kt.getUint16();for(Gt=0;Gt<Vt;Gt++)Wt[Gt].delta=Kt.getUint16();let pn=0,An;for(Gt=0;Gt<Vt;Gt++){vn=Wt[Gt];const Tn=Kt.getUint16();if(!Tn){vn.offsetIndex=-1;continue}An=(Tn>>1)-(Vt-Gt),vn.offsetIndex=An,pn=Math.max(pn,An+vn.end-vn.start+1)}const zn=[];for(cn=0;cn<pn;cn++)zn.push(Kt.getUint16());for(Gt=0;Gt<Vt;Gt++){vn=Wt[Gt],At=vn.start;const Tn=vn.end,En=vn.delta;for(An=vn.offsetIndex,cn=At;cn<=Tn;cn++)cn!==65535&&(Rt=An<0?cn:zn[An+cn-At],Rt=Rt+En&65535,dn.push({charCode:cn,glyphId:Rt}))}}else if(Ht===6){Kt.skip(4);const Vt=Kt.getUint16(),Wt=Kt.getUint16();for(cn=0;cn<Wt;cn++){Rt=Kt.getUint16();const Gt=Vt+cn;dn.push({charCode:Gt,glyphId:Rt})}}else if(Ht===12){Kt.skip(10);const Vt=Kt.getInt32()>>>0;for(cn=0;cn<Vt;cn++){const Wt=Kt.getInt32()>>>0,Gt=Kt.getInt32()>>>0;let pn=Kt.getInt32()>>>0;for(let An=Wt;An<=Gt;An++)dn.push({charCode:An,glyphId:pn++})}}else return(0,ae.warn)("cmap table has unsupported format: "+Ht),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};dn.sort(function(Vt,Wt){return Vt.charCode-Wt.charCode});for(let Vt=1;Vt<dn.length;Vt++)dn[Vt-1].charCode===dn[Vt].charCode&&(dn.splice(Vt,1),Vt--);return{platformId:Nt.platformId,encodingId:Nt.encodingId,mappings:dn,hasShortCmap:rn}}function jt(on,Kt,un,fn,vn,At){if(!Kt){un&&(un.data=null);return}on.pos=(on.start||0)+Kt.offset,on.pos+=4,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2,on.pos+=2;const Dt=on.getUint16();on.pos+=8,on.pos+=2;let Nt=on.getUint16();Dt!==0&&(Te(fn.data[44],fn.data[45])&2||(Kt.data[22]=0,Kt.data[23]=0)),Nt>vn&&((0,ae.info)(`The numOfMetrics (${Nt}) should not be greater than the numGlyphs (${vn}).`),Nt=vn,Kt.data[34]=(Nt&65280)>>8,Kt.data[35]=Nt&255);const Ht=vn-Nt-(un.length-Nt*4>>1);if(Ht>0){const rn=new Uint8Array(un.length+Ht*2);rn.set(un.data),At&&(rn[un.length]=un.data[2],rn[un.length+1]=un.data[3]),un.data=rn}}function Bt(on,Kt,un,fn,vn,At){const Dt={length:0,sizeOfInstructions:0};if(un-Kt<=12)return Dt;const Nt=on.subarray(Kt,un);let zt=Ve(Nt[0],Nt[1]);if(zt<0)return zt=-1,Me(Nt,0,zt),fn.set(Nt,vn),Dt.length=Nt.length,Dt;let Ht,rn=10,dn=0;for(Ht=0;Ht<zt;Ht++)dn=(Nt[rn]<<8|Nt[rn+1])+1,rn+=2;const cn=rn,Rt=Nt[rn]<<8|Nt[rn+1];Dt.sizeOfInstructions=Rt,rn+=2+Rt;const Vt=rn;let Wt=0;for(Ht=0;Ht<dn;Ht++){const pn=Nt[rn++];pn&192&&(Nt[rn-1]=pn&63);let An=2;pn&2?An=1:pn&16&&(An=0);let zn=2;pn&4?zn=1:pn&32&&(zn=0);const Tn=An+zn;if(Wt+=Tn,pn&8){const En=Nt[rn++];Ht+=En,Wt+=En*Tn}}if(Wt===0)return Dt;let Gt=rn+Wt;return Gt>Nt.length?Dt:!At&&Rt>0?(fn.set(Nt.subarray(0,cn),vn),fn.set([0,0],vn+cn),fn.set(Nt.subarray(Vt,Gt),vn+cn+2),Gt-=Rt,Nt.length-Gt>3&&(Gt=Gt+3&-4),Dt.length=Gt,Dt):Nt.length-Gt>3?(Gt=Gt+3&-4,fn.set(Nt.subarray(0,Gt),vn),Dt.length=Gt,Dt):(fn.set(Nt,vn),Dt.length=Nt.length,Dt)}function St(on,Kt,un){const fn=on.data,vn=He(fn[0],fn[1],fn[2],fn[3]);vn>>16!==1&&((0,ae.info)("Attempting to fix invalid version in head table: "+vn),fn[0]=0,fn[1]=1,fn[2]=0,fn[3]=0);const At=Te(fn[50],fn[51]);if(At<0||At>1){(0,ae.info)("Attempting to fix invalid indexToLocFormat in head table: "+At);const Dt=Kt+1;if(un===Dt<<1)fn[50]=0,fn[51]=0;else if(un===Dt<<2)fn[50]=0,fn[51]=1;else throw new ae.FormatError("Could not fix indexToLocFormat: "+At)}}function Ft(on,Kt,un,fn,vn,At,Dt){let Nt,zt,Ht;fn?(Nt=4,zt=function(Rn,Zn){return Rn[Zn]<<24|Rn[Zn+1]<<16|Rn[Zn+2]<<8|Rn[Zn+3]},Ht=function(Rn,Zn,Yn){Rn[Zn]=Yn>>>24&255,Rn[Zn+1]=Yn>>16&255,Rn[Zn+2]=Yn>>8&255,Rn[Zn+3]=Yn&255}):(Nt=2,zt=function(Rn,Zn){return Rn[Zn]<<9|Rn[Zn+1]<<1},Ht=function(Rn,Zn,Yn){Rn[Zn]=Yn>>9&255,Rn[Zn+1]=Yn>>1&255});const rn=At?un+1:un,dn=Nt*(1+rn),cn=new Uint8Array(dn);cn.set(on.data.subarray(0,dn)),on.data=cn;const Rt=Kt.data,Vt=Rt.length,Wt=new Uint8Array(Vt);let Gt,pn;const An=[];for(Gt=0,pn=0;Gt<un+1;Gt++,pn+=Nt){let En=zt(cn,pn);En>Vt&&(En=Vt),An.push({index:Gt,offset:En,endOffset:0})}for(An.sort((En,Rn)=>En.offset-Rn.offset),Gt=0;Gt<un;Gt++)An[Gt].endOffset=An[Gt+1].offset;for(An.sort((En,Rn)=>En.index-Rn.index),Gt=0;Gt<un;Gt++){const{offset:En,endOffset:Rn}=An[Gt];if(En!==0||Rn!==0)break;const Zn=An[Gt+1].offset;if(Zn!==0){An[Gt].endOffset=Zn;break}}const zn=Object.create(null);let Tn=0;for(Ht(cn,0,Tn),Gt=0,pn=Nt;Gt<un;Gt++,pn+=Nt){const En=Bt(Rt,An[Gt].offset,An[Gt].endOffset,Wt,Tn,vn),Rn=En.length;Rn===0&&(zn[Gt]=!0),En.sizeOfInstructions>Dt&&(Dt=En.sizeOfInstructions),Tn+=Rn,Ht(cn,pn,Tn)}if(Tn===0){const En=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(Gt=0,pn=Nt;Gt<rn;Gt++,pn+=Nt)Ht(cn,pn,En.length);Kt.data=En}else if(At){const En=zt(cn,Nt);Wt.length>En+Tn?Kt.data=Wt.subarray(0,En+Tn):(Kt.data=new Uint8Array(En+Tn),Kt.data.set(Wt.subarray(0,Tn))),Kt.data.set(Wt.subarray(0,En),Tn),Ht(on.data,cn.length-Nt,Tn+En)}else Kt.data=Wt.subarray(0,Tn);return{missingGlyphs:zn,maxSizeOfInstructions:Dt}}function Ct(on,Kt,un){const fn=(ft.start||0)+on.offset;ft.pos=fn;const vn=on.length,At=fn+vn,Dt=ft.getInt32();ft.skip(28);let Nt,zt=!0,Ht;switch(Dt){case 65536:Nt=de.MacStandardGlyphOrdering;break;case 131072:const rn=ft.getUint16();if(rn!==un){zt=!1;break}const dn=[];for(Ht=0;Ht<rn;++Ht){const Vt=ft.getUint16();if(Vt>=32768){zt=!1;break}dn.push(Vt)}if(!zt)break;const cn=[],Rt=[];for(;ft.pos<At;){const Vt=ft.getByte();for(Rt.length=Vt,Ht=0;Ht<Vt;++Ht)Rt[Ht]=String.fromCharCode(ft.getByte());cn.push(Rt.join(""))}for(Nt=[],Ht=0;Ht<rn;++Ht){const Vt=dn[Ht];if(Vt<258){Nt.push(de.MacStandardGlyphOrdering[Vt]);continue}Nt.push(cn[Vt-258])}break;case 196608:break;default:(0,ae.warn)("Unknown/unsupported post table version "+Dt),zt=!1,Kt.defaultEncoding&&(Nt=Kt.defaultEncoding);break}return Kt.glyphNames=Nt,zt}function yt(on){const Kt=(ft.start||0)+on.offset;ft.pos=Kt;const un=[[],[]],fn=on.length,vn=Kt+fn;if(ft.getUint16()!==0||fn<6)return un;const Nt=ft.getUint16(),zt=ft.getUint16(),Ht=[],rn=12;let dn,cn;for(dn=0;dn<Nt&&ft.pos+rn<=vn;dn++){const Rt={platform:ft.getUint16(),encoding:ft.getUint16(),language:ft.getUint16(),name:ft.getUint16(),length:ft.getUint16(),offset:ft.getUint16()};(Rt.platform===1&&Rt.encoding===0&&Rt.language===0||Rt.platform===3&&Rt.encoding===1&&Rt.language===1033)&&Ht.push(Rt)}for(dn=0,cn=Ht.length;dn<cn;dn++){const Rt=Ht[dn];if(Rt.length<=0)continue;const Vt=Kt+zt+Rt.offset;if(Vt+Rt.length>vn)continue;ft.pos=Vt;const Wt=Rt.name;if(Rt.encoding){let Gt="";for(let pn=0,An=Rt.length;pn<An;pn+=2)Gt+=String.fromCharCode(ft.getUint16());un[1][Wt]=Gt}else un[0][Wt]=ft.getString(Rt.length)}return un}const bt=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function Pt(on,Kt){let un=on.data,fn=0,vn,At,Dt,Nt,zt,Ht=0,rn=0;const dn=[],cn=[],Rt=[];let Vt=Kt.tooComplexToFollowFunctions,Wt=!1,Gt=0,pn=0;for(let zn=un.length;fn<zn;){const Tn=un[fn++];if(Tn===64)if(At=un[fn++],Wt||pn)fn+=At;else for(vn=0;vn<At;vn++)dn.push(un[fn++]);else if(Tn===65)if(At=un[fn++],Wt||pn)fn+=At*2;else for(vn=0;vn<At;vn++)Dt=un[fn++],dn.push(Dt<<8|un[fn++]);else if((Tn&248)===176)if(At=Tn-176+1,Wt||pn)fn+=At;else for(vn=0;vn<At;vn++)dn.push(un[fn++]);else if((Tn&248)===184)if(At=Tn-184+1,Wt||pn)fn+=At*2;else for(vn=0;vn<At;vn++)Dt=un[fn++],dn.push(Dt<<8|un[fn++]);else if(Tn===43&&!Vt){if(!Wt&&!pn){if(Nt=dn.at(-1),isNaN(Nt))(0,ae.info)("TT: CALL empty stack (or invalid entry).");else if(Kt.functionsUsed[Nt]=!0,Nt in Kt.functionsStackDeltas){const En=dn.length+Kt.functionsStackDeltas[Nt];if(En<0){(0,ae.warn)("TT: CALL invalid functions stack delta."),Kt.hintsValid=!1;return}dn.length=En}else if(Nt in Kt.functionsDefined&&!Rt.includes(Nt)){if(cn.push({data:un,i:fn,stackTop:dn.length-1}),Rt.push(Nt),zt=Kt.functionsDefined[Nt],!zt){(0,ae.warn)("TT: CALL non-existent function"),Kt.hintsValid=!1;return}un=zt.data,fn=zt.i}}}else if(Tn===44&&!Vt)(Wt||pn)&&((0,ae.warn)("TT: nested FDEFs not allowed"),Vt=!0),Wt=!0,rn=fn,Nt=dn.pop(),Kt.functionsDefined[Nt]={data:un,i:fn};else if(Tn===45)if(Wt)Wt=!1,Ht=fn;else{if(zt=cn.pop(),!zt){(0,ae.warn)("TT: ENDF bad stack"),Kt.hintsValid=!1;return}Nt=Rt.pop(),un=zt.data,fn=zt.i,Kt.functionsStackDeltas[Nt]=dn.length-zt.stackTop}else if(Tn===137)(Wt||pn)&&((0,ae.warn)("TT: nested IDEFs not allowed"),Vt=!0),Wt=!0,rn=fn;else if(Tn===88)++Gt;else if(Tn===27)pn=Gt;else if(Tn===89)pn===Gt&&(pn=0),--Gt;else if(Tn===28&&!Wt&&!pn){const En=dn.at(-1);En>0&&(fn+=En-1)}if(!Wt&&!pn){let En=0;for(Tn<=142?En=bt[Tn]:Tn>=192&&Tn<=223?En=-1:Tn>=224&&(En=-2),Tn>=113&&Tn<=117&&(At=dn.pop(),isNaN(At)||(En=-At*2));En<0&&dn.length>0;)dn.pop(),En++;for(;En>0;)dn.push(NaN),En--}}Kt.tooComplexToFollowFunctions=Vt;const An=[un];fn>un.length&&An.push(new Uint8Array(fn-un.length)),rn>Ht&&((0,ae.warn)("TT: complementing a missing function tail"),An.push(new Uint8Array([34,45]))),Yt(on,An)}function Ut(on,Kt){if(!on.tooComplexToFollowFunctions){if(on.functionsDefined.length>Kt){(0,ae.warn)("TT: more functions defined than expected"),on.hintsValid=!1;return}for(let un=0,fn=on.functionsUsed.length;un<fn;un++){if(un>Kt){(0,ae.warn)("TT: invalid function id: "+un),on.hintsValid=!1;return}if(on.functionsUsed[un]&&!on.functionsDefined[un]){(0,ae.warn)("TT: undefined function: "+un),on.hintsValid=!1;return}}}}function Yt(on,Kt){if(Kt.length>1){let un=0,fn,vn;for(fn=0,vn=Kt.length;fn<vn;fn++)un+=Kt[fn].length;un=un+3&-4;const At=new Uint8Array(un);let Dt=0;for(fn=0,vn=Kt.length;fn<vn;fn++)At.set(Kt[fn],Dt),Dt+=Kt[fn].length;on.data=At,on.length=un}}function kt(on,Kt,un,fn){const vn={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(on&&Pt(on,vn),Kt&&Pt(Kt,vn),on&&Ut(vn,fn),un&&un.length&1){const At=new Uint8Array(un.length+1);At.set(un.data),un.data=At}return vn.hintsValid}ft=new Ee.Stream(new Uint8Array(ft.getBytes()));let Ot,Et;if(Ne(ft)){const on=Tt(ft,this.name);Ot=on.header,Et=on.tables}else Ot=wt(ft),Et=xt(ft,Ot.numTables);let nn,en;const an=!Et["CFF "];if(an){if(!Et.loca)throw new ae.FormatError('Required "loca" table is not found');Et.glyf||((0,ae.warn)('Required "glyf" table is not found -- trying to recover.'),Et.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const on=pt.composite&&((pt.cidToGidMap||[]).length>0||!(pt.cMap instanceof we.IdentityCMap));if(Ot.version==="OTTO"&&!on||!Et.head||!Et.hhea||!Et.maxp||!Et.post)return en=new Ee.Stream(Et["CFF "].data),nn=new fe.CFFFont(en,pt),$e(pt),this.convert(ut,nn,pt);delete Et.glyf,delete Et.loca,delete Et.fpgm,delete Et.prep,delete Et["cvt "],this.isOpenType=!0}if(!Et.maxp)throw new ae.FormatError('Required "maxp" table is not found');ft.pos=(ft.start||0)+Et.maxp.offset;const Sn=ft.getInt32(),sn=ft.getUint16();if(pt.scaleFactors&&pt.scaleFactors.length===sn&&an){const{scaleFactors:on}=pt,Kt=Te(Et.head.data[50],Et.head.data[51]),un=new ue.GlyfTable({glyfTable:Et.glyf.data,isGlyphLocationsLong:Kt,locaTable:Et.loca.data,numGlyphs:sn});un.scale(on);const{glyf:fn,loca:vn,isLocationLong:At}=un.write();Et.glyf.data=fn,Et.loca.data=vn,At!==!!Kt&&(Et.head.data[50]=0,Et.head.data[51]=At?1:0);const Dt=Et.hmtx.data;for(let Nt=0;Nt<sn;Nt++){const zt=4*Nt,Ht=Math.round(on[Nt]*Te(Dt[zt],Dt[zt+1]));Dt[zt]=Ht>>8&255,Dt[zt+1]=Ht&255;const rn=Math.round(on[Nt]*Ve(Dt[zt+2],Dt[zt+3]));Me(Dt,zt+2,rn)}}let yn=sn+1,On=!0;yn>65535&&(On=!1,yn=sn,(0,ae.warn)("Not enough space in glyfs to duplicate first glyph."));let tn=0,Dn=0;Sn>=65536&&Et.maxp.length>=22&&(ft.pos+=8,ft.getUint16()>2&&(Et.maxp.data[14]=0,Et.maxp.data[15]=2),ft.pos+=4,tn=ft.getUint16(),ft.pos+=4,Dn=ft.getUint16()),Et.maxp.data[4]=yn>>8,Et.maxp.data[5]=yn&255;const xn=kt(Et.fpgm,Et.prep,Et["cvt "],tn);if(xn||(delete Et.fpgm,delete Et.prep,delete Et["cvt "]),jt(ft,Et.hhea,Et.hmtx,Et.head,yn,On),!Et.head)throw new ae.FormatError('Required "head" table is not found');St(Et.head,sn,an?Et.loca.length:0);let Hn=Object.create(null);if(an){const on=Te(Et.head.data[50],Et.head.data[51]),Kt=Ft(Et.loca,Et.glyf,sn,on,xn,On,Dn);Hn=Kt.missingGlyphs,Sn>=65536&&Et.maxp.length>=22&&(Et.maxp.data[26]=Kt.maxSizeOfInstructions>>8,Et.maxp.data[27]=Kt.maxSizeOfInstructions&255)}if(!Et.hhea)throw new ae.FormatError('Required "hhea" table is not found');Et.hhea.data[10]===0&&Et.hhea.data[11]===0&&(Et.hhea.data[10]=255,Et.hhea.data[11]=255);const In={unitsPerEm:Te(Et.head.data[18],Et.head.data[19]),yMax:Te(Et.head.data[42],Et.head.data[43]),yMin:Ve(Et.head.data[38],Et.head.data[39]),ascent:Ve(Et.hhea.data[4],Et.hhea.data[5]),descent:Ve(Et.hhea.data[6],Et.hhea.data[7]),lineGap:Ve(Et.hhea.data[8],Et.hhea.data[9])};this.ascent=In.ascent/In.unitsPerEm,this.descent=In.descent/In.unitsPerEm,this.lineGap=In.lineGap/In.unitsPerEm,this.cssFontInfo&&this.cssFontInfo.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,Et.post&&Ct(Et.post,pt,sn),Et.post={tag:"post",data:rt(pt)};const _n=[];function wn(on){return!Hn[on]}if(pt.composite){const on=pt.cidToGidMap||[],Kt=on.length===0;pt.cMap.forEach(function(un,fn){if(typeof fn=="string"&&(fn=Ge(un,fn,!0)),fn>65535)throw new ae.FormatError("Max size of CID is 65,535");let vn=-1;Kt?vn=fn:on[fn]!==void 0&&(vn=on[fn]),vn>=0&&vn<sn&&wn(vn)&&(_n[un]=vn)})}else{const on=Lt(Et.cmap,ft,this.isSymbolicFont,pt.hasEncoding),Kt=on.platformId,un=on.encodingId,fn=on.mappings,vn=fn.length;let At=[],Dt=!1;if(pt.hasEncoding&&(pt.baseEncodingName==="MacRomanEncoding"||pt.baseEncodingName==="WinAnsiEncoding")&&(At=(0,Ae.getEncoding)(pt.baseEncodingName)),pt.hasEncoding&&!this.isSymbolicFont&&(Kt===3&&un===1||Kt===1&&un===0)){const Nt=(0,re.getGlyphsUnicode)();for(let zt=0;zt<256;zt++){let Ht;if(this.differences[zt]!==void 0?Ht=this.differences[zt]:At.length&&At[zt]!==""?Ht=At[zt]:Ht=Ae.StandardEncoding[zt],!Ht)continue;const rn=(0,de.recoverGlyphName)(Ht,Nt);let dn;if(Kt===3&&un===1?dn=Nt[rn]:Kt===1&&un===0&&(dn=Ae.MacRomanEncoding.indexOf(rn)),dn===void 0){if(!pt.glyphNames&&pt.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof Se.IdentityToUnicodeMap)){const cn=this.toUnicode.get(zt);cn&&(dn=cn.codePointAt(0))}if(dn===void 0)continue}for(let cn=0;cn<vn;++cn)if(fn[cn].charCode===dn){_n[zt]=fn[cn].glyphId;break}}}else if(Kt===0){for(let Nt=0;Nt<vn;++Nt)_n[fn[Nt].charCode]=fn[Nt].glyphId;Dt=!0}else for(let Nt=0;Nt<vn;++Nt){let zt=fn[Nt].charCode;Kt===3&&zt>=61440&&zt<=61695&&(zt&=255),_n[zt]=fn[Nt].glyphId}if(pt.glyphNames&&(At.length||this.differences.length))for(let Nt=0;Nt<256;++Nt){if(!Dt&&_n[Nt]!==void 0)continue;const zt=this.differences[Nt]||At[Nt];if(!zt)continue;const Ht=pt.glyphNames.indexOf(zt);Ht>0&&wn(Ht)&&(_n[Nt]=Ht)}}_n.length===0&&(_n[0]=0);let ei=yn-1;if(On||(ei=0),!pt.cssFontInfo){const on=Ke(_n,wn,ei,this.toUnicode);this.toFontChar=on.toFontChar,Et.cmap={tag:"cmap",data:nt(on.charCodeToGlyphId,on.toUnicodeExtraMap,yn)},(!Et["OS/2"]||!Qe(Et["OS/2"],ft))&&(Et["OS/2"]={tag:"OS/2",data:We(pt,on.charCodeToGlyphId,In)})}if(!an)try{en=new Ee.Stream(Et["CFF "].data),nn=new he.CFFParser(en,pt,de.SEAC_ANALYSIS_ENABLED).parse(),nn.duplicateFirstGlyph();const Kt=new he.CFFCompiler(nn);Et["CFF "].data=Kt.compile()}catch{(0,ae.warn)("Failed to compile font "+pt.loadedName)}if(!Et.name)Et.name={tag:"name",data:ct(this.name)};else{const on=yt(Et.name);Et.name.data=ct(ut,on),this.psName=on[0][6]||null}const ni=new Fe.OpenTypeFileBuilder(Ot.version);for(const on in Et)ni.addTable(on,Et[on].data);return ni.toArray()}convert(ut,ft,pt){pt.fixedPitch=!1,pt.builtInEncoding&&Be(pt,pt.builtInEncoding);let mt=1;ft instanceof fe.CFFFont&&(mt=ft.numGlyphs-1);const xt=ft.getGlyphMapping(pt);let vt=null,wt=xt,_t=null;pt.cssFontInfo||(vt=Ke(xt,ft.hasGlyphId.bind(ft),mt,this.toUnicode),this.toFontChar=vt.toFontChar,wt=vt.charCodeToGlyphId,_t=vt.toUnicodeExtraMap);const Tt=ft.numGlyphs;function Lt(Ct,yt){let bt=null;for(const Pt in Ct)yt===Ct[Pt]&&(bt||(bt=[]),bt.push(Pt|0));return bt}function jt(Ct,yt){for(const bt in Ct)if(yt===Ct[bt])return bt|0;return vt.charCodeToGlyphId[vt.nextAvailableFontCharCode]=yt,vt.nextAvailableFontCharCode++}const Bt=ft.seacs;if(vt&&de.SEAC_ANALYSIS_ENABLED&&Bt&&Bt.length){const Ct=pt.fontMatrix||ae.FONT_IDENTITY_MATRIX,yt=ft.getCharset(),bt=Object.create(null);for(let Pt in Bt){Pt|=0;const Ut=Bt[Pt],Yt=Ae.StandardEncoding[Ut[2]],kt=Ae.StandardEncoding[Ut[3]],Ot=yt.indexOf(Yt),Et=yt.indexOf(kt);if(Ot<0||Et<0)continue;const nn={x:Ut[0]*Ct[0]+Ut[1]*Ct[2]+Ct[4],y:Ut[0]*Ct[1]+Ut[1]*Ct[3]+Ct[5]},en=Lt(xt,Pt);if(en)for(let an=0,Sn=en.length;an<Sn;an++){const sn=en[an],yn=vt.charCodeToGlyphId,On=jt(yn,Ot),tn=jt(yn,Et);bt[sn]={baseFontCharCode:On,accentFontCharCode:tn,accentOffset:nn}}}pt.seacMap=bt}const St=1/(pt.fontMatrix||ae.FONT_IDENTITY_MATRIX)[0],Ft=new Fe.OpenTypeFileBuilder("OTTO");return Ft.addTable("CFF ",ft.data),Ft.addTable("OS/2",We(pt,wt)),Ft.addTable("cmap",nt(wt,_t,Tt)),Ft.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+Le(St)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+Le(pt.descent)+"ÿ"+Le(pt.ascent)+Ie(pt.italicAngle?2:0)+"\0\0\0\0\0\0\0"),Ft.addTable("hhea","\0\0\0"+Le(pt.ascent)+Le(pt.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+Le(pt.capHeight)+Le(Math.tan(pt.italicAngle)*pt.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+Ie(Tt)),Ft.addTable("hmtx",function(){const yt=ft.charstrings,bt=ft.cff?ft.cff.widths:null;let Pt="\0\0\0\0";for(let Ut=1,Yt=Tt;Ut<Yt;Ut++){let kt=0;if(yt){const Ot=yt[Ut-1];kt="width"in Ot?Ot.width:0}else bt&&(kt=Math.ceil(bt[Ut]||0));Pt+=Ie(kt)+Ie(0)}return Pt}()),Ft.addTable("maxp","\0\0P\0"+Ie(Tt)),Ft.addTable("name",ct(ut)),Ft.addTable("post",rt(pt)),Ft.toArray()}get spaceWidth(){const ut=["space","minus","one","i","I"];let ft;for(let pt=0,mt=ut.length;pt<mt;pt++){const xt=ut[pt];if(xt in this.widths){ft=this.widths[xt];break}const wt=(0,re.getGlyphsUnicode)()[xt];let _t=0;if(this.composite&&this.cMap.contains(wt)&&(_t=this.cMap.lookup(wt),typeof _t=="string"&&(_t=Ge(wt,_t))),!_t&&this.toUnicode&&(_t=this.toUnicode.charCodeOf(wt)),_t<=0&&(_t=wt),ft=this.widths[_t],ft)break}return ft=ft||this.defaultWidth,(0,ae.shadow)(this,"spaceWidth",ft)}_charToGlyph(ut,ft=!1){let pt,mt,xt,vt=ut;this.cMap&&this.cMap.contains(ut)&&(vt=this.cMap.lookup(ut),typeof vt=="string"&&(vt=Ge(ut,vt))),mt=this.widths[vt],typeof mt!="number"&&(mt=this.defaultWidth);const wt=this.vmetrics&&this.vmetrics[vt];let _t=this.toUnicode.get(ut)||ut;typeof _t=="number"&&(_t=String.fromCharCode(_t));let Tt=this.toFontChar[ut]!==void 0;if(pt=this.toFontChar[ut]||ut,this.missingFile){const St=this.differences[ut]||this.defaultEncoding[ut];(St===".notdef"||St==="")&&this.type==="Type1"&&(pt=32),pt=(0,pe.mapSpecialUnicodeValues)(pt)}this.isType3Font&&(xt=pt);let Lt=null;if(this.seacMap&&this.seacMap[ut]){Tt=!0;const St=this.seacMap[ut];pt=St.baseFontCharCode,Lt={fontChar:String.fromCodePoint(St.accentFontCharCode),offset:St.accentOffset}}let jt="";typeof pt=="number"&&(pt<=1114111?jt=String.fromCodePoint(pt):(0,ae.warn)(`charToGlyph - invalid fontCharCode: ${pt}`));let Bt=this._glyphCache[ut];return(!Bt||!Bt.matchesForCache(ut,jt,_t,Lt,mt,wt,xt,ft,Tt))&&(Bt=new Ue(ut,jt,_t,Lt,mt,wt,xt,ft,Tt),this._glyphCache[ut]=Bt),Bt}charsToGlyphs(ut){let ft=this._charsCache[ut];if(ft)return ft;if(ft=[],this.cMap){const pt=Object.create(null),mt=ut.length;let xt=0;for(;xt<mt;){this.cMap.readCharCode(ut,xt,pt);const{charcode:vt,length:wt}=pt;xt+=wt;const _t=this._charToGlyph(vt,wt===1&&ut.charCodeAt(xt-1)===32);ft.push(_t)}}else for(let pt=0,mt=ut.length;pt<mt;++pt){const xt=ut.charCodeAt(pt),vt=this._charToGlyph(xt,xt===32);ft.push(vt)}return this._charsCache[ut]=ft}getCharPositions(ut){const ft=[];if(this.cMap){const pt=Object.create(null);let mt=0;for(;mt<ut.length;){this.cMap.readCharCode(ut,mt,pt);const xt=pt.length;ft.push([mt,mt+xt]),mt+=xt}}else for(let pt=0,mt=ut.length;pt<mt;++pt)ft.push([pt,pt+1]);return ft}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(ut){const ft=[],pt=[],mt=()=>ft.length%2===1,xt=this.toUnicode instanceof Se.IdentityToUnicodeMap?vt=>this.toUnicode.charCodeOf(vt):vt=>this.toUnicode.charCodeOf(String.fromCodePoint(vt));for(let vt=0,wt=ut.length;vt<wt;vt++){const _t=ut.codePointAt(vt);if(_t>55295&&(_t<57344||_t>65533)&&vt++,this.toUnicode){const Tt=xt(_t);if(Tt!==-1){mt()&&(ft.push(pt.join("")),pt.length=0);const Lt=this.cMap?this.cMap.getCharCodeLength(Tt):1;for(let jt=Lt-1;jt>=0;jt--)pt.push(String.fromCharCode(Tt>>8*jt&255));continue}}mt()||(ft.push(pt.join("")),pt.length=0),pt.push(String.fromCodePoint(_t))}return ft.push(pt.join("")),ft}}oe.Font=at;class Je{constructor(ut){this.error=ut,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(ut){return[ut]}exportData(ut=!1){return{error:this.error}}}oe.ErrorFont=Je},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.CFFTopDict=oe.CFFStrings=oe.CFFStandardStrings=oe.CFFPrivateDict=oe.CFFParser=oe.CFFIndex=oe.CFFHeader=oe.CFFFDSelect=oe.CFFCompiler=oe.CFFCharset=oe.CFF=void 0;var ae=ce(2),he=ce(36),de=ce(37);const pe=10,re=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];oe.CFFStandardStrings=re;const Ae=391,ge=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],Se=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(Ue,Te){Ue[Te-2]=Ue[Te-2]+Ue[Te-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(Ue,Te){Ue[Te-2]=Ue[Te-2]-Ue[Te-1]}},{id:"div",min:2,stackDelta:-1,stackFn(Ue,Te){Ue[Te-2]=Ue[Te-2]/Ue[Te-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(Ue,Te){Ue[Te-1]=-Ue[Te-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(Ue,Te){Ue[Te-2]=Ue[Te-2]*Ue[Te-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class fe{constructor(Te,Me,Ve){this.bytes=Te.getBytes(),this.properties=Me,this.seacAnalysisEnabled=!!Ve}parse(){const Te=this.properties,Me=new be;this.cff=Me;const Ve=this.parseHeader(),He=this.parseIndex(Ve.endPos),Ie=this.parseIndex(He.endPos),Le=this.parseIndex(Ie.endPos),Oe=this.parseIndex(Le.endPos),Ne=this.parseDict(Ie.obj.get(0)),qe=this.createDict(Ee,Ne,Me.strings);Me.header=Ve.obj,Me.names=this.parseNameIndex(He.obj),Me.strings=this.parseStringIndex(Le.obj),Me.topDict=qe,Me.globalSubrIndex=Oe.obj,this.parsePrivateDict(Me.topDict),Me.isCIDFont=qe.hasName("ROS");const it=qe.getByName("CharStrings"),tt=this.parseIndex(it).obj,Xe=qe.getByName("FontMatrix");Xe&&(Te.fontMatrix=Xe);const Ze=qe.getByName("FontBBox");Ze&&(Te.ascent=Math.max(Ze[3],Ze[1]),Te.descent=Math.min(Ze[1],Ze[3]),Te.ascentScaled=!0);let ot,Ge;if(Me.isCIDFont){const je=this.parseIndex(qe.getByName("FDArray")).obj;for(let nt=0,Qe=je.count;nt<Qe;++nt){const We=je.get(nt),rt=this.createDict(Ee,this.parseDict(We),Me.strings);this.parsePrivateDict(rt),Me.fdArray.push(rt)}Ge=null,ot=this.parseCharsets(qe.getByName("charset"),tt.count,Me.strings,!0),Me.fdSelect=this.parseFDSelect(qe.getByName("FDSelect"),tt.count)}else ot=this.parseCharsets(qe.getByName("charset"),tt.count,Me.strings,!1),Ge=this.parseEncoding(qe.getByName("Encoding"),Te,Me.strings,ot.charset);Me.charset=ot,Me.encoding=Ge;const Ke=this.parseCharStrings({charStrings:tt,localSubrIndex:qe.privateDict.subrsIndex,globalSubrIndex:Oe.obj,fdSelect:Me.fdSelect,fdArray:Me.fdArray,privateDict:qe.privateDict});return Me.charStrings=Ke.charStrings,Me.seacs=Ke.seacs,Me.widths=Ke.widths,Me}parseHeader(){let Te=this.bytes;const Me=Te.length;let Ve=0;for(;Ve<Me&&Te[Ve]!==1;)++Ve;if(Ve>=Me)throw new ae.FormatError("Invalid CFF header");Ve!==0&&((0,ae.info)("cff data is shifted"),Te=Te.subarray(Ve),this.bytes=Te);const He=Te[0],Ie=Te[1],Le=Te[2],Oe=Te[3];return{obj:new xe(He,Ie,Le,Oe),endPos:Le}}parseDict(Te){let Me=0;function Ve(){let Ne=Te[Me++];return Ne===30?He():Ne===28?(Ne=Te[Me++],Ne=(Ne<<24|Te[Me++]<<16)>>16,Ne):Ne===29?(Ne=Te[Me++],Ne=Ne<<8|Te[Me++],Ne=Ne<<8|Te[Me++],Ne=Ne<<8|Te[Me++],Ne):Ne>=32&&Ne<=246?Ne-139:Ne>=247&&Ne<=250?(Ne-247)*256+Te[Me++]+108:Ne>=251&&Ne<=254?-((Ne-251)*256)-Te[Me++]-108:((0,ae.warn)('CFFParser_parseDict: "'+Ne+'" is a reserved command.'),NaN)}function He(){let Ne="";const it=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],tt=Te.length;for(;Me<tt;){const Xe=Te[Me++],Ze=Xe>>4,ot=Xe&15;if(Ze===15||(Ne+=it[Ze],ot===15))break;Ne+=it[ot]}return parseFloat(Ne)}let Ie=[];const Le=[];Me=0;const Oe=Te.length;for(;Me<Oe;){let Ne=Te[Me];Ne<=21?(Ne===12&&(Ne=Ne<<8|Te[++Me]),Le.push([Ne,Ie]),Ie=[],++Me):Ie.push(Ve())}return Le}parseIndex(Te){const Me=new we,Ve=this.bytes,He=Ve[Te++]<<8|Ve[Te++],Ie=[];let Le=Te,Oe,Ne;if(He!==0){const qe=Ve[Te++],it=Te+(He+1)*qe-1;for(Oe=0,Ne=He+1;Oe<Ne;++Oe){let tt=0;for(let Xe=0;Xe<qe;++Xe)tt<<=8,tt+=Ve[Te++];Ie.push(it+tt)}Le=Ie[He]}for(Oe=0,Ne=Ie.length-1;Oe<Ne;++Oe){const qe=Ie[Oe],it=Ie[Oe+1];Me.add(Ve.subarray(qe,it))}return{obj:Me,endPos:Le}}parseNameIndex(Te){const Me=[];for(let Ve=0,He=Te.count;Ve<He;++Ve){const Ie=Te.get(Ve);Me.push((0,ae.bytesToString)(Ie))}return Me}parseStringIndex(Te){const Me=new ue;for(let Ve=0,He=Te.count;Ve<He;++Ve){const Ie=Te.get(Ve);Me.add((0,ae.bytesToString)(Ie))}return Me}createDict(Te,Me,Ve){const He=new Te(Ve);for(let Ie=0,Le=Me.length;Ie<Le;++Ie){const Oe=Me[Ie],Ne=Oe[0],qe=Oe[1];He.setByKey(Ne,qe)}return He}parseCharString(Te,Me,Ve,He){if(!Me||Te.callDepth>pe)return!1;let Ie=Te.stackSize;const Le=Te.stack,Oe=Me.length;for(let Ne=0;Ne<Oe;){const qe=Me[Ne++];let it=null;if(qe===12){const tt=Me[Ne++];tt===0?(Me[Ne-2]=139,Me[Ne-1]=22,Ie=0):it=Se[tt]}else if(qe===28)Le[Ie]=(Me[Ne]<<24|Me[Ne+1]<<16)>>16,Ne+=2,Ie++;else if(qe===14){if(Ie>=4&&(Ie-=4,this.seacAnalysisEnabled))return Te.seac=Le.slice(Ie,Ie+4),!1;it=ge[qe]}else if(qe>=32&&qe<=246)Le[Ie]=qe-139,Ie++;else if(qe>=247&&qe<=254)Le[Ie]=qe<251?(qe-247<<8)+Me[Ne]+108:-(qe-251<<8)-Me[Ne]-108,Ne++,Ie++;else if(qe===255)Le[Ie]=(Me[Ne]<<24|Me[Ne+1]<<16|Me[Ne+2]<<8|Me[Ne+3])/65536,Ne+=4,Ie++;else if(qe===19||qe===20)Te.hints+=Ie>>1,Ne+=Te.hints+7>>3,Ie%=2,it=ge[qe];else if(qe===10||qe===29){let tt;if(qe===10?tt=Ve:tt=He,!tt)return it=ge[qe],(0,ae.warn)("Missing subrsIndex for "+it.id),!1;let Xe=32768;tt.count<1240?Xe=107:tt.count<33900&&(Xe=1131);const Ze=Le[--Ie]+Xe;if(Ze<0||Ze>=tt.count||isNaN(Ze))return it=ge[qe],(0,ae.warn)("Out of bounds subrIndex for "+it.id),!1;if(Te.stackSize=Ie,Te.callDepth++,!this.parseCharString(Te,tt.get(Ze),Ve,He))return!1;Te.callDepth--,Ie=Te.stackSize;continue}else{if(qe===11)return Te.stackSize=Ie,!0;qe===0&&Ne===Me.length?(Me[Ne-1]=14,it=ge[14]):it=ge[qe]}if(it){if(it.stem&&(Te.hints+=Ie>>1,qe===3||qe===23?Te.hasVStems=!0:Te.hasVStems&&(qe===1||qe===18)&&((0,ae.warn)("CFF stem hints are in wrong order"),Me[Ne-1]=qe===1?3:23)),"min"in it&&!Te.undefStack&&Ie<it.min)return(0,ae.warn)("Not enough parameters for "+it.id+"; actual: "+Ie+", expected: "+it.min),Ie===0?(Me[Ne-1]=14,!0):!1;Te.firstStackClearing&&it.stackClearing&&(Te.firstStackClearing=!1,Ie-=it.min,Ie>=2&&it.stem?Ie%=2:Ie>1&&(0,ae.warn)("Found too many parameters for stack-clearing command"),Ie>0&&(Te.width=Le[Ie-1])),"stackDelta"in it?("stackFn"in it&&it.stackFn(Le,Ie),Ie+=it.stackDelta):it.stackClearing?Ie=0:it.resetStack?(Ie=0,Te.undefStack=!1):it.undefStack&&(Ie=0,Te.undefStack=!0,Te.firstStackClearing=!1)}}return Te.stackSize=Ie,!0}parseCharStrings({charStrings:Te,localSubrIndex:Me,globalSubrIndex:Ve,fdSelect:He,fdArray:Ie,privateDict:Le}){const Oe=[],Ne=[],qe=Te.count;for(let it=0;it<qe;it++){const tt=Te.get(it),Xe={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let Ze=!0,ot=null,Ge=Le;if(He&&Ie.length){const Ke=He.getFDIndex(it);Ke===-1&&((0,ae.warn)("Glyph index is not in fd select."),Ze=!1),Ke>=Ie.length&&((0,ae.warn)("Invalid fd index for glyph index."),Ze=!1),Ze&&(Ge=Ie[Ke].privateDict,ot=Ge.subrsIndex)}else Me&&(ot=Me);if(Ze&&(Ze=this.parseCharString(Xe,tt,ot,Ve)),Xe.width!==null){const Ke=Ge.getByName("nominalWidthX");Ne[it]=Ke+Xe.width}else{const Ke=Ge.getByName("defaultWidthX");Ne[it]=Ke}Xe.seac!==null&&(Oe[it]=Xe.seac),Ze||Te.set(it,new Uint8Array([14]))}return{charStrings:Te,seacs:Oe,widths:Ne}}emptyPrivateDictionary(Te){const Me=this.createDict(ye,[],Te.strings);Te.setByKey(18,[0,0]),Te.privateDict=Me}parsePrivateDict(Te){if(!Te.hasName("Private")){this.emptyPrivateDictionary(Te);return}const Me=Te.getByName("Private");if(!Array.isArray(Me)||Me.length!==2){Te.removeByName("Private");return}const Ve=Me[0],He=Me[1];if(Ve===0||He>=this.bytes.length){this.emptyPrivateDictionary(Te);return}const Ie=He+Ve,Le=this.bytes.subarray(He,Ie),Oe=this.parseDict(Le),Ne=this.createDict(ye,Oe,Te.strings);if(Te.privateDict=Ne,!Ne.getByName("Subrs"))return;const qe=Ne.getByName("Subrs"),it=He+qe;if(qe===0||it>=this.bytes.length){this.emptyPrivateDictionary(Te);return}const tt=this.parseIndex(it);Ne.subrsIndex=tt.obj}parseCharsets(Te,Me,Ve,He){if(Te===0)return new Ye(!0,Re.ISO_ADOBE,he.ISOAdobeCharset);if(Te===1)return new Ye(!0,Re.EXPERT,he.ExpertCharset);if(Te===2)return new Ye(!0,Re.EXPERT_SUBSET,he.ExpertSubsetCharset);const Ie=this.bytes,Le=Te,Oe=Ie[Te++],Ne=[He?0:".notdef"];let qe,it,tt;switch(Me-=1,Oe){case 0:for(tt=0;tt<Me;tt++)qe=Ie[Te++]<<8|Ie[Te++],Ne.push(He?qe:Ve.get(qe));break;case 1:for(;Ne.length<=Me;)for(qe=Ie[Te++]<<8|Ie[Te++],it=Ie[Te++],tt=0;tt<=it;tt++)Ne.push(He?qe++:Ve.get(qe++));break;case 2:for(;Ne.length<=Me;)for(qe=Ie[Te++]<<8|Ie[Te++],it=Ie[Te++]<<8|Ie[Te++],tt=0;tt<=it;tt++)Ne.push(He?qe++:Ve.get(qe++));break;default:throw new ae.FormatError("Unknown charset format")}const Xe=Te,Ze=Ie.subarray(Le,Xe);return new Ye(!1,Oe,Ne,Ze)}parseEncoding(Te,Me,Ve,He){const Ie=Object.create(null),Le=this.bytes;let Oe=!1,Ne,qe,it,tt=null;function Xe(){const Ze=Le[Te++];for(qe=0;qe<Ze;qe++){const ot=Le[Te++],Ge=(Le[Te++]<<8)+(Le[Te++]&255);Ie[ot]=He.indexOf(Ve.get(Ge))}}if(Te===0||Te===1){Oe=!0,Ne=Te;const Ze=Te?de.ExpertEncoding:de.StandardEncoding;for(qe=0,it=He.length;qe<it;qe++){const ot=Ze.indexOf(He[qe]);ot!==-1&&(Ie[ot]=qe)}}else{const Ze=Te;switch(Ne=Le[Te++],Ne&127){case 0:const Ge=Le[Te++];for(qe=1;qe<=Ge;qe++)Ie[Le[Te++]]=qe;break;case 1:const Ke=Le[Te++];let je=1;for(qe=0;qe<Ke;qe++){const nt=Le[Te++],Qe=Le[Te++];for(let We=nt;We<=nt+Qe;We++)Ie[We]=je++}break;default:throw new ae.FormatError(`Unknown encoding format: ${Ne} in CFF`)}const ot=Te;Ne&128&&(Le[Ze]&=127,Xe()),tt=Le.subarray(Ze,ot)}return Ne&=127,new ke(Oe,Ne,Ie,tt)}parseFDSelect(Te,Me){const Ve=this.bytes,He=Ve[Te++],Ie=[];let Le;switch(He){case 0:for(Le=0;Le<Me;++Le){const Ne=Ve[Te++];Ie.push(Ne)}break;case 3:const Oe=Ve[Te++]<<8|Ve[Te++];for(Le=0;Le<Oe;++Le){let Ne=Ve[Te++]<<8|Ve[Te++];Le===0&&Ne!==0&&((0,ae.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),Ne=0);const qe=Ve[Te++],it=Ve[Te]<<8|Ve[Te+1];for(let tt=Ne;tt<it;++tt)Ie.push(qe)}Te+=2;break;default:throw new ae.FormatError(`parseFDSelect: Unknown format "${He}".`)}if(Ie.length!==Me)throw new ae.FormatError("parseFDSelect: Invalid font data.");return new $e(He,Ie)}}oe.CFFParser=fe;class be{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new ue,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){(0,ae.warn)("Not enough space in charstrings to duplicate first glyph.");return}const Te=this.charStrings.get(0);this.charStrings.add(Te),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(Te){return Te<0||Te>=this.charStrings.count?!1:this.charStrings.get(Te).length>0}}oe.CFF=be;class xe{constructor(Te,Me,Ve,He){this.major=Te,this.minor=Me,this.hdrSize=Ve,this.offSize=He}}oe.CFFHeader=xe;class ue{constructor(){this.strings=[]}get(Te){return Te>=0&&Te<=Ae-1?re[Te]:Te-Ae<=this.strings.length?this.strings[Te-Ae]:re[0]}getSID(Te){let Me=re.indexOf(Te);return Me!==-1?Me:(Me=this.strings.indexOf(Te),Me!==-1?Me+Ae:-1)}add(Te){this.strings.push(Te)}get count(){return this.strings.length}}oe.CFFStrings=ue;class we{constructor(){this.objects=[],this.length=0}add(Te){this.length+=Te.length,this.objects.push(Te)}set(Te,Me){this.length+=Me.length-this.objects[Te].length,this.objects[Te]=Me}get(Te){return this.objects[Te]}get count(){return this.objects.length}}oe.CFFIndex=we;class Fe{constructor(Te,Me){this.keyToNameMap=Te.keyToNameMap,this.nameToKeyMap=Te.nameToKeyMap,this.defaults=Te.defaults,this.types=Te.types,this.opcodes=Te.opcodes,this.order=Te.order,this.strings=Me,this.values=Object.create(null)}setByKey(Te,Me){if(!(Te in this.keyToNameMap))return!1;const Ve=Me.length;if(Ve===0)return!0;for(let Ie=0;Ie<Ve;Ie++)if(isNaN(Me[Ie]))return(0,ae.warn)('Invalid CFFDict value: "'+Me+'" for key "'+Te+'".'),!0;const He=this.types[Te];return(He==="num"||He==="sid"||He==="offset")&&(Me=Me[0]),this.values[Te]=Me,!0}setByName(Te,Me){if(!(Te in this.nameToKeyMap))throw new ae.FormatError(`Invalid dictionary name "${Te}"`);this.values[this.nameToKeyMap[Te]]=Me}hasName(Te){return this.nameToKeyMap[Te]in this.values}getByName(Te){if(!(Te in this.nameToKeyMap))throw new ae.FormatError(`Invalid dictionary name ${Te}"`);const Me=this.nameToKeyMap[Te];return Me in this.values?this.values[Me]:this.defaults[Me]}removeByName(Te){delete this.values[this.nameToKeyMap[Te]]}static createTables(Te){const Me={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let Ve=0,He=Te.length;Ve<He;++Ve){const Ie=Te[Ve],Le=Array.isArray(Ie[0])?(Ie[0][0]<<8)+Ie[0][1]:Ie[0];Me.keyToNameMap[Le]=Ie[1],Me.nameToKeyMap[Ie[1]]=Le,Me.types[Le]=Ie[2],Me.defaults[Le]=Ie[3],Me.opcodes[Le]=Array.isArray(Ie[0])?Ie[0]:[Ie[0]],Me.order.push(Le)}return Me}}const _e=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class Ee extends Fe{static get tables(){return(0,ae.shadow)(this,"tables",this.createTables(_e))}constructor(Te){super(Ee.tables,Te),this.privateDict=null}}oe.CFFTopDict=Ee;const Ce=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class ye extends Fe{static get tables(){return(0,ae.shadow)(this,"tables",this.createTables(Ce))}constructor(Te){super(ye.tables,Te),this.subrsIndex=null}}oe.CFFPrivateDict=ye;const Re={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class Ye{constructor(Te,Me,Ve,He){this.predefined=Te,this.format=Me,this.charset=Ve,this.raw=He}}oe.CFFCharset=Ye;class ke{constructor(Te,Me,Ve,He){this.predefined=Te,this.format=Me,this.encoding=Ve,this.raw=He}}class $e{constructor(Te,Me){this.format=Te,this.fdSelect=Me}getFDIndex(Te){return Te<0||Te>=this.fdSelect.length?-1:this.fdSelect[Te]}}oe.CFFFDSelect=$e;class Be{constructor(){this.offsets=Object.create(null)}isTracking(Te){return Te in this.offsets}track(Te,Me){if(Te in this.offsets)throw new ae.FormatError(`Already tracking location of ${Te}`);this.offsets[Te]=Me}offset(Te){for(const Me in this.offsets)this.offsets[Me]+=Te}setEntryLocation(Te,Me,Ve){if(!(Te in this.offsets))throw new ae.FormatError(`Not tracking location of ${Te}`);const He=Ve.data,Ie=this.offsets[Te],Le=5;for(let Oe=0,Ne=Me.length;Oe<Ne;++Oe){const qe=Oe*Le+Ie,it=qe+1,tt=qe+2,Xe=qe+3,Ze=qe+4;if(He[qe]!==29||He[it]!==0||He[tt]!==0||He[Xe]!==0||He[Ze]!==0)throw new ae.FormatError("writing to an offset that is not empty");const ot=Me[Oe];He[qe]=29,He[it]=ot>>24&255,He[tt]=ot>>16&255,He[Xe]=ot>>8&255,He[Ze]=ot&255}}}class Pe{constructor(Te){this.cff=Te}compile(){const Te=this.cff,Me={data:[],length:0,add(Xe){this.data=this.data.concat(Xe),this.length=this.data.length}},Ve=this.compileHeader(Te.header);Me.add(Ve);const He=this.compileNameIndex(Te.names);if(Me.add(He),Te.isCIDFont&&Te.topDict.hasName("FontMatrix")){const Xe=Te.topDict.getByName("FontMatrix");Te.topDict.removeByName("FontMatrix");for(let Ze=0,ot=Te.fdArray.length;Ze<ot;Ze++){const Ge=Te.fdArray[Ze];let Ke=Xe.slice(0);Ge.hasName("FontMatrix")&&(Ke=ae.Util.transform(Ke,Ge.getByName("FontMatrix"))),Ge.setByName("FontMatrix",Ke)}}const Ie=Te.topDict.getByName("XUID");Ie&&Ie.length>16&&Te.topDict.removeByName("XUID"),Te.topDict.setByName("charset",0);let Le=this.compileTopDicts([Te.topDict],Me.length,Te.isCIDFont);Me.add(Le.output);const Oe=Le.trackers[0],Ne=this.compileStringIndex(Te.strings.strings);Me.add(Ne);const qe=this.compileIndex(Te.globalSubrIndex);if(Me.add(qe),Te.encoding&&Te.topDict.hasName("Encoding"))if(Te.encoding.predefined)Oe.setEntryLocation("Encoding",[Te.encoding.format],Me);else{const Xe=this.compileEncoding(Te.encoding);Oe.setEntryLocation("Encoding",[Me.length],Me),Me.add(Xe)}const it=this.compileCharset(Te.charset,Te.charStrings.count,Te.strings,Te.isCIDFont);Oe.setEntryLocation("charset",[Me.length],Me),Me.add(it);const tt=this.compileCharStrings(Te.charStrings);if(Oe.setEntryLocation("CharStrings",[Me.length],Me),Me.add(tt),Te.isCIDFont){Oe.setEntryLocation("FDSelect",[Me.length],Me);const Xe=this.compileFDSelect(Te.fdSelect);Me.add(Xe),Le=this.compileTopDicts(Te.fdArray,Me.length,!0),Oe.setEntryLocation("FDArray",[Me.length],Me),Me.add(Le.output);const Ze=Le.trackers;this.compilePrivateDicts(Te.fdArray,Ze,Me)}return this.compilePrivateDicts([Te.topDict],[Oe],Me),Me.add([0]),Me.data}encodeNumber(Te){return Number.isInteger(Te)?this.encodeInteger(Te):this.encodeFloat(Te)}static get EncodeFloatRegExp(){return(0,ae.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(Te){let Me=Te.toString();const Ve=Pe.EncodeFloatRegExp.exec(Me);if(Ve){const Ne=parseFloat("1e"+((Ve[2]?+Ve[2]:0)+Ve[1].length));Me=(Math.round(Te*Ne)/Ne).toString()}let He="",Ie,Le;for(Ie=0,Le=Me.length;Ie<Le;++Ie){const Ne=Me[Ie];Ne==="e"?He+=Me[++Ie]==="-"?"c":"b":Ne==="."?He+="a":Ne==="-"?He+="e":He+=Ne}He+=He.length&1?"f":"ff";const Oe=[30];for(Ie=0,Le=He.length;Ie<Le;Ie+=2)Oe.push(parseInt(He.substring(Ie,Ie+2),16));return Oe}encodeInteger(Te){let Me;return Te>=-107&&Te<=107?Me=[Te+139]:Te>=108&&Te<=1131?(Te-=108,Me=[(Te>>8)+247,Te&255]):Te>=-1131&&Te<=-108?(Te=-Te-108,Me=[(Te>>8)+251,Te&255]):Te>=-32768&&Te<=32767?Me=[28,Te>>8&255,Te&255]:Me=[29,Te>>24&255,Te>>16&255,Te>>8&255,Te&255],Me}compileHeader(Te){return[Te.major,Te.minor,4,Te.offSize]}compileNameIndex(Te){const Me=new we;for(let Ve=0,He=Te.length;Ve<He;++Ve){const Ie=Te[Ve],Le=Math.min(Ie.length,127);let Oe=new Array(Le);for(let Ne=0;Ne<Le;Ne++){let qe=Ie[Ne];(qe<"!"||qe>"~"||qe==="["||qe==="]"||qe==="("||qe===")"||qe==="{"||qe==="}"||qe==="<"||qe===">"||qe==="/"||qe==="%")&&(qe="_"),Oe[Ne]=qe}Oe=Oe.join(""),Oe===""&&(Oe="Bad_Font_Name"),Me.add((0,ae.stringToBytes)(Oe))}return this.compileIndex(Me)}compileTopDicts(Te,Me,Ve){const He=[];let Ie=new we;for(let Le=0,Oe=Te.length;Le<Oe;++Le){const Ne=Te[Le];Ve&&(Ne.removeByName("CIDFontVersion"),Ne.removeByName("CIDFontRevision"),Ne.removeByName("CIDFontType"),Ne.removeByName("CIDCount"),Ne.removeByName("UIDBase"));const qe=new Be,it=this.compileDict(Ne,qe);He.push(qe),Ie.add(it),qe.offset(Me)}return Ie=this.compileIndex(Ie,He),{trackers:He,output:Ie}}compilePrivateDicts(Te,Me,Ve){for(let He=0,Ie=Te.length;He<Ie;++He){const Le=Te[He],Oe=Le.privateDict;if(!Oe||!Le.hasName("Private"))throw new ae.FormatError("There must be a private dictionary.");const Ne=new Be,qe=this.compileDict(Oe,Ne);let it=Ve.length;if(Ne.offset(it),qe.length||(it=0),Me[He].setEntryLocation("Private",[qe.length,it],Ve),Ve.add(qe),Oe.subrsIndex&&Oe.hasName("Subrs")){const tt=this.compileIndex(Oe.subrsIndex);Ne.setEntryLocation("Subrs",[qe.length],Ve),Ve.add(tt)}}}compileDict(Te,Me){const Ve=[];for(const He of Te.order){if(!(He in Te.values))continue;let Ie=Te.values[He],Le=Te.types[He];if(Array.isArray(Le)||(Le=[Le]),Array.isArray(Ie)||(Ie=[Ie]),Ie.length!==0){for(let Oe=0,Ne=Le.length;Oe<Ne;++Oe){const qe=Le[Oe],it=Ie[Oe];switch(qe){case"num":case"sid":Ve.push(...this.encodeNumber(it));break;case"offset":const tt=Te.keyToNameMap[He];Me.isTracking(tt)||Me.track(tt,Ve.length),Ve.push(29,0,0,0,0);break;case"array":case"delta":Ve.push(...this.encodeNumber(it));for(let Xe=1,Ze=Ie.length;Xe<Ze;++Xe)Ve.push(...this.encodeNumber(Ie[Xe]));break;default:throw new ae.FormatError(`Unknown data type of ${qe}`)}}Ve.push(...Te.opcodes[He])}}return Ve}compileStringIndex(Te){const Me=new we;for(let Ve=0,He=Te.length;Ve<He;++Ve)Me.add((0,ae.stringToBytes)(Te[Ve]));return this.compileIndex(Me)}compileGlobalSubrIndex(){const Te=this.cff.globalSubrIndex;this.out.writeByteArray(this.compileIndex(Te))}compileCharStrings(Te){const Me=new we;for(let Ve=0;Ve<Te.count;Ve++){const He=Te.get(Ve);if(He.length===0){Me.add(new Uint8Array([139,14]));continue}Me.add(He)}return this.compileIndex(Me)}compileCharset(Te,Me,Ve,He){let Ie;const Le=Me-1;if(He)Ie=new Uint8Array([2,0,0,Le>>8&255,Le&255]);else{const Oe=1+Le*2;Ie=new Uint8Array(Oe),Ie[0]=0;let Ne=0;const qe=Te.charset.length;let it=!1;for(let tt=1;tt<Ie.length;tt+=2){let Xe=0;if(Ne<qe){const Ze=Te.charset[Ne++];Xe=Ve.getSID(Ze),Xe===-1&&(Xe=0,it||(it=!0,(0,ae.warn)(`Couldn't find ${Ze} in CFF strings`)))}Ie[tt]=Xe>>8&255,Ie[tt+1]=Xe&255}}return this.compileTypedArray(Ie)}compileEncoding(Te){return this.compileTypedArray(Te.raw)}compileFDSelect(Te){const Me=Te.format;let Ve,He;switch(Me){case 0:for(Ve=new Uint8Array(1+Te.fdSelect.length),Ve[0]=Me,He=0;He<Te.fdSelect.length;He++)Ve[He+1]=Te.fdSelect[He];break;case 3:const Ie=0;let Le=Te.fdSelect[0];const Oe=[Me,0,0,Ie>>8&255,Ie&255,Le];for(He=1;He<Te.fdSelect.length;He++){const qe=Te.fdSelect[He];qe!==Le&&(Oe.push(He>>8&255,He&255,qe),Le=qe)}const Ne=(Oe.length-3)/3;Oe[1]=Ne>>8&255,Oe[2]=Ne&255,Oe.push(He>>8&255,He&255),Ve=new Uint8Array(Oe);break}return this.compileTypedArray(Ve)}compileTypedArray(Te){const Me=[];for(let Ve=0,He=Te.length;Ve<He;++Ve)Me[Ve]=Te[Ve];return Me}compileIndex(Te,Me=[]){const Ve=Te.objects,He=Ve.length;if(He===0)return[0,0];const Ie=[He>>8&255,He&255];let Le=1,Oe;for(Oe=0;Oe<He;++Oe)Le+=Ve[Oe].length;let Ne;Le<256?Ne=1:Le<65536?Ne=2:Le<16777216?Ne=3:Ne=4,Ie.push(Ne);let qe=1;for(Oe=0;Oe<He+1;Oe++)Ne===1?Ie.push(qe&255):Ne===2?Ie.push(qe>>8&255,qe&255):Ne===3?Ie.push(qe>>16&255,qe>>8&255,qe&255):Ie.push(qe>>>24&255,qe>>16&255,qe>>8&255,qe&255),Ve[Oe]&&(qe+=Ve[Oe].length);for(Oe=0;Oe<He;Oe++){Me[Oe]&&Me[Oe].offset(Ie.length);for(let it=0,tt=Ve[Oe].length;it<tt;it++)Ie.push(Ve[Oe][it])}return Ie}}oe.CFFCompiler=Pe},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.ISOAdobeCharset=oe.ExpertSubsetCharset=oe.ExpertCharset=void 0;const ce=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"];oe.ISOAdobeCharset=ce;const ae=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];oe.ExpertCharset=ae;const he=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"];oe.ExpertSubsetCharset=he},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.ZapfDingbatsEncoding=oe.WinAnsiEncoding=oe.SymbolSetEncoding=oe.StandardEncoding=oe.MacRomanEncoding=oe.ExpertEncoding=void 0,oe.getEncoding=ge;const ce=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];oe.ExpertEncoding=ce;const ae=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],he=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];oe.MacRomanEncoding=he;const de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];oe.StandardEncoding=de;const pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];oe.WinAnsiEncoding=pe;const re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];oe.SymbolSetEncoding=re;const Ae=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];oe.ZapfDingbatsEncoding=Ae;function ge(Se){switch(Se){case"WinAnsiEncoding":return pe;case"StandardEncoding":return de;case"MacRomanEncoding":return he;case"SymbolSetEncoding":return re;case"ZapfDingbatsEncoding":return Ae;case"ExpertEncoding":return ce;case"MacExpertEncoding":return ae;default:return null}}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.SEAC_ANALYSIS_ENABLED=oe.MacStandardGlyphOrdering=oe.FontFlags=void 0,oe.getFontType=Se,oe.normalizeFontName=xe,oe.recoverGlyphName=fe,oe.type1FontGlyphMapping=be;var ae=ce(2),he=ce(37),de=ce(39),pe=ce(40);const re=!0;oe.SEAC_ANALYSIS_ENABLED=re;const Ae={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};oe.FontFlags=Ae;const ge=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];oe.MacStandardGlyphOrdering=ge;function Se(ue,we,Fe=!1){switch(ue){case"Type1":return Fe?ae.FontType.TYPE1STANDARD:we==="Type1C"?ae.FontType.TYPE1C:ae.FontType.TYPE1;case"CIDFontType0":return we==="CIDFontType0C"?ae.FontType.CIDFONTTYPE0C:ae.FontType.CIDFONTTYPE0;case"OpenType":return ae.FontType.OPENTYPE;case"TrueType":return ae.FontType.TRUETYPE;case"CIDFontType2":return ae.FontType.CIDFONTTYPE2;case"MMType1":return ae.FontType.MMTYPE1;case"Type0":return ae.FontType.TYPE0;default:return ae.FontType.UNKNOWN}}function fe(ue,we){if(we[ue]!==void 0)return ue;const Fe=(0,pe.getUnicodeForGlyph)(ue,we);if(Fe!==-1){for(const _e in we)if(we[_e]===Fe)return _e}return(0,ae.info)("Unable to recover a standard glyph name for: "+ue),ue}function be(ue,we,Fe){const _e=Object.create(null);let Ee,Ce,ye;const Re=!!(ue.flags&Ae.Symbolic);if(ue.isInternalFont)for(ye=we,Ce=0;Ce<ye.length;Ce++)Ee=Fe.indexOf(ye[Ce]),Ee>=0?_e[Ce]=Ee:_e[Ce]=0;else if(ue.baseEncodingName)for(ye=(0,he.getEncoding)(ue.baseEncodingName),Ce=0;Ce<ye.length;Ce++)Ee=Fe.indexOf(ye[Ce]),Ee>=0?_e[Ce]=Ee:_e[Ce]=0;else if(Re)for(Ce in we)_e[Ce]=we[Ce];else for(ye=he.StandardEncoding,Ce=0;Ce<ye.length;Ce++)Ee=Fe.indexOf(ye[Ce]),Ee>=0?_e[Ce]=Ee:_e[Ce]=0;const Ye=ue.differences;let ke;if(Ye)for(Ce in Ye){const $e=Ye[Ce];if(Ee=Fe.indexOf($e),Ee===-1){ke||(ke=(0,de.getGlyphsUnicode)());const Be=fe($e,ke);Be!==$e&&(Ee=Fe.indexOf(Be))}Ee>=0?_e[Ce]=Ee:_e[Ce]=0}return _e}function xe(ue){return ue.replace(/[,_]/g,"-").replace(/\s/g,"")}},(le,oe,ce)=>{ce.r(oe),ce.d(oe,{getDingbatsGlyphsUnicode:()=>de,getGlyphsUnicode:()=>he});var ae=ce(6);const he=(0,ae.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),de=(0,ae.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(le,oe,ce)=>{ce.r(oe),ce.d(oe,{clearUnicodeCaches:()=>we,getCharUnicodeCategory:()=>ue,getNormalizedUnicodes:()=>Se,getUnicodeForGlyph:()=>pe,getUnicodeRangeFor:()=>Ae,mapSpecialUnicodeValues:()=>de,reverseIfRtl:()=>fe});var ae=ce(6);const he=(0,ae.getLookupTableFactory)(function(Fe){Fe[63721]=169,Fe[63193]=169,Fe[63720]=174,Fe[63194]=174,Fe[63722]=8482,Fe[63195]=8482,Fe[63729]=9127,Fe[63730]=9128,Fe[63731]=9129,Fe[63740]=9131,Fe[63741]=9132,Fe[63742]=9133,Fe[63726]=9121,Fe[63727]=9122,Fe[63728]=9123,Fe[63737]=9124,Fe[63738]=9125,Fe[63739]=9126,Fe[63723]=9115,Fe[63724]=9116,Fe[63725]=9117,Fe[63734]=9118,Fe[63735]=9119,Fe[63736]=9120});function de(Fe){return Fe>=65520&&Fe<=65535?0:Fe>=62976&&Fe<=63743?he()[Fe]||Fe:Fe===173?45:Fe}function pe(Fe,_e){let Ee=_e[Fe];if(Ee!==void 0)return Ee;if(!Fe)return-1;if(Fe[0]==="u"){const Ce=Fe.length;let ye;if(Ce===7&&Fe[1]==="n"&&Fe[2]==="i")ye=Fe.substring(3);else if(Ce>=5&&Ce<=7)ye=Fe.substring(1);else return-1;if(ye===ye.toUpperCase()&&(Ee=parseInt(ye,16),Ee>=0))return Ee}return-1}const re=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Ae(Fe){for(let _e=0,Ee=re.length;_e<Ee;_e++){const Ce=re[_e];if(Fe>=Ce.begin&&Fe<Ce.end)return _e}return-1}function ge(Fe){let _e=re[13];return Fe>=_e.begin&&Fe<_e.end||(_e=re[11],Fe>=_e.begin&&Fe<_e.end)}const Se=(0,ae.getArrayLookupTableFactory)(function(){return["¨"," ̈","¯"," ̄","´"," ́","µ","μ","¸"," ̧","Ĳ","IJ","ĳ","ij","Ŀ","L·","ŀ","l·","ŉ","ʼn","ſ","s","Ǆ","DŽ","ǅ","Dž","ǆ","dž","Ǉ","LJ","ǈ","Lj","ǉ","lj","Ǌ","NJ","ǋ","Nj","ǌ","nj","Ǳ","DZ","ǲ","Dz","ǳ","dz","˘"," ̆","˙"," ̇","˚"," ̊","˛"," ̨","˜"," ̃","˝"," ̋","ͺ"," ͅ","΄"," ́","ϐ","β","ϑ","θ","ϒ","Υ","ϕ","φ","ϖ","π","ϰ","κ","ϱ","ρ","ϲ","ς","ϴ","Θ","ϵ","ε","Ϲ","Σ","և","եւ","ٵ","اٴ","ٶ","وٴ","ٷ","ۇٴ","ٸ","يٴ","ำ","ํา","ຳ","ໍາ","ໜ","ຫນ","ໝ","ຫມ","ཷ","ྲཱྀ","ཹ","ླཱྀ","ẚ","aʾ","᾽"," ̓","᾿"," ̓","῀"," ͂","῾"," ̔"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ","‗"," ̳","․",".","‥","..","…","...","″","′′","‴","′′′","‶","‵‵","‷","‵‵‵","‼","!!","‾"," ̅","⁇","??","⁈","?!","⁉","!?","⁗","′′′′"," "," ","₨","Rs","℀","a/c","℁","a/s","℃","°C","℅","c/o","℆","c/u","ℇ","Ɛ","℉","°F","№","No","℡","TEL","ℵ","א","ℶ","ב","ℷ","ג","ℸ","ד","℻","FAX","Ⅰ","I","Ⅱ","II","Ⅲ","III","Ⅳ","IV","Ⅴ","V","Ⅵ","VI","Ⅶ","VII","Ⅷ","VIII","Ⅸ","IX","Ⅹ","X","Ⅺ","XI","Ⅻ","XII","Ⅼ","L","Ⅽ","C","Ⅾ","D","Ⅿ","M","ⅰ","i","ⅱ","ii","ⅲ","iii","ⅳ","iv","ⅴ","v","ⅵ","vi","ⅶ","vii","ⅷ","viii","ⅸ","ix","ⅹ","x","ⅺ","xi","ⅻ","xii","ⅼ","l","ⅽ","c","ⅾ","d","ⅿ","m","∬","∫∫","∭","∫∫∫","∯","∮∮","∰","∮∮∮","⑴","(1)","⑵","(2)","⑶","(3)","⑷","(4)","⑸","(5)","⑹","(6)","⑺","(7)","⑻","(8)","⑼","(9)","⑽","(10)","⑾","(11)","⑿","(12)","⒀","(13)","⒁","(14)","⒂","(15)","⒃","(16)","⒄","(17)","⒅","(18)","⒆","(19)","⒇","(20)","⒈","1.","⒉","2.","⒊","3.","⒋","4.","⒌","5.","⒍","6.","⒎","7.","⒏","8.","⒐","9.","⒑","10.","⒒","11.","⒓","12.","⒔","13.","⒕","14.","⒖","15.","⒗","16.","⒘","17.","⒙","18.","⒚","19.","⒛","20.","⒜","(a)","⒝","(b)","⒞","(c)","⒟","(d)","⒠","(e)","⒡","(f)","⒢","(g)","⒣","(h)","⒤","(i)","⒥","(j)","⒦","(k)","⒧","(l)","⒨","(m)","⒩","(n)","⒪","(o)","⒫","(p)","⒬","(q)","⒭","(r)","⒮","(s)","⒯","(t)","⒰","(u)","⒱","(v)","⒲","(w)","⒳","(x)","⒴","(y)","⒵","(z)","⨌","∫∫∫∫","⩴","::=","⩵","==","⩶","===","⺟","母","⻳","龟","⼀","一","⼁","丨","⼂","丶","⼃","丿","⼄","乙","⼅","亅","⼆","二","⼇","亠","⼈","人","⼉","儿","⼊","入","⼋","八","⼌","冂","⼍","冖","⼎","冫","⼏","几","⼐","凵","⼑","刀","⼒","力","⼓","勹","⼔","匕","⼕","匚","⼖","匸","⼗","十","⼘","卜","⼙","卩","⼚","厂","⼛","厶","⼜","又","⼝","口","⼞","囗","⼟","土","⼠","士","⼡","夂","⼢","夊","⼣","夕","⼤","大","⼥","女","⼦","子","⼧","宀","⼨","寸","⼩","小","⼪","尢","⼫","尸","⼬","屮","⼭","山","⼮","巛","⼯","工","⼰","己","⼱","巾","⼲","干","⼳","幺","⼴","广","⼵","廴","⼶","廾","⼷","弋","⼸","弓","⼹","彐","⼺","彡","⼻","彳","⼼","心","⼽","戈","⼾","戶","⼿","手","⽀","支","⽁","攴","⽂","文","⽃","斗","⽄","斤","⽅","方","⽆","无","⽇","日","⽈","曰","⽉","月","⽊","木","⽋","欠","⽌","止","⽍","歹","⽎","殳","⽏","毋","⽐","比","⽑","毛","⽒","氏","⽓","气","⽔","水","⽕","火","⽖","爪","⽗","父","⽘","爻","⽙","爿","⽚","片","⽛","牙","⽜","牛","⽝","犬","⽞","玄","⽟","玉","⽠","瓜","⽡","瓦","⽢","甘","⽣","生","⽤","用","⽥","田","⽦","疋","⽧","疒","⽨","癶","⽩","白","⽪","皮","⽫","皿","⽬","目","⽭","矛","⽮","矢","⽯","石","⽰","示","⽱","禸","⽲","禾","⽳","穴","⽴","立","⽵","竹","⽶","米","⽷","糸","⽸","缶","⽹","网","⽺","羊","⽻","羽","⽼","老","⽽","而","⽾","耒","⽿","耳","⾀","聿","⾁","肉","⾂","臣","⾃","自","⾄","至","⾅","臼","⾆","舌","⾇","舛","⾈","舟","⾉","艮","⾊","色","⾋","艸","⾌","虍","⾍","虫","⾎","血","⾏","行","⾐","衣","⾑","襾","⾒","見","⾓","角","⾔","言","⾕","谷","⾖","豆","⾗","豕","⾘","豸","⾙","貝","⾚","赤","⾛","走","⾜","足","⾝","身","⾞","車","⾟","辛","⾠","辰","⾡","辵","⾢","邑","⾣","酉","⾤","釆","⾥","里","⾦","金","⾧","長","⾨","門","⾩","阜","⾪","隶","⾫","隹","⾬","雨","⾭","靑","⾮","非","⾯","面","⾰","革","⾱","韋","⾲","韭","⾳","音","⾴","頁","⾵","風","⾶","飛","⾷","食","⾸","首","⾹","香","⾺","馬","⾻","骨","⾼","高","⾽","髟","⾾","鬥","⾿","鬯","⿀","鬲","⿁","鬼","⿂","魚","⿃","鳥","⿄","鹵","⿅","鹿","⿆","麥","⿇","麻","⿈","黃","⿉","黍","⿊","黑","⿋","黹","⿌","黽","⿍","鼎","⿎","鼓","⿏","鼠","⿐","鼻","⿑","齊","⿒","齒","⿓","龍","⿔","龜","⿕","龠","〶","〒","〸","十","〹","卄","〺","卅","゛"," ゙","゜"," ゚","ㄱ","ᄀ","ㄲ","ᄁ","ㄳ","ᆪ","ㄴ","ᄂ","ㄵ","ᆬ","ㄶ","ᆭ","ㄷ","ᄃ","ㄸ","ᄄ","ㄹ","ᄅ","ㄺ","ᆰ","ㄻ","ᆱ","ㄼ","ᆲ","ㄽ","ᆳ","ㄾ","ᆴ","ㄿ","ᆵ","ㅀ","ᄚ","ㅁ","ᄆ","ㅂ","ᄇ","ㅃ","ᄈ","ㅄ","ᄡ","ㅅ","ᄉ","ㅆ","ᄊ","ㅇ","ᄋ","ㅈ","ᄌ","ㅉ","ᄍ","ㅊ","ᄎ","ㅋ","ᄏ","ㅌ","ᄐ","ㅍ","ᄑ","ㅎ","ᄒ","ㅏ","ᅡ","ㅐ","ᅢ","ㅑ","ᅣ","ㅒ","ᅤ","ㅓ","ᅥ","ㅔ","ᅦ","ㅕ","ᅧ","ㅖ","ᅨ","ㅗ","ᅩ","ㅘ","ᅪ","ㅙ","ᅫ","ㅚ","ᅬ","ㅛ","ᅭ","ㅜ","ᅮ","ㅝ","ᅯ","ㅞ","ᅰ","ㅟ","ᅱ","ㅠ","ᅲ","ㅡ","ᅳ","ㅢ","ᅴ","ㅣ","ᅵ","ㅤ","ᅠ","ㅥ","ᄔ","ㅦ","ᄕ","ㅧ","ᇇ","ㅨ","ᇈ","ㅩ","ᇌ","ㅪ","ᇎ","ㅫ","ᇓ","ㅬ","ᇗ","ㅭ","ᇙ","ㅮ","ᄜ","ㅯ","ᇝ","ㅰ","ᇟ","ㅱ","ᄝ","ㅲ","ᄞ","ㅳ","ᄠ","ㅴ","ᄢ","ㅵ","ᄣ","ㅶ","ᄧ","ㅷ","ᄩ","ㅸ","ᄫ","ㅹ","ᄬ","ㅺ","ᄭ","ㅻ","ᄮ","ㅼ","ᄯ","ㅽ","ᄲ","ㅾ","ᄶ","ㅿ","ᅀ","ㆀ","ᅇ","ㆁ","ᅌ","ㆂ","ᇱ","ㆃ","ᇲ","ㆄ","ᅗ","ㆅ","ᅘ","ㆆ","ᅙ","ㆇ","ᆄ","ㆈ","ᆅ","ㆉ","ᆈ","ㆊ","ᆑ","ㆋ","ᆒ","ㆌ","ᆔ","ㆍ","ᆞ","ㆎ","ᆡ","㈀","(ᄀ)","㈁","(ᄂ)","㈂","(ᄃ)","㈃","(ᄅ)","㈄","(ᄆ)","㈅","(ᄇ)","㈆","(ᄉ)","㈇","(ᄋ)","㈈","(ᄌ)","㈉","(ᄎ)","㈊","(ᄏ)","㈋","(ᄐ)","㈌","(ᄑ)","㈍","(ᄒ)","㈎","(가)","㈏","(나)","㈐","(다)","㈑","(라)","㈒","(마)","㈓","(바)","㈔","(사)","㈕","(아)","㈖","(자)","㈗","(차)","㈘","(카)","㈙","(타)","㈚","(파)","㈛","(하)","㈜","(주)","㈝","(오전)","㈞","(오후)","㈠","(一)","㈡","(二)","㈢","(三)","㈣","(四)","㈤","(五)","㈥","(六)","㈦","(七)","㈧","(八)","㈨","(九)","㈩","(十)","㈪","(月)","㈫","(火)","㈬","(水)","㈭","(木)","㈮","(金)","㈯","(土)","㈰","(日)","㈱","(株)","㈲","(有)","㈳","(社)","㈴","(名)","㈵","(特)","㈶","(財)","㈷","(祝)","㈸","(労)","㈹","(代)","㈺","(呼)","㈻","(学)","㈼","(監)","㈽","(企)","㈾","(資)","㈿","(協)","㉀","(祭)","㉁","(休)","㉂","(自)","㉃","(至)","㋀","1月","㋁","2月","㋂","3月","㋃","4月","㋄","5月","㋅","6月","㋆","7月","㋇","8月","㋈","9月","㋉","10月","㋊","11月","㋋","12月","㍘","0点","㍙","1点","㍚","2点","㍛","3点","㍜","4点","㍝","5点","㍞","6点","㍟","7点","㍠","8点","㍡","9点","㍢","10点","㍣","11点","㍤","12点","㍥","13点","㍦","14点","㍧","15点","㍨","16点","㍩","17点","㍪","18点","㍫","19点","㍬","20点","㍭","21点","㍮","22点","㍯","23点","㍰","24点","㏠","1日","㏡","2日","㏢","3日","㏣","4日","㏤","5日","㏥","6日","㏦","7日","㏧","8日","㏨","9日","㏩","10日","㏪","11日","㏫","12日","㏬","13日","㏭","14日","㏮","15日","㏯","16日","㏰","17日","㏱","18日","㏲","19日","㏳","20日","㏴","21日","㏵","22日","㏶","23日","㏷","24日","㏸","25日","㏹","26日","㏺","27日","㏻","28日","㏼","29日","㏽","30日","㏾","31日","ﬀ","ff","ﬁ","fi","ﬂ","fl","ﬃ","ffi","ﬄ","ffl","ﬅ","ſt","ﬆ","st","ﬓ","մն","ﬔ","մե","ﬕ","մի","ﬖ","վն","ﬗ","մխ","ﭏ","אל","ﭐ","ٱ","ﭑ","ٱ","ﭒ","ٻ","ﭓ","ٻ","ﭔ","ٻ","ﭕ","ٻ","ﭖ","پ","ﭗ","پ","ﭘ","پ","ﭙ","پ","ﭚ","ڀ","ﭛ","ڀ","ﭜ","ڀ","ﭝ","ڀ","ﭞ","ٺ","ﭟ","ٺ","ﭠ","ٺ","ﭡ","ٺ","ﭢ","ٿ","ﭣ","ٿ","ﭤ","ٿ","ﭥ","ٿ","ﭦ","ٹ","ﭧ","ٹ","ﭨ","ٹ","ﭩ","ٹ","ﭪ","ڤ","ﭫ","ڤ","ﭬ","ڤ","ﭭ","ڤ","ﭮ","ڦ","ﭯ","ڦ","ﭰ","ڦ","ﭱ","ڦ","ﭲ","ڄ","ﭳ","ڄ","ﭴ","ڄ","ﭵ","ڄ","ﭶ","ڃ","ﭷ","ڃ","ﭸ","ڃ","ﭹ","ڃ","ﭺ","چ","ﭻ","چ","ﭼ","چ","ﭽ","چ","ﭾ","ڇ","ﭿ","ڇ","ﮀ","ڇ","ﮁ","ڇ","ﮂ","ڍ","ﮃ","ڍ","ﮄ","ڌ","ﮅ","ڌ","ﮆ","ڎ","ﮇ","ڎ","ﮈ","ڈ","ﮉ","ڈ","ﮊ","ژ","ﮋ","ژ","ﮌ","ڑ","ﮍ","ڑ","ﮎ","ک","ﮏ","ک","ﮐ","ک","ﮑ","ک","ﮒ","گ","ﮓ","گ","ﮔ","گ","ﮕ","گ","ﮖ","ڳ","ﮗ","ڳ","ﮘ","ڳ","ﮙ","ڳ","ﮚ","ڱ","ﮛ","ڱ","ﮜ","ڱ","ﮝ","ڱ","ﮞ","ں","ﮟ","ں","ﮠ","ڻ","ﮡ","ڻ","ﮢ","ڻ","ﮣ","ڻ","ﮤ","ۀ","ﮥ","ۀ","ﮦ","ہ","ﮧ","ہ","ﮨ","ہ","ﮩ","ہ","ﮪ","ھ","ﮫ","ھ","ﮬ","ھ","ﮭ","ھ","ﮮ","ے","ﮯ","ے","ﮰ","ۓ","ﮱ","ۓ","ﯓ","ڭ","ﯔ","ڭ","ﯕ","ڭ","ﯖ","ڭ","ﯗ","ۇ","ﯘ","ۇ","ﯙ","ۆ","ﯚ","ۆ","ﯛ","ۈ","ﯜ","ۈ","ﯝ","ٷ","ﯞ","ۋ","ﯟ","ۋ","ﯠ","ۅ","ﯡ","ۅ","ﯢ","ۉ","ﯣ","ۉ","ﯤ","ې","ﯥ","ې","ﯦ","ې","ﯧ","ې","ﯨ","ى","ﯩ","ى","ﯪ","ئا","ﯫ","ئا","ﯬ","ئە","ﯭ","ئە","ﯮ","ئو","ﯯ","ئو","ﯰ","ئۇ","ﯱ","ئۇ","ﯲ","ئۆ","ﯳ","ئۆ","ﯴ","ئۈ","ﯵ","ئۈ","ﯶ","ئې","ﯷ","ئې","ﯸ","ئې","ﯹ","ئى","ﯺ","ئى","ﯻ","ئى","ﯼ","ی","ﯽ","ی","ﯾ","ی","ﯿ","ی","ﰀ","ئج","ﰁ","ئح","ﰂ","ئم","ﰃ","ئى","ﰄ","ئي","ﰅ","بج","ﰆ","بح","ﰇ","بخ","ﰈ","بم","ﰉ","بى","ﰊ","بي","ﰋ","تج","ﰌ","تح","ﰍ","تخ","ﰎ","تم","ﰏ","تى","ﰐ","تي","ﰑ","ثج","ﰒ","ثم","ﰓ","ثى","ﰔ","ثي","ﰕ","جح","ﰖ","جم","ﰗ","حج","ﰘ","حم","ﰙ","خج","ﰚ","خح","ﰛ","خم","ﰜ","سج","ﰝ","سح","ﰞ","سخ","ﰟ","سم","ﰠ","صح","ﰡ","صم","ﰢ","ضج","ﰣ","ضح","ﰤ","ضخ","ﰥ","ضم","ﰦ","طح","ﰧ","طم","ﰨ","ظم","ﰩ","عج","ﰪ","عم","ﰫ","غج","ﰬ","غم","ﰭ","فج","ﰮ","فح","ﰯ","فخ","ﰰ","فم","ﰱ","فى","ﰲ","في","ﰳ","قح","ﰴ","قم","ﰵ","قى","ﰶ","قي","ﰷ","كا","ﰸ","كج","ﰹ","كح","ﰺ","كخ","ﰻ","كل","ﰼ","كم","ﰽ","كى","ﰾ","كي","ﰿ","لج","ﱀ","لح","ﱁ","لخ","ﱂ","لم","ﱃ","لى","ﱄ","لي","ﱅ","مج","ﱆ","مح","ﱇ","مخ","ﱈ","مم","ﱉ","مى","ﱊ","مي","ﱋ","نج","ﱌ","نح","ﱍ","نخ","ﱎ","نم","ﱏ","نى","ﱐ","ني","ﱑ","هج","ﱒ","هم","ﱓ","هى","ﱔ","هي","ﱕ","يج","ﱖ","يح","ﱗ","يخ","ﱘ","يم","ﱙ","يى","ﱚ","يي","ﱛ","ذٰ","ﱜ","رٰ","ﱝ","ىٰ","ﱞ"," ٌّ","ﱟ"," ٍّ","ﱠ"," َّ","ﱡ"," ُّ","ﱢ"," ِّ","ﱣ"," ّٰ","ﱤ","ئر","ﱥ","ئز","ﱦ","ئم","ﱧ","ئن","ﱨ","ئى","ﱩ","ئي","ﱪ","بر","ﱫ","بز","ﱬ","بم","ﱭ","بن","ﱮ","بى","ﱯ","بي","ﱰ","تر","ﱱ","تز","ﱲ","تم","ﱳ","تن","ﱴ","تى","ﱵ","تي","ﱶ","ثر","ﱷ","ثز","ﱸ","ثم","ﱹ","ثن","ﱺ","ثى","ﱻ","ثي","ﱼ","فى","ﱽ","في","ﱾ","قى","ﱿ","قي","ﲀ","كا","ﲁ","كل","ﲂ","كم","ﲃ","كى","ﲄ","كي","ﲅ","لم","ﲆ","لى","ﲇ","لي","ﲈ","ما","ﲉ","مم","ﲊ","نر","ﲋ","نز","ﲌ","نم","ﲍ","نن","ﲎ","نى","ﲏ","ني","ﲐ","ىٰ","ﲑ","ير","ﲒ","يز","ﲓ","يم","ﲔ","ين","ﲕ","يى","ﲖ","يي","ﲗ","ئج","ﲘ","ئح","ﲙ","ئخ","ﲚ","ئم","ﲛ","ئه","ﲜ","بج","ﲝ","بح","ﲞ","بخ","ﲟ","بم","ﲠ","به","ﲡ","تج","ﲢ","تح","ﲣ","تخ","ﲤ","تم","ﲥ","ته","ﲦ","ثم","ﲧ","جح","ﲨ","جم","ﲩ","حج","ﲪ","حم","ﲫ","خج","ﲬ","خم","ﲭ","سج","ﲮ","سح","ﲯ","سخ","ﲰ","سم","ﲱ","صح","ﲲ","صخ","ﲳ","صم","ﲴ","ضج","ﲵ","ضح","ﲶ","ضخ","ﲷ","ضم","ﲸ","طح","ﲹ","ظم","ﲺ","عج","ﲻ","عم","ﲼ","غج","ﲽ","غم","ﲾ","فج","ﲿ","فح","ﳀ","فخ","ﳁ","فم","ﳂ","قح","ﳃ","قم","ﳄ","كج","ﳅ","كح","ﳆ","كخ","ﳇ","كل","ﳈ","كم","ﳉ","لج","ﳊ","لح","ﳋ","لخ","ﳌ","لم","ﳍ","له","ﳎ","مج","ﳏ","مح","ﳐ","مخ","ﳑ","مم","ﳒ","نج","ﳓ","نح","ﳔ","نخ","ﳕ","نم","ﳖ","نه","ﳗ","هج","ﳘ","هم","ﳙ","هٰ","ﳚ","يج","ﳛ","يح","ﳜ","يخ","ﳝ","يم","ﳞ","يه","ﳟ","ئم","ﳠ","ئه","ﳡ","بم","ﳢ","به","ﳣ","تم","ﳤ","ته","ﳥ","ثم","ﳦ","ثه","ﳧ","سم","ﳨ","سه","ﳩ","شم","ﳪ","شه","ﳫ","كل","ﳬ","كم","ﳭ","لم","ﳮ","نم","ﳯ","نه","ﳰ","يم","ﳱ","يه","ﳲ","ـَّ","ﳳ","ـُّ","ﳴ","ـِّ","ﳵ","طى","ﳶ","طي","ﳷ","عى","ﳸ","عي","ﳹ","غى","ﳺ","غي","ﳻ","سى","ﳼ","سي","ﳽ","شى","ﳾ","شي","ﳿ","حى","ﴀ","حي","ﴁ","جى","ﴂ","جي","ﴃ","خى","ﴄ","خي","ﴅ","صى","ﴆ","صي","ﴇ","ضى","ﴈ","ضي","ﴉ","شج","ﴊ","شح","ﴋ","شخ","ﴌ","شم","ﴍ","شر","ﴎ","سر","ﴏ","صر","ﴐ","ضر","ﴑ","طى","ﴒ","طي","ﴓ","عى","ﴔ","عي","ﴕ","غى","ﴖ","غي","ﴗ","سى","ﴘ","سي","ﴙ","شى","ﴚ","شي","ﴛ","حى","ﴜ","حي","ﴝ","جى","ﴞ","جي","ﴟ","خى","ﴠ","خي","ﴡ","صى","ﴢ","صي","ﴣ","ضى","ﴤ","ضي","ﴥ","شج","ﴦ","شح","ﴧ","شخ","ﴨ","شم","ﴩ","شر","ﴪ","سر","ﴫ","صر","ﴬ","ضر","ﴭ","شج","ﴮ","شح","ﴯ","شخ","ﴰ","شم","ﴱ","سه","ﴲ","شه","ﴳ","طم","ﴴ","سج","ﴵ","سح","ﴶ","سخ","ﴷ","شج","ﴸ","شح","ﴹ","شخ","ﴺ","طم","ﴻ","ظم","ﴼ","اً","ﴽ","اً","ﵐ","تجم","ﵑ","تحج","ﵒ","تحج","ﵓ","تحم","ﵔ","تخم","ﵕ","تمج","ﵖ","تمح","ﵗ","تمخ","ﵘ","جمح","ﵙ","جمح","ﵚ","حمي","ﵛ","حمى","ﵜ","سحج","ﵝ","سجح","ﵞ","سجى","ﵟ","سمح","ﵠ","سمح","ﵡ","سمج","ﵢ","سمم","ﵣ","سمم","ﵤ","صحح","ﵥ","صحح","ﵦ","صمم","ﵧ","شحم","ﵨ","شحم","ﵩ","شجي","ﵪ","شمخ","ﵫ","شمخ","ﵬ","شمم","ﵭ","شمم","ﵮ","ضحى","ﵯ","ضخم","ﵰ","ضخم","ﵱ","طمح","ﵲ","طمح","ﵳ","طمم","ﵴ","طمي","ﵵ","عجم","ﵶ","عمم","ﵷ","عمم","ﵸ","عمى","ﵹ","غمم","ﵺ","غمي","ﵻ","غمى","ﵼ","فخم","ﵽ","فخم","ﵾ","قمح","ﵿ","قمم","ﶀ","لحم","ﶁ","لحي","ﶂ","لحى","ﶃ","لجج","ﶄ","لجج","ﶅ","لخم","ﶆ","لخم","ﶇ","لمح","ﶈ","لمح","ﶉ","محج","ﶊ","محم","ﶋ","محي","ﶌ","مجح","ﶍ","مجم","ﶎ","مخج","ﶏ","مخم","ﶒ","مجخ","ﶓ","همج","ﶔ","همم","ﶕ","نحم","ﶖ","نحى","ﶗ","نجم","ﶘ","نجم","ﶙ","نجى","ﶚ","نمي","ﶛ","نمى","ﶜ","يمم","ﶝ","يمم","ﶞ","بخي","ﶟ","تجي","ﶠ","تجى","ﶡ","تخي","ﶢ","تخى","ﶣ","تمي","ﶤ","تمى","ﶥ","جمي","ﶦ","جحى","ﶧ","جمى","ﶨ","سخى","ﶩ","صحي","ﶪ","شحي","ﶫ","ضحي","ﶬ","لجي","ﶭ","لمي","ﶮ","يحي","ﶯ","يجي","ﶰ","يمي","ﶱ","ممي","ﶲ","قمي","ﶳ","نحي","ﶴ","قمح","ﶵ","لحم","ﶶ","عمي","ﶷ","كمي","ﶸ","نجح","ﶹ","مخي","ﶺ","لجم","ﶻ","كمم","ﶼ","لجم","ﶽ","نجح","ﶾ","جحي","ﶿ","حجي","ﷀ","مجي","ﷁ","فمي","ﷂ","بحي","ﷃ","كمم","ﷄ","عجم","ﷅ","صمم","ﷆ","سخي","ﷇ","نجي","﹉","‾","﹊","‾","﹋","‾","﹌","‾","﹍","_","﹎","_","﹏","_","ﺀ","ء","ﺁ","آ","ﺂ","آ","ﺃ","أ","ﺄ","أ","ﺅ","ؤ","ﺆ","ؤ","ﺇ","إ","ﺈ","إ","ﺉ","ئ","ﺊ","ئ","ﺋ","ئ","ﺌ","ئ","ﺍ","ا","ﺎ","ا","ﺏ","ب","ﺐ","ب","ﺑ","ب","ﺒ","ب","ﺓ","ة","ﺔ","ة","ﺕ","ت","ﺖ","ت","ﺗ","ت","ﺘ","ت","ﺙ","ث","ﺚ","ث","ﺛ","ث","ﺜ","ث","ﺝ","ج","ﺞ","ج","ﺟ","ج","ﺠ","ج","ﺡ","ح","ﺢ","ح","ﺣ","ح","ﺤ","ح","ﺥ","خ","ﺦ","خ","ﺧ","خ","ﺨ","خ","ﺩ","د","ﺪ","د","ﺫ","ذ","ﺬ","ذ","ﺭ","ر","ﺮ","ر","ﺯ","ز","ﺰ","ز","ﺱ","س","ﺲ","س","ﺳ","س","ﺴ","س","ﺵ","ش","ﺶ","ش","ﺷ","ش","ﺸ","ش","ﺹ","ص","ﺺ","ص","ﺻ","ص","ﺼ","ص","ﺽ","ض","ﺾ","ض","ﺿ","ض","ﻀ","ض","ﻁ","ط","ﻂ","ط","ﻃ","ط","ﻄ","ط","ﻅ","ظ","ﻆ","ظ","ﻇ","ظ","ﻈ","ظ","ﻉ","ع","ﻊ","ع","ﻋ","ع","ﻌ","ع","ﻍ","غ","ﻎ","غ","ﻏ","غ","ﻐ","غ","ﻑ","ف","ﻒ","ف","ﻓ","ف","ﻔ","ف","ﻕ","ق","ﻖ","ق","ﻗ","ق","ﻘ","ق","ﻙ","ك","ﻚ","ك","ﻛ","ك","ﻜ","ك","ﻝ","ل","ﻞ","ل","ﻟ","ل","ﻠ","ل","ﻡ","م","ﻢ","م","ﻣ","م","ﻤ","م","ﻥ","ن","ﻦ","ن","ﻧ","ن","ﻨ","ن","ﻩ","ه","ﻪ","ه","ﻫ","ه","ﻬ","ه","ﻭ","و","ﻮ","و","ﻯ","ى","ﻰ","ى","ﻱ","ي","ﻲ","ي","ﻳ","ي","ﻴ","ي","ﻵ","لآ","ﻶ","لآ","ﻷ","لأ","ﻸ","لأ","ﻹ","لإ","ﻺ","لإ","ﻻ","لا","ﻼ","لا"]});function fe(Fe){const _e=Fe.length;if(_e<=1||!ge(Fe.charCodeAt(0)))return Fe;const Ee=[];for(let Ce=_e-1;Ce>=0;Ce--)Ee.push(Fe[Ce]);return Ee.join("")}const be=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),xe=new Map;function ue(Fe){const _e=xe.get(Fe);if(_e)return _e;const Ee=Fe.match(be),Ce={isWhitespace:!!(Ee&&Ee[1]),isZeroWidthDiacritic:!!(Ee&&Ee[2]),isInvisibleFormatMark:!!(Ee&&Ee[3])};return xe.set(Fe,Ce),Ce}function we(){xe.clear()}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.getSerifFonts=oe.getNonStdFontMap=oe.getGlyphMapForStandardFonts=oe.getFontNameToFileMap=void 0,oe.getStandardFontName=xe,oe.getSymbolsFonts=oe.getSupplementalGlyphMapForCalibri=oe.getSupplementalGlyphMapForArialBlack=oe.getStdFontMap=void 0;var ae=ce(6),he=ce(38);const de=(0,ae.getLookupTableFactory)(function(ue){ue["Times-Roman"]="Times-Roman",ue.Helvetica="Helvetica",ue.Courier="Courier",ue.Symbol="Symbol",ue["Times-Bold"]="Times-Bold",ue["Helvetica-Bold"]="Helvetica-Bold",ue["Courier-Bold"]="Courier-Bold",ue.ZapfDingbats="ZapfDingbats",ue["Times-Italic"]="Times-Italic",ue["Helvetica-Oblique"]="Helvetica-Oblique",ue["Courier-Oblique"]="Courier-Oblique",ue["Times-BoldItalic"]="Times-BoldItalic",ue["Helvetica-BoldOblique"]="Helvetica-BoldOblique",ue["Courier-BoldOblique"]="Courier-BoldOblique",ue.ArialNarrow="Helvetica",ue["ArialNarrow-Bold"]="Helvetica-Bold",ue["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",ue["ArialNarrow-Italic"]="Helvetica-Oblique",ue.ArialBlack="Helvetica",ue["ArialBlack-Bold"]="Helvetica-Bold",ue["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",ue["ArialBlack-Italic"]="Helvetica-Oblique",ue["Arial-Black"]="Helvetica",ue["Arial-Black-Bold"]="Helvetica-Bold",ue["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",ue["Arial-Black-Italic"]="Helvetica-Oblique",ue.Arial="Helvetica",ue["Arial-Bold"]="Helvetica-Bold",ue["Arial-BoldItalic"]="Helvetica-BoldOblique",ue["Arial-Italic"]="Helvetica-Oblique",ue.ArialMT="Helvetica",ue["Arial-BoldItalicMT"]="Helvetica-BoldOblique",ue["Arial-BoldMT"]="Helvetica-Bold",ue["Arial-ItalicMT"]="Helvetica-Oblique",ue.ArialUnicodeMS="Helvetica",ue["ArialUnicodeMS-Bold"]="Helvetica-Bold",ue["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",ue["ArialUnicodeMS-Italic"]="Helvetica-Oblique",ue["Courier-BoldItalic"]="Courier-BoldOblique",ue["Courier-Italic"]="Courier-Oblique",ue.CourierNew="Courier",ue["CourierNew-Bold"]="Courier-Bold",ue["CourierNew-BoldItalic"]="Courier-BoldOblique",ue["CourierNew-Italic"]="Courier-Oblique",ue["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",ue["CourierNewPS-BoldMT"]="Courier-Bold",ue["CourierNewPS-ItalicMT"]="Courier-Oblique",ue.CourierNewPSMT="Courier",ue["Helvetica-BoldItalic"]="Helvetica-BoldOblique",ue["Helvetica-Italic"]="Helvetica-Oblique",ue["Symbol-Bold"]="Symbol",ue["Symbol-BoldItalic"]="Symbol",ue["Symbol-Italic"]="Symbol",ue.TimesNewRoman="Times-Roman",ue["TimesNewRoman-Bold"]="Times-Bold",ue["TimesNewRoman-BoldItalic"]="Times-BoldItalic",ue["TimesNewRoman-Italic"]="Times-Italic",ue.TimesNewRomanPS="Times-Roman",ue["TimesNewRomanPS-Bold"]="Times-Bold",ue["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",ue["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",ue["TimesNewRomanPS-BoldMT"]="Times-Bold",ue["TimesNewRomanPS-Italic"]="Times-Italic",ue["TimesNewRomanPS-ItalicMT"]="Times-Italic",ue.TimesNewRomanPSMT="Times-Roman",ue["TimesNewRomanPSMT-Bold"]="Times-Bold",ue["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",ue["TimesNewRomanPSMT-Italic"]="Times-Italic"});oe.getStdFontMap=de;const pe=(0,ae.getLookupTableFactory)(function(ue){ue.Courier="FoxitFixed.pfb",ue["Courier-Bold"]="FoxitFixedBold.pfb",ue["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",ue["Courier-Oblique"]="FoxitFixedItalic.pfb",ue.Helvetica="FoxitSans.pfb",ue["Helvetica-Bold"]="FoxitSansBold.pfb",ue["Helvetica-BoldOblique"]="FoxitSansBoldItalic.pfb",ue["Helvetica-Oblique"]="FoxitSansItalic.pfb",ue["Times-Roman"]="FoxitSerif.pfb",ue["Times-Bold"]="FoxitSerifBold.pfb",ue["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",ue["Times-Italic"]="FoxitSerifItalic.pfb",ue.Symbol="FoxitSymbol.pfb",ue.ZapfDingbats="FoxitDingbats.pfb",ue["LiberationSans-Regular"]="LiberationSans-Regular.ttf",ue["LiberationSans-Bold"]="LiberationSans-Bold.ttf",ue["LiberationSans-Italic"]="LiberationSans-Italic.ttf",ue["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"});oe.getFontNameToFileMap=pe;const re=(0,ae.getLookupTableFactory)(function(ue){ue.Calibri="Helvetica",ue["Calibri-Bold"]="Helvetica-Bold",ue["Calibri-BoldItalic"]="Helvetica-BoldOblique",ue["Calibri-Italic"]="Helvetica-Oblique",ue.CenturyGothic="Helvetica",ue["CenturyGothic-Bold"]="Helvetica-Bold",ue["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",ue["CenturyGothic-Italic"]="Helvetica-Oblique",ue.ComicSansMS="Comic Sans MS",ue["ComicSansMS-Bold"]="Comic Sans MS-Bold",ue["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",ue["ComicSansMS-Italic"]="Comic Sans MS-Italic",ue["ItcSymbol-Bold"]="Helvetica-Bold",ue["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",ue["ItcSymbol-Book"]="Helvetica",ue["ItcSymbol-BookItalic"]="Helvetica-Oblique",ue["ItcSymbol-Medium"]="Helvetica",ue["ItcSymbol-MediumItalic"]="Helvetica-Oblique",ue.LucidaConsole="Courier",ue["LucidaConsole-Bold"]="Courier-Bold",ue["LucidaConsole-BoldItalic"]="Courier-BoldOblique",ue["LucidaConsole-Italic"]="Courier-Oblique",ue["LucidaSans-Demi"]="Helvetica-Bold",ue["MS-Gothic"]="MS Gothic",ue["MS-Gothic-Bold"]="MS Gothic-Bold",ue["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",ue["MS-Gothic-Italic"]="MS Gothic-Italic",ue["MS-Mincho"]="MS Mincho",ue["MS-Mincho-Bold"]="MS Mincho-Bold",ue["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",ue["MS-Mincho-Italic"]="MS Mincho-Italic",ue["MS-PGothic"]="MS PGothic",ue["MS-PGothic-Bold"]="MS PGothic-Bold",ue["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",ue["MS-PGothic-Italic"]="MS PGothic-Italic",ue["MS-PMincho"]="MS PMincho",ue["MS-PMincho-Bold"]="MS PMincho-Bold",ue["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",ue["MS-PMincho-Italic"]="MS PMincho-Italic",ue.NuptialScript="Times-Italic",ue.SegoeUISymbol="Helvetica",ue.Wingdings="ZapfDingbats",ue["Wingdings-Regular"]="ZapfDingbats"});oe.getNonStdFontMap=re;const Ae=(0,ae.getLookupTableFactory)(function(ue){ue["Adobe Jenson"]=!0,ue["Adobe Text"]=!0,ue.Albertus=!0,ue.Aldus=!0,ue.Alexandria=!0,ue.Algerian=!0,ue["American Typewriter"]=!0,ue.Antiqua=!0,ue.Apex=!0,ue.Arno=!0,ue.Aster=!0,ue.Aurora=!0,ue.Baskerville=!0,ue.Bell=!0,ue.Bembo=!0,ue["Bembo Schoolbook"]=!0,ue.Benguiat=!0,ue["Berkeley Old Style"]=!0,ue["Bernhard Modern"]=!0,ue["Berthold City"]=!0,ue.Bodoni=!0,ue["Bauer Bodoni"]=!0,ue["Book Antiqua"]=!0,ue.Bookman=!0,ue["Bordeaux Roman"]=!0,ue["Californian FB"]=!0,ue.Calisto=!0,ue.Calvert=!0,ue.Capitals=!0,ue.Cambria=!0,ue.Cartier=!0,ue.Caslon=!0,ue.Catull=!0,ue.Centaur=!0,ue["Century Old Style"]=!0,ue["Century Schoolbook"]=!0,ue.Chaparral=!0,ue["Charis SIL"]=!0,ue.Cheltenham=!0,ue["Cholla Slab"]=!0,ue.Clarendon=!0,ue.Clearface=!0,ue.Cochin=!0,ue.Colonna=!0,ue["Computer Modern"]=!0,ue["Concrete Roman"]=!0,ue.Constantia=!0,ue["Cooper Black"]=!0,ue.Corona=!0,ue.Ecotype=!0,ue.Egyptienne=!0,ue.Elephant=!0,ue.Excelsior=!0,ue.Fairfield=!0,ue["FF Scala"]=!0,ue.Folkard=!0,ue.Footlight=!0,ue.FreeSerif=!0,ue["Friz Quadrata"]=!0,ue.Garamond=!0,ue.Gentium=!0,ue.Georgia=!0,ue.Gloucester=!0,ue["Goudy Old Style"]=!0,ue["Goudy Schoolbook"]=!0,ue["Goudy Pro Font"]=!0,ue.Granjon=!0,ue["Guardian Egyptian"]=!0,ue.Heather=!0,ue.Hercules=!0,ue["High Tower Text"]=!0,ue.Hiroshige=!0,ue["Hoefler Text"]=!0,ue["Humana Serif"]=!0,ue.Imprint=!0,ue["Ionic No. 5"]=!0,ue.Janson=!0,ue.Joanna=!0,ue.Korinna=!0,ue.Lexicon=!0,ue.LiberationSerif=!0,ue["Liberation Serif"]=!0,ue["Linux Libertine"]=!0,ue.Literaturnaya=!0,ue.Lucida=!0,ue["Lucida Bright"]=!0,ue.Melior=!0,ue.Memphis=!0,ue.Miller=!0,ue.Minion=!0,ue.Modern=!0,ue["Mona Lisa"]=!0,ue["Mrs Eaves"]=!0,ue["MS Serif"]=!0,ue["Museo Slab"]=!0,ue["New York"]=!0,ue["Nimbus Roman"]=!0,ue["NPS Rawlinson Roadway"]=!0,ue.NuptialScript=!0,ue.Palatino=!0,ue.Perpetua=!0,ue.Plantin=!0,ue["Plantin Schoolbook"]=!0,ue.Playbill=!0,ue["Poor Richard"]=!0,ue["Rawlinson Roadway"]=!0,ue.Renault=!0,ue.Requiem=!0,ue.Rockwell=!0,ue.Roman=!0,ue["Rotis Serif"]=!0,ue.Sabon=!0,ue.Scala=!0,ue.Seagull=!0,ue.Sistina=!0,ue.Souvenir=!0,ue.STIX=!0,ue["Stone Informal"]=!0,ue["Stone Serif"]=!0,ue.Sylfaen=!0,ue.Times=!0,ue.Trajan=!0,ue.Trinité=!0,ue["Trump Mediaeval"]=!0,ue.Utopia=!0,ue["Vale Type"]=!0,ue["Bitstream Vera"]=!0,ue["Vera Serif"]=!0,ue.Versailles=!0,ue.Wanted=!0,ue.Weiss=!0,ue["Wide Latin"]=!0,ue.Windsor=!0,ue.XITS=!0});oe.getSerifFonts=Ae;const ge=(0,ae.getLookupTableFactory)(function(ue){ue.Dingbats=!0,ue.Symbol=!0,ue.ZapfDingbats=!0});oe.getSymbolsFonts=ge;const Se=(0,ae.getLookupTableFactory)(function(ue){ue[2]=10,ue[3]=32,ue[4]=33,ue[5]=34,ue[6]=35,ue[7]=36,ue[8]=37,ue[9]=38,ue[10]=39,ue[11]=40,ue[12]=41,ue[13]=42,ue[14]=43,ue[15]=44,ue[16]=45,ue[17]=46,ue[18]=47,ue[19]=48,ue[20]=49,ue[21]=50,ue[22]=51,ue[23]=52,ue[24]=53,ue[25]=54,ue[26]=55,ue[27]=56,ue[28]=57,ue[29]=58,ue[30]=894,ue[31]=60,ue[32]=61,ue[33]=62,ue[34]=63,ue[35]=64,ue[36]=65,ue[37]=66,ue[38]=67,ue[39]=68,ue[40]=69,ue[41]=70,ue[42]=71,ue[43]=72,ue[44]=73,ue[45]=74,ue[46]=75,ue[47]=76,ue[48]=77,ue[49]=78,ue[50]=79,ue[51]=80,ue[52]=81,ue[53]=82,ue[54]=83,ue[55]=84,ue[56]=85,ue[57]=86,ue[58]=87,ue[59]=88,ue[60]=89,ue[61]=90,ue[62]=91,ue[63]=92,ue[64]=93,ue[65]=94,ue[66]=95,ue[67]=96,ue[68]=97,ue[69]=98,ue[70]=99,ue[71]=100,ue[72]=101,ue[73]=102,ue[74]=103,ue[75]=104,ue[76]=105,ue[77]=106,ue[78]=107,ue[79]=108,ue[80]=109,ue[81]=110,ue[82]=111,ue[83]=112,ue[84]=113,ue[85]=114,ue[86]=115,ue[87]=116,ue[88]=117,ue[89]=118,ue[90]=119,ue[91]=120,ue[92]=121,ue[93]=122,ue[94]=123,ue[95]=124,ue[96]=125,ue[97]=126,ue[98]=196,ue[99]=197,ue[100]=199,ue[101]=201,ue[102]=209,ue[103]=214,ue[104]=220,ue[105]=225,ue[106]=224,ue[107]=226,ue[108]=228,ue[109]=227,ue[110]=229,ue[111]=231,ue[112]=233,ue[113]=232,ue[114]=234,ue[115]=235,ue[116]=237,ue[117]=236,ue[118]=238,ue[119]=239,ue[120]=241,ue[121]=243,ue[122]=242,ue[123]=244,ue[124]=246,ue[125]=245,ue[126]=250,ue[127]=249,ue[128]=251,ue[129]=252,ue[130]=8224,ue[131]=176,ue[132]=162,ue[133]=163,ue[134]=167,ue[135]=8226,ue[136]=182,ue[137]=223,ue[138]=174,ue[139]=169,ue[140]=8482,ue[141]=180,ue[142]=168,ue[143]=8800,ue[144]=198,ue[145]=216,ue[146]=8734,ue[147]=177,ue[148]=8804,ue[149]=8805,ue[150]=165,ue[151]=181,ue[152]=8706,ue[153]=8721,ue[154]=8719,ue[156]=8747,ue[157]=170,ue[158]=186,ue[159]=8486,ue[160]=230,ue[161]=248,ue[162]=191,ue[163]=161,ue[164]=172,ue[165]=8730,ue[166]=402,ue[167]=8776,ue[168]=8710,ue[169]=171,ue[170]=187,ue[171]=8230,ue[200]=193,ue[203]=205,ue[210]=218,ue[223]=711,ue[224]=321,ue[225]=322,ue[226]=352,ue[227]=353,ue[228]=381,ue[229]=382,ue[233]=221,ue[234]=253,ue[252]=263,ue[253]=268,ue[254]=269,ue[258]=258,ue[260]=260,ue[261]=261,ue[265]=280,ue[266]=281,ue[267]=282,ue[268]=283,ue[269]=313,ue[275]=323,ue[276]=324,ue[278]=328,ue[283]=344,ue[284]=345,ue[285]=346,ue[286]=347,ue[292]=367,ue[295]=377,ue[296]=378,ue[298]=380,ue[305]=963,ue[306]=964,ue[307]=966,ue[308]=8215,ue[309]=8252,ue[310]=8319,ue[311]=8359,ue[312]=8592,ue[313]=8593,ue[337]=9552,ue[493]=1039,ue[494]=1040,ue[672]=1488,ue[673]=1489,ue[674]=1490,ue[675]=1491,ue[676]=1492,ue[677]=1493,ue[678]=1494,ue[679]=1495,ue[680]=1496,ue[681]=1497,ue[682]=1498,ue[683]=1499,ue[684]=1500,ue[685]=1501,ue[686]=1502,ue[687]=1503,ue[688]=1504,ue[689]=1505,ue[690]=1506,ue[691]=1507,ue[692]=1508,ue[693]=1509,ue[694]=1510,ue[695]=1511,ue[696]=1512,ue[697]=1513,ue[698]=1514,ue[705]=1524,ue[706]=8362,ue[710]=64288,ue[711]=64298,ue[759]=1617,ue[761]=1776,ue[763]=1778,ue[775]=1652,ue[777]=1764,ue[778]=1780,ue[779]=1781,ue[780]=1782,ue[782]=771,ue[783]=64726,ue[786]=8363,ue[788]=8532,ue[790]=768,ue[791]=769,ue[792]=768,ue[795]=803,ue[797]=64336,ue[798]=64337,ue[799]=64342,ue[800]=64343,ue[801]=64344,ue[802]=64345,ue[803]=64362,ue[804]=64363,ue[805]=64364,ue[2424]=7821,ue[2425]=7822,ue[2426]=7823,ue[2427]=7824,ue[2428]=7825,ue[2429]=7826,ue[2430]=7827,ue[2433]=7682,ue[2678]=8045,ue[2679]=8046,ue[2830]=1552,ue[2838]=686,ue[2840]=751,ue[2842]=753,ue[2843]=754,ue[2844]=755,ue[2846]=757,ue[2856]=767,ue[2857]=848,ue[2858]=849,ue[2862]=853,ue[2863]=854,ue[2864]=855,ue[2865]=861,ue[2866]=862,ue[2906]=7460,ue[2908]=7462,ue[2909]=7463,ue[2910]=7464,ue[2912]=7466,ue[2913]=7467,ue[2914]=7468,ue[2916]=7470,ue[2917]=7471,ue[2918]=7472,ue[2920]=7474,ue[2921]=7475,ue[2922]=7476,ue[2924]=7478,ue[2925]=7479,ue[2926]=7480,ue[2928]=7482,ue[2929]=7483,ue[2930]=7484,ue[2932]=7486,ue[2933]=7487,ue[2934]=7488,ue[2936]=7490,ue[2937]=7491,ue[2938]=7492,ue[2940]=7494,ue[2941]=7495,ue[2942]=7496,ue[2944]=7498,ue[2946]=7500,ue[2948]=7502,ue[2950]=7504,ue[2951]=7505,ue[2952]=7506,ue[2954]=7508,ue[2955]=7509,ue[2956]=7510,ue[2958]=7512,ue[2959]=7513,ue[2960]=7514,ue[2962]=7516,ue[2963]=7517,ue[2964]=7518,ue[2966]=7520,ue[2967]=7521,ue[2968]=7522,ue[2970]=7524,ue[2971]=7525,ue[2972]=7526,ue[2974]=7528,ue[2975]=7529,ue[2976]=7530,ue[2978]=1537,ue[2979]=1538,ue[2980]=1539,ue[2982]=1549,ue[2983]=1551,ue[2984]=1552,ue[2986]=1554,ue[2987]=1555,ue[2988]=1556,ue[2990]=1623,ue[2991]=1624,ue[2995]=1775,ue[2999]=1791,ue[3002]=64290,ue[3003]=64291,ue[3004]=64292,ue[3006]=64294,ue[3007]=64295,ue[3008]=64296,ue[3011]=1900,ue[3014]=8223,ue[3015]=8244,ue[3017]=7532,ue[3018]=7533,ue[3019]=7534,ue[3075]=7590,ue[3076]=7591,ue[3079]=7594,ue[3080]=7595,ue[3083]=7598,ue[3084]=7599,ue[3087]=7602,ue[3088]=7603,ue[3091]=7606,ue[3092]=7607,ue[3095]=7610,ue[3096]=7611,ue[3099]=7614,ue[3100]=7615,ue[3103]=7618,ue[3104]=7619,ue[3107]=8337,ue[3108]=8338,ue[3116]=1884,ue[3119]=1885,ue[3120]=1885,ue[3123]=1886,ue[3124]=1886,ue[3127]=1887,ue[3128]=1887,ue[3131]=1888,ue[3132]=1888,ue[3135]=1889,ue[3136]=1889,ue[3139]=1890,ue[3140]=1890,ue[3143]=1891,ue[3144]=1891,ue[3147]=1892,ue[3148]=1892,ue[3153]=580,ue[3154]=581,ue[3157]=584,ue[3158]=585,ue[3161]=588,ue[3162]=589,ue[3165]=891,ue[3166]=892,ue[3169]=1274,ue[3170]=1275,ue[3173]=1278,ue[3174]=1279,ue[3181]=7622,ue[3182]=7623,ue[3282]=11799,ue[3316]=578,ue[3379]=42785,ue[3393]=1159,ue[3416]=8377});oe.getGlyphMapForStandardFonts=Se;const fe=(0,ae.getLookupTableFactory)(function(ue){ue[227]=322,ue[264]=261,ue[291]=346});oe.getSupplementalGlyphMapForArialBlack=fe;const be=(0,ae.getLookupTableFactory)(function(ue){ue[1]=32,ue[4]=65,ue[6]=193,ue[17]=66,ue[18]=67,ue[21]=268,ue[24]=68,ue[28]=69,ue[30]=201,ue[32]=282,ue[38]=70,ue[39]=71,ue[44]=72,ue[47]=73,ue[49]=205,ue[58]=74,ue[60]=75,ue[62]=76,ue[68]=77,ue[69]=78,ue[75]=79,ue[87]=80,ue[89]=81,ue[90]=82,ue[92]=344,ue[94]=83,ue[97]=352,ue[100]=84,ue[104]=85,ue[115]=86,ue[116]=87,ue[121]=88,ue[122]=89,ue[124]=221,ue[127]=90,ue[129]=381,ue[258]=97,ue[260]=225,ue[268]=261,ue[271]=98,ue[272]=99,ue[273]=263,ue[275]=269,ue[282]=100,ue[286]=101,ue[288]=233,ue[290]=283,ue[295]=281,ue[296]=102,ue[336]=103,ue[346]=104,ue[349]=105,ue[351]=237,ue[361]=106,ue[364]=107,ue[367]=108,ue[371]=322,ue[373]=109,ue[374]=110,ue[381]=111,ue[383]=243,ue[393]=112,ue[395]=113,ue[396]=114,ue[398]=345,ue[400]=115,ue[401]=347,ue[403]=353,ue[410]=116,ue[437]=117,ue[448]=118,ue[449]=119,ue[454]=120,ue[455]=121,ue[457]=253,ue[460]=122,ue[462]=382,ue[463]=380,ue[853]=44,ue[855]=58,ue[856]=46,ue[876]=47,ue[878]=45,ue[882]=45,ue[894]=40,ue[895]=41,ue[896]=91,ue[897]=93,ue[923]=64,ue[1004]=48,ue[1005]=49,ue[1006]=50,ue[1007]=51,ue[1008]=52,ue[1009]=53,ue[1010]=54,ue[1011]=55,ue[1012]=56,ue[1013]=57,ue[1081]=37,ue[1085]=43,ue[1086]=45});oe.getSupplementalGlyphMapForCalibri=be;function xe(ue){const we=(0,he.normalizeFontName)(ue);return de()[we]}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.ToUnicodeMap=oe.IdentityToUnicodeMap=void 0;var ae=ce(2);class he{constructor(re=[]){this._map=re}get length(){return this._map.length}forEach(re){for(const Ae in this._map)re(Ae,this._map[Ae].charCodeAt(0))}has(re){return this._map[re]!==void 0}get(re){return this._map[re]}charCodeOf(re){const Ae=this._map;if(Ae.length<=65536)return Ae.indexOf(re);for(const ge in Ae)if(Ae[ge]===re)return ge|0;return-1}amend(re){for(const Ae in re)this._map[Ae]=re[Ae]}}oe.ToUnicodeMap=he;class de{constructor(re,Ae){this.firstChar=re,this.lastChar=Ae}get length(){return this.lastChar+1-this.firstChar}forEach(re){for(let Ae=this.firstChar,ge=this.lastChar;Ae<=ge;Ae++)re(Ae,Ae)}has(re){return this.firstChar<=re&&re<=this.lastChar}get(re){if(this.firstChar<=re&&re<=this.lastChar)return String.fromCharCode(re)}charCodeOf(re){return Number.isInteger(re)&&re>=this.firstChar&&re<=this.lastChar?re:-1}amend(re){(0,ae.unreachable)("Should not call amend()")}}oe.IdentityToUnicodeMap=de},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.CFFFont=void 0;var ae=ce(35),he=ce(38),de=ce(2);class pe{constructor(Ae,ge){this.properties=ge;const Se=new ae.CFFParser(Ae,ge,he.SEAC_ANALYSIS_ENABLED);this.cff=Se.parse(),this.cff.duplicateFirstGlyph();const fe=new ae.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=fe.compile()}catch{(0,de.warn)("Failed to compile font "+ge.loadedName),this.data=Ae}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const Ae=this.cff,ge=this.properties,Se=Ae.charset.charset;let fe,be;if(ge.composite){fe=Object.create(null);let ue;if(Ae.isCIDFont)for(be=0;be<Se.length;be++){const we=Se[be];ue=ge.cMap.charCodeOf(we),fe[ue]=be}else for(be=0;be<Ae.charStrings.count;be++)ue=ge.cMap.charCodeOf(be),fe[ue]=be;return fe}let xe=Ae.encoding?Ae.encoding.encoding:null;return ge.isInternalFont&&(xe=ge.defaultEncoding),fe=(0,he.type1FontGlyphMapping)(ge,xe,Se),fe}hasGlyphId(Ae){return this.cff.hasGlyphId(Ae)}_createBuiltInEncoding(){const{charset:Ae,encoding:ge}=this.cff;if(!Ae||!ge)return;const Se=Ae.charset,fe=ge.encoding,be=[];for(const xe in fe){const ue=fe[xe];if(ue>=0){const we=Se[ue];we&&(be[xe]=we)}}be.length>0&&(this.properties.builtInEncoding=be)}}oe.CFFFont=pe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.FontRendererFactory=void 0;var ae=ce(2),he=ce(35),de=ce(39),pe=ce(37),re=ce(10);function Ae(Be,Pe){return(Be[Pe]<<24|Be[Pe+1]<<16|Be[Pe+2]<<8|Be[Pe+3])>>>0}function ge(Be,Pe){return Be[Pe]<<8|Be[Pe+1]}function Se(Be,Pe){return(Be[Pe]<<24|Be[Pe+1]<<16)>>16}function fe(Be,Pe){return Be[Pe]<<24>>24}function be(Be,Pe){return Se(Be,Pe)/16384}function xe(Be){const Pe=Be.length;let Ue=32768;return Pe<1240?Ue=107:Pe<33900&&(Ue=1131),Ue}function ue(Be,Pe,Ue){const Te=ge(Be,Pe+2)===1?Ae(Be,Pe+8):Ae(Be,Pe+16),Me=ge(Be,Pe+Te);let Ve,He,Ie;if(Me===4){ge(Be,Pe+Te+2);const Le=ge(Be,Pe+Te+6)>>1;for(He=Pe+Te+14,Ve=[],Ie=0;Ie<Le;Ie++,He+=2)Ve[Ie]={end:ge(Be,He)};for(He+=2,Ie=0;Ie<Le;Ie++,He+=2)Ve[Ie].start=ge(Be,He);for(Ie=0;Ie<Le;Ie++,He+=2)Ve[Ie].idDelta=ge(Be,He);for(Ie=0;Ie<Le;Ie++,He+=2){let Oe=ge(Be,He);if(Oe!==0){Ve[Ie].ids=[];for(let Ne=0,qe=Ve[Ie].end-Ve[Ie].start+1;Ne<qe;Ne++)Ve[Ie].ids[Ne]=ge(Be,He+Oe),Oe+=2}}return Ve}else if(Me===12){const Le=Ae(Be,Pe+Te+12);for(He=Pe+Te+16,Ve=[],Ie=0;Ie<Le;Ie++)Pe=Ae(Be,He),Ve.push({start:Pe,end:Ae(Be,He+4),idDelta:Ae(Be,He+8)-Pe}),He+=12;return Ve}throw new ae.FormatError(`unsupported cmap: ${Me}`)}function we(Be,Pe,Ue,Te){const Me={},He=new he.CFFParser(new re.Stream(Be,Pe,Ue-Pe),Me,Te).parse();return{glyphs:He.charStrings.objects,subrs:He.topDict.privateDict&&He.topDict.privateDict.subrsIndex&&He.topDict.privateDict.subrsIndex.objects,gsubrs:He.globalSubrIndex&&He.globalSubrIndex.objects,isCFFCIDFont:He.isCIDFont,fdSelect:He.fdSelect,fdArray:He.fdArray}}function Fe(Be,Pe,Ue){let Te,Me;Ue?(Te=4,Me=Ae):(Te=2,Me=(Ie,Le)=>2*ge(Ie,Le));const Ve=[];let He=Me(Pe,0);for(let Ie=Te;Ie<Pe.length;Ie+=Te){const Le=Me(Pe,Ie);Ve.push(Be.subarray(He,Le)),He=Le}return Ve}function _e(Be,Pe){const Ue=Pe.codePointAt(0);let Te=0,Me=0,Ve=Be.length-1;for(;Me<Ve;){const He=Me+Ve+1>>1;Ue<Be[He].start?Ve=He-1:Me=He}return Be[Me].start<=Ue&&Ue<=Be[Me].end&&(Te=Be[Me].idDelta+(Be[Me].ids?Be[Me].ids[Ue-Be[Me].start]:Ue)&65535),{charCode:Ue,glyphId:Te}}function Ee(Be,Pe,Ue){function Te(qe,it){Pe.push({cmd:"moveTo",args:[qe,it]})}function Me(qe,it){Pe.push({cmd:"lineTo",args:[qe,it]})}function Ve(qe,it,tt,Xe){Pe.push({cmd:"quadraticCurveTo",args:[qe,it,tt,Xe]})}let He=0;const Ie=Se(Be,He);let Le,Oe=0,Ne=0;if(He+=10,Ie<0)do{Le=ge(Be,He);const qe=ge(Be,He+2);He+=4;let it,tt;Le&1?(Le&2?(it=Se(Be,He),tt=Se(Be,He+2)):(it=ge(Be,He),tt=ge(Be,He+2)),He+=4):Le&2?(it=fe(Be,He++),tt=fe(Be,He++)):(it=Be[He++],tt=Be[He++]),Le&2?(Oe=it,Ne=tt):(Oe=0,Ne=0);let Xe=1,Ze=1,ot=0,Ge=0;Le&8?(Xe=Ze=be(Be,He),He+=2):Le&64?(Xe=be(Be,He),Ze=be(Be,He+2),He+=4):Le&128&&(Xe=be(Be,He),ot=be(Be,He+2),Ge=be(Be,He+4),Ze=be(Be,He+6),He+=8);const Ke=Ue.glyphs[qe];Ke&&(Pe.push({cmd:"save"},{cmd:"transform",args:[Xe,ot,Ge,Ze,Oe,Ne]}),Ee(Ke,Pe,Ue),Pe.push({cmd:"restore"}))}while(Le&32);else{const qe=[];let it,tt;for(it=0;it<Ie;it++)qe.push(ge(Be,He)),He+=2;const Xe=ge(Be,He);He+=2+Xe;const Ze=qe.at(-1)+1,ot=[];for(;ot.length<Ze;){Le=Be[He++];let Ke=1;for(Le&8&&(Ke+=Be[He++]);Ke-- >0;)ot.push({flags:Le})}for(it=0;it<Ze;it++){switch(ot[it].flags&18){case 0:Oe+=Se(Be,He),He+=2;break;case 2:Oe-=Be[He++];break;case 18:Oe+=Be[He++];break}ot[it].x=Oe}for(it=0;it<Ze;it++){switch(ot[it].flags&36){case 0:Ne+=Se(Be,He),He+=2;break;case 4:Ne-=Be[He++];break;case 36:Ne+=Be[He++];break}ot[it].y=Ne}let Ge=0;for(He=0;He<Ie;He++){const Ke=qe[He],je=ot.slice(Ge,Ke+1);if(je[0].flags&1)je.push(je[0]);else if(je.at(-1).flags&1)je.unshift(je.at(-1));else{const nt={flags:1,x:(je[0].x+je.at(-1).x)/2,y:(je[0].y+je.at(-1).y)/2};je.unshift(nt),je.push(nt)}for(Te(je[0].x,je[0].y),it=1,tt=je.length;it<tt;it++)je[it].flags&1?Me(je[it].x,je[it].y):je[it+1].flags&1?(Ve(je[it].x,je[it].y,je[it+1].x,je[it+1].y),it++):Ve(je[it].x,je[it].y,(je[it].x+je[it+1].x)/2,(je[it].y+je[it+1].y)/2);Ge=Ke+1}}}function Ce(Be,Pe,Ue,Te){function Me(it,tt){Pe.push({cmd:"moveTo",args:[it,tt]})}function Ve(it,tt){Pe.push({cmd:"lineTo",args:[it,tt]})}function He(it,tt,Xe,Ze,ot,Ge){Pe.push({cmd:"bezierCurveTo",args:[it,tt,Xe,Ze,ot,Ge]})}const Ie=[];let Le=0,Oe=0,Ne=0;function qe(it){let tt=0;for(;tt<it.length;){let Xe=!1,Ze=it[tt++],ot,Ge,Ke,je,nt,Qe,We,rt,et;switch(Ze){case 1:Ne+=Ie.length>>1,Xe=!0;break;case 3:Ne+=Ie.length>>1,Xe=!0;break;case 4:Oe+=Ie.pop(),Me(Le,Oe),Xe=!0;break;case 5:for(;Ie.length>0;)Le+=Ie.shift(),Oe+=Ie.shift(),Ve(Le,Oe);break;case 6:for(;Ie.length>0&&(Le+=Ie.shift(),Ve(Le,Oe),Ie.length!==0);)Oe+=Ie.shift(),Ve(Le,Oe);break;case 7:for(;Ie.length>0&&(Oe+=Ie.shift(),Ve(Le,Oe),Ie.length!==0);)Le+=Ie.shift(),Ve(Le,Oe);break;case 8:for(;Ie.length>0;)ot=Le+Ie.shift(),Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge+Ie.shift(),Oe=je+Ie.shift(),He(ot,Ke,Ge,je,Le,Oe);break;case 10:if(rt=Ie.pop(),et=null,Ue.isCFFCIDFont){const ct=Ue.fdSelect.getFDIndex(Te);if(ct>=0&&ct<Ue.fdArray.length){const at=Ue.fdArray[ct];let Je;at.privateDict&&at.privateDict.subrsIndex&&(Je=at.privateDict.subrsIndex.objects),Je&&(rt+=xe(Je),et=Je[rt])}else(0,ae.warn)("Invalid fd index for glyph index.")}else et=Ue.subrs[rt+Ue.subrsBias];et&&qe(et);break;case 11:return;case 12:switch(Ze=it[tt++],Ze){case 34:ot=Le+Ie.shift(),Ge=ot+Ie.shift(),nt=Oe+Ie.shift(),Le=Ge+Ie.shift(),He(ot,Oe,Ge,nt,Le,nt),ot=Le+Ie.shift(),Ge=ot+Ie.shift(),Le=Ge+Ie.shift(),He(ot,nt,Ge,Oe,Le,Oe);break;case 35:ot=Le+Ie.shift(),Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge+Ie.shift(),Oe=je+Ie.shift(),He(ot,Ke,Ge,je,Le,Oe),ot=Le+Ie.shift(),Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge+Ie.shift(),Oe=je+Ie.shift(),He(ot,Ke,Ge,je,Le,Oe),Ie.pop();break;case 36:ot=Le+Ie.shift(),nt=Oe+Ie.shift(),Ge=ot+Ie.shift(),Qe=nt+Ie.shift(),Le=Ge+Ie.shift(),He(ot,nt,Ge,Qe,Le,Qe),ot=Le+Ie.shift(),Ge=ot+Ie.shift(),We=Qe+Ie.shift(),Le=Ge+Ie.shift(),He(ot,Qe,Ge,We,Le,Oe);break;case 37:const ct=Le,at=Oe;ot=Le+Ie.shift(),Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge+Ie.shift(),Oe=je+Ie.shift(),He(ot,Ke,Ge,je,Le,Oe),ot=Le+Ie.shift(),Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge,Oe=je,Math.abs(Le-ct)>Math.abs(Oe-at)?Le+=Ie.shift():Oe+=Ie.shift(),He(ot,Ke,Ge,je,Le,Oe);break;default:throw new ae.FormatError(`unknown operator: 12 ${Ze}`)}break;case 14:if(Ie.length>=4){const ct=Ie.pop(),at=Ie.pop();Oe=Ie.pop(),Le=Ie.pop(),Pe.push({cmd:"save"},{cmd:"translate",args:[Le,Oe]});let Je=_e(Ue.cmap,String.fromCharCode(Ue.glyphNameMap[pe.StandardEncoding[ct]]));Ce(Ue.glyphs[Je.glyphId],Pe,Ue,Je.glyphId),Pe.push({cmd:"restore"}),Je=_e(Ue.cmap,String.fromCharCode(Ue.glyphNameMap[pe.StandardEncoding[at]])),Ce(Ue.glyphs[Je.glyphId],Pe,Ue,Je.glyphId)}return;case 18:Ne+=Ie.length>>1,Xe=!0;break;case 19:Ne+=Ie.length>>1,tt+=Ne+7>>3,Xe=!0;break;case 20:Ne+=Ie.length>>1,tt+=Ne+7>>3,Xe=!0;break;case 21:Oe+=Ie.pop(),Le+=Ie.pop(),Me(Le,Oe),Xe=!0;break;case 22:Le+=Ie.pop(),Me(Le,Oe),Xe=!0;break;case 23:Ne+=Ie.length>>1,Xe=!0;break;case 24:for(;Ie.length>2;)ot=Le+Ie.shift(),Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge+Ie.shift(),Oe=je+Ie.shift(),He(ot,Ke,Ge,je,Le,Oe);Le+=Ie.shift(),Oe+=Ie.shift(),Ve(Le,Oe);break;case 25:for(;Ie.length>6;)Le+=Ie.shift(),Oe+=Ie.shift(),Ve(Le,Oe);ot=Le+Ie.shift(),Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge+Ie.shift(),Oe=je+Ie.shift(),He(ot,Ke,Ge,je,Le,Oe);break;case 26:for(Ie.length%2&&(Le+=Ie.shift());Ie.length>0;)ot=Le,Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge,Oe=je+Ie.shift(),He(ot,Ke,Ge,je,Le,Oe);break;case 27:for(Ie.length%2&&(Oe+=Ie.shift());Ie.length>0;)ot=Le+Ie.shift(),Ke=Oe,Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge+Ie.shift(),Oe=je,He(ot,Ke,Ge,je,Le,Oe);break;case 28:Ie.push((it[tt]<<24|it[tt+1]<<16)>>16),tt+=2;break;case 29:rt=Ie.pop()+Ue.gsubrsBias,et=Ue.gsubrs[rt],et&&qe(et);break;case 30:for(;Ie.length>0&&(ot=Le,Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge+Ie.shift(),Oe=je+(Ie.length===1?Ie.shift():0),He(ot,Ke,Ge,je,Le,Oe),Ie.length!==0);)ot=Le+Ie.shift(),Ke=Oe,Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Oe=je+Ie.shift(),Le=Ge+(Ie.length===1?Ie.shift():0),He(ot,Ke,Ge,je,Le,Oe);break;case 31:for(;Ie.length>0&&(ot=Le+Ie.shift(),Ke=Oe,Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Oe=je+Ie.shift(),Le=Ge+(Ie.length===1?Ie.shift():0),He(ot,Ke,Ge,je,Le,Oe),Ie.length!==0);)ot=Le,Ke=Oe+Ie.shift(),Ge=ot+Ie.shift(),je=Ke+Ie.shift(),Le=Ge+Ie.shift(),Oe=je+(Ie.length===1?Ie.shift():0),He(ot,Ke,Ge,je,Le,Oe);break;default:if(Ze<32)throw new ae.FormatError(`unknown operator: ${Ze}`);Ze<247?Ie.push(Ze-139):Ze<251?Ie.push((Ze-247)*256+it[tt++]+108):Ze<255?Ie.push(-(Ze-251)*256-it[tt++]-108):(Ie.push((it[tt]<<24|it[tt+1]<<16|it[tt+2]<<8|it[tt+3])/65536),tt+=4);break}Xe&&(Ie.length=0)}}qe(Be)}const ye=[];class Re{constructor(Pe){this.constructor===Re&&(0,ae.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=Pe,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(Pe){const{charCode:Ue,glyphId:Te}=_e(this.cmap,Pe);let Me=this.compiledGlyphs[Te];if(!Me)try{Me=this.compileGlyph(this.glyphs[Te],Te),this.compiledGlyphs[Te]=Me}catch(Ve){throw this.compiledGlyphs[Te]=ye,this.compiledCharCodeToGlyphId[Ue]===void 0&&(this.compiledCharCodeToGlyphId[Ue]=Te),Ve}return this.compiledCharCodeToGlyphId[Ue]===void 0&&(this.compiledCharCodeToGlyphId[Ue]=Te),Me}compileGlyph(Pe,Ue){if(!Pe||Pe.length===0||Pe[0]===14)return ye;let Te=this.fontMatrix;if(this.isCFFCIDFont){const Ve=this.fdSelect.getFDIndex(Ue);Ve>=0&&Ve<this.fdArray.length?Te=this.fdArray[Ve].getByName("FontMatrix")||ae.FONT_IDENTITY_MATRIX:(0,ae.warn)("Invalid fd index for glyph index.")}const Me=[{cmd:"save"},{cmd:"transform",args:Te.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(Pe,Me,Ue),Me.push({cmd:"restore"}),Me}compileGlyphImpl(){(0,ae.unreachable)("Children classes should implement this.")}hasBuiltPath(Pe){const{charCode:Ue,glyphId:Te}=_e(this.cmap,Pe);return this.compiledGlyphs[Te]!==void 0&&this.compiledCharCodeToGlyphId[Ue]!==void 0}}class Ye extends Re{constructor(Pe,Ue,Te){super(Te||[488e-6,0,0,488e-6,0,0]),this.glyphs=Pe,this.cmap=Ue}compileGlyphImpl(Pe,Ue){Ee(Pe,Ue,this)}}class ke extends Re{constructor(Pe,Ue,Te,Me){super(Te||[.001,0,0,.001,0,0]),this.glyphs=Pe.glyphs,this.gsubrs=Pe.gsubrs||[],this.subrs=Pe.subrs||[],this.cmap=Ue,this.glyphNameMap=Me||(0,de.getGlyphsUnicode)(),this.gsubrsBias=xe(this.gsubrs),this.subrsBias=xe(this.subrs),this.isCFFCIDFont=Pe.isCFFCIDFont,this.fdSelect=Pe.fdSelect,this.fdArray=Pe.fdArray}compileGlyphImpl(Pe,Ue,Te){Ce(Pe,Ue,this,Te)}}class $e{static create(Pe,Ue){const Te=new Uint8Array(Pe.data);let Me,Ve,He,Ie,Le,Oe;const Ne=ge(Te,4);for(let qe=0,it=12;qe<Ne;qe++,it+=16){const tt=(0,ae.bytesToString)(Te.subarray(it,it+4)),Xe=Ae(Te,it+8),Ze=Ae(Te,it+12);switch(tt){case"cmap":Me=ue(Te,Xe);break;case"glyf":Ve=Te.subarray(Xe,Xe+Ze);break;case"loca":He=Te.subarray(Xe,Xe+Ze);break;case"head":Oe=ge(Te,Xe+18),Le=ge(Te,Xe+50);break;case"CFF ":Ie=we(Te,Xe,Xe+Ze,Ue);break}}if(Ve){const qe=Oe?[1/Oe,0,0,1/Oe,0,0]:Pe.fontMatrix;return new Ye(Fe(Ve,He,Le),Me,qe)}return new ke(Ie,Me,Pe.fontMatrix,Pe.glyphNameMap)}}oe.FontRendererFactory=$e},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.getMetrics=oe.getFontBasicMetrics=void 0;var ae=ce(6);const he=(0,ae.getLookupTableFactory)(function(pe){pe.Courier=600,pe["Courier-Bold"]=600,pe["Courier-BoldOblique"]=600,pe["Courier-Oblique"]=600,pe.Helvetica=(0,ae.getLookupTableFactory)(function(re){re.space=278,re.exclam=278,re.quotedbl=355,re.numbersign=556,re.dollar=556,re.percent=889,re.ampersand=667,re.quoteright=222,re.parenleft=333,re.parenright=333,re.asterisk=389,re.plus=584,re.comma=278,re.hyphen=333,re.period=278,re.slash=278,re.zero=556,re.one=556,re.two=556,re.three=556,re.four=556,re.five=556,re.six=556,re.seven=556,re.eight=556,re.nine=556,re.colon=278,re.semicolon=278,re.less=584,re.equal=584,re.greater=584,re.question=556,re.at=1015,re.A=667,re.B=667,re.C=722,re.D=722,re.E=667,re.F=611,re.G=778,re.H=722,re.I=278,re.J=500,re.K=667,re.L=556,re.M=833,re.N=722,re.O=778,re.P=667,re.Q=778,re.R=722,re.S=667,re.T=611,re.U=722,re.V=667,re.W=944,re.X=667,re.Y=667,re.Z=611,re.bracketleft=278,re.backslash=278,re.bracketright=278,re.asciicircum=469,re.underscore=556,re.quoteleft=222,re.a=556,re.b=556,re.c=500,re.d=556,re.e=556,re.f=278,re.g=556,re.h=556,re.i=222,re.j=222,re.k=500,re.l=222,re.m=833,re.n=556,re.o=556,re.p=556,re.q=556,re.r=333,re.s=500,re.t=278,re.u=556,re.v=500,re.w=722,re.x=500,re.y=500,re.z=500,re.braceleft=334,re.bar=260,re.braceright=334,re.asciitilde=584,re.exclamdown=333,re.cent=556,re.sterling=556,re.fraction=167,re.yen=556,re.florin=556,re.section=556,re.currency=556,re.quotesingle=191,re.quotedblleft=333,re.guillemotleft=556,re.guilsinglleft=333,re.guilsinglright=333,re.fi=500,re.fl=500,re.endash=556,re.dagger=556,re.daggerdbl=556,re.periodcentered=278,re.paragraph=537,re.bullet=350,re.quotesinglbase=222,re.quotedblbase=333,re.quotedblright=333,re.guillemotright=556,re.ellipsis=1e3,re.perthousand=1e3,re.questiondown=611,re.grave=333,re.acute=333,re.circumflex=333,re.tilde=333,re.macron=333,re.breve=333,re.dotaccent=333,re.dieresis=333,re.ring=333,re.cedilla=333,re.hungarumlaut=333,re.ogonek=333,re.caron=333,re.emdash=1e3,re.AE=1e3,re.ordfeminine=370,re.Lslash=556,re.Oslash=778,re.OE=1e3,re.ordmasculine=365,re.ae=889,re.dotlessi=278,re.lslash=222,re.oslash=611,re.oe=944,re.germandbls=611,re.Idieresis=278,re.eacute=556,re.abreve=556,re.uhungarumlaut=556,re.ecaron=556,re.Ydieresis=667,re.divide=584,re.Yacute=667,re.Acircumflex=667,re.aacute=556,re.Ucircumflex=722,re.yacute=500,re.scommaaccent=500,re.ecircumflex=556,re.Uring=722,re.Udieresis=722,re.aogonek=556,re.Uacute=722,re.uogonek=556,re.Edieresis=667,re.Dcroat=722,re.commaaccent=250,re.copyright=737,re.Emacron=667,re.ccaron=500,re.aring=556,re.Ncommaaccent=722,re.lacute=222,re.agrave=556,re.Tcommaaccent=611,re.Cacute=722,re.atilde=556,re.Edotaccent=667,re.scaron=500,re.scedilla=500,re.iacute=278,re.lozenge=471,re.Rcaron=722,re.Gcommaaccent=778,re.ucircumflex=556,re.acircumflex=556,re.Amacron=667,re.rcaron=333,re.ccedilla=500,re.Zdotaccent=611,re.Thorn=667,re.Omacron=778,re.Racute=722,re.Sacute=667,re.dcaron=643,re.Umacron=722,re.uring=556,re.threesuperior=333,re.Ograve=778,re.Agrave=667,re.Abreve=667,re.multiply=584,re.uacute=556,re.Tcaron=611,re.partialdiff=476,re.ydieresis=500,re.Nacute=722,re.icircumflex=278,re.Ecircumflex=667,re.adieresis=556,re.edieresis=556,re.cacute=500,re.nacute=556,re.umacron=556,re.Ncaron=722,re.Iacute=278,re.plusminus=584,re.brokenbar=260,re.registered=737,re.Gbreve=778,re.Idotaccent=278,re.summation=600,re.Egrave=667,re.racute=333,re.omacron=556,re.Zacute=611,re.Zcaron=611,re.greaterequal=549,re.Eth=722,re.Ccedilla=722,re.lcommaaccent=222,re.tcaron=317,re.eogonek=556,re.Uogonek=722,re.Aacute=667,re.Adieresis=667,re.egrave=556,re.zacute=500,re.iogonek=222,re.Oacute=778,re.oacute=556,re.amacron=556,re.sacute=500,re.idieresis=278,re.Ocircumflex=778,re.Ugrave=722,re.Delta=612,re.thorn=556,re.twosuperior=333,re.Odieresis=778,re.mu=556,re.igrave=278,re.ohungarumlaut=556,re.Eogonek=667,re.dcroat=556,re.threequarters=834,re.Scedilla=667,re.lcaron=299,re.Kcommaaccent=667,re.Lacute=556,re.trademark=1e3,re.edotaccent=556,re.Igrave=278,re.Imacron=278,re.Lcaron=556,re.onehalf=834,re.lessequal=549,re.ocircumflex=556,re.ntilde=556,re.Uhungarumlaut=722,re.Eacute=667,re.emacron=556,re.gbreve=556,re.onequarter=834,re.Scaron=667,re.Scommaaccent=667,re.Ohungarumlaut=778,re.degree=400,re.ograve=556,re.Ccaron=722,re.ugrave=556,re.radical=453,re.Dcaron=722,re.rcommaaccent=333,re.Ntilde=722,re.otilde=556,re.Rcommaaccent=722,re.Lcommaaccent=556,re.Atilde=667,re.Aogonek=667,re.Aring=667,re.Otilde=778,re.zdotaccent=500,re.Ecaron=667,re.Iogonek=278,re.kcommaaccent=500,re.minus=584,re.Icircumflex=278,re.ncaron=556,re.tcommaaccent=278,re.logicalnot=584,re.odieresis=556,re.udieresis=556,re.notequal=549,re.gcommaaccent=556,re.eth=556,re.zcaron=500,re.ncommaaccent=556,re.onesuperior=333,re.imacron=278,re.Euro=556}),pe["Helvetica-Bold"]=(0,ae.getLookupTableFactory)(function(re){re.space=278,re.exclam=333,re.quotedbl=474,re.numbersign=556,re.dollar=556,re.percent=889,re.ampersand=722,re.quoteright=278,re.parenleft=333,re.parenright=333,re.asterisk=389,re.plus=584,re.comma=278,re.hyphen=333,re.period=278,re.slash=278,re.zero=556,re.one=556,re.two=556,re.three=556,re.four=556,re.five=556,re.six=556,re.seven=556,re.eight=556,re.nine=556,re.colon=333,re.semicolon=333,re.less=584,re.equal=584,re.greater=584,re.question=611,re.at=975,re.A=722,re.B=722,re.C=722,re.D=722,re.E=667,re.F=611,re.G=778,re.H=722,re.I=278,re.J=556,re.K=722,re.L=611,re.M=833,re.N=722,re.O=778,re.P=667,re.Q=778,re.R=722,re.S=667,re.T=611,re.U=722,re.V=667,re.W=944,re.X=667,re.Y=667,re.Z=611,re.bracketleft=333,re.backslash=278,re.bracketright=333,re.asciicircum=584,re.underscore=556,re.quoteleft=278,re.a=556,re.b=611,re.c=556,re.d=611,re.e=556,re.f=333,re.g=611,re.h=611,re.i=278,re.j=278,re.k=556,re.l=278,re.m=889,re.n=611,re.o=611,re.p=611,re.q=611,re.r=389,re.s=556,re.t=333,re.u=611,re.v=556,re.w=778,re.x=556,re.y=556,re.z=500,re.braceleft=389,re.bar=280,re.braceright=389,re.asciitilde=584,re.exclamdown=333,re.cent=556,re.sterling=556,re.fraction=167,re.yen=556,re.florin=556,re.section=556,re.currency=556,re.quotesingle=238,re.quotedblleft=500,re.guillemotleft=556,re.guilsinglleft=333,re.guilsinglright=333,re.fi=611,re.fl=611,re.endash=556,re.dagger=556,re.daggerdbl=556,re.periodcentered=278,re.paragraph=556,re.bullet=350,re.quotesinglbase=278,re.quotedblbase=500,re.quotedblright=500,re.guillemotright=556,re.ellipsis=1e3,re.perthousand=1e3,re.questiondown=611,re.grave=333,re.acute=333,re.circumflex=333,re.tilde=333,re.macron=333,re.breve=333,re.dotaccent=333,re.dieresis=333,re.ring=333,re.cedilla=333,re.hungarumlaut=333,re.ogonek=333,re.caron=333,re.emdash=1e3,re.AE=1e3,re.ordfeminine=370,re.Lslash=611,re.Oslash=778,re.OE=1e3,re.ordmasculine=365,re.ae=889,re.dotlessi=278,re.lslash=278,re.oslash=611,re.oe=944,re.germandbls=611,re.Idieresis=278,re.eacute=556,re.abreve=556,re.uhungarumlaut=611,re.ecaron=556,re.Ydieresis=667,re.divide=584,re.Yacute=667,re.Acircumflex=722,re.aacute=556,re.Ucircumflex=722,re.yacute=556,re.scommaaccent=556,re.ecircumflex=556,re.Uring=722,re.Udieresis=722,re.aogonek=556,re.Uacute=722,re.uogonek=611,re.Edieresis=667,re.Dcroat=722,re.commaaccent=250,re.copyright=737,re.Emacron=667,re.ccaron=556,re.aring=556,re.Ncommaaccent=722,re.lacute=278,re.agrave=556,re.Tcommaaccent=611,re.Cacute=722,re.atilde=556,re.Edotaccent=667,re.scaron=556,re.scedilla=556,re.iacute=278,re.lozenge=494,re.Rcaron=722,re.Gcommaaccent=778,re.ucircumflex=611,re.acircumflex=556,re.Amacron=722,re.rcaron=389,re.ccedilla=556,re.Zdotaccent=611,re.Thorn=667,re.Omacron=778,re.Racute=722,re.Sacute=667,re.dcaron=743,re.Umacron=722,re.uring=611,re.threesuperior=333,re.Ograve=778,re.Agrave=722,re.Abreve=722,re.multiply=584,re.uacute=611,re.Tcaron=611,re.partialdiff=494,re.ydieresis=556,re.Nacute=722,re.icircumflex=278,re.Ecircumflex=667,re.adieresis=556,re.edieresis=556,re.cacute=556,re.nacute=611,re.umacron=611,re.Ncaron=722,re.Iacute=278,re.plusminus=584,re.brokenbar=280,re.registered=737,re.Gbreve=778,re.Idotaccent=278,re.summation=600,re.Egrave=667,re.racute=389,re.omacron=611,re.Zacute=611,re.Zcaron=611,re.greaterequal=549,re.Eth=722,re.Ccedilla=722,re.lcommaaccent=278,re.tcaron=389,re.eogonek=556,re.Uogonek=722,re.Aacute=722,re.Adieresis=722,re.egrave=556,re.zacute=500,re.iogonek=278,re.Oacute=778,re.oacute=611,re.amacron=556,re.sacute=556,re.idieresis=278,re.Ocircumflex=778,re.Ugrave=722,re.Delta=612,re.thorn=611,re.twosuperior=333,re.Odieresis=778,re.mu=611,re.igrave=278,re.ohungarumlaut=611,re.Eogonek=667,re.dcroat=611,re.threequarters=834,re.Scedilla=667,re.lcaron=400,re.Kcommaaccent=722,re.Lacute=611,re.trademark=1e3,re.edotaccent=556,re.Igrave=278,re.Imacron=278,re.Lcaron=611,re.onehalf=834,re.lessequal=549,re.ocircumflex=611,re.ntilde=611,re.Uhungarumlaut=722,re.Eacute=667,re.emacron=556,re.gbreve=611,re.onequarter=834,re.Scaron=667,re.Scommaaccent=667,re.Ohungarumlaut=778,re.degree=400,re.ograve=611,re.Ccaron=722,re.ugrave=611,re.radical=549,re.Dcaron=722,re.rcommaaccent=389,re.Ntilde=722,re.otilde=611,re.Rcommaaccent=722,re.Lcommaaccent=611,re.Atilde=722,re.Aogonek=722,re.Aring=722,re.Otilde=778,re.zdotaccent=500,re.Ecaron=667,re.Iogonek=278,re.kcommaaccent=556,re.minus=584,re.Icircumflex=278,re.ncaron=611,re.tcommaaccent=333,re.logicalnot=584,re.odieresis=611,re.udieresis=611,re.notequal=549,re.gcommaaccent=611,re.eth=611,re.zcaron=500,re.ncommaaccent=611,re.onesuperior=333,re.imacron=278,re.Euro=556}),pe["Helvetica-BoldOblique"]=(0,ae.getLookupTableFactory)(function(re){re.space=278,re.exclam=333,re.quotedbl=474,re.numbersign=556,re.dollar=556,re.percent=889,re.ampersand=722,re.quoteright=278,re.parenleft=333,re.parenright=333,re.asterisk=389,re.plus=584,re.comma=278,re.hyphen=333,re.period=278,re.slash=278,re.zero=556,re.one=556,re.two=556,re.three=556,re.four=556,re.five=556,re.six=556,re.seven=556,re.eight=556,re.nine=556,re.colon=333,re.semicolon=333,re.less=584,re.equal=584,re.greater=584,re.question=611,re.at=975,re.A=722,re.B=722,re.C=722,re.D=722,re.E=667,re.F=611,re.G=778,re.H=722,re.I=278,re.J=556,re.K=722,re.L=611,re.M=833,re.N=722,re.O=778,re.P=667,re.Q=778,re.R=722,re.S=667,re.T=611,re.U=722,re.V=667,re.W=944,re.X=667,re.Y=667,re.Z=611,re.bracketleft=333,re.backslash=278,re.bracketright=333,re.asciicircum=584,re.underscore=556,re.quoteleft=278,re.a=556,re.b=611,re.c=556,re.d=611,re.e=556,re.f=333,re.g=611,re.h=611,re.i=278,re.j=278,re.k=556,re.l=278,re.m=889,re.n=611,re.o=611,re.p=611,re.q=611,re.r=389,re.s=556,re.t=333,re.u=611,re.v=556,re.w=778,re.x=556,re.y=556,re.z=500,re.braceleft=389,re.bar=280,re.braceright=389,re.asciitilde=584,re.exclamdown=333,re.cent=556,re.sterling=556,re.fraction=167,re.yen=556,re.florin=556,re.section=556,re.currency=556,re.quotesingle=238,re.quotedblleft=500,re.guillemotleft=556,re.guilsinglleft=333,re.guilsinglright=333,re.fi=611,re.fl=611,re.endash=556,re.dagger=556,re.daggerdbl=556,re.periodcentered=278,re.paragraph=556,re.bullet=350,re.quotesinglbase=278,re.quotedblbase=500,re.quotedblright=500,re.guillemotright=556,re.ellipsis=1e3,re.perthousand=1e3,re.questiondown=611,re.grave=333,re.acute=333,re.circumflex=333,re.tilde=333,re.macron=333,re.breve=333,re.dotaccent=333,re.dieresis=333,re.ring=333,re.cedilla=333,re.hungarumlaut=333,re.ogonek=333,re.caron=333,re.emdash=1e3,re.AE=1e3,re.ordfeminine=370,re.Lslash=611,re.Oslash=778,re.OE=1e3,re.ordmasculine=365,re.ae=889,re.dotlessi=278,re.lslash=278,re.oslash=611,re.oe=944,re.germandbls=611,re.Idieresis=278,re.eacute=556,re.abreve=556,re.uhungarumlaut=611,re.ecaron=556,re.Ydieresis=667,re.divide=584,re.Yacute=667,re.Acircumflex=722,re.aacute=556,re.Ucircumflex=722,re.yacute=556,re.scommaaccent=556,re.ecircumflex=556,re.Uring=722,re.Udieresis=722,re.aogonek=556,re.Uacute=722,re.uogonek=611,re.Edieresis=667,re.Dcroat=722,re.commaaccent=250,re.copyright=737,re.Emacron=667,re.ccaron=556,re.aring=556,re.Ncommaaccent=722,re.lacute=278,re.agrave=556,re.Tcommaaccent=611,re.Cacute=722,re.atilde=556,re.Edotaccent=667,re.scaron=556,re.scedilla=556,re.iacute=278,re.lozenge=494,re.Rcaron=722,re.Gcommaaccent=778,re.ucircumflex=611,re.acircumflex=556,re.Amacron=722,re.rcaron=389,re.ccedilla=556,re.Zdotaccent=611,re.Thorn=667,re.Omacron=778,re.Racute=722,re.Sacute=667,re.dcaron=743,re.Umacron=722,re.uring=611,re.threesuperior=333,re.Ograve=778,re.Agrave=722,re.Abreve=722,re.multiply=584,re.uacute=611,re.Tcaron=611,re.partialdiff=494,re.ydieresis=556,re.Nacute=722,re.icircumflex=278,re.Ecircumflex=667,re.adieresis=556,re.edieresis=556,re.cacute=556,re.nacute=611,re.umacron=611,re.Ncaron=722,re.Iacute=278,re.plusminus=584,re.brokenbar=280,re.registered=737,re.Gbreve=778,re.Idotaccent=278,re.summation=600,re.Egrave=667,re.racute=389,re.omacron=611,re.Zacute=611,re.Zcaron=611,re.greaterequal=549,re.Eth=722,re.Ccedilla=722,re.lcommaaccent=278,re.tcaron=389,re.eogonek=556,re.Uogonek=722,re.Aacute=722,re.Adieresis=722,re.egrave=556,re.zacute=500,re.iogonek=278,re.Oacute=778,re.oacute=611,re.amacron=556,re.sacute=556,re.idieresis=278,re.Ocircumflex=778,re.Ugrave=722,re.Delta=612,re.thorn=611,re.twosuperior=333,re.Odieresis=778,re.mu=611,re.igrave=278,re.ohungarumlaut=611,re.Eogonek=667,re.dcroat=611,re.threequarters=834,re.Scedilla=667,re.lcaron=400,re.Kcommaaccent=722,re.Lacute=611,re.trademark=1e3,re.edotaccent=556,re.Igrave=278,re.Imacron=278,re.Lcaron=611,re.onehalf=834,re.lessequal=549,re.ocircumflex=611,re.ntilde=611,re.Uhungarumlaut=722,re.Eacute=667,re.emacron=556,re.gbreve=611,re.onequarter=834,re.Scaron=667,re.Scommaaccent=667,re.Ohungarumlaut=778,re.degree=400,re.ograve=611,re.Ccaron=722,re.ugrave=611,re.radical=549,re.Dcaron=722,re.rcommaaccent=389,re.Ntilde=722,re.otilde=611,re.Rcommaaccent=722,re.Lcommaaccent=611,re.Atilde=722,re.Aogonek=722,re.Aring=722,re.Otilde=778,re.zdotaccent=500,re.Ecaron=667,re.Iogonek=278,re.kcommaaccent=556,re.minus=584,re.Icircumflex=278,re.ncaron=611,re.tcommaaccent=333,re.logicalnot=584,re.odieresis=611,re.udieresis=611,re.notequal=549,re.gcommaaccent=611,re.eth=611,re.zcaron=500,re.ncommaaccent=611,re.onesuperior=333,re.imacron=278,re.Euro=556}),pe["Helvetica-Oblique"]=(0,ae.getLookupTableFactory)(function(re){re.space=278,re.exclam=278,re.quotedbl=355,re.numbersign=556,re.dollar=556,re.percent=889,re.ampersand=667,re.quoteright=222,re.parenleft=333,re.parenright=333,re.asterisk=389,re.plus=584,re.comma=278,re.hyphen=333,re.period=278,re.slash=278,re.zero=556,re.one=556,re.two=556,re.three=556,re.four=556,re.five=556,re.six=556,re.seven=556,re.eight=556,re.nine=556,re.colon=278,re.semicolon=278,re.less=584,re.equal=584,re.greater=584,re.question=556,re.at=1015,re.A=667,re.B=667,re.C=722,re.D=722,re.E=667,re.F=611,re.G=778,re.H=722,re.I=278,re.J=500,re.K=667,re.L=556,re.M=833,re.N=722,re.O=778,re.P=667,re.Q=778,re.R=722,re.S=667,re.T=611,re.U=722,re.V=667,re.W=944,re.X=667,re.Y=667,re.Z=611,re.bracketleft=278,re.backslash=278,re.bracketright=278,re.asciicircum=469,re.underscore=556,re.quoteleft=222,re.a=556,re.b=556,re.c=500,re.d=556,re.e=556,re.f=278,re.g=556,re.h=556,re.i=222,re.j=222,re.k=500,re.l=222,re.m=833,re.n=556,re.o=556,re.p=556,re.q=556,re.r=333,re.s=500,re.t=278,re.u=556,re.v=500,re.w=722,re.x=500,re.y=500,re.z=500,re.braceleft=334,re.bar=260,re.braceright=334,re.asciitilde=584,re.exclamdown=333,re.cent=556,re.sterling=556,re.fraction=167,re.yen=556,re.florin=556,re.section=556,re.currency=556,re.quotesingle=191,re.quotedblleft=333,re.guillemotleft=556,re.guilsinglleft=333,re.guilsinglright=333,re.fi=500,re.fl=500,re.endash=556,re.dagger=556,re.daggerdbl=556,re.periodcentered=278,re.paragraph=537,re.bullet=350,re.quotesinglbase=222,re.quotedblbase=333,re.quotedblright=333,re.guillemotright=556,re.ellipsis=1e3,re.perthousand=1e3,re.questiondown=611,re.grave=333,re.acute=333,re.circumflex=333,re.tilde=333,re.macron=333,re.breve=333,re.dotaccent=333,re.dieresis=333,re.ring=333,re.cedilla=333,re.hungarumlaut=333,re.ogonek=333,re.caron=333,re.emdash=1e3,re.AE=1e3,re.ordfeminine=370,re.Lslash=556,re.Oslash=778,re.OE=1e3,re.ordmasculine=365,re.ae=889,re.dotlessi=278,re.lslash=222,re.oslash=611,re.oe=944,re.germandbls=611,re.Idieresis=278,re.eacute=556,re.abreve=556,re.uhungarumlaut=556,re.ecaron=556,re.Ydieresis=667,re.divide=584,re.Yacute=667,re.Acircumflex=667,re.aacute=556,re.Ucircumflex=722,re.yacute=500,re.scommaaccent=500,re.ecircumflex=556,re.Uring=722,re.Udieresis=722,re.aogonek=556,re.Uacute=722,re.uogonek=556,re.Edieresis=667,re.Dcroat=722,re.commaaccent=250,re.copyright=737,re.Emacron=667,re.ccaron=500,re.aring=556,re.Ncommaaccent=722,re.lacute=222,re.agrave=556,re.Tcommaaccent=611,re.Cacute=722,re.atilde=556,re.Edotaccent=667,re.scaron=500,re.scedilla=500,re.iacute=278,re.lozenge=471,re.Rcaron=722,re.Gcommaaccent=778,re.ucircumflex=556,re.acircumflex=556,re.Amacron=667,re.rcaron=333,re.ccedilla=500,re.Zdotaccent=611,re.Thorn=667,re.Omacron=778,re.Racute=722,re.Sacute=667,re.dcaron=643,re.Umacron=722,re.uring=556,re.threesuperior=333,re.Ograve=778,re.Agrave=667,re.Abreve=667,re.multiply=584,re.uacute=556,re.Tcaron=611,re.partialdiff=476,re.ydieresis=500,re.Nacute=722,re.icircumflex=278,re.Ecircumflex=667,re.adieresis=556,re.edieresis=556,re.cacute=500,re.nacute=556,re.umacron=556,re.Ncaron=722,re.Iacute=278,re.plusminus=584,re.brokenbar=260,re.registered=737,re.Gbreve=778,re.Idotaccent=278,re.summation=600,re.Egrave=667,re.racute=333,re.omacron=556,re.Zacute=611,re.Zcaron=611,re.greaterequal=549,re.Eth=722,re.Ccedilla=722,re.lcommaaccent=222,re.tcaron=317,re.eogonek=556,re.Uogonek=722,re.Aacute=667,re.Adieresis=667,re.egrave=556,re.zacute=500,re.iogonek=222,re.Oacute=778,re.oacute=556,re.amacron=556,re.sacute=500,re.idieresis=278,re.Ocircumflex=778,re.Ugrave=722,re.Delta=612,re.thorn=556,re.twosuperior=333,re.Odieresis=778,re.mu=556,re.igrave=278,re.ohungarumlaut=556,re.Eogonek=667,re.dcroat=556,re.threequarters=834,re.Scedilla=667,re.lcaron=299,re.Kcommaaccent=667,re.Lacute=556,re.trademark=1e3,re.edotaccent=556,re.Igrave=278,re.Imacron=278,re.Lcaron=556,re.onehalf=834,re.lessequal=549,re.ocircumflex=556,re.ntilde=556,re.Uhungarumlaut=722,re.Eacute=667,re.emacron=556,re.gbreve=556,re.onequarter=834,re.Scaron=667,re.Scommaaccent=667,re.Ohungarumlaut=778,re.degree=400,re.ograve=556,re.Ccaron=722,re.ugrave=556,re.radical=453,re.Dcaron=722,re.rcommaaccent=333,re.Ntilde=722,re.otilde=556,re.Rcommaaccent=722,re.Lcommaaccent=556,re.Atilde=667,re.Aogonek=667,re.Aring=667,re.Otilde=778,re.zdotaccent=500,re.Ecaron=667,re.Iogonek=278,re.kcommaaccent=500,re.minus=584,re.Icircumflex=278,re.ncaron=556,re.tcommaaccent=278,re.logicalnot=584,re.odieresis=556,re.udieresis=556,re.notequal=549,re.gcommaaccent=556,re.eth=556,re.zcaron=500,re.ncommaaccent=556,re.onesuperior=333,re.imacron=278,re.Euro=556}),pe.Symbol=(0,ae.getLookupTableFactory)(function(re){re.space=250,re.exclam=333,re.universal=713,re.numbersign=500,re.existential=549,re.percent=833,re.ampersand=778,re.suchthat=439,re.parenleft=333,re.parenright=333,re.asteriskmath=500,re.plus=549,re.comma=250,re.minus=549,re.period=250,re.slash=278,re.zero=500,re.one=500,re.two=500,re.three=500,re.four=500,re.five=500,re.six=500,re.seven=500,re.eight=500,re.nine=500,re.colon=278,re.semicolon=278,re.less=549,re.equal=549,re.greater=549,re.question=444,re.congruent=549,re.Alpha=722,re.Beta=667,re.Chi=722,re.Delta=612,re.Epsilon=611,re.Phi=763,re.Gamma=603,re.Eta=722,re.Iota=333,re.theta1=631,re.Kappa=722,re.Lambda=686,re.Mu=889,re.Nu=722,re.Omicron=722,re.Pi=768,re.Theta=741,re.Rho=556,re.Sigma=592,re.Tau=611,re.Upsilon=690,re.sigma1=439,re.Omega=768,re.Xi=645,re.Psi=795,re.Zeta=611,re.bracketleft=333,re.therefore=863,re.bracketright=333,re.perpendicular=658,re.underscore=500,re.radicalex=500,re.alpha=631,re.beta=549,re.chi=549,re.delta=494,re.epsilon=439,re.phi=521,re.gamma=411,re.eta=603,re.iota=329,re.phi1=603,re.kappa=549,re.lambda=549,re.mu=576,re.nu=521,re.omicron=549,re.pi=549,re.theta=521,re.rho=549,re.sigma=603,re.tau=439,re.upsilon=576,re.omega1=713,re.omega=686,re.xi=493,re.psi=686,re.zeta=494,re.braceleft=480,re.bar=200,re.braceright=480,re.similar=549,re.Euro=750,re.Upsilon1=620,re.minute=247,re.lessequal=549,re.fraction=167,re.infinity=713,re.florin=500,re.club=753,re.diamond=753,re.heart=753,re.spade=753,re.arrowboth=1042,re.arrowleft=987,re.arrowup=603,re.arrowright=987,re.arrowdown=603,re.degree=400,re.plusminus=549,re.second=411,re.greaterequal=549,re.multiply=549,re.proportional=713,re.partialdiff=494,re.bullet=460,re.divide=549,re.notequal=549,re.equivalence=549,re.approxequal=549,re.ellipsis=1e3,re.arrowvertex=603,re.arrowhorizex=1e3,re.carriagereturn=658,re.aleph=823,re.Ifraktur=686,re.Rfraktur=795,re.weierstrass=987,re.circlemultiply=768,re.circleplus=768,re.emptyset=823,re.intersection=768,re.union=768,re.propersuperset=713,re.reflexsuperset=713,re.notsubset=713,re.propersubset=713,re.reflexsubset=713,re.element=713,re.notelement=713,re.angle=768,re.gradient=713,re.registerserif=790,re.copyrightserif=790,re.trademarkserif=890,re.product=823,re.radical=549,re.dotmath=250,re.logicalnot=713,re.logicaland=603,re.logicalor=603,re.arrowdblboth=1042,re.arrowdblleft=987,re.arrowdblup=603,re.arrowdblright=987,re.arrowdbldown=603,re.lozenge=494,re.angleleft=329,re.registersans=790,re.copyrightsans=790,re.trademarksans=786,re.summation=713,re.parenlefttp=384,re.parenleftex=384,re.parenleftbt=384,re.bracketlefttp=384,re.bracketleftex=384,re.bracketleftbt=384,re.bracelefttp=494,re.braceleftmid=494,re.braceleftbt=494,re.braceex=494,re.angleright=329,re.integral=274,re.integraltp=686,re.integralex=686,re.integralbt=686,re.parenrighttp=384,re.parenrightex=384,re.parenrightbt=384,re.bracketrighttp=384,re.bracketrightex=384,re.bracketrightbt=384,re.bracerighttp=494,re.bracerightmid=494,re.bracerightbt=494,re.apple=790}),pe["Times-Roman"]=(0,ae.getLookupTableFactory)(function(re){re.space=250,re.exclam=333,re.quotedbl=408,re.numbersign=500,re.dollar=500,re.percent=833,re.ampersand=778,re.quoteright=333,re.parenleft=333,re.parenright=333,re.asterisk=500,re.plus=564,re.comma=250,re.hyphen=333,re.period=250,re.slash=278,re.zero=500,re.one=500,re.two=500,re.three=500,re.four=500,re.five=500,re.six=500,re.seven=500,re.eight=500,re.nine=500,re.colon=278,re.semicolon=278,re.less=564,re.equal=564,re.greater=564,re.question=444,re.at=921,re.A=722,re.B=667,re.C=667,re.D=722,re.E=611,re.F=556,re.G=722,re.H=722,re.I=333,re.J=389,re.K=722,re.L=611,re.M=889,re.N=722,re.O=722,re.P=556,re.Q=722,re.R=667,re.S=556,re.T=611,re.U=722,re.V=722,re.W=944,re.X=722,re.Y=722,re.Z=611,re.bracketleft=333,re.backslash=278,re.bracketright=333,re.asciicircum=469,re.underscore=500,re.quoteleft=333,re.a=444,re.b=500,re.c=444,re.d=500,re.e=444,re.f=333,re.g=500,re.h=500,re.i=278,re.j=278,re.k=500,re.l=278,re.m=778,re.n=500,re.o=500,re.p=500,re.q=500,re.r=333,re.s=389,re.t=278,re.u=500,re.v=500,re.w=722,re.x=500,re.y=500,re.z=444,re.braceleft=480,re.bar=200,re.braceright=480,re.asciitilde=541,re.exclamdown=333,re.cent=500,re.sterling=500,re.fraction=167,re.yen=500,re.florin=500,re.section=500,re.currency=500,re.quotesingle=180,re.quotedblleft=444,re.guillemotleft=500,re.guilsinglleft=333,re.guilsinglright=333,re.fi=556,re.fl=556,re.endash=500,re.dagger=500,re.daggerdbl=500,re.periodcentered=250,re.paragraph=453,re.bullet=350,re.quotesinglbase=333,re.quotedblbase=444,re.quotedblright=444,re.guillemotright=500,re.ellipsis=1e3,re.perthousand=1e3,re.questiondown=444,re.grave=333,re.acute=333,re.circumflex=333,re.tilde=333,re.macron=333,re.breve=333,re.dotaccent=333,re.dieresis=333,re.ring=333,re.cedilla=333,re.hungarumlaut=333,re.ogonek=333,re.caron=333,re.emdash=1e3,re.AE=889,re.ordfeminine=276,re.Lslash=611,re.Oslash=722,re.OE=889,re.ordmasculine=310,re.ae=667,re.dotlessi=278,re.lslash=278,re.oslash=500,re.oe=722,re.germandbls=500,re.Idieresis=333,re.eacute=444,re.abreve=444,re.uhungarumlaut=500,re.ecaron=444,re.Ydieresis=722,re.divide=564,re.Yacute=722,re.Acircumflex=722,re.aacute=444,re.Ucircumflex=722,re.yacute=500,re.scommaaccent=389,re.ecircumflex=444,re.Uring=722,re.Udieresis=722,re.aogonek=444,re.Uacute=722,re.uogonek=500,re.Edieresis=611,re.Dcroat=722,re.commaaccent=250,re.copyright=760,re.Emacron=611,re.ccaron=444,re.aring=444,re.Ncommaaccent=722,re.lacute=278,re.agrave=444,re.Tcommaaccent=611,re.Cacute=667,re.atilde=444,re.Edotaccent=611,re.scaron=389,re.scedilla=389,re.iacute=278,re.lozenge=471,re.Rcaron=667,re.Gcommaaccent=722,re.ucircumflex=500,re.acircumflex=444,re.Amacron=722,re.rcaron=333,re.ccedilla=444,re.Zdotaccent=611,re.Thorn=556,re.Omacron=722,re.Racute=667,re.Sacute=556,re.dcaron=588,re.Umacron=722,re.uring=500,re.threesuperior=300,re.Ograve=722,re.Agrave=722,re.Abreve=722,re.multiply=564,re.uacute=500,re.Tcaron=611,re.partialdiff=476,re.ydieresis=500,re.Nacute=722,re.icircumflex=278,re.Ecircumflex=611,re.adieresis=444,re.edieresis=444,re.cacute=444,re.nacute=500,re.umacron=500,re.Ncaron=722,re.Iacute=333,re.plusminus=564,re.brokenbar=200,re.registered=760,re.Gbreve=722,re.Idotaccent=333,re.summation=600,re.Egrave=611,re.racute=333,re.omacron=500,re.Zacute=611,re.Zcaron=611,re.greaterequal=549,re.Eth=722,re.Ccedilla=667,re.lcommaaccent=278,re.tcaron=326,re.eogonek=444,re.Uogonek=722,re.Aacute=722,re.Adieresis=722,re.egrave=444,re.zacute=444,re.iogonek=278,re.Oacute=722,re.oacute=500,re.amacron=444,re.sacute=389,re.idieresis=278,re.Ocircumflex=722,re.Ugrave=722,re.Delta=612,re.thorn=500,re.twosuperior=300,re.Odieresis=722,re.mu=500,re.igrave=278,re.ohungarumlaut=500,re.Eogonek=611,re.dcroat=500,re.threequarters=750,re.Scedilla=556,re.lcaron=344,re.Kcommaaccent=722,re.Lacute=611,re.trademark=980,re.edotaccent=444,re.Igrave=333,re.Imacron=333,re.Lcaron=611,re.onehalf=750,re.lessequal=549,re.ocircumflex=500,re.ntilde=500,re.Uhungarumlaut=722,re.Eacute=611,re.emacron=444,re.gbreve=500,re.onequarter=750,re.Scaron=556,re.Scommaaccent=556,re.Ohungarumlaut=722,re.degree=400,re.ograve=500,re.Ccaron=667,re.ugrave=500,re.radical=453,re.Dcaron=722,re.rcommaaccent=333,re.Ntilde=722,re.otilde=500,re.Rcommaaccent=667,re.Lcommaaccent=611,re.Atilde=722,re.Aogonek=722,re.Aring=722,re.Otilde=722,re.zdotaccent=444,re.Ecaron=611,re.Iogonek=333,re.kcommaaccent=500,re.minus=564,re.Icircumflex=333,re.ncaron=500,re.tcommaaccent=278,re.logicalnot=564,re.odieresis=500,re.udieresis=500,re.notequal=549,re.gcommaaccent=500,re.eth=500,re.zcaron=444,re.ncommaaccent=500,re.onesuperior=300,re.imacron=278,re.Euro=500}),pe["Times-Bold"]=(0,ae.getLookupTableFactory)(function(re){re.space=250,re.exclam=333,re.quotedbl=555,re.numbersign=500,re.dollar=500,re.percent=1e3,re.ampersand=833,re.quoteright=333,re.parenleft=333,re.parenright=333,re.asterisk=500,re.plus=570,re.comma=250,re.hyphen=333,re.period=250,re.slash=278,re.zero=500,re.one=500,re.two=500,re.three=500,re.four=500,re.five=500,re.six=500,re.seven=500,re.eight=500,re.nine=500,re.colon=333,re.semicolon=333,re.less=570,re.equal=570,re.greater=570,re.question=500,re.at=930,re.A=722,re.B=667,re.C=722,re.D=722,re.E=667,re.F=611,re.G=778,re.H=778,re.I=389,re.J=500,re.K=778,re.L=667,re.M=944,re.N=722,re.O=778,re.P=611,re.Q=778,re.R=722,re.S=556,re.T=667,re.U=722,re.V=722,re.W=1e3,re.X=722,re.Y=722,re.Z=667,re.bracketleft=333,re.backslash=278,re.bracketright=333,re.asciicircum=581,re.underscore=500,re.quoteleft=333,re.a=500,re.b=556,re.c=444,re.d=556,re.e=444,re.f=333,re.g=500,re.h=556,re.i=278,re.j=333,re.k=556,re.l=278,re.m=833,re.n=556,re.o=500,re.p=556,re.q=556,re.r=444,re.s=389,re.t=333,re.u=556,re.v=500,re.w=722,re.x=500,re.y=500,re.z=444,re.braceleft=394,re.bar=220,re.braceright=394,re.asciitilde=520,re.exclamdown=333,re.cent=500,re.sterling=500,re.fraction=167,re.yen=500,re.florin=500,re.section=500,re.currency=500,re.quotesingle=278,re.quotedblleft=500,re.guillemotleft=500,re.guilsinglleft=333,re.guilsinglright=333,re.fi=556,re.fl=556,re.endash=500,re.dagger=500,re.daggerdbl=500,re.periodcentered=250,re.paragraph=540,re.bullet=350,re.quotesinglbase=333,re.quotedblbase=500,re.quotedblright=500,re.guillemotright=500,re.ellipsis=1e3,re.perthousand=1e3,re.questiondown=500,re.grave=333,re.acute=333,re.circumflex=333,re.tilde=333,re.macron=333,re.breve=333,re.dotaccent=333,re.dieresis=333,re.ring=333,re.cedilla=333,re.hungarumlaut=333,re.ogonek=333,re.caron=333,re.emdash=1e3,re.AE=1e3,re.ordfeminine=300,re.Lslash=667,re.Oslash=778,re.OE=1e3,re.ordmasculine=330,re.ae=722,re.dotlessi=278,re.lslash=278,re.oslash=500,re.oe=722,re.germandbls=556,re.Idieresis=389,re.eacute=444,re.abreve=500,re.uhungarumlaut=556,re.ecaron=444,re.Ydieresis=722,re.divide=570,re.Yacute=722,re.Acircumflex=722,re.aacute=500,re.Ucircumflex=722,re.yacute=500,re.scommaaccent=389,re.ecircumflex=444,re.Uring=722,re.Udieresis=722,re.aogonek=500,re.Uacute=722,re.uogonek=556,re.Edieresis=667,re.Dcroat=722,re.commaaccent=250,re.copyright=747,re.Emacron=667,re.ccaron=444,re.aring=500,re.Ncommaaccent=722,re.lacute=278,re.agrave=500,re.Tcommaaccent=667,re.Cacute=722,re.atilde=500,re.Edotaccent=667,re.scaron=389,re.scedilla=389,re.iacute=278,re.lozenge=494,re.Rcaron=722,re.Gcommaaccent=778,re.ucircumflex=556,re.acircumflex=500,re.Amacron=722,re.rcaron=444,re.ccedilla=444,re.Zdotaccent=667,re.Thorn=611,re.Omacron=778,re.Racute=722,re.Sacute=556,re.dcaron=672,re.Umacron=722,re.uring=556,re.threesuperior=300,re.Ograve=778,re.Agrave=722,re.Abreve=722,re.multiply=570,re.uacute=556,re.Tcaron=667,re.partialdiff=494,re.ydieresis=500,re.Nacute=722,re.icircumflex=278,re.Ecircumflex=667,re.adieresis=500,re.edieresis=444,re.cacute=444,re.nacute=556,re.umacron=556,re.Ncaron=722,re.Iacute=389,re.plusminus=570,re.brokenbar=220,re.registered=747,re.Gbreve=778,re.Idotaccent=389,re.summation=600,re.Egrave=667,re.racute=444,re.omacron=500,re.Zacute=667,re.Zcaron=667,re.greaterequal=549,re.Eth=722,re.Ccedilla=722,re.lcommaaccent=278,re.tcaron=416,re.eogonek=444,re.Uogonek=722,re.Aacute=722,re.Adieresis=722,re.egrave=444,re.zacute=444,re.iogonek=278,re.Oacute=778,re.oacute=500,re.amacron=500,re.sacute=389,re.idieresis=278,re.Ocircumflex=778,re.Ugrave=722,re.Delta=612,re.thorn=556,re.twosuperior=300,re.Odieresis=778,re.mu=556,re.igrave=278,re.ohungarumlaut=500,re.Eogonek=667,re.dcroat=556,re.threequarters=750,re.Scedilla=556,re.lcaron=394,re.Kcommaaccent=778,re.Lacute=667,re.trademark=1e3,re.edotaccent=444,re.Igrave=389,re.Imacron=389,re.Lcaron=667,re.onehalf=750,re.lessequal=549,re.ocircumflex=500,re.ntilde=556,re.Uhungarumlaut=722,re.Eacute=667,re.emacron=444,re.gbreve=500,re.onequarter=750,re.Scaron=556,re.Scommaaccent=556,re.Ohungarumlaut=778,re.degree=400,re.ograve=500,re.Ccaron=722,re.ugrave=556,re.radical=549,re.Dcaron=722,re.rcommaaccent=444,re.Ntilde=722,re.otilde=500,re.Rcommaaccent=722,re.Lcommaaccent=667,re.Atilde=722,re.Aogonek=722,re.Aring=722,re.Otilde=778,re.zdotaccent=444,re.Ecaron=667,re.Iogonek=389,re.kcommaaccent=556,re.minus=570,re.Icircumflex=389,re.ncaron=556,re.tcommaaccent=333,re.logicalnot=570,re.odieresis=500,re.udieresis=556,re.notequal=549,re.gcommaaccent=500,re.eth=500,re.zcaron=444,re.ncommaaccent=556,re.onesuperior=300,re.imacron=278,re.Euro=500}),pe["Times-BoldItalic"]=(0,ae.getLookupTableFactory)(function(re){re.space=250,re.exclam=389,re.quotedbl=555,re.numbersign=500,re.dollar=500,re.percent=833,re.ampersand=778,re.quoteright=333,re.parenleft=333,re.parenright=333,re.asterisk=500,re.plus=570,re.comma=250,re.hyphen=333,re.period=250,re.slash=278,re.zero=500,re.one=500,re.two=500,re.three=500,re.four=500,re.five=500,re.six=500,re.seven=500,re.eight=500,re.nine=500,re.colon=333,re.semicolon=333,re.less=570,re.equal=570,re.greater=570,re.question=500,re.at=832,re.A=667,re.B=667,re.C=667,re.D=722,re.E=667,re.F=667,re.G=722,re.H=778,re.I=389,re.J=500,re.K=667,re.L=611,re.M=889,re.N=722,re.O=722,re.P=611,re.Q=722,re.R=667,re.S=556,re.T=611,re.U=722,re.V=667,re.W=889,re.X=667,re.Y=611,re.Z=611,re.bracketleft=333,re.backslash=278,re.bracketright=333,re.asciicircum=570,re.underscore=500,re.quoteleft=333,re.a=500,re.b=500,re.c=444,re.d=500,re.e=444,re.f=333,re.g=500,re.h=556,re.i=278,re.j=278,re.k=500,re.l=278,re.m=778,re.n=556,re.o=500,re.p=500,re.q=500,re.r=389,re.s=389,re.t=278,re.u=556,re.v=444,re.w=667,re.x=500,re.y=444,re.z=389,re.braceleft=348,re.bar=220,re.braceright=348,re.asciitilde=570,re.exclamdown=389,re.cent=500,re.sterling=500,re.fraction=167,re.yen=500,re.florin=500,re.section=500,re.currency=500,re.quotesingle=278,re.quotedblleft=500,re.guillemotleft=500,re.guilsinglleft=333,re.guilsinglright=333,re.fi=556,re.fl=556,re.endash=500,re.dagger=500,re.daggerdbl=500,re.periodcentered=250,re.paragraph=500,re.bullet=350,re.quotesinglbase=333,re.quotedblbase=500,re.quotedblright=500,re.guillemotright=500,re.ellipsis=1e3,re.perthousand=1e3,re.questiondown=500,re.grave=333,re.acute=333,re.circumflex=333,re.tilde=333,re.macron=333,re.breve=333,re.dotaccent=333,re.dieresis=333,re.ring=333,re.cedilla=333,re.hungarumlaut=333,re.ogonek=333,re.caron=333,re.emdash=1e3,re.AE=944,re.ordfeminine=266,re.Lslash=611,re.Oslash=722,re.OE=944,re.ordmasculine=300,re.ae=722,re.dotlessi=278,re.lslash=278,re.oslash=500,re.oe=722,re.germandbls=500,re.Idieresis=389,re.eacute=444,re.abreve=500,re.uhungarumlaut=556,re.ecaron=444,re.Ydieresis=611,re.divide=570,re.Yacute=611,re.Acircumflex=667,re.aacute=500,re.Ucircumflex=722,re.yacute=444,re.scommaaccent=389,re.ecircumflex=444,re.Uring=722,re.Udieresis=722,re.aogonek=500,re.Uacute=722,re.uogonek=556,re.Edieresis=667,re.Dcroat=722,re.commaaccent=250,re.copyright=747,re.Emacron=667,re.ccaron=444,re.aring=500,re.Ncommaaccent=722,re.lacute=278,re.agrave=500,re.Tcommaaccent=611,re.Cacute=667,re.atilde=500,re.Edotaccent=667,re.scaron=389,re.scedilla=389,re.iacute=278,re.lozenge=494,re.Rcaron=667,re.Gcommaaccent=722,re.ucircumflex=556,re.acircumflex=500,re.Amacron=667,re.rcaron=389,re.ccedilla=444,re.Zdotaccent=611,re.Thorn=611,re.Omacron=722,re.Racute=667,re.Sacute=556,re.dcaron=608,re.Umacron=722,re.uring=556,re.threesuperior=300,re.Ograve=722,re.Agrave=667,re.Abreve=667,re.multiply=570,re.uacute=556,re.Tcaron=611,re.partialdiff=494,re.ydieresis=444,re.Nacute=722,re.icircumflex=278,re.Ecircumflex=667,re.adieresis=500,re.edieresis=444,re.cacute=444,re.nacute=556,re.umacron=556,re.Ncaron=722,re.Iacute=389,re.plusminus=570,re.brokenbar=220,re.registered=747,re.Gbreve=722,re.Idotaccent=389,re.summation=600,re.Egrave=667,re.racute=389,re.omacron=500,re.Zacute=611,re.Zcaron=611,re.greaterequal=549,re.Eth=722,re.Ccedilla=667,re.lcommaaccent=278,re.tcaron=366,re.eogonek=444,re.Uogonek=722,re.Aacute=667,re.Adieresis=667,re.egrave=444,re.zacute=389,re.iogonek=278,re.Oacute=722,re.oacute=500,re.amacron=500,re.sacute=389,re.idieresis=278,re.Ocircumflex=722,re.Ugrave=722,re.Delta=612,re.thorn=500,re.twosuperior=300,re.Odieresis=722,re.mu=576,re.igrave=278,re.ohungarumlaut=500,re.Eogonek=667,re.dcroat=500,re.threequarters=750,re.Scedilla=556,re.lcaron=382,re.Kcommaaccent=667,re.Lacute=611,re.trademark=1e3,re.edotaccent=444,re.Igrave=389,re.Imacron=389,re.Lcaron=611,re.onehalf=750,re.lessequal=549,re.ocircumflex=500,re.ntilde=556,re.Uhungarumlaut=722,re.Eacute=667,re.emacron=444,re.gbreve=500,re.onequarter=750,re.Scaron=556,re.Scommaaccent=556,re.Ohungarumlaut=722,re.degree=400,re.ograve=500,re.Ccaron=667,re.ugrave=556,re.radical=549,re.Dcaron=722,re.rcommaaccent=389,re.Ntilde=722,re.otilde=500,re.Rcommaaccent=667,re.Lcommaaccent=611,re.Atilde=667,re.Aogonek=667,re.Aring=667,re.Otilde=722,re.zdotaccent=389,re.Ecaron=667,re.Iogonek=389,re.kcommaaccent=500,re.minus=606,re.Icircumflex=389,re.ncaron=556,re.tcommaaccent=278,re.logicalnot=606,re.odieresis=500,re.udieresis=556,re.notequal=549,re.gcommaaccent=500,re.eth=500,re.zcaron=389,re.ncommaaccent=556,re.onesuperior=300,re.imacron=278,re.Euro=500}),pe["Times-Italic"]=(0,ae.getLookupTableFactory)(function(re){re.space=250,re.exclam=333,re.quotedbl=420,re.numbersign=500,re.dollar=500,re.percent=833,re.ampersand=778,re.quoteright=333,re.parenleft=333,re.parenright=333,re.asterisk=500,re.plus=675,re.comma=250,re.hyphen=333,re.period=250,re.slash=278,re.zero=500,re.one=500,re.two=500,re.three=500,re.four=500,re.five=500,re.six=500,re.seven=500,re.eight=500,re.nine=500,re.colon=333,re.semicolon=333,re.less=675,re.equal=675,re.greater=675,re.question=500,re.at=920,re.A=611,re.B=611,re.C=667,re.D=722,re.E=611,re.F=611,re.G=722,re.H=722,re.I=333,re.J=444,re.K=667,re.L=556,re.M=833,re.N=667,re.O=722,re.P=611,re.Q=722,re.R=611,re.S=500,re.T=556,re.U=722,re.V=611,re.W=833,re.X=611,re.Y=556,re.Z=556,re.bracketleft=389,re.backslash=278,re.bracketright=389,re.asciicircum=422,re.underscore=500,re.quoteleft=333,re.a=500,re.b=500,re.c=444,re.d=500,re.e=444,re.f=278,re.g=500,re.h=500,re.i=278,re.j=278,re.k=444,re.l=278,re.m=722,re.n=500,re.o=500,re.p=500,re.q=500,re.r=389,re.s=389,re.t=278,re.u=500,re.v=444,re.w=667,re.x=444,re.y=444,re.z=389,re.braceleft=400,re.bar=275,re.braceright=400,re.asciitilde=541,re.exclamdown=389,re.cent=500,re.sterling=500,re.fraction=167,re.yen=500,re.florin=500,re.section=500,re.currency=500,re.quotesingle=214,re.quotedblleft=556,re.guillemotleft=500,re.guilsinglleft=333,re.guilsinglright=333,re.fi=500,re.fl=500,re.endash=500,re.dagger=500,re.daggerdbl=500,re.periodcentered=250,re.paragraph=523,re.bullet=350,re.quotesinglbase=333,re.quotedblbase=556,re.quotedblright=556,re.guillemotright=500,re.ellipsis=889,re.perthousand=1e3,re.questiondown=500,re.grave=333,re.acute=333,re.circumflex=333,re.tilde=333,re.macron=333,re.breve=333,re.dotaccent=333,re.dieresis=333,re.ring=333,re.cedilla=333,re.hungarumlaut=333,re.ogonek=333,re.caron=333,re.emdash=889,re.AE=889,re.ordfeminine=276,re.Lslash=556,re.Oslash=722,re.OE=944,re.ordmasculine=310,re.ae=667,re.dotlessi=278,re.lslash=278,re.oslash=500,re.oe=667,re.germandbls=500,re.Idieresis=333,re.eacute=444,re.abreve=500,re.uhungarumlaut=500,re.ecaron=444,re.Ydieresis=556,re.divide=675,re.Yacute=556,re.Acircumflex=611,re.aacute=500,re.Ucircumflex=722,re.yacute=444,re.scommaaccent=389,re.ecircumflex=444,re.Uring=722,re.Udieresis=722,re.aogonek=500,re.Uacute=722,re.uogonek=500,re.Edieresis=611,re.Dcroat=722,re.commaaccent=250,re.copyright=760,re.Emacron=611,re.ccaron=444,re.aring=500,re.Ncommaaccent=667,re.lacute=278,re.agrave=500,re.Tcommaaccent=556,re.Cacute=667,re.atilde=500,re.Edotaccent=611,re.scaron=389,re.scedilla=389,re.iacute=278,re.lozenge=471,re.Rcaron=611,re.Gcommaaccent=722,re.ucircumflex=500,re.acircumflex=500,re.Amacron=611,re.rcaron=389,re.ccedilla=444,re.Zdotaccent=556,re.Thorn=611,re.Omacron=722,re.Racute=611,re.Sacute=500,re.dcaron=544,re.Umacron=722,re.uring=500,re.threesuperior=300,re.Ograve=722,re.Agrave=611,re.Abreve=611,re.multiply=675,re.uacute=500,re.Tcaron=556,re.partialdiff=476,re.ydieresis=444,re.Nacute=667,re.icircumflex=278,re.Ecircumflex=611,re.adieresis=500,re.edieresis=444,re.cacute=444,re.nacute=500,re.umacron=500,re.Ncaron=667,re.Iacute=333,re.plusminus=675,re.brokenbar=275,re.registered=760,re.Gbreve=722,re.Idotaccent=333,re.summation=600,re.Egrave=611,re.racute=389,re.omacron=500,re.Zacute=556,re.Zcaron=556,re.greaterequal=549,re.Eth=722,re.Ccedilla=667,re.lcommaaccent=278,re.tcaron=300,re.eogonek=444,re.Uogonek=722,re.Aacute=611,re.Adieresis=611,re.egrave=444,re.zacute=389,re.iogonek=278,re.Oacute=722,re.oacute=500,re.amacron=500,re.sacute=389,re.idieresis=278,re.Ocircumflex=722,re.Ugrave=722,re.Delta=612,re.thorn=500,re.twosuperior=300,re.Odieresis=722,re.mu=500,re.igrave=278,re.ohungarumlaut=500,re.Eogonek=611,re.dcroat=500,re.threequarters=750,re.Scedilla=500,re.lcaron=300,re.Kcommaaccent=667,re.Lacute=556,re.trademark=980,re.edotaccent=444,re.Igrave=333,re.Imacron=333,re.Lcaron=611,re.onehalf=750,re.lessequal=549,re.ocircumflex=500,re.ntilde=500,re.Uhungarumlaut=722,re.Eacute=611,re.emacron=444,re.gbreve=500,re.onequarter=750,re.Scaron=500,re.Scommaaccent=500,re.Ohungarumlaut=722,re.degree=400,re.ograve=500,re.Ccaron=667,re.ugrave=500,re.radical=453,re.Dcaron=722,re.rcommaaccent=389,re.Ntilde=667,re.otilde=500,re.Rcommaaccent=611,re.Lcommaaccent=556,re.Atilde=611,re.Aogonek=611,re.Aring=611,re.Otilde=722,re.zdotaccent=389,re.Ecaron=611,re.Iogonek=333,re.kcommaaccent=444,re.minus=675,re.Icircumflex=333,re.ncaron=500,re.tcommaaccent=278,re.logicalnot=675,re.odieresis=500,re.udieresis=500,re.notequal=549,re.gcommaaccent=500,re.eth=500,re.zcaron=389,re.ncommaaccent=500,re.onesuperior=300,re.imacron=278,re.Euro=500}),pe.ZapfDingbats=(0,ae.getLookupTableFactory)(function(re){re.space=278,re.a1=974,re.a2=961,re.a202=974,re.a3=980,re.a4=719,re.a5=789,re.a119=790,re.a118=791,re.a117=690,re.a11=960,re.a12=939,re.a13=549,re.a14=855,re.a15=911,re.a16=933,re.a105=911,re.a17=945,re.a18=974,re.a19=755,re.a20=846,re.a21=762,re.a22=761,re.a23=571,re.a24=677,re.a25=763,re.a26=760,re.a27=759,re.a28=754,re.a6=494,re.a7=552,re.a8=537,re.a9=577,re.a10=692,re.a29=786,re.a30=788,re.a31=788,re.a32=790,re.a33=793,re.a34=794,re.a35=816,re.a36=823,re.a37=789,re.a38=841,re.a39=823,re.a40=833,re.a41=816,re.a42=831,re.a43=923,re.a44=744,re.a45=723,re.a46=749,re.a47=790,re.a48=792,re.a49=695,re.a50=776,re.a51=768,re.a52=792,re.a53=759,re.a54=707,re.a55=708,re.a56=682,re.a57=701,re.a58=826,re.a59=815,re.a60=789,re.a61=789,re.a62=707,re.a63=687,re.a64=696,re.a65=689,re.a66=786,re.a67=787,re.a68=713,re.a69=791,re.a70=785,re.a71=791,re.a72=873,re.a73=761,re.a74=762,re.a203=762,re.a75=759,re.a204=759,re.a76=892,re.a77=892,re.a78=788,re.a79=784,re.a81=438,re.a82=138,re.a83=277,re.a84=415,re.a97=392,re.a98=392,re.a99=668,re.a100=668,re.a89=390,re.a90=390,re.a93=317,re.a94=317,re.a91=276,re.a92=276,re.a205=509,re.a85=509,re.a206=410,re.a86=410,re.a87=234,re.a88=234,re.a95=334,re.a96=334,re.a101=732,re.a102=544,re.a103=544,re.a104=910,re.a106=667,re.a107=760,re.a108=760,re.a112=776,re.a111=595,re.a110=694,re.a109=626,re.a120=788,re.a121=788,re.a122=788,re.a123=788,re.a124=788,re.a125=788,re.a126=788,re.a127=788,re.a128=788,re.a129=788,re.a130=788,re.a131=788,re.a132=788,re.a133=788,re.a134=788,re.a135=788,re.a136=788,re.a137=788,re.a138=788,re.a139=788,re.a140=788,re.a141=788,re.a142=788,re.a143=788,re.a144=788,re.a145=788,re.a146=788,re.a147=788,re.a148=788,re.a149=788,re.a150=788,re.a151=788,re.a152=788,re.a153=788,re.a154=788,re.a155=788,re.a156=788,re.a157=788,re.a158=788,re.a159=788,re.a160=894,re.a161=838,re.a163=1016,re.a164=458,re.a196=748,re.a165=924,re.a192=748,re.a166=918,re.a167=927,re.a168=928,re.a169=928,re.a170=834,re.a171=873,re.a172=828,re.a173=924,re.a162=924,re.a174=917,re.a175=930,re.a176=931,re.a177=463,re.a178=883,re.a179=836,re.a193=836,re.a180=867,re.a199=867,re.a181=696,re.a200=696,re.a182=874,re.a201=874,re.a183=760,re.a184=946,re.a197=771,re.a185=865,re.a194=771,re.a198=888,re.a186=967,re.a195=888,re.a187=831,re.a188=873,re.a189=927,re.a190=970,re.a191=918})});oe.getMetrics=he;const de=(0,ae.getLookupTableFactory)(function(pe){pe.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},pe["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},pe["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},pe["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},pe.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},pe["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},pe["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},pe["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},pe["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},pe["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},pe["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},pe["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},pe.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},pe.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}});oe.getFontBasicMetrics=de},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.GlyfTable=void 0;const ce=1,ae=2,he=4,de=8,pe=16,re=32,Ae=64,ge=1,Se=2,fe=8,be=32,xe=64,ue=128,we=256;class Fe{constructor({glyfTable:ke,isGlyphLocationsLong:$e,locaTable:Be,numGlyphs:Pe}){this.glyphs=[];const Ue=new DataView(Be.buffer,Be.byteOffset,Be.byteLength),Te=new DataView(ke.buffer,ke.byteOffset,ke.byteLength),Me=$e?4:2;let Ve=$e?Ue.getUint32(0):2*Ue.getUint16(0),He=0;for(let Ie=0;Ie<Pe;Ie++){He+=Me;const Le=$e?Ue.getUint32(He):2*Ue.getUint16(He);if(Le===Ve){this.glyphs.push(new _e({}));continue}const Oe=_e.parse(Ve,Te);this.glyphs.push(Oe),Ve=Le}}getSize(){return this.glyphs.reduce((ke,$e)=>{const Be=$e.getSize();return ke+(Be+3&-4)},0)}write(){const ke=this.getSize(),$e=new DataView(new ArrayBuffer(ke)),Be=ke>131070,Pe=Be?4:2,Ue=new DataView(new ArrayBuffer((this.glyphs.length+1)*Pe));Be?Ue.setUint32(0,0):Ue.setUint16(0,0);let Te=0,Me=0;for(const Ve of this.glyphs)Te+=Ve.write(Te,$e),Te=Te+3&-4,Me+=Pe,Be?Ue.setUint32(Me,Te):Ue.setUint16(Me,Te>>1);return{isLocationLong:Be,loca:new Uint8Array(Ue.buffer),glyf:new Uint8Array($e.buffer)}}scale(ke){for(let $e=0,Be=this.glyphs.length;$e<Be;$e++)this.glyphs[$e].scale(ke[$e])}}oe.GlyfTable=Fe;class _e{constructor({header:ke=null,simple:$e=null,composites:Be=null}){this.header=ke,this.simple=$e,this.composites=Be}static parse(ke,$e){const[Be,Pe]=Ee.parse(ke,$e);if(ke+=Be,Pe.numberOfContours<0){const Te=[];for(;;){const[Me,Ve]=Re.parse(ke,$e);if(ke+=Me,Te.push(Ve),!(Ve.flags&be))break}return new _e({header:Pe,composites:Te})}const Ue=ye.parse(ke,$e,Pe.numberOfContours);return new _e({header:Pe,simple:Ue})}getSize(){if(!this.header)return 0;const ke=this.simple?this.simple.getSize():this.composites.reduce(($e,Be)=>$e+Be.getSize(),0);return this.header.getSize()+ke}write(ke,$e){if(!this.header)return 0;const Be=ke;if(ke+=this.header.write(ke,$e),this.simple)ke+=this.simple.write(ke,$e);else for(const Pe of this.composites)ke+=Pe.write(ke,$e);return ke-Be}scale(ke){if(!this.header)return;const $e=(this.header.xMin+this.header.xMax)/2;if(this.header.scale($e,ke),this.simple)this.simple.scale($e,ke);else for(const Be of this.composites)Be.scale($e,ke)}}class Ee{constructor({numberOfContours:ke,xMin:$e,yMin:Be,xMax:Pe,yMax:Ue}){this.numberOfContours=ke,this.xMin=$e,this.yMin=Be,this.xMax=Pe,this.yMax=Ue}static parse(ke,$e){return[10,new Ee({numberOfContours:$e.getInt16(ke),xMin:$e.getInt16(ke+2),yMin:$e.getInt16(ke+4),xMax:$e.getInt16(ke+6),yMax:$e.getInt16(ke+8)})]}getSize(){return 10}write(ke,$e){return $e.setInt16(ke,this.numberOfContours),$e.setInt16(ke+2,this.xMin),$e.setInt16(ke+4,this.yMin),$e.setInt16(ke+6,this.xMax),$e.setInt16(ke+8,this.yMax),10}scale(ke,$e){this.xMin=Math.round(ke+(this.xMin-ke)*$e),this.xMax=Math.round(ke+(this.xMax-ke)*$e)}}class Ce{constructor({flags:ke,xCoordinates:$e,yCoordinates:Be}){this.xCoordinates=$e,this.yCoordinates=Be,this.flags=ke}}class ye{constructor({contours:ke,instructions:$e}){this.contours=ke,this.instructions=$e}static parse(ke,$e,Be){const Pe=[];for(let tt=0;tt<Be;tt++){const Xe=$e.getUint16(ke);ke+=2,Pe.push(Xe)}const Ue=Pe[Be-1]+1,Te=$e.getUint16(ke);ke+=2;const Me=new Uint8Array($e).slice(ke,ke+Te);ke+=Te;const Ve=[];for(let tt=0;tt<Ue;ke++,tt++){let Xe=$e.getUint8(ke);if(Ve.push(Xe),Xe&de){const Ze=$e.getUint8(++ke);Xe^=de;for(let ot=0;ot<Ze;ot++)Ve.push(Xe);tt+=Ze}}const He=[];let Ie=[],Le=[],Oe=[];const Ne=[];let qe=0,it=0;for(let tt=0;tt<Ue;tt++){const Xe=Ve[tt];if(Xe&ae){const Ze=$e.getUint8(ke++);it+=Xe&pe?Ze:-Ze,Ie.push(it)}else Xe&pe||(it+=$e.getInt16(ke),ke+=2),Ie.push(it);Pe[qe]===tt&&(qe++,He.push(Ie),Ie=[])}it=0,qe=0;for(let tt=0;tt<Ue;tt++){const Xe=Ve[tt];if(Xe&he){const Ze=$e.getUint8(ke++);it+=Xe&re?Ze:-Ze,Le.push(it)}else Xe&re||(it+=$e.getInt16(ke),ke+=2),Le.push(it);Oe.push(Xe&ce|Xe&Ae),Pe[qe]===tt&&(Ie=He[qe],qe++,Ne.push(new Ce({flags:Oe,xCoordinates:Ie,yCoordinates:Le})),Le=[],Oe=[])}return new ye({contours:Ne,instructions:Me})}getSize(){let ke=this.contours.length*2+2+this.instructions.length,$e=0,Be=0;for(const Pe of this.contours){ke+=Pe.flags.length;for(let Ue=0,Te=Pe.xCoordinates.length;Ue<Te;Ue++){const Me=Pe.xCoordinates[Ue],Ve=Pe.yCoordinates[Ue];let He=Math.abs(Me-$e);He>255?ke+=2:He>0&&(ke+=1),$e=Me,He=Math.abs(Ve-Be),He>255?ke+=2:He>0&&(ke+=1),Be=Ve}}return ke}write(ke,$e){const Be=ke,Pe=[],Ue=[],Te=[];let Me=0,Ve=0;for(const He of this.contours){for(let Ie=0,Le=He.xCoordinates.length;Ie<Le;Ie++){let Oe=He.flags[Ie];const Ne=He.xCoordinates[Ie];let qe=Ne-Me;if(qe===0)Oe|=pe,Pe.push(0);else{const tt=Math.abs(qe);tt<=255?(Oe|=qe>=0?ae|pe:ae,Pe.push(tt)):Pe.push(qe)}Me=Ne;const it=He.yCoordinates[Ie];if(qe=it-Ve,qe===0)Oe|=re,Ue.push(0);else{const tt=Math.abs(qe);tt<=255?(Oe|=qe>=0?he|re:he,Ue.push(tt)):Ue.push(qe)}Ve=it,Te.push(Oe)}$e.setUint16(ke,Pe.length-1),ke+=2}$e.setUint16(ke,this.instructions.length),ke+=2,this.instructions.length&&(new Uint8Array($e.buffer,0,$e.buffer.byteLength).set(this.instructions,ke),ke+=this.instructions.length);for(const He of Te)$e.setUint8(ke++,He);for(let He=0,Ie=Pe.length;He<Ie;He++){const Le=Pe[He],Oe=Te[He];Oe&ae?$e.setUint8(ke++,Le):Oe&pe||($e.setInt16(ke,Le),ke+=2)}for(let He=0,Ie=Ue.length;He<Ie;He++){const Le=Ue[He],Oe=Te[He];Oe&he?$e.setUint8(ke++,Le):Oe&re||($e.setInt16(ke,Le),ke+=2)}return ke-Be}scale(ke,$e){for(const Be of this.contours)if(Be.xCoordinates.length!==0)for(let Pe=0,Ue=Be.xCoordinates.length;Pe<Ue;Pe++)Be.xCoordinates[Pe]=Math.round(ke+(Be.xCoordinates[Pe]-ke)*$e)}}class Re{constructor({flags:ke,glyphIndex:$e,argument1:Be,argument2:Pe,transf:Ue,instructions:Te}){this.flags=ke,this.glyphIndex=$e,this.argument1=Be,this.argument2=Pe,this.transf=Ue,this.instructions=Te}static parse(ke,$e){const Be=ke,Pe=[];let Ue=$e.getUint16(ke);const Te=$e.getUint16(ke+2);ke+=4;let Me,Ve;Ue&ge?(Ue&Se?(Me=$e.getInt16(ke),Ve=$e.getInt16(ke+2)):(Me=$e.getUint16(ke),Ve=$e.getUint16(ke+2)),ke+=4,Ue^=ge):(Ue&Se?(Me=$e.getInt8(ke),Ve=$e.getInt8(ke+1)):(Me=$e.getUint8(ke),Ve=$e.getUint8(ke+1)),ke+=2),Ue&fe?(Pe.push($e.getUint16(ke)),ke+=2):Ue&xe?(Pe.push($e.getUint16(ke),$e.getUint16(ke+2)),ke+=4):Ue&ue&&(Pe.push($e.getUint16(ke),$e.getUint16(ke+2),$e.getUint16(ke+4),$e.getUint16(ke+6)),ke+=8);let He=null;if(Ue&we){const Ie=$e.getUint16(ke);ke+=2,He=new Uint8Array($e).slice(ke,ke+Ie),ke+=Ie}return[ke-Be,new Re({flags:Ue,glyphIndex:Te,argument1:Me,argument2:Ve,transf:Pe,instructions:He})]}getSize(){let ke=4+this.transf.length*2;return this.flags&we&&(ke+=2+this.instructions.length),ke+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(ke+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(ke+=2),ke}write(ke,$e){const Be=ke;return this.flags&Se?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=ge):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=ge),$e.setUint16(ke,this.flags),$e.setUint16(ke+2,this.glyphIndex),ke+=4,this.flags&ge?(this.flags&Se?($e.setInt16(ke,this.argument1),$e.setInt16(ke+2,this.argument2)):($e.setUint16(ke,this.argument1),$e.setUint16(ke+2,this.argument2)),ke+=4):($e.setUint8(ke,this.argument1),$e.setUint8(ke+1,this.argument2),ke+=2),this.flags&we&&($e.setUint16(ke,this.instructions.length),ke+=2,this.instructions.length&&(new Uint8Array($e.buffer,0,$e.buffer.byteLength).set(this.instructions,ke),ke+=this.instructions.length)),ke-Be}scale(ke,$e){}}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.OpenTypeFileBuilder=void 0;var ae=ce(6),he=ce(2);function de(fe,be,xe){fe[be]=xe>>8&255,fe[be+1]=xe&255}function pe(fe,be,xe){fe[be]=xe>>24&255,fe[be+1]=xe>>16&255,fe[be+2]=xe>>8&255,fe[be+3]=xe&255}function re(fe,be,xe){if(xe instanceof Uint8Array)fe.set(xe,be);else if(typeof xe=="string")for(let ue=0,we=xe.length;ue<we;ue++)fe[be++]=xe.charCodeAt(ue)&255;else for(let ue=0,we=xe.length;ue<we;ue++)fe[be++]=xe[ue]&255}const Ae=12,ge=16;class Se{constructor(be){this.sfnt=be,this.tables=Object.create(null)}static getSearchParams(be,xe){let ue=1,we=0;for(;(ue^be)>ue;)ue<<=1,we++;const Fe=ue*xe;return{range:Fe,entry:we,rangeShift:xe*be-Fe}}toArray(){let be=this.sfnt;const xe=this.tables,ue=Object.keys(xe);ue.sort();const we=ue.length;let Fe,_e,Ee,Ce,ye,Re=Ae+we*ge;const Ye=[Re];for(Fe=0;Fe<we;Fe++){Ce=xe[ue[Fe]];const Be=(Ce.length+3&-4)>>>0;Re+=Be,Ye.push(Re)}const ke=new Uint8Array(Re);for(Fe=0;Fe<we;Fe++)Ce=xe[ue[Fe]],re(ke,Ye[Fe],Ce);be==="true"&&(be=(0,he.string32)(65536)),ke[0]=be.charCodeAt(0)&255,ke[1]=be.charCodeAt(1)&255,ke[2]=be.charCodeAt(2)&255,ke[3]=be.charCodeAt(3)&255,de(ke,4,we);const $e=Se.getSearchParams(we,16);for(de(ke,6,$e.range),de(ke,8,$e.entry),de(ke,10,$e.rangeShift),Re=Ae,Fe=0;Fe<we;Fe++){ye=ue[Fe],ke[Re]=ye.charCodeAt(0)&255,ke[Re+1]=ye.charCodeAt(1)&255,ke[Re+2]=ye.charCodeAt(2)&255,ke[Re+3]=ye.charCodeAt(3)&255;let Be=0;for(_e=Ye[Fe],Ee=Ye[Fe+1];_e<Ee;_e+=4){const Pe=(0,ae.readUint32)(ke,_e);Be=Be+Pe>>>0}pe(ke,Re+4,Be),pe(ke,Re+8,Ye[Fe]),pe(ke,Re+12,xe[ye].length),Re+=ge}return ke}addTable(be,xe){if(be in this.tables)throw new Error("Table "+be+" already exists");this.tables[be]=xe}}oe.OpenTypeFileBuilder=Se},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Type1Font=void 0;var ae=ce(35),he=ce(38),de=ce(6),pe=ce(10),re=ce(49),Ae=ce(2);function ge(xe,ue,we){const Fe=xe.length,_e=ue.length,Ee=Fe-_e;let Ce=we,ye=!1;for(;Ce<Ee;){let Re=0;for(;Re<_e&&xe[Ce+Re]===ue[Re];)Re++;if(Re>=_e){for(Ce+=Re;Ce<Fe&&(0,de.isWhiteSpace)(xe[Ce]);)Ce++;ye=!0;break}Ce++}return{found:ye,length:Ce}}function Se(xe,ue){const we=[101,101,120,101,99],Fe=xe.pos;let _e,Ee,Ce;try{_e=xe.getBytes(ue),Ee=_e.length}catch{}if(Ee===ue&&(Ce=ge(_e,we,ue-2*we.length),Ce.found&&Ce.length===ue))return{stream:new pe.Stream(_e),length:ue};(0,Ae.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),xe.pos=Fe;const ye=2048;let Re;for(;;){const Ye=xe.peekBytes(ye);if(Ce=ge(Ye,we,0),Ce.length===0)break;if(xe.pos+=Ce.length,Ce.found){Re=xe.pos-Fe;break}}return xe.pos=Fe,Re?{stream:new pe.Stream(xe.getBytes(Re)),length:Re}:((0,Ae.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new pe.Stream(xe.getBytes(ue)),length:ue})}function fe(xe,ue){const we=xe.getBytes();return{stream:new pe.Stream(we),length:we.length}}class be{constructor(ue,we,Fe){let Ee=Fe.length1;Fe.length2;let Ce=we.peekBytes(6);const ye=Ce[0]===128&&Ce[1]===1;ye&&(we.skip(6),Ee=Ce[5]<<24|Ce[4]<<16|Ce[3]<<8|Ce[2]);const Re=Se(we,Ee);new re.Type1Parser(Re.stream,!1,he.SEAC_ANALYSIS_ENABLED).extractFontHeader(Fe),ye&&(Ce=we.getBytes(6),Ce[5]<<24|Ce[4]<<16|Ce[3]<<8|Ce[2]);const ke=fe(we),Be=new re.Type1Parser(ke.stream,!0,he.SEAC_ANALYSIS_ENABLED).extractFontProgram(Fe);for(const Me in Be.properties)Fe[Me]=Be.properties[Me];const Pe=Be.charstrings,Ue=this.getType2Charstrings(Pe),Te=this.getType2Subrs(Be.subrs);this.charstrings=Pe,this.data=this.wrap(ue,Ue,this.charstrings,Te,Fe),this.seacs=this.getSeacs(Be.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const ue=[".notdef"];for(const{glyphName:we}of this.charstrings)ue.push(we);return ue}getGlyphMapping(ue){const we=this.charstrings;if(ue.composite){const ye=Object.create(null);for(let Re=0,Ye=we.length;Re<Ye;Re++){const ke=ue.cMap.charCodeOf(Re);ye[ke]=Re+1}return ye}const Fe=[".notdef"];let _e,Ee;for(Ee=0;Ee<we.length;Ee++)Fe.push(we[Ee].glyphName);const Ce=ue.builtInEncoding;if(Ce){_e=Object.create(null);for(const ye in Ce)Ee=Fe.indexOf(Ce[ye]),Ee>=0&&(_e[ye]=Ee)}return(0,he.type1FontGlyphMapping)(ue,_e,Fe)}hasGlyphId(ue){return ue<0||ue>=this.numGlyphs?!1:ue===0?!0:this.charstrings[ue-1].charstring.length>0}getSeacs(ue){const we=[];for(let Fe=0,_e=ue.length;Fe<_e;Fe++){const Ee=ue[Fe];Ee.seac&&(we[Fe+1]=Ee.seac)}return we}getType2Charstrings(ue){const we=[];for(let Fe=0,_e=ue.length;Fe<_e;Fe++)we.push(ue[Fe].charstring);return we}getType2Subrs(ue){let we=0;const Fe=ue.length;Fe<1133?we=107:Fe<33769?we=1131:we=32768;const _e=[];let Ee;for(Ee=0;Ee<we;Ee++)_e.push([11]);for(Ee=0;Ee<Fe;Ee++)_e.push(ue[Ee]);return _e}wrap(ue,we,Fe,_e,Ee){const Ce=new ae.CFF;Ce.header=new ae.CFFHeader(1,0,4,4),Ce.names=[ue];const ye=new ae.CFFTopDict;ye.setByName("version",391),ye.setByName("Notice",392),ye.setByName("FullName",393),ye.setByName("FamilyName",394),ye.setByName("Weight",395),ye.setByName("Encoding",null),ye.setByName("FontMatrix",Ee.fontMatrix),ye.setByName("FontBBox",Ee.bbox),ye.setByName("charset",null),ye.setByName("CharStrings",null),ye.setByName("Private",null),Ce.topDict=ye;const Re=new ae.CFFStrings;Re.add("Version 0.11"),Re.add("See original notice"),Re.add(ue),Re.add(ue),Re.add("Medium"),Ce.strings=Re,Ce.globalSubrIndex=new ae.CFFIndex;const Ye=we.length,ke=[".notdef"];let $e,Be;for($e=0;$e<Ye;$e++){const He=Fe[$e].glyphName;ae.CFFStandardStrings.indexOf(He)===-1&&Re.add(He),ke.push(He)}Ce.charset=new ae.CFFCharset(!1,0,ke);const Pe=new ae.CFFIndex;for(Pe.add([139,14]),$e=0;$e<Ye;$e++)Pe.add(we[$e]);Ce.charStrings=Pe;const Ue=new ae.CFFPrivateDict;Ue.setByName("Subrs",null);const Te=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for($e=0,Be=Te.length;$e<Be;$e++){const He=Te[$e];if(!(He in Ee.privateData))continue;const Ie=Ee.privateData[He];if(Array.isArray(Ie))for(let Le=Ie.length-1;Le>0;Le--)Ie[Le]-=Ie[Le-1];Ue.setByName(He,Ie)}Ce.topDict.privateDict=Ue;const Me=new ae.CFFIndex;for($e=0,Be=_e.length;$e<Be;$e++)Me.add(_e[$e]);return Ue.subrsIndex=Me,new ae.CFFCompiler(Ce).compile()}}oe.Type1Font=be},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Type1Parser=void 0;var ae=ce(37),he=ce(6),de=ce(10),pe=ce(2);const re=!1,Ae={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class ge{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(Ee,Ce,ye){const Re=Ee.length;let Ye=!1,ke,$e,Be;for(let Pe=0;Pe<Re;Pe++){let Ue=Ee[Pe];if(Ue<32){switch(Ue===12&&(Ue=(Ue<<8)+Ee[++Pe]),Ue){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){Ye=!0;break}const Ie=this.stack.pop();this.stack.push(0,Ie);break}Ye=this.executeCommand(1,Ae.vmoveto);break;case 5:Ye=this.executeCommand(2,Ae.rlineto);break;case 6:Ye=this.executeCommand(1,Ae.hlineto);break;case 7:Ye=this.executeCommand(1,Ae.vlineto);break;case 8:Ye=this.executeCommand(6,Ae.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){Ye=!0;break}if(Be=this.stack.pop(),!Ce[Be]){Ye=!0;break}Ye=this.convert(Ce[Be],Ce,ye);break;case 11:return Ye;case 13:if(this.stack.length<2){Ye=!0;break}ke=this.stack.pop(),$e=this.stack.pop(),this.lsb=$e,this.width=ke,this.stack.push(ke,$e),Ye=this.executeCommand(2,Ae.hmoveto);break;case 14:this.output.push(Ae.endchar[0]);break;case 21:if(this.flexing)break;Ye=this.executeCommand(2,Ae.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}Ye=this.executeCommand(1,Ae.hmoveto);break;case 30:Ye=this.executeCommand(4,Ae.vhcurveto);break;case 31:Ye=this.executeCommand(4,Ae.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(ye){const Ie=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-Ie,Ye=this.executeCommand(0,Ae.endchar)}else Ye=this.executeCommand(4,Ae.endchar);break;case 3079:if(this.stack.length<4){Ye=!0;break}this.stack.pop(),ke=this.stack.pop();const Te=this.stack.pop();$e=this.stack.pop(),this.lsb=$e,this.width=ke,this.stack.push(ke,$e,Te),Ye=this.executeCommand(3,Ae.rmoveto);break;case 3084:if(this.stack.length<2){Ye=!0;break}const Me=this.stack.pop(),Ve=this.stack.pop();this.stack.push(Ve/Me);break;case 3088:if(this.stack.length<2){Ye=!0;break}Be=this.stack.pop();const He=this.stack.pop();if(Be===0&&He===3){const Ie=this.stack.splice(this.stack.length-17,17);this.stack.push(Ie[2]+Ie[0],Ie[3]+Ie[1],Ie[4],Ie[5],Ie[6],Ie[7],Ie[8],Ie[9],Ie[10],Ie[11],Ie[12],Ie[13],Ie[14]),Ye=this.executeCommand(13,Ae.flex,!0),this.flexing=!1,this.stack.push(Ie[15],Ie[16])}else Be===1&&He===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:(0,pe.warn)('Unknown type 1 charstring command of "'+Ue+'"');break}if(Ye)break;continue}else Ue<=246?Ue-=139:Ue<=250?Ue=(Ue-247)*256+Ee[++Pe]+108:Ue<=254?Ue=-((Ue-251)*256)-Ee[++Pe]-108:Ue=(Ee[++Pe]&255)<<24|(Ee[++Pe]&255)<<16|(Ee[++Pe]&255)<<8|(Ee[++Pe]&255)<<0;this.stack.push(Ue)}return Ye}executeCommand(Ee,Ce,ye){const Re=this.stack.length;if(Ee>Re)return!0;const Ye=Re-Ee;for(let ke=Ye;ke<Re;ke++){let $e=this.stack[ke];Number.isInteger($e)?this.output.push(28,$e>>8&255,$e&255):($e=65536*$e|0,this.output.push(255,$e>>24&255,$e>>16&255,$e>>8&255,$e&255))}return this.output.push(...Ce),ye?this.stack.splice(Ye,Ee):this.stack.length=0,!1}}const Se=55665,fe=4330;function be(_e){return _e>=48&&_e<=57||_e>=65&&_e<=70||_e>=97&&_e<=102}function xe(_e,Ee,Ce){if(Ce>=_e.length)return new Uint8Array(0);const ye=52845,Re=22719;let Ye=Ee|0,ke,$e;for(ke=0;ke<Ce;ke++)Ye=(_e[ke]+Ye)*ye+Re&65535;const Be=_e.length-Ce,Pe=new Uint8Array(Be);for(ke=Ce,$e=0;$e<Be;ke++,$e++){const Ue=_e[ke];Pe[$e]=Ue^Ye>>8,Ye=(Ue+Ye)*ye+Re&65535}return Pe}function ue(_e,Ee,Ce){let Ye=Ee|0;const ke=_e.length,$e=ke>>>1,Be=new Uint8Array($e);let Pe,Ue;for(Pe=0,Ue=0;Pe<ke;Pe++){const Te=_e[Pe];if(!be(Te))continue;Pe++;let Me;for(;Pe<ke&&!be(Me=_e[Pe]);)Pe++;if(Pe<ke){const Ve=parseInt(String.fromCharCode(Te,Me),16);Be[Ue++]=Ve^Ye>>8,Ye=(Ve+Ye)*52845+22719&65535}}return Be.slice(Ce,Ue)}function we(_e){return _e===47||_e===91||_e===93||_e===123||_e===125||_e===40||_e===41}class Fe{constructor(Ee,Ce,ye){if(Ce){const Re=Ee.getBytes(),Ye=!((be(Re[0])||(0,he.isWhiteSpace)(Re[0]))&&be(Re[1])&&be(Re[2])&&be(Re[3])&&be(Re[4])&&be(Re[5])&&be(Re[6])&&be(Re[7]));Ee=new de.Stream(Ye?xe(Re,Se,4):ue(Re,Se,4))}this.seacAnalysisEnabled=!!ye,this.stream=Ee,this.nextChar()}readNumberArray(){this.getToken();const Ee=[];for(;;){const Ce=this.getToken();if(Ce===null||Ce==="]"||Ce==="}")break;Ee.push(parseFloat(Ce||0))}return Ee}readNumber(){const Ee=this.getToken();return parseFloat(Ee||0)}readInt(){const Ee=this.getToken();return parseInt(Ee||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let Ee=!1,Ce=this.currentChar;for(;;){if(Ce===-1)return null;if(Ee)(Ce===10||Ce===13)&&(Ee=!1);else if(Ce===37)Ee=!0;else if(!(0,he.isWhiteSpace)(Ce))break;Ce=this.nextChar()}if(we(Ce))return this.nextChar(),String.fromCharCode(Ce);let ye="";do ye+=String.fromCharCode(Ce),Ce=this.nextChar();while(Ce>=0&&!(0,he.isWhiteSpace)(Ce)&&!we(Ce));return ye}readCharStrings(Ee,Ce){return Ce===-1?Ee:xe(Ee,fe,Ce)}extractFontProgram(Ee){const Ce=this.stream,ye=[],Re=[],Ye=Object.create(null);Ye.lenIV=4;const ke={subrs:[],charstrings:[],properties:{privateData:Ye}};let $e,Be,Pe,Ue;for(;($e=this.getToken())!==null;)if($e==="/")switch($e=this.getToken(),$e){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();$e=this.getToken(),!($e===null||$e==="end");){if($e!=="/")continue;const Me=this.getToken();Be=this.readInt(),this.getToken(),Pe=Be>0?Ce.getBytes(Be):new Uint8Array(0),Ue=ke.properties.privateData.lenIV;const Ve=this.readCharStrings(Pe,Ue);this.nextChar(),$e=this.getToken(),$e==="noaccess"?this.getToken():$e==="/"&&this.prevChar(),Re.push({glyph:Me,encoded:Ve})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const Me=this.readInt();Be=this.readInt(),this.getToken(),Pe=Be>0?Ce.getBytes(Be):new Uint8Array(0),Ue=ke.properties.privateData.lenIV;const Ve=this.readCharStrings(Pe,Ue);this.nextChar(),$e=this.getToken(),$e==="noaccess"&&this.getToken(),ye[Me]=Ve}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const Te=this.readNumberArray();Te.length>0&&Te.length%2===0&&re&&(ke.properties.privateData[$e]=Te);break;case"StemSnapH":case"StemSnapV":ke.properties.privateData[$e]=this.readNumberArray();break;case"StdHW":case"StdVW":ke.properties.privateData[$e]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":ke.properties.privateData[$e]=this.readNumber();break;case"ForceBold":ke.properties.privateData[$e]=this.readBoolean();break}for(const{encoded:Te,glyph:Me}of Re){const Ve=new ge,He=Ve.convert(Te,ye,this.seacAnalysisEnabled);let Ie=Ve.output;He&&(Ie=[14]);const Le={glyphName:Me,charstring:Ie,width:Ve.width,lsb:Ve.lsb,seac:Ve.seac};if(Me===".notdef"?ke.charstrings.unshift(Le):ke.charstrings.push(Le),Ee.builtInEncoding){const Oe=Ee.builtInEncoding.indexOf(Me);Oe>-1&&Ee.widths[Oe]===void 0&&Oe>=Ee.firstChar&&Oe<=Ee.lastChar&&(Ee.widths[Oe]=Ve.width)}}return ke}extractFontHeader(Ee){let Ce;for(;(Ce=this.getToken())!==null;)if(Ce==="/")switch(Ce=this.getToken(),Ce){case"FontMatrix":const ye=this.readNumberArray();Ee.fontMatrix=ye;break;case"Encoding":const Re=this.getToken();let Ye;if(!/^\d+$/.test(Re))Ye=(0,ae.getEncoding)(Re);else{Ye=[];const $e=parseInt(Re,10)|0;this.getToken();for(let Be=0;Be<$e;Be++){for(Ce=this.getToken();Ce!=="dup"&&Ce!=="def";)if(Ce=this.getToken(),Ce===null)return;if(Ce==="def")break;const Pe=this.readInt();this.getToken();const Ue=this.getToken();Ye[Pe]=Ue,this.getToken()}}Ee.builtInEncoding=Ye;break;case"FontBBox":const ke=this.readNumberArray();Ee.ascent=Math.max(ke[3],ke[1]),Ee.descent=Math.min(ke[1],ke[3]),Ee.ascentScaled=!0;break}}}oe.Type1Parser=Fe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Pattern=void 0,oe.getTilingPatternIR=we;var ae=ce(2),he=ce(7),de=ce(14),pe=ce(6);const re={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Ae{constructor(){(0,ae.unreachable)("Cannot initialize Pattern.")}static parseShading(_e,Ee,Ce,ye,Re,Ye){const ke=_e instanceof he.BaseStream?_e.dict:_e,$e=ke.get("ShadingType");try{switch($e){case re.AXIAL:case re.RADIAL:return new Se(ke,Ee,Ce,Re,Ye);case re.FREE_FORM_MESH:case re.LATTICE_FORM_MESH:case re.COONS_PATCH_MESH:case re.TENSOR_PATCH_MESH:return new xe(_e,Ee,Ce,Re,Ye);default:throw new ae.FormatError("Unsupported ShadingType: "+$e)}}catch(Be){if(Be instanceof pe.MissingDataException)throw Be;return ye.send("UnsupportedFeature",{featureId:ae.UNSUPPORTED_FEATURES.shadingPattern}),(0,ae.warn)(Be),new ue}}}oe.Pattern=Ae;class ge{static get SMALL_NUMBER(){return(0,ae.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===ge&&(0,ae.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,ae.unreachable)("Abstract method `getIR` called.")}}class Se extends ge{constructor(_e,Ee,Ce,ye,Re){super(),this.coordsArr=_e.getArray("Coords"),this.shadingType=_e.get("ShadingType");const Ye=de.ColorSpace.parse({cs:_e.getRaw("CS")||_e.getRaw("ColorSpace"),xref:Ee,resources:Ce,pdfFunctionFactory:ye,localColorSpaceCache:Re}),ke=_e.getArray("BBox");Array.isArray(ke)&&ke.length===4?this.bbox=ae.Util.normalizeRect(ke):this.bbox=null;let $e=0,Be=1;if(_e.has("Domain")){const it=_e.getArray("Domain");$e=it[0],Be=it[1]}let Pe=!1,Ue=!1;if(_e.has("Extend")){const it=_e.getArray("Extend");Pe=it[0],Ue=it[1]}if(this.shadingType===re.RADIAL&&(!Pe||!Ue)){const[it,tt,Xe,Ze,ot,Ge]=this.coordsArr,Ke=Math.hypot(it-Ze,tt-ot);Xe<=Ge+Ke&&Ge<=Xe+Ke&&(0,ae.warn)("Unsupported radial gradient.")}this.extendStart=Pe,this.extendEnd=Ue;const Te=_e.getRaw("Function"),Me=ye.createFromArray(Te),Ve=10,He=(Be-$e)/Ve,Ie=this.colorStops=[];if($e>=Be||He<=0){(0,ae.info)("Bad shading domain.");return}const Le=new Float32Array(Ye.numComps),Oe=new Float32Array(1);let Ne;for(let it=0;it<=Ve;it++){Oe[0]=$e+it*He,Me(Oe,0,Le,0),Ne=Ye.getRgb(Le,0);const tt=ae.Util.makeHexColor(Ne[0],Ne[1],Ne[2]);Ie.push([it/Ve,tt])}let qe="transparent";_e.has("Background")&&(Ne=Ye.getRgb(_e.get("Background"),0),qe=ae.Util.makeHexColor(Ne[0],Ne[1],Ne[2])),Pe||(Ie.unshift([0,qe]),Ie[1][0]+=ge.SMALL_NUMBER),Ue||(Ie.at(-1)[0]-=ge.SMALL_NUMBER,Ie.push([1,qe])),this.colorStops=Ie}getIR(){const _e=this.coordsArr,Ee=this.shadingType;let Ce,ye,Re,Ye,ke;return Ee===re.AXIAL?(ye=[_e[0],_e[1]],Re=[_e[2],_e[3]],Ye=null,ke=null,Ce="axial"):Ee===re.RADIAL?(ye=[_e[0],_e[1]],Re=[_e[3],_e[4]],Ye=_e[2],ke=_e[5],Ce="radial"):(0,ae.unreachable)(`getPattern type unknown: ${Ee}`),["RadialAxial",Ce,this.bbox,this.colorStops,ye,Re,Ye,ke]}}class fe{constructor(_e,Ee){this.stream=_e,this.context=Ee,this.buffer=0,this.bufferLength=0;const Ce=Ee.numComps;this.tmpCompsBuf=new Float32Array(Ce);const ye=Ee.colorSpace.numComps;this.tmpCsCompsBuf=Ee.colorFn?new Float32Array(ye):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const _e=this.stream.getByte();return _e<0?!1:(this.buffer=_e,this.bufferLength=8,!0)}readBits(_e){let Ee=this.buffer,Ce=this.bufferLength;if(_e===32){if(Ce===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;Ee=Ee<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const ye=this.stream.getByte();return this.buffer=ye&(1<<Ce)-1,(Ee<<8-Ce|(ye&255)>>Ce)>>>0}if(_e===8&&Ce===0)return this.stream.getByte();for(;Ce<_e;)Ee=Ee<<8|this.stream.getByte(),Ce+=8;return Ce-=_e,this.bufferLength=Ce,this.buffer=Ee&(1<<Ce)-1,Ee>>Ce}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const _e=this.context.bitsPerCoordinate,Ee=this.readBits(_e),Ce=this.readBits(_e),ye=this.context.decode,Re=_e<32?1/((1<<_e)-1):23283064365386963e-26;return[Ee*Re*(ye[1]-ye[0])+ye[0],Ce*Re*(ye[3]-ye[2])+ye[2]]}readComponents(){const _e=this.context.numComps,Ee=this.context.bitsPerComponent,Ce=Ee<32?1/((1<<Ee)-1):23283064365386963e-26,ye=this.context.decode,Re=this.tmpCompsBuf;for(let ke=0,$e=4;ke<_e;ke++,$e+=2){const Be=this.readBits(Ee);Re[ke]=Be*Ce*(ye[$e+1]-ye[$e])+ye[$e]}const Ye=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(Re,0,Ye,0),this.context.colorSpace.getRgb(Ye,0)}}const be=function(){function _e(Ce){const ye=[];for(let Re=0;Re<=Ce;Re++){const Ye=Re/Ce,ke=1-Ye;ye.push(new Float32Array([ke*ke*ke,3*Ye*ke*ke,3*Ye*Ye*ke,Ye*Ye*Ye]))}return ye}const Ee=[];return function(Ce){return Ee[Ce]||(Ee[Ce]=_e(Ce)),Ee[Ce]}}();class xe extends ge{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,ae.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,ae.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,ae.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(_e,Ee,Ce,ye,Re){if(super(),!(_e instanceof he.BaseStream))throw new ae.FormatError("Mesh data is not a stream");const Ye=_e.dict;this.shadingType=Ye.get("ShadingType");const ke=Ye.getArray("BBox");Array.isArray(ke)&&ke.length===4?this.bbox=ae.Util.normalizeRect(ke):this.bbox=null;const $e=de.ColorSpace.parse({cs:Ye.getRaw("CS")||Ye.getRaw("ColorSpace"),xref:Ee,resources:Ce,pdfFunctionFactory:ye,localColorSpaceCache:Re});this.background=Ye.has("Background")?$e.getRgb(Ye.get("Background"),0):null;const Be=Ye.getRaw("Function"),Pe=Be?ye.createFromArray(Be):null;this.coords=[],this.colors=[],this.figures=[];const Ue={bitsPerCoordinate:Ye.get("BitsPerCoordinate"),bitsPerComponent:Ye.get("BitsPerComponent"),bitsPerFlag:Ye.get("BitsPerFlag"),decode:Ye.getArray("Decode"),colorFn:Pe,colorSpace:$e,numComps:Pe?1:$e.numComps},Te=new fe(_e,Ue);let Me=!1;switch(this.shadingType){case re.FREE_FORM_MESH:this._decodeType4Shading(Te);break;case re.LATTICE_FORM_MESH:const Ve=Ye.get("VerticesPerRow")|0;if(Ve<2)throw new ae.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(Te,Ve);break;case re.COONS_PATCH_MESH:this._decodeType6Shading(Te),Me=!0;break;case re.TENSOR_PATCH_MESH:this._decodeType7Shading(Te),Me=!0;break;default:(0,ae.unreachable)("Unsupported mesh type.");break}if(Me){this._updateBounds();for(let Ve=0,He=this.figures.length;Ve<He;Ve++)this._buildFigureFromPatch(Ve)}this._updateBounds(),this._packData()}_decodeType4Shading(_e){const Ee=this.coords,Ce=this.colors,ye=[];let Re=0;for(;_e.hasData;){const Ye=_e.readFlag(),ke=_e.readCoordinate(),$e=_e.readComponents();if(Re===0){if(!(0<=Ye&&Ye<=2))throw new ae.FormatError("Unknown type4 flag");switch(Ye){case 0:Re=3;break;case 1:ye.push(ye.at(-2),ye.at(-1)),Re=1;break;case 2:ye.push(ye.at(-3),ye.at(-1)),Re=1;break}}ye.push(Ee.length),Ee.push(ke),Ce.push($e),Re--,_e.align()}this.figures.push({type:"triangles",coords:new Int32Array(ye),colors:new Int32Array(ye)})}_decodeType5Shading(_e,Ee){const Ce=this.coords,ye=this.colors,Re=[];for(;_e.hasData;){const Ye=_e.readCoordinate(),ke=_e.readComponents();Re.push(Ce.length),Ce.push(Ye),ye.push(ke)}this.figures.push({type:"lattice",coords:new Int32Array(Re),colors:new Int32Array(Re),verticesPerRow:Ee})}_decodeType6Shading(_e){const Ee=this.coords,Ce=this.colors,ye=new Int32Array(16),Re=new Int32Array(4);for(;_e.hasData;){const Ye=_e.readFlag();if(!(0<=Ye&&Ye<=3))throw new ae.FormatError("Unknown type6 flag");const ke=Ee.length;for(let Me=0,Ve=Ye!==0?8:12;Me<Ve;Me++)Ee.push(_e.readCoordinate());const $e=Ce.length;for(let Me=0,Ve=Ye!==0?2:4;Me<Ve;Me++)Ce.push(_e.readComponents());let Be,Pe,Ue,Te;switch(Ye){case 0:ye[12]=ke+3,ye[13]=ke+4,ye[14]=ke+5,ye[15]=ke+6,ye[8]=ke+2,ye[11]=ke+7,ye[4]=ke+1,ye[7]=ke+8,ye[0]=ke,ye[1]=ke+11,ye[2]=ke+10,ye[3]=ke+9,Re[2]=$e+1,Re[3]=$e+2,Re[0]=$e,Re[1]=$e+3;break;case 1:Be=ye[12],Pe=ye[13],Ue=ye[14],Te=ye[15],ye[12]=Te,ye[13]=ke+0,ye[14]=ke+1,ye[15]=ke+2,ye[8]=Ue,ye[11]=ke+3,ye[4]=Pe,ye[7]=ke+4,ye[0]=Be,ye[1]=ke+7,ye[2]=ke+6,ye[3]=ke+5,Be=Re[2],Pe=Re[3],Re[2]=Pe,Re[3]=$e,Re[0]=Be,Re[1]=$e+1;break;case 2:Be=ye[15],Pe=ye[11],ye[12]=ye[3],ye[13]=ke+0,ye[14]=ke+1,ye[15]=ke+2,ye[8]=ye[7],ye[11]=ke+3,ye[4]=Pe,ye[7]=ke+4,ye[0]=Be,ye[1]=ke+7,ye[2]=ke+6,ye[3]=ke+5,Be=Re[3],Re[2]=Re[1],Re[3]=$e,Re[0]=Be,Re[1]=$e+1;break;case 3:ye[12]=ye[0],ye[13]=ke+0,ye[14]=ke+1,ye[15]=ke+2,ye[8]=ye[1],ye[11]=ke+3,ye[4]=ye[2],ye[7]=ke+4,ye[0]=ye[3],ye[1]=ke+7,ye[2]=ke+6,ye[3]=ke+5,Re[2]=Re[0],Re[3]=$e,Re[0]=Re[1],Re[1]=$e+1;break}ye[5]=Ee.length,Ee.push([(-4*Ee[ye[0]][0]-Ee[ye[15]][0]+6*(Ee[ye[4]][0]+Ee[ye[1]][0])-2*(Ee[ye[12]][0]+Ee[ye[3]][0])+3*(Ee[ye[13]][0]+Ee[ye[7]][0]))/9,(-4*Ee[ye[0]][1]-Ee[ye[15]][1]+6*(Ee[ye[4]][1]+Ee[ye[1]][1])-2*(Ee[ye[12]][1]+Ee[ye[3]][1])+3*(Ee[ye[13]][1]+Ee[ye[7]][1]))/9]),ye[6]=Ee.length,Ee.push([(-4*Ee[ye[3]][0]-Ee[ye[12]][0]+6*(Ee[ye[2]][0]+Ee[ye[7]][0])-2*(Ee[ye[0]][0]+Ee[ye[15]][0])+3*(Ee[ye[4]][0]+Ee[ye[14]][0]))/9,(-4*Ee[ye[3]][1]-Ee[ye[12]][1]+6*(Ee[ye[2]][1]+Ee[ye[7]][1])-2*(Ee[ye[0]][1]+Ee[ye[15]][1])+3*(Ee[ye[4]][1]+Ee[ye[14]][1]))/9]),ye[9]=Ee.length,Ee.push([(-4*Ee[ye[12]][0]-Ee[ye[3]][0]+6*(Ee[ye[8]][0]+Ee[ye[13]][0])-2*(Ee[ye[0]][0]+Ee[ye[15]][0])+3*(Ee[ye[11]][0]+Ee[ye[1]][0]))/9,(-4*Ee[ye[12]][1]-Ee[ye[3]][1]+6*(Ee[ye[8]][1]+Ee[ye[13]][1])-2*(Ee[ye[0]][1]+Ee[ye[15]][1])+3*(Ee[ye[11]][1]+Ee[ye[1]][1]))/9]),ye[10]=Ee.length,Ee.push([(-4*Ee[ye[15]][0]-Ee[ye[0]][0]+6*(Ee[ye[11]][0]+Ee[ye[14]][0])-2*(Ee[ye[12]][0]+Ee[ye[3]][0])+3*(Ee[ye[2]][0]+Ee[ye[8]][0]))/9,(-4*Ee[ye[15]][1]-Ee[ye[0]][1]+6*(Ee[ye[11]][1]+Ee[ye[14]][1])-2*(Ee[ye[12]][1]+Ee[ye[3]][1])+3*(Ee[ye[2]][1]+Ee[ye[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(ye),colors:new Int32Array(Re)})}}_decodeType7Shading(_e){const Ee=this.coords,Ce=this.colors,ye=new Int32Array(16),Re=new Int32Array(4);for(;_e.hasData;){const Ye=_e.readFlag();if(!(0<=Ye&&Ye<=3))throw new ae.FormatError("Unknown type7 flag");const ke=Ee.length;for(let Me=0,Ve=Ye!==0?12:16;Me<Ve;Me++)Ee.push(_e.readCoordinate());const $e=Ce.length;for(let Me=0,Ve=Ye!==0?2:4;Me<Ve;Me++)Ce.push(_e.readComponents());let Be,Pe,Ue,Te;switch(Ye){case 0:ye[12]=ke+3,ye[13]=ke+4,ye[14]=ke+5,ye[15]=ke+6,ye[8]=ke+2,ye[9]=ke+13,ye[10]=ke+14,ye[11]=ke+7,ye[4]=ke+1,ye[5]=ke+12,ye[6]=ke+15,ye[7]=ke+8,ye[0]=ke,ye[1]=ke+11,ye[2]=ke+10,ye[3]=ke+9,Re[2]=$e+1,Re[3]=$e+2,Re[0]=$e,Re[1]=$e+3;break;case 1:Be=ye[12],Pe=ye[13],Ue=ye[14],Te=ye[15],ye[12]=Te,ye[13]=ke+0,ye[14]=ke+1,ye[15]=ke+2,ye[8]=Ue,ye[9]=ke+9,ye[10]=ke+10,ye[11]=ke+3,ye[4]=Pe,ye[5]=ke+8,ye[6]=ke+11,ye[7]=ke+4,ye[0]=Be,ye[1]=ke+7,ye[2]=ke+6,ye[3]=ke+5,Be=Re[2],Pe=Re[3],Re[2]=Pe,Re[3]=$e,Re[0]=Be,Re[1]=$e+1;break;case 2:Be=ye[15],Pe=ye[11],ye[12]=ye[3],ye[13]=ke+0,ye[14]=ke+1,ye[15]=ke+2,ye[8]=ye[7],ye[9]=ke+9,ye[10]=ke+10,ye[11]=ke+3,ye[4]=Pe,ye[5]=ke+8,ye[6]=ke+11,ye[7]=ke+4,ye[0]=Be,ye[1]=ke+7,ye[2]=ke+6,ye[3]=ke+5,Be=Re[3],Re[2]=Re[1],Re[3]=$e,Re[0]=Be,Re[1]=$e+1;break;case 3:ye[12]=ye[0],ye[13]=ke+0,ye[14]=ke+1,ye[15]=ke+2,ye[8]=ye[1],ye[9]=ke+9,ye[10]=ke+10,ye[11]=ke+3,ye[4]=ye[2],ye[5]=ke+8,ye[6]=ke+11,ye[7]=ke+4,ye[0]=ye[3],ye[1]=ke+7,ye[2]=ke+6,ye[3]=ke+5,Re[2]=Re[0],Re[3]=$e,Re[0]=Re[1],Re[1]=$e+1;break}this.figures.push({type:"patch",coords:new Int32Array(ye),colors:new Int32Array(Re)})}}_buildFigureFromPatch(_e){const Ee=this.figures[_e];(0,ae.assert)(Ee.type==="patch","Unexpected patch mesh figure");const Ce=this.coords,ye=this.colors,Re=Ee.coords,Ye=Ee.colors,ke=Math.min(Ce[Re[0]][0],Ce[Re[3]][0],Ce[Re[12]][0],Ce[Re[15]][0]),$e=Math.min(Ce[Re[0]][1],Ce[Re[3]][1],Ce[Re[12]][1],Ce[Re[15]][1]),Be=Math.max(Ce[Re[0]][0],Ce[Re[3]][0],Ce[Re[12]][0],Ce[Re[15]][0]),Pe=Math.max(Ce[Re[0]][1],Ce[Re[3]][1],Ce[Re[12]][1],Ce[Re[15]][1]);let Ue=Math.ceil((Be-ke)*xe.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));Ue=Math.max(xe.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(xe.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Ue));let Te=Math.ceil((Pe-$e)*xe.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));Te=Math.max(xe.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(xe.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,Te));const Me=Ue+1,Ve=new Int32Array((Te+1)*Me),He=new Int32Array((Te+1)*Me);let Ie=0;const Le=new Uint8Array(3),Oe=new Uint8Array(3),Ne=ye[Ye[0]],qe=ye[Ye[1]],it=ye[Ye[2]],tt=ye[Ye[3]],Xe=be(Te),Ze=be(Ue);for(let ot=0;ot<=Te;ot++){Le[0]=(Ne[0]*(Te-ot)+it[0]*ot)/Te|0,Le[1]=(Ne[1]*(Te-ot)+it[1]*ot)/Te|0,Le[2]=(Ne[2]*(Te-ot)+it[2]*ot)/Te|0,Oe[0]=(qe[0]*(Te-ot)+tt[0]*ot)/Te|0,Oe[1]=(qe[1]*(Te-ot)+tt[1]*ot)/Te|0,Oe[2]=(qe[2]*(Te-ot)+tt[2]*ot)/Te|0;for(let Ge=0;Ge<=Ue;Ge++,Ie++){if((ot===0||ot===Te)&&(Ge===0||Ge===Ue))continue;let Ke=0,je=0,nt=0;for(let We=0;We<=3;We++)for(let rt=0;rt<=3;rt++,nt++){const et=Xe[ot][We]*Ze[Ge][rt];Ke+=Ce[Re[nt]][0]*et,je+=Ce[Re[nt]][1]*et}Ve[Ie]=Ce.length,Ce.push([Ke,je]),He[Ie]=ye.length;const Qe=new Uint8Array(3);Qe[0]=(Le[0]*(Ue-Ge)+Oe[0]*Ge)/Ue|0,Qe[1]=(Le[1]*(Ue-Ge)+Oe[1]*Ge)/Ue|0,Qe[2]=(Le[2]*(Ue-Ge)+Oe[2]*Ge)/Ue|0,ye.push(Qe)}}Ve[0]=Re[0],He[0]=Ye[0],Ve[Ue]=Re[3],He[Ue]=Ye[1],Ve[Me*Te]=Re[12],He[Me*Te]=Ye[2],Ve[Me*Te+Ue]=Re[15],He[Me*Te+Ue]=Ye[3],this.figures[_e]={type:"lattice",coords:Ve,colors:He,verticesPerRow:Me}}_updateBounds(){let _e=this.coords[0][0],Ee=this.coords[0][1],Ce=_e,ye=Ee;for(let Re=1,Ye=this.coords.length;Re<Ye;Re++){const ke=this.coords[Re][0],$e=this.coords[Re][1];_e=_e>ke?ke:_e,Ee=Ee>$e?$e:Ee,Ce=Ce<ke?ke:Ce,ye=ye<$e?$e:ye}this.bounds=[_e,Ee,Ce,ye]}_packData(){let _e,Ee,Ce,ye;const Re=this.coords,Ye=new Float32Array(Re.length*2);for(_e=0,Ce=0,Ee=Re.length;_e<Ee;_e++){const Pe=Re[_e];Ye[Ce++]=Pe[0],Ye[Ce++]=Pe[1]}this.coords=Ye;const ke=this.colors,$e=new Uint8Array(ke.length*3);for(_e=0,Ce=0,Ee=ke.length;_e<Ee;_e++){const Pe=ke[_e];$e[Ce++]=Pe[0],$e[Ce++]=Pe[1],$e[Ce++]=Pe[2]}this.colors=$e;const Be=this.figures;for(_e=0,Ee=Be.length;_e<Ee;_e++){const Pe=Be[_e],Ue=Pe.coords,Te=Pe.colors;for(Ce=0,ye=Ue.length;Ce<ye;Ce++)Ue[Ce]*=2,Te[Ce]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class ue extends ge{getIR(){return["Dummy"]}}function we(Fe,_e,Ee){const Ce=_e.getArray("Matrix"),ye=ae.Util.normalizeRect(_e.getArray("BBox")),Re=_e.get("XStep"),Ye=_e.get("YStep"),ke=_e.get("PaintType"),$e=_e.get("TilingType");if(ye[2]-ye[0]===0||ye[3]-ye[1]===0)throw new ae.FormatError(`Invalid getTilingPatternIR /BBox array: [${ye}].`);return["TilingPattern",Ee,Fe,Ce,ye,Re,Ye,ke,$e]}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.getXfaFontDict=ue,oe.getXfaFontName=be;var ae=ce(52),he=ce(5),de=ce(53),pe=ce(54),re=ce(55),Ae=ce(56),ge=ce(6),Se=ce(38);const fe=(0,ge.getLookupTableFactory)(function(we){we["MyriadPro-Regular"]=we["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:re.MyriadProRegularFactors,baseWidths:pe.LiberationSansRegularWidths,baseMapping:pe.LiberationSansRegularMapping,metrics:re.MyriadProRegularMetrics},we["MyriadPro-Bold"]=we["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:re.MyriadProBoldFactors,baseWidths:pe.LiberationSansBoldWidths,baseMapping:pe.LiberationSansBoldMapping,metrics:re.MyriadProBoldMetrics},we["MyriadPro-It"]=we["MyriadPro-Italic"]=we["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:re.MyriadProItalicFactors,baseWidths:pe.LiberationSansItalicWidths,baseMapping:pe.LiberationSansItalicMapping,metrics:re.MyriadProItalicMetrics},we["MyriadPro-BoldIt"]=we["MyriadPro-BoldItalic"]=we["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:re.MyriadProBoldItalicFactors,baseWidths:pe.LiberationSansBoldItalicWidths,baseMapping:pe.LiberationSansBoldItalicMapping,metrics:re.MyriadProBoldItalicMetrics},we.ArialMT=we.Arial=we["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:pe.LiberationSansRegularWidths,baseMapping:pe.LiberationSansRegularMapping},we["Arial-BoldMT"]=we["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:pe.LiberationSansBoldWidths,baseMapping:pe.LiberationSansBoldMapping},we["Arial-ItalicMT"]=we["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:pe.LiberationSansItalicWidths,baseMapping:pe.LiberationSansItalicMapping},we["Arial-BoldItalicMT"]=we["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:pe.LiberationSansBoldItalicWidths,baseMapping:pe.LiberationSansBoldItalicMapping},we["Calibri-Regular"]={name:"LiberationSans-Regular",factors:ae.CalibriRegularFactors,baseWidths:pe.LiberationSansRegularWidths,baseMapping:pe.LiberationSansRegularMapping,metrics:ae.CalibriRegularMetrics},we["Calibri-Bold"]={name:"LiberationSans-Bold",factors:ae.CalibriBoldFactors,baseWidths:pe.LiberationSansBoldWidths,baseMapping:pe.LiberationSansBoldMapping,metrics:ae.CalibriBoldMetrics},we["Calibri-Italic"]={name:"LiberationSans-Italic",factors:ae.CalibriItalicFactors,baseWidths:pe.LiberationSansItalicWidths,baseMapping:pe.LiberationSansItalicMapping,metrics:ae.CalibriItalicMetrics},we["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:ae.CalibriBoldItalicFactors,baseWidths:pe.LiberationSansBoldItalicWidths,baseMapping:pe.LiberationSansBoldItalicMapping,metrics:ae.CalibriBoldItalicMetrics},we["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:Ae.SegoeuiRegularFactors,baseWidths:pe.LiberationSansRegularWidths,baseMapping:pe.LiberationSansRegularMapping,metrics:Ae.SegoeuiRegularMetrics},we["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:Ae.SegoeuiBoldFactors,baseWidths:pe.LiberationSansBoldWidths,baseMapping:pe.LiberationSansBoldMapping,metrics:Ae.SegoeuiBoldMetrics},we["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:Ae.SegoeuiItalicFactors,baseWidths:pe.LiberationSansItalicWidths,baseMapping:pe.LiberationSansItalicMapping,metrics:Ae.SegoeuiItalicMetrics},we["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Ae.SegoeuiBoldItalicFactors,baseWidths:pe.LiberationSansBoldItalicWidths,baseMapping:pe.LiberationSansBoldItalicMapping,metrics:Ae.SegoeuiBoldItalicMetrics},we["Helvetica-Regular"]=we.Helvetica={name:"LiberationSans-Regular",factors:de.HelveticaRegularFactors,baseWidths:pe.LiberationSansRegularWidths,baseMapping:pe.LiberationSansRegularMapping,metrics:de.HelveticaRegularMetrics},we["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:de.HelveticaBoldFactors,baseWidths:pe.LiberationSansBoldWidths,baseMapping:pe.LiberationSansBoldMapping,metrics:de.HelveticaBoldMetrics},we["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:de.HelveticaItalicFactors,baseWidths:pe.LiberationSansItalicWidths,baseMapping:pe.LiberationSansItalicMapping,metrics:de.HelveticaItalicMetrics},we["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:de.HelveticaBoldItalicFactors,baseWidths:pe.LiberationSansBoldItalicWidths,baseMapping:pe.LiberationSansBoldItalicMapping,metrics:de.HelveticaBoldItalicMetrics}});function be(we){const Fe=(0,Se.normalizeFontName)(we);return fe()[Fe]}function xe(we){const Fe=be(we);if(!Fe)return null;const{baseWidths:_e,baseMapping:Ee,factors:Ce}=Fe;let ye;Ce?ye=_e.map(($e,Be)=>$e*Ce[Be]):ye=_e;let Re=-2,Ye;const ke=[];for(const[$e,Be]of Ee.map((Pe,Ue)=>[Pe,Ue]).sort(([Pe],[Ue])=>Pe-Ue))$e!==-1&&($e===Re+1?(Ye.push(ye[Be]),Re+=1):(Re=$e,Ye=[ye[Be]],ke.push($e,Ye)));return ke}function ue(we){const Fe=xe(we),_e=new he.Dict(null);_e.set("BaseFont",he.Name.get(we)),_e.set("Type",he.Name.get("Font")),_e.set("Subtype",he.Name.get("CIDFontType2")),_e.set("Encoding",he.Name.get("Identity-H")),_e.set("CIDToGIDMap",he.Name.get("Identity")),_e.set("W",Fe),_e.set("FirstChar",Fe[0]),_e.set("LastChar",Fe.at(-2)+Fe.at(-1).length-1);const Ee=new he.Dict(null);_e.set("FontDescriptor",Ee);const Ce=new he.Dict(null);return Ce.set("Ordering","Identity"),Ce.set("Registry","Adobe"),Ce.set("Supplement",0),_e.set("CIDSystemInfo",Ce),_e}},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.CalibriRegularMetrics=oe.CalibriRegularFactors=oe.CalibriItalicMetrics=oe.CalibriItalicFactors=oe.CalibriBoldMetrics=oe.CalibriBoldItalicMetrics=oe.CalibriBoldItalicFactors=oe.CalibriBoldFactors=void 0;const ce=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.CalibriBoldFactors=ce;const ae={lineHeight:1.2207,lineGap:.2207};oe.CalibriBoldMetrics=ae;const he=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.CalibriBoldItalicFactors=he;const de={lineHeight:1.2207,lineGap:.2207};oe.CalibriBoldItalicMetrics=de;const pe=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.CalibriItalicFactors=pe;const re={lineHeight:1.2207,lineGap:.2207};oe.CalibriItalicMetrics=re;const Ae=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1];oe.CalibriRegularFactors=Ae;const ge={lineHeight:1.2207,lineGap:.2207};oe.CalibriRegularMetrics=ge},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.HelveticaRegularMetrics=oe.HelveticaRegularFactors=oe.HelveticaItalicMetrics=oe.HelveticaItalicFactors=oe.HelveticaBoldMetrics=oe.HelveticaBoldItalicMetrics=oe.HelveticaBoldItalicFactors=oe.HelveticaBoldFactors=void 0;const ce=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];oe.HelveticaBoldFactors=ce;const ae={lineHeight:1.2,lineGap:.2};oe.HelveticaBoldMetrics=ae;const he=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];oe.HelveticaBoldItalicFactors=he;const de={lineHeight:1.35,lineGap:.2};oe.HelveticaBoldItalicMetrics=de;const pe=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1];oe.HelveticaItalicFactors=pe;const re={lineHeight:1.35,lineGap:.2};oe.HelveticaItalicMetrics=re;const Ae=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.HelveticaRegularFactors=Ae;const ge={lineHeight:1.2,lineGap:.2};oe.HelveticaRegularMetrics=ge},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.LiberationSansRegularWidths=oe.LiberationSansRegularMapping=oe.LiberationSansItalicWidths=oe.LiberationSansItalicMapping=oe.LiberationSansBoldWidths=oe.LiberationSansBoldMapping=oe.LiberationSansBoldItalicWidths=oe.LiberationSansBoldItalicMapping=void 0;const ce=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];oe.LiberationSansBoldWidths=ce;const ae=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];oe.LiberationSansBoldMapping=ae;const he=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333];oe.LiberationSansBoldItalicWidths=he;const de=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];oe.LiberationSansBoldItalicMapping=de;const pe=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];oe.LiberationSansItalicWidths=pe;const re=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];oe.LiberationSansItalicMapping=re;const Ae=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285];oe.LiberationSansRegularWidths=Ae;const ge=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];oe.LiberationSansRegularMapping=ge},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.MyriadProRegularMetrics=oe.MyriadProRegularFactors=oe.MyriadProItalicMetrics=oe.MyriadProItalicFactors=oe.MyriadProBoldMetrics=oe.MyriadProBoldItalicMetrics=oe.MyriadProBoldItalicFactors=oe.MyriadProBoldFactors=void 0;const ce=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.MyriadProBoldFactors=ce;const ae={lineHeight:1.2,lineGap:.2};oe.MyriadProBoldMetrics=ae;const he=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.MyriadProBoldItalicFactors=he;const de={lineHeight:1.2,lineGap:.2};oe.MyriadProBoldItalicMetrics=de;const pe=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.MyriadProItalicFactors=pe;const re={lineHeight:1.2,lineGap:.2};oe.MyriadProItalicMetrics=re;const Ae=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.MyriadProRegularFactors=Ae;const ge={lineHeight:1.2,lineGap:.2};oe.MyriadProRegularMetrics=ge},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.SegoeuiRegularMetrics=oe.SegoeuiRegularFactors=oe.SegoeuiItalicMetrics=oe.SegoeuiItalicFactors=oe.SegoeuiBoldMetrics=oe.SegoeuiBoldItalicMetrics=oe.SegoeuiBoldItalicFactors=oe.SegoeuiBoldFactors=void 0;const ce=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.SegoeuiBoldFactors=ce;const ae={lineHeight:1.33008,lineGap:0};oe.SegoeuiBoldMetrics=ae;const he=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.SegoeuiBoldItalicFactors=he;const de={lineHeight:1.33008,lineGap:0};oe.SegoeuiBoldItalicMetrics=de;const pe=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];oe.SegoeuiItalicFactors=pe;const re={lineHeight:1.33008,lineGap:0};oe.SegoeuiItalicMetrics=re;const Ae=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1];oe.SegoeuiRegularFactors=Ae;const ge={lineHeight:1.33008,lineGap:0};oe.SegoeuiRegularMetrics=ge},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.PostScriptEvaluator=oe.PostScriptCompiler=oe.PDFFunctionFactory=void 0,oe.isPDFFunction=fe;var ae=ce(5),he=ce(2),de=ce(58),pe=ce(7),re=ce(59);class Ae{constructor({xref:Te,isEvalSupported:Me=!0}){this.xref=Te,this.isEvalSupported=Me!==!1}create(Te){const Me=this.getCached(Te);if(Me)return Me;const Ve=Se.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:Te instanceof ae.Ref?this.xref.fetch(Te):Te});return this._cache(Te,Ve),Ve}createFromArray(Te){const Me=this.getCached(Te);if(Me)return Me;const Ve=Se.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:Te instanceof ae.Ref?this.xref.fetch(Te):Te});return this._cache(Te,Ve),Ve}getCached(Te){let Me;if(Te instanceof ae.Ref?Me=Te:Te instanceof ae.Dict?Me=Te.objId:Te instanceof pe.BaseStream&&(Me=Te.dict&&Te.dict.objId),Me){const Ve=this._localFunctionCache.getByRef(Me);if(Ve)return Ve}return null}_cache(Te,Me){if(!Me)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let Ve;Te instanceof ae.Ref?Ve=Te:Te instanceof ae.Dict?Ve=Te.objId:Te instanceof pe.BaseStream&&(Ve=Te.dict&&Te.dict.objId),Ve&&this._localFunctionCache.set(null,Ve,Me)}get _localFunctionCache(){return(0,he.shadow)(this,"_localFunctionCache",new re.LocalFunctionCache)}}oe.PDFFunctionFactory=Ae;function ge(Ue){if(!Array.isArray(Ue))return null;const Te=Ue.length;for(let Me=0;Me<Te;Me++)if(typeof Ue[Me]!="number"){const Ve=new Array(Te);for(let He=0;He<Te;He++)Ve[He]=+Ue[He];return Ve}return Ue}class Se{static getSampleArray(Te,Me,Ve,He){let Ie,Le,Oe=1;for(Ie=0,Le=Te.length;Ie<Le;Ie++)Oe*=Te[Ie];Oe*=Me;const Ne=new Array(Oe);let qe=0,it=0;const tt=1/(2**Ve-1),Xe=He.getBytes((Oe*Ve+7)/8);let Ze=0;for(Ie=0;Ie<Oe;Ie++){for(;qe<Ve;)it<<=8,it|=Xe[Ze++],qe+=8;qe-=Ve,Ne[Ie]=(it>>qe)*tt,it&=(1<<qe)-1}return Ne}static parse({xref:Te,isEvalSupported:Me,fn:Ve}){const He=Ve.dict||Ve;switch(He.get("FunctionType")){case 0:return this.constructSampled({xref:Te,isEvalSupported:Me,fn:Ve,dict:He});case 1:break;case 2:return this.constructInterpolated({xref:Te,isEvalSupported:Me,dict:He});case 3:return this.constructStiched({xref:Te,isEvalSupported:Me,dict:He});case 4:return this.constructPostScript({xref:Te,isEvalSupported:Me,fn:Ve,dict:He})}throw new he.FormatError("Unknown type of function")}static parseArray({xref:Te,isEvalSupported:Me,fnObj:Ve}){if(!Array.isArray(Ve))return this.parse({xref:Te,isEvalSupported:Me,fn:Ve});const He=[];for(let Ie=0,Le=Ve.length;Ie<Le;Ie++)He.push(this.parse({xref:Te,isEvalSupported:Me,fn:Te.fetchIfRef(Ve[Ie])}));return function(Ie,Le,Oe,Ne){for(let qe=0,it=He.length;qe<it;qe++)He[qe](Ie,Le,Oe,Ne+qe)}}static constructSampled({xref:Te,isEvalSupported:Me,fn:Ve,dict:He}){function Ie(je){const nt=je.length,Qe=[];let We=0;for(let rt=0;rt<nt;rt+=2)Qe[We++]=[je[rt],je[rt+1]];return Qe}function Le(je,nt,Qe,We,rt){return We+(je-nt)*((rt-We)/(Qe-nt))}let Oe=ge(He.getArray("Domain")),Ne=ge(He.getArray("Range"));if(!Oe||!Ne)throw new he.FormatError("No domain or range");const qe=Oe.length/2,it=Ne.length/2;Oe=Ie(Oe),Ne=Ie(Ne);const tt=ge(He.getArray("Size")),Xe=He.get("BitsPerSample"),Ze=He.get("Order")||1;Ze!==1&&(0,he.info)("No support for cubic spline interpolation: "+Ze);let ot=ge(He.getArray("Encode"));if(ot)ot=Ie(ot);else{ot=[];for(let je=0;je<qe;++je)ot.push([0,tt[je]-1])}let Ge=ge(He.getArray("Decode"));Ge?Ge=Ie(Ge):Ge=Ne;const Ke=this.getSampleArray(tt,it,Xe,Ve);return function(nt,Qe,We,rt){const et=1<<qe,ct=new Float64Array(et),at=new Uint32Array(et);let Je,lt;for(lt=0;lt<et;lt++)ct[lt]=1;let ut=it,ft=1;for(Je=0;Je<qe;++Je){const pt=Oe[Je][0],mt=Oe[Je][1],xt=Math.min(Math.max(nt[Qe+Je],pt),mt);let vt=Le(xt,pt,mt,ot[Je][0],ot[Je][1]);const wt=tt[Je];vt=Math.min(Math.max(vt,0),wt-1);const _t=vt<wt-1?Math.floor(vt):vt-1,Tt=_t+1-vt,Lt=vt-_t,jt=_t*ut,Bt=jt+ut;for(lt=0;lt<et;lt++)lt&ft?(ct[lt]*=Lt,at[lt]+=Bt):(ct[lt]*=Tt,at[lt]+=jt);ut*=wt,ft<<=1}for(lt=0;lt<it;++lt){let pt=0;for(Je=0;Je<et;Je++)pt+=Ke[at[Je]+lt]*ct[Je];pt=Le(pt,0,1,Ge[lt][0],Ge[lt][1]),We[rt+lt]=Math.min(Math.max(pt,Ne[lt][0]),Ne[lt][1])}}}static constructInterpolated({xref:Te,isEvalSupported:Me,dict:Ve}){const He=ge(Ve.getArray("C0"))||[0],Ie=ge(Ve.getArray("C1"))||[1],Le=Ve.get("N"),Oe=[];for(let qe=0,it=He.length;qe<it;++qe)Oe.push(Ie[qe]-He[qe]);const Ne=Oe.length;return function(it,tt,Xe,Ze){const ot=Le===1?it[tt]:it[tt]**Le;for(let Ge=0;Ge<Ne;++Ge)Xe[Ze+Ge]=He[Ge]+ot*Oe[Ge]}}static constructStiched({xref:Te,isEvalSupported:Me,dict:Ve}){const He=ge(Ve.getArray("Domain"));if(!He)throw new he.FormatError("No domain");if(He.length/2!==1)throw new he.FormatError("Bad domain for stiched function");const Le=Ve.get("Functions"),Oe=[];for(let tt=0,Xe=Le.length;tt<Xe;++tt)Oe.push(this.parse({xref:Te,isEvalSupported:Me,fn:Te.fetchIfRef(Le[tt])}));const Ne=ge(Ve.getArray("Bounds")),qe=ge(Ve.getArray("Encode")),it=new Float32Array(1);return function(Xe,Ze,ot,Ge){const je=function(Je,lt,ut){return Je>ut?Je=ut:Je<lt&&(Je=lt),Je}(Xe[Ze],He[0],He[1]),nt=Ne.length;let Qe;for(Qe=0;Qe<nt&&!(je<Ne[Qe]);++Qe);let We=He[0];Qe>0&&(We=Ne[Qe-1]);let rt=He[1];Qe<Ne.length&&(rt=Ne[Qe]);const et=qe[2*Qe],ct=qe[2*Qe+1];it[0]=We===rt?et:et+(je-We)*(ct-et)/(rt-We),Oe[Qe](it,0,ot,Ge)}}static constructPostScript({xref:Te,isEvalSupported:Me,fn:Ve,dict:He}){const Ie=ge(He.getArray("Domain")),Le=ge(He.getArray("Range"));if(!Ie)throw new he.FormatError("No domain.");if(!Le)throw new he.FormatError("No range.");const Oe=new de.PostScriptLexer(Ve),qe=new de.PostScriptParser(Oe).parse();if(Me&&he.FeatureTest.isEvalSupported){const je=new Pe().compile(qe,Ie,Le);if(je)return new Function("src","srcOffset","dest","destOffset",je)}(0,he.info)("Unable to compile PS function");const it=Le.length>>1,tt=Ie.length>>1,Xe=new xe(qe),Ze=Object.create(null);let Ge=2048*4;const Ke=new Float32Array(tt);return function(nt,Qe,We,rt){let et,ct,at="";const Je=Ke;for(et=0;et<tt;et++)ct=nt[Qe+et],Je[et]=ct,at+=ct+"_";const lt=Ze[at];if(lt!==void 0){We.set(lt,rt);return}const ut=new Float32Array(it),ft=Xe.execute(Je),pt=ft.length-it;for(et=0;et<it;et++){ct=ft[pt+et];let mt=Le[et*2];ct<mt?ct=mt:(mt=Le[et*2+1],ct>mt&&(ct=mt)),ut[et]=ct}Ge>0&&(Ge--,Ze[at]=ut),We.set(ut,rt)}}}function fe(Ue){let Te;if(typeof Ue!="object")return!1;if(Ue instanceof ae.Dict)Te=Ue;else if(Ue instanceof pe.BaseStream)Te=Ue.dict;else return!1;return Te.has("FunctionType")}class be{static get MAX_STACK_SIZE(){return(0,he.shadow)(this,"MAX_STACK_SIZE",100)}constructor(Te){this.stack=Te?Array.prototype.slice.call(Te,0):[]}push(Te){if(this.stack.length>=be.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(Te)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(Te){if(this.stack.length+Te>=be.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const Me=this.stack;for(let Ve=Me.length-Te,He=Te-1;He>=0;He--,Ve++)Me.push(Me[Ve])}index(Te){this.push(this.stack[this.stack.length-Te-1])}roll(Te,Me){const Ve=this.stack,He=Ve.length-Te,Ie=Ve.length-1,Le=He+(Me-Math.floor(Me/Te)*Te);for(let Oe=He,Ne=Ie;Oe<Ne;Oe++,Ne--){const qe=Ve[Oe];Ve[Oe]=Ve[Ne],Ve[Ne]=qe}for(let Oe=He,Ne=Le-1;Oe<Ne;Oe++,Ne--){const qe=Ve[Oe];Ve[Oe]=Ve[Ne],Ve[Ne]=qe}for(let Oe=Le,Ne=Ie;Oe<Ne;Oe++,Ne--){const qe=Ve[Oe];Ve[Oe]=Ve[Ne],Ve[Ne]=qe}}}class xe{constructor(Te){this.operators=Te}execute(Te){const Me=new be(Te);let Ve=0;const He=this.operators,Ie=He.length;let Le,Oe,Ne;for(;Ve<Ie;){if(Le=He[Ve++],typeof Le=="number"){Me.push(Le);continue}switch(Le){case"jz":Ne=Me.pop(),Oe=Me.pop(),Oe||(Ve=Ne);break;case"j":Oe=Me.pop(),Ve=Oe;break;case"abs":Oe=Me.pop(),Me.push(Math.abs(Oe));break;case"add":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe+Ne);break;case"and":Ne=Me.pop(),Oe=Me.pop(),typeof Oe=="boolean"&&typeof Ne=="boolean"?Me.push(Oe&&Ne):Me.push(Oe&Ne);break;case"atan":Oe=Me.pop(),Me.push(Math.atan(Oe));break;case"bitshift":Ne=Me.pop(),Oe=Me.pop(),Oe>0?Me.push(Oe<<Ne):Me.push(Oe>>Ne);break;case"ceiling":Oe=Me.pop(),Me.push(Math.ceil(Oe));break;case"copy":Oe=Me.pop(),Me.copy(Oe);break;case"cos":Oe=Me.pop(),Me.push(Math.cos(Oe));break;case"cvi":Oe=Me.pop()|0,Me.push(Oe);break;case"cvr":break;case"div":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe/Ne);break;case"dup":Me.copy(1);break;case"eq":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe===Ne);break;case"exch":Me.roll(2,1);break;case"exp":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe**Ne);break;case"false":Me.push(!1);break;case"floor":Oe=Me.pop(),Me.push(Math.floor(Oe));break;case"ge":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe>=Ne);break;case"gt":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe>Ne);break;case"idiv":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe/Ne|0);break;case"index":Oe=Me.pop(),Me.index(Oe);break;case"le":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe<=Ne);break;case"ln":Oe=Me.pop(),Me.push(Math.log(Oe));break;case"log":Oe=Me.pop(),Me.push(Math.log(Oe)/Math.LN10);break;case"lt":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe<Ne);break;case"mod":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe%Ne);break;case"mul":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe*Ne);break;case"ne":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe!==Ne);break;case"neg":Oe=Me.pop(),Me.push(-Oe);break;case"not":Oe=Me.pop(),typeof Oe=="boolean"?Me.push(!Oe):Me.push(~Oe);break;case"or":Ne=Me.pop(),Oe=Me.pop(),typeof Oe=="boolean"&&typeof Ne=="boolean"?Me.push(Oe||Ne):Me.push(Oe|Ne);break;case"pop":Me.pop();break;case"roll":Ne=Me.pop(),Oe=Me.pop(),Me.roll(Oe,Ne);break;case"round":Oe=Me.pop(),Me.push(Math.round(Oe));break;case"sin":Oe=Me.pop(),Me.push(Math.sin(Oe));break;case"sqrt":Oe=Me.pop(),Me.push(Math.sqrt(Oe));break;case"sub":Ne=Me.pop(),Oe=Me.pop(),Me.push(Oe-Ne);break;case"true":Me.push(!0);break;case"truncate":Oe=Me.pop(),Oe=Oe<0?Math.ceil(Oe):Math.floor(Oe),Me.push(Oe);break;case"xor":Ne=Me.pop(),Oe=Me.pop(),typeof Oe=="boolean"&&typeof Ne=="boolean"?Me.push(Oe!==Ne):Me.push(Oe^Ne);break;default:throw new he.FormatError(`Unknown operator ${Le}`)}}return Me.stack}}oe.PostScriptEvaluator=xe;class ue{constructor(Te){this.type=Te}visit(Te){(0,he.unreachable)("abstract method")}}class we extends ue{constructor(Te,Me,Ve){super("args"),this.index=Te,this.min=Me,this.max=Ve}visit(Te){Te.visitArgument(this)}}class Fe extends ue{constructor(Te){super("literal"),this.number=Te,this.min=Te,this.max=Te}visit(Te){Te.visitLiteral(this)}}class _e extends ue{constructor(Te,Me,Ve,He,Ie){super("binary"),this.op=Te,this.arg1=Me,this.arg2=Ve,this.min=He,this.max=Ie}visit(Te){Te.visitBinaryOperation(this)}}class Ee extends ue{constructor(Te,Me){super("max"),this.arg=Te,this.min=Te.min,this.max=Me}visit(Te){Te.visitMin(this)}}class Ce extends ue{constructor(Te,Me,Ve){super("var"),this.index=Te,this.min=Me,this.max=Ve}visit(Te){Te.visitVariable(this)}}class ye extends ue{constructor(Te,Me){super("definition"),this.variable=Te,this.arg=Me}visit(Te){Te.visitVariableDefinition(this)}}class Re{constructor(){this.parts=[]}visitArgument(Te){this.parts.push("Math.max(",Te.min,", Math.min(",Te.max,", src[srcOffset + ",Te.index,"]))")}visitVariable(Te){this.parts.push("v",Te.index)}visitLiteral(Te){this.parts.push(Te.number)}visitBinaryOperation(Te){this.parts.push("("),Te.arg1.visit(this),this.parts.push(" ",Te.op," "),Te.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(Te){this.parts.push("var "),Te.variable.visit(this),this.parts.push(" = "),Te.arg.visit(this),this.parts.push(";")}visitMin(Te){this.parts.push("Math.min("),Te.arg.visit(this),this.parts.push(", ",Te.max,")")}toString(){return this.parts.join("")}}function Ye(Ue,Te){return Te.type==="literal"&&Te.number===0?Ue:Ue.type==="literal"&&Ue.number===0?Te:Te.type==="literal"&&Ue.type==="literal"?new Fe(Ue.number+Te.number):new _e("+",Ue,Te,Ue.min+Te.min,Ue.max+Te.max)}function ke(Ue,Te){if(Te.type==="literal"){if(Te.number===0)return new Fe(0);if(Te.number===1)return Ue;if(Ue.type==="literal")return new Fe(Ue.number*Te.number)}if(Ue.type==="literal"){if(Ue.number===0)return new Fe(0);if(Ue.number===1)return Te}const Me=Math.min(Ue.min*Te.min,Ue.min*Te.max,Ue.max*Te.min,Ue.max*Te.max),Ve=Math.max(Ue.min*Te.min,Ue.min*Te.max,Ue.max*Te.min,Ue.max*Te.max);return new _e("*",Ue,Te,Me,Ve)}function $e(Ue,Te){if(Te.type==="literal"){if(Te.number===0)return Ue;if(Ue.type==="literal")return new Fe(Ue.number-Te.number)}return Te.type==="binary"&&Te.op==="-"&&Ue.type==="literal"&&Ue.number===1&&Te.arg1.type==="literal"&&Te.arg1.number===1?Te.arg2:new _e("-",Ue,Te,Ue.min-Te.max,Ue.max-Te.min)}function Be(Ue,Te){return Ue.min>=Te?new Fe(Te):Ue.max<=Te?Ue:new Ee(Ue,Te)}class Pe{compile(Te,Me,Ve){const He=[],Ie=[],Le=Me.length>>1,Oe=Ve.length>>1;let Ne=0,qe,it,tt,Xe,Ze,ot,Ge,Ke;for(let nt=0;nt<Le;nt++)He.push(new we(nt,Me[nt*2],Me[nt*2+1]));for(let nt=0,Qe=Te.length;nt<Qe;nt++){if(Ke=Te[nt],typeof Ke=="number"){He.push(new Fe(Ke));continue}switch(Ke){case"add":if(He.length<2)return null;Xe=He.pop(),tt=He.pop(),He.push(Ye(tt,Xe));break;case"cvr":if(He.length<1)return null;break;case"mul":if(He.length<2)return null;Xe=He.pop(),tt=He.pop(),He.push(ke(tt,Xe));break;case"sub":if(He.length<2)return null;Xe=He.pop(),tt=He.pop(),He.push($e(tt,Xe));break;case"exch":if(He.length<2)return null;Ze=He.pop(),ot=He.pop(),He.push(Ze,ot);break;case"pop":if(He.length<1)return null;He.pop();break;case"index":if(He.length<1||(tt=He.pop(),tt.type!=="literal")||(qe=tt.number,qe<0||!Number.isInteger(qe)||He.length<qe))return null;if(Ze=He[He.length-qe-1],Ze.type==="literal"||Ze.type==="var"){He.push(Ze);break}Ge=new Ce(Ne++,Ze.min,Ze.max),He[He.length-qe-1]=Ge,He.push(Ge),Ie.push(new ye(Ge,Ze));break;case"dup":if(He.length<1)return null;if(typeof Te[nt+1]=="number"&&Te[nt+2]==="gt"&&Te[nt+3]===nt+7&&Te[nt+4]==="jz"&&Te[nt+5]==="pop"&&Te[nt+6]===Te[nt+1]){tt=He.pop(),He.push(Be(tt,Te[nt+1])),nt+=6;break}if(Ze=He.at(-1),Ze.type==="literal"||Ze.type==="var"){He.push(Ze);break}Ge=new Ce(Ne++,Ze.min,Ze.max),He[He.length-1]=Ge,He.push(Ge),Ie.push(new ye(Ge,Ze));break;case"roll":if(He.length<2||(Xe=He.pop(),tt=He.pop(),Xe.type!=="literal"||tt.type!=="literal")||(it=Xe.number,qe=tt.number,qe<=0||!Number.isInteger(qe)||!Number.isInteger(it)||He.length<qe))return null;if(it=(it%qe+qe)%qe,it===0)break;Array.prototype.push.apply(He,He.splice(He.length-qe,qe-it));break;default:return null}}if(He.length!==Oe)return null;const je=[];for(const nt of Ie){const Qe=new Re;nt.visit(Qe),je.push(Qe.toString())}for(let nt=0,Qe=He.length;nt<Qe;nt++){const We=He[nt],rt=new Re;We.visit(rt);const et=Ve[nt*2],ct=Ve[nt*2+1],at=[rt.toString()];et>We.min&&(at.unshift("Math.max(",et,", "),at.push(")")),ct<We.max&&(at.unshift("Math.min(",ct,", "),at.push(")")),at.unshift("dest[destOffset + ",nt,"] = "),at.push(";"),je.push(at.join(""))}return je.join(`
`)}}oe.PostScriptCompiler=Pe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.PostScriptParser=oe.PostScriptLexer=void 0;var ae=ce(2),he=ce(5),de=ce(6);class pe{constructor(fe){this.lexer=fe,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(fe){return this.token.type===fe?(this.nextToken(),!0):!1}expect(fe){if(this.accept(fe))return!0;throw new ae.FormatError(`Unexpected symbol: found ${this.token.type} expected ${fe}.`)}parse(){return this.nextToken(),this.expect(re.LBRACE),this.parseBlock(),this.expect(re.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(re.NUMBER))this.operators.push(this.prev.value);else if(this.accept(re.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(re.LBRACE))this.parseCondition();else return}parseCondition(){const fe=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(re.RBRACE),this.accept(re.IF))this.operators[fe]=this.operators.length,this.operators[fe+1]="jz";else if(this.accept(re.LBRACE)){const be=this.operators.length;this.operators.push(null,null);const xe=this.operators.length;this.parseBlock(),this.expect(re.RBRACE),this.expect(re.IFELSE),this.operators[be]=this.operators.length,this.operators[be+1]="j",this.operators[fe]=xe,this.operators[fe+1]="jz"}else throw new ae.FormatError("PS Function: error parsing conditional.")}}oe.PostScriptParser=pe;const re={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class Ae{static get opCache(){return(0,ae.shadow)(this,"opCache",Object.create(null))}constructor(fe,be){this.type=fe,this.value=be}static getOperator(fe){const be=Ae.opCache[fe];return be||(Ae.opCache[fe]=new Ae(re.OPERATOR,fe))}static get LBRACE(){return(0,ae.shadow)(this,"LBRACE",new Ae(re.LBRACE,"{"))}static get RBRACE(){return(0,ae.shadow)(this,"RBRACE",new Ae(re.RBRACE,"}"))}static get IF(){return(0,ae.shadow)(this,"IF",new Ae(re.IF,"IF"))}static get IFELSE(){return(0,ae.shadow)(this,"IFELSE",new Ae(re.IFELSE,"IFELSE"))}}class ge{constructor(fe){this.stream=fe,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let fe=!1,be=this.currentChar;for(;;){if(be<0)return he.EOF;if(fe)(be===10||be===13)&&(fe=!1);else if(be===37)fe=!0;else if(!(0,de.isWhiteSpace)(be))break;be=this.nextChar()}switch(be|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new Ae(re.NUMBER,this.getNumber());case 123:return this.nextChar(),Ae.LBRACE;case 125:return this.nextChar(),Ae.RBRACE}const xe=this.strBuf;for(xe.length=0,xe[0]=String.fromCharCode(be);(be=this.nextChar())>=0&&(be>=65&&be<=90||be>=97&&be<=122);)xe.push(String.fromCharCode(be));const ue=xe.join("");switch(ue.toLowerCase()){case"if":return Ae.IF;case"ifelse":return Ae.IFELSE;default:return Ae.getOperator(ue)}}getNumber(){let fe=this.currentChar;const be=this.strBuf;for(be.length=0,be[0]=String.fromCharCode(fe);(fe=this.nextChar())>=0&&(fe>=48&&fe<=57||fe===45||fe===46);)be.push(String.fromCharCode(fe));const xe=parseFloat(be.join(""));if(isNaN(xe))throw new ae.FormatError(`Invalid floating point number: ${xe}`);return xe}}oe.PostScriptLexer=ge},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.LocalTilingPatternCache=oe.LocalImageCache=oe.LocalGStateCache=oe.LocalFunctionCache=oe.LocalColorSpaceCache=oe.GlobalImageCache=void 0;var ae=ce(2),he=ce(5);class de{constructor(xe){this.constructor===de&&(0,ae.unreachable)("Cannot initialize BaseLocalCache."),this._onlyRefs=(xe&&xe.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new he.RefSetCache}getByName(xe){this._onlyRefs&&(0,ae.unreachable)("Should not call `getByName` method.");const ue=this._nameRefMap.get(xe);return ue?this.getByRef(ue):this._imageMap.get(xe)||null}getByRef(xe){return this._imageCache.get(xe)||null}set(xe,ue,we){(0,ae.unreachable)("Abstract method `set` called.")}}class pe extends de{set(xe,ue=null,we){if(typeof xe!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(ue){if(this._imageCache.has(ue))return;this._nameRefMap.set(xe,ue),this._imageCache.put(ue,we);return}this._imageMap.has(xe)||this._imageMap.set(xe,we)}}oe.LocalImageCache=pe;class re extends de{set(xe=null,ue=null,we){if(typeof xe!="string"&&!ue)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(ue){if(this._imageCache.has(ue))return;xe!==null&&this._nameRefMap.set(xe,ue),this._imageCache.put(ue,we);return}this._imageMap.has(xe)||this._imageMap.set(xe,we)}}oe.LocalColorSpaceCache=re;class Ae extends de{constructor(xe){super({onlyRefs:!0})}set(xe=null,ue,we){if(!ue)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(ue)||this._imageCache.put(ue,we)}}oe.LocalFunctionCache=Ae;class ge extends de{set(xe,ue=null,we){if(typeof xe!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(ue){if(this._imageCache.has(ue))return;this._nameRefMap.set(xe,ue),this._imageCache.put(ue,we);return}this._imageMap.has(xe)||this._imageMap.set(xe,we)}}oe.LocalGStateCache=ge;class Se extends de{constructor(xe){super({onlyRefs:!0})}set(xe=null,ue,we){if(!ue)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(ue)||this._imageCache.put(ue,we)}}oe.LocalTilingPatternCache=Se;class fe{static get NUM_PAGES_THRESHOLD(){return(0,ae.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,ae.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,ae.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new he.RefSetCache,this._imageCache=new he.RefSetCache}get _byteSize(){let xe=0;for(const ue of this._imageCache)xe+=ue.byteSize;return xe}get _cacheLimitReached(){return!(this._imageCache.size<fe.MIN_IMAGES_TO_CACHE||this._byteSize<fe.MAX_BYTE_SIZE)}shouldCache(xe,ue){const we=this._refCache.get(xe);return!((we?we.size+(we.has(ue)?0:1):1)<fe.NUM_PAGES_THRESHOLD||!this._imageCache.has(xe)&&this._cacheLimitReached)}addPageIndex(xe,ue){let we=this._refCache.get(xe);we||(we=new Set,this._refCache.put(xe,we)),we.add(ue)}addByteSize(xe,ue){const we=this._imageCache.get(xe);we&&(we.byteSize||(we.byteSize=ue))}getData(xe,ue){const we=this._refCache.get(xe);if(!we||we.size<fe.NUM_PAGES_THRESHOLD)return null;const Fe=this._imageCache.get(xe);return Fe?(we.add(ue),Fe):null}setData(xe,ue){if(!this._refCache.has(xe))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');if(!this._imageCache.has(xe)){if(this._cacheLimitReached){(0,ae.warn)("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(xe,ue)}}clear(xe=!1){xe||this._refCache.clear(),this._imageCache.clear()}}oe.GlobalImageCache=fe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.bidi=ue;var ae=ce(2);const he=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],de=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function pe(we){return(we&1)!==0}function re(we){return(we&1)===0}function Ae(we,Fe,_e){let Ee,Ce;for(Ee=Fe,Ce=we.length;Ee<Ce;++Ee)if(we[Ee]!==_e)return Ee;return Ee}function ge(we,Fe,_e,Ee){for(let Ce=Fe;Ce<_e;++Ce)we[Ce]=Ee}function Se(we,Fe,_e){for(let Ee=Fe,Ce=_e-1;Ee<Ce;++Ee,--Ce){const ye=we[Ee];we[Ee]=we[Ce],we[Ce]=ye}}function fe(we,Fe,_e=!1){let Ee="ltr";return _e?Ee="ttb":Fe||(Ee="rtl"),{str:we,dir:Ee}}const be=[],xe=[];function ue(we,Fe=-1,_e=!1){let Ee=!0;const Ce=we.length;if(Ce===0||_e)return fe(we,Ee,_e);be.length=Ce,xe.length=Ce;let ye=0,Re,Ye;for(Re=0;Re<Ce;++Re){be[Re]=we.charAt(Re);const Ie=we.charCodeAt(Re);let Le="L";Ie<=255?Le=he[Ie]:1424<=Ie&&Ie<=1524?Le="R":1536<=Ie&&Ie<=1791?(Le=de[Ie&255],Le||(0,ae.warn)("Bidi: invalid Unicode character "+Ie.toString(16))):1792<=Ie&&Ie<=2220&&(Le="AL"),(Le==="R"||Le==="AL"||Le==="AN")&&ye++,xe[Re]=Le}if(ye===0)return Ee=!0,fe(we,Ee);Fe===-1&&(ye/Ce<.3&&Ce>4?(Ee=!0,Fe=0):(Ee=!1,Fe=1));const ke=[];for(Re=0;Re<Ce;++Re)ke[Re]=Fe;const $e=pe(Fe)?"R":"L",Be=$e,Pe=Be;let Ue=Be;for(Re=0;Re<Ce;++Re)xe[Re]==="NSM"?xe[Re]=Ue:Ue=xe[Re];Ue=Be;let Te;for(Re=0;Re<Ce;++Re)Te=xe[Re],Te==="EN"?xe[Re]=Ue==="AL"?"AN":"EN":(Te==="R"||Te==="L"||Te==="AL")&&(Ue=Te);for(Re=0;Re<Ce;++Re)Te=xe[Re],Te==="AL"&&(xe[Re]="R");for(Re=1;Re<Ce-1;++Re)xe[Re]==="ES"&&xe[Re-1]==="EN"&&xe[Re+1]==="EN"&&(xe[Re]="EN"),xe[Re]==="CS"&&(xe[Re-1]==="EN"||xe[Re-1]==="AN")&&xe[Re+1]===xe[Re-1]&&(xe[Re]=xe[Re-1]);for(Re=0;Re<Ce;++Re)if(xe[Re]==="EN"){for(let Ie=Re-1;Ie>=0&&xe[Ie]==="ET";--Ie)xe[Ie]="EN";for(let Ie=Re+1;Ie<Ce&&xe[Ie]==="ET";++Ie)xe[Ie]="EN"}for(Re=0;Re<Ce;++Re)Te=xe[Re],(Te==="WS"||Te==="ES"||Te==="ET"||Te==="CS")&&(xe[Re]="ON");for(Ue=Be,Re=0;Re<Ce;++Re)Te=xe[Re],Te==="EN"?xe[Re]=Ue==="L"?"L":"EN":(Te==="R"||Te==="L")&&(Ue=Te);for(Re=0;Re<Ce;++Re)if(xe[Re]==="ON"){const Ie=Ae(xe,Re+1,"ON");let Le=Be;Re>0&&(Le=xe[Re-1]);let Oe=Pe;Ie+1<Ce&&(Oe=xe[Ie+1]),Le!=="L"&&(Le="R"),Oe!=="L"&&(Oe="R"),Le===Oe&&ge(xe,Re,Ie,Le),Re=Ie-1}for(Re=0;Re<Ce;++Re)xe[Re]==="ON"&&(xe[Re]=$e);for(Re=0;Re<Ce;++Re)Te=xe[Re],re(ke[Re])?Te==="R"?ke[Re]+=1:(Te==="AN"||Te==="EN")&&(ke[Re]+=2):(Te==="L"||Te==="AN"||Te==="EN")&&(ke[Re]+=1);let Me=-1,Ve=99,He;for(Re=0,Ye=ke.length;Re<Ye;++Re)He=ke[Re],Me<He&&(Me=He),Ve>He&&pe(He)&&(Ve=He);for(He=Me;He>=Ve;--He){let Ie=-1;for(Re=0,Ye=ke.length;Re<Ye;++Re)ke[Re]<He?Ie>=0&&(Se(be,Ie,Re),Ie=-1):Ie<0&&(Ie=Re);Ie>=0&&Se(be,Ie,ke.length)}for(Re=0,Ye=be.length;Re<Ye;++Re){const Ie=be[Re];(Ie==="<"||Ie===">")&&(be[Re]="")}return fe(be.join(""),Ee)}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.MurmurHash3_64=void 0;var ae=ce(2);const he=3285377520,de=4294901760,pe=65535;class re{constructor(ge){this.h1=ge?ge&4294967295:he,this.h2=ge?ge&4294967295:he}update(ge){let Se,fe;if(typeof ge=="string"){Se=new Uint8Array(ge.length*2),fe=0;for(let ke=0,$e=ge.length;ke<$e;ke++){const Be=ge.charCodeAt(ke);Be<=255?Se[fe++]=Be:(Se[fe++]=Be>>>8,Se[fe++]=Be&255)}}else if((0,ae.isArrayBuffer)(ge))Se=ge.slice(),fe=Se.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const be=fe>>2,xe=fe-be*4,ue=new Uint32Array(Se.buffer,0,be);let we=0,Fe=0,_e=this.h1,Ee=this.h2;const Ce=3432918353,ye=461845907,Re=Ce&pe,Ye=ye&pe;for(let ke=0;ke<be;ke++)ke&1?(we=ue[ke],we=we*Ce&de|we*Re&pe,we=we<<15|we>>>17,we=we*ye&de|we*Ye&pe,_e^=we,_e=_e<<13|_e>>>19,_e=_e*5+3864292196):(Fe=ue[ke],Fe=Fe*Ce&de|Fe*Re&pe,Fe=Fe<<15|Fe>>>17,Fe=Fe*ye&de|Fe*Ye&pe,Ee^=Fe,Ee=Ee<<13|Ee>>>19,Ee=Ee*5+3864292196);switch(we=0,xe){case 3:we^=Se[be*4+2]<<16;case 2:we^=Se[be*4+1]<<8;case 1:we^=Se[be*4],we=we*Ce&de|we*Re&pe,we=we<<15|we>>>17,we=we*ye&de|we*Ye&pe,be&1?_e^=we:Ee^=we}this.h1=_e,this.h2=Ee}hexdigest(){let ge=this.h1,Se=this.h2;ge^=Se>>>1,ge=ge*3981806797&de|ge*36045&pe,Se=Se*4283543511&de|((Se<<16|ge>>>16)*2950163797&de)>>>16,ge^=Se>>>1,ge=ge*444984403&de|ge*60499&pe,Se=Se*3301882366&de|((Se<<16|ge>>>16)*3120437893&de)>>>16,ge^=Se>>>1;const fe=(ge>>>0).toString(16),be=(Se>>>0).toString(16);return fe.padStart(8,"0")+be.padStart(8,"0")}}oe.MurmurHash3_64=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.OperatorList=void 0;var ae=ce(2);function he(ge,Se,fe,be,xe){let ue=ge;for(let we=0,Fe=Se.length-1;we<Fe;we++){const _e=Se[we];ue=ue[_e]||(ue[_e]=[])}ue[Se.at(-1)]={checkFn:fe,iterateFn:be,processFn:xe}}const de=[];he(de,[ae.OPS.save,ae.OPS.transform,ae.OPS.paintInlineImageXObject,ae.OPS.restore],null,function(Se,fe){const be=Se.fnArray,xe=Se.iCurr-3,ue=(fe-xe)%4;switch(ue){case 0:return be[fe]===ae.OPS.save;case 1:return be[fe]===ae.OPS.transform;case 2:return be[fe]===ae.OPS.paintInlineImageXObject;case 3:return be[fe]===ae.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${ue}`)},function(Se,fe){const Fe=Se.fnArray,_e=Se.argsArray,Ee=Se.iCurr,Ce=Ee-3,ye=Ee-2,Re=Ee-1,Ye=Math.min(Math.floor((fe-Ce)/4),200);if(Ye<10)return fe-(fe-Ce)%4;let ke=0;const $e=[];let Be=0,Pe=1,Ue=1;for(let Ie=0;Ie<Ye;Ie++){const Le=_e[ye+(Ie<<2)],Oe=_e[Re+(Ie<<2)][0];Pe+Oe.width>1e3&&(ke=Math.max(ke,Pe),Ue+=Be+2,Pe=0,Be=0),$e.push({transform:Le,x:Pe,y:Ue,w:Oe.width,h:Oe.height}),Pe+=Oe.width+2,Be=Math.max(Be,Oe.height)}const Te=Math.max(ke,Pe)+1,Me=Ue+Be+1,Ve=new Uint8Array(Te*Me*4),He=Te<<2;for(let Ie=0;Ie<Ye;Ie++){const Le=_e[Re+(Ie<<2)][0].data,Oe=$e[Ie].w<<2;let Ne=0,qe=$e[Ie].x+$e[Ie].y*Te<<2;Ve.set(Le.subarray(0,Oe),qe-He);for(let it=0,tt=$e[Ie].h;it<tt;it++)Ve.set(Le.subarray(Ne,Ne+Oe),qe),Ne+=Oe,qe+=He;for(Ve.set(Le.subarray(Ne-Oe,Ne),qe);qe>=0;)Le[qe-4]=Le[qe],Le[qe-3]=Le[qe+1],Le[qe-2]=Le[qe+2],Le[qe-1]=Le[qe+3],Le[qe+Oe]=Le[qe+Oe-4],Le[qe+Oe+1]=Le[qe+Oe-3],Le[qe+Oe+2]=Le[qe+Oe-2],Le[qe+Oe+3]=Le[qe+Oe-1],qe-=He}return Fe.splice(Ce,Ye*4,ae.OPS.paintInlineImageXObjectGroup),_e.splice(Ce,Ye*4,[{width:Te,height:Me,kind:ae.ImageKind.RGBA_32BPP,data:Ve},$e]),Ce+1}),he(de,[ae.OPS.save,ae.OPS.transform,ae.OPS.paintImageMaskXObject,ae.OPS.restore],null,function(Se,fe){const be=Se.fnArray,xe=Se.iCurr-3,ue=(fe-xe)%4;switch(ue){case 0:return be[fe]===ae.OPS.save;case 1:return be[fe]===ae.OPS.transform;case 2:return be[fe]===ae.OPS.paintImageMaskXObject;case 3:return be[fe]===ae.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${ue}`)},function(Se,fe){const we=Se.fnArray,Fe=Se.argsArray,_e=Se.iCurr,Ee=_e-3,Ce=_e-2,ye=_e-1;let Re=Math.floor((fe-Ee)/4);if(Re<10)return fe-(fe-Ee)%4;let Ye=!1,ke,$e;const Be=Fe[ye][0],Pe=Fe[Ce][0],Ue=Fe[Ce][1],Te=Fe[Ce][2],Me=Fe[Ce][3];if(Ue===Te){Ye=!0,ke=Ce+4;let Ve=ye+4;for(let He=1;He<Re;He++,ke+=4,Ve+=4)if($e=Fe[ke],Fe[Ve][0]!==Be||$e[0]!==Pe||$e[1]!==Ue||$e[2]!==Te||$e[3]!==Me){He<10?Ye=!1:Re=He;break}}if(Ye){Re=Math.min(Re,1e3);const Ve=new Float32Array(Re*2);ke=Ce;for(let He=0;He<Re;He++,ke+=4)$e=Fe[ke],Ve[He<<1]=$e[4],Ve[(He<<1)+1]=$e[5];we.splice(Ee,Re*4,ae.OPS.paintImageMaskXObjectRepeat),Fe.splice(Ee,Re*4,[Be,Pe,Ue,Te,Me,Ve])}else{Re=Math.min(Re,100);const Ve=[];for(let He=0;He<Re;He++){$e=Fe[Ce+(He<<2)];const Ie=Fe[ye+(He<<2)][0];Ve.push({data:Ie.data,width:Ie.width,height:Ie.height,interpolate:Ie.interpolate,count:Ie.count,transform:$e})}we.splice(Ee,Re*4,ae.OPS.paintImageMaskXObjectGroup),Fe.splice(Ee,Re*4,[Ve])}return Ee+1}),he(de,[ae.OPS.save,ae.OPS.transform,ae.OPS.paintImageXObject,ae.OPS.restore],function(ge){const Se=ge.argsArray,fe=ge.iCurr-2;return Se[fe][1]===0&&Se[fe][2]===0},function(Se,fe){const be=Se.fnArray,xe=Se.argsArray,ue=Se.iCurr-3,we=(fe-ue)%4;switch(we){case 0:return be[fe]===ae.OPS.save;case 1:if(be[fe]!==ae.OPS.transform)return!1;const Fe=Se.iCurr-2,_e=xe[Fe][0],Ee=xe[Fe][3];return!(xe[fe][0]!==_e||xe[fe][1]!==0||xe[fe][2]!==0||xe[fe][3]!==Ee);case 2:if(be[fe]!==ae.OPS.paintImageXObject)return!1;const Ce=Se.iCurr-1,ye=xe[Ce][0];return xe[fe][0]===ye;case 3:return be[fe]===ae.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${we}`)},function(ge,Se){const xe=ge.fnArray,ue=ge.argsArray,we=ge.iCurr,Fe=we-3,_e=we-2,Ee=we-1,Ce=ue[Ee][0],ye=ue[_e][0],Re=ue[_e][3],Ye=Math.min(Math.floor((Se-Fe)/4),1e3);if(Ye<3)return Se-(Se-Fe)%4;const ke=new Float32Array(Ye*2);let $e=_e;for(let Pe=0;Pe<Ye;Pe++,$e+=4){const Ue=ue[$e];ke[Pe<<1]=Ue[4],ke[(Pe<<1)+1]=Ue[5]}const Be=[Ce,ye,Re,ke];return xe.splice(Fe,Ye*4,ae.OPS.paintImageXObjectRepeat),ue.splice(Fe,Ye*4,Be),Fe+1}),he(de,[ae.OPS.beginText,ae.OPS.setFont,ae.OPS.setTextMatrix,ae.OPS.showText,ae.OPS.endText],null,function(Se,fe){const be=Se.fnArray,xe=Se.argsArray,ue=Se.iCurr-4,we=(fe-ue)%5;switch(we){case 0:return be[fe]===ae.OPS.beginText;case 1:return be[fe]===ae.OPS.setFont;case 2:return be[fe]===ae.OPS.setTextMatrix;case 3:if(be[fe]!==ae.OPS.showText)return!1;const Fe=Se.iCurr-3,_e=xe[Fe][0],Ee=xe[Fe][1];return!(xe[fe][0]!==_e||xe[fe][1]!==Ee);case 4:return be[fe]===ae.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${we}`)},function(ge,Se){const xe=ge.fnArray,ue=ge.argsArray,we=ge.iCurr,Fe=we-4,_e=we-3,Ee=we-2,Ce=we-1,ye=we,Re=ue[_e][0],Ye=ue[_e][1];let ke=Math.min(Math.floor((Se-Fe)/5),1e3);if(ke<3)return Se-(Se-Fe)%5;let $e=Fe;Fe>=4&&xe[Fe-4]===xe[_e]&&xe[Fe-3]===xe[Ee]&&xe[Fe-2]===xe[Ce]&&xe[Fe-1]===xe[ye]&&ue[Fe-4][0]===Re&&ue[Fe-4][1]===Ye&&(ke++,$e-=5);let Be=$e+4;for(let Pe=1;Pe<ke;Pe++)xe.splice(Be,3),ue.splice(Be,3),Be+=2;return Be+1});class pe{constructor(Se){this.queue=Se}_optimize(){}push(Se,fe){this.queue.fnArray.push(Se),this.queue.argsArray.push(fe),this._optimize()}flush(){}reset(){}}class re extends pe{constructor(Se){super(Se),this.state=null,this.context={iCurr:0,fnArray:Se.fnArray,argsArray:Se.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const Se=this.queue.fnArray;let fe=this.lastProcessed,be=Se.length,xe=this.state,ue=this.match;if(!xe&&!ue&&fe+1===be&&!de[Se[fe]]){this.lastProcessed=be;return}const we=this.context;for(;fe<be;){if(ue){if((0,ue.iterateFn)(we,fe)){fe++;continue}if(fe=(0,ue.processFn)(we,fe+1),be=Se.length,ue=null,xe=null,fe>=be)break}if(xe=(xe||de)[Se[fe]],!xe||Array.isArray(xe)){fe++;continue}if(we.iCurr=fe,fe++,xe.checkFn&&!(0,xe.checkFn)(we)){xe=null;continue}ue=xe,xe=null}this.state=xe,this.match=ue,this.lastProcessed=fe}flush(){for(;this.match;){const Se=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,Se),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class Ae{static get CHUNK_SIZE(){return(0,ae.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,ae.shadow)(this,"CHUNK_SIZE_ABOUT",this.CHUNK_SIZE-5)}constructor(Se=0,fe){this._streamSink=fe,this.fnArray=[],this.argsArray=[],fe&&!(Se&ae.RenderingIntentFlag.OPLIST)?this.optimizer=new re(this):this.optimizer=new pe(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=fe?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(Se,fe){this.optimizer.push(Se,fe),this.weight++,this._streamSink&&(this.weight>=Ae.CHUNK_SIZE?this.flush():this.weight>=Ae.CHUNK_SIZE_ABOUT&&(Se===ae.OPS.restore||Se===ae.OPS.endText)&&this.flush())}addImageOps(Se,fe,be){be!==void 0&&this.addOp(ae.OPS.beginMarkedContentProps,["OC",be]),this.addOp(Se,fe),be!==void 0&&this.addOp(ae.OPS.endMarkedContent,[])}addDependency(Se){this.dependencies.has(Se)||(this.dependencies.add(Se),this.addOp(ae.OPS.dependency,[Se]))}addDependencies(Se){for(const fe of Se)this.addDependency(fe)}addOpList(Se){if(!(Se instanceof Ae)){(0,ae.warn)('addOpList - ignoring invalid "opList" parameter.');return}for(const fe of Se.dependencies)this.dependencies.add(fe);for(let fe=0,be=Se.length;fe<be;fe++)this.addOp(Se.fnArray[fe],Se.argsArray[fe])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const Se=[],{fnArray:fe,argsArray:be,length:xe}=this;for(let ue=0;ue<xe;ue++)switch(fe[ue]){case ae.OPS.paintInlineImageXObject:case ae.OPS.paintInlineImageXObjectGroup:case ae.OPS.paintImageMaskXObject:const we=be[ue][0];!we.cached&&we.data&&we.data.buffer instanceof ArrayBuffer&&Se.push(we.data.buffer);break}return Se}flush(Se=!1,fe=null){this.optimizer.flush();const be=this.length;this._totalLength+=be,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:Se,separateAnnots:fe,length:be},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}oe.OperatorList=Ae},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.PDFImage=void 0;var ae=ce(2),he=ce(64),de=ce(7),pe=ce(14),re=ce(19),Ae=ce(27),ge=ce(30),Se=ce(5);function fe(ue,we,Fe,_e){return ue=we+ue*Fe,ue<0?ue=0:ue>_e&&(ue=_e),ue}function be(ue,we,Fe,_e,Ee,Ce){const ye=Ee*Ce;let Re;we<=8?Re=new Uint8Array(ye):we<=16?Re=new Uint16Array(ye):Re=new Uint32Array(ye);const Ye=Fe/Ee,ke=_e/Ce;let $e,Be,Pe,Ue=0,Te;const Me=new Uint16Array(Ee),Ve=Fe;for($e=0;$e<Ee;$e++)Me[$e]=Math.floor($e*Ye);for($e=0;$e<Ce;$e++)for(Pe=Math.floor($e*ke)*Ve,Be=0;Be<Ee;Be++)Te=Pe+Me[Be],Re[Ue++]=ue[Te];return Re}class xe{constructor({xref:we,res:Fe,image:_e,isInline:Ee=!1,smask:Ce=null,mask:ye=null,isMask:Re=!1,pdfFunctionFactory:Ye,localColorSpaceCache:ke}){this.image=_e;const $e=_e.dict,Be=$e.get("F","Filter");let Pe;if(Be instanceof Se.Name)Pe=Be.name;else if(Array.isArray(Be)){const Ve=we.fetchIfRef(Be[0]);Ve instanceof Se.Name&&(Pe=Ve.name)}switch(Pe){case"JPXDecode":const Ve=new ge.JpxImage;Ve.parseImageProperties(_e.stream),_e.stream.reset(),_e.width=Ve.width,_e.height=Ve.height,_e.bitsPerComponent=Ve.bitsPerComponent,_e.numComps=Ve.componentsCount;break;case"JBIG2Decode":_e.bitsPerComponent=1,_e.numComps=1;break}let Ue=$e.get("W","Width"),Te=$e.get("H","Height");if(Number.isInteger(_e.width)&&_e.width>0&&Number.isInteger(_e.height)&&_e.height>0&&(_e.width!==Ue||_e.height!==Te)&&((0,ae.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),Ue=_e.width,Te=_e.height),Ue<1||Te<1)throw new ae.FormatError(`Invalid image width: ${Ue} or height: ${Te}`);this.width=Ue,this.height=Te,this.interpolate=$e.get("I","Interpolate"),this.imageMask=$e.get("IM","ImageMask")||!1,this.matte=$e.get("Matte")||!1;let Me=_e.bitsPerComponent;if(!Me&&(Me=$e.get("BPC","BitsPerComponent"),!Me))if(this.imageMask)Me=1;else throw new ae.FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=Me,!this.imageMask){let Ve=$e.getRaw("CS")||$e.getRaw("ColorSpace");if(!Ve)switch((0,ae.info)("JPX images (which do not require color spaces)"),_e.numComps){case 1:Ve=Se.Name.get("DeviceGray");break;case 3:Ve=Se.Name.get("DeviceRGB");break;case 4:Ve=Se.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${_e.numComps} color components not supported.`)}this.colorSpace=pe.ColorSpace.parse({cs:Ve,xref:we,resources:Ee?Fe:null,pdfFunctionFactory:Ye,localColorSpaceCache:ke}),this.numComps=this.colorSpace.numComps}if(this.decode=$e.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,Me)||Re&&!pe.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const Ve=(1<<Me)-1;this.decodeCoefficients=[],this.decodeAddends=[];const He=this.colorSpace&&this.colorSpace.name==="Indexed";for(let Ie=0,Le=0;Ie<this.decode.length;Ie+=2,++Le){const Oe=this.decode[Ie],Ne=this.decode[Ie+1];this.decodeCoefficients[Le]=He?(Ne-Oe)/Ve:Ne-Oe,this.decodeAddends[Le]=He?Oe:Ve*Oe}}Ce?this.smask=new xe({xref:we,res:Fe,image:Ce,isInline:Ee,pdfFunctionFactory:Ye,localColorSpaceCache:ke}):ye&&(ye instanceof de.BaseStream?ye.dict.get("IM","ImageMask")?this.mask=new xe({xref:we,res:Fe,image:ye,isInline:Ee,isMask:!0,pdfFunctionFactory:Ye,localColorSpaceCache:ke}):(0,ae.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=ye)}static async buildImage({xref:we,res:Fe,image:_e,isInline:Ee=!1,pdfFunctionFactory:Ce,localColorSpaceCache:ye}){const Re=_e;let Ye=null,ke=null;const $e=_e.dict.get("SMask"),Be=_e.dict.get("Mask");return $e?$e instanceof de.BaseStream?Ye=$e:(0,ae.warn)("Unsupported /SMask format."):Be&&(Be instanceof de.BaseStream||Array.isArray(Be)?ke=Be:(0,ae.warn)("Unsupported /Mask format.")),new xe({xref:we,res:Fe,image:Re,isInline:Ee,smask:Ye,mask:ke,pdfFunctionFactory:Ce,localColorSpaceCache:ye})}static createRawMask({imgArray:we,width:Fe,height:_e,imageIsFromDecodeStream:Ee,inverseDecode:Ce,interpolate:ye}){const Re=(Fe+7>>3)*_e,Ye=we.byteLength,ke=Re===Ye;let $e,Be;if(Ee&&(!Ce||ke)?$e=we:Ce?($e=new Uint8Array(Re),$e.set(we),$e.fill(255,Ye)):$e=new Uint8Array(we),Ce)for(Be=0;Be<Ye;Be++)$e[Be]^=255;return{data:$e,width:Fe,height:_e,interpolate:ye}}static createMask({imgArray:we,width:Fe,height:_e,imageIsFromDecodeStream:Ee,inverseDecode:Ce,interpolate:ye}){const Re=Fe===1&&_e===1&&Ce===(we.length===0||!!(we[0]&128));if(Re)return{isSingleOpaquePixel:Re};if(ae.FeatureTest.isOffscreenCanvasSupported){const Ye=new OffscreenCanvas(Fe,_e),ke=Ye.getContext("2d"),$e=ke.createImageData(Fe,_e);(0,he.applyMaskImageData)({src:we,dest:$e.data,width:Fe,height:_e,inverseDecode:Ce}),ke.putImageData($e,0,0);const Be=Ye.transferToImageBitmap();return{data:null,width:Fe,height:_e,interpolate:ye,bitmap:Be}}return this.createRawMask({imgArray:we,width:Fe,height:_e,inverseDecode:Ce,imageIsFromDecodeStream:Ee,interpolate:ye})}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(we){const Fe=this.bpc,_e=this.numComps,Ee=this.decodeAddends,Ce=this.decodeCoefficients,ye=(1<<Fe)-1;let Re,Ye;if(Fe===1){for(Re=0,Ye=we.length;Re<Ye;Re++)we[Re]=+!we[Re];return}let ke=0;for(Re=0,Ye=this.width*this.height;Re<Ye;Re++)for(let $e=0;$e<_e;$e++)we[ke]=fe(we[ke],Ee[$e],Ce[$e],ye),ke++}getComponents(we){const Fe=this.bpc;if(Fe===8)return we;const _e=this.width,Ee=this.height,Ce=this.numComps,ye=_e*Ee*Ce;let Re=0,Ye;Fe<=8?Ye=new Uint8Array(ye):Fe<=16?Ye=new Uint16Array(ye):Ye=new Uint32Array(ye);const ke=_e*Ce,$e=(1<<Fe)-1;let Be=0,Pe,Ue;if(Fe===1){let Te,Me,Ve;for(let He=0;He<Ee;He++){for(Me=Be+(ke&-8),Ve=Be+ke;Be<Me;)Ue=we[Re++],Ye[Be]=Ue>>7&1,Ye[Be+1]=Ue>>6&1,Ye[Be+2]=Ue>>5&1,Ye[Be+3]=Ue>>4&1,Ye[Be+4]=Ue>>3&1,Ye[Be+5]=Ue>>2&1,Ye[Be+6]=Ue>>1&1,Ye[Be+7]=Ue&1,Be+=8;if(Be<Ve)for(Ue=we[Re++],Te=128;Be<Ve;)Ye[Be++]=+!!(Ue&Te),Te>>=1}}else{let Te=0;for(Ue=0,Be=0,Pe=ye;Be<Pe;++Be){for(Be%ke===0&&(Ue=0,Te=0);Te<Fe;)Ue=Ue<<8|we[Re++],Te+=8;const Me=Te-Fe;let Ve=Ue>>Me;Ve<0?Ve=0:Ve>$e&&(Ve=$e),Ye[Be]=Ve,Ue&=(1<<Me)-1,Te=Me}}return Ye}fillOpacity(we,Fe,_e,Ee,Ce){const ye=this.smask,Re=this.mask;let Ye,ke,$e,Be,Pe,Ue;if(ye)ke=ye.width,$e=ye.height,Ye=new Uint8ClampedArray(ke*$e),ye.fillGrayBuffer(Ye),(ke!==Fe||$e!==_e)&&(Ye=be(Ye,ye.bpc,ke,$e,Fe,_e));else if(Re)if(Re instanceof xe){for(ke=Re.width,$e=Re.height,Ye=new Uint8ClampedArray(ke*$e),Re.numComps=1,Re.fillGrayBuffer(Ye),Be=0,Pe=ke*$e;Be<Pe;++Be)Ye[Be]=255-Ye[Be];(ke!==Fe||$e!==_e)&&(Ye=be(Ye,Re.bpc,ke,$e,Fe,_e))}else if(Array.isArray(Re)){Ye=new Uint8ClampedArray(Fe*_e);const Te=this.numComps;for(Be=0,Pe=Fe*_e;Be<Pe;++Be){let Me=0;const Ve=Be*Te;for(Ue=0;Ue<Te;++Ue){const He=Ce[Ve+Ue],Ie=Ue*2;if(He<Re[Ie]||He>Re[Ie+1]){Me=255;break}}Ye[Be]=Me}}else throw new ae.FormatError("Unknown mask format.");if(Ye)for(Be=0,Ue=3,Pe=Fe*Ee;Be<Pe;++Be,Ue+=4)we[Ue]=Ye[Be];else for(Be=0,Ue=3,Pe=Fe*Ee;Be<Pe;++Be,Ue+=4)we[Ue]=255}undoPreblend(we,Fe,_e){const Ee=this.smask&&this.smask.matte;if(!Ee)return;const Ce=this.colorSpace.getRgb(Ee,0),ye=Ce[0],Re=Ce[1],Ye=Ce[2],ke=Fe*_e*4;for(let $e=0;$e<ke;$e+=4){const Be=we[$e+3];if(Be===0){we[$e]=255,we[$e+1]=255,we[$e+2]=255;continue}const Pe=255/Be;we[$e]=(we[$e]-ye)*Pe+ye,we[$e+1]=(we[$e+1]-Re)*Pe+Re,we[$e+2]=(we[$e+2]-Ye)*Pe+Ye}}createImageData(we=!1){const Fe=this.drawWidth,_e=this.drawHeight,Ee={width:Fe,height:_e,interpolate:this.interpolate,kind:0,data:null},Ce=this.numComps,ye=this.width,Re=this.height,Ye=this.bpc,ke=ye*Ce*Ye+7>>3;if(!we){let Me;if(this.colorSpace.name==="DeviceGray"&&Ye===1?Me=ae.ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&Ye===8&&!this.needsDecode&&(Me=ae.ImageKind.RGB_24BPP),Me&&!this.smask&&!this.mask&&Fe===ye&&_e===Re){if(Ee.kind=Me,Ee.data=this.getImageBytes(Re*ke,{}),this.needsDecode){(0,ae.assert)(Me===ae.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const Ve=Ee.data;for(let He=0,Ie=Ve.length;He<Ie;He++)Ve[He]^=255}return Ee}if(this.image instanceof Ae.JpegStream&&!this.smask&&!this.mask){let Ve=Re*ke;switch(this.colorSpace.name){case"DeviceGray":Ve*=3;case"DeviceRGB":case"DeviceCMYK":return Ee.kind=ae.ImageKind.RGB_24BPP,Ee.data=this.getImageBytes(Ve,{drawWidth:Fe,drawHeight:_e,forceRGB:!0}),Ee}}}const $e=this.getImageBytes(Re*ke,{internal:!0}),Be=0|$e.length/ke*_e/Re,Pe=this.getComponents($e);let Ue,Te;return!we&&!this.smask&&!this.mask?(Ee.kind=ae.ImageKind.RGB_24BPP,Ee.data=new Uint8ClampedArray(Fe*_e*3),Ue=0,Te=!1):(Ee.kind=ae.ImageKind.RGBA_32BPP,Ee.data=new Uint8ClampedArray(Fe*_e*4),Ue=1,Te=!0,this.fillOpacity(Ee.data,Fe,_e,Be,Pe)),this.needsDecode&&this.decodeBuffer(Pe),this.colorSpace.fillRgb(Ee.data,ye,Re,Fe,_e,Be,Ye,Pe,Ue),Te&&this.undoPreblend(Ee.data,Fe,Be),Ee}fillGrayBuffer(we){const Fe=this.numComps;if(Fe!==1)throw new ae.FormatError(`Reading gray scale from a color image: ${Fe}`);const _e=this.width,Ee=this.height,Ce=this.bpc,ye=_e*Fe*Ce+7>>3,Re=this.getImageBytes(Ee*ye,{internal:!0}),Ye=this.getComponents(Re);let ke,$e;if(Ce===1){if($e=_e*Ee,this.needsDecode)for(ke=0;ke<$e;++ke)we[ke]=Ye[ke]-1&255;else for(ke=0;ke<$e;++ke)we[ke]=-Ye[ke]&255;return}this.needsDecode&&this.decodeBuffer(Ye),$e=_e*Ee;const Be=255/((1<<Ce)-1);for(ke=0;ke<$e;++ke)we[ke]=Be*Ye[ke]}getImageBytes(we,{drawWidth:Fe,drawHeight:_e,forceRGB:Ee=!1,internal:Ce=!1}){this.image.reset(),this.image.drawWidth=Fe||this.width,this.image.drawHeight=_e||this.height,this.image.forceRGB=!!Ee;const ye=this.image.getBytes(we);return Ce||this.image instanceof re.DecodeStream?ye:((0,ae.assert)(ye instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(ye))}}oe.PDFImage=xe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.applyMaskImageData=he;var ae=ce(2);function he({src:de,srcPos:pe=0,dest:re,destPos:Ae=0,width:ge,height:Se,inverseDecode:fe=!1}){const be=ae.FeatureTest.isLittleEndian?4278190080:255,[xe,ue]=fe?[0,be]:[be,0],we=ge>>3,Fe=ge&7,_e=de.length;re=new Uint32Array(re.buffer);for(let Ee=0;Ee<Se;Ee++){for(const ye=pe+we;pe<ye;pe++){const Re=pe<_e?de[pe]:255;re[Ae++]=Re&128?ue:xe,re[Ae++]=Re&64?ue:xe,re[Ae++]=Re&32?ue:xe,re[Ae++]=Re&16?ue:xe,re[Ae++]=Re&8?ue:xe,re[Ae++]=Re&4?ue:xe,re[Ae++]=Re&2?ue:xe,re[Ae++]=Re&1?ue:xe}if(Fe===0)continue;const Ce=pe<_e?de[pe++]:255;for(let ye=0;ye<Fe;ye++)re[Ae++]=Ce&1<<7-ye?ue:xe}return{srcPos:pe,destPos:Ae}}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.incrementalUpdate=Ce,oe.writeDict=Se,oe.writeObject=ge;var ae=ce(2),he=ce(5),de=ce(6),pe=ce(66),re=ce(7),Ae=ce(67);function ge(ye,Re,Ye,ke){Ye.push(`${ye.num} ${ye.gen} obj
`),Re instanceof he.Dict?Se(Re,Ye,ke):Re instanceof re.BaseStream&&fe(Re,Ye,ke),Ye.push(`
endobj
`)}function Se(ye,Re,Ye){Re.push("<<");for(const ke of ye.getKeys())Re.push(` /${(0,de.escapePDFName)(ke)} `),xe(ye.getRaw(ke),Re,Ye);Re.push(">>")}function fe(ye,Re,Ye){Se(ye.dict,Re,Ye),Re.push(` stream
`);let ke=ye.getString();Ye!==null&&(ke=Ye.encryptString(ke)),Re.push(ke,`
endstream
`)}function be(ye,Re,Ye){Re.push("[");let ke=!0;for(const $e of ye)ke?ke=!1:Re.push(" "),xe($e,Re,Ye);Re.push("]")}function xe(ye,Re,Ye){ye instanceof he.Name?Re.push(`/${(0,de.escapePDFName)(ye.name)}`):ye instanceof he.Ref?Re.push(`${ye.num} ${ye.gen} R`):Array.isArray(ye)?be(ye,Re,Ye):typeof ye=="string"?(Ye!==null&&(ye=Ye.encryptString(ye)),Re.push(`(${(0,ae.escapeString)(ye)})`)):typeof ye=="number"?Re.push((0,de.numberToString)(ye)):typeof ye=="boolean"?Re.push(ye.toString()):ye instanceof he.Dict?Se(ye,Re,Ye):ye instanceof re.BaseStream?fe(ye,Re,Ye):ye===null?Re.push("null"):(0,ae.warn)(`Unhandled value in writer: ${typeof ye}, please file a bug.`)}function ue(ye,Re,Ye,ke){for(let $e=Re+Ye-1;$e>Ye-1;$e--)ke[$e]=ye&255,ye>>=8;return Ye+Re}function we(ye,Re,Ye){for(let ke=0,$e=ye.length;ke<$e;ke++)Ye[Re+ke]=ye.charCodeAt(ke)&255}function Fe(ye,Re){const Ye=Math.floor(Date.now()/1e3),ke=Re.filename||"",$e=[Ye.toString(),ke,ye.toString()];let Be=$e.reduce((Te,Me)=>Te+Me.length,0);for(const Te of Object.values(Re.info))$e.push(Te),Be+=Te.length;const Pe=new Uint8Array(Be);let Ue=0;for(const Te of $e)we(Te,Ue,Pe),Ue+=Te.length;return(0,ae.bytesToString)((0,Ae.calculateMD5)(Pe))}function _e(ye,Re){const Ye=new pe.SimpleXMLParser({hasAttributes:!0}).parseFromString(ye);for(const{xfa:$e}of Re){if(!$e)continue;const{path:Be,value:Pe}=$e;if(!Be)continue;const Ue=Ye.documentElement.searchNode((0,de.parseXFAPath)(Be),0);Ue?Array.isArray(Pe)?Ue.childNodes=Pe.map(Te=>new pe.SimpleDOMNode("value",Te)):Ue.childNodes=[new pe.SimpleDOMNode("#text",Pe)]:(0,ae.warn)(`Node not found for path: ${Be}`)}const ke=[];return Ye.documentElement.dump(ke),ke.join("")}function Ee({xfaData:ye,xfaDatasetsRef:Re,hasXfaDatasetsEntry:Ye,acroFormRef:ke,acroForm:$e,newRefs:Be,xref:Pe,xrefInfo:Ue}){if(Pe===null)return;if(!Ye){if(!ke){(0,ae.warn)("XFA - Cannot save it");return}const Ve=$e.get("XFA"),He=Ve.slice();He.splice(2,0,"datasets"),He.splice(3,0,Re),$e.set("XFA",He);const Ie=Pe.encrypt;let Le=null;Ie&&(Le=Ie.createCipherTransform(ke.num,ke.gen));const Oe=[`${ke.num} ${ke.gen} obj
`];Se($e,Oe,Le),Oe.push(`
`),$e.set("XFA",Ve),Be.push({ref:ke,data:Oe.join("")})}if(ye===null){const Ve=Pe.fetchIfRef(Re);ye=_e(Ve.getString(),Be)}const Te=Pe.encrypt;Te&&(ye=Te.createCipherTransform(Re.num,Re.gen).encryptString(ye));const Me=`${Re.num} ${Re.gen} obj
<< /Type /EmbeddedFile /Length ${ye.length}>>
stream
`+ye+`
endstream
endobj
`;Be.push({ref:Re,data:Me})}function Ce({originalData:ye,xrefInfo:Re,newRefs:Ye,xref:ke=null,hasXfa:$e=!1,xfaDatasetsRef:Be=null,hasXfaDatasetsEntry:Pe=!1,acroFormRef:Ue=null,acroForm:Te=null,xfaData:Me=null}){$e&&Ee({xfaData:Me,xfaDatasetsRef:Be,hasXfaDatasetsEntry:Pe,acroFormRef:Ue,acroForm:Te,newRefs:Ye,xref:ke,xrefInfo:Re});const Ve=new he.Dict(null),He=Re.newRef;let Ie,Le;const Oe=ye.at(-1);Oe===10||Oe===13?(Ie=[],Le=ye.length):(Ie=[`
`],Le=ye.length+1),Ve.set("Size",He.num+1),Ve.set("Prev",Re.startXRef),Ve.set("Type",he.Name.get("XRef")),Re.rootRef!==null&&Ve.set("Root",Re.rootRef),Re.infoRef!==null&&Ve.set("Info",Re.infoRef),Re.encryptRef!==null&&Ve.set("Encrypt",Re.encryptRef),Ye.push({ref:He,data:""}),Ye=Ye.sort((Qe,We)=>Qe.ref.num-We.ref.num);const Ne=[[0,1,65535]],qe=[0,1];let it=0;for(const{ref:Qe,data:We}of Ye)it=Math.max(it,Le),Ne.push([1,Le,Math.min(Qe.gen,65535)]),Le+=We.length,qe.push(Qe.num,1),Ie.push(We);if(Ve.set("Index",qe),Array.isArray(Re.fileIds)&&Re.fileIds.length>0){const Qe=Fe(Le,Re);Ve.set("ID",[Re.fileIds[0],Qe])}const Xe=[1,Math.ceil(Math.log2(it)/8),2],ot=(Xe[0]+Xe[1]+Xe[2])*Ne.length;Ve.set("W",Xe),Ve.set("Length",ot),Ie.push(`${He.num} ${He.gen} obj
`),Se(Ve,Ie,null),Ie.push(` stream
`);const Ge=Ie.reduce((Qe,We)=>Qe+We.length,0),Ke=`
endstream
endobj
startxref
${Le}
%%EOF
`,je=new Uint8Array(ye.length+Ge+ot+Ke.length);je.set(ye);let nt=ye.length;for(const Qe of Ie)we(Qe,nt,je),nt+=Qe.length;for(const[Qe,We,rt]of Ne)nt=ue(Qe,Xe[0],nt,je),nt=ue(We,Xe[1],nt,je),nt=ue(rt,Xe[2],nt,je);return we(Ke,nt,je),je}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.XMLParserErrorCode=oe.XMLParserBase=oe.SimpleXMLParser=oe.SimpleDOMNode=void 0;var ae=ce(6);const he={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};oe.XMLParserErrorCode=he;function de(Se,fe){const be=Se[fe];return be===" "||be===`
`||be==="\r"||be==="	"}function pe(Se){for(let fe=0,be=Se.length;fe<be;fe++)if(!de(Se,fe))return!1;return!0}class re{_resolveEntities(fe){return fe.replace(/&([^;]+);/g,(be,xe)=>{if(xe.substring(0,2)==="#x")return String.fromCodePoint(parseInt(xe.substring(2),16));if(xe.substring(0,1)==="#")return String.fromCodePoint(parseInt(xe.substring(1),10));switch(xe){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(xe)})}_parseContent(fe,be){const xe=[];let ue=be;function we(){for(;ue<fe.length&&de(fe,ue);)++ue}for(;ue<fe.length&&!de(fe,ue)&&fe[ue]!==">"&&fe[ue]!=="/";)++ue;const Fe=fe.substring(be,ue);for(we();ue<fe.length&&fe[ue]!==">"&&fe[ue]!=="/"&&fe[ue]!=="?";){we();let _e="",Ee="";for(;ue<fe.length&&!de(fe,ue)&&fe[ue]!=="=";)_e+=fe[ue],++ue;if(we(),fe[ue]!=="=")return null;++ue,we();const Ce=fe[ue];if(Ce!=='"'&&Ce!=="'")return null;const ye=fe.indexOf(Ce,++ue);if(ye<0)return null;Ee=fe.substring(ue,ye),xe.push({name:_e,value:this._resolveEntities(Ee)}),ue=ye+1,we()}return{name:Fe,attributes:xe,parsed:ue-be}}_parseProcessingInstruction(fe,be){let xe=be;function ue(){for(;xe<fe.length&&de(fe,xe);)++xe}for(;xe<fe.length&&!de(fe,xe)&&fe[xe]!==">"&&fe[xe]!=="?"&&fe[xe]!=="/";)++xe;const we=fe.substring(be,xe);ue();const Fe=xe;for(;xe<fe.length&&(fe[xe]!=="?"||fe[xe+1]!==">");)++xe;const _e=fe.substring(Fe,xe);return{name:we,value:_e,parsed:xe-be}}parseXml(fe){let be=0;for(;be<fe.length;){const xe=fe[be];let ue=be;if(xe==="<"){++ue;const we=fe[ue];let Fe;switch(we){case"/":if(++ue,Fe=fe.indexOf(">",ue),Fe<0){this.onError(he.UnterminatedElement);return}this.onEndElement(fe.substring(ue,Fe)),ue=Fe+1;break;case"?":++ue;const _e=this._parseProcessingInstruction(fe,ue);if(fe.substring(ue+_e.parsed,ue+_e.parsed+2)!=="?>"){this.onError(he.UnterminatedXmlDeclaration);return}this.onPi(_e.name,_e.value),ue+=_e.parsed+2;break;case"!":if(fe.substring(ue+1,ue+3)==="--"){if(Fe=fe.indexOf("-->",ue+3),Fe<0){this.onError(he.UnterminatedComment);return}this.onComment(fe.substring(ue+3,Fe)),ue=Fe+3}else if(fe.substring(ue+1,ue+8)==="[CDATA["){if(Fe=fe.indexOf("]]>",ue+8),Fe<0){this.onError(he.UnterminatedCdat);return}this.onCdata(fe.substring(ue+8,Fe)),ue=Fe+3}else if(fe.substring(ue+1,ue+8)==="DOCTYPE"){const ye=fe.indexOf("[",ue+8);let Re=!1;if(Fe=fe.indexOf(">",ue+8),Fe<0){this.onError(he.UnterminatedDoctypeDeclaration);return}if(ye>0&&Fe>ye){if(Fe=fe.indexOf("]>",ue+8),Fe<0){this.onError(he.UnterminatedDoctypeDeclaration);return}Re=!0}const Ye=fe.substring(ue+8,Fe+(Re?1:0));this.onDoctype(Ye),ue=Fe+(Re?2:1)}else{this.onError(he.MalformedElement);return}break;default:const Ee=this._parseContent(fe,ue);if(Ee===null){this.onError(he.MalformedElement);return}let Ce=!1;if(fe.substring(ue+Ee.parsed,ue+Ee.parsed+2)==="/>")Ce=!0;else if(fe.substring(ue+Ee.parsed,ue+Ee.parsed+1)!==">"){this.onError(he.UnterminatedElement);return}this.onBeginElement(Ee.name,Ee.attributes,Ce),ue+=Ee.parsed+(Ce?2:1);break}}else{for(;ue<fe.length&&fe[ue]!=="<";)ue++;const we=fe.substring(be,ue);this.onText(this._resolveEntities(we))}be=ue}}onResolveEntity(fe){return`&${fe};`}onPi(fe,be){}onComment(fe){}onCdata(fe){}onDoctype(fe){}onText(fe){}onBeginElement(fe,be,xe){}onEndElement(fe){}onError(fe){}}oe.XMLParserBase=re;class Ae{constructor(fe,be){this.nodeName=fe,this.nodeValue=be,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const fe=this.parentNode.childNodes;if(!fe)return;const be=fe.indexOf(this);if(be!==-1)return fe[be+1]}get textContent(){return this.childNodes?this.childNodes.map(function(fe){return fe.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(fe,be){if(be>=fe.length)return this;const xe=fe[be],ue=[];let we=this;for(;;){if(xe.name===we.nodeName)if(xe.pos===0){const Fe=we.searchNode(fe,be+1);if(Fe!==null)return Fe}else{if(ue.length===0)return null;{const[Fe]=ue.pop();let _e=0;for(const Ee of Fe.childNodes)if(xe.name===Ee.nodeName){if(_e===xe.pos)return Ee.searchNode(fe,be+1);_e++}return we.searchNode(fe,be+1)}}if(we.childNodes&&we.childNodes.length!==0)ue.push([we,0]),we=we.childNodes[0];else{if(ue.length===0)return null;for(;ue.length!==0;){const[Fe,_e]=ue.pop(),Ee=_e+1;if(Ee<Fe.childNodes.length){ue.push([Fe,Ee]),we=Fe.childNodes[Ee];break}}if(ue.length===0)return null}}}dump(fe){if(this.nodeName==="#text"){fe.push((0,ae.encodeToXmlString)(this.nodeValue));return}if(fe.push(`<${this.nodeName}`),this.attributes)for(const be of this.attributes)fe.push(` ${be.name}="${(0,ae.encodeToXmlString)(be.value)}"`);if(this.hasChildNodes()){fe.push(">");for(const be of this.childNodes)be.dump(fe);fe.push(`</${this.nodeName}>`)}else this.nodeValue?fe.push(`>${(0,ae.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`):fe.push("/>")}}oe.SimpleDOMNode=Ae;class ge extends re{constructor({hasAttributes:fe=!1,lowerCaseName:be=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=he.NoError,this._hasAttributes=fe,this._lowerCaseName=be}parseFromString(fe){if(this._currentFragment=[],this._stack=[],this._errorCode=he.NoError,this.parseXml(fe),this._errorCode!==he.NoError)return;const[be]=this._currentFragment;if(be)return{documentElement:be}}onText(fe){if(pe(fe))return;const be=new Ae("#text",fe);this._currentFragment.push(be)}onCdata(fe){const be=new Ae("#text",fe);this._currentFragment.push(be)}onBeginElement(fe,be,xe){this._lowerCaseName&&(fe=fe.toLowerCase());const ue=new Ae(fe);ue.childNodes=[],this._hasAttributes&&(ue.attributes=be),this._currentFragment.push(ue),!xe&&(this._stack.push(this._currentFragment),this._currentFragment=ue.childNodes)}onEndElement(fe){this._currentFragment=this._stack.pop()||[];const be=this._currentFragment.at(-1);if(!be)return null;for(let xe=0,ue=be.childNodes.length;xe<ue;xe++)be.childNodes[xe].parentNode=be;return be}onError(fe){this._errorCode=fe}}oe.SimpleXMLParser=ge},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.calculateSHA256=oe.calculateMD5=oe.PDF20=oe.PDF17=oe.CipherTransformFactory=oe.ARCFourCipher=oe.AES256Cipher=oe.AES128Cipher=void 0,oe.calculateSHA384=fe,oe.calculateSHA512=void 0;var ae=ce(2),he=ce(5),de=ce(68);class pe{constructor(Re){this.a=0,this.b=0;const Ye=new Uint8Array(256),ke=Re.length;for(let $e=0;$e<256;++$e)Ye[$e]=$e;for(let $e=0,Be=0;$e<256;++$e){const Pe=Ye[$e];Be=Be+Pe+Re[$e%ke]&255,Ye[$e]=Ye[Be],Ye[Be]=Pe}this.s=Ye}encryptBlock(Re){let Ye=this.a,ke=this.b;const $e=this.s,Be=Re.length,Pe=new Uint8Array(Be);for(let Ue=0;Ue<Be;++Ue){Ye=Ye+1&255;const Te=$e[Ye];ke=ke+Te&255;const Me=$e[ke];$e[Ye]=Me,$e[ke]=Te,Pe[Ue]=Re[Ue]^$e[Te+Me&255]}return this.a=Ye,this.b=ke,Pe}decryptBlock(Re){return this.encryptBlock(Re)}encrypt(Re){return this.encryptBlock(Re)}}oe.ARCFourCipher=pe;const re=function(){const Re=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),Ye=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function ke($e,Be,Pe){let Ue=1732584193,Te=-271733879,Me=-1732584194,Ve=271733878;const He=Pe+72&-64,Ie=new Uint8Array(He);let Le,Oe;for(Le=0;Le<Pe;++Le)Ie[Le]=$e[Be++];Ie[Le++]=128;const Ne=He-8;for(;Le<Ne;)Ie[Le++]=0;Ie[Le++]=Pe<<3&255,Ie[Le++]=Pe>>5&255,Ie[Le++]=Pe>>13&255,Ie[Le++]=Pe>>21&255,Ie[Le++]=Pe>>>29&255,Ie[Le++]=0,Ie[Le++]=0,Ie[Le++]=0;const qe=new Int32Array(16);for(Le=0;Le<He;){for(Oe=0;Oe<16;++Oe,Le+=4)qe[Oe]=Ie[Le]|Ie[Le+1]<<8|Ie[Le+2]<<16|Ie[Le+3]<<24;let it=Ue,tt=Te,Xe=Me,Ze=Ve,ot,Ge;for(Oe=0;Oe<64;++Oe){Oe<16?(ot=tt&Xe|~tt&Ze,Ge=Oe):Oe<32?(ot=Ze&tt|~Ze&Xe,Ge=5*Oe+1&15):Oe<48?(ot=tt^Xe^Ze,Ge=3*Oe+5&15):(ot=Xe^(tt|~Ze),Ge=7*Oe&15);const Ke=Ze,je=it+ot+Ye[Oe]+qe[Ge]|0,nt=Re[Oe];Ze=Xe,Xe=tt,tt=tt+(je<<nt|je>>>32-nt)|0,it=Ke}Ue=Ue+it|0,Te=Te+tt|0,Me=Me+Xe|0,Ve=Ve+Ze|0}return new Uint8Array([Ue&255,Ue>>8&255,Ue>>16&255,Ue>>>24&255,Te&255,Te>>8&255,Te>>16&255,Te>>>24&255,Me&255,Me>>8&255,Me>>16&255,Me>>>24&255,Ve&255,Ve>>8&255,Ve>>16&255,Ve>>>24&255])}return ke}();oe.calculateMD5=re;class Ae{constructor(Re,Ye){this.high=Re|0,this.low=Ye|0}and(Re){this.high&=Re.high,this.low&=Re.low}xor(Re){this.high^=Re.high,this.low^=Re.low}or(Re){this.high|=Re.high,this.low|=Re.low}shiftRight(Re){Re>=32?(this.low=this.high>>>Re-32|0,this.high=0):(this.low=this.low>>>Re|this.high<<32-Re,this.high=this.high>>>Re|0)}shiftLeft(Re){Re>=32?(this.high=this.low<<Re-32,this.low=0):(this.high=this.high<<Re|this.low>>>32-Re,this.low<<=Re)}rotateRight(Re){let Ye,ke;Re&32?(ke=this.low,Ye=this.high):(Ye=this.low,ke=this.high),Re&=31,this.low=Ye>>>Re|ke<<32-Re,this.high=ke>>>Re|Ye<<32-Re}not(){this.high=~this.high,this.low=~this.low}add(Re){const Ye=(this.low>>>0)+(Re.low>>>0);let ke=(this.high>>>0)+(Re.high>>>0);Ye>4294967295&&(ke+=1),this.low=Ye|0,this.high=ke|0}copyTo(Re,Ye){Re[Ye]=this.high>>>24&255,Re[Ye+1]=this.high>>16&255,Re[Ye+2]=this.high>>8&255,Re[Ye+3]=this.high&255,Re[Ye+4]=this.low>>>24&255,Re[Ye+5]=this.low>>16&255,Re[Ye+6]=this.low>>8&255,Re[Ye+7]=this.low&255}assign(Re){this.high=Re.high,this.low=Re.low}}const ge=function(){function Re(Ve,He){return Ve>>>He|Ve<<32-He}function Ye(Ve,He,Ie){return Ve&He^~Ve&Ie}function ke(Ve,He,Ie){return Ve&He^Ve&Ie^He&Ie}function $e(Ve){return Re(Ve,2)^Re(Ve,13)^Re(Ve,22)}function Be(Ve){return Re(Ve,6)^Re(Ve,11)^Re(Ve,25)}function Pe(Ve){return Re(Ve,7)^Re(Ve,18)^Ve>>>3}function Ue(Ve){return Re(Ve,17)^Re(Ve,19)^Ve>>>10}const Te=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Me(Ve,He,Ie){let Le=1779033703,Oe=3144134277,Ne=1013904242,qe=2773480762,it=1359893119,tt=2600822924,Xe=528734635,Ze=1541459225;const ot=Math.ceil((Ie+9)/64)*64,Ge=new Uint8Array(ot);let Ke,je;for(Ke=0;Ke<Ie;++Ke)Ge[Ke]=Ve[He++];Ge[Ke++]=128;const nt=ot-8;for(;Ke<nt;)Ge[Ke++]=0;Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=Ie>>>29&255,Ge[Ke++]=Ie>>21&255,Ge[Ke++]=Ie>>13&255,Ge[Ke++]=Ie>>5&255,Ge[Ke++]=Ie<<3&255;const Qe=new Uint32Array(64);for(Ke=0;Ke<ot;){for(je=0;je<16;++je)Qe[je]=Ge[Ke]<<24|Ge[Ke+1]<<16|Ge[Ke+2]<<8|Ge[Ke+3],Ke+=4;for(je=16;je<64;++je)Qe[je]=Ue(Qe[je-2])+Qe[je-7]+Pe(Qe[je-15])+Qe[je-16]|0;let We=Le,rt=Oe,et=Ne,ct=qe,at=it,Je=tt,lt=Xe,ut=Ze,ft,pt;for(je=0;je<64;++je)ft=ut+Be(at)+Ye(at,Je,lt)+Te[je]+Qe[je],pt=$e(We)+ke(We,rt,et),ut=lt,lt=Je,Je=at,at=ct+ft|0,ct=et,et=rt,rt=We,We=ft+pt|0;Le=Le+We|0,Oe=Oe+rt|0,Ne=Ne+et|0,qe=qe+ct|0,it=it+at|0,tt=tt+Je|0,Xe=Xe+lt|0,Ze=Ze+ut|0}return new Uint8Array([Le>>24&255,Le>>16&255,Le>>8&255,Le&255,Oe>>24&255,Oe>>16&255,Oe>>8&255,Oe&255,Ne>>24&255,Ne>>16&255,Ne>>8&255,Ne&255,qe>>24&255,qe>>16&255,qe>>8&255,qe&255,it>>24&255,it>>16&255,it>>8&255,it&255,tt>>24&255,tt>>16&255,tt>>8&255,tt&255,Xe>>24&255,Xe>>16&255,Xe>>8&255,Xe&255,Ze>>24&255,Ze>>16&255,Ze>>8&255,Ze&255])}return Me}();oe.calculateSHA256=ge;const Se=function(){function Re(Me,Ve,He,Ie,Le){Me.assign(Ve),Me.and(He),Le.assign(Ve),Le.not(),Le.and(Ie),Me.xor(Le)}function Ye(Me,Ve,He,Ie,Le){Me.assign(Ve),Me.and(He),Le.assign(Ve),Le.and(Ie),Me.xor(Le),Le.assign(He),Le.and(Ie),Me.xor(Le)}function ke(Me,Ve,He){Me.assign(Ve),Me.rotateRight(28),He.assign(Ve),He.rotateRight(34),Me.xor(He),He.assign(Ve),He.rotateRight(39),Me.xor(He)}function $e(Me,Ve,He){Me.assign(Ve),Me.rotateRight(14),He.assign(Ve),He.rotateRight(18),Me.xor(He),He.assign(Ve),He.rotateRight(41),Me.xor(He)}function Be(Me,Ve,He){Me.assign(Ve),Me.rotateRight(1),He.assign(Ve),He.rotateRight(8),Me.xor(He),He.assign(Ve),He.shiftRight(7),Me.xor(He)}function Pe(Me,Ve,He){Me.assign(Ve),Me.rotateRight(19),He.assign(Ve),He.rotateRight(61),Me.xor(He),He.assign(Ve),He.shiftRight(6),Me.xor(He)}const Ue=[new Ae(1116352408,3609767458),new Ae(1899447441,602891725),new Ae(3049323471,3964484399),new Ae(3921009573,2173295548),new Ae(961987163,4081628472),new Ae(1508970993,3053834265),new Ae(2453635748,2937671579),new Ae(2870763221,3664609560),new Ae(3624381080,2734883394),new Ae(310598401,1164996542),new Ae(607225278,1323610764),new Ae(1426881987,3590304994),new Ae(1925078388,4068182383),new Ae(2162078206,991336113),new Ae(2614888103,633803317),new Ae(3248222580,3479774868),new Ae(3835390401,2666613458),new Ae(4022224774,944711139),new Ae(264347078,2341262773),new Ae(604807628,2007800933),new Ae(770255983,1495990901),new Ae(1249150122,1856431235),new Ae(1555081692,3175218132),new Ae(1996064986,2198950837),new Ae(2554220882,3999719339),new Ae(2821834349,766784016),new Ae(2952996808,2566594879),new Ae(3210313671,3203337956),new Ae(3336571891,1034457026),new Ae(3584528711,2466948901),new Ae(113926993,3758326383),new Ae(338241895,168717936),new Ae(666307205,1188179964),new Ae(773529912,1546045734),new Ae(1294757372,1522805485),new Ae(1396182291,2643833823),new Ae(1695183700,2343527390),new Ae(1986661051,1014477480),new Ae(2177026350,1206759142),new Ae(2456956037,344077627),new Ae(2730485921,1290863460),new Ae(2820302411,3158454273),new Ae(3259730800,3505952657),new Ae(3345764771,106217008),new Ae(3516065817,3606008344),new Ae(3600352804,1432725776),new Ae(4094571909,1467031594),new Ae(275423344,851169720),new Ae(430227734,3100823752),new Ae(506948616,1363258195),new Ae(659060556,3750685593),new Ae(883997877,3785050280),new Ae(958139571,3318307427),new Ae(1322822218,3812723403),new Ae(1537002063,2003034995),new Ae(1747873779,3602036899),new Ae(1955562222,1575990012),new Ae(2024104815,1125592928),new Ae(2227730452,2716904306),new Ae(2361852424,442776044),new Ae(2428436474,593698344),new Ae(2756734187,3733110249),new Ae(3204031479,2999351573),new Ae(3329325298,3815920427),new Ae(3391569614,3928383900),new Ae(3515267271,566280711),new Ae(3940187606,3454069534),new Ae(4118630271,4000239992),new Ae(116418474,1914138554),new Ae(174292421,2731055270),new Ae(289380356,3203993006),new Ae(460393269,320620315),new Ae(685471733,587496836),new Ae(852142971,1086792851),new Ae(1017036298,365543100),new Ae(1126000580,2618297676),new Ae(1288033470,3409855158),new Ae(1501505948,4234509866),new Ae(1607167915,987167468),new Ae(1816402316,1246189591)];function Te(Me,Ve,He,Ie=!1){let Le,Oe,Ne,qe,it,tt,Xe,Ze;Ie?(Le=new Ae(3418070365,3238371032),Oe=new Ae(1654270250,914150663),Ne=new Ae(2438529370,812702999),qe=new Ae(355462360,4144912697),it=new Ae(1731405415,4290775857),tt=new Ae(2394180231,1750603025),Xe=new Ae(3675008525,1694076839),Ze=new Ae(1203062813,3204075428)):(Le=new Ae(1779033703,4089235720),Oe=new Ae(3144134277,2227873595),Ne=new Ae(1013904242,4271175723),qe=new Ae(2773480762,1595750129),it=new Ae(1359893119,2917565137),tt=new Ae(2600822924,725511199),Xe=new Ae(528734635,4215389547),Ze=new Ae(1541459225,327033209));const ot=Math.ceil((He+17)/128)*128,Ge=new Uint8Array(ot);let Ke,je;for(Ke=0;Ke<He;++Ke)Ge[Ke]=Me[Ve++];Ge[Ke++]=128;const nt=ot-16;for(;Ke<nt;)Ge[Ke++]=0;Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=0,Ge[Ke++]=He>>>29&255,Ge[Ke++]=He>>21&255,Ge[Ke++]=He>>13&255,Ge[Ke++]=He>>5&255,Ge[Ke++]=He<<3&255;const Qe=new Array(80);for(Ke=0;Ke<80;Ke++)Qe[Ke]=new Ae(0,0);let We=new Ae(0,0),rt=new Ae(0,0),et=new Ae(0,0),ct=new Ae(0,0),at=new Ae(0,0),Je=new Ae(0,0),lt=new Ae(0,0),ut=new Ae(0,0);const ft=new Ae(0,0),pt=new Ae(0,0),mt=new Ae(0,0),xt=new Ae(0,0);let vt;for(Ke=0;Ke<ot;){for(je=0;je<16;++je)Qe[je].high=Ge[Ke]<<24|Ge[Ke+1]<<16|Ge[Ke+2]<<8|Ge[Ke+3],Qe[je].low=Ge[Ke+4]<<24|Ge[Ke+5]<<16|Ge[Ke+6]<<8|Ge[Ke+7],Ke+=8;for(je=16;je<80;++je)vt=Qe[je],Pe(vt,Qe[je-2],xt),vt.add(Qe[je-7]),Be(mt,Qe[je-15],xt),vt.add(mt),vt.add(Qe[je-16]);for(We.assign(Le),rt.assign(Oe),et.assign(Ne),ct.assign(qe),at.assign(it),Je.assign(tt),lt.assign(Xe),ut.assign(Ze),je=0;je<80;++je)ft.assign(ut),$e(mt,at,xt),ft.add(mt),Re(mt,at,Je,lt,xt),ft.add(mt),ft.add(Ue[je]),ft.add(Qe[je]),ke(pt,We,xt),Ye(mt,We,rt,et,xt),pt.add(mt),vt=ut,ut=lt,lt=Je,Je=at,ct.add(ft),at=ct,ct=et,et=rt,rt=We,vt.assign(ft),vt.add(pt),We=vt;Le.add(We),Oe.add(rt),Ne.add(et),qe.add(ct),it.add(at),tt.add(Je),Xe.add(lt),Ze.add(ut)}let wt;return Ie?(wt=new Uint8Array(48),Le.copyTo(wt,0),Oe.copyTo(wt,8),Ne.copyTo(wt,16),qe.copyTo(wt,24),it.copyTo(wt,32),tt.copyTo(wt,40)):(wt=new Uint8Array(64),Le.copyTo(wt,0),Oe.copyTo(wt,8),Ne.copyTo(wt,16),qe.copyTo(wt,24),it.copyTo(wt,32),tt.copyTo(wt,40),Xe.copyTo(wt,48),Ze.copyTo(wt,56)),wt}return Te}();oe.calculateSHA512=Se;function fe(ye,Re,Ye){return Se(ye,Re,Ye,!0)}class be{decryptBlock(Re){return Re}encrypt(Re){return Re}}class xe{constructor(){this.constructor===xe&&(0,ae.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let Re=0;Re<256;Re++)Re<128?this._mixCol[Re]=Re<<1:this._mixCol[Re]=Re<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(Re){(0,ae.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(Re,Ye){let ke,$e,Be;const Pe=new Uint8Array(16);Pe.set(Re);for(let Ue=0,Te=this._keySize;Ue<16;++Ue,++Te)Pe[Ue]^=Ye[Te];for(let Ue=this._cyclesOfRepetition-1;Ue>=1;--Ue){ke=Pe[13],Pe[13]=Pe[9],Pe[9]=Pe[5],Pe[5]=Pe[1],Pe[1]=ke,ke=Pe[14],$e=Pe[10],Pe[14]=Pe[6],Pe[10]=Pe[2],Pe[6]=ke,Pe[2]=$e,ke=Pe[15],$e=Pe[11],Be=Pe[7],Pe[15]=Pe[3],Pe[11]=ke,Pe[7]=$e,Pe[3]=Be;for(let Te=0;Te<16;++Te)Pe[Te]=this._inv_s[Pe[Te]];for(let Te=0,Me=Ue*16;Te<16;++Te,++Me)Pe[Te]^=Ye[Me];for(let Te=0;Te<16;Te+=4){const Me=this._mix[Pe[Te]],Ve=this._mix[Pe[Te+1]],He=this._mix[Pe[Te+2]],Ie=this._mix[Pe[Te+3]];ke=Me^Ve>>>8^Ve<<24^He>>>16^He<<16^Ie>>>24^Ie<<8,Pe[Te]=ke>>>24&255,Pe[Te+1]=ke>>16&255,Pe[Te+2]=ke>>8&255,Pe[Te+3]=ke&255}}ke=Pe[13],Pe[13]=Pe[9],Pe[9]=Pe[5],Pe[5]=Pe[1],Pe[1]=ke,ke=Pe[14],$e=Pe[10],Pe[14]=Pe[6],Pe[10]=Pe[2],Pe[6]=ke,Pe[2]=$e,ke=Pe[15],$e=Pe[11],Be=Pe[7],Pe[15]=Pe[3],Pe[11]=ke,Pe[7]=$e,Pe[3]=Be;for(let Ue=0;Ue<16;++Ue)Pe[Ue]=this._inv_s[Pe[Ue]],Pe[Ue]^=Ye[Ue];return Pe}_encrypt(Re,Ye){const ke=this._s;let $e,Be,Pe;const Ue=new Uint8Array(16);Ue.set(Re);for(let Te=0;Te<16;++Te)Ue[Te]^=Ye[Te];for(let Te=1;Te<this._cyclesOfRepetition;Te++){for(let Me=0;Me<16;++Me)Ue[Me]=ke[Ue[Me]];Pe=Ue[1],Ue[1]=Ue[5],Ue[5]=Ue[9],Ue[9]=Ue[13],Ue[13]=Pe,Pe=Ue[2],Be=Ue[6],Ue[2]=Ue[10],Ue[6]=Ue[14],Ue[10]=Pe,Ue[14]=Be,Pe=Ue[3],Be=Ue[7],$e=Ue[11],Ue[3]=Ue[15],Ue[7]=Pe,Ue[11]=Be,Ue[15]=$e;for(let Me=0;Me<16;Me+=4){const Ve=Ue[Me+0],He=Ue[Me+1],Ie=Ue[Me+2],Le=Ue[Me+3];$e=Ve^He^Ie^Le,Ue[Me+0]^=$e^this._mixCol[Ve^He],Ue[Me+1]^=$e^this._mixCol[He^Ie],Ue[Me+2]^=$e^this._mixCol[Ie^Le],Ue[Me+3]^=$e^this._mixCol[Le^Ve]}for(let Me=0,Ve=Te*16;Me<16;++Me,++Ve)Ue[Me]^=Ye[Ve]}for(let Te=0;Te<16;++Te)Ue[Te]=ke[Ue[Te]];Pe=Ue[1],Ue[1]=Ue[5],Ue[5]=Ue[9],Ue[9]=Ue[13],Ue[13]=Pe,Pe=Ue[2],Be=Ue[6],Ue[2]=Ue[10],Ue[6]=Ue[14],Ue[10]=Pe,Ue[14]=Be,Pe=Ue[3],Be=Ue[7],$e=Ue[11],Ue[3]=Ue[15],Ue[7]=Pe,Ue[11]=Be,Ue[15]=$e;for(let Te=0,Me=this._keySize;Te<16;++Te,++Me)Ue[Te]^=Ye[Me];return Ue}_decryptBlock2(Re,Ye){const ke=Re.length;let $e=this.buffer,Be=this.bufferPosition;const Pe=[];let Ue=this.iv;for(let Ve=0;Ve<ke;++Ve){if($e[Be]=Re[Ve],++Be,Be<16)continue;const He=this._decrypt($e,this._key);for(let Ie=0;Ie<16;++Ie)He[Ie]^=Ue[Ie];Ue=$e,Pe.push(He),$e=new Uint8Array(16),Be=0}if(this.buffer=$e,this.bufferLength=Be,this.iv=Ue,Pe.length===0)return new Uint8Array(0);let Te=16*Pe.length;if(Ye){const Ve=Pe.at(-1);let He=Ve[15];if(He<=16){for(let Ie=15,Le=16-He;Ie>=Le;--Ie)if(Ve[Ie]!==He){He=0;break}Te-=He,Pe[Pe.length-1]=Ve.subarray(0,16-He)}}const Me=new Uint8Array(Te);for(let Ve=0,He=0,Ie=Pe.length;Ve<Ie;++Ve,He+=16)Me.set(Pe[Ve],He);return Me}decryptBlock(Re,Ye,ke=null){const $e=Re.length,Be=this.buffer;let Pe=this.bufferPosition;if(ke)this.iv=ke;else{for(let Ue=0;Pe<16&&Ue<$e;++Ue,++Pe)Be[Pe]=Re[Ue];if(Pe<16)return this.bufferLength=Pe,new Uint8Array(0);this.iv=Be,Re=Re.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(Re,Ye)}encrypt(Re,Ye){const ke=Re.length;let $e=this.buffer,Be=this.bufferPosition;const Pe=[];Ye||(Ye=new Uint8Array(16));for(let Me=0;Me<ke;++Me){if($e[Be]=Re[Me],++Be,Be<16)continue;for(let He=0;He<16;++He)$e[He]^=Ye[He];const Ve=this._encrypt($e,this._key);Ye=Ve,Pe.push(Ve),$e=new Uint8Array(16),Be=0}if(this.buffer=$e,this.bufferLength=Be,this.iv=Ye,Pe.length===0)return new Uint8Array(0);const Ue=16*Pe.length,Te=new Uint8Array(Ue);for(let Me=0,Ve=0,He=Pe.length;Me<He;++Me,Ve+=16)Te.set(Pe[Me],Ve);return Te}}class ue extends xe{constructor(Re){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(Re)}_expandKey(Re){const ke=this._s,$e=this._rcon,Be=new Uint8Array(176);Be.set(Re);for(let Pe=16,Ue=1;Pe<176;++Ue){let Te=Be[Pe-3],Me=Be[Pe-2],Ve=Be[Pe-1],He=Be[Pe-4];Te=ke[Te],Me=ke[Me],Ve=ke[Ve],He=ke[He],Te^=$e[Ue];for(let Ie=0;Ie<4;++Ie)Be[Pe]=Te^=Be[Pe-16],Pe++,Be[Pe]=Me^=Be[Pe-16],Pe++,Be[Pe]=Ve^=Be[Pe-16],Pe++,Be[Pe]=He^=Be[Pe-16],Pe++}return Be}}oe.AES128Cipher=ue;class we extends xe{constructor(Re){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(Re)}_expandKey(Re){const ke=this._s,$e=new Uint8Array(240);$e.set(Re);let Be=1,Pe,Ue,Te,Me;for(let Ve=32,He=1;Ve<240;++He){Ve%32===16?(Pe=ke[Pe],Ue=ke[Ue],Te=ke[Te],Me=ke[Me]):Ve%32===0&&(Pe=$e[Ve-3],Ue=$e[Ve-2],Te=$e[Ve-1],Me=$e[Ve-4],Pe=ke[Pe],Ue=ke[Ue],Te=ke[Te],Me=ke[Me],Pe^=Be,(Be<<=1)>=256&&(Be=(Be^27)&255));for(let Ie=0;Ie<4;++Ie)$e[Ve]=Pe^=$e[Ve-32],Ve++,$e[Ve]=Ue^=$e[Ve-32],Ve++,$e[Ve]=Te^=$e[Ve-32],Ve++,$e[Ve]=Me^=$e[Ve-32],Ve++}return $e}}oe.AES256Cipher=we;class Fe{checkOwnerPassword(Re,Ye,ke,$e){const Be=new Uint8Array(Re.length+56);Be.set(Re,0),Be.set(Ye,Re.length),Be.set(ke,Re.length+Ye.length);const Pe=ge(Be,0,Be.length);return(0,ae.isArrayEqual)(Pe,$e)}checkUserPassword(Re,Ye,ke){const $e=new Uint8Array(Re.length+8);$e.set(Re,0),$e.set(Ye,Re.length);const Be=ge($e,0,$e.length);return(0,ae.isArrayEqual)(Be,ke)}getOwnerKey(Re,Ye,ke,$e){const Be=new Uint8Array(Re.length+56);Be.set(Re,0),Be.set(Ye,Re.length),Be.set(ke,Re.length+Ye.length);const Pe=ge(Be,0,Be.length);return new we(Pe).decryptBlock($e,!1,new Uint8Array(16))}getUserKey(Re,Ye,ke){const $e=new Uint8Array(Re.length+8);$e.set(Re,0),$e.set(Ye,Re.length);const Be=ge($e,0,$e.length);return new we(Be).decryptBlock(ke,!1,new Uint8Array(16))}}oe.PDF17=Fe;const _e=function(){function Re(ke,$e,Be){let Pe=ge($e,0,$e.length).subarray(0,32),Ue=[0],Te=0;for(;Te<64||Ue.at(-1)>Te-32;){const Me=ke.length+Pe.length+Be.length,Ve=new Uint8Array(Me);let He=0;Ve.set(ke,He),He+=ke.length,Ve.set(Pe,He),He+=Pe.length,Ve.set(Be,He);const Ie=new Uint8Array(Me*64);for(let Ne=0,qe=0;Ne<64;Ne++,qe+=Me)Ie.set(Ve,qe);Ue=new ue(Pe.subarray(0,16)).encrypt(Ie,Pe.subarray(16,32));let Oe=0;for(let Ne=0;Ne<16;Ne++)Oe*=256%3,Oe%=3,Oe+=(Ue[Ne]>>>0)%3,Oe%=3;Oe===0?Pe=ge(Ue,0,Ue.length):Oe===1?Pe=fe(Ue,0,Ue.length):Oe===2&&(Pe=Se(Ue,0,Ue.length)),Te++}return Pe.subarray(0,32)}class Ye{hash($e,Be,Pe){return Re($e,Be,Pe)}checkOwnerPassword($e,Be,Pe,Ue){const Te=new Uint8Array($e.length+56);Te.set($e,0),Te.set(Be,$e.length),Te.set(Pe,$e.length+Be.length);const Me=Re($e,Te,Pe);return(0,ae.isArrayEqual)(Me,Ue)}checkUserPassword($e,Be,Pe){const Ue=new Uint8Array($e.length+8);Ue.set($e,0),Ue.set(Be,$e.length);const Te=Re($e,Ue,[]);return(0,ae.isArrayEqual)(Te,Pe)}getOwnerKey($e,Be,Pe,Ue){const Te=new Uint8Array($e.length+56);Te.set($e,0),Te.set(Be,$e.length),Te.set(Pe,$e.length+Be.length);const Me=Re($e,Te,Pe);return new we(Me).decryptBlock(Ue,!1,new Uint8Array(16))}getUserKey($e,Be,Pe){const Ue=new Uint8Array($e.length+8);Ue.set($e,0),Ue.set(Be,$e.length);const Te=Re($e,Ue,[]);return new we(Te).decryptBlock(Pe,!1,new Uint8Array(16))}}return Ye}();oe.PDF20=_e;class Ee{constructor(Re,Ye){this.StringCipherConstructor=Re,this.StreamCipherConstructor=Ye}createStream(Re,Ye){const ke=new this.StreamCipherConstructor;return new de.DecryptStream(Re,Ye,function(Be,Pe){return ke.decryptBlock(Be,Pe)})}decryptString(Re){const Ye=new this.StringCipherConstructor;let ke=(0,ae.stringToBytes)(Re);return ke=Ye.decryptBlock(ke,!0),(0,ae.bytesToString)(ke)}encryptString(Re){const Ye=new this.StringCipherConstructor;if(Ye instanceof xe){const Be=16-Re.length%16;Re+=String.fromCharCode(Be).repeat(Be);const Pe=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(Pe);else for(let Me=0;Me<16;Me++)Pe[Me]=Math.floor(256*Math.random());let Ue=(0,ae.stringToBytes)(Re);Ue=Ye.encrypt(Ue,Pe);const Te=new Uint8Array(16+Ue.length);return Te.set(Pe),Te.set(Ue,16),(0,ae.bytesToString)(Te)}let ke=(0,ae.stringToBytes)(Re);return ke=Ye.encrypt(ke),(0,ae.bytesToString)(ke)}}const Ce=function(){const Re=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function Ye(Me,Ve,He,Ie,Le,Oe,Ne,qe,it,tt,Xe,Ze){if(Ve){const Ge=Math.min(127,Ve.length);Ve=Ve.subarray(0,Ge)}else Ve=[];let ot;return Me===6?ot=new _e:ot=new Fe,ot.checkUserPassword(Ve,qe,Ne)?ot.getUserKey(Ve,it,Xe):Ve.length&&ot.checkOwnerPassword(Ve,Ie,Oe,He)?ot.getOwnerKey(Ve,Le,Oe,tt):null}function ke(Me,Ve,He,Ie,Le,Oe,Ne,qe){const it=40+He.length+Me.length,tt=new Uint8Array(it);let Xe=0,Ze,ot;if(Ve)for(ot=Math.min(32,Ve.length);Xe<ot;++Xe)tt[Xe]=Ve[Xe];for(Ze=0;Xe<32;)tt[Xe++]=Re[Ze++];for(Ze=0,ot=He.length;Ze<ot;++Ze)tt[Xe++]=He[Ze];for(tt[Xe++]=Le&255,tt[Xe++]=Le>>8&255,tt[Xe++]=Le>>16&255,tt[Xe++]=Le>>>24&255,Ze=0,ot=Me.length;Ze<ot;++Ze)tt[Xe++]=Me[Ze];Oe>=4&&!qe&&(tt[Xe++]=255,tt[Xe++]=255,tt[Xe++]=255,tt[Xe++]=255);let Ge=re(tt,0,Xe);const Ke=Ne>>3;if(Oe>=3)for(Ze=0;Ze<50;++Ze)Ge=re(Ge,0,Ke);const je=Ge.subarray(0,Ke);let nt,Qe;if(Oe>=3){for(Xe=0;Xe<32;++Xe)tt[Xe]=Re[Xe];for(Ze=0,ot=Me.length;Ze<ot;++Ze)tt[Xe++]=Me[Ze];nt=new pe(je),Qe=nt.encryptBlock(re(tt,0,Xe)),ot=je.length;const We=new Uint8Array(ot);for(Ze=1;Ze<=19;++Ze){for(let rt=0;rt<ot;++rt)We[rt]=je[rt]^Ze;nt=new pe(We),Qe=nt.encryptBlock(Qe)}for(Ze=0,ot=Qe.length;Ze<ot;++Ze)if(Ie[Ze]!==Qe[Ze])return null}else for(nt=new pe(je),Qe=nt.encryptBlock(Re),Ze=0,ot=Qe.length;Ze<ot;++Ze)if(Ie[Ze]!==Qe[Ze])return null;return je}function $e(Me,Ve,He,Ie){const Le=new Uint8Array(32);let Oe=0;const Ne=Math.min(32,Me.length);for(;Oe<Ne;++Oe)Le[Oe]=Me[Oe];let qe=0;for(;Oe<32;)Le[Oe++]=Re[qe++];let it=re(Le,0,Oe);const tt=Ie>>3;if(He>=3)for(qe=0;qe<50;++qe)it=re(it,0,it.length);let Xe,Ze;if(He>=3){Ze=Ve;const ot=new Uint8Array(tt);for(qe=19;qe>=0;qe--){for(let Ge=0;Ge<tt;++Ge)ot[Ge]=it[Ge]^qe;Xe=new pe(ot),Ze=Xe.encryptBlock(Ze)}}else Xe=new pe(it.subarray(0,tt)),Ze=Xe.encryptBlock(Ve);return Ze}const Be=he.Name.get("Identity");function Pe(Me,Ve,He,Ie=!1){const Le=new Uint8Array(He.length+9),Oe=He.length;let Ne;for(Ne=0;Ne<Oe;++Ne)Le[Ne]=He[Ne];return Le[Ne++]=Me&255,Le[Ne++]=Me>>8&255,Le[Ne++]=Me>>16&255,Le[Ne++]=Ve&255,Le[Ne++]=Ve>>8&255,Ie&&(Le[Ne++]=115,Le[Ne++]=65,Le[Ne++]=108,Le[Ne++]=84),re(Le,0,Ne).subarray(0,Math.min(He.length+5,16))}function Ue(Me,Ve,He,Ie,Le){if(!(Ve instanceof he.Name))throw new ae.FormatError("Invalid crypt filter name.");const Oe=Me.get(Ve.name);let Ne;if(Oe!=null&&(Ne=Oe.get("CFM")),!Ne||Ne.name==="None")return function(){return new be};if(Ne.name==="V2")return function(){return new pe(Pe(He,Ie,Le,!1))};if(Ne.name==="AESV2")return function(){return new ue(Pe(He,Ie,Le,!0))};if(Ne.name==="AESV3")return function(){return new we(Le)};throw new ae.FormatError("Unknown crypto method")}class Te{constructor(Ve,He,Ie){const Le=Ve.get("Filter");if(!(0,he.isName)(Le,"Standard"))throw new ae.FormatError("unknown encryption method");this.filterName=Le.name,this.dict=Ve;const Oe=Ve.get("V");if(!Number.isInteger(Oe)||Oe!==1&&Oe!==2&&Oe!==4&&Oe!==5)throw new ae.FormatError("unsupported encryption algorithm");this.algorithm=Oe;let Ne=Ve.get("Length");if(!Ne)if(Oe<=3)Ne=40;else{const je=Ve.get("CF"),nt=Ve.get("StmF");if(je instanceof he.Dict&&nt instanceof he.Name){je.suppressEncryption=!0;const Qe=je.get(nt.name);Ne=Qe&&Qe.get("Length")||128,Ne<40&&(Ne<<=3)}}if(!Number.isInteger(Ne)||Ne<40||Ne%8!==0)throw new ae.FormatError("invalid key length");const qe=(0,ae.stringToBytes)(Ve.get("O")).subarray(0,32),it=(0,ae.stringToBytes)(Ve.get("U")).subarray(0,32),tt=Ve.get("P"),Xe=Ve.get("R"),Ze=(Oe===4||Oe===5)&&Ve.get("EncryptMetadata")!==!1;this.encryptMetadata=Ze;const ot=(0,ae.stringToBytes)(He);let Ge;if(Ie){if(Xe===6)try{Ie=(0,ae.utf8StringToString)(Ie)}catch{(0,ae.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}Ge=(0,ae.stringToBytes)(Ie)}let Ke;if(Oe!==5)Ke=ke(ot,Ge,qe,it,tt,Xe,Ne,Ze);else{const je=(0,ae.stringToBytes)(Ve.get("O")).subarray(32,40),nt=(0,ae.stringToBytes)(Ve.get("O")).subarray(40,48),Qe=(0,ae.stringToBytes)(Ve.get("U")).subarray(0,48),We=(0,ae.stringToBytes)(Ve.get("U")).subarray(32,40),rt=(0,ae.stringToBytes)(Ve.get("U")).subarray(40,48),et=(0,ae.stringToBytes)(Ve.get("OE")),ct=(0,ae.stringToBytes)(Ve.get("UE"));(0,ae.stringToBytes)(Ve.get("Perms")),Ke=Ye(Xe,Ge,qe,je,nt,Qe,it,We,rt,et,ct)}if(!Ke&&!Ie)throw new ae.PasswordException("No password given",ae.PasswordResponses.NEED_PASSWORD);if(!Ke&&Ie){const je=$e(Ge,qe,Xe,Ne);Ke=ke(ot,je,qe,it,tt,Xe,Ne,Ze)}if(!Ke)throw new ae.PasswordException("Incorrect Password",ae.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=Ke,Oe>=4){const je=Ve.get("CF");je instanceof he.Dict&&(je.suppressEncryption=!0),this.cf=je,this.stmf=Ve.get("StmF")||Be,this.strf=Ve.get("StrF")||Be,this.eff=Ve.get("EFF")||this.stmf}}createCipherTransform(Ve,He){if(this.algorithm===4||this.algorithm===5)return new Ee(Ue(this.cf,this.strf,Ve,He,this.encryptionKey),Ue(this.cf,this.stmf,Ve,He,this.encryptionKey));const Ie=Pe(Ve,He,this.encryptionKey,!1),Le=function(){return new pe(Ie)};return new Ee(Le,Le)}}return Te}();oe.CipherTransformFactory=Ce},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.DecryptStream=void 0;var ae=ce(19);const he=512;class de extends ae.DecodeStream{constructor(re,Ae,ge){super(Ae),this.str=re,this.dict=re.dict,this.decrypt=ge,this.nextChunk=null,this.initialized=!1}readBlock(){let re;if(this.initialized?re=this.nextChunk:(re=this.str.getBytes(he),this.initialized=!0),!re||re.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(he);const Ae=this.nextChunk&&this.nextChunk.length>0,ge=this.decrypt;re=ge(re,!Ae);let Se=this.bufferLength;const fe=re.length,be=this.ensureBuffer(Se+fe);for(let xe=0;xe<fe;xe++)be[Se++]=re[xe];this.bufferLength=Se}}oe.DecryptStream=de},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Catalog=void 0;var ae=ce(6),he=ce(2),de=ce(5),pe=ce(70),re=ce(7),Ae=ce(71),ge=ce(14),Se=ce(72),fe=ce(59),be=ce(73),xe=ce(74);function ue(Fe){return Fe instanceof de.Dict&&(Fe=Fe.get("D")),Array.isArray(Fe)?Fe:null}class we{constructor(_e,Ee){if(this.pdfManager=_e,this.xref=Ee,this._catDict=Ee.getCatalogObj(),!(this._catDict instanceof de.Dict))throw new he.FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new de.RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new fe.GlobalImageCache,this.pageKidsCountCache=new de.RefSetCache,this.pageIndexCache=new de.RefSetCache,this.nonBlendModesSet=new de.RefSet}get version(){const _e=this._catDict.get("Version");return(0,he.shadow)(this,"version",_e instanceof de.Name?_e.name:null)}get lang(){const _e=this._catDict.get("Lang");return(0,he.shadow)(this,"lang",typeof _e=="string"?(0,he.stringToPDFString)(_e):null)}get needsRendering(){const _e=this._catDict.get("NeedsRendering");return(0,he.shadow)(this,"needsRendering",typeof _e=="boolean"?_e:!1)}get collection(){let _e=null;try{const Ee=this._catDict.get("Collection");Ee instanceof de.Dict&&Ee.size>0&&(_e=Ee)}catch(Ee){if(Ee instanceof ae.MissingDataException)throw Ee;(0,he.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,he.shadow)(this,"collection",_e)}get acroForm(){let _e=null;try{const Ee=this._catDict.get("AcroForm");Ee instanceof de.Dict&&Ee.size>0&&(_e=Ee)}catch(Ee){if(Ee instanceof ae.MissingDataException)throw Ee;(0,he.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,he.shadow)(this,"acroForm",_e)}get acroFormRef(){const _e=this._catDict.getRaw("AcroForm");return(0,he.shadow)(this,"acroFormRef",_e instanceof de.Ref?_e:null)}get metadata(){const _e=this._catDict.getRaw("Metadata");if(!(_e instanceof de.Ref))return(0,he.shadow)(this,"metadata",null);let Ee=null;try{const Ce=!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata),ye=this.xref.fetch(_e,Ce);if(ye instanceof re.BaseStream&&ye.dict instanceof de.Dict){const Re=ye.dict.get("Type"),Ye=ye.dict.get("Subtype");if((0,de.isName)(Re,"Metadata")&&(0,de.isName)(Ye,"XML")){const ke=(0,he.stringToUTF8String)(ye.getString());ke&&(Ee=new be.MetadataParser(ke).serializable)}}}catch(Ce){if(Ce instanceof ae.MissingDataException)throw Ce;(0,he.info)(`Skipping invalid Metadata: "${Ce}".`)}return(0,he.shadow)(this,"metadata",Ee)}get markInfo(){let _e=null;try{_e=this._readMarkInfo()}catch(Ee){if(Ee instanceof ae.MissingDataException)throw Ee;(0,he.warn)("Unable to read mark info.")}return(0,he.shadow)(this,"markInfo",_e)}_readMarkInfo(){const _e=this._catDict.get("MarkInfo");if(!(_e instanceof de.Dict))return null;const Ee={Marked:!1,UserProperties:!1,Suspects:!1};for(const Ce in Ee){const ye=_e.get(Ce);typeof ye=="boolean"&&(Ee[Ce]=ye)}return Ee}get structTreeRoot(){let _e=null;try{_e=this._readStructTreeRoot()}catch(Ee){if(Ee instanceof ae.MissingDataException)throw Ee;(0,he.warn)("Unable read to structTreeRoot info.")}return(0,he.shadow)(this,"structTreeRoot",_e)}_readStructTreeRoot(){const _e=this._catDict.get("StructTreeRoot");if(!(_e instanceof de.Dict))return null;const Ee=new xe.StructTreeRoot(_e);return Ee.init(),Ee}get toplevelPagesDict(){const _e=this._catDict.get("Pages");if(!(_e instanceof de.Dict))throw new he.FormatError("Invalid top-level pages dictionary.");return(0,he.shadow)(this,"toplevelPagesDict",_e)}get documentOutline(){let _e=null;try{_e=this._readDocumentOutline()}catch(Ee){if(Ee instanceof ae.MissingDataException)throw Ee;(0,he.warn)("Unable to read document outline.")}return(0,he.shadow)(this,"documentOutline",_e)}_readDocumentOutline(){let _e=this._catDict.get("Outlines");if(!(_e instanceof de.Dict)||(_e=_e.getRaw("First"),!(_e instanceof de.Ref)))return null;const Ee={items:[]},Ce=[{obj:_e,parent:Ee}],ye=new de.RefSet;ye.put(_e);const Re=this.xref,Ye=new Uint8ClampedArray(3);for(;Ce.length>0;){const ke=Ce.shift(),$e=Re.fetchIfRef(ke.obj);if($e===null)continue;if(!$e.has("Title"))throw new he.FormatError("Invalid outline item encountered.");const Be={url:null,dest:null};we.parseDestDictionary({destDict:$e,resultObj:Be,docBaseUrl:this.pdfManager.docBaseUrl});const Pe=$e.get("Title"),Ue=$e.get("F")||0,Te=$e.getArray("C"),Me=$e.get("Count");let Ve=Ye;Array.isArray(Te)&&Te.length===3&&(Te[0]!==0||Te[1]!==0||Te[2]!==0)&&(Ve=ge.ColorSpace.singletons.rgb.getRgb(Te,0));const He={dest:Be.dest,url:Be.url,unsafeUrl:Be.unsafeUrl,newWindow:Be.newWindow,title:(0,he.stringToPDFString)(Pe),color:Ve,count:Number.isInteger(Me)?Me:void 0,bold:!!(Ue&2),italic:!!(Ue&1),items:[]};ke.parent.items.push(He),_e=$e.getRaw("First"),_e instanceof de.Ref&&!ye.has(_e)&&(Ce.push({obj:_e,parent:He}),ye.put(_e)),_e=$e.getRaw("Next"),_e instanceof de.Ref&&!ye.has(_e)&&(Ce.push({obj:_e,parent:ke.parent}),ye.put(_e))}return Ee.items.length>0?Ee.items:null}get permissions(){let _e=null;try{_e=this._readPermissions()}catch(Ee){if(Ee instanceof ae.MissingDataException)throw Ee;(0,he.warn)("Unable to read permissions.")}return(0,he.shadow)(this,"permissions",_e)}_readPermissions(){const _e=this.xref.trailer.get("Encrypt");if(!(_e instanceof de.Dict))return null;let Ee=_e.get("P");if(typeof Ee!="number")return null;Ee+=4294967296;const Ce=[];for(const ye in he.PermissionFlag){const Re=he.PermissionFlag[ye];Ee&Re&&Ce.push(Re)}return Ce}get optionalContentConfig(){let _e=null;try{const Ee=this._catDict.get("OCProperties");if(!Ee)return(0,he.shadow)(this,"optionalContentConfig",null);const Ce=Ee.get("D");if(!Ce)return(0,he.shadow)(this,"optionalContentConfig",null);const ye=Ee.get("OCGs");if(!Array.isArray(ye))return(0,he.shadow)(this,"optionalContentConfig",null);const Re=[],Ye=[];for(const ke of ye){if(!(ke instanceof de.Ref))continue;Ye.push(ke);const $e=this.xref.fetchIfRef(ke);Re.push({id:ke.toString(),name:typeof $e.get("Name")=="string"?(0,he.stringToPDFString)($e.get("Name")):null,intent:typeof $e.get("Intent")=="string"?(0,he.stringToPDFString)($e.get("Intent")):null})}_e=this._readOptionalContentConfig(Ce,Ye),_e.groups=Re}catch(Ee){if(Ee instanceof ae.MissingDataException)throw Ee;(0,he.warn)(`Unable to read optional content config: ${Ee}`)}return(0,he.shadow)(this,"optionalContentConfig",_e)}_readOptionalContentConfig(_e,Ee){function Ce(Be){const Pe=[];if(Array.isArray(Be))for(const Ue of Be)Ue instanceof de.Ref&&Ee.includes(Ue)&&Pe.push(Ue.toString());return Pe}function ye(Be,Pe=0){if(!Array.isArray(Be))return null;const Ue=[];for(const Me of Be){if(Me instanceof de.Ref&&Ee.includes(Me)){ke.put(Me),Ue.push(Me.toString());continue}const Ve=Re(Me,Pe);Ve&&Ue.push(Ve)}if(Pe>0)return Ue;const Te=[];for(const Me of Ee)ke.has(Me)||Te.push(Me.toString());return Te.length&&Ue.push({name:null,order:Te}),Ue}function Re(Be,Pe){if(++Pe>$e)return(0,he.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const Ue=Ye.fetchIfRef(Be);if(!Array.isArray(Ue))return null;const Te=Ye.fetchIfRef(Ue[0]);if(typeof Te!="string")return null;const Me=ye(Ue.slice(1),Pe);return!Me||!Me.length?null:{name:(0,he.stringToPDFString)(Te),order:Me}}const Ye=this.xref,ke=new de.RefSet,$e=10;return{name:typeof _e.get("Name")=="string"?(0,he.stringToPDFString)(_e.get("Name")):null,creator:typeof _e.get("Creator")=="string"?(0,he.stringToPDFString)(_e.get("Creator")):null,baseState:_e.get("BaseState")instanceof de.Name?_e.get("BaseState").name:null,on:Ce(_e.get("ON")),off:Ce(_e.get("OFF")),order:ye(_e.get("Order")),groups:null}}setActualNumPages(_e=null){this._actualNumPages=_e}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const _e=this.toplevelPagesDict.get("Count");if(!Number.isInteger(_e))throw new he.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,he.shadow)(this,"_pagesCount",_e)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const _e=this._readDests(),Ee=Object.create(null);if(_e instanceof pe.NameTree)for(const[Ce,ye]of _e.getAll()){const Re=ue(ye);Re&&(Ee[(0,he.stringToPDFString)(Ce)]=Re)}else _e instanceof de.Dict&&_e.forEach(function(Ce,ye){const Re=ue(ye);Re&&(Ee[Ce]=Re)});return(0,he.shadow)(this,"destinations",Ee)}getDestination(_e){const Ee=this._readDests();if(Ee instanceof pe.NameTree){const Ce=ue(Ee.get(_e));if(Ce)return Ce;const ye=this.destinations[_e];if(ye)return(0,he.warn)(`Found "${_e}" at an incorrect position in the NameTree.`),ye}else if(Ee instanceof de.Dict){const Ce=ue(Ee.get(_e));if(Ce)return Ce}return null}_readDests(){const _e=this._catDict.get("Names");if(_e&&_e.has("Dests"))return new pe.NameTree(_e.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let _e=null;try{_e=this._readPageLabels()}catch(Ee){if(Ee instanceof ae.MissingDataException)throw Ee;(0,he.warn)("Unable to read page labels.")}return(0,he.shadow)(this,"pageLabels",_e)}_readPageLabels(){const _e=this._catDict.getRaw("PageLabels");if(!_e)return null;const Ee=new Array(this.numPages);let Ce=null,ye="";const Ye=new pe.NumberTree(_e,this.xref).getAll();let ke="",$e=1;for(let Be=0,Pe=this.numPages;Be<Pe;Be++){const Ue=Ye.get(Be);if(Ue!==void 0){if(!(Ue instanceof de.Dict))throw new he.FormatError("PageLabel is not a dictionary.");if(Ue.has("Type")&&!(0,de.isName)(Ue.get("Type"),"PageLabel"))throw new he.FormatError("Invalid type in PageLabel dictionary.");if(Ue.has("S")){const Te=Ue.get("S");if(!(Te instanceof de.Name))throw new he.FormatError("Invalid style in PageLabel dictionary.");Ce=Te.name}else Ce=null;if(Ue.has("P")){const Te=Ue.get("P");if(typeof Te!="string")throw new he.FormatError("Invalid prefix in PageLabel dictionary.");ye=(0,he.stringToPDFString)(Te)}else ye="";if(Ue.has("St")){const Te=Ue.get("St");if(!(Number.isInteger(Te)&&Te>=1))throw new he.FormatError("Invalid start in PageLabel dictionary.");$e=Te}else $e=1}switch(Ce){case"D":ke=$e;break;case"R":case"r":ke=(0,ae.toRomanNumerals)($e,Ce==="r");break;case"A":case"a":const Te=26,He=Ce==="a"?97:65,Ie=$e-1;ke=String.fromCharCode(He+Ie%Te).repeat(Math.floor(Ie/Te)+1);break;default:if(Ce)throw new he.FormatError(`Invalid style "${Ce}" in PageLabel dictionary.`);ke=""}Ee[Be]=ye+ke,$e++}return Ee}get pageLayout(){const _e=this._catDict.get("PageLayout");let Ee="";if(_e instanceof de.Name)switch(_e.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":Ee=_e.name}return(0,he.shadow)(this,"pageLayout",Ee)}get pageMode(){const _e=this._catDict.get("PageMode");let Ee="UseNone";if(_e instanceof de.Name)switch(_e.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":Ee=_e.name}return(0,he.shadow)(this,"pageMode",Ee)}get viewerPreferences(){const _e=this._catDict.get("ViewerPreferences");if(!(_e instanceof de.Dict))return(0,he.shadow)(this,"viewerPreferences",null);let Ee=null;for(const Ce of _e.getKeys()){const ye=_e.get(Ce);let Re;switch(Ce){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof ye=="boolean"&&(Re=ye);break;case"NonFullScreenPageMode":if(ye instanceof de.Name)switch(ye.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":Re=ye.name;break;default:Re="UseNone"}break;case"Direction":if(ye instanceof de.Name)switch(ye.name){case"L2R":case"R2L":Re=ye.name;break;default:Re="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(ye instanceof de.Name)switch(ye.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":Re=ye.name;break;default:Re="CropBox"}break;case"PrintScaling":if(ye instanceof de.Name)switch(ye.name){case"None":case"AppDefault":Re=ye.name;break;default:Re="AppDefault"}break;case"Duplex":if(ye instanceof de.Name)switch(ye.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":Re=ye.name;break;default:Re="None"}break;case"PrintPageRange":Array.isArray(ye)&&ye.length%2===0&&ye.every((ke,$e,Be)=>Number.isInteger(ke)&&ke>0&&($e===0||ke>=Be[$e-1])&&ke<=this.numPages)&&(Re=ye);break;case"NumCopies":Number.isInteger(ye)&&ye>0&&(Re=ye);break;default:(0,he.warn)(`Ignoring non-standard key in ViewerPreferences: ${Ce}.`);continue}if(Re===void 0){(0,he.warn)(`Bad value, for key "${Ce}", in ViewerPreferences: ${ye}.`);continue}Ee||(Ee=Object.create(null)),Ee[Ce]=Re}return(0,he.shadow)(this,"viewerPreferences",Ee)}get openAction(){const _e=this._catDict.get("OpenAction"),Ee=Object.create(null);if(_e instanceof de.Dict){const Ce=new de.Dict(this.xref);Ce.set("A",_e);const ye={url:null,dest:null,action:null};we.parseDestDictionary({destDict:Ce,resultObj:ye}),Array.isArray(ye.dest)?Ee.dest=ye.dest:ye.action&&(Ee.action=ye.action)}else Array.isArray(_e)&&(Ee.dest=_e);return(0,he.shadow)(this,"openAction",(0,he.objectSize)(Ee)>0?Ee:null)}get attachments(){const _e=this._catDict.get("Names");let Ee=null;if(_e instanceof de.Dict&&_e.has("EmbeddedFiles")){const Ce=new pe.NameTree(_e.getRaw("EmbeddedFiles"),this.xref);for(const[ye,Re]of Ce.getAll()){const Ye=new Se.FileSpec(Re,this.xref);Ee||(Ee=Object.create(null)),Ee[(0,he.stringToPDFString)(ye)]=Ye.serializable}}return(0,he.shadow)(this,"attachments",Ee)}get xfaImages(){const _e=this._catDict.get("Names");let Ee=null;if(_e instanceof de.Dict&&_e.has("XFAImages")){const Ce=new pe.NameTree(_e.getRaw("XFAImages"),this.xref);for(const[ye,Re]of Ce.getAll())Ee||(Ee=new de.Dict(this.xref)),Ee.set((0,he.stringToPDFString)(ye),Re)}return(0,he.shadow)(this,"xfaImages",Ee)}_collectJavaScript(){const _e=this._catDict.get("Names");let Ee=null;function Ce(Re,Ye){if(!(Ye instanceof de.Dict)||!(0,de.isName)(Ye.get("S"),"JavaScript"))return;let ke=Ye.get("JS");if(ke instanceof re.BaseStream)ke=ke.getString();else if(typeof ke!="string")return;Ee===null&&(Ee=new Map),ke=(0,he.stringToPDFString)(ke).replace(/\u0000/g,""),Ee.set(Re,ke)}if(_e instanceof de.Dict&&_e.has("JavaScript")){const Re=new pe.NameTree(_e.getRaw("JavaScript"),this.xref);for(const[Ye,ke]of Re.getAll())Ce((0,he.stringToPDFString)(Ye),ke)}const ye=this._catDict.get("OpenAction");return ye&&Ce("OpenAction",ye),Ee}get javaScript(){const _e=this._collectJavaScript();return(0,he.shadow)(this,"javaScript",_e?[..._e.values()]:null)}get jsActions(){const _e=this._collectJavaScript();let Ee=(0,ae.collectActions)(this.xref,this._catDict,he.DocumentActionEventType);if(_e){Ee||(Ee=Object.create(null));for(const[Ce,ye]of _e)Ce in Ee?Ee[Ce].push(ye):Ee[Ce]=[ye]}return(0,he.shadow)(this,"jsActions",Ee)}async fontFallback(_e,Ee){const Ce=await Promise.all(this.fontCache);for(const ye of Ce)if(ye.loadedName===_e){ye.fallback(Ee);return}}async cleanup(_e=!1){(0,Ae.clearGlobalCaches)(),this.globalImageCache.clear(_e),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const Ee=await Promise.all(this.fontCache);for(const{dict:Ce}of Ee)delete Ce.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear()}async getPageDict(_e){const Ee=[this.toplevelPagesDict],Ce=new de.RefSet,ye=this._catDict.getRaw("Pages");ye instanceof de.Ref&&Ce.put(ye);const Re=this.xref,Ye=this.pageKidsCountCache,ke=this.pageIndexCache;let $e=0;for(;Ee.length;){const Be=Ee.pop();if(Be instanceof de.Ref){const Me=Ye.get(Be);if(Me>=0&&$e+Me<=_e){$e+=Me;continue}if(Ce.has(Be))throw new he.FormatError("Pages tree contains circular reference.");Ce.put(Be);const Ve=await Re.fetchAsync(Be);if(Ve instanceof de.Dict){let He=Ve.getRaw("Type");if(He instanceof de.Ref&&(He=await Re.fetchAsync(He)),(0,de.isName)(He,"Page")||!Ve.has("Kids")){if(Ye.has(Be)||Ye.put(Be,1),ke.has(Be)||ke.put(Be,$e),$e===_e)return[Ve,Be];$e++;continue}}Ee.push(Ve);continue}if(!(Be instanceof de.Dict))throw new he.FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:Pe}=Be;let Ue=Be.getRaw("Count");if(Ue instanceof de.Ref&&(Ue=await Re.fetchAsync(Ue)),Number.isInteger(Ue)&&Ue>=0&&(Pe&&!Ye.has(Pe)&&Ye.put(Pe,Ue),$e+Ue<=_e)){$e+=Ue;continue}let Te=Be.getRaw("Kids");if(Te instanceof de.Ref&&(Te=await Re.fetchAsync(Te)),!Array.isArray(Te)){let Me=Be.getRaw("Type");if(Me instanceof de.Ref&&(Me=await Re.fetchAsync(Me)),(0,de.isName)(Me,"Page")||!Be.has("Kids")){if($e===_e)return[Be,null];$e++;continue}throw new he.FormatError("Page dictionary kids object is not an array.")}for(let Me=Te.length-1;Me>=0;Me--)Ee.push(Te[Me])}throw new Error(`Page index ${_e} not found.`)}async getAllPageDicts(_e=!1){const Ee=[{currentNode:this.toplevelPagesDict,posInKids:0}],Ce=new de.RefSet,ye=this._catDict.getRaw("Pages");ye instanceof de.Ref&&Ce.put(ye);const Re=new Map,Ye=this.xref,ke=this.pageIndexCache;let $e=0;function Be(Ue,Te){Te&&!ke.has(Te)&&ke.put(Te,$e),Re.set($e++,[Ue,Te])}function Pe(Ue){if(Ue instanceof ae.XRefEntryException&&!_e)throw Ue;Re.set($e++,[Ue,null])}for(;Ee.length>0;){const Ue=Ee.at(-1),{currentNode:Te,posInKids:Me}=Ue;let Ve=Te.getRaw("Kids");if(Ve instanceof de.Ref)try{Ve=await Ye.fetchAsync(Ve)}catch(Oe){Pe(Oe);break}if(!Array.isArray(Ve)){Pe(new he.FormatError("Page dictionary kids object is not an array."));break}if(Me>=Ve.length){Ee.pop();continue}const He=Ve[Me];let Ie;if(He instanceof de.Ref){if(Ce.has(He)){Pe(new he.FormatError("Pages tree contains circular reference."));break}Ce.put(He);try{Ie=await Ye.fetchAsync(He)}catch(Oe){Pe(Oe);break}}else Ie=He;if(!(Ie instanceof de.Dict)){Pe(new he.FormatError("Page dictionary kid reference points to wrong type of object."));break}let Le=Ie.getRaw("Type");if(Le instanceof de.Ref)try{Le=await Ye.fetchAsync(Le)}catch(Oe){Pe(Oe);break}(0,de.isName)(Le,"Page")||!Ie.has("Kids")?Be(Ie,He instanceof de.Ref?He:null):Ee.push({currentNode:Ie,posInKids:0}),Ue.posInKids++}return Re}getPageIndex(_e){const Ee=this.pageIndexCache.get(_e);if(Ee!==void 0)return Promise.resolve(Ee);const Ce=this.xref;function ye(ke){let $e=0,Be;return Ce.fetchAsync(ke).then(function(Pe){if((0,de.isRefsEqual)(ke,_e)&&!(0,de.isDict)(Pe,"Page")&&!(Pe instanceof de.Dict&&!Pe.has("Type")&&Pe.has("Contents")))throw new he.FormatError("The reference does not point to a /Page dictionary.");if(!Pe)return null;if(!(Pe instanceof de.Dict))throw new he.FormatError("Node must be a dictionary.");return Be=Pe.getRaw("Parent"),Pe.getAsync("Parent")}).then(function(Pe){if(!Pe)return null;if(!(Pe instanceof de.Dict))throw new he.FormatError("Parent must be a dictionary.");return Pe.getAsync("Kids")}).then(function(Pe){if(!Pe)return null;const Ue=[];let Te=!1;for(let Me=0,Ve=Pe.length;Me<Ve;Me++){const He=Pe[Me];if(!(He instanceof de.Ref))throw new he.FormatError("Kid must be a reference.");if((0,de.isRefsEqual)(He,ke)){Te=!0;break}Ue.push(Ce.fetchAsync(He).then(function(Ie){if(!(Ie instanceof de.Dict))throw new he.FormatError("Kid node must be a dictionary.");Ie.has("Count")?$e+=Ie.get("Count"):$e++}))}if(!Te)throw new he.FormatError("Kid reference not found in parent's kids.");return Promise.all(Ue).then(function(){return[$e,Be]})})}let Re=0;const Ye=ke=>ye(ke).then($e=>{if(!$e)return this.pageIndexCache.put(_e,Re),Re;const[Be,Pe]=$e;return Re+=Be,Ye(Pe)});return Ye(_e)}get baseUrl(){const _e=this._catDict.get("URI");if(_e instanceof de.Dict){const Ee=_e.get("Base");if(typeof Ee=="string"){const Ce=(0,he.createValidAbsoluteUrl)(Ee,null,{tryConvertEncoding:!0});if(Ce)return(0,he.shadow)(this,"baseUrl",Ce.href)}}return(0,he.shadow)(this,"baseUrl",null)}static parseDestDictionary(_e){const Ee=_e.destDict;if(!(Ee instanceof de.Dict)){(0,he.warn)("parseDestDictionary: `destDict` must be a dictionary.");return}const Ce=_e.resultObj;if(typeof Ce!="object"){(0,he.warn)("parseDestDictionary: `resultObj` must be an object.");return}const ye=_e.docBaseUrl||null;let Re=Ee.get("A"),Ye,ke;if(Re instanceof de.Dict||(Ee.has("Dest")?Re=Ee.get("Dest"):(Re=Ee.get("AA"),Re instanceof de.Dict&&(Re.has("D")?Re=Re.get("D"):Re.has("U")&&(Re=Re.get("U"))))),Re instanceof de.Dict){const $e=Re.get("S");if(!($e instanceof de.Name)){(0,he.warn)("parseDestDictionary: Invalid type in Action dictionary.");return}const Be=$e.name;switch(Be){case"ResetForm":const Pe=Re.get("Flags"),Ue=((typeof Pe=="number"?Pe:0)&1)===0,Te=[],Me=[];for(const it of Re.get("Fields")||[])it instanceof de.Ref?Me.push(it.toString()):typeof it=="string"&&Te.push((0,he.stringToPDFString)(it));Ce.resetForm={fields:Te,refs:Me,include:Ue};break;case"URI":Ye=Re.get("URI"),Ye instanceof de.Name&&(Ye="/"+Ye.name);break;case"GoTo":ke=Re.get("D");break;case"Launch":case"GoToR":const Ve=Re.get("F");Ve instanceof de.Dict?Ye=Ve.get("F")||null:typeof Ve=="string"&&(Ye=Ve);let He=Re.get("D");if(He&&(He instanceof de.Name&&(He=He.name),typeof Ye=="string")){const it=Ye.split("#")[0];typeof He=="string"?Ye=it+"#"+He:Array.isArray(He)&&(Ye=it+"#"+JSON.stringify(He))}const Ie=Re.get("NewWindow");typeof Ie=="boolean"&&(Ce.newWindow=Ie);break;case"Named":const Le=Re.get("N");Le instanceof de.Name&&(Ce.action=Le.name);break;case"JavaScript":const Oe=Re.get("JS");let Ne;Oe instanceof re.BaseStream?Ne=Oe.getString():typeof Oe=="string"&&(Ne=Oe);const qe=Ne&&(0,ae.recoverJsURL)((0,he.stringToPDFString)(Ne));if(qe){Ye=qe.url,Ce.newWindow=qe.newWindow;break}default:if(Be==="JavaScript"||Be==="SubmitForm")break;(0,he.warn)(`parseDestDictionary - unsupported action: "${Be}".`);break}}else Ee.has("Dest")&&(ke=Ee.get("Dest"));if(typeof Ye=="string"){const $e=(0,he.createValidAbsoluteUrl)(Ye,ye,{addDefaultProtocol:!0,tryConvertEncoding:!0});$e&&(Ce.url=$e.href),Ce.unsafeUrl=Ye}ke&&(ke instanceof de.Name&&(ke=ke.name),typeof ke=="string"?Ce.dest=(0,he.stringToPDFString)(ke):Array.isArray(ke)&&(Ce.dest=ke))}}oe.Catalog=we},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.NumberTree=oe.NameTree=void 0;var ae=ce(5),he=ce(2);class de{constructor(ge,Se,fe){this.constructor===de&&(0,he.unreachable)("Cannot initialize NameOrNumberTree."),this.root=ge,this.xref=Se,this._type=fe}getAll(){const ge=new Map;if(!this.root)return ge;const Se=this.xref,fe=new ae.RefSet;fe.put(this.root);const be=[this.root];for(;be.length>0;){const xe=Se.fetchIfRef(be.shift());if(!(xe instanceof ae.Dict))continue;if(xe.has("Kids")){const we=xe.get("Kids");if(!Array.isArray(we))continue;for(const Fe of we){if(fe.has(Fe))throw new he.FormatError(`Duplicate entry in "${this._type}" tree.`);be.push(Fe),fe.put(Fe)}continue}const ue=xe.get(this._type);if(Array.isArray(ue))for(let we=0,Fe=ue.length;we<Fe;we+=2)ge.set(Se.fetchIfRef(ue[we]),Se.fetchIfRef(ue[we+1]))}return ge}get(ge){if(!this.root)return null;const Se=this.xref;let fe=Se.fetchIfRef(this.root),be=0;const xe=10;for(;fe.has("Kids");){if(++be>xe)return(0,he.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const we=fe.get("Kids");if(!Array.isArray(we))return null;let Fe=0,_e=we.length-1;for(;Fe<=_e;){const Ee=Fe+_e>>1,Ce=Se.fetchIfRef(we[Ee]),ye=Ce.get("Limits");if(ge<Se.fetchIfRef(ye[0]))_e=Ee-1;else if(ge>Se.fetchIfRef(ye[1]))Fe=Ee+1;else{fe=Ce;break}}if(Fe>_e)return null}const ue=fe.get(this._type);if(Array.isArray(ue)){let we=0,Fe=ue.length-2;for(;we<=Fe;){const _e=we+Fe>>1,Ee=_e+(_e&1),Ce=Se.fetchIfRef(ue[Ee]);if(ge<Ce)Fe=Ee-2;else if(ge>Ce)we=Ee+2;else return Se.fetchIfRef(ue[Ee+1])}}return null}}class pe extends de{constructor(ge,Se){super(ge,Se,"Names")}}oe.NameTree=pe;class re extends de{constructor(ge,Se){super(ge,Se,"Nums")}}oe.NumberTree=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.clearGlobalCaches=de;var ae=ce(5),he=ce(40);function de(){(0,ae.clearPrimitiveCaches)(),(0,he.clearUnicodeCaches)()}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.FileSpec=void 0;var ae=ce(2),he=ce(7),de=ce(5);function pe(Ae){return Ae.has("UF")?Ae.get("UF"):Ae.has("F")?Ae.get("F"):Ae.has("Unix")?Ae.get("Unix"):Ae.has("Mac")?Ae.get("Mac"):Ae.has("DOS")?Ae.get("DOS"):null}class re{constructor(ge,Se){ge instanceof de.Dict&&(this.xref=Se,this.root=ge,ge.has("FS")&&(this.fs=ge.get("FS")),this.description=ge.has("Desc")?(0,ae.stringToPDFString)(ge.get("Desc")):"",ge.has("RF")&&(0,ae.warn)("Related file specifications are not supported"),this.contentAvailable=!0,ge.has("EF")||(this.contentAvailable=!1,(0,ae.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const ge=pe(this.root)||"unnamed";this._filename=(0,ae.stringToPDFString)(ge).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=pe(this.root.get("EF")));let ge=null;if(this.contentRef){const Se=this.xref.fetchIfRef(this.contentRef);Se instanceof he.BaseStream?ge=Se.getBytes():(0,ae.warn)("Embedded file specification points to non-existing/invalid content")}else(0,ae.warn)("Embedded file specification does not have a content");return ge}get serializable(){return{filename:this.filename,content:this.content}}}oe.FileSpec=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.MetadataParser=void 0;var ae=ce(66);class he{constructor(pe){pe=this._repair(pe);const Ae=new ae.SimpleXMLParser({lowerCaseName:!0}).parseFromString(pe);this._metadataMap=new Map,this._data=pe,Ae&&this._parse(Ae)}_repair(pe){return pe.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(re,Ae){const ge=Ae.replace(/\\([0-3])([0-7])([0-7])/g,function(fe,be,xe,ue){return String.fromCharCode(be*64+xe*8+ue*1)}).replace(/&(amp|apos|gt|lt|quot);/g,function(fe,be){switch(be){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${be} isn't defined.`)}),Se=[];for(let fe=0,be=ge.length;fe<be;fe+=2){const xe=ge.charCodeAt(fe)*256+ge.charCodeAt(fe+1);xe>=32&&xe<127&&xe!==60&&xe!==62&&xe!==38?Se.push(String.fromCharCode(xe)):Se.push("&#x"+(65536+xe).toString(16).substring(1)+";")}return">"+Se.join("")})}_getSequence(pe){const re=pe.nodeName;return re!=="rdf:bag"&&re!=="rdf:seq"&&re!=="rdf:alt"?null:pe.childNodes.filter(Ae=>Ae.nodeName==="rdf:li")}_parseArray(pe){if(!pe.hasChildNodes())return;const[re]=pe.childNodes,Ae=this._getSequence(re)||[];this._metadataMap.set(pe.nodeName,Ae.map(ge=>ge.textContent.trim()))}_parse(pe){let re=pe.documentElement;if(re.nodeName!=="rdf:rdf")for(re=re.firstChild;re&&re.nodeName!=="rdf:rdf";)re=re.nextSibling;if(!(!re||re.nodeName!=="rdf:rdf"||!re.hasChildNodes())){for(const Ae of re.childNodes)if(Ae.nodeName==="rdf:description")for(const ge of Ae.childNodes){const Se=ge.nodeName;switch(Se){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(ge);continue}this._metadataMap.set(Se,ge.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}oe.MetadataParser=he},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.StructTreeRoot=oe.StructTreePage=void 0;var ae=ce(5),he=ce(2),de=ce(70);const pe=40,re={PAGE_CONTENT:"PAGE_CONTENT",STREAM_CONTENT:"STREAM_CONTENT",OBJECT:"OBJECT",ELEMENT:"ELEMENT"};class Ae{constructor(xe){this.dict=xe,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const xe=this.dict.get("RoleMap");xe instanceof ae.Dict&&xe.forEach((ue,we)=>{we instanceof ae.Name&&this.roleMap.set(ue,we.name)})}}oe.StructTreeRoot=Ae;class ge{constructor(xe,ue){this.tree=xe,this.dict=ue,this.kids=[],this.parseKids()}get role(){const xe=this.dict.get("S"),ue=xe instanceof ae.Name?xe.name:"",{root:we}=this.tree;return we.roleMap.has(ue)?we.roleMap.get(ue):ue}parseKids(){let xe=null;const ue=this.dict.getRaw("Pg");ue instanceof ae.Ref&&(xe=ue.toString());const we=this.dict.get("K");if(Array.isArray(we))for(const Fe of we){const _e=this.parseKid(xe,Fe);_e&&this.kids.push(_e)}else{const Fe=this.parseKid(xe,we);Fe&&this.kids.push(Fe)}}parseKid(xe,ue){if(Number.isInteger(ue))return this.tree.pageDict.objId!==xe?null:new Se({type:re.PAGE_CONTENT,mcid:ue,pageObjId:xe});let we=null;if(ue instanceof ae.Ref?we=this.dict.xref.fetch(ue):ue instanceof ae.Dict&&(we=ue),!we)return null;const Fe=we.getRaw("Pg");Fe instanceof ae.Ref&&(xe=Fe.toString());const _e=we.get("Type")instanceof ae.Name?we.get("Type").name:null;return _e==="MCR"?this.tree.pageDict.objId!==xe?null:new Se({type:re.STREAM_CONTENT,refObjId:we.getRaw("Stm")instanceof ae.Ref?we.getRaw("Stm").toString():null,pageObjId:xe,mcid:we.get("MCID")}):_e==="OBJR"?this.tree.pageDict.objId!==xe?null:new Se({type:re.OBJECT,refObjId:we.getRaw("Obj")instanceof ae.Ref?we.getRaw("Obj").toString():null,pageObjId:xe}):new Se({type:re.ELEMENT,dict:we})}}class Se{constructor({type:xe,dict:ue=null,mcid:we=null,pageObjId:Fe=null,refObjId:_e=null}){this.type=xe,this.dict=ue,this.mcid=we,this.pageObjId=Fe,this.refObjId=_e,this.parentNode=null}}class fe{constructor(xe,ue){this.root=xe,this.rootDict=xe?xe.dict:null,this.pageDict=ue,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const xe=this.rootDict.get("ParentTree");if(!xe)return;const ue=this.pageDict.get("StructParents");if(!Number.isInteger(ue))return;const Fe=new de.NumberTree(xe,this.rootDict.xref).get(ue);if(!Array.isArray(Fe))return;const _e=new Map;for(const Ee of Fe)Ee instanceof ae.Ref&&this.addNode(this.rootDict.xref.fetch(Ee),_e)}addNode(xe,ue,we=0){if(we>pe)return(0,he.warn)("StructTree MAX_DEPTH reached."),null;if(ue.has(xe))return ue.get(xe);const Fe=new ge(this,xe);ue.set(xe,Fe);const _e=xe.get("P");if(!_e||(0,ae.isName)(_e.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(xe,Fe)||ue.delete(xe),Fe;const Ee=this.addNode(_e,ue,we+1);if(!Ee)return Fe;let Ce=!1;for(const ye of Ee.kids)ye.type===re.ELEMENT&&ye.dict===xe&&(ye.parentNode=Fe,Ce=!0);return Ce||ue.delete(xe),Fe}addTopLevelNode(xe,ue){const we=this.rootDict.get("K");if(!we)return!1;if(we instanceof ae.Dict)return we.objId!==xe.objId?!1:(this.nodes[0]=ue,!0);if(!Array.isArray(we))return!0;let Fe=!1;for(let _e=0;_e<we.length;_e++){const Ee=we[_e];Ee&&Ee.toString()===xe.objId&&(this.nodes[_e]=ue,Fe=!0)}return Fe}get serializable(){function xe(we,Fe,_e=0){if(_e>pe){(0,he.warn)("StructTree too deep to be fully serialized.");return}const Ee=Object.create(null);Ee.role=we.role,Ee.children=[],Fe.children.push(Ee);const Ce=we.dict.get("Alt");typeof Ce=="string"&&(Ee.alt=(0,he.stringToPDFString)(Ce));const ye=we.dict.get("Lang");typeof ye=="string"&&(Ee.lang=(0,he.stringToPDFString)(ye));for(const Re of we.kids){const Ye=Re.type===re.ELEMENT?Re.parentNode:null;if(Ye){xe(Ye,Ee,_e+1);continue}else Re.type===re.PAGE_CONTENT||Re.type===re.STREAM_CONTENT?Ee.children.push({type:"content",id:`page${Re.pageObjId}_mcid${Re.mcid}`}):Re.type===re.OBJECT&&Ee.children.push({type:"object",id:Re.refObjId})}}const ue=Object.create(null);ue.children=[],ue.role="Root";for(const we of this.nodes)we&&xe(we,ue);return ue}}oe.StructTreePage=fe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.ObjectLoader=void 0;var ae=ce(5),he=ce(7),de=ce(6),pe=ce(2);function re(Se){return Se instanceof ae.Ref||Se instanceof ae.Dict||Se instanceof he.BaseStream||Array.isArray(Se)}function Ae(Se,fe){if(Se instanceof ae.Dict)Se=Se.getRawValues();else if(Se instanceof he.BaseStream)Se=Se.dict.getRawValues();else if(!Array.isArray(Se))return;for(const be of Se)re(be)&&fe.push(be)}class ge{constructor(fe,be,xe){this.dict=fe,this.keys=be,this.xref=xe,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:fe,dict:be}=this;this.refSet=new ae.RefSet;const xe=[];for(let ue=0,we=fe.length;ue<we;ue++){const Fe=be.getRaw(fe[ue]);Fe!==void 0&&xe.push(Fe)}return this._walk(xe)}async _walk(fe){const be=[],xe=[];for(;fe.length;){let ue=fe.pop();if(ue instanceof ae.Ref){if(this.refSet.has(ue))continue;try{this.refSet.put(ue),ue=this.xref.fetch(ue)}catch(we){if(!(we instanceof de.MissingDataException)){(0,pe.warn)(`ObjectLoader._walk - requesting all data: "${we}".`),this.refSet=null;const{manager:Fe}=this.xref.stream;return Fe.requestAllChunks()}be.push(ue),xe.push({begin:we.begin,end:we.end})}}if(ue instanceof he.BaseStream){const we=ue.getBaseStreams();if(we){let Fe=!1;for(const _e of we)_e.isDataLoaded||(Fe=!0,xe.push({begin:_e.start,end:_e.end}));Fe&&be.push(ue)}}Ae(ue,fe)}if(xe.length){await this.xref.stream.manager.requestRanges(xe);for(const ue of be)ue instanceof ae.Ref&&this.refSet.remove(ue);return this._walk(be)}this.refSet=null}}oe.ObjectLoader=ge},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.XFAFactory=void 0;var ae=ce(77),he=ce(81),de=ce(87),pe=ce(85),re=ce(78),Ae=ce(2),ge=ce(88),Se=ce(98);class fe{constructor(xe){try{this.root=new ge.XFAParser().parse(fe._createDocument(xe));const ue=new he.Binder(this.root);this.form=ue.bind(),this.dataHandler=new de.DataHandler(this.root,ue.getData()),this.form[ae.$globalData].template=this.form}catch(ue){(0,Ae.warn)(`XFA - an error occurred during parsing and binding: ${ue}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const xe=this.form[ae.$toPages]();return new Promise((ue,we)=>{const Fe=()=>{try{const _e=xe.next();_e.done?ue(_e.value):setTimeout(Fe,0)}catch(_e){we(_e)}};setTimeout(Fe,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(xe=>{const{width:ue,height:we}=xe.attributes.style;return[0,0,parseInt(ue),parseInt(we)]})}catch(xe){(0,Ae.warn)(`XFA - an error occurred during layout: ${xe}`)}}getBoundingBox(xe){return this.dims[xe]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(xe){this.form[ae.$globalData].images=xe}setFonts(xe){this.form[ae.$globalData].fontFinder=new pe.FontFinder(xe);const ue=[];for(let we of this.form[ae.$globalData].usedTypefaces)we=(0,re.stripQuotes)(we),this.form[ae.$globalData].fontFinder.find(we)||ue.push(we);return ue.length>0?ue:null}appendFonts(xe,ue){this.form[ae.$globalData].fontFinder.add(xe,ue)}async getPages(){this.pages||await this._createPages();const xe=this.pages;return this.pages=null,xe}serializeData(xe){return this.dataHandler.serialize(xe)}static _createDocument(xe){return xe["/xdp:xdp"]?Object.values(xe).join(""):xe["xdp:xdp"]}static getRichTextAsHtml(xe){if(!xe||typeof xe!="string")return null;try{let ue=new ge.XFAParser(Se.XhtmlNamespace,!0).parse(xe);if(!["body","xhtml"].includes(ue[ae.$nodeName])){const Ee=Se.XhtmlNamespace.body({});Ee[ae.$appendChild](ue),ue=Ee}const we=ue[ae.$toHTML]();if(!we.success)return null;const{html:Fe}=we,{attributes:_e}=Fe;return _e&&(_e.class&&(_e.class=_e.class.filter(Ee=>!Ee.startsWith("xfa"))),_e.dir="auto"),{html:Fe,str:ue[ae.$text]()}}catch(ue){(0,Ae.warn)(`XFA - an error occurred during parsing of rich text: ${ue}`)}return null}}oe.XFAFactory=fe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.XmlObject=oe.XFAObjectArray=oe.XFAObject=oe.XFAAttribute=oe.StringObject=oe.OptionObject=oe.Option10=oe.Option01=oe.IntegerObject=oe.ContentObject=oe.$uid=oe.$toStyle=oe.$toString=oe.$toPages=oe.$toHTML=oe.$text=oe.$tabIndex=oe.$setValue=oe.$setSetAttributes=oe.$setId=oe.$searchNode=oe.$root=oe.$resolvePrototypes=oe.$removeChild=oe.$pushPara=oe.$pushGlyphs=oe.$popPara=oe.$onText=oe.$onChildCheck=oe.$onChild=oe.$nsAttributes=oe.$nodeName=oe.$namespaceId=oe.$isUsable=oe.$isTransparent=oe.$isThereMoreWidth=oe.$isSplittable=oe.$isNsAgnostic=oe.$isDescendent=oe.$isDataValue=oe.$isCDATAXml=oe.$isBindable=oe.$insertAt=oe.$indexOf=oe.$ids=oe.$hasSettableValue=oe.$globalData=oe.$getTemplateRoot=oe.$getSubformParent=oe.$getRealChildrenByNameIt=oe.$getParent=oe.$getNextPage=oe.$getExtra=oe.$getDataValue=oe.$getContainedChildren=oe.$getChildrenByNameIt=oe.$getChildrenByName=oe.$getChildrenByClass=oe.$getChildren=oe.$getAvailableSpace=oe.$getAttributes=oe.$getAttributeIt=oe.$flushHTML=oe.$finalize=oe.$extra=oe.$dump=oe.$data=oe.$content=oe.$consumed=oe.$clone=oe.$cleanup=oe.$cleanPage=oe.$clean=oe.$childrenToHTML=oe.$appendChild=oe.$addHTML=oe.$acceptWhitespace=void 0;var ae=ce(78),he=ce(2),de=ce(6),pe=ce(79),re=ce(80);const Ae=Symbol();oe.$acceptWhitespace=Ae;const ge=Symbol();oe.$addHTML=ge;const Se=Symbol();oe.$appendChild=Se;const fe=Symbol();oe.$childrenToHTML=fe;const be=Symbol();oe.$clean=be;const xe=Symbol();oe.$cleanPage=xe;const ue=Symbol();oe.$cleanup=ue;const we=Symbol();oe.$clone=we;const Fe=Symbol();oe.$consumed=Fe;const _e=Symbol("content");oe.$content=_e;const Ee=Symbol("data");oe.$data=Ee;const Ce=Symbol();oe.$dump=Ce;const ye=Symbol("extra");oe.$extra=ye;const Re=Symbol();oe.$finalize=Re;const Ye=Symbol();oe.$flushHTML=Ye;const ke=Symbol();oe.$getAttributeIt=ke;const $e=Symbol();oe.$getAttributes=$e;const Be=Symbol();oe.$getAvailableSpace=Be;const Pe=Symbol();oe.$getChildrenByClass=Pe;const Ue=Symbol();oe.$getChildrenByName=Ue;const Te=Symbol();oe.$getChildrenByNameIt=Te;const Me=Symbol();oe.$getDataValue=Me;const Ve=Symbol();oe.$getExtra=Ve;const He=Symbol();oe.$getRealChildrenByNameIt=He;const Ie=Symbol();oe.$getChildren=Ie;const Le=Symbol();oe.$getContainedChildren=Le;const Oe=Symbol();oe.$getNextPage=Oe;const Ne=Symbol();oe.$getSubformParent=Ne;const qe=Symbol();oe.$getParent=qe;const it=Symbol();oe.$getTemplateRoot=it;const tt=Symbol();oe.$globalData=tt;const Xe=Symbol();oe.$hasSettableValue=Xe;const Ze=Symbol();oe.$ids=Ze;const ot=Symbol();oe.$indexOf=ot;const Ge=Symbol();oe.$insertAt=Ge;const Ke=Symbol();oe.$isCDATAXml=Ke;const je=Symbol();oe.$isBindable=je;const nt=Symbol();oe.$isDataValue=nt;const Qe=Symbol();oe.$isDescendent=Qe;const We=Symbol();oe.$isNsAgnostic=We;const rt=Symbol();oe.$isSplittable=rt;const et=Symbol();oe.$isThereMoreWidth=et;const ct=Symbol();oe.$isTransparent=ct;const at=Symbol();oe.$isUsable=at;const Je=Symbol(),lt=Symbol("namespaceId");oe.$namespaceId=lt;const ut=Symbol("nodeName");oe.$nodeName=ut;const ft=Symbol();oe.$nsAttributes=ft;const pt=Symbol();oe.$onChild=pt;const mt=Symbol();oe.$onChildCheck=mt;const xt=Symbol();oe.$onText=xt;const vt=Symbol();oe.$pushGlyphs=vt;const wt=Symbol();oe.$popPara=wt;const _t=Symbol();oe.$pushPara=_t;const Tt=Symbol();oe.$removeChild=Tt;const Lt=Symbol("root");oe.$root=Lt;const jt=Symbol();oe.$resolvePrototypes=jt;const Bt=Symbol();oe.$searchNode=Bt;const St=Symbol();oe.$setId=St;const Ft=Symbol();oe.$setSetAttributes=Ft;const Ct=Symbol();oe.$setValue=Ct;const yt=Symbol();oe.$tabIndex=yt;const bt=Symbol();oe.$text=bt;const Pt=Symbol();oe.$toPages=Pt;const Ut=Symbol();oe.$toHTML=Ut;const Yt=Symbol();oe.$toString=Yt;const kt=Symbol();oe.$toStyle=kt;const Ot=Symbol("uid");oe.$uid=Ot;const Et=Symbol(),nn=Symbol(),en=Symbol(),an=Symbol("_children"),Sn=Symbol(),sn=Symbol(),yn=Symbol(),On=Symbol(),tn=Symbol(),Dn=Symbol(),xn=Symbol(),Hn=Symbol(),In=Symbol(),_n=Symbol("parent"),wn=Symbol(),ei=Symbol(),ni=Symbol();let on=0;const Kt=pe.NamespaceIds.datasets.id;class un{constructor(Rt,Vt,Wt=!1){this[lt]=Rt,this[ut]=Vt,this[xn]=Wt,this[_n]=null,this[an]=[],this[Ot]=`${Vt}${on++}`,this[tt]=null}[pt](Rt){if(!this[xn]||!this[mt](Rt))return!1;const Vt=Rt[ut],Wt=this[Vt];if(Wt instanceof fn){if(Wt.push(Rt))return this[Se](Rt),!0}else return Wt!==null&&this[Tt](Wt),this[Vt]=Rt,this[Se](Rt),!0;let Gt="";return this.id?Gt=` (id: ${this.id})`:this.name&&(Gt=` (name: ${this.name} ${this.h.value})`),(0,he.warn)(`XFA - node "${this[ut]}"${Gt} has already enough "${Vt}"!`),!1}[mt](Rt){return this.hasOwnProperty(Rt[ut])&&Rt[lt]===this[lt]}[We](){return!1}[Ae](){return!1}[Ke](){return!1}[je](){return!1}[wt](){this.para&&this[it]()[ye].paraStack.pop()}[_t](){this[it]()[ye].paraStack.push(this.para)}[St](Rt){this.id&&this[lt]===pe.NamespaceIds.template.id&&Rt.set(this.id,this)}[it](){return this[tt].template}[rt](){return!1}[et](){return!1}[Se](Rt){Rt[_n]=this,this[an].push(Rt),!Rt[tt]&&this[tt]&&(Rt[tt]=this[tt])}[Tt](Rt){const Vt=this[an].indexOf(Rt);this[an].splice(Vt,1)}[Xe](){return this.hasOwnProperty("value")}[Ct](Rt){}[xt](Rt){}[Re](){}[be](Rt){delete this[xn],this[ue]&&(Rt.clean(this[ue]),delete this[ue])}[ot](Rt){return this[an].indexOf(Rt)}[Ge](Rt,Vt){Vt[_n]=this,this[an].splice(Rt,0,Vt),!Vt[tt]&&this[tt]&&(Vt[tt]=this[tt])}[ct](){return!this.name}[Je](){return""}[bt](){return this[an].length===0?this[_e]:this[an].map(Rt=>Rt[bt]()).join("")}get[en](){const Rt=Object.getPrototypeOf(this);if(!Rt._attributes){const Vt=Rt._attributes=new Set;for(const Wt of Object.getOwnPropertyNames(this)){if(this[Wt]===null||this[Wt]instanceof un||this[Wt]instanceof fn)break;Vt.add(Wt)}}return(0,he.shadow)(this,en,Rt._attributes)}[Qe](Rt){let Vt=this;for(;Vt;){if(Vt===Rt)return!0;Vt=Vt[qe]()}return!1}[qe](){return this[_n]}[Ne](){return this[qe]()}[Ie](Rt=null){return Rt?this[Rt]:this[an]}[Ce](){const Rt=Object.create(null);this[_e]&&(Rt.$content=this[_e]);for(const Vt of Object.getOwnPropertyNames(this)){const Wt=this[Vt];Wt!==null&&(Wt instanceof un?Rt[Vt]=Wt[Ce]():Wt instanceof fn?Wt.isEmpty()||(Rt[Vt]=Wt.dump()):Rt[Vt]=Wt)}return Rt}[kt](){return null}[Ut](){return ae.HTMLResult.EMPTY}*[Le](){for(const Rt of this[Ie]())yield Rt}*[On](Rt,Vt){for(const Wt of this[Le]())if(!Rt||Vt===Rt.has(Wt[ut])){const Gt=this[Be](),pn=Wt[Ut](Gt);pn.success||(this[ye].failingNode=Wt),yield pn}}[Ye](){return null}[ge](Rt,Vt){this[ye].children.push(Rt)}[Be](){}[fe]({filter:Rt=null,include:Vt=!0}){if(!this[ye].generator)this[ye].generator=this[On](Rt,Vt);else{const Wt=this[Be](),Gt=this[ye].failingNode[Ut](Wt);if(!Gt.success)return Gt;Gt.html&&this[ge](Gt.html,Gt.bbox),delete this[ye].failingNode}for(;;){const Wt=this[ye].generator.next();if(Wt.done)break;const Gt=Wt.value;if(!Gt.success)return Gt;Gt.html&&this[ge](Gt.html,Gt.bbox)}return this[ye].generator=null,ae.HTMLResult.EMPTY}[Ft](Rt){this[ei]=new Set(Object.keys(Rt))}[Dn](Rt){const Vt=this[en],Wt=this[ei];return[...Rt].filter(Gt=>Vt.has(Gt)&&!Wt.has(Gt))}[jt](Rt,Vt=new Set){for(const Wt of this[an])Wt[wn](Rt,Vt)}[wn](Rt,Vt){const Wt=this[tn](Rt,Vt);Wt?this[Et](Wt,Rt,Vt):this[jt](Rt,Vt)}[tn](Rt,Vt){const{use:Wt,usehref:Gt}=this;if(!Wt&&!Gt)return null;let pn=null,An=null,zn=null,Tn=Wt;if(Gt?(Tn=Gt,Gt.startsWith("#som(")&&Gt.endsWith(")")?An=Gt.slice(5,Gt.length-1):Gt.startsWith(".#som(")&&Gt.endsWith(")")?An=Gt.slice(6,Gt.length-1):Gt.startsWith("#")?zn=Gt.slice(1):Gt.startsWith(".#")&&(zn=Gt.slice(2))):Wt.startsWith("#")?zn=Wt.slice(1):An=Wt,this.use=this.usehref="",zn?pn=Rt.get(zn):(pn=(0,re.searchNode)(Rt.get(Lt),this,An,!0,!1),pn&&(pn=pn[0])),!pn)return(0,he.warn)(`XFA - Invalid prototype reference: ${Tn}.`),null;if(pn[ut]!==this[ut])return(0,he.warn)(`XFA - Incompatible prototype: ${pn[ut]} !== ${this[ut]}.`),null;if(Vt.has(pn))return(0,he.warn)("XFA - Cycle detected in prototypes use."),null;Vt.add(pn);const En=pn[tn](Rt,Vt);return En&&pn[Et](En,Rt,Vt),pn[jt](Rt,Vt),Vt.delete(pn),pn}[Et](Rt,Vt,Wt){if(Wt.has(Rt)){(0,he.warn)("XFA - Cycle detected in prototypes use.");return}!this[_e]&&Rt[_e]&&(this[_e]=Rt[_e]),new Set(Wt).add(Rt);for(const pn of this[Dn](Rt[ei]))this[pn]=Rt[pn],this[ei]&&this[ei].add(pn);for(const pn of Object.getOwnPropertyNames(this)){if(this[en].has(pn))continue;const An=this[pn],zn=Rt[pn];if(An instanceof fn){for(const Tn of An[an])Tn[wn](Vt,Wt);for(let Tn=An[an].length,En=zn[an].length;Tn<En;Tn++){const Rn=Rt[an][Tn][we]();if(An.push(Rn))Rn[_n]=this,this[an].push(Rn),Rn[wn](Vt,Wt);else break}continue}if(An!==null){An[jt](Vt,Wt),zn&&An[Et](zn,Vt,Wt);continue}if(zn!==null){const Tn=zn[we]();Tn[_n]=this,this[pn]=Tn,this[an].push(Tn),Tn[wn](Vt,Wt)}}}static[Sn](Rt){return Array.isArray(Rt)?Rt.map(Vt=>un[Sn](Vt)):typeof Rt=="object"&&Rt!==null?Object.assign({},Rt):Rt}[we](){const Rt=Object.create(Object.getPrototypeOf(this));for(const Vt of Object.getOwnPropertySymbols(this))try{Rt[Vt]=this[Vt]}catch{(0,he.shadow)(Rt,Vt,this[Vt])}Rt[Ot]=`${Rt[ut]}${on++}`,Rt[an]=[];for(const Vt of Object.getOwnPropertyNames(this)){if(this[en].has(Vt)){Rt[Vt]=un[Sn](this[Vt]);continue}const Wt=this[Vt];Wt instanceof fn?Rt[Vt]=new fn(Wt[Hn]):Rt[Vt]=null}for(const Vt of this[an]){const Wt=Vt[ut],Gt=Vt[we]();Rt[an].push(Gt),Gt[_n]=Rt,Rt[Wt]===null?Rt[Wt]=Gt:Rt[Wt][an].push(Gt)}return Rt}[Ie](Rt=null){return Rt?this[an].filter(Vt=>Vt[ut]===Rt):this[an]}[Pe](Rt){return this[Rt]}[Ue](Rt,Vt,Wt=!0){return Array.from(this[Te](Rt,Vt,Wt))}*[Te](Rt,Vt,Wt=!0){if(Rt==="parent"){yield this[_n];return}for(const Gt of this[an])Gt[ut]===Rt&&(yield Gt),Gt.name===Rt&&(yield Gt),(Vt||Gt[ct]())&&(yield*Gt[Te](Rt,Vt,!1));Wt&&this[en].has(Rt)&&(yield new vn(this,Rt,this[Rt]))}}oe.XFAObject=un;class fn{constructor(Rt=1/0){this[Hn]=Rt,this[an]=[]}push(Rt){return this[an].length<=this[Hn]?(this[an].push(Rt),!0):((0,he.warn)(`XFA - node "${Rt[ut]}" accepts no more than ${this[Hn]} children`),!1)}isEmpty(){return this[an].length===0}dump(){return this[an].length===1?this[an][0][Ce]():this[an].map(Rt=>Rt[Ce]())}[we](){const Rt=new fn(this[Hn]);return Rt[an]=this[an].map(Vt=>Vt[we]()),Rt}get children(){return this[an]}clear(){this[an].length=0}}oe.XFAObjectArray=fn;class vn{constructor(Rt,Vt,Wt){this[_n]=Rt,this[ut]=Vt,this[_e]=Wt,this[Fe]=!1,this[Ot]=`attribute${on++}`}[qe](){return this[_n]}[nt](){return!0}[Me](){return this[_e].trim()}[Ct](Rt){Rt=Rt.value||"",this[_e]=Rt.toString()}[bt](){return this[_e]}[Qe](Rt){return this[_n]===Rt||this[_n][Qe](Rt)}}oe.XFAAttribute=vn;class At extends un{constructor(Rt,Vt,Wt={}){if(super(Rt,Vt),this[_e]="",this[sn]=null,Vt!=="#text"){const Gt=new Map;this[nn]=Gt;for(const[pn,An]of Object.entries(Wt))Gt.set(pn,new vn(this,pn,An));if(Wt.hasOwnProperty(ft)){const pn=Wt[ft].xfa.dataNode;pn!==void 0&&(pn==="dataGroup"?this[sn]=!1:pn==="dataValue"&&(this[sn]=!0))}}this[Fe]=!1}[Yt](Rt){const Vt=this[ut];if(Vt==="#text"){Rt.push((0,de.encodeToXmlString)(this[_e]));return}const Wt=(0,he.utf8StringToString)(Vt),Gt=this[lt]===Kt?"xfa:":"";Rt.push(`<${Gt}${Wt}`);for(const[pn,An]of this[nn].entries()){const zn=(0,he.utf8StringToString)(pn);Rt.push(` ${zn}="${(0,de.encodeToXmlString)(An[_e])}"`)}if(this[sn]!==null&&(this[sn]?Rt.push(' xfa:dataNode="dataValue"'):Rt.push(' xfa:dataNode="dataGroup"')),!this[_e]&&this[an].length===0){Rt.push("/>");return}if(Rt.push(">"),this[_e])typeof this[_e]=="string"?Rt.push((0,de.encodeToXmlString)(this[_e])):this[_e][Yt](Rt);else for(const pn of this[an])pn[Yt](Rt);Rt.push(`</${Gt}${Wt}>`)}[pt](Rt){if(this[_e]){const Vt=new At(this[lt],"#text");this[Se](Vt),Vt[_e]=this[_e],this[_e]=""}return this[Se](Rt),!0}[xt](Rt){this[_e]+=Rt}[Re](){if(this[_e]&&this[an].length>0){const Rt=new At(this[lt],"#text");this[Se](Rt),Rt[_e]=this[_e],delete this[_e]}}[Ut](){return this[ut]==="#text"?ae.HTMLResult.success({name:"#text",value:this[_e]}):ae.HTMLResult.EMPTY}[Ie](Rt=null){return Rt?this[an].filter(Vt=>Vt[ut]===Rt):this[an]}[$e](){return this[nn]}[Pe](Rt){const Vt=this[nn].get(Rt);return Vt!==void 0?Vt:this[Ie](Rt)}*[Te](Rt,Vt){const Wt=this[nn].get(Rt);Wt&&(yield Wt);for(const Gt of this[an])Gt[ut]===Rt&&(yield Gt),Vt&&(yield*Gt[Te](Rt,Vt))}*[ke](Rt,Vt){const Wt=this[nn].get(Rt);Wt&&(!Vt||!Wt[Fe])&&(yield Wt);for(const Gt of this[an])yield*Gt[ke](Rt,Vt)}*[He](Rt,Vt,Wt){for(const Gt of this[an])Gt[ut]===Rt&&(!Wt||!Gt[Fe])&&(yield Gt),Vt&&(yield*Gt[He](Rt,Vt,Wt))}[nt](){return this[sn]===null?this[an].length===0||this[an][0][lt]===pe.NamespaceIds.xhtml.id:this[sn]}[Me](){return this[sn]===null?this[an].length===0?this[_e].trim():this[an][0][lt]===pe.NamespaceIds.xhtml.id?this[an][0][bt]().trim():null:this[_e].trim()}[Ct](Rt){Rt=Rt.value||"",this[_e]=Rt.toString()}[Ce](Rt=!1){const Vt=Object.create(null);Rt&&(Vt.$ns=this[lt]),this[_e]&&(Vt.$content=this[_e]),Vt.$name=this[ut],Vt.children=[];for(const Wt of this[an])Vt.children.push(Wt[Ce](Rt));Vt.attributes=Object.create(null);for(const[Wt,Gt]of this[nn])Vt.attributes[Wt]=Gt[_e];return Vt}}oe.XmlObject=At;class Dt extends un{constructor(Rt,Vt){super(Rt,Vt),this[_e]=""}[xt](Rt){this[_e]+=Rt}[Re](){}}oe.ContentObject=Dt;class Nt extends Dt{constructor(Rt,Vt,Wt){super(Rt,Vt),this[In]=Wt}[Re](){this[_e]=(0,ae.getKeyword)({data:this[_e],defaultValue:this[In][0],validate:Rt=>this[In].includes(Rt)})}[be](Rt){super[be](Rt),delete this[In]}}oe.OptionObject=Nt;class zt extends Dt{[Re](){this[_e]=this[_e].trim()}}oe.StringObject=zt;class Ht extends Dt{constructor(Rt,Vt,Wt,Gt){super(Rt,Vt),this[yn]=Wt,this[ni]=Gt}[Re](){this[_e]=(0,ae.getInteger)({data:this[_e],defaultValue:this[yn],validate:this[ni]})}[be](Rt){super[be](Rt),delete this[yn],delete this[ni]}}oe.IntegerObject=Ht;class rn extends Ht{constructor(Rt,Vt){super(Rt,Vt,0,Wt=>Wt===1)}}oe.Option01=rn;class dn extends Ht{constructor(Rt,Vt){super(Rt,Vt,1,Wt=>Wt===0)}}oe.Option10=dn},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.HTMLResult=void 0,oe.getBBox=we,oe.getColor=ue,oe.getFloat=Ae,oe.getInteger=re,oe.getKeyword=ge,oe.getMeasurement=fe,oe.getRatio=be,oe.getRelevant=xe,oe.getStringOption=Se,oe.stripQuotes=pe;var ae=ce(2);const he={pt:_e=>_e,cm:_e=>_e/2.54*72,mm:_e=>_e/(10*2.54)*72,in:_e=>_e*72,px:_e=>_e},de=/([+-]?\d+\.?\d*)(.*)/;function pe(_e){return _e.startsWith("'")||_e.startsWith('"')?_e.slice(1,_e.length-1):_e}function re({data:_e,defaultValue:Ee,validate:Ce}){if(!_e)return Ee;_e=_e.trim();const ye=parseInt(_e,10);return!isNaN(ye)&&Ce(ye)?ye:Ee}function Ae({data:_e,defaultValue:Ee,validate:Ce}){if(!_e)return Ee;_e=_e.trim();const ye=parseFloat(_e);return!isNaN(ye)&&Ce(ye)?ye:Ee}function ge({data:_e,defaultValue:Ee,validate:Ce}){return _e?(_e=_e.trim(),Ce(_e)?_e:Ee):Ee}function Se(_e,Ee){return ge({data:_e,defaultValue:Ee[0],validate:Ce=>Ee.includes(Ce)})}function fe(_e,Ee="0"){if(Ee=Ee||"0",!_e)return fe(Ee);const Ce=_e.trim().match(de);if(!Ce)return fe(Ee);const[,ye,Re]=Ce,Ye=parseFloat(ye);if(isNaN(Ye))return fe(Ee);if(Ye===0)return 0;const ke=he[Re];return ke?ke(Ye):Ye}function be(_e){if(!_e)return{num:1,den:1};const Ee=_e.trim().split(/\s*:\s*/).map(Re=>parseFloat(Re)).filter(Re=>!isNaN(Re));if(Ee.length===1&&Ee.push(1),Ee.length===0)return{num:1,den:1};const[Ce,ye]=Ee;return{num:Ce,den:ye}}function xe(_e){return _e?_e.trim().split(/\s+/).map(Ee=>({excluded:Ee[0]==="-",viewname:Ee.substring(1)})):[]}function ue(_e,Ee=[0,0,0]){let[Ce,ye,Re]=Ee;if(!_e)return{r:Ce,g:ye,b:Re};const Ye=_e.trim().split(/\s*,\s*/).map(ke=>Math.min(Math.max(0,parseInt(ke.trim(),10)),255)).map(ke=>isNaN(ke)?0:ke);return Ye.length<3?{r:Ce,g:ye,b:Re}:([Ce,ye,Re]=Ye,{r:Ce,g:ye,b:Re})}function we(_e){if(!_e)return{x:-1,y:-1,width:-1,height:-1};const Ce=_e.trim().split(/\s*,\s*/).map($e=>fe($e,"-1"));if(Ce.length<4||Ce[2]<0||Ce[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[ye,Re,Ye,ke]=Ce;return{x:ye,y:Re,width:Ye,height:ke}}class Fe{static get FAILURE(){return(0,ae.shadow)(this,"FAILURE",new Fe(!1,null,null,null))}static get EMPTY(){return(0,ae.shadow)(this,"EMPTY",new Fe(!0,null,null,null))}constructor(Ee,Ce,ye,Re){this.success=Ee,this.html=Ce,this.bbox=ye,this.breakNode=Re}isBreak(){return!!this.breakNode}static breakNode(Ee){return new Fe(!1,null,null,Ee)}static success(Ee,Ce=null){return new Fe(!0,Ee,Ce,null)}}oe.HTMLResult=Fe},(le,oe)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.NamespaceIds=oe.$buildXFAObject=void 0;const ce=Symbol();oe.$buildXFAObject=ce;const ae={config:{id:0,check:he=>he.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:he=>he.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:he=>he.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:he=>he.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:he=>he.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:he=>he==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:he=>he==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:he=>he.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:he=>he==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:he=>he.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:he=>he.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:he=>he==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:he=>he==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:he=>he==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:he=>he==="http://ns.adobe.com/xmpmeta/"}};oe.NamespaceIds=ae},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.createDataNode=Fe,oe.searchNode=ue;var ae=ce(77),he=ce(79),de=ce(2);const pe=/^[^.[]+/,re=/^[^\]]+/,Ae={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},ge=new Map([["$data",(_e,Ee)=>_e.datasets?_e.datasets.data:_e],["$record",(_e,Ee)=>(_e.datasets?_e.datasets.data:_e)[ae.$getChildren]()[0]],["$template",(_e,Ee)=>_e.template],["$connectionSet",(_e,Ee)=>_e.connectionSet],["$form",(_e,Ee)=>_e.form],["$layout",(_e,Ee)=>_e.layout],["$host",(_e,Ee)=>_e.host],["$dataWindow",(_e,Ee)=>_e.dataWindow],["$event",(_e,Ee)=>_e.event],["!",(_e,Ee)=>_e.datasets],["$xfa",(_e,Ee)=>_e],["xfa",(_e,Ee)=>_e],["$",(_e,Ee)=>Ee]]),Se=new WeakMap,fe=he.NamespaceIds.datasets.id;function be(_e){return _e=_e.trim(),_e==="*"?1/0:parseInt(_e,10)||0}function xe(_e,Ee,Ce=!0){let ye=_e.match(pe);if(!ye)return null;let[Re]=ye;const Ye=[{name:Re,cacheName:"."+Re,index:0,js:null,formCalc:null,operator:Ae.dot}];let ke=Re.length;for(;ke<_e.length;){const $e=ke;if(_e.charAt(ke++)==="["){if(ye=_e.slice(ke).match(re),!ye)return(0,de.warn)("XFA - Invalid index in SOM expression"),null;Ye.at(-1).index=be(ye[0]),ke+=ye[0].length+1;continue}let Pe;switch(_e.charAt(ke)){case".":if(!Ee)return null;ke++,Pe=Ae.dotDot;break;case"#":ke++,Pe=Ae.dotHash;break;case"[":if(Ce)return(0,de.warn)("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;Pe=Ae.dotBracket;break;case"(":if(Ce)return(0,de.warn)("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;Pe=Ae.dotParen;break;default:Pe=Ae.dot;break}if(ye=_e.slice(ke).match(pe),!ye)break;[Re]=ye,ke+=Re.length,Ye.push({name:Re,cacheName:_e.slice($e,ke),operator:Pe,index:0,js:null,formCalc:null})}return Ye}function ue(_e,Ee,Ce,ye=!0,Re=!0){const Ye=xe(Ce,ye);if(!Ye)return null;const ke=ge.get(Ye[0].name);let $e=0,Be;ke?(Be=!0,_e=[ke(_e,Ee)],$e=1):(Be=Ee===null,_e=[Ee||_e]);for(let Pe=Ye.length;$e<Pe;$e++){const{name:Ue,cacheName:Te,operator:Me,index:Ve}=Ye[$e],He=[];for(const Ie of _e){if(!(Ie instanceof ae.XFAObject))continue;let Le,Oe;if(Re&&(Oe=Se.get(Ie),Oe||(Oe=new Map,Se.set(Ie,Oe)),Le=Oe.get(Te)),!Le){switch(Me){case Ae.dot:Le=Ie[ae.$getChildrenByName](Ue,!1);break;case Ae.dotDot:Le=Ie[ae.$getChildrenByName](Ue,!0);break;case Ae.dotHash:Le=Ie[ae.$getChildrenByClass](Ue),Le instanceof ae.XFAObjectArray?Le=Le.children:Le=[Le];break}Re&&Oe.set(Te,Le)}Le.length>0&&He.push(Le)}if(He.length===0&&!Be&&$e===0){if(Ee=Ee[ae.$getParent](),!Ee)return null;$e=-1,_e=[Ee];continue}isFinite(Ve)?_e=He.filter(Ie=>Ve<Ie.length).map(Ie=>Ie[Ve]):_e=He.flat()}return _e.length===0?null:_e}function we(_e,Ee){let Ce=null;for(const{name:ye,index:Re}of Ee){for(let Ye=0,ke=isFinite(Re)?Re:0;Ye<=ke;Ye++){const $e=_e[ae.$namespaceId]===fe?-1:_e[ae.$namespaceId];Ce=new ae.XmlObject($e,ye),_e[ae.$appendChild](Ce)}_e=Ce}return Ce}function Fe(_e,Ee,Ce){const ye=xe(Ce);if(!ye||ye.some(ke=>ke.operator===Ae.dotDot))return null;const Re=ge.get(ye[0].name);let Ye=0;Re?(_e=Re(_e,Ee),Ye=1):_e=Ee||_e;for(let ke=ye.length;Ye<ke;Ye++){const{name:$e,operator:Be,index:Pe}=ye[Ye];if(!isFinite(Pe))return ye[Ye].index=0,we(_e,ye.slice(Ye));let Ue;switch(Be){case Ae.dot:Ue=_e[ae.$getChildrenByName]($e,!1);break;case Ae.dotDot:Ue=_e[ae.$getChildrenByName]($e,!0);break;case Ae.dotHash:Ue=_e[ae.$getChildrenByClass]($e),Ue instanceof ae.XFAObjectArray?Ue=Ue.children:Ue=[Ue];break}if(Ue.length===0)return we(_e,ye.slice(Ye));if(Pe<Ue.length){const Te=Ue[Pe];if(!(Te instanceof ae.XFAObject))return(0,de.warn)("XFA - Cannot create a node."),null;_e=Te}else return ye[Ye].index=Pe-Ue.length,we(_e,ye.slice(Ye))}return null}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Binder=void 0;var ae=ce(77),he=ce(82),de=ce(80),pe=ce(79),re=ce(2);const Ae=pe.NamespaceIds.datasets.id;function ge(fe){const be=new he.Text({});return be[ae.$content]=fe,be}class Se{constructor(be){this.root=be,this.datasets=be.datasets,be.datasets&&be.datasets.data?this.data=be.datasets.data:this.data=new ae.XmlObject(pe.NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[ae.$getChildren]().length===0,this.root.form=this.form=be.template[ae.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(be,xe,ue){if(be[ae.$data]=xe,be[ae.$hasSettableValue]())if(xe[ae.$isDataValue]()){const we=xe[ae.$getDataValue]();be[ae.$setValue](ge(we))}else if(be instanceof he.Field&&be.ui&&be.ui.choiceList&&be.ui.choiceList.open==="multiSelect"){const we=xe[ae.$getChildren]().map(Fe=>Fe[ae.$content].trim()).join(`
`);be[ae.$setValue](ge(we))}else this._isConsumeData()&&(0,re.warn)("XFA - Nodes haven't the same type.");else!xe[ae.$isDataValue]()||this._isMatchTemplate()?this._bindElement(be,xe):(0,re.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(be,xe,ue,we){if(!be)return null;let Fe,_e;for(let Ee=0;Ee<3;Ee++){for(Fe=ue[ae.$getRealChildrenByNameIt](be,!1,!0);_e=Fe.next().value,!!_e;)if(xe===_e[ae.$isDataValue]())return _e;if(ue[ae.$namespaceId]===pe.NamespaceIds.datasets.id&&ue[ae.$nodeName]==="data")break;ue=ue[ae.$getParent]()}return we?(Fe=this.data[ae.$getRealChildrenByNameIt](be,!0,!1),_e=Fe.next().value,_e||(Fe=this.data[ae.$getAttributeIt](be,!0),_e=Fe.next().value,_e&&_e[ae.$isDataValue]())?_e:null):null}_setProperties(be,xe){if(be.hasOwnProperty("setProperty"))for(const{ref:ue,target:we,connection:Fe}of be.setProperty.children){if(Fe||!ue)continue;const _e=(0,de.searchNode)(this.root,xe,ue,!1,!1);if(!_e){(0,re.warn)(`XFA - Invalid reference: ${ue}.`);continue}const[Ee]=_e;if(!Ee[ae.$isDescendent](this.data)){(0,re.warn)("XFA - Invalid node: must be a data node.");continue}const Ce=(0,de.searchNode)(this.root,be,we,!1,!1);if(!Ce){(0,re.warn)(`XFA - Invalid target: ${we}.`);continue}const[ye]=Ce;if(!ye[ae.$isDescendent](be)){(0,re.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const Re=ye[ae.$getParent]();if(ye instanceof he.SetProperty||Re instanceof he.SetProperty){(0,re.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(ye instanceof he.BindItems||Re instanceof he.BindItems){(0,re.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const Ye=Ee[ae.$text](),ke=ye[ae.$nodeName];if(ye instanceof ae.XFAAttribute){const $e=Object.create(null);$e[ke]=Ye;const Be=Reflect.construct(Object.getPrototypeOf(Re).constructor,[$e]);Re[ke]=Be[ke];continue}if(!ye.hasOwnProperty(ae.$content)){(0,re.warn)("XFA - Invalid node to use in setProperty");continue}ye[ae.$data]=Ee,ye[ae.$content]=Ye,ye[ae.$finalize]()}}_bindItems(be,xe){if(!be.hasOwnProperty("items")||!be.hasOwnProperty("bindItems")||be.bindItems.isEmpty())return;for(const Fe of be.items.children)be[ae.$removeChild](Fe);be.items.clear();const ue=new he.Items({}),we=new he.Items({});be[ae.$appendChild](ue),be.items.push(ue),be[ae.$appendChild](we),be.items.push(we);for(const{ref:Fe,labelRef:_e,valueRef:Ee,connection:Ce}of be.bindItems.children){if(Ce||!Fe)continue;const ye=(0,de.searchNode)(this.root,xe,Fe,!1,!1);if(!ye){(0,re.warn)(`XFA - Invalid reference: ${Fe}.`);continue}for(const Re of ye){if(!Re[ae.$isDescendent](this.datasets)){(0,re.warn)(`XFA - Invalid ref (${Fe}): must be a datasets child.`);continue}const Ye=(0,de.searchNode)(this.root,Re,_e,!0,!1);if(!Ye){(0,re.warn)(`XFA - Invalid label: ${_e}.`);continue}const[ke]=Ye;if(!ke[ae.$isDescendent](this.datasets)){(0,re.warn)("XFA - Invalid label: must be a datasets child.");continue}const $e=(0,de.searchNode)(this.root,Re,Ee,!0,!1);if(!$e){(0,re.warn)(`XFA - Invalid value: ${Ee}.`);continue}const[Be]=$e;if(!Be[ae.$isDescendent](this.datasets)){(0,re.warn)("XFA - Invalid value: must be a datasets child.");continue}const Pe=ge(ke[ae.$text]()),Ue=ge(Be[ae.$text]());ue[ae.$appendChild](Pe),ue.text.push(Pe),we[ae.$appendChild](Ue),we.text.push(Ue)}}}_bindOccurrences(be,xe,ue){let we;if(xe.length>1&&(we=be[ae.$clone](),we[ae.$removeChild](we.occur),we.occur=null),this._bindValue(be,xe[0],ue),this._setProperties(be,xe[0]),this._bindItems(be,xe[0]),xe.length===1)return;const Fe=be[ae.$getParent](),_e=be[ae.$nodeName],Ee=Fe[ae.$indexOf](be);for(let Ce=1,ye=xe.length;Ce<ye;Ce++){const Re=xe[Ce],Ye=we[ae.$clone]();Fe[_e].push(Ye),Fe[ae.$insertAt](Ee+Ce,Ye),this._bindValue(Ye,Re,ue),this._setProperties(Ye,Re),this._bindItems(Ye,Re)}}_createOccurrences(be){if(!this.emptyMerge)return;const{occur:xe}=be;if(!xe||xe.initial<=1)return;const ue=be[ae.$getParent](),we=be[ae.$nodeName];if(!(ue[we]instanceof ae.XFAObjectArray))return;let Fe;be.name?Fe=ue[we].children.filter(Ce=>Ce.name===be.name).length:Fe=ue[we].children.length;const _e=ue[ae.$indexOf](be)+1,Ee=xe.initial-Fe;if(Ee){const Ce=be[ae.$clone]();Ce[ae.$removeChild](Ce.occur),Ce.occur=null,ue[we].push(Ce),ue[ae.$insertAt](_e,Ce);for(let ye=1;ye<Ee;ye++){const Re=Ce[ae.$clone]();ue[we].push(Re),ue[ae.$insertAt](_e+ye,Re)}}}_getOccurInfo(be){const{name:xe,occur:ue}=be;if(!ue||!xe)return[1,1];const we=ue.max===-1?1/0:ue.max;return[ue.min,we]}_setAndBind(be,xe){this._setProperties(be,xe),this._bindItems(be,xe),this._bindElement(be,xe)}_bindElement(be,xe){const ue=[];this._createOccurrences(be);for(const we of be[ae.$getChildren]()){if(we[ae.$data])continue;if(this._mergeMode===void 0&&we[ae.$nodeName]==="subform"){this._mergeMode=we.mergeMode==="consumeData";const Ye=xe[ae.$getChildren]();if(Ye.length>0)this._bindOccurrences(we,[Ye[0]],null);else if(this.emptyMerge){const ke=xe[ae.$namespaceId]===Ae?-1:xe[ae.$namespaceId],$e=we[ae.$data]=new ae.XmlObject(ke,we.name||"root");xe[ae.$appendChild]($e),this._bindElement(we,$e)}continue}if(!we[ae.$isBindable]())continue;let Fe=!1,_e=null,Ee=null,Ce=null;if(we.bind){switch(we.bind.match){case"none":this._setAndBind(we,xe);continue;case"global":Fe=!0;break;case"dataRef":if(!we.bind.ref){(0,re.warn)(`XFA - ref is empty in node ${we[ae.$nodeName]}.`),this._setAndBind(we,xe);continue}Ee=we.bind.ref;break}we.bind.picture&&(_e=we.bind.picture[ae.$content])}const[ye,Re]=this._getOccurInfo(we);if(Ee)if(Ce=(0,de.searchNode)(this.root,xe,Ee,!0,!1),Ce===null){if(Ce=(0,de.createDataNode)(this.data,xe,Ee),!Ce)continue;this._isConsumeData()&&(Ce[ae.$consumed]=!0),this._setAndBind(we,Ce);continue}else this._isConsumeData()&&(Ce=Ce.filter(Ye=>!Ye[ae.$consumed])),Ce.length>Re?Ce=Ce.slice(0,Re):Ce.length===0&&(Ce=null),Ce&&this._isConsumeData()&&Ce.forEach(Ye=>{Ye[ae.$consumed]=!0});else{if(!we.name){this._setAndBind(we,xe);continue}if(this._isConsumeData()){const Ye=[];for(;Ye.length<Re;){const ke=this._findDataByNameToConsume(we.name,we[ae.$hasSettableValue](),xe,Fe);if(!ke)break;ke[ae.$consumed]=!0,Ye.push(ke)}Ce=Ye.length>0?Ye:null}else{if(Ce=xe[ae.$getRealChildrenByNameIt](we.name,!1,this.emptyMerge).next().value,!Ce){if(ye===0){ue.push(we);continue}const Ye=xe[ae.$namespaceId]===Ae?-1:xe[ae.$namespaceId];Ce=we[ae.$data]=new ae.XmlObject(Ye,we.name),this.emptyMerge&&(Ce[ae.$consumed]=!0),xe[ae.$appendChild](Ce),this._setAndBind(we,Ce);continue}this.emptyMerge&&(Ce[ae.$consumed]=!0),Ce=[Ce]}}Ce?this._bindOccurrences(we,Ce,_e):ye>0?this._setAndBind(we,xe):ue.push(we)}ue.forEach(we=>we[ae.$getParent]()[ae.$removeChild](we))}}oe.Binder=Se},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Value=oe.Text=oe.TemplateNamespace=oe.Template=oe.SetProperty=oe.Items=oe.Field=oe.BindItems=void 0;var ae=ce(77),he=ce(79),de=ce(83),pe=ce(84),re=ce(78),Ae=ce(2),ge=ce(85),Se=ce(6),fe=ce(80);const be=he.NamespaceIds.template.id,xe="http://www.w3.org/2000/svg",ue=2,we=3,Fe=5e3,_e=/^H(\d+)$/,Ee=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),Ce=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function ye(qt){if(!qt||!qt.border)return{w:0,h:0};const De=qt.border[ae.$getExtra]();return De?{w:De.widths[0]+De.widths[2]+De.insets[0]+De.insets[2],h:De.widths[1]+De.widths[3]+De.insets[1]+De.insets[3]}:{w:0,h:0}}function Re(qt){return qt.margin&&(qt.margin.topInset||qt.margin.rightInset||qt.margin.bottomInset||qt.margin.leftInset)}function Ye(qt,De){if(!qt.value){const ht=new Tr({});qt[ae.$appendChild](ht),qt.value=ht}qt.value[ae.$setValue](De)}function*ke(qt){for(const De of qt[ae.$getChildren]()){if(De instanceof Cr){yield*De[ae.$getContainedChildren]();continue}yield De}}function $e(qt){return qt.validate&&qt.validate.nullTest==="error"}function Be(qt){for(;qt;){if(!qt.traversal){qt[ae.$tabIndex]=qt[ae.$getParent]()[ae.$tabIndex];return}if(qt[ae.$tabIndex])return;let De=null;for(const Qt of qt.traversal[ae.$getChildren]())if(Qt.operation==="next"){De=Qt;break}if(!De||!De.ref){qt[ae.$tabIndex]=qt[ae.$getParent]()[ae.$tabIndex];return}const ht=qt[ae.$getTemplateRoot]();qt[ae.$tabIndex]=++ht[ae.$tabIndex];const Xt=ht[ae.$searchNode](De.ref,qt);if(!Xt)return;qt=Xt[0]}}function Pe(qt,De){const ht=qt.assist;if(ht){const Xt=ht[ae.$toHTML]();Xt&&(De.title=Xt);const mn=ht.role.match(_e);if(mn){const Ln="heading",kn=mn[1];De.role=Ln,De["aria-level"]=kn}}if(qt.layout==="table")De.role="table";else if(qt.layout==="row")De.role="row";else{const Xt=qt[ae.$getParent]();Xt.layout==="row"&&(Xt.assist&&Xt.assist.role==="TH"?De.role="columnheader":De.role="cell")}}function Ue(qt){if(!qt.assist)return null;const De=qt.assist;return De.speak&&De.speak[ae.$content]!==""?De.speak[ae.$content]:De.toolTip?De.toolTip[ae.$content]:null}function Te(qt){return re.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:qt}]})}function Me(qt){const De=qt[ae.$getTemplateRoot]();De[ae.$extra].firstUnsplittable===null&&(De[ae.$extra].firstUnsplittable=qt,De[ae.$extra].noLayoutFailure=!0)}function Ve(qt){const De=qt[ae.$getTemplateRoot]();De[ae.$extra].firstUnsplittable===qt&&(De[ae.$extra].noLayoutFailure=!1)}function He(qt){if(qt[ae.$extra]||(qt[ae.$extra]=Object.create(null),qt.targetType==="auto"))return!1;const De=qt[ae.$getTemplateRoot]();let ht=null;if(qt.target){if(ht=De[ae.$searchNode](qt.target,qt[ae.$getParent]()),!ht)return!1;ht=ht[0]}const{currentPageArea:Xt,currentContentArea:Qt}=De[ae.$extra];if(qt.targetType==="pageArea")return ht instanceof Gt||(ht=null),qt.startNew?(qt[ae.$extra].target=ht||Xt,!0):ht&&ht!==Xt?(qt[ae.$extra].target=ht,!0):!1;ht instanceof pt||(ht=null);const mn=ht&&ht[ae.$getParent]();let Ln,kn=mn;if(qt.startNew)if(ht){const Bn=mn.contentArea.children,$n=Bn.indexOf(Qt),Qn=Bn.indexOf(ht);$n!==-1&&$n<Qn&&(kn=null),Ln=Qn-1}else Ln=Xt.contentArea.children.indexOf(Qt);else if(ht&&ht!==Qt)Ln=mn.contentArea.children.indexOf(ht)-1,kn=mn===Xt?null:mn;else return!1;return qt[ae.$extra].target=kn,qt[ae.$extra].index=Ln,!0}function Ie(qt,De,ht){const Xt=qt[ae.$getTemplateRoot](),Qt=Xt[ae.$extra].noLayoutFailure,mn=De[ae.$getSubformParent];De[ae.$getSubformParent]=()=>qt,Xt[ae.$extra].noLayoutFailure=!0;const Ln=De[ae.$toHTML](ht);qt[ae.$addHTML](Ln.html,Ln.bbox),Xt[ae.$extra].noLayoutFailure=Qt,De[ae.$getSubformParent]=mn}class Le extends ae.StringObject{constructor(De){super(be,"appearanceFilter"),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||""}}class Oe extends ae.XFAObject{constructor(De){super(be,"arc",!0),this.circular=(0,re.getInteger)({data:De.circular,defaultValue:0,validate:ht=>ht===1}),this.hand=(0,re.getStringOption)(De.hand,["even","left","right"]),this.id=De.id||"",this.startAngle=(0,re.getFloat)({data:De.startAngle,defaultValue:0,validate:ht=>!0}),this.sweepAngle=(0,re.getFloat)({data:De.sweepAngle,defaultValue:360,validate:ht=>!0}),this.use=De.use||"",this.usehref=De.usehref||"",this.edge=null,this.fill=null}[ae.$toHTML](){const De=this.edge||new Ft({}),ht=De[ae.$toStyle](),Xt=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(Xt,this.fill[ae.$toStyle]()):Xt.fill="transparent",Xt.strokeWidth=(0,pe.measureToString)(De.presence==="visible"?De.thickness:0),Xt.stroke=ht.color;let Qt;const mn={xmlns:xe,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)Qt={name:"ellipse",attributes:{xmlns:xe,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:Xt}};else{const Bn=this.startAngle*Math.PI/180,$n=this.sweepAngle*Math.PI/180,Qn=this.sweepAngle>180?1:0,[ii,ri,fi,di]=[50*(1+Math.cos(Bn)),50*(1-Math.sin(Bn)),50*(1+Math.cos(Bn+$n)),50*(1-Math.sin(Bn+$n))];Qt={name:"path",attributes:{xmlns:xe,d:`M ${ii} ${ri} A 50 50 0 ${Qn} 0 ${fi} ${di}`,vectorEffect:"non-scaling-stroke",style:Xt}},Object.assign(mn,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const Ln={name:"svg",children:[Qt],attributes:mn},kn=this[ae.$getParent]()[ae.$getParent]();return Re(kn)?re.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[Ln]}):(Ln.attributes.style.position="absolute",re.HTMLResult.success(Ln))}}class Ne extends ae.XFAObject{constructor(De){super(be,"area",!0),this.colSpan=(0,re.getInteger)({data:De.colSpan,defaultValue:1,validate:ht=>ht>=1||ht===-1}),this.id=De.id||"",this.name=De.name||"",this.relevant=(0,re.getRelevant)(De.relevant),this.use=De.use||"",this.usehref=De.usehref||"",this.x=(0,re.getMeasurement)(De.x,"0pt"),this.y=(0,re.getMeasurement)(De.y,"0pt"),this.desc=null,this.extras=null,this.area=new ae.XFAObjectArray,this.draw=new ae.XFAObjectArray,this.exObject=new ae.XFAObjectArray,this.exclGroup=new ae.XFAObjectArray,this.field=new ae.XFAObjectArray,this.subform=new ae.XFAObjectArray,this.subformSet=new ae.XFAObjectArray}*[ae.$getContainedChildren](){yield*ke(this)}[ae.$isTransparent](){return!0}[ae.$isBindable](){return!0}[ae.$addHTML](De,ht){const[Xt,Qt,mn,Ln]=ht;this[ae.$extra].width=Math.max(this[ae.$extra].width,Xt+mn),this[ae.$extra].height=Math.max(this[ae.$extra].height,Qt+Ln),this[ae.$extra].children.push(De)}[ae.$getAvailableSpace](){return this[ae.$extra].availableSpace}[ae.$toHTML](De){const ht=(0,pe.toStyle)(this,"position"),Xt={style:ht,id:this[ae.$uid],class:["xfaArea"]};(0,pe.isPrintOnly)(this)&&Xt.class.push("xfaPrintOnly"),this.name&&(Xt.xfaName=this.name);const Qt=[];this[ae.$extra]={children:Qt,width:0,height:0,availableSpace:De};const mn=this[ae.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!mn.success)return mn.isBreak()?mn:(delete this[ae.$extra],re.HTMLResult.FAILURE);ht.width=(0,pe.measureToString)(this[ae.$extra].width),ht.height=(0,pe.measureToString)(this[ae.$extra].height);const Ln={name:"div",attributes:Xt,children:Qt},kn=[this.x,this.y,this[ae.$extra].width,this[ae.$extra].height];return delete this[ae.$extra],re.HTMLResult.success(Ln,kn)}}class qe extends ae.XFAObject{constructor(De){super(be,"assist",!0),this.id=De.id||"",this.role=De.role||"",this.use=De.use||"",this.usehref=De.usehref||"",this.speak=null,this.toolTip=null}[ae.$toHTML](){return this.toolTip&&this.toolTip[ae.$content]?this.toolTip[ae.$content]:null}}class it extends ae.XFAObject{constructor(De){super(be,"barcode",!0),this.charEncoding=(0,re.getKeyword)({data:De.charEncoding?De.charEncoding.toLowerCase():"",defaultValue:"",validate:ht=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(ht)||ht.match(/iso-8859-\d{2}/)}),this.checksum=(0,re.getStringOption)(De.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,re.getInteger)({data:De.dataColumnCount,defaultValue:-1,validate:ht=>ht>=0}),this.dataLength=(0,re.getInteger)({data:De.dataLength,defaultValue:-1,validate:ht=>ht>=0}),this.dataPrep=(0,re.getStringOption)(De.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,re.getInteger)({data:De.dataRowCount,defaultValue:-1,validate:ht=>ht>=0}),this.endChar=De.endChar||"",this.errorCorrectionLevel=(0,re.getInteger)({data:De.errorCorrectionLevel,defaultValue:-1,validate:ht=>ht>=0&&ht<=8}),this.id=De.id||"",this.moduleHeight=(0,re.getMeasurement)(De.moduleHeight,"5mm"),this.moduleWidth=(0,re.getMeasurement)(De.moduleWidth,"0.25mm"),this.printCheckDigit=(0,re.getInteger)({data:De.printCheckDigit,defaultValue:0,validate:ht=>ht===1}),this.rowColumnRatio=(0,re.getRatio)(De.rowColumnRatio),this.startChar=De.startChar||"",this.textLocation=(0,re.getStringOption)(De.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,re.getInteger)({data:De.truncate,defaultValue:0,validate:ht=>ht===1}),this.type=(0,re.getStringOption)(De.type?De.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,re.getStringOption)(De.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=De.use||"",this.usehref=De.usehref||"",this.wideNarrowRatio=(0,re.getRatio)(De.wideNarrowRatio),this.encrypt=null,this.extras=null}}class tt extends ae.XFAObject{constructor(De){super(be,"bind",!0),this.match=(0,re.getStringOption)(De.match,["once","dataRef","global","none"]),this.ref=De.ref||"",this.picture=null}}class Xe extends ae.XFAObject{constructor(De){super(be,"bindItems"),this.connection=De.connection||"",this.labelRef=De.labelRef||"",this.ref=De.ref||"",this.valueRef=De.valueRef||""}}oe.BindItems=Xe;class Ze extends ae.XFAObject{constructor(De){super(be,"bookend"),this.id=De.id||"",this.leader=De.leader||"",this.trailer=De.trailer||"",this.use=De.use||"",this.usehref=De.usehref||""}}class ot extends ae.Option01{constructor(De){super(be,"boolean"),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$toHTML](De){return Te(this[ae.$content]===1?"1":"0")}}class Ge extends ae.XFAObject{constructor(De){super(be,"border",!0),this.break=(0,re.getStringOption)(De.break,["close","open"]),this.hand=(0,re.getStringOption)(De.hand,["even","left","right"]),this.id=De.id||"",this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,re.getRelevant)(De.relevant),this.use=De.use||"",this.usehref=De.usehref||"",this.corner=new ae.XFAObjectArray(4),this.edge=new ae.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[ae.$getExtra](){if(!this[ae.$extra]){const De=this.edge.children.slice();if(De.length<4){const Qt=De.at(-1)||new Ft({});for(let mn=De.length;mn<4;mn++)De.push(Qt)}const ht=De.map(Qt=>Qt.thickness),Xt=[0,0,0,0];this.margin&&(Xt[0]=this.margin.topInset,Xt[1]=this.margin.rightInset,Xt[2]=this.margin.bottomInset,Xt[3]=this.margin.leftInset),this[ae.$extra]={widths:ht,insets:Xt,edges:De}}return this[ae.$extra]}[ae.$toStyle](){const{edges:De}=this[ae.$getExtra](),ht=De.map(Qt=>{const mn=Qt[ae.$toStyle]();return mn.color=mn.color||"#000000",mn}),Xt=Object.create(null);if(this.margin&&Object.assign(Xt,this.margin[ae.$toStyle]()),this.fill&&this.fill.presence==="visible"&&Object.assign(Xt,this.fill[ae.$toStyle]()),this.corner.children.some(Qt=>Qt.radius!==0)){const Qt=this.corner.children.map(mn=>mn[ae.$toStyle]());if(Qt.length===2||Qt.length===3){const mn=Qt.at(-1);for(let Ln=Qt.length;Ln<4;Ln++)Qt.push(mn)}Xt.borderRadius=Qt.map(mn=>mn.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":Xt.borderStyle="";break;case"inactive":Xt.borderStyle="none";break;default:Xt.borderStyle=ht.map(Qt=>Qt.style).join(" ");break}return Xt.borderWidth=ht.map(Qt=>Qt.width).join(" "),Xt.borderColor=ht.map(Qt=>Qt.color).join(" "),Xt}}class Ke extends ae.XFAObject{constructor(De){super(be,"break",!0),this.after=(0,re.getStringOption)(De.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=De.afterTarget||"",this.before=(0,re.getStringOption)(De.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=De.beforeTarget||"",this.bookendLeader=De.bookendLeader||"",this.bookendTrailer=De.bookendTrailer||"",this.id=De.id||"",this.overflowLeader=De.overflowLeader||"",this.overflowTarget=De.overflowTarget||"",this.overflowTrailer=De.overflowTrailer||"",this.startNew=(0,re.getInteger)({data:De.startNew,defaultValue:0,validate:ht=>ht===1}),this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null}}class je extends ae.XFAObject{constructor(De){super(be,"breakAfter",!0),this.id=De.id||"",this.leader=De.leader||"",this.startNew=(0,re.getInteger)({data:De.startNew,defaultValue:0,validate:ht=>ht===1}),this.target=De.target||"",this.targetType=(0,re.getStringOption)(De.targetType,["auto","contentArea","pageArea"]),this.trailer=De.trailer||"",this.use=De.use||"",this.usehref=De.usehref||"",this.script=null}}class nt extends ae.XFAObject{constructor(De){super(be,"breakBefore",!0),this.id=De.id||"",this.leader=De.leader||"",this.startNew=(0,re.getInteger)({data:De.startNew,defaultValue:0,validate:ht=>ht===1}),this.target=De.target||"",this.targetType=(0,re.getStringOption)(De.targetType,["auto","contentArea","pageArea"]),this.trailer=De.trailer||"",this.use=De.use||"",this.usehref=De.usehref||"",this.script=null}[ae.$toHTML](De){return this[ae.$extra]={},re.HTMLResult.FAILURE}}class Qe extends ae.XFAObject{constructor(De){super(be,"button",!0),this.highlight=(0,re.getStringOption)(De.highlight,["inverted","none","outline","push"]),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null}[ae.$toHTML](De){const Xt=this[ae.$getParent]()[ae.$getParent](),Qt={name:"button",attributes:{id:this[ae.$uid],class:["xfaButton"],style:{}},children:[]};for(const mn of Xt.event.children){if(mn.activity!=="click"||!mn.script)continue;const Ln=(0,Se.recoverJsURL)(mn.script[ae.$content]);if(!Ln)continue;const kn=(0,pe.fixURL)(Ln.url);kn&&Qt.children.push({name:"a",attributes:{id:"link"+this[ae.$uid],href:kn,newWindow:Ln.newWindow,class:["xfaLink"],style:{}},children:[]})}return re.HTMLResult.success(Qt)}}class We extends ae.XFAObject{constructor(De){super(be,"calculate",!0),this.id=De.id||"",this.override=(0,re.getStringOption)(De.override,["disabled","error","ignore","warning"]),this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.message=null,this.script=null}}class rt extends ae.XFAObject{constructor(De){super(be,"caption",!0),this.id=De.id||"",this.placement=(0,re.getStringOption)(De.placement,["left","bottom","inline","right","top"]),this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil((0,re.getMeasurement)(De.reserve)),this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[ae.$setValue](De){Ye(this,De)}[ae.$getExtra](De){if(!this[ae.$extra]){let{width:ht,height:Xt}=De;switch(this.placement){case"left":case"right":case"inline":ht=this.reserve<=0?ht:this.reserve;break;case"top":case"bottom":Xt=this.reserve<=0?Xt:this.reserve;break}this[ae.$extra]=(0,pe.layoutNode)(this,{width:ht,height:Xt})}return this[ae.$extra]}[ae.$toHTML](De){if(!this.value)return re.HTMLResult.EMPTY;this[ae.$pushPara]();const ht=this.value[ae.$toHTML](De).html;if(!ht)return this[ae.$popPara](),re.HTMLResult.EMPTY;const Xt=this.reserve;if(this.reserve<=0){const{w:Ln,h:kn}=this[ae.$getExtra](De);switch(this.placement){case"left":case"right":case"inline":this.reserve=Ln;break;case"top":case"bottom":this.reserve=kn;break}}const Qt=[];typeof ht=="string"?Qt.push({name:"#text",value:ht}):Qt.push(ht);const mn=(0,pe.toStyle)(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(mn.width=(0,pe.measureToString)(this.reserve));break;case"top":case"bottom":this.reserve>0&&(mn.height=(0,pe.measureToString)(this.reserve));break}return(0,pe.setPara)(this,null,ht),this[ae.$popPara](),this.reserve=Xt,re.HTMLResult.success({name:"div",attributes:{style:mn,class:["xfaCaption"]},children:Qt})}}class et extends ae.StringObject{constructor(De){super(be,"certificate"),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}}class ct extends ae.XFAObject{constructor(De){super(be,"certificates",!0),this.credentialServerPolicy=(0,re.getStringOption)(De.credentialServerPolicy,["optional","required"]),this.id=De.id||"",this.url=De.url||"",this.urlPolicy=De.urlPolicy||"",this.use=De.use||"",this.usehref=De.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class at extends ae.XFAObject{constructor(De){super(be,"checkButton",!0),this.id=De.id||"",this.mark=(0,re.getStringOption)(De.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,re.getStringOption)(De.shape,["square","round"]),this.size=(0,re.getMeasurement)(De.size,"10pt"),this.use=De.use||"",this.usehref=De.usehref||"",this.border=null,this.extras=null,this.margin=null}[ae.$toHTML](De){const ht=(0,pe.toStyle)("margin"),Xt=(0,pe.measureToString)(this.size);ht.width=ht.height=Xt;let Qt,mn,Ln;const kn=this[ae.$getParent]()[ae.$getParent](),Bn=kn.items.children.length&&kn.items.children[0][ae.$toHTML]().html||[],$n={on:(Bn[0]!==void 0?Bn[0]:"on").toString(),off:(Bn[1]!==void 0?Bn[1]:"off").toString()},ii=(kn.value&&kn.value[ae.$text]()||"off")===$n.on||void 0,ri=kn[ae.$getSubformParent](),fi=kn[ae.$uid];let di;ri instanceof en?(Ln=ri[ae.$uid],Qt="radio",mn="xfaRadio",di=ri[ae.$data]&&ri[ae.$data][ae.$uid]||ri[ae.$uid]):(Qt="checkbox",mn="xfaCheckbox",di=kn[ae.$data]&&kn[ae.$data][ae.$uid]||kn[ae.$uid]);const Gn={name:"input",attributes:{class:[mn],style:ht,fieldId:fi,dataId:di,type:Qt,checked:ii,xfaOn:$n.on,xfaOff:$n.off,"aria-label":Ue(kn),"aria-required":!1}};return Ln&&(Gn.attributes.name=Ln),$e(kn)&&(Gn.attributes["aria-required"]=!0,Gn.attributes.required=!0),re.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Gn]})}}class Je extends ae.XFAObject{constructor(De){super(be,"choiceList",!0),this.commitOn=(0,re.getStringOption)(De.commitOn,["select","exit"]),this.id=De.id||"",this.open=(0,re.getStringOption)(De.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,re.getInteger)({data:De.textEntry,defaultValue:0,validate:ht=>ht===1}),this.use=De.use||"",this.usehref=De.usehref||"",this.border=null,this.extras=null,this.margin=null}[ae.$toHTML](De){const ht=(0,pe.toStyle)(this,"border","margin"),Qt=this[ae.$getParent]()[ae.$getParent](),Ln={fontSize:`calc(${Qt.font&&Qt.font.size||10}px * var(--scale-factor))`},kn=[];if(Qt.items.children.length>0){const $n=Qt.items;let Qn=0,ii=0;$n.children.length===2&&(Qn=$n.children[0].save,ii=1-Qn);const ri=$n.children[Qn][ae.$toHTML]().html,fi=$n.children[ii][ae.$toHTML]().html;let di=!1;const Gn=Qt.value&&Qt.value[ae.$text]()||"";for(let Si=0,Xn=ri.length;Si<Xn;Si++){const Vn={name:"option",attributes:{value:fi[Si]||ri[Si],style:Ln},value:ri[Si]};fi[Si]===Gn&&(Vn.attributes.selected=di=!0),kn.push(Vn)}di||kn.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const Bn={class:["xfaSelect"],fieldId:Qt[ae.$uid],dataId:Qt[ae.$data]&&Qt[ae.$data][ae.$uid]||Qt[ae.$uid],style:ht,"aria-label":Ue(Qt),"aria-required":!1};return $e(Qt)&&(Bn["aria-required"]=!0,Bn.required=!0),this.open==="multiSelect"&&(Bn.multiple=!0),re.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:kn,attributes:Bn}]})}}class lt extends ae.XFAObject{constructor(De){super(be,"color",!0),this.cSpace=(0,re.getStringOption)(De.cSpace,["SRGB"]),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.value=De.value?(0,re.getColor)(De.value):"",this.extras=null}[ae.$hasSettableValue](){return!1}[ae.$toStyle](){return this.value?Ae.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class ut extends ae.XFAObject{constructor(De){super(be,"comb"),this.id=De.id||"",this.numberOfCells=(0,re.getInteger)({data:De.numberOfCells,defaultValue:0,validate:ht=>ht>=0}),this.use=De.use||"",this.usehref=De.usehref||""}}class ft extends ae.XFAObject{constructor(De){super(be,"connect",!0),this.connection=De.connection||"",this.id=De.id||"",this.ref=De.ref||"",this.usage=(0,re.getStringOption)(De.usage,["exportAndImport","exportOnly","importOnly"]),this.use=De.use||"",this.usehref=De.usehref||"",this.picture=null}}class pt extends ae.XFAObject{constructor(De){super(be,"contentArea",!0),this.h=(0,re.getMeasurement)(De.h),this.id=De.id||"",this.name=De.name||"",this.relevant=(0,re.getRelevant)(De.relevant),this.use=De.use||"",this.usehref=De.usehref||"",this.w=(0,re.getMeasurement)(De.w),this.x=(0,re.getMeasurement)(De.x,"0pt"),this.y=(0,re.getMeasurement)(De.y,"0pt"),this.desc=null,this.extras=null}[ae.$toHTML](De){const ht=(0,pe.measureToString)(this.x),Xt=(0,pe.measureToString)(this.y),Qt={left:ht,top:Xt,width:(0,pe.measureToString)(this.w),height:(0,pe.measureToString)(this.h)},mn=["xfaContentarea"];return(0,pe.isPrintOnly)(this)&&mn.push("xfaPrintOnly"),re.HTMLResult.success({name:"div",children:[],attributes:{style:Qt,class:mn,id:this[ae.$uid]}})}}class mt extends ae.XFAObject{constructor(De){super(be,"corner",!0),this.id=De.id||"",this.inverted=(0,re.getInteger)({data:De.inverted,defaultValue:0,validate:ht=>ht===1}),this.join=(0,re.getStringOption)(De.join,["square","round"]),this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,re.getMeasurement)(De.radius),this.stroke=(0,re.getStringOption)(De.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,re.getMeasurement)(De.thickness,"0.5pt"),this.use=De.use||"",this.usehref=De.usehref||"",this.color=null,this.extras=null}[ae.$toStyle](){const De=(0,pe.toStyle)(this,"visibility");return De.radius=(0,pe.measureToString)(this.join==="square"?0:this.radius),De}}class xt extends ae.ContentObject{constructor(De){super(be,"date"),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$finalize](){const De=this[ae.$content].trim();this[ae.$content]=De?new Date(De):null}[ae.$toHTML](De){return Te(this[ae.$content]?this[ae.$content].toString():"")}}class vt extends ae.ContentObject{constructor(De){super(be,"dateTime"),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$finalize](){const De=this[ae.$content].trim();this[ae.$content]=De?new Date(De):null}[ae.$toHTML](De){return Te(this[ae.$content]?this[ae.$content].toString():"")}}class wt extends ae.XFAObject{constructor(De){super(be,"dateTimeEdit",!0),this.hScrollPolicy=(0,re.getStringOption)(De.hScrollPolicy,["auto","off","on"]),this.id=De.id||"",this.picker=(0,re.getStringOption)(De.picker,["host","none"]),this.use=De.use||"",this.usehref=De.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[ae.$toHTML](De){const ht=(0,pe.toStyle)(this,"border","font","margin"),Xt=this[ae.$getParent]()[ae.$getParent](),Qt={name:"input",attributes:{type:"text",fieldId:Xt[ae.$uid],dataId:Xt[ae.$data]&&Xt[ae.$data][ae.$uid]||Xt[ae.$uid],class:["xfaTextfield"],style:ht,"aria-label":Ue(Xt),"aria-required":!1}};return $e(Xt)&&(Qt.attributes["aria-required"]=!0,Qt.attributes.required=!0),re.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Qt]})}}class _t extends ae.ContentObject{constructor(De){super(be,"decimal"),this.fracDigits=(0,re.getInteger)({data:De.fracDigits,defaultValue:2,validate:ht=>!0}),this.id=De.id||"",this.leadDigits=(0,re.getInteger)({data:De.leadDigits,defaultValue:-1,validate:ht=>!0}),this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$finalize](){const De=parseFloat(this[ae.$content].trim());this[ae.$content]=isNaN(De)?null:De}[ae.$toHTML](De){return Te(this[ae.$content]!==null?this[ae.$content].toString():"")}}class Tt extends ae.XFAObject{constructor(De){super(be,"defaultUi",!0),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null}}class Lt extends ae.XFAObject{constructor(De){super(be,"desc",!0),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.boolean=new ae.XFAObjectArray,this.date=new ae.XFAObjectArray,this.dateTime=new ae.XFAObjectArray,this.decimal=new ae.XFAObjectArray,this.exData=new ae.XFAObjectArray,this.float=new ae.XFAObjectArray,this.image=new ae.XFAObjectArray,this.integer=new ae.XFAObjectArray,this.text=new ae.XFAObjectArray,this.time=new ae.XFAObjectArray}}class jt extends ae.OptionObject{constructor(De){super(be,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||""}}class Bt extends ae.XFAObject{constructor(De){super(be,"digestMethods",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||"",this.digestMethod=new ae.XFAObjectArray}}class St extends ae.XFAObject{constructor(De){super(be,"draw",!0),this.anchorType=(0,re.getStringOption)(De.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,re.getInteger)({data:De.colSpan,defaultValue:1,validate:ht=>ht>=1||ht===-1}),this.h=De.h?(0,re.getMeasurement)(De.h):"",this.hAlign=(0,re.getStringOption)(De.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=De.id||"",this.locale=De.locale||"",this.maxH=(0,re.getMeasurement)(De.maxH,"0pt"),this.maxW=(0,re.getMeasurement)(De.maxW,"0pt"),this.minH=(0,re.getMeasurement)(De.minH,"0pt"),this.minW=(0,re.getMeasurement)(De.minW,"0pt"),this.name=De.name||"",this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,re.getRelevant)(De.relevant),this.rotate=(0,re.getInteger)({data:De.rotate,defaultValue:0,validate:ht=>ht%90===0}),this.use=De.use||"",this.usehref=De.usehref||"",this.w=De.w?(0,re.getMeasurement)(De.w):"",this.x=(0,re.getMeasurement)(De.x,"0pt"),this.y=(0,re.getMeasurement)(De.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new ae.XFAObjectArray}[ae.$setValue](De){Ye(this,De)}[ae.$toHTML](De){if(Be(this),this.presence==="hidden"||this.presence==="inactive")return re.HTMLResult.EMPTY;(0,pe.fixDimensions)(this),this[ae.$pushPara]();const ht=this.w,Xt=this.h,{w:Qt,h:mn,isBroken:Ln}=(0,pe.layoutNode)(this,De);if(Qt&&this.w===""){if(Ln&&this[ae.$getSubformParent]()[ae.$isThereMoreWidth]())return this[ae.$popPara](),re.HTMLResult.FAILURE;this.w=Qt}if(mn&&this.h===""&&(this.h=mn),Me(this),!(0,de.checkDimensions)(this,De))return this.w=ht,this.h=Xt,this[ae.$popPara](),re.HTMLResult.FAILURE;Ve(this);const kn=(0,pe.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");(0,pe.setMinMaxDimensions)(this,kn),kn.margin&&(kn.padding=kn.margin,delete kn.margin);const Bn=["xfaDraw"];this.font&&Bn.push("xfaFont"),(0,pe.isPrintOnly)(this)&&Bn.push("xfaPrintOnly");const $n={style:kn,id:this[ae.$uid],class:Bn};this.name&&($n.xfaName=this.name);const Qn={name:"div",attributes:$n,children:[]};Pe(this,$n);const ii=(0,pe.computeBbox)(this,Qn,De),ri=this.value?this.value[ae.$toHTML](De).html:null;return ri===null?(this.w=ht,this.h=Xt,this[ae.$popPara](),re.HTMLResult.success((0,pe.createWrapper)(this,Qn),ii)):(Qn.children.push(ri),(0,pe.setPara)(this,kn,ri),this.w=ht,this.h=Xt,this[ae.$popPara](),re.HTMLResult.success((0,pe.createWrapper)(this,Qn),ii))}}class Ft extends ae.XFAObject{constructor(De){super(be,"edge",!0),this.cap=(0,re.getStringOption)(De.cap,["square","butt","round"]),this.id=De.id||"",this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,re.getStringOption)(De.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,re.getMeasurement)(De.thickness,"0.5pt"),this.use=De.use||"",this.usehref=De.usehref||"",this.color=null,this.extras=null}[ae.$toStyle](){const De=(0,pe.toStyle)(this,"visibility");if(Object.assign(De,{linecap:this.cap,width:(0,pe.measureToString)(this.thickness),color:this.color?this.color[ae.$toStyle]():"#000000",style:""}),this.presence!=="visible")De.style="none";else switch(this.stroke){case"solid":De.style="solid";break;case"dashDot":De.style="dashed";break;case"dashDotDot":De.style="dashed";break;case"dashed":De.style="dashed";break;case"dotted":De.style="dotted";break;case"embossed":De.style="ridge";break;case"etched":De.style="groove";break;case"lowered":De.style="inset";break;case"raised":De.style="outset";break}return De}}class Ct extends ae.OptionObject{constructor(De){super(be,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||""}}class yt extends ae.XFAObject{constructor(De){super(be,"encodings",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||"",this.encoding=new ae.XFAObjectArray}}class bt extends ae.XFAObject{constructor(De){super(be,"encrypt",!0),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.certificate=null}}class Pt extends ae.XFAObject{constructor(De){super(be,"encryptData",!0),this.id=De.id||"",this.operation=(0,re.getStringOption)(De.operation,["encrypt","decrypt"]),this.target=De.target||"",this.use=De.use||"",this.usehref=De.usehref||"",this.filter=null,this.manifest=null}}class Ut extends ae.XFAObject{constructor(De){super(be,"encryption",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||"",this.certificate=new ae.XFAObjectArray}}class Yt extends ae.OptionObject{constructor(De){super(be,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||""}}class kt extends ae.XFAObject{constructor(De){super(be,"encryptionMethods",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||"",this.encryptionMethod=new ae.XFAObjectArray}}class Ot extends ae.XFAObject{constructor(De){super(be,"event",!0),this.activity=(0,re.getStringOption)(De.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=De.id||"",this.listen=(0,re.getStringOption)(De.listen,["refOnly","refAndDescendents"]),this.name=De.name||"",this.ref=De.ref||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class Et extends ae.ContentObject{constructor(De){super(be,"exData"),this.contentType=De.contentType||"",this.href=De.href||"",this.id=De.id||"",this.maxLength=(0,re.getInteger)({data:De.maxLength,defaultValue:-1,validate:ht=>ht>=-1}),this.name=De.name||"",this.rid=De.rid||"",this.transferEncoding=(0,re.getStringOption)(De.transferEncoding,["none","base64","package"]),this.use=De.use||"",this.usehref=De.usehref||""}[ae.$isCDATAXml](){return this.contentType==="text/html"}[ae.$onChild](De){return this.contentType==="text/html"&&De[ae.$namespaceId]===he.NamespaceIds.xhtml.id?(this[ae.$content]=De,!0):this.contentType==="text/xml"?(this[ae.$content]=De,!0):!1}[ae.$toHTML](De){return this.contentType!=="text/html"||!this[ae.$content]?re.HTMLResult.EMPTY:this[ae.$content][ae.$toHTML](De)}}class nn extends ae.XFAObject{constructor(De){super(be,"exObject",!0),this.archive=De.archive||"",this.classId=De.classId||"",this.codeBase=De.codeBase||"",this.codeType=De.codeType||"",this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.boolean=new ae.XFAObjectArray,this.date=new ae.XFAObjectArray,this.dateTime=new ae.XFAObjectArray,this.decimal=new ae.XFAObjectArray,this.exData=new ae.XFAObjectArray,this.exObject=new ae.XFAObjectArray,this.float=new ae.XFAObjectArray,this.image=new ae.XFAObjectArray,this.integer=new ae.XFAObjectArray,this.text=new ae.XFAObjectArray,this.time=new ae.XFAObjectArray}}class en extends ae.XFAObject{constructor(De){super(be,"exclGroup",!0),this.access=(0,re.getStringOption)(De.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=De.accessKey||"",this.anchorType=(0,re.getStringOption)(De.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,re.getInteger)({data:De.colSpan,defaultValue:1,validate:ht=>ht>=1||ht===-1}),this.h=De.h?(0,re.getMeasurement)(De.h):"",this.hAlign=(0,re.getStringOption)(De.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=De.id||"",this.layout=(0,re.getStringOption)(De.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,re.getMeasurement)(De.maxH,"0pt"),this.maxW=(0,re.getMeasurement)(De.maxW,"0pt"),this.minH=(0,re.getMeasurement)(De.minH,"0pt"),this.minW=(0,re.getMeasurement)(De.minW,"0pt"),this.name=De.name||"",this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,re.getRelevant)(De.relevant),this.use=De.use||"",this.usehref=De.usehref||"",this.w=De.w?(0,re.getMeasurement)(De.w):"",this.x=(0,re.getMeasurement)(De.x,"0pt"),this.y=(0,re.getMeasurement)(De.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new ae.XFAObjectArray,this.event=new ae.XFAObjectArray,this.field=new ae.XFAObjectArray,this.setProperty=new ae.XFAObjectArray}[ae.$isBindable](){return!0}[ae.$hasSettableValue](){return!0}[ae.$setValue](De){for(const ht of this.field.children){if(!ht.value){const Xt=new Tr({});ht[ae.$appendChild](Xt),ht.value=Xt}ht.value[ae.$setValue](De)}}[ae.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[ae.$extra].attempt===0&&this[ae.$extra].numberInLine>0||this[ae.$getParent]()[ae.$isThereMoreWidth]()}[ae.$isSplittable](){const De=this[ae.$getSubformParent]();return De[ae.$isSplittable]()?this[ae.$extra]._isSplittable!==void 0?this[ae.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[ae.$extra]._isSplittable=!1,!1):De.layout&&De.layout.endsWith("-tb")&&De[ae.$extra].numberInLine!==0?!1:(this[ae.$extra]._isSplittable=!0,!0):!1}[ae.$flushHTML](){return(0,de.flushHTML)(this)}[ae.$addHTML](De,ht){(0,de.addHTML)(this,De,ht)}[ae.$getAvailableSpace](){return(0,de.getAvailableSpace)(this)}[ae.$toHTML](De){if(Be(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return re.HTMLResult.EMPTY;(0,pe.fixDimensions)(this);const ht=[],Xt={id:this[ae.$uid],class:[]};(0,pe.setAccess)(this,Xt.class),this[ae.$extra]||(this[ae.$extra]=Object.create(null)),Object.assign(this[ae.$extra],{children:ht,attributes:Xt,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,De.width),height:Math.min(this.h||1/0,De.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Qt=this[ae.$isSplittable]();if(Qt||Me(this),!(0,de.checkDimensions)(this,De))return re.HTMLResult.FAILURE;const mn=new Set(["field"]);if(this.layout.includes("row")){const Xn=this[ae.$getSubformParent]().columnWidths;Array.isArray(Xn)&&Xn.length>0&&(this[ae.$extra].columnWidths=Xn,this[ae.$extra].currentColumn=0)}const Ln=(0,pe.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),kn=["xfaExclgroup"],Bn=(0,pe.layoutClass)(this);Bn&&kn.push(Bn),(0,pe.isPrintOnly)(this)&&kn.push("xfaPrintOnly"),Xt.style=Ln,Xt.class=kn,this.name&&(Xt.xfaName=this.name),this[ae.$pushPara]();const $n=this.layout==="lr-tb"||this.layout==="rl-tb",Qn=$n?ue:1;for(;this[ae.$extra].attempt<Qn;this[ae.$extra].attempt++){$n&&this[ae.$extra].attempt===ue-1&&(this[ae.$extra].numberInLine=0);const Xn=this[ae.$childrenToHTML]({filter:mn,include:!0});if(Xn.success)break;if(Xn.isBreak())return this[ae.$popPara](),Xn;if($n&&this[ae.$extra].attempt===0&&this[ae.$extra].numberInLine===0&&!this[ae.$getTemplateRoot]()[ae.$extra].noLayoutFailure){this[ae.$extra].attempt=Qn;break}}if(this[ae.$popPara](),Qt||Ve(this),this[ae.$extra].attempt===Qn)return Qt||delete this[ae.$extra],re.HTMLResult.FAILURE;let ii=0,ri=0;this.margin&&(ii=this.margin.leftInset+this.margin.rightInset,ri=this.margin.topInset+this.margin.bottomInset);const fi=Math.max(this[ae.$extra].width+ii,this.w||0),di=Math.max(this[ae.$extra].height+ri,this.h||0),Gn=[this.x,this.y,fi,di];this.w===""&&(Ln.width=(0,pe.measureToString)(fi)),this.h===""&&(Ln.height=(0,pe.measureToString)(di));const Si={name:"div",attributes:Xt,children:ht};return Pe(this,Xt),delete this[ae.$extra],re.HTMLResult.success((0,pe.createWrapper)(this,Si),Gn)}}class an extends ae.XFAObject{constructor(De){super(be,"execute"),this.connection=De.connection||"",this.executeType=(0,re.getStringOption)(De.executeType,["import","remerge"]),this.id=De.id||"",this.runAt=(0,re.getStringOption)(De.runAt,["client","both","server"]),this.use=De.use||"",this.usehref=De.usehref||""}}class Sn extends ae.XFAObject{constructor(De){super(be,"extras",!0),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||"",this.boolean=new ae.XFAObjectArray,this.date=new ae.XFAObjectArray,this.dateTime=new ae.XFAObjectArray,this.decimal=new ae.XFAObjectArray,this.exData=new ae.XFAObjectArray,this.extras=new ae.XFAObjectArray,this.float=new ae.XFAObjectArray,this.image=new ae.XFAObjectArray,this.integer=new ae.XFAObjectArray,this.text=new ae.XFAObjectArray,this.time=new ae.XFAObjectArray}}class sn extends ae.XFAObject{constructor(De){super(be,"field",!0),this.access=(0,re.getStringOption)(De.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=De.accessKey||"",this.anchorType=(0,re.getStringOption)(De.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,re.getInteger)({data:De.colSpan,defaultValue:1,validate:ht=>ht>=1||ht===-1}),this.h=De.h?(0,re.getMeasurement)(De.h):"",this.hAlign=(0,re.getStringOption)(De.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=De.id||"",this.locale=De.locale||"",this.maxH=(0,re.getMeasurement)(De.maxH,"0pt"),this.maxW=(0,re.getMeasurement)(De.maxW,"0pt"),this.minH=(0,re.getMeasurement)(De.minH,"0pt"),this.minW=(0,re.getMeasurement)(De.minW,"0pt"),this.name=De.name||"",this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,re.getRelevant)(De.relevant),this.rotate=(0,re.getInteger)({data:De.rotate,defaultValue:0,validate:ht=>ht%90===0}),this.use=De.use||"",this.usehref=De.usehref||"",this.w=De.w?(0,re.getMeasurement)(De.w):"",this.x=(0,re.getMeasurement)(De.x,"0pt"),this.y=(0,re.getMeasurement)(De.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new ae.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new ae.XFAObjectArray,this.connect=new ae.XFAObjectArray,this.event=new ae.XFAObjectArray,this.setProperty=new ae.XFAObjectArray}[ae.$isBindable](){return!0}[ae.$setValue](De){Ye(this,De)}[ae.$toHTML](De){if(Be(this),!this.ui){this.ui=new Wr({}),this.ui[ae.$globalData]=this[ae.$globalData],this[ae.$appendChild](this.ui);let Xn;switch(this.items.children.length){case 0:Xn=new ha({}),this.ui.textEdit=Xn;break;case 1:Xn=new at({}),this.ui.checkButton=Xn;break;case 2:Xn=new Je({}),this.ui.choiceList=Xn;break}this.ui[ae.$appendChild](Xn)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return re.HTMLResult.EMPTY;this.caption&&delete this.caption[ae.$extra],this[ae.$pushPara]();const ht=this.caption?this.caption[ae.$toHTML](De).html:null,Xt=this.w,Qt=this.h;let mn=0,Ln=0;this.margin&&(mn=this.margin.leftInset+this.margin.rightInset,Ln=this.margin.topInset+this.margin.bottomInset);let kn=null;if(this.w===""||this.h===""){let Xn=null,Vn=null,Li=0,qn=0;if(this.ui.checkButton)Li=qn=this.ui.checkButton.size;else{const{w:br,h:Ki}=(0,pe.layoutNode)(this,De);br!==null?(Li=br,qn=Ki):qn=(0,ge.getMetrics)(this.font,!0).lineNoGap}if(kn=ye(this.ui[ae.$getExtra]()),Li+=kn.w,qn+=kn.h,this.caption){const{w:br,h:Ki,isBroken:Ri}=this.caption[ae.$getExtra](De);if(Ri&&this[ae.$getSubformParent]()[ae.$isThereMoreWidth]())return this[ae.$popPara](),re.HTMLResult.FAILURE;switch(Xn=br,Vn=Ki,this.caption.placement){case"left":case"right":case"inline":Xn+=Li;break;case"top":case"bottom":Vn+=qn;break}}else Xn=Li,Vn=qn;Xn&&this.w===""&&(Xn+=mn,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<Xn?Xn:this.minW)),Vn&&this.h===""&&(Vn+=Ln,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<Vn?Vn:this.minH))}if(this[ae.$popPara](),(0,pe.fixDimensions)(this),Me(this),!(0,de.checkDimensions)(this,De))return this.w=Xt,this.h=Qt,this[ae.$popPara](),re.HTMLResult.FAILURE;Ve(this);const Bn=(0,pe.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");(0,pe.setMinMaxDimensions)(this,Bn);const $n=["xfaField"];this.font&&$n.push("xfaFont"),(0,pe.isPrintOnly)(this)&&$n.push("xfaPrintOnly");const Qn={style:Bn,id:this[ae.$uid],class:$n};Bn.margin&&(Bn.padding=Bn.margin,delete Bn.margin),(0,pe.setAccess)(this,$n),this.name&&(Qn.xfaName=this.name);const ii=[],ri={name:"div",attributes:Qn,children:ii};Pe(this,Qn);const fi=this.border?this.border[ae.$toStyle]():null,di=(0,pe.computeBbox)(this,ri,De),Gn=this.ui[ae.$toHTML]().html;if(!Gn)return Object.assign(Bn,fi),re.HTMLResult.success((0,pe.createWrapper)(this,ri),di);this[ae.$tabIndex]&&(Gn.children&&Gn.children[0]?Gn.children[0].attributes.tabindex=this[ae.$tabIndex]:Gn.attributes.tabindex=this[ae.$tabIndex]),Gn.attributes.style||(Gn.attributes.style=Object.create(null));let Si=null;if(this.ui.button?(Gn.children.length===1&&([Si]=Gn.children.splice(0,1)),Object.assign(Gn.attributes.style,fi)):Object.assign(Bn,fi),ii.push(Gn),this.value){if(this.ui.imageEdit)Gn.children.push(this.value[ae.$toHTML]().html);else if(!this.ui.button){let Xn="";if(this.value.exData)Xn=this.value.exData[ae.$text]();else if(this.value.text)Xn=this.value.text[ae.$getExtra]();else{const Vn=this.value[ae.$toHTML]().html;Vn!==null&&(Xn=Vn.children[0].value)}this.ui.textEdit&&this.value.text&&this.value.text.maxChars&&(Gn.children[0].attributes.maxLength=this.value.text.maxChars),Xn&&(this.ui.numericEdit&&(Xn=parseFloat(Xn),Xn=isNaN(Xn)?"":Xn.toString()),Gn.children[0].name==="textarea"?Gn.children[0].attributes.textContent=Xn:Gn.children[0].attributes.value=Xn)}}if(!this.ui.imageEdit&&Gn.children&&Gn.children[0]&&this.h){kn=kn||ye(this.ui[ae.$getExtra]());let Xn=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){Xn=this.caption.reserve,Xn<=0&&(Xn=this.caption[ae.$getExtra](De).h);const Vn=this.h-Xn-Ln-kn.h;Gn.children[0].attributes.style.height=(0,pe.measureToString)(Vn)}else Gn.children[0].attributes.style.height="100%"}if(Si&&Gn.children.push(Si),!ht)return Gn.attributes.class&&Gn.attributes.class.push("xfaLeft"),this.w=Xt,this.h=Qt,re.HTMLResult.success((0,pe.createWrapper)(this,ri),di);if(this.ui.button)return Bn.padding&&delete Bn.padding,ht.name==="div"&&(ht.name="span"),Gn.children.push(ht),re.HTMLResult.success(ri,di);switch(this.ui.checkButton&&(ht.attributes.class[0]="xfaCaptionForCheckButton"),Gn.attributes.class||(Gn.attributes.class=[]),Gn.children.splice(0,0,ht),this.caption.placement){case"left":Gn.attributes.class.push("xfaLeft");break;case"right":Gn.attributes.class.push("xfaRight");break;case"top":Gn.attributes.class.push("xfaTop");break;case"bottom":Gn.attributes.class.push("xfaBottom");break;case"inline":Gn.attributes.class.push("xfaLeft");break}return this.w=Xt,this.h=Qt,re.HTMLResult.success((0,pe.createWrapper)(this,ri),di)}}oe.Field=sn;class yn extends ae.XFAObject{constructor(De){super(be,"fill",!0),this.id=De.id||"",this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.use=De.use||"",this.usehref=De.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[ae.$toStyle](){const De=this[ae.$getParent](),Xt=De[ae.$getParent]()[ae.$getParent](),Qt=Object.create(null);let mn="color",Ln=mn;De instanceof Ge&&(mn="background-color",Ln="background",Xt instanceof Wr&&(Qt.backgroundColor="white")),(De instanceof Gi||De instanceof Oe)&&(mn=Ln="fill",Qt.fill="white");for(const kn of Object.getOwnPropertyNames(this)){if(kn==="extras"||kn==="color")continue;const Bn=this[kn];if(!(Bn instanceof ae.XFAObject))continue;const $n=Bn[ae.$toStyle](this.color);return $n&&(Qt[$n.startsWith("#")?mn:Ln]=$n),Qt}if(this.color&&this.color.value){const kn=this.color[ae.$toStyle]();Qt[kn.startsWith("#")?mn:Ln]=kn}return Qt}}class On extends ae.XFAObject{constructor(De){super(be,"filter",!0),this.addRevocationInfo=(0,re.getStringOption)(De.addRevocationInfo,["","required","optional","none"]),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||"",this.version=(0,re.getInteger)({data:this.version,defaultValue:5,validate:ht=>ht>=1&&ht<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class tn extends ae.ContentObject{constructor(De){super(be,"float"),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$finalize](){const De=parseFloat(this[ae.$content].trim());this[ae.$content]=isNaN(De)?null:De}[ae.$toHTML](De){return Te(this[ae.$content]!==null?this[ae.$content].toString():"")}}class Dn extends ae.XFAObject{constructor(De){super(be,"font",!0),this.baselineShift=(0,re.getMeasurement)(De.baselineShift),this.fontHorizontalScale=(0,re.getFloat)({data:De.fontHorizontalScale,defaultValue:100,validate:ht=>ht>=0}),this.fontVerticalScale=(0,re.getFloat)({data:De.fontVerticalScale,defaultValue:100,validate:ht=>ht>=0}),this.id=De.id||"",this.kerningMode=(0,re.getStringOption)(De.kerningMode,["none","pair"]),this.letterSpacing=(0,re.getMeasurement)(De.letterSpacing,"0"),this.lineThrough=(0,re.getInteger)({data:De.lineThrough,defaultValue:0,validate:ht=>ht===1||ht===2}),this.lineThroughPeriod=(0,re.getStringOption)(De.lineThroughPeriod,["all","word"]),this.overline=(0,re.getInteger)({data:De.overline,defaultValue:0,validate:ht=>ht===1||ht===2}),this.overlinePeriod=(0,re.getStringOption)(De.overlinePeriod,["all","word"]),this.posture=(0,re.getStringOption)(De.posture,["normal","italic"]),this.size=(0,re.getMeasurement)(De.size,"10pt"),this.typeface=De.typeface||"Courier",this.underline=(0,re.getInteger)({data:De.underline,defaultValue:0,validate:ht=>ht===1||ht===2}),this.underlinePeriod=(0,re.getStringOption)(De.underlinePeriod,["all","word"]),this.use=De.use||"",this.usehref=De.usehref||"",this.weight=(0,re.getStringOption)(De.weight,["normal","bold"]),this.extras=null,this.fill=null}[ae.$clean](De){super[ae.$clean](De),this[ae.$globalData].usedTypefaces.add(this.typeface)}[ae.$toStyle](){const De=(0,pe.toStyle)(this,"fill"),ht=De.color;return ht&&(ht==="#000000"?delete De.color:ht.startsWith("#")||(De.background=ht,De.backgroundClip="text",De.color="transparent")),this.baselineShift&&(De.verticalAlign=(0,pe.measureToString)(this.baselineShift)),De.fontKerning=this.kerningMode==="none"?"none":"normal",De.letterSpacing=(0,pe.measureToString)(this.letterSpacing),this.lineThrough!==0&&(De.textDecoration="line-through",this.lineThrough===2&&(De.textDecorationStyle="double")),this.overline!==0&&(De.textDecoration="overline",this.overline===2&&(De.textDecorationStyle="double")),De.fontStyle=this.posture,De.fontSize=(0,pe.measureToString)(.99*this.size),(0,pe.setFontFamily)(this,this,this[ae.$globalData].fontFinder,De),this.underline!==0&&(De.textDecoration="underline",this.underline===2&&(De.textDecorationStyle="double")),De.fontWeight=this.weight,De}}class xn extends ae.XFAObject{constructor(De){super(be,"format",!0),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.picture=null}}class Hn extends ae.StringObject{constructor(De){super(be,"handler"),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||""}}class In extends ae.XFAObject{constructor(De){super(be,"hyphenation"),this.excludeAllCaps=(0,re.getInteger)({data:De.excludeAllCaps,defaultValue:0,validate:ht=>ht===1}),this.excludeInitialCap=(0,re.getInteger)({data:De.excludeInitialCap,defaultValue:0,validate:ht=>ht===1}),this.hyphenate=(0,re.getInteger)({data:De.hyphenate,defaultValue:0,validate:ht=>ht===1}),this.id=De.id||"",this.pushCharacterCount=(0,re.getInteger)({data:De.pushCharacterCount,defaultValue:3,validate:ht=>ht>=0}),this.remainCharacterCount=(0,re.getInteger)({data:De.remainCharacterCount,defaultValue:3,validate:ht=>ht>=0}),this.use=De.use||"",this.usehref=De.usehref||"",this.wordCharacterCount=(0,re.getInteger)({data:De.wordCharacterCount,defaultValue:7,validate:ht=>ht>=0})}}class _n extends ae.StringObject{constructor(De){super(be,"image"),this.aspect=(0,re.getStringOption)(De.aspect,["fit","actual","height","none","width"]),this.contentType=De.contentType||"",this.href=De.href||"",this.id=De.id||"",this.name=De.name||"",this.transferEncoding=(0,re.getStringOption)(De.transferEncoding,["base64","none","package"]),this.use=De.use||"",this.usehref=De.usehref||""}[ae.$toHTML](){if(this.contentType&&!Ee.has(this.contentType.toLowerCase()))return re.HTMLResult.EMPTY;let De=this[ae.$globalData].images&&this[ae.$globalData].images.get(this.href);if(!De&&(this.href||!this[ae.$content])||(!De&&this.transferEncoding==="base64"&&(De=(0,Ae.stringToBytes)(atob(this[ae.$content]))),!De))return re.HTMLResult.EMPTY;if(!this.contentType){for(const[mn,Ln]of Ce)if(De.length>mn.length&&mn.every((kn,Bn)=>kn===De[Bn])){this.contentType=Ln;break}if(!this.contentType)return re.HTMLResult.EMPTY}const ht=new Blob([De],{type:this.contentType});let Xt;switch(this.aspect){case"fit":case"actual":break;case"height":Xt={height:"100%",objectFit:"fill"};break;case"none":Xt={width:"100%",height:"100%",objectFit:"fill"};break;case"width":Xt={width:"100%",objectFit:"fill"};break}const Qt=this[ae.$getParent]();return re.HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:Xt,src:URL.createObjectURL(ht),alt:Qt?Ue(Qt[ae.$getParent]()):null}})}}class wn extends ae.XFAObject{constructor(De){super(be,"imageEdit",!0),this.data=(0,re.getStringOption)(De.data,["link","embed"]),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.border=null,this.extras=null,this.margin=null}[ae.$toHTML](De){return this.data==="embed"?re.HTMLResult.success({name:"div",children:[],attributes:{}}):re.HTMLResult.EMPTY}}class ei extends ae.ContentObject{constructor(De){super(be,"integer"),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$finalize](){const De=parseInt(this[ae.$content].trim(),10);this[ae.$content]=isNaN(De)?null:De}[ae.$toHTML](De){return Te(this[ae.$content]!==null?this[ae.$content].toString():"")}}class ni extends ae.XFAObject{constructor(De){super(be,"issuers",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||"",this.certificate=new ae.XFAObjectArray}}class on extends ae.XFAObject{constructor(De){super(be,"items",!0),this.id=De.id||"",this.name=De.name||"",this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.ref=De.ref||"",this.save=(0,re.getInteger)({data:De.save,defaultValue:0,validate:ht=>ht===1}),this.use=De.use||"",this.usehref=De.usehref||"",this.boolean=new ae.XFAObjectArray,this.date=new ae.XFAObjectArray,this.dateTime=new ae.XFAObjectArray,this.decimal=new ae.XFAObjectArray,this.exData=new ae.XFAObjectArray,this.float=new ae.XFAObjectArray,this.image=new ae.XFAObjectArray,this.integer=new ae.XFAObjectArray,this.text=new ae.XFAObjectArray,this.time=new ae.XFAObjectArray}[ae.$toHTML](){const De=[];for(const ht of this[ae.$getChildren]())De.push(ht[ae.$text]());return re.HTMLResult.success(De)}}oe.Items=on;class Kt extends ae.XFAObject{constructor(De){super(be,"keep",!0),this.id=De.id||"";const ht=["none","contentArea","pageArea"];this.intact=(0,re.getStringOption)(De.intact,ht),this.next=(0,re.getStringOption)(De.next,ht),this.previous=(0,re.getStringOption)(De.previous,ht),this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null}}class un extends ae.XFAObject{constructor(De){super(be,"keyUsage");const ht=["","yes","no"];this.crlSign=(0,re.getStringOption)(De.crlSign,ht),this.dataEncipherment=(0,re.getStringOption)(De.dataEncipherment,ht),this.decipherOnly=(0,re.getStringOption)(De.decipherOnly,ht),this.digitalSignature=(0,re.getStringOption)(De.digitalSignature,ht),this.encipherOnly=(0,re.getStringOption)(De.encipherOnly,ht),this.id=De.id||"",this.keyAgreement=(0,re.getStringOption)(De.keyAgreement,ht),this.keyCertSign=(0,re.getStringOption)(De.keyCertSign,ht),this.keyEncipherment=(0,re.getStringOption)(De.keyEncipherment,ht),this.nonRepudiation=(0,re.getStringOption)(De.nonRepudiation,ht),this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||""}}class fn extends ae.XFAObject{constructor(De){super(be,"line",!0),this.hand=(0,re.getStringOption)(De.hand,["even","left","right"]),this.id=De.id||"",this.slope=(0,re.getStringOption)(De.slope,["\\","/"]),this.use=De.use||"",this.usehref=De.usehref||"",this.edge=null}[ae.$toHTML](){const De=this[ae.$getParent]()[ae.$getParent](),ht=this.edge||new Ft({}),Xt=ht[ae.$toStyle](),Qt=Object.create(null),mn=ht.presence==="visible"?ht.thickness:0;Qt.strokeWidth=(0,pe.measureToString)(mn),Qt.stroke=Xt.color;let Ln,kn,Bn,$n,Qn="100%",ii="100%";De.w<=mn?([Ln,kn,Bn,$n]=["50%",0,"50%","100%"],Qn=Qt.strokeWidth):De.h<=mn?([Ln,kn,Bn,$n]=[0,"50%","100%","50%"],ii=Qt.strokeWidth):this.slope==="\\"?[Ln,kn,Bn,$n]=[0,0,"100%","100%"]:[Ln,kn,Bn,$n]=[0,"100%","100%",0];const fi={name:"svg",children:[{name:"line",attributes:{xmlns:xe,x1:Ln,y1:kn,x2:Bn,y2:$n,style:Qt}}],attributes:{xmlns:xe,width:Qn,height:ii,style:{overflow:"visible"}}};return Re(De)?re.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[fi]}):(fi.attributes.style.position="absolute",re.HTMLResult.success(fi))}}class vn extends ae.XFAObject{constructor(De){super(be,"linear",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["toRight","toBottom","toLeft","toTop"]),this.use=De.use||"",this.usehref=De.usehref||"",this.color=null,this.extras=null}[ae.$toStyle](De){De=De?De[ae.$toStyle]():"#FFFFFF";const ht=this.type.replace(/([RBLT])/," $1").toLowerCase(),Xt=this.color?this.color[ae.$toStyle]():"#000000";return`linear-gradient(${ht}, ${De}, ${Xt})`}}class At extends ae.ContentObject{constructor(De){super(be,"lockDocument"),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||""}[ae.$finalize](){this[ae.$content]=(0,re.getStringOption)(this[ae.$content],["auto","0","1"])}}class Dt extends ae.XFAObject{constructor(De){super(be,"manifest",!0),this.action=(0,re.getStringOption)(De.action,["include","all","exclude"]),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.ref=new ae.XFAObjectArray}}class Nt extends ae.XFAObject{constructor(De){super(be,"margin",!0),this.bottomInset=(0,re.getMeasurement)(De.bottomInset,"0"),this.id=De.id||"",this.leftInset=(0,re.getMeasurement)(De.leftInset,"0"),this.rightInset=(0,re.getMeasurement)(De.rightInset,"0"),this.topInset=(0,re.getMeasurement)(De.topInset,"0"),this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null}[ae.$toStyle](){return{margin:(0,pe.measureToString)(this.topInset)+" "+(0,pe.measureToString)(this.rightInset)+" "+(0,pe.measureToString)(this.bottomInset)+" "+(0,pe.measureToString)(this.leftInset)}}}class zt extends ae.XFAObject{constructor(De){super(be,"mdp"),this.id=De.id||"",this.permissions=(0,re.getInteger)({data:De.permissions,defaultValue:2,validate:ht=>ht===1||ht===3}),this.signatureType=(0,re.getStringOption)(De.signatureType,["filler","author"]),this.use=De.use||"",this.usehref=De.usehref||""}}class Ht extends ae.XFAObject{constructor(De){super(be,"medium"),this.id=De.id||"",this.imagingBBox=(0,re.getBBox)(De.imagingBBox),this.long=(0,re.getMeasurement)(De.long),this.orientation=(0,re.getStringOption)(De.orientation,["portrait","landscape"]),this.short=(0,re.getMeasurement)(De.short),this.stock=De.stock||"",this.trayIn=(0,re.getStringOption)(De.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,re.getStringOption)(De.trayOut,["auto","delegate"]),this.use=De.use||"",this.usehref=De.usehref||""}}class rn extends ae.XFAObject{constructor(De){super(be,"message",!0),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.text=new ae.XFAObjectArray}}class dn extends ae.XFAObject{constructor(De){super(be,"numericEdit",!0),this.hScrollPolicy=(0,re.getStringOption)(De.hScrollPolicy,["auto","off","on"]),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[ae.$toHTML](De){const ht=(0,pe.toStyle)(this,"border","font","margin"),Xt=this[ae.$getParent]()[ae.$getParent](),Qt={name:"input",attributes:{type:"text",fieldId:Xt[ae.$uid],dataId:Xt[ae.$data]&&Xt[ae.$data][ae.$uid]||Xt[ae.$uid],class:["xfaTextfield"],style:ht,"aria-label":Ue(Xt),"aria-required":!1}};return $e(Xt)&&(Qt.attributes["aria-required"]=!0,Qt.attributes.required=!0),re.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Qt]})}}class cn extends ae.XFAObject{constructor(De){super(be,"occur",!0),this.id=De.id||"",this.initial=De.initial!==""?(0,re.getInteger)({data:De.initial,defaultValue:"",validate:ht=>!0}):"",this.max=De.max!==""?(0,re.getInteger)({data:De.max,defaultValue:1,validate:ht=>!0}):"",this.min=De.min!==""?(0,re.getInteger)({data:De.min,defaultValue:1,validate:ht=>!0}):"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null}[ae.$clean](){const De=this[ae.$getParent](),ht=this.min;this.min===""&&(this.min=De instanceof Gt||De instanceof pn?0:1),this.max===""&&(ht===""?this.max=De instanceof Gt||De instanceof pn?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=De instanceof Xr?1:this.min)}}class Rt extends ae.StringObject{constructor(De){super(be,"oid"),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}}class Vt extends ae.XFAObject{constructor(De){super(be,"oids",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||"",this.oid=new ae.XFAObjectArray}}class Wt extends ae.XFAObject{constructor(De){super(be,"overflow"),this.id=De.id||"",this.leader=De.leader||"",this.target=De.target||"",this.trailer=De.trailer||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$getExtra](){if(!this[ae.$extra]){const De=this[ae.$getParent](),ht=this[ae.$getTemplateRoot](),Xt=ht[ae.$searchNode](this.target,De),Qt=ht[ae.$searchNode](this.leader,De),mn=ht[ae.$searchNode](this.trailer,De);this[ae.$extra]={target:Xt&&Xt[0]||null,leader:Qt&&Qt[0]||null,trailer:mn&&mn[0]||null,addLeader:!1,addTrailer:!1}}return this[ae.$extra]}}class Gt extends ae.XFAObject{constructor(De){super(be,"pageArea",!0),this.blankOrNotBlank=(0,re.getStringOption)(De.blankOrNotBlank,["any","blank","notBlank"]),this.id=De.id||"",this.initialNumber=(0,re.getInteger)({data:De.initialNumber,defaultValue:1,validate:ht=>!0}),this.name=De.name||"",this.numbered=(0,re.getInteger)({data:De.numbered,defaultValue:1,validate:ht=>!0}),this.oddOrEven=(0,re.getStringOption)(De.oddOrEven,["any","even","odd"]),this.pagePosition=(0,re.getStringOption)(De.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,re.getRelevant)(De.relevant),this.use=De.use||"",this.usehref=De.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new ae.XFAObjectArray,this.contentArea=new ae.XFAObjectArray,this.draw=new ae.XFAObjectArray,this.exclGroup=new ae.XFAObjectArray,this.field=new ae.XFAObjectArray,this.subform=new ae.XFAObjectArray}[ae.$isUsable](){return this[ae.$extra]?!this.occur||this.occur.max===-1||this[ae.$extra].numberOfUse<this.occur.max:(this[ae.$extra]={numberOfUse:0},!0)}[ae.$cleanPage](){delete this[ae.$extra]}[ae.$getNextPage](){this[ae.$extra]||(this[ae.$extra]={numberOfUse:0});const De=this[ae.$getParent]();return De.relation==="orderedOccurrence"&&this[ae.$isUsable]()?(this[ae.$extra].numberOfUse+=1,this):De[ae.$getNextPage]()}[ae.$getAvailableSpace](){return this[ae.$extra].space||{width:0,height:0}}[ae.$toHTML](){this[ae.$extra]||(this[ae.$extra]={numberOfUse:1});const De=[];this[ae.$extra].children=De;const ht=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(ht.width=(0,pe.measureToString)(this.medium.short),ht.height=(0,pe.measureToString)(this.medium.long),this[ae.$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const Xt=ht.width;ht.width=ht.height,ht.height=Xt,this[ae.$extra].space={width:this.medium.long,height:this.medium.short}}}else(0,Ae.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[ae.$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[ae.$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),re.HTMLResult.success({name:"div",children:De,attributes:{class:["xfaPage"],id:this[ae.$uid],style:ht,xfaName:this.name}})}}class pn extends ae.XFAObject{constructor(De){super(be,"pageSet",!0),this.duplexImposition=(0,re.getStringOption)(De.duplexImposition,["longEdge","shortEdge"]),this.id=De.id||"",this.name=De.name||"",this.relation=(0,re.getStringOption)(De.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,re.getRelevant)(De.relevant),this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.occur=null,this.pageArea=new ae.XFAObjectArray,this.pageSet=new ae.XFAObjectArray}[ae.$cleanPage](){for(const De of this.pageArea.children)De[ae.$cleanPage]();for(const De of this.pageSet.children)De[ae.$cleanPage]()}[ae.$isUsable](){return!this.occur||this.occur.max===-1||this[ae.$extra].numberOfUse<this.occur.max}[ae.$getNextPage](){if(this[ae.$extra]||(this[ae.$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[ae.$extra].pageIndex+1<this.pageArea.children.length)return this[ae.$extra].pageIndex+=1,this.pageArea.children[this[ae.$extra].pageIndex][ae.$getNextPage]();if(this[ae.$extra].pageSetIndex+1<this.pageSet.children.length)return this[ae.$extra].pageSetIndex+=1,this.pageSet.children[this[ae.$extra].pageSetIndex][ae.$getNextPage]();if(this[ae.$isUsable]())return this[ae.$extra].numberOfUse+=1,this[ae.$extra].pageIndex=-1,this[ae.$extra].pageSetIndex=-1,this[ae.$getNextPage]();const mn=this[ae.$getParent]();return mn instanceof pn?mn[ae.$getNextPage]():(this[ae.$cleanPage](),this[ae.$getNextPage]())}const De=this[ae.$getTemplateRoot]()[ae.$extra].pageNumber,ht=De%2===0?"even":"odd",Xt=De===0?"first":"rest";let Qt=this.pageArea.children.find(mn=>mn.oddOrEven===ht&&mn.pagePosition===Xt);return Qt||(Qt=this.pageArea.children.find(mn=>mn.oddOrEven==="any"&&mn.pagePosition===Xt),Qt)||(Qt=this.pageArea.children.find(mn=>mn.oddOrEven==="any"&&mn.pagePosition==="any"),Qt)?Qt:this.pageArea.children[0]}}class An extends ae.XFAObject{constructor(De){super(be,"para",!0),this.hAlign=(0,re.getStringOption)(De.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=De.id||"",this.lineHeight=De.lineHeight?(0,re.getMeasurement)(De.lineHeight,"0pt"):"",this.marginLeft=De.marginLeft?(0,re.getMeasurement)(De.marginLeft,"0pt"):"",this.marginRight=De.marginRight?(0,re.getMeasurement)(De.marginRight,"0pt"):"",this.orphans=(0,re.getInteger)({data:De.orphans,defaultValue:0,validate:ht=>ht>=0}),this.preserve=De.preserve||"",this.radixOffset=De.radixOffset?(0,re.getMeasurement)(De.radixOffset,"0pt"):"",this.spaceAbove=De.spaceAbove?(0,re.getMeasurement)(De.spaceAbove,"0pt"):"",this.spaceBelow=De.spaceBelow?(0,re.getMeasurement)(De.spaceBelow,"0pt"):"",this.tabDefault=De.tabDefault?(0,re.getMeasurement)(this.tabDefault):"",this.tabStops=(De.tabStops||"").trim().split(/\s+/).map((ht,Xt)=>Xt%2===1?(0,re.getMeasurement)(ht):ht),this.textIndent=De.textIndent?(0,re.getMeasurement)(De.textIndent,"0pt"):"",this.use=De.use||"",this.usehref=De.usehref||"",this.vAlign=(0,re.getStringOption)(De.vAlign,["top","bottom","middle"]),this.widows=(0,re.getInteger)({data:De.widows,defaultValue:0,validate:ht=>ht>=0}),this.hyphenation=null}[ae.$toStyle](){const De=(0,pe.toStyle)(this,"hAlign");return this.marginLeft!==""&&(De.paddingLeft=(0,pe.measureToString)(this.marginLeft)),this.marginRight!==""&&(De.paddingight=(0,pe.measureToString)(this.marginRight)),this.spaceAbove!==""&&(De.paddingTop=(0,pe.measureToString)(this.spaceAbove)),this.spaceBelow!==""&&(De.paddingBottom=(0,pe.measureToString)(this.spaceBelow)),this.textIndent!==""&&(De.textIndent=(0,pe.measureToString)(this.textIndent),(0,pe.fixTextIndent)(De)),this.lineHeight>0&&(De.lineHeight=(0,pe.measureToString)(this.lineHeight)),this.tabDefault!==""&&(De.tabSize=(0,pe.measureToString)(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(De,this.hyphenatation[ae.$toStyle]()),De}}class zn extends ae.XFAObject{constructor(De){super(be,"passwordEdit",!0),this.hScrollPolicy=(0,re.getStringOption)(De.hScrollPolicy,["auto","off","on"]),this.id=De.id||"",this.passwordChar=De.passwordChar||"*",this.use=De.use||"",this.usehref=De.usehref||"",this.border=null,this.extras=null,this.margin=null}}class Tn extends ae.XFAObject{constructor(De){super(be,"pattern",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=De.use||"",this.usehref=De.usehref||"",this.color=null,this.extras=null}[ae.$toStyle](De){De=De?De[ae.$toStyle]():"#FFFFFF";const ht=this.color?this.color[ae.$toStyle]():"#000000",Xt=5,Qt="repeating-linear-gradient",mn=`${De},${De} ${Xt}px,${ht} ${Xt}px,${ht} ${2*Xt}px`;switch(this.type){case"crossHatch":return`${Qt}(to top,${mn}) ${Qt}(to right,${mn})`;case"crossDiagonal":return`${Qt}(45deg,${mn}) ${Qt}(-45deg,${mn})`;case"diagonalLeft":return`${Qt}(45deg,${mn})`;case"diagonalRight":return`${Qt}(-45deg,${mn})`;case"horizontal":return`${Qt}(to top,${mn})`;case"vertical":return`${Qt}(to right,${mn})`}return""}}class En extends ae.StringObject{constructor(De){super(be,"picture"),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||""}}class Rn extends ae.XFAObject{constructor(De){super(be,"proto",!0),this.appearanceFilter=new ae.XFAObjectArray,this.arc=new ae.XFAObjectArray,this.area=new ae.XFAObjectArray,this.assist=new ae.XFAObjectArray,this.barcode=new ae.XFAObjectArray,this.bindItems=new ae.XFAObjectArray,this.bookend=new ae.XFAObjectArray,this.boolean=new ae.XFAObjectArray,this.border=new ae.XFAObjectArray,this.break=new ae.XFAObjectArray,this.breakAfter=new ae.XFAObjectArray,this.breakBefore=new ae.XFAObjectArray,this.button=new ae.XFAObjectArray,this.calculate=new ae.XFAObjectArray,this.caption=new ae.XFAObjectArray,this.certificate=new ae.XFAObjectArray,this.certificates=new ae.XFAObjectArray,this.checkButton=new ae.XFAObjectArray,this.choiceList=new ae.XFAObjectArray,this.color=new ae.XFAObjectArray,this.comb=new ae.XFAObjectArray,this.connect=new ae.XFAObjectArray,this.contentArea=new ae.XFAObjectArray,this.corner=new ae.XFAObjectArray,this.date=new ae.XFAObjectArray,this.dateTime=new ae.XFAObjectArray,this.dateTimeEdit=new ae.XFAObjectArray,this.decimal=new ae.XFAObjectArray,this.defaultUi=new ae.XFAObjectArray,this.desc=new ae.XFAObjectArray,this.digestMethod=new ae.XFAObjectArray,this.digestMethods=new ae.XFAObjectArray,this.draw=new ae.XFAObjectArray,this.edge=new ae.XFAObjectArray,this.encoding=new ae.XFAObjectArray,this.encodings=new ae.XFAObjectArray,this.encrypt=new ae.XFAObjectArray,this.encryptData=new ae.XFAObjectArray,this.encryption=new ae.XFAObjectArray,this.encryptionMethod=new ae.XFAObjectArray,this.encryptionMethods=new ae.XFAObjectArray,this.event=new ae.XFAObjectArray,this.exData=new ae.XFAObjectArray,this.exObject=new ae.XFAObjectArray,this.exclGroup=new ae.XFAObjectArray,this.execute=new ae.XFAObjectArray,this.extras=new ae.XFAObjectArray,this.field=new ae.XFAObjectArray,this.fill=new ae.XFAObjectArray,this.filter=new ae.XFAObjectArray,this.float=new ae.XFAObjectArray,this.font=new ae.XFAObjectArray,this.format=new ae.XFAObjectArray,this.handler=new ae.XFAObjectArray,this.hyphenation=new ae.XFAObjectArray,this.image=new ae.XFAObjectArray,this.imageEdit=new ae.XFAObjectArray,this.integer=new ae.XFAObjectArray,this.issuers=new ae.XFAObjectArray,this.items=new ae.XFAObjectArray,this.keep=new ae.XFAObjectArray,this.keyUsage=new ae.XFAObjectArray,this.line=new ae.XFAObjectArray,this.linear=new ae.XFAObjectArray,this.lockDocument=new ae.XFAObjectArray,this.manifest=new ae.XFAObjectArray,this.margin=new ae.XFAObjectArray,this.mdp=new ae.XFAObjectArray,this.medium=new ae.XFAObjectArray,this.message=new ae.XFAObjectArray,this.numericEdit=new ae.XFAObjectArray,this.occur=new ae.XFAObjectArray,this.oid=new ae.XFAObjectArray,this.oids=new ae.XFAObjectArray,this.overflow=new ae.XFAObjectArray,this.pageArea=new ae.XFAObjectArray,this.pageSet=new ae.XFAObjectArray,this.para=new ae.XFAObjectArray,this.passwordEdit=new ae.XFAObjectArray,this.pattern=new ae.XFAObjectArray,this.picture=new ae.XFAObjectArray,this.radial=new ae.XFAObjectArray,this.reason=new ae.XFAObjectArray,this.reasons=new ae.XFAObjectArray,this.rectangle=new ae.XFAObjectArray,this.ref=new ae.XFAObjectArray,this.script=new ae.XFAObjectArray,this.setProperty=new ae.XFAObjectArray,this.signData=new ae.XFAObjectArray,this.signature=new ae.XFAObjectArray,this.signing=new ae.XFAObjectArray,this.solid=new ae.XFAObjectArray,this.speak=new ae.XFAObjectArray,this.stipple=new ae.XFAObjectArray,this.subform=new ae.XFAObjectArray,this.subformSet=new ae.XFAObjectArray,this.subjectDN=new ae.XFAObjectArray,this.subjectDNs=new ae.XFAObjectArray,this.submit=new ae.XFAObjectArray,this.text=new ae.XFAObjectArray,this.textEdit=new ae.XFAObjectArray,this.time=new ae.XFAObjectArray,this.timeStamp=new ae.XFAObjectArray,this.toolTip=new ae.XFAObjectArray,this.traversal=new ae.XFAObjectArray,this.traverse=new ae.XFAObjectArray,this.ui=new ae.XFAObjectArray,this.validate=new ae.XFAObjectArray,this.value=new ae.XFAObjectArray,this.variables=new ae.XFAObjectArray}}class Zn extends ae.XFAObject{constructor(De){super(be,"radial",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["toEdge","toCenter"]),this.use=De.use||"",this.usehref=De.usehref||"",this.color=null,this.extras=null}[ae.$toStyle](De){De=De?De[ae.$toStyle]():"#FFFFFF";const ht=this.color?this.color[ae.$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${De},${ht}`:`${ht},${De}`})`}}class Yn extends ae.StringObject{constructor(De){super(be,"reason"),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}}class ki extends ae.XFAObject{constructor(De){super(be,"reasons",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||"",this.reason=new ae.XFAObjectArray}}class Gi extends ae.XFAObject{constructor(De){super(be,"rectangle",!0),this.hand=(0,re.getStringOption)(De.hand,["even","left","right"]),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.corner=new ae.XFAObjectArray(4),this.edge=new ae.XFAObjectArray(4),this.fill=null}[ae.$toHTML](){const De=this.edge.children.length?this.edge.children[0]:new Ft({}),ht=De[ae.$toStyle](),Xt=Object.create(null);this.fill&&this.fill.presence==="visible"?Object.assign(Xt,this.fill[ae.$toStyle]()):Xt.fill="transparent",Xt.strokeWidth=(0,pe.measureToString)(De.presence==="visible"?De.thickness:0),Xt.stroke=ht.color;const mn=(this.corner.children.length?this.corner.children[0]:new mt({}))[ae.$toStyle](),kn={name:"svg",children:[{name:"rect",attributes:{xmlns:xe,width:"100%",height:"100%",x:0,y:0,rx:mn.radius,ry:mn.radius,style:Xt}}],attributes:{xmlns:xe,style:{overflow:"visible"},width:"100%",height:"100%"}},Bn=this[ae.$getParent]()[ae.$getParent]();return Re(Bn)?re.HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[kn]}):(kn.attributes.style.position="absolute",re.HTMLResult.success(kn))}}class Mi extends ae.StringObject{constructor(De){super(be,"ref"),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||""}}class ur extends ae.StringObject{constructor(De){super(be,"script"),this.binding=De.binding||"",this.contentType=De.contentType||"",this.id=De.id||"",this.name=De.name||"",this.runAt=(0,re.getStringOption)(De.runAt,["client","both","server"]),this.use=De.use||"",this.usehref=De.usehref||""}}class li extends ae.XFAObject{constructor(De){super(be,"setProperty"),this.connection=De.connection||"",this.ref=De.ref||"",this.target=De.target||""}}oe.SetProperty=li;class Di extends ae.XFAObject{constructor(De){super(be,"signData",!0),this.id=De.id||"",this.operation=(0,re.getStringOption)(De.operation,["sign","clear","verify"]),this.ref=De.ref||"",this.target=De.target||"",this.use=De.use||"",this.usehref=De.usehref||"",this.filter=null,this.manifest=null}}class Oi extends ae.XFAObject{constructor(De){super(be,"signature",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["PDF1.3","PDF1.6"]),this.use=De.use||"",this.usehref=De.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Ti extends ae.XFAObject{constructor(De){super(be,"signing",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||"",this.certificate=new ae.XFAObjectArray}}class wi extends ae.XFAObject{constructor(De){super(be,"solid",!0),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null}[ae.$toStyle](De){return De?De[ae.$toStyle]():"#FFFFFF"}}class qi extends ae.StringObject{constructor(De){super(be,"speak"),this.disable=(0,re.getInteger)({data:De.disable,defaultValue:0,validate:ht=>ht===1}),this.id=De.id||"",this.priority=(0,re.getStringOption)(De.priority,["custom","caption","name","toolTip"]),this.rid=De.rid||"",this.use=De.use||"",this.usehref=De.usehref||""}}class Yi extends ae.XFAObject{constructor(De){super(be,"stipple",!0),this.id=De.id||"",this.rate=(0,re.getInteger)({data:De.rate,defaultValue:50,validate:ht=>ht>=0&&ht<=100}),this.use=De.use||"",this.usehref=De.usehref||"",this.color=null,this.extras=null}[ae.$toStyle](De){const ht=this.rate/100;return Ae.Util.makeHexColor(Math.round(De.value.r*(1-ht)+this.value.r*ht),Math.round(De.value.g*(1-ht)+this.value.g*ht),Math.round(De.value.b*(1-ht)+this.value.b*ht))}}class Or extends ae.XFAObject{constructor(De){super(be,"subform",!0),this.access=(0,re.getStringOption)(De.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,re.getInteger)({data:De.allowMacro,defaultValue:0,validate:ht=>ht===1}),this.anchorType=(0,re.getStringOption)(De.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,re.getInteger)({data:De.colSpan,defaultValue:1,validate:ht=>ht>=1||ht===-1}),this.columnWidths=(De.columnWidths||"").trim().split(/\s+/).map(ht=>ht==="-1"?-1:(0,re.getMeasurement)(ht)),this.h=De.h?(0,re.getMeasurement)(De.h):"",this.hAlign=(0,re.getStringOption)(De.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=De.id||"",this.layout=(0,re.getStringOption)(De.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=De.locale||"",this.maxH=(0,re.getMeasurement)(De.maxH,"0pt"),this.maxW=(0,re.getMeasurement)(De.maxW,"0pt"),this.mergeMode=(0,re.getStringOption)(De.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,re.getMeasurement)(De.minH,"0pt"),this.minW=(0,re.getMeasurement)(De.minW,"0pt"),this.name=De.name||"",this.presence=(0,re.getStringOption)(De.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,re.getRelevant)(De.relevant),this.restoreState=(0,re.getStringOption)(De.restoreState,["manual","auto"]),this.scope=(0,re.getStringOption)(De.scope,["name","none"]),this.use=De.use||"",this.usehref=De.usehref||"",this.w=De.w?(0,re.getMeasurement)(De.w):"",this.x=(0,re.getMeasurement)(De.x,"0pt"),this.y=(0,re.getMeasurement)(De.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new ae.XFAObjectArray,this.breakAfter=new ae.XFAObjectArray,this.breakBefore=new ae.XFAObjectArray,this.connect=new ae.XFAObjectArray,this.draw=new ae.XFAObjectArray,this.event=new ae.XFAObjectArray,this.exObject=new ae.XFAObjectArray,this.exclGroup=new ae.XFAObjectArray,this.field=new ae.XFAObjectArray,this.proto=new ae.XFAObjectArray,this.setProperty=new ae.XFAObjectArray,this.subform=new ae.XFAObjectArray,this.subformSet=new ae.XFAObjectArray}[ae.$getSubformParent](){const De=this[ae.$getParent]();return De instanceof Cr?De[ae.$getSubformParent]():De}[ae.$isBindable](){return!0}[ae.$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[ae.$extra].attempt===0&&this[ae.$extra].numberInLine>0||this[ae.$getParent]()[ae.$isThereMoreWidth]()}*[ae.$getContainedChildren](){yield*ke(this)}[ae.$flushHTML](){return(0,de.flushHTML)(this)}[ae.$addHTML](De,ht){(0,de.addHTML)(this,De,ht)}[ae.$getAvailableSpace](){return(0,de.getAvailableSpace)(this)}[ae.$isSplittable](){const De=this[ae.$getSubformParent]();return De[ae.$isSplittable]()?this[ae.$extra]._isSplittable!==void 0?this[ae.$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[ae.$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[ae.$extra]._isSplittable=!1,!1):De.layout&&De.layout.endsWith("-tb")&&De[ae.$extra].numberInLine!==0?!1:(this[ae.$extra]._isSplittable=!0,!0):!1}[ae.$toHTML](De){if(Be(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const qn=new je({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});qn[ae.$globalData]=this[ae.$globalData],this[ae.$appendChild](qn),this.breakAfter.push(qn)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const qn=new nt({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});qn[ae.$globalData]=this[ae.$globalData],this[ae.$appendChild](qn),this.breakBefore.push(qn)}if(this.break.overflowTarget!==""){const qn=new Wt({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});qn[ae.$globalData]=this[ae.$globalData],this[ae.$appendChild](qn),this.overflow.push(qn)}this[ae.$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return re.HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,Ae.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const qn=this.breakBefore.children[0];if(He(qn))return re.HTMLResult.breakNode(qn)}if(this[ae.$extra]&&this[ae.$extra].afterBreakAfter)return re.HTMLResult.EMPTY;(0,pe.fixDimensions)(this);const ht=[],Xt={id:this[ae.$uid],class:[]};(0,pe.setAccess)(this,Xt.class),this[ae.$extra]||(this[ae.$extra]=Object.create(null)),Object.assign(this[ae.$extra],{children:ht,line:null,attributes:Xt,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,De.width),height:Math.min(this.h||1/0,De.height)},width:0,height:0,prevHeight:0,currentWidth:0});const Qt=this[ae.$getTemplateRoot](),mn=Qt[ae.$extra].noLayoutFailure,Ln=this[ae.$isSplittable]();if(Ln||Me(this),!(0,de.checkDimensions)(this,De))return re.HTMLResult.FAILURE;const kn=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const qn=this[ae.$getSubformParent]().columnWidths;Array.isArray(qn)&&qn.length>0&&(this[ae.$extra].columnWidths=qn,this[ae.$extra].currentColumn=0)}const Bn=(0,pe.toStyle)(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),$n=["xfaSubform"],Qn=(0,pe.layoutClass)(this);if(Qn&&$n.push(Qn),Xt.style=Bn,Xt.class=$n,this.name&&(Xt.xfaName=this.name),this.overflow){const qn=this.overflow[ae.$getExtra]();qn.addLeader&&(qn.addLeader=!1,Ie(this,qn.leader,De))}this[ae.$pushPara]();const ii=this.layout==="lr-tb"||this.layout==="rl-tb",ri=ii?ue:1;for(;this[ae.$extra].attempt<ri;this[ae.$extra].attempt++){ii&&this[ae.$extra].attempt===ue-1&&(this[ae.$extra].numberInLine=0);const qn=this[ae.$childrenToHTML]({filter:kn,include:!0});if(qn.success)break;if(qn.isBreak())return this[ae.$popPara](),qn;if(ii&&this[ae.$extra].attempt===0&&this[ae.$extra].numberInLine===0&&!Qt[ae.$extra].noLayoutFailure){this[ae.$extra].attempt=ri;break}}if(this[ae.$popPara](),Ln||Ve(this),Qt[ae.$extra].noLayoutFailure=mn,this[ae.$extra].attempt===ri)return this.overflow&&(this[ae.$getTemplateRoot]()[ae.$extra].overflowNode=this.overflow),Ln||delete this[ae.$extra],re.HTMLResult.FAILURE;if(this.overflow){const qn=this.overflow[ae.$getExtra]();qn.addTrailer&&(qn.addTrailer=!1,Ie(this,qn.trailer,De))}let fi=0,di=0;this.margin&&(fi=this.margin.leftInset+this.margin.rightInset,di=this.margin.topInset+this.margin.bottomInset);const Gn=Math.max(this[ae.$extra].width+fi,this.w||0),Si=Math.max(this[ae.$extra].height+di,this.h||0),Xn=[this.x,this.y,Gn,Si];if(this.w===""&&(Bn.width=(0,pe.measureToString)(Gn)),this.h===""&&(Bn.height=(0,pe.measureToString)(Si)),(Bn.width==="0px"||Bn.height==="0px")&&ht.length===0)return re.HTMLResult.EMPTY;const Vn={name:"div",attributes:Xt,children:ht};Pe(this,Xt);const Li=re.HTMLResult.success((0,pe.createWrapper)(this,Vn),Xn);if(this.breakAfter.children.length>=1){const qn=this.breakAfter.children[0];if(He(qn))return this[ae.$extra].afterBreakAfter=Li,re.HTMLResult.breakNode(qn)}return delete this[ae.$extra],Li}}class Cr extends ae.XFAObject{constructor(De){super(be,"subformSet",!0),this.id=De.id||"",this.name=De.name||"",this.relation=(0,re.getStringOption)(De.relation,["ordered","choice","unordered"]),this.relevant=(0,re.getRelevant)(De.relevant),this.use=De.use||"",this.usehref=De.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new ae.XFAObjectArray,this.breakBefore=new ae.XFAObjectArray,this.subform=new ae.XFAObjectArray,this.subformSet=new ae.XFAObjectArray}*[ae.$getContainedChildren](){yield*ke(this)}[ae.$getSubformParent](){let De=this[ae.$getParent]();for(;!(De instanceof Or);)De=De[ae.$getParent]();return De}[ae.$isBindable](){return!0}}class Da extends ae.ContentObject{constructor(De){super(be,"subjectDN"),this.delimiter=De.delimiter||",",this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$finalize](){this[ae.$content]=new Map(this[ae.$content].split(this.delimiter).map(De=>(De=De.split("=",2),De[0]=De[0].trim(),De)))}}class ca extends ae.XFAObject{constructor(De){super(be,"subjectDNs",!0),this.id=De.id||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||"",this.subjectDN=new ae.XFAObjectArray}}class Oa extends ae.XFAObject{constructor(De){super(be,"submit",!0),this.embedPDF=(0,re.getInteger)({data:De.embedPDF,defaultValue:0,validate:ht=>ht===1}),this.format=(0,re.getStringOption)(De.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=De.id||"",this.target=De.target||"",this.textEncoding=(0,re.getKeyword)({data:De.textEncoding?De.textEncoding.toLowerCase():"",defaultValue:"",validate:ht=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(ht)||ht.match(/iso-8859-\d{2}/)}),this.use=De.use||"",this.usehref=De.usehref||"",this.xdpContent=De.xdpContent||"",this.encrypt=null,this.encryptData=new ae.XFAObjectArray,this.signData=new ae.XFAObjectArray}}class Xr extends ae.XFAObject{constructor(De){super(be,"template",!0),this.baseProfile=(0,re.getStringOption)(De.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new ae.XFAObjectArray}[ae.$finalize](){this.subform.children.length===0&&(0,Ae.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,Ae.warn)("XFA - Several subforms in template node: please file a bug."),this[ae.$tabIndex]=Fe}[ae.$isSplittable](){return!0}[ae.$searchNode](De,ht){return De.startsWith("#")?[this[ae.$ids].get(De.slice(1))]:(0,fe.searchNode)(this,ht,De,!0,!0)}*[ae.$toPages](){if(!this.subform.children.length)return re.HTMLResult.success({name:"div",children:[]});this[ae.$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const De=this.subform.children[0];De.pageSet[ae.$cleanPage]();const ht=De.pageSet.pageArea.children,Xt={name:"div",children:[]};let Qt=null,mn=null,Ln=null;if(De.breakBefore.children.length>=1?(mn=De.breakBefore.children[0],Ln=mn.target):De.subform.children.length>=1&&De.subform.children[0].breakBefore.children.length>=1?(mn=De.subform.children[0].breakBefore.children[0],Ln=mn.target):De.break&&De.break.beforeTarget?(mn=De.break,Ln=mn.beforeTarget):De.subform.children.length>=1&&De.subform.children[0].break&&De.subform.children[0].break.beforeTarget&&(mn=De.subform.children[0].break,Ln=mn.beforeTarget),mn){const di=this[ae.$searchNode](Ln,mn[ae.$getParent]());di instanceof Gt&&(Qt=di,mn[ae.$extra]={})}Qt||(Qt=ht[0]),Qt[ae.$extra]={numberOfUse:1};const kn=Qt[ae.$getParent]();kn[ae.$extra]={numberOfUse:1,pageIndex:kn.pageArea.children.indexOf(Qt),pageSetIndex:0};let Bn,$n=null,Qn=null,ii=!0,ri=0,fi=0;for(;;){if(ii)ri=0;else if(Xt.children.pop(),++ri===we)return(0,Ae.warn)("XFA - Something goes wrong: please file a bug."),Xt;Bn=null,this[ae.$extra].currentPageArea=Qt;const di=Qt[ae.$toHTML]().html;Xt.children.push(di),$n&&(this[ae.$extra].noLayoutFailure=!0,di.children.push($n[ae.$toHTML](Qt[ae.$extra].space).html),$n=null),Qn&&(this[ae.$extra].noLayoutFailure=!0,di.children.push(Qn[ae.$toHTML](Qt[ae.$extra].space).html),Qn=null);const Gn=Qt.contentArea.children,Si=di.children.filter(Vn=>Vn.attributes.class.includes("xfaContentarea"));ii=!1,this[ae.$extra].firstUnsplittable=null,this[ae.$extra].noLayoutFailure=!1;const Xn=Vn=>{const Li=De[ae.$flushHTML]();Li&&(ii=ii||Li.children&&Li.children.length!==0,Si[Vn].children.push(Li))};for(let Vn=fi,Li=Gn.length;Vn<Li;Vn++){const qn=this[ae.$extra].currentContentArea=Gn[Vn],br={width:qn.w,height:qn.h};fi=0,$n&&(Si[Vn].children.push($n[ae.$toHTML](br).html),$n=null),Qn&&(Si[Vn].children.push(Qn[ae.$toHTML](br).html),Qn=null);const Ki=De[ae.$toHTML](br);if(Ki.success)return Ki.html?(ii=ii||Ki.html.children&&Ki.html.children.length!==0,Si[Vn].children.push(Ki.html)):!ii&&Xt.children.length>1&&Xt.children.pop(),Xt;if(Ki.isBreak()){const Ri=Ki.breakNode;if(Xn(Vn),Ri.targetType==="auto")continue;Ri.leader&&($n=this[ae.$searchNode](Ri.leader,Ri[ae.$getParent]()),$n=$n?$n[0]:null),Ri.trailer&&(Qn=this[ae.$searchNode](Ri.trailer,Ri[ae.$getParent]()),Qn=Qn?Qn[0]:null),Ri.targetType==="pageArea"?(Bn=Ri[ae.$extra].target,Vn=1/0):Ri[ae.$extra].target?(Bn=Ri[ae.$extra].target,fi=Ri[ae.$extra].index+1,Vn=1/0):Vn=Ri[ae.$extra].index;continue}if(this[ae.$extra].overflowNode){const Ri=this[ae.$extra].overflowNode;this[ae.$extra].overflowNode=null;const vr=Ri[ae.$getExtra](),wr=vr.target;vr.addLeader=vr.leader!==null,vr.addTrailer=vr.trailer!==null,Xn(Vn);const ks=Vn;if(Vn=1/0,wr instanceof Gt)Bn=wr;else if(wr instanceof pt){const pa=Gn.indexOf(wr);pa!==-1?pa>ks?Vn=pa-1:fi=pa:(Bn=wr[ae.$getParent](),fi=Bn.contentArea.children.indexOf(wr))}continue}Xn(Vn)}this[ae.$extra].pageNumber+=1,Bn&&(Bn[ae.$isUsable]()?Bn[ae.$extra].numberOfUse+=1:Bn=null),Qt=Bn||Qt[ae.$getNextPage](),yield null}}}oe.Template=Xr;class ua extends ae.ContentObject{constructor(De){super(be,"text"),this.id=De.id||"",this.maxChars=(0,re.getInteger)({data:De.maxChars,defaultValue:0,validate:ht=>ht>=0}),this.name=De.name||"",this.rid=De.rid||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$acceptWhitespace](){return!0}[ae.$onChild](De){return De[ae.$namespaceId]===he.NamespaceIds.xhtml.id?(this[ae.$content]=De,!0):((0,Ae.warn)(`XFA - Invalid content in Text: ${De[ae.$nodeName]}.`),!1)}[ae.$onText](De){this[ae.$content]instanceof ae.XFAObject||super[ae.$onText](De)}[ae.$finalize](){typeof this[ae.$content]=="string"&&(this[ae.$content]=this[ae.$content].replace(/\r\n/g,`
`))}[ae.$getExtra](){return typeof this[ae.$content]=="string"?this[ae.$content].split(/[\u2029\u2028\n]/).reduce((De,ht)=>(ht&&De.push(ht),De),[]).join(`
`):this[ae.$content][ae.$text]()}[ae.$toHTML](De){if(typeof this[ae.$content]=="string"){const ht=Te(this[ae.$content]).html;return this[ae.$content].includes("\u2029")?(ht.name="div",ht.children=[],this[ae.$content].split("\u2029").map(Xt=>Xt.split(/[\u2028\n]/).reduce((Qt,mn)=>(Qt.push({name:"span",value:mn},{name:"br"}),Qt),[])).forEach(Xt=>{ht.children.push({name:"p",children:Xt})})):/[\u2028\n]/.test(this[ae.$content])&&(ht.name="div",ht.children=[],this[ae.$content].split(/[\u2028\n]/).forEach(Xt=>{ht.children.push({name:"span",value:Xt},{name:"br"})})),re.HTMLResult.success(ht)}return this[ae.$content][ae.$toHTML](De)}}oe.Text=ua;class ha extends ae.XFAObject{constructor(De){super(be,"textEdit",!0),this.allowRichText=(0,re.getInteger)({data:De.allowRichText,defaultValue:0,validate:ht=>ht===1}),this.hScrollPolicy=(0,re.getStringOption)(De.hScrollPolicy,["auto","off","on"]),this.id=De.id||"",this.multiLine=(0,re.getInteger)({data:De.multiLine,defaultValue:"",validate:ht=>ht===0||ht===1}),this.use=De.use||"",this.usehref=De.usehref||"",this.vScrollPolicy=(0,re.getStringOption)(De.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[ae.$toHTML](De){const ht=(0,pe.toStyle)(this,"border","font","margin");let Xt;const Qt=this[ae.$getParent]()[ae.$getParent]();return this.multiLine===""&&(this.multiLine=Qt instanceof St?1:0),this.multiLine===1?Xt={name:"textarea",attributes:{dataId:Qt[ae.$data]&&Qt[ae.$data][ae.$uid]||Qt[ae.$uid],fieldId:Qt[ae.$uid],class:["xfaTextfield"],style:ht,"aria-label":Ue(Qt),"aria-required":!1}}:Xt={name:"input",attributes:{type:"text",dataId:Qt[ae.$data]&&Qt[ae.$data][ae.$uid]||Qt[ae.$uid],fieldId:Qt[ae.$uid],class:["xfaTextfield"],style:ht,"aria-label":Ue(Qt),"aria-required":!1}},$e(Qt)&&(Xt.attributes["aria-required"]=!0,Xt.attributes.required=!0),re.HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[Xt]})}}class da extends ae.StringObject{constructor(De){super(be,"time"),this.id=De.id||"",this.name=De.name||"",this.use=De.use||"",this.usehref=De.usehref||""}[ae.$finalize](){const De=this[ae.$content].trim();this[ae.$content]=De?new Date(De):null}[ae.$toHTML](De){return Te(this[ae.$content]?this[ae.$content].toString():"")}}class Ia extends ae.XFAObject{constructor(De){super(be,"timeStamp"),this.id=De.id||"",this.server=De.server||"",this.type=(0,re.getStringOption)(De.type,["optional","required"]),this.use=De.use||"",this.usehref=De.usehref||""}}class ka extends ae.StringObject{constructor(De){super(be,"toolTip"),this.id=De.id||"",this.rid=De.rid||"",this.use=De.use||"",this.usehref=De.usehref||""}}class fa extends ae.XFAObject{constructor(De){super(be,"traversal",!0),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.traverse=new ae.XFAObjectArray}}class La extends ae.XFAObject{constructor(De){super(be,"traverse",!0),this.id=De.id||"",this.operation=(0,re.getStringOption)(De.operation,["next","back","down","first","left","right","up"]),this.ref=De.ref||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[ae.$isTransparent](){return!1}}class Wr extends ae.XFAObject{constructor(De){super(be,"ui",!0),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[ae.$getExtra](){if(this[ae.$extra]===void 0){for(const De of Object.getOwnPropertyNames(this)){if(De==="extras"||De==="picture")continue;const ht=this[De];if(ht instanceof ae.XFAObject)return this[ae.$extra]=ht,ht}this[ae.$extra]=null}return this[ae.$extra]}[ae.$toHTML](De){const ht=this[ae.$getExtra]();return ht?ht[ae.$toHTML](De):re.HTMLResult.EMPTY}}class Na extends ae.XFAObject{constructor(De){super(be,"validate",!0),this.formatTest=(0,re.getStringOption)(De.formatTest,["warning","disabled","error"]),this.id=De.id||"",this.nullTest=(0,re.getStringOption)(De.nullTest,["disabled","error","warning"]),this.scriptTest=(0,re.getStringOption)(De.scriptTest,["error","disabled","warning"]),this.use=De.use||"",this.usehref=De.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Tr extends ae.XFAObject{constructor(De){super(be,"value",!0),this.id=De.id||"",this.override=(0,re.getInteger)({data:De.override,defaultValue:0,validate:ht=>ht===1}),this.relevant=(0,re.getRelevant)(De.relevant),this.use=De.use||"",this.usehref=De.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[ae.$setValue](De){const ht=this[ae.$getParent]();if(ht instanceof sn&&ht.ui&&ht.ui.imageEdit){this.image||(this.image=new _n({}),this[ae.$appendChild](this.image)),this.image[ae.$content]=De[ae.$content];return}const Xt=De[ae.$nodeName];if(this[Xt]!==null){this[Xt][ae.$content]=De[ae.$content];return}for(const Qt of Object.getOwnPropertyNames(this)){const mn=this[Qt];mn instanceof ae.XFAObject&&(this[Qt]=null,this[ae.$removeChild](mn))}this[De[ae.$nodeName]]=De,this[ae.$appendChild](De)}[ae.$text](){if(this.exData)return typeof this.exData[ae.$content]=="string"?this.exData[ae.$content].trim():this.exData[ae.$content][ae.$text]().trim();for(const De of Object.getOwnPropertyNames(this)){if(De==="image")continue;const ht=this[De];if(ht instanceof ae.XFAObject)return(ht[ae.$content]||"").toString().trim()}return null}[ae.$toHTML](De){for(const ht of Object.getOwnPropertyNames(this)){const Xt=this[ht];if(Xt instanceof ae.XFAObject)return Xt[ae.$toHTML](De)}return re.HTMLResult.EMPTY}}oe.Value=Tr;class Ba extends ae.XFAObject{constructor(De){super(be,"variables",!0),this.id=De.id||"",this.use=De.use||"",this.usehref=De.usehref||"",this.boolean=new ae.XFAObjectArray,this.date=new ae.XFAObjectArray,this.dateTime=new ae.XFAObjectArray,this.decimal=new ae.XFAObjectArray,this.exData=new ae.XFAObjectArray,this.float=new ae.XFAObjectArray,this.image=new ae.XFAObjectArray,this.integer=new ae.XFAObjectArray,this.manifest=new ae.XFAObjectArray,this.script=new ae.XFAObjectArray,this.text=new ae.XFAObjectArray,this.time=new ae.XFAObjectArray}[ae.$isTransparent](){return!0}}class Ir{static[he.$buildXFAObject](De,ht){if(Ir.hasOwnProperty(De)){const Xt=Ir[De](ht);return Xt[ae.$setSetAttributes](ht),Xt}}static appearanceFilter(De){return new Le(De)}static arc(De){return new Oe(De)}static area(De){return new Ne(De)}static assist(De){return new qe(De)}static barcode(De){return new it(De)}static bind(De){return new tt(De)}static bindItems(De){return new Xe(De)}static bookend(De){return new Ze(De)}static boolean(De){return new ot(De)}static border(De){return new Ge(De)}static break(De){return new Ke(De)}static breakAfter(De){return new je(De)}static breakBefore(De){return new nt(De)}static button(De){return new Qe(De)}static calculate(De){return new We(De)}static caption(De){return new rt(De)}static certificate(De){return new et(De)}static certificates(De){return new ct(De)}static checkButton(De){return new at(De)}static choiceList(De){return new Je(De)}static color(De){return new lt(De)}static comb(De){return new ut(De)}static connect(De){return new ft(De)}static contentArea(De){return new pt(De)}static corner(De){return new mt(De)}static date(De){return new xt(De)}static dateTime(De){return new vt(De)}static dateTimeEdit(De){return new wt(De)}static decimal(De){return new _t(De)}static defaultUi(De){return new Tt(De)}static desc(De){return new Lt(De)}static digestMethod(De){return new jt(De)}static digestMethods(De){return new Bt(De)}static draw(De){return new St(De)}static edge(De){return new Ft(De)}static encoding(De){return new Ct(De)}static encodings(De){return new yt(De)}static encrypt(De){return new bt(De)}static encryptData(De){return new Pt(De)}static encryption(De){return new Ut(De)}static encryptionMethod(De){return new Yt(De)}static encryptionMethods(De){return new kt(De)}static event(De){return new Ot(De)}static exData(De){return new Et(De)}static exObject(De){return new nn(De)}static exclGroup(De){return new en(De)}static execute(De){return new an(De)}static extras(De){return new Sn(De)}static field(De){return new sn(De)}static fill(De){return new yn(De)}static filter(De){return new On(De)}static float(De){return new tn(De)}static font(De){return new Dn(De)}static format(De){return new xn(De)}static handler(De){return new Hn(De)}static hyphenation(De){return new In(De)}static image(De){return new _n(De)}static imageEdit(De){return new wn(De)}static integer(De){return new ei(De)}static issuers(De){return new ni(De)}static items(De){return new on(De)}static keep(De){return new Kt(De)}static keyUsage(De){return new un(De)}static line(De){return new fn(De)}static linear(De){return new vn(De)}static lockDocument(De){return new At(De)}static manifest(De){return new Dt(De)}static margin(De){return new Nt(De)}static mdp(De){return new zt(De)}static medium(De){return new Ht(De)}static message(De){return new rn(De)}static numericEdit(De){return new dn(De)}static occur(De){return new cn(De)}static oid(De){return new Rt(De)}static oids(De){return new Vt(De)}static overflow(De){return new Wt(De)}static pageArea(De){return new Gt(De)}static pageSet(De){return new pn(De)}static para(De){return new An(De)}static passwordEdit(De){return new zn(De)}static pattern(De){return new Tn(De)}static picture(De){return new En(De)}static proto(De){return new Rn(De)}static radial(De){return new Zn(De)}static reason(De){return new Yn(De)}static reasons(De){return new ki(De)}static rectangle(De){return new Gi(De)}static ref(De){return new Mi(De)}static script(De){return new ur(De)}static setProperty(De){return new li(De)}static signData(De){return new Di(De)}static signature(De){return new Oi(De)}static signing(De){return new Ti(De)}static solid(De){return new wi(De)}static speak(De){return new qi(De)}static stipple(De){return new Yi(De)}static subform(De){return new Or(De)}static subformSet(De){return new Cr(De)}static subjectDN(De){return new Da(De)}static subjectDNs(De){return new ca(De)}static submit(De){return new Oa(De)}static template(De){return new Xr(De)}static text(De){return new ua(De)}static textEdit(De){return new ha(De)}static time(De){return new da(De)}static timeStamp(De){return new Ia(De)}static toolTip(De){return new ka(De)}static traversal(De){return new fa(De)}static traverse(De){return new La(De)}static ui(De){return new Wr(De)}static validate(De){return new Na(De)}static value(De){return new Tr(De)}static variables(De){return new Ba(De)}}oe.TemplateNamespace=Ir},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.addHTML=re,oe.checkDimensions=Se,oe.flushHTML=pe,oe.getAvailableSpace=Ae;var ae=ce(77),he=ce(84);function de(fe,be){return{name:"div",attributes:{class:[fe.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:be}}function pe(fe){if(!fe[ae.$extra])return null;const xe={name:"div",attributes:fe[ae.$extra].attributes,children:fe[ae.$extra].children};if(fe[ae.$extra].failingNode){const ue=fe[ae.$extra].failingNode[ae.$flushHTML]();ue&&(fe.layout.endsWith("-tb")?xe.children.push(de(fe,[ue])):xe.children.push(ue))}return xe.children.length===0?null:xe}function re(fe,be,xe){const ue=fe[ae.$extra],we=ue.availableSpace,[Fe,_e,Ee,Ce]=xe;switch(fe.layout){case"position":{ue.width=Math.max(ue.width,Fe+Ee),ue.height=Math.max(ue.height,_e+Ce),ue.children.push(be);break}case"lr-tb":case"rl-tb":(!ue.line||ue.attempt===1)&&(ue.line=de(fe,[]),ue.children.push(ue.line),ue.numberInLine=0),ue.numberInLine+=1,ue.line.children.push(be),ue.attempt===0?(ue.currentWidth+=Ee,ue.height=Math.max(ue.height,ue.prevHeight+Ce)):(ue.currentWidth=Ee,ue.prevHeight=ue.height,ue.height+=Ce,ue.attempt=0),ue.width=Math.max(ue.width,ue.currentWidth);break;case"rl-row":case"row":{ue.children.push(be),ue.width+=Ee,ue.height=Math.max(ue.height,Ce);const ye=(0,he.measureToString)(ue.height);for(const Re of ue.children)Re.attributes.style.height=ye;break}case"table":{ue.width=Math.min(we.width,Math.max(ue.width,Ee)),ue.height+=Ce,ue.children.push(be);break}case"tb":{ue.width=Math.min(we.width,Math.max(ue.width,Ee)),ue.height+=Ce,ue.children.push(be);break}}}function Ae(fe){const be=fe[ae.$extra].availableSpace,xe=fe.margin?fe.margin.topInset+fe.margin.bottomInset:0,ue=fe.margin?fe.margin.leftInset+fe.margin.rightInset:0;switch(fe.layout){case"lr-tb":case"rl-tb":return fe[ae.$extra].attempt===0?{width:be.width-ue-fe[ae.$extra].currentWidth,height:be.height-xe-fe[ae.$extra].prevHeight}:{width:be.width-ue,height:be.height-xe-fe[ae.$extra].height};case"rl-row":case"row":return{width:fe[ae.$extra].columnWidths.slice(fe[ae.$extra].currentColumn).reduce((Fe,_e)=>Fe+_e),height:be.height-ue};case"table":case"tb":return{width:be.width-ue,height:be.height-xe-fe[ae.$extra].height};case"position":default:return be}}function ge(fe){let be=fe.w===""?NaN:fe.w,xe=fe.h===""?NaN:fe.h,[ue,we]=[0,0];switch(fe.anchorType||""){case"bottomCenter":[ue,we]=[be/2,xe];break;case"bottomLeft":[ue,we]=[0,xe];break;case"bottomRight":[ue,we]=[be,xe];break;case"middleCenter":[ue,we]=[be/2,xe/2];break;case"middleLeft":[ue,we]=[0,xe/2];break;case"middleRight":[ue,we]=[be,xe/2];break;case"topCenter":[ue,we]=[be/2,0];break;case"topRight":[ue,we]=[be,0];break}let Fe,_e;switch(fe.rotate||0){case 0:[Fe,_e]=[-ue,-we];break;case 90:[Fe,_e]=[-we,ue],[be,xe]=[xe,-be];break;case 180:[Fe,_e]=[ue,we],[be,xe]=[-be,-xe];break;case 270:[Fe,_e]=[we,-ue],[be,xe]=[-xe,be];break}return[fe.x+Fe+Math.min(0,be),fe.y+_e+Math.min(0,xe),Math.abs(be),Math.abs(xe)]}function Se(fe,be){if(fe[ae.$getTemplateRoot]()[ae.$extra].firstUnsplittable===null||fe.w===0||fe.h===0)return!0;const xe=2,ue=fe[ae.$getSubformParent](),we=ue[ae.$extra]&&ue[ae.$extra].attempt||0,[,Fe,_e,Ee]=ge(fe);switch(ue.layout){case"lr-tb":case"rl-tb":return we===0?fe[ae.$getTemplateRoot]()[ae.$extra].noLayoutFailure?fe.w!==""?Math.round(_e-be.width)<=xe:be.width>xe:fe.h!==""&&Math.round(Ee-be.height)>xe?!1:fe.w!==""?Math.round(_e-be.width)<=xe?!0:ue[ae.$extra].numberInLine===0?be.height>xe:!1:be.width>xe:fe[ae.$getTemplateRoot]()[ae.$extra].noLayoutFailure?!0:fe.h!==""&&Math.round(Ee-be.height)>xe?!1:fe.w===""||Math.round(_e-be.width)<=xe?be.height>xe:ue[ae.$isThereMoreWidth]()?!1:be.height>xe;case"table":case"tb":return fe[ae.$getTemplateRoot]()[ae.$extra].noLayoutFailure?!0:fe.h!==""&&!fe[ae.$isSplittable]()?Math.round(Ee-be.height)<=xe:fe.w===""||Math.round(_e-be.width)<=xe?be.height>xe:ue[ae.$isThereMoreWidth]()?!1:be.height>xe;case"position":if(fe[ae.$getTemplateRoot]()[ae.$extra].noLayoutFailure||fe.h===""||Math.round(Ee+Fe-be.height)<=xe)return!0;const Ce=fe[ae.$getTemplateRoot]()[ae.$extra].currentContentArea;return Ee+Fe>Ce.h;case"rl-row":case"row":return fe[ae.$getTemplateRoot]()[ae.$extra].noLayoutFailure?!0:fe.h!==""?Math.round(Ee-be.height)<=xe:!0;default:return!0}}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.computeBbox=xe,oe.createWrapper=_e,oe.fixDimensions=ue,oe.fixTextIndent=Ee,oe.fixURL=$e,oe.isPrintOnly=ye,oe.layoutClass=we,oe.layoutNode=be,oe.measureToString=Ae,oe.setAccess=Ce,oe.setFontFamily=ke,oe.setMinMaxDimensions=Se,oe.setPara=Ye,oe.toStyle=Fe;var ae=ce(77),he=ce(2),de=ce(78),pe=ce(85),re=ce(86);function Ae(Be){return typeof Be=="string"?"0px":Number.isInteger(Be)?`${Be}px`:`${Be.toFixed(2)}px`}const ge={anchorType(Be,Pe){const Ue=Be[ae.$getSubformParent]();if(!(!Ue||Ue.layout&&Ue.layout!=="position"))switch("transform"in Pe||(Pe.transform=""),Be.anchorType){case"bottomCenter":Pe.transform+="translate(-50%, -100%)";break;case"bottomLeft":Pe.transform+="translate(0,-100%)";break;case"bottomRight":Pe.transform+="translate(-100%,-100%)";break;case"middleCenter":Pe.transform+="translate(-50%,-50%)";break;case"middleLeft":Pe.transform+="translate(0,-50%)";break;case"middleRight":Pe.transform+="translate(-100%,-50%)";break;case"topCenter":Pe.transform+="translate(-50%,0)";break;case"topRight":Pe.transform+="translate(-100%,0)";break}},dimensions(Be,Pe){const Ue=Be[ae.$getSubformParent]();let Te=Be.w;const Me=Be.h;if(Ue.layout&&Ue.layout.includes("row")){const Ve=Ue[ae.$extra],He=Be.colSpan;let Ie;He===-1?(Ie=Ve.columnWidths.slice(Ve.currentColumn).reduce((Le,Oe)=>Le+Oe,0),Ve.currentColumn=0):(Ie=Ve.columnWidths.slice(Ve.currentColumn,Ve.currentColumn+He).reduce((Le,Oe)=>Le+Oe,0),Ve.currentColumn=(Ve.currentColumn+Be.colSpan)%Ve.columnWidths.length),isNaN(Ie)||(Te=Be.w=Ie)}Te!==""?Pe.width=Ae(Te):Pe.width="auto",Me!==""?Pe.height=Ae(Me):Pe.height="auto"},position(Be,Pe){const Ue=Be[ae.$getSubformParent]();Ue&&Ue.layout&&Ue.layout!=="position"||(Pe.position="absolute",Pe.left=Ae(Be.x),Pe.top=Ae(Be.y))},rotate(Be,Pe){Be.rotate&&("transform"in Pe||(Pe.transform=""),Pe.transform+=`rotate(-${Be.rotate}deg)`,Pe.transformOrigin="top left")},presence(Be,Pe){switch(Be.presence){case"invisible":Pe.visibility="hidden";break;case"hidden":case"inactive":Pe.display="none";break}},hAlign(Be,Pe){if(Be[ae.$nodeName]==="para")switch(Be.hAlign){case"justifyAll":Pe.textAlign="justify-all";break;case"radix":Pe.textAlign="left";break;default:Pe.textAlign=Be.hAlign}else switch(Be.hAlign){case"left":Pe.alignSelf="start";break;case"center":Pe.alignSelf="center";break;case"right":Pe.alignSelf="end";break}},margin(Be,Pe){Be.margin&&(Pe.margin=Be.margin[ae.$toStyle]().margin)}};function Se(Be,Pe){Be[ae.$getSubformParent]().layout==="position"&&(Be.minW>0&&(Pe.minWidth=Ae(Be.minW)),Be.maxW>0&&(Pe.maxWidth=Ae(Be.maxW)),Be.minH>0&&(Pe.minHeight=Ae(Be.minH)),Be.maxH>0&&(Pe.maxHeight=Ae(Be.maxH)))}function fe(Be,Pe,Ue,Te,Me,Ve){const He=new re.TextMeasure(Pe,Ue,Te,Me);return typeof Be=="string"?He.addString(Be):Be[ae.$pushGlyphs](He),He.compute(Ve)}function be(Be,Pe){let Ue=null,Te=null,Me=!1;if((!Be.w||!Be.h)&&Be.value){let Ve=0,He=0;Be.margin&&(Ve=Be.margin.leftInset+Be.margin.rightInset,He=Be.margin.topInset+Be.margin.bottomInset);let Ie=null,Le=null;Be.para&&(Le=Object.create(null),Ie=Be.para.lineHeight===""?null:Be.para.lineHeight,Le.top=Be.para.spaceAbove===""?0:Be.para.spaceAbove,Le.bottom=Be.para.spaceBelow===""?0:Be.para.spaceBelow,Le.left=Be.para.marginLeft===""?0:Be.para.marginLeft,Le.right=Be.para.marginRight===""?0:Be.para.marginRight);let Oe=Be.font;if(!Oe){const it=Be[ae.$getTemplateRoot]();let tt=Be[ae.$getParent]();for(;tt&&tt!==it;){if(tt.font){Oe=tt.font;break}tt=tt[ae.$getParent]()}}const Ne=(Be.w||Pe.width)-Ve,qe=Be[ae.$globalData].fontFinder;if(Be.value.exData&&Be.value.exData[ae.$content]&&Be.value.exData.contentType==="text/html"){const it=fe(Be.value.exData[ae.$content],Oe,Le,Ie,qe,Ne);Te=it.width,Ue=it.height,Me=it.isBroken}else{const it=Be.value[ae.$text]();if(it){const tt=fe(it,Oe,Le,Ie,qe,Ne);Te=tt.width,Ue=tt.height,Me=tt.isBroken}}Te!==null&&!Be.w&&(Te+=Ve),Ue!==null&&!Be.h&&(Ue+=He)}return{w:Te,h:Ue,isBroken:Me}}function xe(Be,Pe,Ue){let Te;if(Be.w!==""&&Be.h!=="")Te=[Be.x,Be.y,Be.w,Be.h];else{if(!Ue)return null;let Me=Be.w;if(Me===""){if(Be.maxW===0){const He=Be[ae.$getSubformParent]();He.layout==="position"&&He.w!==""?Me=0:Me=Be.minW}else Me=Math.min(Be.maxW,Ue.width);Pe.attributes.style.width=Ae(Me)}let Ve=Be.h;if(Ve===""){if(Be.maxH===0){const He=Be[ae.$getSubformParent]();He.layout==="position"&&He.h!==""?Ve=0:Ve=Be.minH}else Ve=Math.min(Be.maxH,Ue.height);Pe.attributes.style.height=Ae(Ve)}Te=[Be.x,Be.y,Me,Ve]}return Te}function ue(Be){const Pe=Be[ae.$getSubformParent]();if(Pe.layout&&Pe.layout.includes("row")){const Ue=Pe[ae.$extra],Te=Be.colSpan;let Me;Te===-1?Me=Ue.columnWidths.slice(Ue.currentColumn).reduce((Ve,He)=>Ve+He,0):Me=Ue.columnWidths.slice(Ue.currentColumn,Ue.currentColumn+Te).reduce((Ve,He)=>Ve+He,0),isNaN(Me)||(Be.w=Me)}Pe.layout&&Pe.layout!=="position"&&(Be.x=Be.y=0),Be.layout==="table"&&Be.w===""&&Array.isArray(Be.columnWidths)&&(Be.w=Be.columnWidths.reduce((Ue,Te)=>Ue+Te,0))}function we(Be){switch(Be.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function Fe(Be,...Pe){const Ue=Object.create(null);for(const Te of Pe){const Me=Be[Te];if(Me!==null){if(ge.hasOwnProperty(Te)){ge[Te](Be,Ue);continue}if(Me instanceof ae.XFAObject){const Ve=Me[ae.$toStyle]();Ve?Object.assign(Ue,Ve):(0,he.warn)(`(DEBUG) - XFA - style for ${Te} not implemented yet`)}}}return Ue}function _e(Be,Pe){const{attributes:Ue}=Pe,{style:Te}=Ue,Me={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(Ue.class.push("xfaWrapped"),Be.border){const{widths:Ve,insets:He}=Be.border[ae.$extra];let Ie,Le,Oe=He[0],Ne=He[3];const qe=He[0]+He[2],it=He[1]+He[3];switch(Be.border.hand){case"even":Oe-=Ve[0]/2,Ne-=Ve[3]/2,Ie=`calc(100% + ${(Ve[1]+Ve[3])/2-it}px)`,Le=`calc(100% + ${(Ve[0]+Ve[2])/2-qe}px)`;break;case"left":Oe-=Ve[0],Ne-=Ve[3],Ie=`calc(100% + ${Ve[1]+Ve[3]-it}px)`,Le=`calc(100% + ${Ve[0]+Ve[2]-qe}px)`;break;case"right":Ie=it?`calc(100% - ${it}px)`:"100%",Le=qe?`calc(100% - ${qe}px)`:"100%";break}const tt=["xfaBorder"];ye(Be.border)&&tt.push("xfaPrintOnly");const Xe={name:"div",attributes:{class:tt,style:{top:`${Oe}px`,left:`${Ne}px`,width:Ie,height:Le}},children:[]};for(const Ze of["border","borderWidth","borderColor","borderRadius","borderStyle"])Te[Ze]!==void 0&&(Xe.attributes.style[Ze]=Te[Ze],delete Te[Ze]);Me.children.push(Xe,Pe)}else Me.children.push(Pe);for(const Ve of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])Te[Ve]!==void 0&&(Me.attributes.style[Ve]=Te[Ve],delete Te[Ve]);return Te.position==="absolute"?Me.attributes.style.position="absolute":Me.attributes.style.position="relative",delete Te.position,Te.alignSelf&&(Me.attributes.style.alignSelf=Te.alignSelf,delete Te.alignSelf),Me}function Ee(Be){const Pe=(0,de.getMeasurement)(Be.textIndent,"0px");if(Pe>=0)return;const Te="padding"+((Be.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),Me=(0,de.getMeasurement)(Be[Te],"0px");Be[Te]=`${Me-Pe}px`}function Ce(Be,Pe){switch(Be.access){case"nonInteractive":Pe.push("xfaNonInteractive");break;case"readOnly":Pe.push("xfaReadOnly");break;case"protected":Pe.push("xfaDisabled");break}}function ye(Be){return Be.relevant.length>0&&!Be.relevant[0].excluded&&Be.relevant[0].viewname==="print"}function Re(Be){const Pe=Be[ae.$getTemplateRoot]()[ae.$extra].paraStack;return Pe.length?Pe.at(-1):null}function Ye(Be,Pe,Ue){if(Ue.attributes.class&&Ue.attributes.class.includes("xfaRich")){Pe&&(Be.h===""&&(Pe.height="auto"),Be.w===""&&(Pe.width="auto"));const Te=Re(Be);if(Te){const Me=Ue.attributes.style;switch(Me.display="flex",Me.flexDirection="column",Te.vAlign){case"top":Me.justifyContent="start";break;case"bottom":Me.justifyContent="end";break;case"middle":Me.justifyContent="center";break}const Ve=Te[ae.$toStyle]();for(const[He,Ie]of Object.entries(Ve))He in Me||(Me[He]=Ie)}}}function ke(Be,Pe,Ue,Te){if(!Ue){delete Te.fontFamily;return}const Me=(0,de.stripQuotes)(Be.typeface);Te.fontFamily=`"${Me}"`;const Ve=Ue.find(Me);if(Ve){const{fontFamily:He}=Ve.regular.cssFontInfo;He!==Me&&(Te.fontFamily=`"${He}"`);const Ie=Re(Pe);if(Ie&&Ie.lineHeight!==""||Te.lineHeight)return;const Le=(0,pe.selectFont)(Be,Ve);Le&&(Te.lineHeight=Math.max(1.2,Le.lineHeight))}}function $e(Be){const Pe=(0,he.createValidAbsoluteUrl)(Be,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return Pe?Pe.href:null}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.FontFinder=void 0,oe.getMetrics=Ae,oe.selectFont=re;var ae=ce(77),he=ce(78),de=ce(2);class pe{constructor(Se){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(Se)}add(Se,fe=null){for(const xe of Se)this.addPdfFont(xe);for(const xe of this.fonts.values())xe.regular||(xe.regular=xe.italic||xe.bold||xe.bolditalic);if(!fe||fe.size===0)return;const be=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const xe of fe)this.fonts.set(xe,be)}addPdfFont(Se){const fe=Se.cssFontInfo,be=fe.fontFamily;let xe=this.fonts.get(be);xe||(xe=Object.create(null),this.fonts.set(be,xe),this.defaultFont||(this.defaultFont=xe));let ue="";const we=parseFloat(fe.fontWeight);parseFloat(fe.italicAngle)!==0?ue=we>=700?"bolditalic":"italic":we>=700&&(ue="bold"),ue||((Se.name.includes("Bold")||Se.psName&&Se.psName.includes("Bold"))&&(ue="bold"),(Se.name.includes("Italic")||Se.name.endsWith("It")||Se.psName&&(Se.psName.includes("Italic")||Se.psName.endsWith("It")))&&(ue+="italic")),ue||(ue="regular"),xe[ue]=Se}getDefault(){return this.defaultFont}find(Se,fe=!0){let be=this.fonts.get(Se)||this.cache.get(Se);if(be)return be;const xe=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let ue=Se.replace(xe,"");if(be=this.fonts.get(ue),be)return this.cache.set(Se,be),be;ue=ue.toLowerCase();const we=[];for(const[Fe,_e]of this.fonts.entries())Fe.replace(xe,"").toLowerCase().startsWith(ue)&&we.push(_e);if(we.length===0)for(const[,Fe]of this.fonts.entries())Fe.regular.name&&Fe.regular.name.replace(xe,"").toLowerCase().startsWith(ue)&&we.push(Fe);if(we.length===0){ue=ue.replace(/psmt|mt/gi,"");for(const[Fe,_e]of this.fonts.entries())Fe.replace(xe,"").toLowerCase().startsWith(ue)&&we.push(_e)}if(we.length===0)for(const Fe of this.fonts.values())Fe.regular.name&&Fe.regular.name.replace(xe,"").toLowerCase().startsWith(ue)&&we.push(Fe);return we.length>=1?(we.length!==1&&fe&&(0,de.warn)(`XFA - Too many choices to guess the correct font: ${Se}`),this.cache.set(Se,we[0]),we[0]):(fe&&!this.warned.has(Se)&&(this.warned.add(Se),(0,de.warn)(`XFA - Cannot find the font: ${Se}`)),null)}}oe.FontFinder=pe;function re(ge,Se){return ge.posture==="italic"?ge.weight==="bold"?Se.bolditalic:Se.italic:ge.weight==="bold"?Se.bold:Se.regular}function Ae(ge,Se=!1){let fe=null;if(ge){const we=(0,he.stripQuotes)(ge.typeface),Fe=ge[ae.$globalData].fontFinder.find(we);fe=re(ge,Fe)}if(!fe)return{lineHeight:12,lineGap:2,lineNoGap:10};const be=ge.size||10,xe=fe.lineHeight?Math.max(Se?0:1.2,fe.lineHeight):1.2,ue=fe.lineGap===void 0?.2:fe.lineGap;return{lineHeight:xe*be,lineGap:ue*be,lineNoGap:Math.max(1,xe-ue)*be}}},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.TextMeasure=void 0;var ae=ce(85);const he=1.02;class de{constructor(ge,Se,fe,be){if(this.lineHeight=fe,this.paraMargin=Se||{top:0,bottom:0,left:0,right:0},!ge){[this.pdfFont,this.xfaFont]=this.defaultFont(be);return}this.xfaFont={typeface:ge.typeface,posture:ge.posture,weight:ge.weight,size:ge.size,letterSpacing:ge.letterSpacing};const xe=be.find(ge.typeface);if(!xe){[this.pdfFont,this.xfaFont]=this.defaultFont(be);return}this.pdfFont=(0,ae.selectFont)(ge,xe),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(be))}defaultFont(ge){const Se=ge.find("Helvetica",!1)||ge.find("Myriad Pro",!1)||ge.find("Arial",!1)||ge.getDefault();if(Se&&Se.regular){const be=Se.regular,ue={typeface:be.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[be,ue]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class pe{constructor(ge,Se,fe,be){this.fontFinder=be,this.stack=[new de(ge,Se,fe,be)]}pushData(ge,Se,fe){const be=this.stack.at(-1);for(const ue of["typeface","posture","weight","size","letterSpacing"])ge[ue]||(ge[ue]=be.xfaFont[ue]);for(const ue of["top","bottom","left","right"])isNaN(Se[ue])&&(Se[ue]=be.paraMargin[ue]);const xe=new de(ge,Se,fe||be.lineHeight,this.fontFinder);xe.pdfFont||(xe.pdfFont=be.pdfFont),this.stack.push(xe)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class re{constructor(ge,Se,fe,be){this.glyphs=[],this.fontSelector=new pe(ge,Se,fe,be),this.extraHeight=0}pushData(ge,Se,fe){this.fontSelector.pushData(ge,Se,fe)}popFont(ge){return this.fontSelector.popFont()}addPara(){const ge=this.fontSelector.topFont();this.extraHeight+=ge.paraMargin.top+ge.paraMargin.bottom}addString(ge){if(!ge)return;const Se=this.fontSelector.topFont(),fe=Se.xfaFont.size;if(Se.pdfFont){const be=Se.xfaFont.letterSpacing,xe=Se.pdfFont,ue=xe.lineHeight||1.2,we=Se.lineHeight||Math.max(1.2,ue)*fe,Fe=xe.lineGap===void 0?.2:xe.lineGap,_e=ue-Fe,Ee=Math.max(1,_e)*fe,Ce=fe/1e3,ye=xe.defaultWidth||xe.charsToGlyphs(" ")[0].width;for(const Re of ge.split(/[\u2029\n]/)){const Ye=xe.encodeString(Re).join(""),ke=xe.charsToGlyphs(Ye);for(const $e of ke){const Be=$e.width||ye;this.glyphs.push([Be*Ce+be,we,Ee,$e.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const be of ge.split(/[\u2029\n]/)){for(const xe of be.split(""))this.glyphs.push([fe,1.2*fe,fe,xe,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(ge){let Se=-1,fe=0,be=0,xe=0,ue=0,we=0,Fe=!1,_e=!0;for(let Ee=0,Ce=this.glyphs.length;Ee<Ce;Ee++){const[ye,Re,Ye,ke,$e]=this.glyphs[Ee],Be=ke===" ",Pe=_e?Ye:Re;if($e){be=Math.max(be,ue),ue=0,xe+=we,we=Pe,Se=-1,fe=0,_e=!1;continue}if(Be){ue+ye>ge?(be=Math.max(be,ue),ue=0,xe+=we,we=Pe,Se=-1,fe=0,Fe=!0,_e=!1):(we=Math.max(Pe,we),fe=ue,ue+=ye,Se=Ee);continue}if(ue+ye>ge){xe+=we,we=Pe,Se!==-1?(Ee=Se,be=Math.max(be,fe),ue=0,Se=-1,fe=0):(be=Math.max(be,ue),ue=ye),Fe=!0,_e=!1;continue}ue+=ye,we=Math.max(Pe,we)}return be=Math.max(be,ue),xe+=we+this.extraHeight,{width:he*be,height:xe,isBroken:Fe}}}oe.TextMeasure=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.DataHandler=void 0;var ae=ce(77);class he{constructor(pe,re){this.data=re,this.dataset=pe.datasets||null}serialize(pe){const re=[[-1,this.data[ae.$getChildren]()]];for(;re.length>0;){const ge=re.at(-1),[Se,fe]=ge;if(Se+1===fe.length){re.pop();continue}const be=fe[++ge[0]],xe=pe.get(be[ae.$uid]);if(xe)be[ae.$setValue](xe);else{const we=be[ae.$getAttributes]();for(const Fe of we.values()){const _e=pe.get(Fe[ae.$uid]);if(_e){Fe[ae.$setValue](_e);break}}}const ue=be[ae.$getChildren]();ue.length>0&&re.push([-1,ue])}const Ae=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const ge of this.dataset[ae.$getChildren]())ge[ae.$nodeName]!=="data"&&ge[ae.$toString](Ae);return this.data[ae.$toString](Ae),Ae.push("</xfa:datasets>"),Ae.join("")}}oe.DataHandler=he},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.XFAParser=void 0;var ae=ce(77),he=ce(66),de=ce(89),pe=ce(2);class re extends he.XMLParserBase{constructor(ge=null,Se=!1){super(),this._builder=new de.Builder(ge),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=he.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=Se}parse(ge){if(this.parseXml(ge),this._errorCode===he.XMLParserErrorCode.NoError)return this._current[ae.$finalize](),this._current.element}onText(ge){if(ge=ge.replace(this._nbsps,Se=>Se.slice(1)+" "),this._richText||this._current[ae.$acceptWhitespace]()){this._current[ae.$onText](ge,this._richText);return}this._whiteRegex.test(ge)||this._current[ae.$onText](ge.trim())}onCdata(ge){this._current[ae.$onText](ge)}_mkAttributes(ge,Se){let fe=null,be=null;const xe=Object.create({});for(const{name:ue,value:we}of ge)if(ue==="xmlns")fe?(0,pe.warn)(`XFA - multiple namespace definition in <${Se}>`):fe=we;else if(ue.startsWith("xmlns:")){const Fe=ue.substring(6);be||(be=[]),be.push({prefix:Fe,value:we})}else{const Fe=ue.indexOf(":");if(Fe===-1)xe[ue]=we;else{let _e=xe[ae.$nsAttributes];_e||(_e=xe[ae.$nsAttributes]=Object.create(null));const[Ee,Ce]=[ue.slice(0,Fe),ue.slice(Fe+1)];let ye=_e[Ee];ye||(ye=_e[Ee]=Object.create(null)),ye[Ce]=we}}return[fe,be,xe]}_getNameAndPrefix(ge,Se){const fe=ge.indexOf(":");return fe===-1?[ge,null]:[ge.substring(fe+1),Se?"":ge.substring(0,fe)]}onBeginElement(ge,Se,fe){const[be,xe,ue]=this._mkAttributes(Se,ge),[we,Fe]=this._getNameAndPrefix(ge,this._builder.isNsAgnostic()),_e=this._builder.build({nsPrefix:Fe,name:we,attributes:ue,namespace:be,prefixes:xe});if(_e[ae.$globalData]=this._globalData,fe){_e[ae.$finalize](),this._current[ae.$onChild](_e)&&_e[ae.$setId](this._ids),_e[ae.$clean](this._builder);return}this._stack.push(this._current),this._current=_e}onEndElement(ge){const Se=this._current;if(Se[ae.$isCDATAXml]()&&typeof Se[ae.$content]=="string"){const fe=new re;fe._globalData=this._globalData;const be=fe.parse(Se[ae.$content]);Se[ae.$content]=null,Se[ae.$onChild](be)}Se[ae.$finalize](),this._current=this._stack.pop(),this._current[ae.$onChild](Se)&&Se[ae.$setId](this._ids),Se[ae.$clean](this._builder)}onError(ge){this._errorCode=ge}}oe.XFAParser=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.Builder=void 0;var ae=ce(79),he=ce(77),de=ce(90),pe=ce(82),re=ce(99),Ae=ce(2);class ge extends he.XFAObject{constructor(xe){super(-1,"root",Object.create(null)),this.element=null,this[he.$ids]=xe}[he.$onChild](xe){return this.element=xe,!0}[he.$finalize](){super[he.$finalize](),this.element.template instanceof pe.Template&&(this[he.$ids].set(he.$root,this.element),this.element.template[he.$resolvePrototypes](this[he.$ids]),this.element.template[he.$ids]=this[he.$ids])}}class Se extends he.XFAObject{constructor(){super(-1,"",Object.create(null))}[he.$onChild](xe){return!1}}class fe{constructor(xe=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(ae.NamespaceIds).map(({id:ue})=>ue)),this._currentNamespace=xe||new re.UnknownNamespace(++this._nextNsId)}buildRoot(xe){return new ge(xe)}build({nsPrefix:xe,name:ue,attributes:we,namespace:Fe,prefixes:_e}){const Ee=Fe!==null;if(Ee&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(Fe)),_e&&this._addNamespacePrefix(_e),we.hasOwnProperty(he.$nsAttributes)){const Re=de.NamespaceSetUp.datasets,Ye=we[he.$nsAttributes];let ke=null;for(const[$e,Be]of Object.entries(Ye))if(this._getNamespaceToUse($e)===Re){ke={xfa:Be};break}ke?we[he.$nsAttributes]=ke:delete we[he.$nsAttributes]}const Ce=this._getNamespaceToUse(xe),ye=Ce&&Ce[ae.$buildXFAObject](ue,we)||new Se;return ye[he.$isNsAgnostic]()&&this._nsAgnosticLevel++,(Ee||_e||ye[he.$isNsAgnostic]())&&(ye[he.$cleanup]={hasNamespace:Ee,prefixes:_e,nsAgnostic:ye[he.$isNsAgnostic]()}),ye}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(xe){let ue=this._namespaces.get(xe);if(ue)return ue;for(const[we,{check:Fe}]of Object.entries(ae.NamespaceIds))if(Fe(xe)){if(ue=de.NamespaceSetUp[we],ue)return this._namespaces.set(xe,ue),ue;break}return ue=new re.UnknownNamespace(++this._nextNsId),this._namespaces.set(xe,ue),ue}_addNamespacePrefix(xe){for(const{prefix:ue,value:we}of xe){const Fe=this._searchNamespace(we);let _e=this._namespacePrefixes.get(ue);_e||(_e=[],this._namespacePrefixes.set(ue,_e)),_e.push(Fe)}}_getNamespaceToUse(xe){if(!xe)return this._currentNamespace;const ue=this._namespacePrefixes.get(xe);return ue&&ue.length>0?ue.at(-1):((0,Ae.warn)(`Unknown namespace prefix: ${xe}.`),null)}clean(xe){const{hasNamespace:ue,prefixes:we,nsAgnostic:Fe}=xe;ue&&(this._currentNamespace=this._namespaceStack.pop()),we&&we.forEach(({prefix:_e})=>{this._namespacePrefixes.get(_e).pop()}),Fe&&this._nsAgnosticLevel--}}oe.Builder=fe},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.NamespaceSetUp=void 0;var ae=ce(91),he=ce(92),de=ce(93),pe=ce(94),re=ce(95),Ae=ce(96),ge=ce(82),Se=ce(97),fe=ce(98);const be={config:ae.ConfigNamespace,connection:he.ConnectionSetNamespace,datasets:de.DatasetsNamespace,localeSet:pe.LocaleSetNamespace,signature:re.SignatureNamespace,stylesheet:Ae.StylesheetNamespace,template:ge.TemplateNamespace,xdp:Se.XdpNamespace,xhtml:fe.XhtmlNamespace};oe.NamespaceSetUp=be},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.ConfigNamespace=void 0;var ae=ce(79),he=ce(77),de=ce(78),pe=ce(2);const re=ae.NamespaceIds.config.id;class Ae extends he.XFAObject{constructor(ht){super(re,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new he.XFAObjectArray}}class ge extends he.XFAObject{constructor(ht){super(re,"acrobat7",!0),this.dynamicRender=null}}class Se extends he.OptionObject{constructor(ht){super(re,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class fe extends he.OptionObject{constructor(ht){super(re,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class be extends he.Option01{constructor(ht){super(re,"addSilentPrint")}}class xe extends he.Option01{constructor(ht){super(re,"addViewerPreferences")}}class ue extends he.Option10{constructor(ht){super(re,"adjustData")}}class we extends he.IntegerObject{constructor(ht){super(re,"adobeExtensionLevel",0,Xt=>Xt>=1&&Xt<=8)}}class Fe extends he.XFAObject{constructor(ht){super(re,"agent",!0),this.name=ht.name?ht.name.trim():"",this.common=new he.XFAObjectArray}}class _e extends he.ContentObject{constructor(ht){super(re,"alwaysEmbed")}}class Ee extends he.StringObject{constructor(ht){super(re,"amd")}}class Ce extends he.XFAObject{constructor(ht){super(re,"area"),this.level=(0,de.getInteger)({data:ht.level,defaultValue:0,validate:Xt=>Xt>=1&&Xt<=3}),this.name=(0,de.getStringOption)(ht.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class ye extends he.OptionObject{constructor(ht){super(re,"attributes",["preserve","delegate","ignore"])}}class Re extends he.OptionObject{constructor(ht){super(re,"autoSave",["disabled","enabled"])}}class Ye extends he.StringObject{constructor(ht){super(re,"base")}}class ke extends he.XFAObject{constructor(ht){super(re,"batchOutput"),this.format=(0,de.getStringOption)(ht.format,["none","concat","zip","zipCompress"])}}class $e extends he.ContentObject{constructor(ht){super(re,"behaviorOverride")}[he.$finalize](){this[he.$content]=new Map(this[he.$content].trim().split(/\s+/).filter(ht=>ht.includes(":")).map(ht=>ht.split(":",2)))}}class Be extends he.XFAObject{constructor(ht){super(re,"cache",!0),this.templateCache=null}}class Pe extends he.Option01{constructor(ht){super(re,"change")}}class Ue extends he.XFAObject{constructor(ht){super(re,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new he.XFAObjectArray}}class Te extends he.XFAObject{constructor(ht){super(re,"compress"),this.scope=(0,de.getStringOption)(ht.scope,["imageOnly","document"])}}class Me extends he.Option01{constructor(ht){super(re,"compressLogicalStructure")}}class Ve extends he.Option10{constructor(ht){super(re,"compressObjectStream")}}class He extends he.XFAObject{constructor(ht){super(re,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class Ie extends he.XFAObject{constructor(ht){super(re,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new he.XFAObjectArray}}class Le extends he.OptionObject{constructor(ht){super(re,"conformance",["A","B"])}}class Oe extends he.Option01{constructor(ht){super(re,"contentCopy")}}class Ne extends he.IntegerObject{constructor(ht){super(re,"copies",1,Xt=>Xt>=1)}}class qe extends he.StringObject{constructor(ht){super(re,"creator")}}class it extends he.IntegerObject{constructor(ht){super(re,"currentPage",0,Xt=>Xt>=0)}}class tt extends he.XFAObject{constructor(ht){super(re,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new he.XFAObjectArray,this.transform=new he.XFAObjectArray}}class Xe extends he.XFAObject{constructor(ht){super(re,"debug",!0),this.uri=null}}class Ze extends he.ContentObject{constructor(ht){super(re,"defaultTypeface"),this.writingScript=(0,de.getStringOption)(ht.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class ot extends he.OptionObject{constructor(ht){super(re,"destination",["pdf","pcl","ps","webClient","zpl"])}}class Ge extends he.Option01{constructor(ht){super(re,"documentAssembly")}}class Ke extends he.XFAObject{constructor(ht){super(re,"driver",!0),this.name=ht.name?ht.name.trim():"",this.fontInfo=null,this.xdc=null}}class je extends he.OptionObject{constructor(ht){super(re,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class nt extends he.OptionObject{constructor(ht){super(re,"dynamicRender",["forbidden","required"])}}class Qe extends he.Option01{constructor(ht){super(re,"embed")}}class We extends he.Option01{constructor(ht){super(re,"encrypt")}}class rt extends he.XFAObject{constructor(ht){super(re,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class et extends he.OptionObject{constructor(ht){super(re,"encryptionLevel",["40bit","128bit"])}}class ct extends he.StringObject{constructor(ht){super(re,"enforce")}}class at extends he.XFAObject{constructor(ht){super(re,"equate"),this.force=(0,de.getInteger)({data:ht.force,defaultValue:1,validate:Xt=>Xt===0}),this.from=ht.from||"",this.to=ht.to||""}}class Je extends he.XFAObject{constructor(ht){super(re,"equateRange"),this.from=ht.from||"",this.to=ht.to||"",this._unicodeRange=ht.unicodeRange||""}get unicodeRange(){const ht=[],Xt=/U\+([0-9a-fA-F]+)/,Qt=this._unicodeRange;for(let mn of Qt.split(",").map(Ln=>Ln.trim()).filter(Ln=>!!Ln))mn=mn.split("-",2).map(Ln=>{const kn=Ln.match(Xt);return kn?parseInt(kn[1],16):0}),mn.length===1&&mn.push(mn[0]),ht.push(mn);return(0,pe.shadow)(this,"unicodeRange",ht)}}class lt extends he.ContentObject{constructor(ht){super(re,"exclude")}[he.$finalize](){this[he.$content]=this[he.$content].trim().split(/\s+/).filter(ht=>ht&&["calculate","close","enter","exit","initialize","ready","validate"].includes(ht))}}class ut extends he.StringObject{constructor(ht){super(re,"excludeNS")}}class ft extends he.OptionObject{constructor(ht){super(re,"flipLabel",["usePrinterSetting","on","off"])}}class pt extends he.XFAObject{constructor(ht){super(re,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new he.XFAObjectArray,this.defaultTypeface=new he.XFAObjectArray,this.neverEmbed=new he.XFAObjectArray}}class mt extends he.Option01{constructor(ht){super(re,"formFieldFilling")}}class xt extends he.StringObject{constructor(ht){super(re,"groupParent")}}class vt extends he.OptionObject{constructor(ht){super(re,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class wt extends he.StringObject{constructor(ht){super(re,"includeXDPContent")}}class _t extends he.OptionObject{constructor(ht){super(re,"incrementalLoad",["none","forwardOnly"])}}class Tt extends he.Option01{constructor(ht){super(re,"incrementalMerge")}}class Lt extends he.Option01{constructor(ht){super(re,"interactive")}}class jt extends he.OptionObject{constructor(ht){super(re,"jog",["usePrinterSetting","none","pageSet"])}}class Bt extends he.XFAObject{constructor(ht){super(re,"labelPrinter",!0),this.name=(0,de.getStringOption)(ht.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class St extends he.OptionObject{constructor(ht){super(re,"layout",["paginate","panel"])}}class Ft extends he.IntegerObject{constructor(ht){super(re,"level",0,Xt=>Xt>0)}}class Ct extends he.Option01{constructor(ht){super(re,"linearized")}}class yt extends he.StringObject{constructor(ht){super(re,"locale")}}class bt extends he.StringObject{constructor(ht){super(re,"localeSet")}}class Pt extends he.XFAObject{constructor(ht){super(re,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Ut extends he.XFAObject{constructor(ht){super(re,"map",!0),this.equate=new he.XFAObjectArray,this.equateRange=new he.XFAObjectArray}}class Yt extends he.XFAObject{constructor(ht){super(re,"mediumInfo",!0),this.map=null}}class kt extends he.XFAObject{constructor(ht){super(re,"message",!0),this.msgId=null,this.severity=null}}class Ot extends he.XFAObject{constructor(ht){super(re,"messaging",!0),this.message=new he.XFAObjectArray}}class Et extends he.OptionObject{constructor(ht){super(re,"mode",["append","overwrite"])}}class nn extends he.Option01{constructor(ht){super(re,"modifyAnnots")}}class en extends he.IntegerObject{constructor(ht){super(re,"msgId",1,Xt=>Xt>=1)}}class an extends he.StringObject{constructor(ht){super(re,"nameAttr")}}class Sn extends he.ContentObject{constructor(ht){super(re,"neverEmbed")}}class sn extends he.IntegerObject{constructor(ht){super(re,"numberOfCopies",null,Xt=>Xt>=2&&Xt<=5)}}class yn extends he.XFAObject{constructor(ht){super(re,"openAction",!0),this.destination=null}}class On extends he.XFAObject{constructor(ht){super(re,"output",!0),this.to=null,this.type=null,this.uri=null}}class tn extends he.StringObject{constructor(ht){super(re,"outputBin")}}class Dn extends he.XFAObject{constructor(ht){super(re,"outputXSL",!0),this.uri=null}}class xn extends he.OptionObject{constructor(ht){super(re,"overprint",["none","both","draw","field"])}}class Hn extends he.StringObject{constructor(ht){super(re,"packets")}[he.$finalize](){this[he.$content]!=="*"&&(this[he.$content]=this[he.$content].trim().split(/\s+/).filter(ht=>["config","datasets","template","xfdf","xslt"].includes(ht)))}}class In extends he.XFAObject{constructor(ht){super(re,"pageOffset"),this.x=(0,de.getInteger)({data:ht.x,defaultValue:"useXDCSetting",validate:Xt=>!0}),this.y=(0,de.getInteger)({data:ht.y,defaultValue:"useXDCSetting",validate:Xt=>!0})}}class _n extends he.StringObject{constructor(ht){super(re,"pageRange")}[he.$finalize](){const ht=this[he.$content].trim().split(/\s+/).map(Qt=>parseInt(Qt,10)),Xt=[];for(let Qt=0,mn=ht.length;Qt<mn;Qt+=2)Xt.push(ht.slice(Qt,Qt+2));this[he.$content]=Xt}}class wn extends he.OptionObject{constructor(ht){super(re,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class ei extends he.OptionObject{constructor(ht){super(re,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class ni extends he.IntegerObject{constructor(ht){super(re,"part",1,Xt=>!1)}}class on extends he.XFAObject{constructor(ht){super(re,"pcl",!0),this.name=ht.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Kt extends he.XFAObject{constructor(ht){super(re,"pdf",!0),this.name=ht.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class un extends he.XFAObject{constructor(ht){super(re,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class fn extends he.XFAObject{constructor(ht){super(re,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class vn extends he.Option01{constructor(ht){super(re,"pickTrayByPDFSize")}}class At extends he.StringObject{constructor(ht){super(re,"picture")}}class Dt extends he.Option01{constructor(ht){super(re,"plaintextMetadata")}}class Nt extends he.OptionObject{constructor(ht){super(re,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class zt extends he.XFAObject{constructor(ht){super(re,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new he.XFAObjectArray,this.labelPrinter=new he.XFAObjectArray,this.pcl=new he.XFAObjectArray,this.pdf=new he.XFAObjectArray,this.ps=new he.XFAObjectArray,this.submitUrl=new he.XFAObjectArray,this.webClient=new he.XFAObjectArray,this.zpl=new he.XFAObjectArray}}class Ht extends he.Option01{constructor(ht){super(re,"print")}}class rn extends he.Option01{constructor(ht){super(re,"printHighQuality")}}class dn extends he.OptionObject{constructor(ht){super(re,"printScaling",["appdefault","noScaling"])}}class cn extends he.StringObject{constructor(ht){super(re,"printerName")}}class Rt extends he.StringObject{constructor(ht){super(re,"producer")}}class Vt extends he.XFAObject{constructor(ht){super(re,"ps",!0),this.name=ht.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Wt extends he.ContentObject{constructor(ht){super(re,"range")}[he.$finalize](){this[he.$content]=this[he.$content].trim().split(/\s*,\s*/,2).map(ht=>ht.split("-").map(Xt=>parseInt(Xt.trim(),10))).filter(ht=>ht.every(Xt=>!isNaN(Xt))).map(ht=>(ht.length===1&&ht.push(ht[0]),ht))}}class Gt extends he.ContentObject{constructor(ht){super(re,"record")}[he.$finalize](){this[he.$content]=this[he.$content].trim();const ht=parseInt(this[he.$content],10);!isNaN(ht)&&ht>=0&&(this[he.$content]=ht)}}class pn extends he.ContentObject{constructor(ht){super(re,"relevant")}[he.$finalize](){this[he.$content]=this[he.$content].trim().split(/\s+/)}}class An extends he.ContentObject{constructor(ht){super(re,"rename")}[he.$finalize](){this[he.$content]=this[he.$content].trim(),(this[he.$content].toLowerCase().startsWith("xml")||this[he.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,pe.warn)("XFA - Rename: invalid XFA name")}}class zn extends he.OptionObject{constructor(ht){super(re,"renderPolicy",["server","client"])}}class Tn extends he.OptionObject{constructor(ht){super(re,"runScripts",["both","client","none","server"])}}class En extends he.XFAObject{constructor(ht){super(re,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class Rn extends he.OptionObject{constructor(ht){super(re,"scriptModel",["XFA","none"])}}class Zn extends he.OptionObject{constructor(ht){super(re,"severity",["ignore","error","information","trace","warning"])}}class Yn extends he.XFAObject{constructor(ht){super(re,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class ki extends he.XFAObject{constructor(ht){super(re,"staple"),this.mode=(0,de.getStringOption)(ht.mode,["usePrinterSetting","on","off"])}}class Gi extends he.StringObject{constructor(ht){super(re,"startNode")}}class Mi extends he.IntegerObject{constructor(ht){super(re,"startPage",0,Xt=>!0)}}class ur extends he.OptionObject{constructor(ht){super(re,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class li extends he.StringObject{constructor(ht){super(re,"submitUrl")}}class Di extends he.IntegerObject{constructor(ht){super(re,"subsetBelow",100,Xt=>Xt>=0&&Xt<=100)}}class Oi extends he.Option01{constructor(ht){super(re,"suppressBanner")}}class Ti extends he.Option01{constructor(ht){super(re,"tagged")}}class wi extends he.XFAObject{constructor(ht){super(re,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class qi extends he.OptionObject{constructor(ht){super(re,"threshold",["trace","error","information","warning"])}}class Yi extends he.OptionObject{constructor(ht){super(re,"to",["null","memory","stderr","stdout","system","uri"])}}class Or extends he.XFAObject{constructor(ht){super(re,"templateCache"),this.maxEntries=(0,de.getInteger)({data:ht.maxEntries,defaultValue:5,validate:Xt=>Xt>=0})}}class Cr extends he.XFAObject{constructor(ht){super(re,"trace",!0),this.area=new he.XFAObjectArray}}class Da extends he.XFAObject{constructor(ht){super(re,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class ca extends he.OptionObject{constructor(ht){super(re,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Oa extends he.StringObject{constructor(ht){super(re,"uri")}}class Xr extends he.OptionObject{constructor(ht){super(re,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ua extends he.ContentObject{constructor(ht){super(re,"validateApprovalSignatures")}[he.$finalize](){this[he.$content]=this[he.$content].trim().split(/\s+/).filter(ht=>["docReady","postSign"].includes(ht))}}class ha extends he.OptionObject{constructor(ht){super(re,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class da extends he.OptionObject{constructor(ht){super(re,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class Ia extends he.XFAObject{constructor(ht){super(re,"VersionControl"),this.outputBelow=(0,de.getStringOption)(ht.outputBelow,["warn","error","update"]),this.sourceAbove=(0,de.getStringOption)(ht.sourceAbove,["warn","error"]),this.sourceBelow=(0,de.getStringOption)(ht.sourceBelow,["update","maintain"])}}class ka extends he.XFAObject{constructor(ht){super(re,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class fa extends he.XFAObject{constructor(ht){super(re,"webClient",!0),this.name=ht.name?ht.name.trim():"",this.fontInfo=null,this.xdc=null}}class La extends he.OptionObject{constructor(ht){super(re,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Wr extends he.ContentObject{constructor(ht){super(re,"window")}[he.$finalize](){const ht=this[he.$content].trim().split(/\s*,\s*/,2).map(Xt=>parseInt(Xt,10));if(ht.some(Xt=>isNaN(Xt))){this[he.$content]=[0,0];return}ht.length===1&&ht.push(ht[0]),this[he.$content]=ht}}class Na extends he.XFAObject{constructor(ht){super(re,"xdc",!0),this.uri=new he.XFAObjectArray,this.xsl=new he.XFAObjectArray}}class Tr extends he.XFAObject{constructor(ht){super(re,"xdp",!0),this.packets=null}}class Ba extends he.XFAObject{constructor(ht){super(re,"xsl",!0),this.debug=null,this.uri=null}}class Ir extends he.XFAObject{constructor(ht){super(re,"zpl",!0),this.name=ht.name?ht.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class qt{static[ae.$buildXFAObject](ht,Xt){if(qt.hasOwnProperty(ht))return qt[ht](Xt)}static acrobat(ht){return new Ae(ht)}static acrobat7(ht){return new ge(ht)}static ADBE_JSConsole(ht){return new Se(ht)}static ADBE_JSDebugger(ht){return new fe(ht)}static addSilentPrint(ht){return new be(ht)}static addViewerPreferences(ht){return new xe(ht)}static adjustData(ht){return new ue(ht)}static adobeExtensionLevel(ht){return new we(ht)}static agent(ht){return new Fe(ht)}static alwaysEmbed(ht){return new _e(ht)}static amd(ht){return new Ee(ht)}static area(ht){return new Ce(ht)}static attributes(ht){return new ye(ht)}static autoSave(ht){return new Re(ht)}static base(ht){return new Ye(ht)}static batchOutput(ht){return new ke(ht)}static behaviorOverride(ht){return new $e(ht)}static cache(ht){return new Be(ht)}static change(ht){return new Pe(ht)}static common(ht){return new Ue(ht)}static compress(ht){return new Te(ht)}static compressLogicalStructure(ht){return new Me(ht)}static compressObjectStream(ht){return new Ve(ht)}static compression(ht){return new He(ht)}static config(ht){return new Ie(ht)}static conformance(ht){return new Le(ht)}static contentCopy(ht){return new Oe(ht)}static copies(ht){return new Ne(ht)}static creator(ht){return new qe(ht)}static currentPage(ht){return new it(ht)}static data(ht){return new tt(ht)}static debug(ht){return new Xe(ht)}static defaultTypeface(ht){return new Ze(ht)}static destination(ht){return new ot(ht)}static documentAssembly(ht){return new Ge(ht)}static driver(ht){return new Ke(ht)}static duplexOption(ht){return new je(ht)}static dynamicRender(ht){return new nt(ht)}static embed(ht){return new Qe(ht)}static encrypt(ht){return new We(ht)}static encryption(ht){return new rt(ht)}static encryptionLevel(ht){return new et(ht)}static enforce(ht){return new ct(ht)}static equate(ht){return new at(ht)}static equateRange(ht){return new Je(ht)}static exclude(ht){return new lt(ht)}static excludeNS(ht){return new ut(ht)}static flipLabel(ht){return new ft(ht)}static fontInfo(ht){return new pt(ht)}static formFieldFilling(ht){return new mt(ht)}static groupParent(ht){return new xt(ht)}static ifEmpty(ht){return new vt(ht)}static includeXDPContent(ht){return new wt(ht)}static incrementalLoad(ht){return new _t(ht)}static incrementalMerge(ht){return new Tt(ht)}static interactive(ht){return new Lt(ht)}static jog(ht){return new jt(ht)}static labelPrinter(ht){return new Bt(ht)}static layout(ht){return new St(ht)}static level(ht){return new Ft(ht)}static linearized(ht){return new Ct(ht)}static locale(ht){return new yt(ht)}static localeSet(ht){return new bt(ht)}static log(ht){return new Pt(ht)}static map(ht){return new Ut(ht)}static mediumInfo(ht){return new Yt(ht)}static message(ht){return new kt(ht)}static messaging(ht){return new Ot(ht)}static mode(ht){return new Et(ht)}static modifyAnnots(ht){return new nn(ht)}static msgId(ht){return new en(ht)}static nameAttr(ht){return new an(ht)}static neverEmbed(ht){return new Sn(ht)}static numberOfCopies(ht){return new sn(ht)}static openAction(ht){return new yn(ht)}static output(ht){return new On(ht)}static outputBin(ht){return new tn(ht)}static outputXSL(ht){return new Dn(ht)}static overprint(ht){return new xn(ht)}static packets(ht){return new Hn(ht)}static pageOffset(ht){return new In(ht)}static pageRange(ht){return new _n(ht)}static pagination(ht){return new wn(ht)}static paginationOverride(ht){return new ei(ht)}static part(ht){return new ni(ht)}static pcl(ht){return new on(ht)}static pdf(ht){return new Kt(ht)}static pdfa(ht){return new un(ht)}static permissions(ht){return new fn(ht)}static pickTrayByPDFSize(ht){return new vn(ht)}static picture(ht){return new At(ht)}static plaintextMetadata(ht){return new Dt(ht)}static presence(ht){return new Nt(ht)}static present(ht){return new zt(ht)}static print(ht){return new Ht(ht)}static printHighQuality(ht){return new rn(ht)}static printScaling(ht){return new dn(ht)}static printerName(ht){return new cn(ht)}static producer(ht){return new Rt(ht)}static ps(ht){return new Vt(ht)}static range(ht){return new Wt(ht)}static record(ht){return new Gt(ht)}static relevant(ht){return new pn(ht)}static rename(ht){return new An(ht)}static renderPolicy(ht){return new zn(ht)}static runScripts(ht){return new Tn(ht)}static script(ht){return new En(ht)}static scriptModel(ht){return new Rn(ht)}static severity(ht){return new Zn(ht)}static silentPrint(ht){return new Yn(ht)}static staple(ht){return new ki(ht)}static startNode(ht){return new Gi(ht)}static startPage(ht){return new Mi(ht)}static submitFormat(ht){return new ur(ht)}static submitUrl(ht){return new li(ht)}static subsetBelow(ht){return new Di(ht)}static suppressBanner(ht){return new Oi(ht)}static tagged(ht){return new Ti(ht)}static template(ht){return new wi(ht)}static templateCache(ht){return new Or(ht)}static threshold(ht){return new qi(ht)}static to(ht){return new Yi(ht)}static trace(ht){return new Cr(ht)}static transform(ht){return new Da(ht)}static type(ht){return new ca(ht)}static uri(ht){return new Oa(ht)}static validate(ht){return new Xr(ht)}static validateApprovalSignatures(ht){return new ua(ht)}static validationMessaging(ht){return new ha(ht)}static version(ht){return new da(ht)}static versionControl(ht){return new Ia(ht)}static viewerPreferences(ht){return new ka(ht)}static webClient(ht){return new fa(ht)}static whitespace(ht){return new La(ht)}static window(ht){return new Wr(ht)}static xdc(ht){return new Na(ht)}static xdp(ht){return new Tr(ht)}static xsl(ht){return new Ba(ht)}static zpl(ht){return new Ir(ht)}}oe.ConfigNamespace=qt},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.ConnectionSetNamespace=void 0;var ae=ce(79),he=ce(77);const de=ae.NamespaceIds.connectionSet.id;class pe extends he.XFAObject{constructor(ye){super(de,"connectionSet",!0),this.wsdlConnection=new he.XFAObjectArray,this.xmlConnection=new he.XFAObjectArray,this.xsdConnection=new he.XFAObjectArray}}class re extends he.XFAObject{constructor(ye){super(de,"effectiveInputPolicy"),this.id=ye.id||"",this.name=ye.name||"",this.use=ye.use||"",this.usehref=ye.usehref||""}}class Ae extends he.XFAObject{constructor(ye){super(de,"effectiveOutputPolicy"),this.id=ye.id||"",this.name=ye.name||"",this.use=ye.use||"",this.usehref=ye.usehref||""}}class ge extends he.StringObject{constructor(ye){super(de,"operation"),this.id=ye.id||"",this.input=ye.input||"",this.name=ye.name||"",this.output=ye.output||"",this.use=ye.use||"",this.usehref=ye.usehref||""}}class Se extends he.StringObject{constructor(ye){super(de,"rootElement"),this.id=ye.id||"",this.name=ye.name||"",this.use=ye.use||"",this.usehref=ye.usehref||""}}class fe extends he.StringObject{constructor(ye){super(de,"soapAction"),this.id=ye.id||"",this.name=ye.name||"",this.use=ye.use||"",this.usehref=ye.usehref||""}}class be extends he.StringObject{constructor(ye){super(de,"soapAddress"),this.id=ye.id||"",this.name=ye.name||"",this.use=ye.use||"",this.usehref=ye.usehref||""}}class xe extends he.StringObject{constructor(ye){super(de,"uri"),this.id=ye.id||"",this.name=ye.name||"",this.use=ye.use||"",this.usehref=ye.usehref||""}}class ue extends he.StringObject{constructor(ye){super(de,"wsdlAddress"),this.id=ye.id||"",this.name=ye.name||"",this.use=ye.use||"",this.usehref=ye.usehref||""}}class we extends he.XFAObject{constructor(ye){super(de,"wsdlConnection",!0),this.dataDescription=ye.dataDescription||"",this.name=ye.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class Fe extends he.XFAObject{constructor(ye){super(de,"xmlConnection",!0),this.dataDescription=ye.dataDescription||"",this.name=ye.name||"",this.uri=null}}class _e extends he.XFAObject{constructor(ye){super(de,"xsdConnection",!0),this.dataDescription=ye.dataDescription||"",this.name=ye.name||"",this.rootElement=null,this.uri=null}}class Ee{static[ae.$buildXFAObject](ye,Re){if(Ee.hasOwnProperty(ye))return Ee[ye](Re)}static connectionSet(ye){return new pe(ye)}static effectiveInputPolicy(ye){return new re(ye)}static effectiveOutputPolicy(ye){return new Ae(ye)}static operation(ye){return new ge(ye)}static rootElement(ye){return new Se(ye)}static soapAction(ye){return new fe(ye)}static soapAddress(ye){return new be(ye)}static uri(ye){return new xe(ye)}static wsdlAddress(ye){return new ue(ye)}static wsdlConnection(ye){return new we(ye)}static xmlConnection(ye){return new Fe(ye)}static xsdConnection(ye){return new _e(ye)}}oe.ConnectionSetNamespace=Ee},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.DatasetsNamespace=void 0;var ae=ce(77),he=ce(79);const de=he.NamespaceIds.datasets.id;class pe extends ae.XmlObject{constructor(Se){super(de,"data",Se)}[ae.$isNsAgnostic](){return!0}}class re extends ae.XFAObject{constructor(Se){super(de,"datasets",!0),this.data=null,this.Signature=null}[ae.$onChild](Se){const fe=Se[ae.$nodeName];(fe==="data"&&Se[ae.$namespaceId]===de||fe==="Signature"&&Se[ae.$namespaceId]===he.NamespaceIds.signature.id)&&(this[fe]=Se),this[ae.$appendChild](Se)}}class Ae{static[he.$buildXFAObject](Se,fe){if(Ae.hasOwnProperty(Se))return Ae[Se](fe)}static datasets(Se){return new re(Se)}static data(Se){return new pe(Se)}}oe.DatasetsNamespace=Ae},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.LocaleSetNamespace=void 0;var ae=ce(79),he=ce(77),de=ce(78);const pe=ae.NamespaceIds.localeSet.id;class re extends he.XFAObject{constructor(Le){super(pe,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new he.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new he.XFAObjectArray(2)}}class Ae extends he.StringObject{constructor(Le){super(pe,"currencySymbol"),this.name=(0,de.getStringOption)(Le.name,["symbol","isoname","decimal"])}}class ge extends he.XFAObject{constructor(Le){super(pe,"currencySymbols",!0),this.currencySymbol=new he.XFAObjectArray(3)}}class Se extends he.StringObject{constructor(Le){super(pe,"datePattern"),this.name=(0,de.getStringOption)(Le.name,["full","long","med","short"])}}class fe extends he.XFAObject{constructor(Le){super(pe,"datePatterns",!0),this.datePattern=new he.XFAObjectArray(4)}}class be extends he.ContentObject{constructor(Le){super(pe,"dateTimeSymbols")}}class xe extends he.StringObject{constructor(Le){super(pe,"day")}}class ue extends he.XFAObject{constructor(Le){super(pe,"dayNames",!0),this.abbr=(0,de.getInteger)({data:Le.abbr,defaultValue:0,validate:Oe=>Oe===1}),this.day=new he.XFAObjectArray(7)}}class we extends he.StringObject{constructor(Le){super(pe,"era")}}class Fe extends he.XFAObject{constructor(Le){super(pe,"eraNames",!0),this.era=new he.XFAObjectArray(2)}}class _e extends he.XFAObject{constructor(Le){super(pe,"locale",!0),this.desc=Le.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class Ee extends he.XFAObject{constructor(Le){super(pe,"localeSet",!0),this.locale=new he.XFAObjectArray}}class Ce extends he.StringObject{constructor(Le){super(pe,"meridiem")}}class ye extends he.XFAObject{constructor(Le){super(pe,"meridiemNames",!0),this.meridiem=new he.XFAObjectArray(2)}}class Re extends he.StringObject{constructor(Le){super(pe,"month")}}class Ye extends he.XFAObject{constructor(Le){super(pe,"monthNames",!0),this.abbr=(0,de.getInteger)({data:Le.abbr,defaultValue:0,validate:Oe=>Oe===1}),this.month=new he.XFAObjectArray(12)}}class ke extends he.StringObject{constructor(Le){super(pe,"numberPattern"),this.name=(0,de.getStringOption)(Le.name,["full","long","med","short"])}}class $e extends he.XFAObject{constructor(Le){super(pe,"numberPatterns",!0),this.numberPattern=new he.XFAObjectArray(4)}}class Be extends he.StringObject{constructor(Le){super(pe,"numberSymbol"),this.name=(0,de.getStringOption)(Le.name,["decimal","grouping","percent","minus","zero"])}}class Pe extends he.XFAObject{constructor(Le){super(pe,"numberSymbols",!0),this.numberSymbol=new he.XFAObjectArray(5)}}class Ue extends he.StringObject{constructor(Le){super(pe,"timePattern"),this.name=(0,de.getStringOption)(Le.name,["full","long","med","short"])}}class Te extends he.XFAObject{constructor(Le){super(pe,"timePatterns",!0),this.timePattern=new he.XFAObjectArray(4)}}class Me extends he.XFAObject{constructor(Le){super(pe,"typeFace",!0),this.name=Le.name|""}}class Ve extends he.XFAObject{constructor(Le){super(pe,"typeFaces",!0),this.typeFace=new he.XFAObjectArray}}class He{static[ae.$buildXFAObject](Le,Oe){if(He.hasOwnProperty(Le))return He[Le](Oe)}static calendarSymbols(Le){return new re(Le)}static currencySymbol(Le){return new Ae(Le)}static currencySymbols(Le){return new ge(Le)}static datePattern(Le){return new Se(Le)}static datePatterns(Le){return new fe(Le)}static dateTimeSymbols(Le){return new be(Le)}static day(Le){return new xe(Le)}static dayNames(Le){return new ue(Le)}static era(Le){return new we(Le)}static eraNames(Le){return new Fe(Le)}static locale(Le){return new _e(Le)}static localeSet(Le){return new Ee(Le)}static meridiem(Le){return new Ce(Le)}static meridiemNames(Le){return new ye(Le)}static month(Le){return new Re(Le)}static monthNames(Le){return new Ye(Le)}static numberPattern(Le){return new ke(Le)}static numberPatterns(Le){return new $e(Le)}static numberSymbol(Le){return new Be(Le)}static numberSymbols(Le){return new Pe(Le)}static timePattern(Le){return new Ue(Le)}static timePatterns(Le){return new Te(Le)}static typeFace(Le){return new Me(Le)}static typeFaces(Le){return new Ve(Le)}}oe.LocaleSetNamespace=He},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.SignatureNamespace=void 0;var ae=ce(79),he=ce(77);const de=ae.NamespaceIds.signature.id;class pe extends he.XFAObject{constructor(ge){super(de,"signature",!0)}}class re{static[ae.$buildXFAObject](ge,Se){if(re.hasOwnProperty(ge))return re[ge](Se)}static signature(ge){return new pe(ge)}}oe.SignatureNamespace=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.StylesheetNamespace=void 0;var ae=ce(79),he=ce(77);const de=ae.NamespaceIds.stylesheet.id;class pe extends he.XFAObject{constructor(ge){super(de,"stylesheet",!0)}}class re{static[ae.$buildXFAObject](ge,Se){if(re.hasOwnProperty(ge))return re[ge](Se)}static stylesheet(ge){return new pe(ge)}}oe.StylesheetNamespace=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.XdpNamespace=void 0;var ae=ce(79),he=ce(77);const de=ae.NamespaceIds.xdp.id;class pe extends he.XFAObject{constructor(ge){super(de,"xdp",!0),this.uuid=ge.uuid||"",this.timeStamp=ge.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new he.XFAObjectArray,this.template=null}[he.$onChildCheck](ge){const Se=ae.NamespaceIds[ge[he.$nodeName]];return Se&&ge[he.$namespaceId]===Se.id}}class re{static[ae.$buildXFAObject](ge,Se){if(re.hasOwnProperty(ge))return re[ge](Se)}static xdp(ge){return new pe(ge)}}oe.XdpNamespace=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.XhtmlNamespace=void 0;var ae=ce(77),he=ce(79),de=ce(84),pe=ce(78);const re=he.NamespaceIds.xhtml.id,Ae=Symbol(),ge=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),Se=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",Ie=>Ie==="none"?"none":"normal"],["xfa-font-horizontal-scale",Ie=>`scaleX(${Math.max(0,Math.min(parseInt(Ie)/100)).toFixed(2)})`],["xfa-font-vertical-scale",Ie=>`scaleY(${Math.max(0,Math.min(parseInt(Ie)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(Ie,Le)=>(Ie=Le.fontSize=(0,pe.getMeasurement)(Ie),(0,de.measureToString)(.99*Ie))],["letter-spacing",Ie=>(0,de.measureToString)((0,pe.getMeasurement)(Ie))],["line-height",Ie=>(0,de.measureToString)((0,pe.getMeasurement)(Ie))],["margin",Ie=>(0,de.measureToString)((0,pe.getMeasurement)(Ie))],["margin-bottom",Ie=>(0,de.measureToString)((0,pe.getMeasurement)(Ie))],["margin-left",Ie=>(0,de.measureToString)((0,pe.getMeasurement)(Ie))],["margin-right",Ie=>(0,de.measureToString)((0,pe.getMeasurement)(Ie))],["margin-top",Ie=>(0,de.measureToString)((0,pe.getMeasurement)(Ie))],["text-indent",Ie=>(0,de.measureToString)((0,pe.getMeasurement)(Ie))],["font-family",Ie=>Ie],["vertical-align",Ie=>(0,de.measureToString)((0,pe.getMeasurement)(Ie))]]),fe=/\s+/g,be=/[\r\n]+/g,xe=/\r\n?/g;function ue(Ie,Le,Oe){const Ne=Object.create(null);if(!Ie)return Ne;const qe=Object.create(null);for(const[it,tt]of Ie.split(";").map(Xe=>Xe.split(":",2))){const Xe=Se.get(it);if(Xe==="")continue;let Ze=tt;Xe&&(typeof Xe=="string"?Ze=Xe:Ze=Xe(tt,qe)),it.endsWith("scale")?Ne.transform?Ne.transform=`${Ne[it]} ${Ze}`:Ne.transform=Ze:Ne[it.replaceAll(/-([a-zA-Z])/g,(ot,Ge)=>Ge.toUpperCase())]=Ze}if(Ne.fontFamily&&(0,de.setFontFamily)({typeface:Ne.fontFamily,weight:Ne.fontWeight||"normal",posture:Ne.fontStyle||"normal",size:qe.fontSize||0},Le,Le[ae.$globalData].fontFinder,Ne),Oe&&Ne.verticalAlign&&Ne.verticalAlign!=="0px"&&Ne.fontSize){const Xe=(0,pe.getMeasurement)(Ne.fontSize);Ne.fontSize=(0,de.measureToString)(Xe*.583),Ne.verticalAlign=(0,de.measureToString)(Math.sign((0,pe.getMeasurement)(Ne.verticalAlign))*Xe*.333)}return Oe&&Ne.fontSize&&(Ne.fontSize=`calc(${Ne.fontSize} * var(--scale-factor))`),(0,de.fixTextIndent)(Ne),Ne}function we(Ie){return Ie.style?Ie.style.trim().split(/\s*;\s*/).filter(Le=>!!Le).map(Le=>Le.split(/\s*:\s*/,2)).filter(([Le,Oe])=>(Le==="font-family"&&Ie[ae.$globalData].usedTypefaces.add(Oe),ge.has(Le))).map(Le=>Le.join(":")).join(";"):""}const Fe=new Set(["body","html"]);class _e extends ae.XmlObject{constructor(Le,Oe){super(re,Oe),this[Ae]=!1,this.style=Le.style||""}[ae.$clean](Le){super[ae.$clean](Le),this.style=we(this)}[ae.$acceptWhitespace](){return!Fe.has(this[ae.$nodeName])}[ae.$onText](Le,Oe=!1){Oe?this[Ae]=!0:(Le=Le.replace(be,""),this.style.includes("xfa-spacerun:yes")||(Le=Le.replace(fe," "))),Le&&(this[ae.$content]+=Le)}[ae.$pushGlyphs](Le,Oe=!0){const Ne=Object.create(null),qe={top:NaN,bottom:NaN,left:NaN,right:NaN};let it=null;for(const[tt,Xe]of this.style.split(";").map(Ze=>Ze.split(":",2)))switch(tt){case"font-family":Ne.typeface=(0,pe.stripQuotes)(Xe);break;case"font-size":Ne.size=(0,pe.getMeasurement)(Xe);break;case"font-weight":Ne.weight=Xe;break;case"font-style":Ne.posture=Xe;break;case"letter-spacing":Ne.letterSpacing=(0,pe.getMeasurement)(Xe);break;case"margin":const Ze=Xe.split(/ \t/).map(ot=>(0,pe.getMeasurement)(ot));switch(Ze.length){case 1:qe.top=qe.bottom=qe.left=qe.right=Ze[0];break;case 2:qe.top=qe.bottom=Ze[0],qe.left=qe.right=Ze[1];break;case 3:qe.top=Ze[0],qe.bottom=Ze[2],qe.left=qe.right=Ze[1];break;case 4:qe.top=Ze[0],qe.left=Ze[1],qe.bottom=Ze[2],qe.right=Ze[3];break}break;case"margin-top":qe.top=(0,pe.getMeasurement)(Xe);break;case"margin-bottom":qe.bottom=(0,pe.getMeasurement)(Xe);break;case"margin-left":qe.left=(0,pe.getMeasurement)(Xe);break;case"margin-right":qe.right=(0,pe.getMeasurement)(Xe);break;case"line-height":it=(0,pe.getMeasurement)(Xe);break}if(Le.pushData(Ne,qe,it),this[ae.$content])Le.addString(this[ae.$content]);else for(const tt of this[ae.$getChildren]()){if(tt[ae.$nodeName]==="#text"){Le.addString(tt[ae.$content]);continue}tt[ae.$pushGlyphs](Le)}Oe&&Le.popFont()}[ae.$toHTML](Le){const Oe=[];if(this[ae.$extra]={children:Oe},this[ae.$childrenToHTML]({}),Oe.length===0&&!this[ae.$content])return pe.HTMLResult.EMPTY;let Ne;return this[Ae]?Ne=this[ae.$content]?this[ae.$content].replace(xe,`
`):void 0:Ne=this[ae.$content]||void 0,pe.HTMLResult.success({name:this[ae.$nodeName],attributes:{href:this.href,style:ue(this.style,this,this[Ae])},children:Oe,value:Ne})}}class Ee extends _e{constructor(Le){super(Le,"a"),this.href=(0,de.fixURL)(Le.href)||""}}class Ce extends _e{constructor(Le){super(Le,"b")}[ae.$pushGlyphs](Le){Le.pushFont({weight:"bold"}),super[ae.$pushGlyphs](Le),Le.popFont()}}class ye extends _e{constructor(Le){super(Le,"body")}[ae.$toHTML](Le){const Oe=super[ae.$toHTML](Le),{html:Ne}=Oe;return Ne?(Ne.name="div",Ne.attributes.class=["xfaRich"],Oe):pe.HTMLResult.EMPTY}}class Re extends _e{constructor(Le){super(Le,"br")}[ae.$text](){return`
`}[ae.$pushGlyphs](Le){Le.addString(`
`)}[ae.$toHTML](Le){return pe.HTMLResult.success({name:"br"})}}class Ye extends _e{constructor(Le){super(Le,"html")}[ae.$toHTML](Le){const Oe=[];if(this[ae.$extra]={children:Oe},this[ae.$childrenToHTML]({}),Oe.length===0)return pe.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[ae.$content]||""});if(Oe.length===1){const Ne=Oe[0];if(Ne.attributes&&Ne.attributes.class.includes("xfaRich"))return pe.HTMLResult.success(Ne)}return pe.HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:Oe})}}class ke extends _e{constructor(Le){super(Le,"i")}[ae.$pushGlyphs](Le){Le.pushFont({posture:"italic"}),super[ae.$pushGlyphs](Le),Le.popFont()}}class $e extends _e{constructor(Le){super(Le,"li")}}class Be extends _e{constructor(Le){super(Le,"ol")}}class Pe extends _e{constructor(Le){super(Le,"p")}[ae.$pushGlyphs](Le){super[ae.$pushGlyphs](Le,!1),Le.addString(`
`),Le.addPara(),Le.popFont()}[ae.$text](){return this[ae.$getParent]()[ae.$getChildren]().at(-1)===this?super[ae.$text]():super[ae.$text]()+`
`}}class Ue extends _e{constructor(Le){super(Le,"span")}}class Te extends _e{constructor(Le){super(Le,"sub")}}class Me extends _e{constructor(Le){super(Le,"sup")}}class Ve extends _e{constructor(Le){super(Le,"ul")}}class He{static[he.$buildXFAObject](Le,Oe){if(He.hasOwnProperty(Le))return He[Le](Oe)}static a(Le){return new Ee(Le)}static b(Le){return new Ce(Le)}static body(Le){return new ye(Le)}static br(Le){return new Re(Le)}static html(Le){return new Ye(Le)}static i(Le){return new ke(Le)}static li(Le){return new $e(Le)}static ol(Le){return new Be(Le)}static p(Le){return new Pe(Le)}static span(Le){return new Ue(Le)}static sub(Le){return new Te(Le)}static sup(Le){return new Me(Le)}static ul(Le){return new Ve(Le)}}oe.XhtmlNamespace=He},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.UnknownNamespace=void 0;var ae=ce(79),he=ce(77);class de{constructor(re){this.namespaceId=re}[ae.$buildXFAObject](re,Ae){return new he.XmlObject(this.namespaceId,re,Ae)}}oe.UnknownNamespace=de},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.DatasetReader=void 0;var ae=ce(2),he=ce(6),de=ce(66);function pe(ge){try{return(0,ae.stringToUTF8String)(ge)}catch(Se){return(0,ae.warn)(`UTF-8 decoding failed: "${Se}".`),ge}}class re extends de.SimpleXMLParser{constructor(Se){super(Se),this.node=null}onEndElement(Se){const fe=super.onEndElement(Se);if(fe&&Se==="xfa:datasets")throw this.node=fe,new Error("Aborting DatasetXMLParser.")}}class Ae{constructor(Se){if(Se.datasets)this.node=new de.SimpleXMLParser({hasAttributes:!0}).parseFromString(Se.datasets).documentElement;else{const fe=new re({hasAttributes:!0});try{fe.parseFromString(Se["xdp:xdp"])}catch{}this.node=fe.node}}getValue(Se){if(!this.node||!Se)return"";const fe=this.node.searchNode((0,he.parseXFAPath)(Se),0);if(!fe)return"";const be=fe.firstChild;return be&&be.nodeName==="value"?fe.children.map(xe=>pe(xe.textContent)):pe(fe.textContent)}}oe.DatasetReader=Ae},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.XRef=void 0;var ae=ce(2),he=ce(5),de=ce(6),pe=ce(17),re=ce(7),Ae=ce(67);class ge{constructor(fe,be){this.stream=fe,this.pdfManager=be,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this._pendingRefs=new he.RefSet,this.stats=new de.DocStats(be.msgHandler),this._newRefNum=null}getNewRef(){return this._newRefNum===null&&(this._newRefNum=this.entries.length||1),he.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(fe){this.startXRefQueue=[fe]}parse(fe=!1){let be;fe?((0,ae.warn)("Indexing all PDF objects"),be=this.indexObjects()):be=this.readXRef(),be.assignXref(this),this.trailer=be;let xe;try{xe=be.get("Encrypt")}catch(we){if(we instanceof de.MissingDataException)throw we;(0,ae.warn)(`XRef.parse - Invalid "Encrypt" reference: "${we}".`)}if(xe instanceof he.Dict){const we=be.get("ID"),Fe=we&&we.length?we[0]:"";xe.suppressEncryption=!0,this.encrypt=new Ae.CipherTransformFactory(xe,Fe,this.pdfManager.password)}let ue;try{ue=be.get("Root")}catch(we){if(we instanceof de.MissingDataException)throw we;(0,ae.warn)(`XRef.parse - Invalid "Root" reference: "${we}".`)}if(ue instanceof he.Dict)try{if(ue.get("Pages")instanceof he.Dict){this.root=ue;return}}catch(we){if(we instanceof de.MissingDataException)throw we;(0,ae.warn)(`XRef.parse - Invalid "Pages" reference: "${we}".`)}throw fe?new ae.InvalidPDFException("Invalid Root reference."):new de.XRefParseException}processXRefTable(fe){"tableState"in this||(this.tableState={entryNum:0,streamPos:fe.lexer.stream.pos,parserBuf1:fe.buf1,parserBuf2:fe.buf2});const be=this.readXRefTable(fe);if(!(0,he.isCmd)(be,"trailer"))throw new ae.FormatError("Invalid XRef table: could not find trailer dictionary");let xe=fe.getObj();if(!(xe instanceof he.Dict)&&xe.dict&&(xe=xe.dict),!(xe instanceof he.Dict))throw new ae.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,xe}readXRefTable(fe){const be=fe.lexer.stream,xe=this.tableState;be.pos=xe.streamPos,fe.buf1=xe.parserBuf1,fe.buf2=xe.parserBuf2;let ue;for(;;){if(!("firstEntryNum"in xe)||!("entryCount"in xe)){if((0,he.isCmd)(ue=fe.getObj(),"trailer"))break;xe.firstEntryNum=ue,xe.entryCount=fe.getObj()}let we=xe.firstEntryNum;const Fe=xe.entryCount;if(!Number.isInteger(we)||!Number.isInteger(Fe))throw new ae.FormatError("Invalid XRef table: wrong types in subsection header");for(let _e=xe.entryNum;_e<Fe;_e++){xe.streamPos=be.pos,xe.entryNum=_e,xe.parserBuf1=fe.buf1,xe.parserBuf2=fe.buf2;const Ee={};Ee.offset=fe.getObj(),Ee.gen=fe.getObj();const Ce=fe.getObj();if(Ce instanceof he.Cmd)switch(Ce.cmd){case"f":Ee.free=!0;break;case"n":Ee.uncompressed=!0;break}if(!Number.isInteger(Ee.offset)||!Number.isInteger(Ee.gen)||!(Ee.free||Ee.uncompressed))throw new ae.FormatError(`Invalid entry in XRef subsection: ${we}, ${Fe}`);_e===0&&Ee.free&&we===1&&(we=0),this.entries[_e+we]||(this.entries[_e+we]=Ee)}xe.entryNum=0,xe.streamPos=be.pos,xe.parserBuf1=fe.buf1,xe.parserBuf2=fe.buf2,delete xe.firstEntryNum,delete xe.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new ae.FormatError("Invalid XRef table: unexpected first object");return ue}processXRefStream(fe){if(!("streamState"in this)){const be=fe.dict,xe=be.get("W");let ue=be.get("Index");ue||(ue=[0,be.get("Size")]),this.streamState={entryRanges:ue,byteWidths:xe,entryNum:0,streamPos:fe.pos}}return this.readXRefStream(fe),delete this.streamState,fe.dict}readXRefStream(fe){const be=this.streamState;fe.pos=be.streamPos;const[xe,ue,we]=be.byteWidths,Fe=be.entryRanges;for(;Fe.length>0;){const[_e,Ee]=Fe;if(!Number.isInteger(_e)||!Number.isInteger(Ee))throw new ae.FormatError(`Invalid XRef range fields: ${_e}, ${Ee}`);if(!Number.isInteger(xe)||!Number.isInteger(ue)||!Number.isInteger(we))throw new ae.FormatError(`Invalid XRef entry fields length: ${_e}, ${Ee}`);for(let Ce=be.entryNum;Ce<Ee;++Ce){be.entryNum=Ce,be.streamPos=fe.pos;let ye=0,Re=0,Ye=0;for(let $e=0;$e<xe;++$e){const Be=fe.getByte();if(Be===-1)throw new ae.FormatError("Invalid XRef byteWidths 'type'.");ye=ye<<8|Be}xe===0&&(ye=1);for(let $e=0;$e<ue;++$e){const Be=fe.getByte();if(Be===-1)throw new ae.FormatError("Invalid XRef byteWidths 'offset'.");Re=Re<<8|Be}for(let $e=0;$e<we;++$e){const Be=fe.getByte();if(Be===-1)throw new ae.FormatError("Invalid XRef byteWidths 'generation'.");Ye=Ye<<8|Be}const ke={};switch(ke.offset=Re,ke.gen=Ye,ye){case 0:ke.free=!0;break;case 1:ke.uncompressed=!0;break;case 2:break;default:throw new ae.FormatError(`Invalid XRef entry type: ${ye}`)}this.entries[_e+Ce]||(this.entries[_e+Ce]=ke)}be.entryNum=0,be.streamPos=fe.pos,Fe.splice(0,2)}}indexObjects(){function _e(Oe,Ne){let qe="",it=Oe[Ne];for(;it!==10&&it!==13&&it!==60&&!(++Ne>=Oe.length);)qe+=String.fromCharCode(it),it=Oe[Ne];return qe}function Ee(Oe,Ne,qe){const it=qe.length,tt=Oe.length;let Xe=0;for(;Ne<tt;){let Ze=0;for(;Ze<it&&Oe[Ne+Ze]===qe[Ze];)++Ze;if(Ze>=it)break;Ne++,Xe++}return Xe}const Ce=/^(\d+)\s+(\d+)\s+obj\b/,ye=/\bendobj[\b\s]$/,Re=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,Ye=25,ke=new Uint8Array([116,114,97,105,108,101,114]),$e=new Uint8Array([115,116,97,114,116,120,114,101,102]),Be=new Uint8Array([111,98,106]),Pe=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const Ue=this.stream;Ue.pos=0;const Te=Ue.getBytes(),Me=Te.length;let Ve=Ue.start;const He=[],Ie=[];for(;Ve<Me;){let Oe=Te[Ve];if(Oe===9||Oe===10||Oe===13||Oe===32){++Ve;continue}if(Oe===37){do{if(++Ve,Ve>=Me)break;Oe=Te[Ve]}while(Oe!==10&&Oe!==13);continue}const Ne=_e(Te,Ve);let qe;if(Ne.startsWith("xref")&&(Ne.length===4||/\s/.test(Ne[4])))Ve+=Ee(Te,Ve,ke),He.push(Ve),Ve+=Ee(Te,Ve,$e);else if(qe=Ce.exec(Ne)){const it=qe[1]|0,tt=qe[2]|0;let Xe,Ze=Ve+Ne.length,ot=!1;if(!this.entries[it])ot=!0;else if(this.entries[it].gen===tt)try{new pe.Parser({lexer:new pe.Lexer(Ue.makeSubStream(Ze))}).getObj(),ot=!0}catch(je){je instanceof de.ParserEOFException?(0,ae.warn)(`indexObjects -- checking object (${Ne}): "${je}".`):ot=!0}for(ot&&(this.entries[it]={offset:Ve-Ue.start,gen:tt,uncompressed:!0});Ze<Te.length;){const je=Ze+Ee(Te,Ze,Be)+4;Xe=je-Ve;const nt=Math.max(je-Ye,Ze),Qe=(0,ae.bytesToString)(Te.subarray(nt,je));if(ye.test(Qe))break;{const We=Re.exec(Qe);if(We&&We[1]){(0,ae.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),Xe-=We[1].length;break}}Ze=je}const Ge=Te.subarray(Ve,Ve+Xe),Ke=Ee(Ge,0,Pe);Ke<Xe&&Ge[Ke+5]<64&&(Ie.push(Ve-Ue.start),this.xrefstms[Ve-Ue.start]=1),Ve+=Xe}else Ne.startsWith("trailer")&&(Ne.length===7||/\s/.test(Ne[7]))?(He.push(Ve),Ve+=Ee(Te,Ve,$e)):Ve+=Ne.length+1}for(let Oe=0,Ne=Ie.length;Oe<Ne;++Oe)this.startXRefQueue.push(Ie[Oe]),this.readXRef(!0);let Le;for(let Oe=0,Ne=He.length;Oe<Ne;++Oe){Ue.pos=He[Oe];const qe=new pe.Parser({lexer:new pe.Lexer(Ue),xref:this,allowStreams:!0,recoveryMode:!0}),it=qe.getObj();if(!(0,he.isCmd)(it,"trailer"))continue;const tt=qe.getObj();if(tt instanceof he.Dict){try{const Xe=tt.get("Root");if(!(Xe instanceof he.Dict))continue;const Ze=Xe.get("Pages");if(!(Ze instanceof he.Dict))continue;const ot=Ze.get("Count");if(!Number.isInteger(ot))continue}catch{continue}if(tt.has("ID"))return tt;Le=tt}}if(Le)return Le;if(this.topDict)return this.topDict;throw new ae.InvalidPDFException("Invalid PDF structure.")}readXRef(fe=!1){const be=this.stream,xe=new Set;try{for(;this.startXRefQueue.length;){const ue=this.startXRefQueue[0];if(xe.has(ue)){(0,ae.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}xe.add(ue),be.pos=ue+be.start;const we=new pe.Parser({lexer:new pe.Lexer(be),xref:this,allowStreams:!0});let Fe=we.getObj(),_e;if((0,he.isCmd)(Fe,"xref")){if(_e=this.processXRefTable(we),this.topDict||(this.topDict=_e),Fe=_e.get("XRefStm"),Number.isInteger(Fe)){const Ee=Fe;Ee in this.xrefstms||(this.xrefstms[Ee]=1,this.startXRefQueue.push(Ee))}}else if(Number.isInteger(Fe)){if(!Number.isInteger(we.getObj())||!(0,he.isCmd)(we.getObj(),"obj")||!((Fe=we.getObj())instanceof re.BaseStream))throw new ae.FormatError("Invalid XRef stream");if(_e=this.processXRefStream(Fe),this.topDict||(this.topDict=_e),!_e)throw new ae.FormatError("Failed to read XRef stream")}else throw new ae.FormatError("Invalid XRef stream header");Fe=_e.get("Prev"),Number.isInteger(Fe)?this.startXRefQueue.push(Fe):Fe instanceof he.Ref&&this.startXRefQueue.push(Fe.num),this.startXRefQueue.shift()}return this.topDict}catch(ue){if(ue instanceof de.MissingDataException)throw ue;(0,ae.info)("(while reading XRef): "+ue),this.startXRefQueue.shift()}if(!fe)throw new de.XRefParseException}getEntry(fe){const be=this.entries[fe];return be&&!be.free&&be.offset?be:null}fetchIfRef(fe,be=!1){return fe instanceof he.Ref?this.fetch(fe,be):fe}fetch(fe,be=!1){if(!(fe instanceof he.Ref))throw new Error("ref object is not a reference");const xe=fe.num,ue=this._cacheMap.get(xe);if(ue!==void 0)return ue instanceof he.Dict&&!ue.objId&&(ue.objId=fe.toString()),ue;let we=this.getEntry(xe);if(we===null)return this._cacheMap.set(xe,we),we;if(this._pendingRefs.has(fe))return this._pendingRefs.remove(fe),(0,ae.warn)(`Ignoring circular reference: ${fe}.`),he.CIRCULAR_REF;this._pendingRefs.put(fe);try{we.uncompressed?we=this.fetchUncompressed(fe,we,be):we=this.fetchCompressed(fe,we,be),this._pendingRefs.remove(fe)}catch(Fe){throw this._pendingRefs.remove(fe),Fe}return we instanceof he.Dict?we.objId=fe.toString():we instanceof re.BaseStream&&(we.dict.objId=fe.toString()),we}fetchUncompressed(fe,be,xe=!1){const ue=fe.gen;let we=fe.num;if(be.gen!==ue)throw new de.XRefEntryException(`Inconsistent generation in XRef: ${fe}`);const Fe=this.stream.makeSubStream(be.offset+this.stream.start),_e=new pe.Parser({lexer:new pe.Lexer(Fe),xref:this,allowStreams:!0}),Ee=_e.getObj(),Ce=_e.getObj(),ye=_e.getObj();if(Ee!==we||Ce!==ue||!(ye instanceof he.Cmd))throw new de.XRefEntryException(`Bad (uncompressed) XRef entry: ${fe}`);if(ye.cmd!=="obj"){if(ye.cmd.startsWith("obj")&&(we=parseInt(ye.cmd.substring(3),10),!Number.isNaN(we)))return we;throw new de.XRefEntryException(`Bad (uncompressed) XRef entry: ${fe}`)}return this.encrypt&&!xe?be=_e.getObj(this.encrypt.createCipherTransform(we,ue)):be=_e.getObj(),be instanceof re.BaseStream||this._cacheMap.set(we,be),be}fetchCompressed(fe,be,xe=!1){const ue=be.offset,we=this.fetch(he.Ref.get(ue,0));if(!(we instanceof re.BaseStream))throw new ae.FormatError("bad ObjStm stream");const Fe=we.dict.get("First"),_e=we.dict.get("N");if(!Number.isInteger(Fe)||!Number.isInteger(_e))throw new ae.FormatError("invalid first and n parameters for ObjStm stream");let Ee=new pe.Parser({lexer:new pe.Lexer(we),xref:this,allowStreams:!0});const Ce=new Array(_e),ye=new Array(_e);for(let ke=0;ke<_e;++ke){const $e=Ee.getObj();if(!Number.isInteger($e))throw new ae.FormatError(`invalid object number in the ObjStm stream: ${$e}`);const Be=Ee.getObj();if(!Number.isInteger(Be))throw new ae.FormatError(`invalid object offset in the ObjStm stream: ${Be}`);Ce[ke]=$e,ye[ke]=Be}const Re=(we.start||0)+Fe,Ye=new Array(_e);for(let ke=0;ke<_e;++ke){const $e=ke<_e-1?ye[ke+1]-ye[ke]:void 0;if($e<0)throw new ae.FormatError("Invalid offset in the ObjStm stream.");Ee=new pe.Parser({lexer:new pe.Lexer(we.makeSubStream(Re+ye[ke],$e,we.dict)),xref:this,allowStreams:!0});const Be=Ee.getObj();if(Ye[ke]=Be,Be instanceof re.BaseStream)continue;const Pe=Ce[ke],Ue=this.entries[Pe];Ue&&Ue.offset===ue&&Ue.gen===ke&&this._cacheMap.set(Pe,Be)}if(be=Ye[be.gen],be===void 0)throw new de.XRefEntryException(`Bad (compressed) XRef entry: ${fe}`);return be}async fetchIfRefAsync(fe,be){return fe instanceof he.Ref?this.fetchAsync(fe,be):fe}async fetchAsync(fe,be){try{return this.fetch(fe,be)}catch(xe){if(!(xe instanceof de.MissingDataException))throw xe;return await this.pdfManager.requestRange(xe.begin,xe.end),this.fetchAsync(fe,be)}}getCatalogObj(){return this.root}}oe.XRef=ge},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.MessageHandler=void 0;var ae=ce(2);const he={UNKNOWN:0,DATA:1,ERROR:2},de={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function pe(Ae){switch(Ae instanceof Error||typeof Ae=="object"&&Ae!==null||(0,ae.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Ae.name){case"AbortException":return new ae.AbortException(Ae.message);case"MissingPDFException":return new ae.MissingPDFException(Ae.message);case"PasswordException":return new ae.PasswordException(Ae.message,Ae.code);case"UnexpectedResponseException":return new ae.UnexpectedResponseException(Ae.message,Ae.status);case"UnknownErrorException":return new ae.UnknownErrorException(Ae.message,Ae.details);default:return new ae.UnknownErrorException(Ae.message,Ae.toString())}}class re{constructor(ge,Se,fe){this.sourceName=ge,this.targetName=Se,this.comObj=fe,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=be=>{const xe=be.data;if(xe.targetName!==this.sourceName)return;if(xe.stream){this._processStreamMessage(xe);return}if(xe.callback){const we=xe.callbackId,Fe=this.callbackCapabilities[we];if(!Fe)throw new Error(`Cannot resolve callback ${we}`);if(delete this.callbackCapabilities[we],xe.callback===he.DATA)Fe.resolve(xe.data);else if(xe.callback===he.ERROR)Fe.reject(pe(xe.reason));else throw new Error("Unexpected callback case");return}const ue=this.actionHandler[xe.action];if(!ue)throw new Error(`Unknown action from worker: ${xe.action}`);if(xe.callbackId){const we=this.sourceName,Fe=xe.sourceName;new Promise(function(_e){_e(ue(xe.data))}).then(function(_e){fe.postMessage({sourceName:we,targetName:Fe,callback:he.DATA,callbackId:xe.callbackId,data:_e})},function(_e){fe.postMessage({sourceName:we,targetName:Fe,callback:he.ERROR,callbackId:xe.callbackId,reason:pe(_e)})});return}if(xe.streamId){this._createStreamSink(xe);return}ue(xe.data)},fe.addEventListener("message",this._onComObjOnMessage)}on(ge,Se){const fe=this.actionHandler;if(fe[ge])throw new Error(`There is already an actionName called "${ge}"`);fe[ge]=Se}send(ge,Se,fe){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ge,data:Se},fe)}sendWithPromise(ge,Se,fe){const be=this.callbackId++,xe=(0,ae.createPromiseCapability)();this.callbackCapabilities[be]=xe;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ge,callbackId:be,data:Se},fe)}catch(ue){xe.reject(ue)}return xe.promise}sendWithStream(ge,Se,fe,be){const xe=this.streamId++,ue=this.sourceName,we=this.targetName,Fe=this.comObj;return new ReadableStream({start:_e=>{const Ee=(0,ae.createPromiseCapability)();return this.streamControllers[xe]={controller:_e,startCall:Ee,pullCall:null,cancelCall:null,isClosed:!1},Fe.postMessage({sourceName:ue,targetName:we,action:ge,streamId:xe,data:Se,desiredSize:_e.desiredSize},be),Ee.promise},pull:_e=>{const Ee=(0,ae.createPromiseCapability)();return this.streamControllers[xe].pullCall=Ee,Fe.postMessage({sourceName:ue,targetName:we,stream:de.PULL,streamId:xe,desiredSize:_e.desiredSize}),Ee.promise},cancel:_e=>{(0,ae.assert)(_e instanceof Error,"cancel must have a valid reason");const Ee=(0,ae.createPromiseCapability)();return this.streamControllers[xe].cancelCall=Ee,this.streamControllers[xe].isClosed=!0,Fe.postMessage({sourceName:ue,targetName:we,stream:de.CANCEL,streamId:xe,reason:pe(_e)}),Ee.promise}},fe)}_createStreamSink(ge){const Se=ge.streamId,fe=this.sourceName,be=ge.sourceName,xe=this.comObj,ue=this,we=this.actionHandler[ge.action],Fe={enqueue(_e,Ee=1,Ce){if(this.isCancelled)return;const ye=this.desiredSize;this.desiredSize-=Ee,ye>0&&this.desiredSize<=0&&(this.sinkCapability=(0,ae.createPromiseCapability)(),this.ready=this.sinkCapability.promise),xe.postMessage({sourceName:fe,targetName:be,stream:de.ENQUEUE,streamId:Se,chunk:_e},Ce)},close(){this.isCancelled||(this.isCancelled=!0,xe.postMessage({sourceName:fe,targetName:be,stream:de.CLOSE,streamId:Se}),delete ue.streamSinks[Se])},error(_e){(0,ae.assert)(_e instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,xe.postMessage({sourceName:fe,targetName:be,stream:de.ERROR,streamId:Se,reason:pe(_e)}))},sinkCapability:(0,ae.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ge.desiredSize,ready:null};Fe.sinkCapability.resolve(),Fe.ready=Fe.sinkCapability.promise,this.streamSinks[Se]=Fe,new Promise(function(_e){_e(we(ge.data,Fe))}).then(function(){xe.postMessage({sourceName:fe,targetName:be,stream:de.START_COMPLETE,streamId:Se,success:!0})},function(_e){xe.postMessage({sourceName:fe,targetName:be,stream:de.START_COMPLETE,streamId:Se,reason:pe(_e)})})}_processStreamMessage(ge){const Se=ge.streamId,fe=this.sourceName,be=ge.sourceName,xe=this.comObj,ue=this.streamControllers[Se],we=this.streamSinks[Se];switch(ge.stream){case de.START_COMPLETE:ge.success?ue.startCall.resolve():ue.startCall.reject(pe(ge.reason));break;case de.PULL_COMPLETE:ge.success?ue.pullCall.resolve():ue.pullCall.reject(pe(ge.reason));break;case de.PULL:if(!we){xe.postMessage({sourceName:fe,targetName:be,stream:de.PULL_COMPLETE,streamId:Se,success:!0});break}we.desiredSize<=0&&ge.desiredSize>0&&we.sinkCapability.resolve(),we.desiredSize=ge.desiredSize,new Promise(function(Fe){Fe(we.onPull&&we.onPull())}).then(function(){xe.postMessage({sourceName:fe,targetName:be,stream:de.PULL_COMPLETE,streamId:Se,success:!0})},function(Fe){xe.postMessage({sourceName:fe,targetName:be,stream:de.PULL_COMPLETE,streamId:Se,reason:pe(Fe)})});break;case de.ENQUEUE:if((0,ae.assert)(ue,"enqueue should have stream controller"),ue.isClosed)break;ue.controller.enqueue(ge.chunk);break;case de.CLOSE:if((0,ae.assert)(ue,"close should have stream controller"),ue.isClosed)break;ue.isClosed=!0,ue.controller.close(),this._deleteStreamController(ue,Se);break;case de.ERROR:(0,ae.assert)(ue,"error should have stream controller"),ue.controller.error(pe(ge.reason)),this._deleteStreamController(ue,Se);break;case de.CANCEL_COMPLETE:ge.success?ue.cancelCall.resolve():ue.cancelCall.reject(pe(ge.reason)),this._deleteStreamController(ue,Se);break;case de.CANCEL:if(!we)break;new Promise(function(Fe){Fe(we.onCancel&&we.onCancel(pe(ge.reason)))}).then(function(){xe.postMessage({sourceName:fe,targetName:be,stream:de.CANCEL_COMPLETE,streamId:Se,success:!0})},function(Fe){xe.postMessage({sourceName:fe,targetName:be,stream:de.CANCEL_COMPLETE,streamId:Se,reason:pe(Fe)})}),we.sinkCapability.reject(pe(ge.reason)),we.isCancelled=!0,delete this.streamSinks[Se];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(ge,Se){await Promise.allSettled([ge.startCall&&ge.startCall.promise,ge.pullCall&&ge.pullCall.promise,ge.cancelCall&&ge.cancelCall.promise]),delete this.streamControllers[Se]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}oe.MessageHandler=re},(le,oe,ce)=>{Object.defineProperty(oe,"__esModule",{value:!0}),oe.PDFWorkerStream=void 0;var ae=ce(2);class he{constructor(Ae){this._msgHandler=Ae,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,ae.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new de(this._msgHandler),this._fullRequestReader}getRangeReader(Ae,ge){const Se=new pe(Ae,ge,this._msgHandler);return this._rangeRequestReaders.push(Se),Se}cancelAllRequests(Ae){this._fullRequestReader&&this._fullRequestReader.cancel(Ae);for(const ge of this._rangeRequestReaders.slice(0))ge.cancel(Ae)}}oe.PDFWorkerStream=he;class de{constructor(Ae){this._msgHandler=Ae,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const ge=this._msgHandler.sendWithStream("GetReader");this._reader=ge.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(Se=>{this._isStreamingSupported=Se.isStreamingSupported,this._isRangeSupported=Se.isRangeSupported,this._contentLength=Se.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:Ae,done:ge}=await this._reader.read();return ge?{value:void 0,done:!0}:{value:Ae.buffer,done:!1}}cancel(Ae){this._reader.cancel(Ae)}}class pe{constructor(Ae,ge,Se){this._msgHandler=Se,this.onProgress=null;const fe=this._msgHandler.sendWithStream("GetRangeReader",{begin:Ae,end:ge});this._reader=fe.getReader()}get isStreamingSupported(){return!1}async read(){const{value:Ae,done:ge}=await this._reader.read();return ge?{value:void 0,done:!0}:{value:Ae.buffer,done:!1}}cancel(Ae){this._reader.cancel(Ae)}}}],ne={};function ie(le){var oe=ne[le];if(oe!==void 0)return oe.exports;var ce=ne[le]={exports:{}};return te[le](ce,ce.exports,ie),ce.exports}ie.d=(le,oe)=>{for(var ce in oe)ie.o(oe,ce)&&!ie.o(le,ce)&&Object.defineProperty(le,ce,{enumerable:!0,get:oe[ce]})},ie.o=(le,oe)=>Object.prototype.hasOwnProperty.call(le,oe),ie.r=le=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(le,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(le,"__esModule",{value:!0})};var se={};return(()=>{var le=se;Object.defineProperty(le,"__esModule",{value:!0}),Object.defineProperty(le,"WorkerMessageHandler",{enumerable:!0,get:function(){return oe.WorkerMessageHandler}});var oe=ie(1)})(),se})())})(pdf_worker);var pdf_workerExports=pdf_worker.exports;(typeof window<"u"?window:{}).pdfjsWorker=pdf_workerExports;var defineProperty={exports:{}};(function(ee){var $=toPropertyKeyExports;function te(ne,ie,se){return(ie=$(ie))in ne?Object.defineProperty(ne,ie,{value:se,enumerable:!0,configurable:!0,writable:!0}):ne[ie]=se,ne}ee.exports=te,ee.exports.__esModule=!0,ee.exports.default=ee.exports})(defineProperty);var definePropertyExports=defineProperty.exports,e=_typeofExports,t=classCallCheckExports,a=createClassExports,n=assertThisInitializedExports,l=inheritsExports,s=possibleConstructorReturnExports,r=getPrototypeOfExports,i=reactExports,o=propTypesExports,u=regenerator,c=asyncToGeneratorExports,d=slicedToArrayExports,f=pdfExports,m=pdf_worker_entry,h=definePropertyExports;function p(ee){return ee&&typeof ee=="object"&&"default"in ee?ee:{default:ee}}var g=p(e),b=p(t),v=p(a),R=p(n),y=p(l),E=p(s),x=p(r),k=p(i),w=p(o),C=p(u),N=p(c),S=p(d),P=p(f),q=p(m),Z=p(h),A=function(ee){var $=ee.message;return k.default.createElement("div",{className:"columns has-text-danger has-margin-top-5 is-mobile"},k.default.createElement("div",{className:"column is-4 has-text-right has-padding-5"},k.default.createElement("span",{className:"icon"},k.default.createElement("i",{className:"material-icons"},"error_outline"))),k.default.createElement("div",{className:"column is-8 has-text-left has-padding-5"},k.default.createElement("small",null,$)))};function O(ee){var $=i.useRef();return i.useEffect(function(){$.current=ee}),$.current}A.propTypes={message:w.default.string.isRequired},P.default.GlobalWorkerOptions.workerSrc=q.default;var T=function(ee){var $=ee.document,te=ee.withCredentials,ne=ee.password,ie=ee.pageNum,se=ee.scale,le=ee.rotation,oe=ee.pageCount,ce=ee.changePage,ae=ee.showThumbnail,he=ee.protectContent,de=ee.watermark,pe=ee.alert,re=ee.canvasCss,Ae=i.useState(null),ge=S.default(Ae,2),Se=ge[0],fe=ge[1],be=i.useState(null),xe=S.default(be,2),ue=xe[0],we=xe[1],Fe=i.useState(null),_e=S.default(Fe,2),Ee=_e[0],Ce=_e[1],ye=i.useState({status:!1,message:""}),Re=S.default(ye,2),Ye=Re[0],ke=Re[1],$e=i.useRef(null),Be=i.useRef(null),Pe=i.useRef(null),Ue=i.useState([]),Te=S.default(Ue,2),Me=Te[0],Ve=Te[1],He=O($),Ie=O(ne),Le=pe||A,Oe=function(){var Xe=N.default(C.default.mark(function Ze(){var ot,Ge,Ke;return C.default.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(ot=null,Ge=null,je.prev=2,JSON.stringify(He)===JSON.stringify($)&&Ie.base64===ne.url){je.next=16;break}return Ke={withCredentials:te,password:ne},$.url==null?Ke.data=atob($.base64):Ke.url=$.url,je.next=8,P.default.getDocument(Ke).promise;case 8:return ot=je.sent,je.next=11,qe(ot);case 11:Ge=je.sent,oe(ot.numPages),it(Ge),fe(ot),we(Ge);case 16:return je.next=18,Ne(ot);case 18:je.next=25;break;case 20:je.prev=20,je.t0=je.catch(2),console.warn(`Error while opening the document !
`,je.t0),oe(-1),ke({status:!0,message:"Error while opening the document !"});case 25:case"end":return je.stop()}},Ze,null,[[2,20]])}));return function(){return Xe.apply(this,arguments)}}(),Ne=function(){var Xe=N.default(C.default.mark(function Ze(){var ot,Ge,Ke,je,nt,Qe,We,rt,et,ct,at,Je,lt,ut,ft,pt,mt=arguments;return C.default.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:return(ot=mt.length>0&&mt[0]!==void 0?mt[0]:null)==null&&(ot=Se),xt.prev=2,xt.next=5,ot.getPage(ie);case 5:return Ge=xt.sent,Ke=Ge.getViewport({scale:se,rotation:le}),(je=$e.current).height=Ke.height,je.width=Ke.width,(nt=je.getContext("2d")).clearRect(0,0,je.width,je.height),nt.beginPath(),Qe={canvasContext:nt,viewport:Ke},We=Ge.render(Qe),Ee!=null&&Ee._internalRenderTask.cancel(),xt.prev=16,xt.next=19,We.promise;case 19:Object.entries(de).length!==0&&(rt=de.text,et=de.diagonal,ct=de.opacity,at=de.font,Je=de.size,lt=de.color,nt.globalAlpha=ct,nt.font="".concat(Je*se,"px ").concat(at!==""?at:"Comic Sans MS"),nt.fillStyle=lt,ut=nt.measureText(rt),ft=ut.width,pt=Je*se,nt.translate(Ke.width/2,Ke.height/2),et&&nt.rotate(-.785),nt.fillText(rt,-ft/2,pt/2)),xt.next=27;break;case 22:xt.prev=22,xt.t0=xt.catch(16),console.warn(`Error occured while rendering !
`,xt.t0),oe(-1),ke({status:!0,message:"Error occured while rendering !"});case 27:Ce(We),xt.next=35;break;case 30:xt.prev=30,xt.t1=xt.catch(2),console.warn(`Error while reading the pages !
`,xt.t1),oe(-1),ke({status:!0,message:"Error while reading the pages !"});case 35:case"end":return xt.stop()}},Ze,null,[[2,30],[16,22]])}));return function(){return Xe.apply(this,arguments)}}(),qe=function(){var Xe=N.default(C.default.mark(function Ze(ot){var Ge,Ke,je,nt,Qe,We,rt,et,ct,at,Je,lt,ut,ft,pt,mt,xt,vt,wt;return C.default.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(Ge=[],Object.entries(ae).length===0){_t.next=27;break}Ke=.1,je=0,1<=ae.scale&&ae.scale<=5&&(Ke=ae.scale/10),ae.rotationAngle!==-90&&ae.rotationAngle!==90||(je=ae.rotationAngle),nt=1;case 7:if(!(nt<=ot.numPages)){_t.next=27;break}return _t.next=10,ot.getPage(nt);case 10:return Qe=_t.sent,We=Qe.getViewport({scale:Ke,rotation:je}),(rt=Be.current).height=We.height,rt.width=We.width,(et=rt.getContext("2d")).clearRect(0,0,rt.width,rt.height),et.beginPath(),ct={canvasContext:et,viewport:We},at=Qe.render(ct),_t.next=22,at.promise;case 22:Object.entries(de).length!==0&&(Je=de.text,lt=de.diagonal,ut=de.opacity,ft=de.font,pt=de.size,mt=de.color,et.globalAlpha=ut,et.font="".concat(pt*Ke,"px ").concat(ft!==""?ft:"Comic Sans MS"),et.fillStyle=mt,xt=et.measureText(Je),vt=xt.width,wt=pt*Ke,et.translate(We.width/2,We.height/2),lt&&et.rotate(-.785),et.fillText(Je,-vt/2,wt/2)),Ge.push({image:rt.toDataURL("image/png"),height:We.height,width:We.width});case 24:nt++,_t.next=7;break;case 27:return _t.abrupt("return",Ge);case 28:case"end":return _t.stop()}},Ze)}));return function(Ze){return Xe.apply(this,arguments)}}(),it=function(Xe){if(Object.entries(ae).length!==0&&Xe!==null){for(var Ze=[],ot=function(Ke){var je=Xe[Ke-1].image,nt="",Qe={height:Xe[Ke-1].height,width:Xe[Ke-1].width,display:"flex",cursor:"pointer"};ae.thumbCss&&ae.selectedThumbCss?nt=ie===Ke?ae.selectedThumbCss:ae.thumbCss:ie===Ke?(Qe.margin="10px 20px",Qe.border="5px solid rgba(58, 58, 64, 1)",Qe.boxShadow="rgba(0, 0, 0, 0.6) 0 4px 8px 0, rgba(0, 0, 0, 0.58) 0 6px 20px 0"):(Qe.margin="15px 25px",Qe.boxShadow="rgba(0, 0, 0, 0.6) 0px 2px 2px 0px"),Ze.push(k.default.createElement("img",{style:Qe,className:nt,onClick:function(){return ce(Ke)},ref:ie===Ke?Pe:null,key:Ke,alt:"thumbnail of page ".concat(Ke),src:je}))},Ge=1;Ge<=Xe.length;Ge++)ot(Ge);Ze.push(k.default.createElement("div",{key:0,style:{padding:"0px 10px"}})),Ve(Ze)}};if(i.useEffect(function(){Oe()},[$,ne,ie,se,le]),i.useEffect(function(){it(ue),Pe.current!==null&&Object.entries(ae).length!==0&&Pe.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[ie]),Object.entries(ae).length!==0){var tt={backgroundColor:ae.backgroundColor?ae.backgroundColor:"#EAE6DA",display:"flex",flexDirection:"row",overflowX:"auto"};return ae.onTop?k.default.createElement(k.default.Fragment,null,k.default.createElement("div",{className:re||"",style:re?{}:{height:"1000px",overflow:"auto"}},k.default.createElement("div",{style:Ye.status?{display:"block"}:{display:"none"}},k.default.createElement(Le,{message:Ye.message})),k.default.createElement("div",{style:tt},Me),k.default.createElement("canvas",{style:Ye.status?{display:"none"}:null,onContextMenu:function(Xe){return he?Xe.preventDefault():null},ref:$e,width:typeof window<"u"&&window.innerWidth,height:typeof window<"u"&&window.innerHeight})),k.default.createElement("canvas",{ref:Be,style:{display:"none"}})):k.default.createElement(k.default.Fragment,null,k.default.createElement("div",{className:re||"",style:re?{}:{height:"1000px",overflow:"auto"}},k.default.createElement("div",{style:Ye.status?{display:"block"}:{display:"none"}},k.default.createElement(Le,{message:Ye.message})),k.default.createElement("canvas",{style:Ye.status?{display:"none"}:null,onContextMenu:function(Xe){return he?Xe.preventDefault():null},ref:$e,width:typeof window<"u"&&window.innerWidth,height:typeof window<"u"&&window.innerHeight})),k.default.createElement("div",{style:tt},Me),k.default.createElement("canvas",{ref:Be,style:{display:"none"}}))}return k.default.createElement("div",null,k.default.createElement("div",{className:re||"",style:re?{}:{height:"1000px",overflow:"auto"}},k.default.createElement("div",{style:Ye.status?{display:"block"}:{display:"none"}},k.default.createElement(Le,{message:Ye.message})),k.default.createElement("canvas",{style:Ye.status?{display:"none"}:null,onContextMenu:function(Xe){return he?Xe.preventDefault():null},ref:$e,width:typeof window<"u"&&window.innerWidth,height:typeof window<"u"&&window.innerHeight})))};T.propTypes={document:w.default.any.isRequired,withCredentials:w.default.bool,password:w.default.string,pageNum:w.default.number.isRequired,scale:w.default.number.isRequired,rotation:w.default.number.isRequired,changePage:w.default.func,pageCount:w.default.func,showThumbnail:w.default.shape({scale:w.default.number,rotationAngle:w.default.number,onTop:w.default.bool,backgroundColor:w.default.string,thumbCss:w.default.string,selectedThumbCss:w.default.string}),protectContent:w.default.bool,watermark:w.default.shape({text:w.default.string,diagonal:w.default.bool,opacity:w.default.string,size:w.default.string,color:w.default.string}),canvasCss:w.default.string},T.defaultProps={changePage:function(){},pageCount:function(){},showThumbnail:{},protectContent:!1,watermark:{},canvasCss:""};var B=function(ee){var $=ee.css,te=ee.page,ne=ee.pages,ie=ee.handleNextClick,se=$||"button is-black is-marginless";return te===ne?k.default.createElement("button",{className:se,disabled:!0},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"keyboard_arrow_right"))):k.default.createElement("button",{className:se,onClick:ie},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"keyboard_arrow_right")))};B.propTypes={css:w.default.string,page:w.default.number.isRequired,pages:w.default.number.isRequired,handleNextClick:w.default.func.isRequired};var I=function(ee){var $=ee.css,te=ee.page,ne=ee.pages,ie=$||"is-size-7 is-vcentered has-text-centered is-inline-flex has-padding-top-5 button is-black is-marginless has-margin-left-5 has-margin-right-5";return k.default.createElement("span",{className:ie},"Page ".concat(te," / ").concat(ne))};I.propTypes={css:w.default.string,page:w.default.number.isRequired,pages:w.default.number.isRequired};var j=function(ee){var $=ee.css,te=ee.page,ne=ee.handlePrevClick,ie=$||"button is-black is-marginless";return te===1?k.default.createElement("button",{className:ie,disabled:!0},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"keyboard_arrow_left"))):k.default.createElement("button",{className:ie,onClick:ne},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"keyboard_arrow_left")))};j.propTypes={css:w.default.string,page:w.default.number.isRequired,handlePrevClick:w.default.func.isRequired};var D=function(ee){var $=ee.css,te=ee.scale,ne=ee.defaultScale,ie=ee.maxScale,se=ee.handleZoomIn,le=$||"button is-black is-marginless has-margin-left-5 has-margin-right-5",oe=ie;return ne>ie&&(oe=ne),te.toFixed(2)===oe.toFixed(2)?k.default.createElement("button",{className:le,disabled:!0},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"zoom_in"))):k.default.createElement("button",{className:le,onClick:se},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"zoom_in")))};D.propTypes={css:w.default.string,scale:w.default.number.isRequired,defaultScale:w.default.number.isRequired,maxScale:w.default.number.isRequired,handleZoomIn:w.default.func.isRequired};var _=function(ee){var $=ee.css,te=ee.scale,ne=ee.defaultScale,ie=ee.minScale,se=ee.handleZoomOut,le=$||"button is-black is-marginless has-margin-left-5 has-margin-right-5",oe=ie;return ne<ie&&(oe=ne),te.toFixed(2)===oe.toFixed(2)?k.default.createElement("button",{className:le,disabled:!0},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"zoom_out"))):k.default.createElement("button",{className:le,onClick:se},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"zoom_out")))};_.propTypes={css:w.default.string,scale:w.default.number.isRequired,defaultScale:w.default.number.isRequired,minScale:w.default.number.isRequired,handleZoomOut:w.default.func.isRequired};var z=function(ee){var $=ee.css,te=ee.scale,ne=ee.defaultScale,ie=ee.handleResetZoom,se=$||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return te.toFixed(2)===ne.toFixed(2)?k.default.createElement("button",{className:se,disabled:!0},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"refresh"))):k.default.createElement("button",{className:se,onClick:ie},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"refresh")))};z.propTypes={css:w.default.string,scale:w.default.number.isRequired,defaultScale:w.default.number.isRequired,handleResetZoom:w.default.func.isRequired};var L=function(ee){var $=ee.css,te=ee.rotationAngle,ne=ee.handleRotateLeft,ie=$||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return te===-90?k.default.createElement("button",{className:ie,disabled:!0},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"rotate_left"))):k.default.createElement("button",{className:ie,onClick:ne},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"rotate_left")))};L.propTypes={css:w.default.string,rotationAngle:w.default.number.isRequired,handleRotateLeft:w.default.func.isRequired};var F=function(ee){var $=ee.css,te=ee.rotationAngle,ne=ee.handleResetRotation,ie=$||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return te===0?k.default.createElement("button",{className:ie,disabled:!0},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"refresh"))):k.default.createElement("button",{className:ie,onClick:ne},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"refresh")))};F.propTypes={css:w.default.string,rotationAngle:w.default.number.isRequired,handleResetRotation:w.default.func.isRequired};var M=function(ee){var $=ee.css,te=ee.rotationAngle,ne=ee.handleRotateRight,ie=$||"button is-black is-marginless has-margin-left-5 has-margin-right-5";return te===90?k.default.createElement("button",{className:ie,disabled:!0},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"rotate_right"))):k.default.createElement("button",{className:ie,onClick:ne},k.default.createElement("span",{className:"icon is-small"},k.default.createElement("i",{className:"material-icons"},"rotate_right")))};M.propTypes={css:w.default.string,rotationAngle:w.default.number.isRequired,handleRotateRight:w.default.func.isRequired};var W=function(ee){var $=ee.page,te=ee.pages,ne=ee.scale,ie=ee.defaultScale,se=ee.maxScale,le=ee.minScale,oe=ee.rotationAngle,ce=ee.hideZoom,ae=ee.hideRotation,he=ee.css,de=ee.handlePrevClick,pe=ee.handleNextClick,re=ee.handleZoomIn,Ae=ee.handleResetZoom,ge=ee.handleZoomOut,Se=ee.handleRotateLeft,fe=ee.handleResetRotation,be=ee.handleRotateRight;return k.default.createElement("div",{className:"columns is-gapless ".concat(he.navbarWrapper||"box is-mobile has-text-white has-background-black has-margin-top-15 has-margin-bottom-15")},ce?k.default.createElement("div",{className:"column is-2"}):k.default.createElement("div",{className:"column is-2 buttons are-small has-addons"},k.default.createElement(_,{scale:ne,minScale:le,defaultScale:ie,css:he.zoomOutBtn,handleZoomOut:ge}),k.default.createElement(z,{scale:ne,defaultScale:ie,css:he.resetZoomBtn,handleResetZoom:Ae}),k.default.createElement(D,{scale:ne,maxScale:se,defaultScale:ie,css:he.zoomInBtn,handleZoomIn:re})),k.default.createElement("div",{className:"column"}),k.default.createElement("div",{className:"column is-3 buttons are-small has-addons is-centered"},k.default.createElement(j,{css:he.previousPageBtn,page:$,pages:te,handlePrevClick:de}),k.default.createElement(I,{css:he.pageIndicator,page:$,pages:te}),k.default.createElement(B,{css:he.nextPageBtn,page:$,pages:te,handleNextClick:pe})),k.default.createElement("div",{className:"column"}),ae?k.default.createElement("div",{className:"column is-2"}):k.default.createElement("div",{className:"column is-2 buttons are-small has-addons is-right"},k.default.createElement(L,{css:he.rotateLeftBtn,rotationAngle:oe,handleRotateLeft:Se}),k.default.createElement(F,{css:he.resetRotationBtn,rotationAngle:oe,handleResetRotation:fe}),k.default.createElement(M,{css:he.rotateRightBtn,rotationAngle:oe,handleRotateRight:be})))};function H(ee,$){var te=Object.keys(ee);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(ee);$&&(ne=ne.filter(function(ie){return Object.getOwnPropertyDescriptor(ee,ie).enumerable})),te.push.apply(te,ne)}return te}function V(ee){for(var $=1;$<arguments.length;$++){var te=arguments[$]!=null?arguments[$]:{};$%2?H(Object(te),!0).forEach(function(ne){Z.default(ee,ne,te[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(te)):H(Object(te)).forEach(function(ne){Object.defineProperty(ee,ne,Object.getOwnPropertyDescriptor(te,ne))})}return ee}W.propTypes={page:w.default.number.isRequired,pages:w.default.number.isRequired,scale:w.default.number,defaultScale:w.default.number,maxScale:w.default.number,minScale:w.default.number,rotationAngle:w.default.number,hideZoom:w.default.bool,hideRotation:w.default.bool,css:w.default.shape({navbarWrapper:w.default.string,pages:w.default.string,pageIndicator:w.default.string,previousPageBtn:w.default.string,nextPageBtn:w.default.string,zoomOutBtn:w.default.string,resetZoomBtn:w.default.string,zoomInBtn:w.default.string,rotateLeftBtn:w.default.string,resetRotationBtn:w.default.string,rotateRightBtn:w.default.string}),elements:w.default.shape({previousPageBtn:w.default.any,nextPageBtn:w.default.any,pages:w.default.any}),handlePrevClick:w.default.func.isRequired,handleNextClick:w.default.func.isRequired,handleZoomIn:w.default.func.isRequired,handleResetZoom:w.default.func.isRequired,handleZoomOut:w.default.func.isRequired,handleRotateLeft:w.default.func.isRequired,handleResetRotation:w.default.func.isRequired,handleRotateRight:w.default.func.isRequired},W.defaultProps={css:{},elements:{}};var G={display:"inline-block",verticalAlign:"text-bottom",backgroundColor:"currentColor",borderRadius:"50%",opacity:0,width:"0.5rem",height:"0.5rem",animationDuration:"0.75s",animationTimingFunction:"linear",animationIterationCount:"infinite",animationDirection:"normal",animationFillMode:"none",animationPlayState:"running",animationName:"spinner-grow"},J=V(V({},G),{},{animationDelay:"0s"}),U=V(V({},G),{},{animationDelay:"0.25s"}),X=V(V({},G),{},{animationDelay:"0.5s"}),K=function(){return k.default.createElement("div",{className:"flex-row has-margin-10 justify-center align-items-flex-end"},k.default.createElement("p",{className:"is-size-3 flex-column is-marginless"},"Loading"),k.default.createElement("div",{className:"flex-column has-padding-10"},k.default.createElement("div",{style:J})),k.default.createElement("div",{className:"flex-column has-padding-10"},k.default.createElement("div",{style:U})),k.default.createElement("div",{className:"flex-column has-padding-10"},k.default.createElement("div",{style:X})))};function Q(ee){var $=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var te,ne=x.default(ee);if($){var ie=x.default(this).constructor;te=Reflect.construct(ne,arguments,ie)}else te=ne.apply(this,arguments);return E.default(this,te)}}try{require("bulma/css/bulma.css"),require("bulma-helpers/css/bulma-helpers.min.css"),require("material-design-icons/iconfont/material-icons.css")}catch(ee){}var Y=function(ee){y.default(te,ee);var $=Q(te);function te(ne){var ie;return b.default(this,te),(ie=$.call(this,ne)).state={page:ie.props.page,prevPropPage:ie.props.page,scale:ie.props.scale,prevPropScale:ie.props.scale,rotationAngle:ie.props.rotationAngle,prevPropRotationAngle:ie.props.rotationAngle,pages:0,defaultScale:ie.props.scale,isReady:!1},ie.getPageCount=ie.getPageCount.bind(R.default(ie)),ie.handleThumbnailClick=ie.handleThumbnailClick.bind(R.default(ie)),ie.handlePrevClick=ie.handlePrevClick.bind(R.default(ie)),ie.handleNextClick=ie.handleNextClick.bind(R.default(ie)),ie.handleZoomIn=ie.handleZoomIn.bind(R.default(ie)),ie.handleResetZoom=ie.handleResetZoom.bind(R.default(ie)),ie.handleZoomOut=ie.handleZoomOut.bind(R.default(ie)),ie.handleRotateLeft=ie.handleRotateLeft.bind(R.default(ie)),ie.handleResetRotation=ie.handleResetRotation.bind(R.default(ie)),ie.handleRotateRight=ie.handleRotateRight.bind(R.default(ie)),ie}return v.default(te,[{key:"getPageCount",value:function(ne){this.state.pages!==ne&&(this.setState({pages:ne,isReady:!0}),this.props.getMaxPageCount&&this.props.getMaxPageCount(ne))}},{key:"handleThumbnailClick",value:function(ne){this.state.page!==ne&&this.setState({page:ne})}},{key:"handlePrevClick",value:function(){this.state.page!==1&&(this.setState(function(ne){return{page:ne.page-1}}),this.props.onPrevBtnClick&&this.props.onPrevBtnClick(this.state.page-1))}},{key:"handleNextClick",value:function(){this.state.page!==this.pages&&(this.setState(function(ne){return{page:ne.page+1}}),this.props.onNextBtnClick&&this.props.onNextBtnClick(this.state.page+1))}},{key:"handleZoomIn",value:function(){var ne=this.props.maxScale;this.state.defaultScale>this.props.maxScale&&(ne=this.state.defaultScale),this.state.scale<ne&&this.setState(function(ie,se){return{scale:ie.scale+se.scaleStep}}),this.props.onZoom&&this.props.onZoom(this.state.scale+this.props.scaleStep)}},{key:"handleResetZoom",value:function(){this.setState(function(ne){return{scale:ne.defaultScale}}),this.props.onZoom&&this.props.onZoom(this.state.defaultScale)}},{key:"handleZoomOut",value:function(){var ne=this.props.minScale;this.state.defaultScale<this.props.minScale&&(ne=this.state.defaultScale),this.state.scale>ne&&this.setState(function(ie,se){return{scale:ie.scale-se.scaleStep}}),this.props.onZoom&&this.props.onZoom(this.state.scale-this.props.scaleStep)}},{key:"handleRotateLeft",value:function(){this.state.rotationAngle!==-90&&this.setState({rotationAngle:-90}),this.props.onRotation&&this.props.onRotation(-90)}},{key:"handleResetRotation",value:function(){this.state.rotationAngle!==0&&this.setState({rotationAngle:0}),this.props.onRotation&&this.props.onRotation(0)}},{key:"handleRotateRight",value:function(){this.state.rotationAngle!==90&&this.setState({rotationAngle:90}),this.props.onRotation&&this.props.onRotation(90)}},{key:"render",value:function(){var ne=this,ie=this.props,se=ie.document,le=ie.withCredentials,oe=ie.password,ce=ie.loader,ae=ie.maxScale,he=ie.minScale,de=ie.externalInput,pe=ie.hideNavbar,re=ie.hideZoom,Ae=ie.hideRotation,ge=ie.navbarOnTop,Se=ie.navigation,fe=ie.css,be=ie.canvasCss,xe=ie.onDocumentClick,ue=ie.showThumbnail,we=ie.protectContent,Fe=ie.watermark,_e=ie.alert,Ee=this.state,Ce=Ee.page,ye=Ee.pages,Re=Ee.scale,Ye=Ee.defaultScale,ke=Ee.rotationAngle,$e=Se,Be=k.default.createElement(T,{document:se,withCredentials:le,password:oe,pageNum:Ce,scale:Re,rotation:ke,changePage:function(Te){return ne.handleThumbnailClick(Te)},pageCount:function(Te){return ne.getPageCount(Te)},showThumbnail:ue,protectContent:we,watermark:Fe,alert:_e,canvasCss:be}),Pe=null,Ue=pe;return de&&(Ue=!0),!Ue&&ye>0&&(Pe=Se&&g.default(Se)!=="object"?k.default.createElement($e,{page:Ce,pages:ye,scale:Re,defaultScale:Ye,maxScale:ae,minScale:he,rotationAngle:ke,hideZoom:re,hideRotation:Ae,handleNextClick:this.handleNextClick,handlePrevClick:this.handlePrevClick,handleZoomIn:this.handleZoomIn,handleResetZoom:this.handleResetZoom,handleZoomOut:this.handleZoomOut,handleRotateLeft:this.handleRotateLeft,handleResetRotation:this.handleResetRotation,handleRotateRight:this.handleRotateRight}):k.default.createElement(W,{page:Ce,pages:ye,scale:Re,defaultScale:Ye,maxScale:ae,minScale:he,rotationAngle:ke,hideZoom:re,hideRotation:Ae,css:Se?Se.css:void 0,handleNextClick:this.handleNextClick,handlePrevClick:this.handlePrevClick,handleZoomIn:this.handleZoomIn,handleResetZoom:this.handleResetZoom,handleZoomOut:this.handleZoomOut,handleRotateLeft:this.handleRotateLeft,handleResetRotation:this.handleResetRotation,handleRotateRight:this.handleRotateRight})),k.default.createElement("div",{className:fe||"container text-center"},k.default.createElement("div",{style:{display:this.state.isReady?"none":"block"}},k.default.createElement("div",{className:be||"",style:be?{}:{height:"1000px",overflow:"auto"}},ce||k.default.createElement(K,null))),k.default.createElement("div",{style:{display:this.state.isReady?"block":"none"}},ge?k.default.createElement("div",null,k.default.createElement("div",null,Pe),k.default.createElement("div",{onClick:xe},Be)):k.default.createElement("div",null,k.default.createElement("div",{onClick:xe},Be),k.default.createElement("div",null,Pe))))}}],[{key:"getDerivedStateFromProps",value:function(ne,ie){return ne.externalInput?ne.page!==ie.prevPropPage&&1<=ne.page&&ne.page<=ie.pages?{page:ne.page,prevPropPage:ne.page}:ne.scale!==ie.prevPropScale&&ne.minScale<=ne.scale&&ne.scale<=ne.maxScale?{scale:ne.scale,prevPropScale:ne.scale}:ne.rotationAngle===ie.prevPropRotationAngle||ne.rotationAngle!==90&&ne.rotationAngle!==0&&ne.rotationAngle!==-90?null:{rotationAngle:ne.rotationAngle,prevPropRotationAngle:ne.rotationAngle}:null}}]),te}(k.default.Component);Y.propTypes={document:w.default.shape({url:w.default.string,base64:w.default.string}).isRequired,withCredentials:w.default.bool,password:w.default.string,loader:w.default.node,externalInput:w.default.bool,page:w.default.number,scale:w.default.number,scaleStep:w.default.number,maxScale:w.default.number,minScale:w.default.number,css:w.default.string,canvasCss:w.default.string,rotationAngle:w.default.number,onDocumentClick:w.default.func,onPrevBtnClick:w.default.func,onNextBtnClick:w.default.func,onZoom:w.default.func,onRotation:w.default.func,getMaxPageCount:w.default.func,hideNavbar:w.default.bool,navbarOnTop:w.default.bool,hideZoom:w.default.bool,hideRotation:w.default.bool,showThumbnail:w.default.shape({scale:w.default.number,rotationAngle:w.default.number,onTop:w.default.bool,backgroundColor:w.default.string,thumbCss:w.default.string,selectedThumbCss:w.default.string}),protectContent:w.default.bool,watermark:w.default.shape({text:w.default.string,diagonal:w.default.bool,opacity:w.default.string,font:w.default.string,size:w.default.string,color:w.default.string}),alert:w.default.any,navigation:w.default.oneOfType([w.default.shape({css:w.default.shape({navbarWrapper:w.default.string,zoomOutBtn:w.default.string,resetZoomBtn:w.default.string,zoomInBtn:w.default.string,previousPageBtn:w.default.string,pageIndicator:w.default.string,nextPageBtn:w.default.string,rotateLeftBtn:w.default.string,resetRotationBtn:w.default.string,rotateRightBtn:w.default.string})}),w.default.any])},Y.defaultProps={page:1,withCredentials:!1,password:"",scale:1,scaleStep:1,maxScale:3,minScale:1,rotationAngle:0,externalInput:!1,hideNavbar:!1,hideZoom:!1,hideRotation:!1,navbarOnTop:!1,canvasCss:""},pdfViewerReactjs.exports=Y;var pdfViewerReactjsExports=pdfViewerReactjs.exports;const PDFViewer=getDefaultExportFromCjs(pdfViewerReactjsExports);function useSlot(ee,$){const{className:te,elementType:ne,ownerState:ie,externalForwardedProps:se,internalForwardedProps:le,shouldForwardComponentProp:oe=!1,...ce}=$,{component:ae,slots:he={[ee]:void 0},slotProps:de={[ee]:void 0},...pe}=se,re=he[ee]||ne,Ae=resolveComponentProps(de[ee],ie),{props:{component:ge,...Se},internalRef:fe}=mergeSlotProps({className:te,...ce,externalForwardedProps:ee==="root"?pe:void 0,externalSlotProps:Ae}),be=useForkRef(fe,Ae==null?void 0:Ae.ref,$.ref),xe=ee==="root"?ge||ae:ge,ue=appendOwnerState(re,{...ee==="root"&&!ae&&!he[ee]&&le,...ee!=="root"&&!he[ee]&&le,...Se,...xe&&!oe&&{as:xe},...xe&&oe&&{component:xe},ref:be},ie);return[re,ue]}function getAlertUtilityClass(ee){return generateUtilityClass("MuiAlert",ee)}const alertClasses=generateUtilityClasses("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),alertClasses$1=alertClasses;function getIconButtonUtilityClass(ee){return generateUtilityClass("MuiIconButton",ee)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),useUtilityClasses$1=ee=>{const{classes:$,disabled:te,color:ne,edge:ie,size:se,loading:le}=ee,oe={root:["root",le&&"loading",te&&"disabled",ne!=="default"&&`color${capitalize(ne)}`,ie&&`edge${capitalize(ie)}`,`size${capitalize(se)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return composeClasses(oe,getIconButtonUtilityClass,$)},IconButtonRoot=styled(ButtonBase,{name:"MuiIconButton",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.root,te.loading&&$.loading,te.color!=="default"&&$[`color${capitalize(te.color)}`],te.edge&&$[`edge${capitalize(te.edge)}`],$[`size${capitalize(te.size)}`]]}})(memoTheme(({theme:ee})=>({textAlign:"center",flex:"0 0 auto",fontSize:ee.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(ee.vars||ee).palette.action.active,transition:ee.transitions.create("background-color",{duration:ee.transitions.duration.shortest}),variants:[{props:$=>!$.disableRipple,style:{"--IconButton-hoverBg":ee.vars?`rgba(${ee.vars.palette.action.activeChannel} / ${ee.vars.palette.action.hoverOpacity})`:alpha(ee.palette.action.active,ee.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),memoTheme(({theme:ee})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(ee.palette).filter(createSimplePaletteValueFilter()).map(([$])=>({props:{color:$},style:{color:(ee.vars||ee).palette[$].main}})),...Object.entries(ee.palette).filter(createSimplePaletteValueFilter()).map(([$])=>({props:{color:$},style:{"--IconButton-hoverBg":ee.vars?`rgba(${(ee.vars||ee).palette[$].mainChannel} / ${ee.vars.palette.action.hoverOpacity})`:alpha((ee.vars||ee).palette[$].main,ee.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:ee.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:ee.typography.pxToRem(28)}}],[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(ee.vars||ee).palette.action.disabled},[`&.${iconButtonClasses.loading}`]:{color:"transparent"}}))),IconButtonLoadingIndicator=styled("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(ee,$)=>$.loadingIndicator})(({theme:ee})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(ee.vars||ee).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),IconButton=reactExports.forwardRef(function ee($,te){const ne=useDefaultProps({props:$,name:"MuiIconButton"}),{edge:ie=!1,children:se,className:le,color:oe="default",disabled:ce=!1,disableFocusRipple:ae=!1,size:he="medium",id:de,loading:pe=null,loadingIndicator:re,...Ae}=ne,ge=useId(de),Se=re??jsxRuntimeExports.jsx(CircularProgress,{"aria-labelledby":ge,color:"inherit",size:16}),fe={...ne,edge:ie,color:oe,disabled:ce,disableFocusRipple:ae,loading:pe,loadingIndicator:Se,size:he},be=useUtilityClasses$1(fe);return jsxRuntimeExports.jsxs(IconButtonRoot,{id:pe?ge:de,className:clsx(be.root,le),centerRipple:!0,focusRipple:!ae,disabled:ce||pe,ref:te,...Ae,ownerState:fe,children:[typeof pe=="boolean"&&jsxRuntimeExports.jsx("span",{className:be.loadingWrapper,style:{display:"contents"},children:jsxRuntimeExports.jsx(IconButtonLoadingIndicator,{className:be.loadingIndicator,ownerState:fe,children:pe&&Se})}),se]})}),SuccessOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ReportProblemOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ErrorOutlineIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),InfoOutlinedIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ClearIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),useUtilityClasses=ee=>{const{variant:$,color:te,severity:ne,classes:ie}=ee,se={root:["root",`color${capitalize(te||ne)}`,`${$}${capitalize(te||ne)}`,`${$}`],icon:["icon"],message:["message"],action:["action"]};return composeClasses(se,getAlertUtilityClass,ie)},AlertRoot=styled(Paper,{name:"MuiAlert",slot:"Root",overridesResolver:(ee,$)=>{const{ownerState:te}=ee;return[$.root,$[te.variant],$[`${te.variant}${capitalize(te.color||te.severity)}`]]}})(memoTheme(({theme:ee})=>{const $=ee.palette.mode==="light"?darken:lighten,te=ee.palette.mode==="light"?lighten:darken;return{...ee.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(ee.palette).filter(createSimplePaletteValueFilter(["light"])).map(([ne])=>({props:{colorSeverity:ne,variant:"standard"},style:{color:ee.vars?ee.vars.palette.Alert[`${ne}Color`]:$(ee.palette[ne].light,.6),backgroundColor:ee.vars?ee.vars.palette.Alert[`${ne}StandardBg`]:te(ee.palette[ne].light,.9),[`& .${alertClasses$1.icon}`]:ee.vars?{color:ee.vars.palette.Alert[`${ne}IconColor`]}:{color:ee.palette[ne].main}}})),...Object.entries(ee.palette).filter(createSimplePaletteValueFilter(["light"])).map(([ne])=>({props:{colorSeverity:ne,variant:"outlined"},style:{color:ee.vars?ee.vars.palette.Alert[`${ne}Color`]:$(ee.palette[ne].light,.6),border:`1px solid ${(ee.vars||ee).palette[ne].light}`,[`& .${alertClasses$1.icon}`]:ee.vars?{color:ee.vars.palette.Alert[`${ne}IconColor`]}:{color:ee.palette[ne].main}}})),...Object.entries(ee.palette).filter(createSimplePaletteValueFilter(["dark"])).map(([ne])=>({props:{colorSeverity:ne,variant:"filled"},style:{fontWeight:ee.typography.fontWeightMedium,...ee.vars?{color:ee.vars.palette.Alert[`${ne}FilledColor`],backgroundColor:ee.vars.palette.Alert[`${ne}FilledBg`]}:{backgroundColor:ee.palette.mode==="dark"?ee.palette[ne].dark:ee.palette[ne].main,color:ee.palette.getContrastText(ee.palette[ne].main)}}}))]}})),AlertIcon=styled("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(ee,$)=>$.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AlertMessage=styled("div",{name:"MuiAlert",slot:"Message",overridesResolver:(ee,$)=>$.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),AlertAction=styled("div",{name:"MuiAlert",slot:"Action",overridesResolver:(ee,$)=>$.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),defaultIconMapping={success:jsxRuntimeExports.jsx(SuccessOutlinedIcon,{fontSize:"inherit"}),warning:jsxRuntimeExports.jsx(ReportProblemOutlinedIcon,{fontSize:"inherit"}),error:jsxRuntimeExports.jsx(ErrorOutlineIcon,{fontSize:"inherit"}),info:jsxRuntimeExports.jsx(InfoOutlinedIcon,{fontSize:"inherit"})},Alert=reactExports.forwardRef(function ee($,te){const ne=useDefaultProps({props:$,name:"MuiAlert"}),{action:ie,children:se,className:le,closeText:oe="Close",color:ce,components:ae={},componentsProps:he={},icon:de,iconMapping:pe=defaultIconMapping,onClose:re,role:Ae="alert",severity:ge="success",slotProps:Se={},slots:fe={},variant:be="standard",...xe}=ne,ue={...ne,color:ce,severity:ge,variant:be,colorSeverity:ce||ge},we=useUtilityClasses(ue),Fe={slots:{closeButton:ae.CloseButton,closeIcon:ae.CloseIcon,...fe},slotProps:{...he,...Se}},[_e,Ee]=useSlot("root",{ref:te,shouldForwardComponentProp:!0,className:clsx(we.root,le),elementType:AlertRoot,externalForwardedProps:{...Fe,...xe},ownerState:ue,additionalProps:{role:Ae,elevation:0}}),[Ce,ye]=useSlot("icon",{className:we.icon,elementType:AlertIcon,externalForwardedProps:Fe,ownerState:ue}),[Re,Ye]=useSlot("message",{className:we.message,elementType:AlertMessage,externalForwardedProps:Fe,ownerState:ue}),[ke,$e]=useSlot("action",{className:we.action,elementType:AlertAction,externalForwardedProps:Fe,ownerState:ue}),[Be,Pe]=useSlot("closeButton",{elementType:IconButton,externalForwardedProps:Fe,ownerState:ue}),[Ue,Te]=useSlot("closeIcon",{elementType:ClearIcon,externalForwardedProps:Fe,ownerState:ue});return jsxRuntimeExports.jsxs(_e,{...Ee,children:[de!==!1?jsxRuntimeExports.jsx(Ce,{...ye,children:de||pe[ge]||defaultIconMapping[ge]}):null,jsxRuntimeExports.jsx(Re,{...Ye,children:se}),ie!=null?jsxRuntimeExports.jsx(ke,{...$e,children:ie}):null,ie==null&&re?jsxRuntimeExports.jsx(ke,{...$e,children:jsxRuntimeExports.jsx(Be,{size:"small","aria-label":oe,title:oe,color:"inherit",onClick:re,...Pe,children:jsxRuntimeExports.jsx(Ue,{fontSize:"small",...Te})})}):null]})});function AiOutlineDownload(ee){return GenIcon({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"},child:[]}]})(ee)}const PortfolioViewer=()=>{const[ee,$]=reactExports.useState(null),[te,ne]=reactExports.useState(!0),[ie,se]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{const oe=await fetch("https://portfoliobackend-311015061542.europe-west1.run.app/api/website/portfolio/download");if(!oe.ok)throw new Error("Failed to load portfolio PDF");const ce=await oe.blob();$(URL.createObjectURL(ce))}catch(oe){se(oe.message)}finally{ne(!1)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-white px-2 sm:px-4 py-6 bg-appbgcolor",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-6 text-center",children:"Portfolio PDF"}),te&&jsxRuntimeExports.jsx(CircularProgress,{color:"secondary"}),ie&&jsxRuntimeExports.jsx(Alert,{severity:"error",children:ie}),ee&&jsxRuntimeExports.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-lg shadow-lg p-3 sm:p-5 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx(PDFViewer,{document:{url:ee},canvasCss:"w-full max-w-full h-auto"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-6",children:jsxRuntimeExports.jsx(Button,{variant:"contained",color:"primary",startIcon:jsxRuntimeExports.jsx(AiOutlineDownload,{}),href:ee,download:"portfolio.pdf",children:"Download Portfolio"})})]})]})},ProjectCard=({title:ee,description:$,tech:te,image:ne,link:ie})=>jsxRuntimeExports.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl shadow-lg overflow-hidden transition hover:scale-105 hover:shadow-xl w-full max-w-xs flex flex-col",children:[jsxRuntimeExports.jsx("img",{src:ne,alt:ee,className:"w-full h-40 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-white",children:ee}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white mt-1",children:te}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white mt-2 flex-grow",children:$}),jsxRuntimeExports.jsx("div",{className:"mt-auto",children:jsxRuntimeExports.jsx(Button,{size:"small",href:ie,target:"_blank",rel:"noopener noreferrer",variant:"outlined",sx:{color:"white",borderColor:"white"},children:"Read More"})})]})]}),Projects=()=>{const[ee,$]=reactExports.useState([]),[te,ne]=reactExports.useState(!0);return reactExports.useEffect(()=>{fetch("https://portfoliobackend-311015061542.europe-west1.run.app/api/website/project/get-all-projects").then(ie=>{if(!ie.ok)throw new Error(`HTTP error! Status: ${ie.status}`);return ie.json()}).then(ie=>$(ie)).catch(ie=>console.error("Error fetching projects:",ie)).finally(()=>ne(!1))},[]),jsxRuntimeExports.jsxs("section",{className:"px-4 py-16",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"My Projects"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-8",children:te?Array.from({length:6}).map((ie,se)=>jsxRuntimeExports.jsx("div",{className:"w-full max-w-xs h-[300px] bg-gray-100 rounded-xl animate-pulse"},se)):ee.map((ie,se)=>{var le,oe;return jsxRuntimeExports.jsx(ProjectCard,{title:ie.title,description:ie.description,tech:ie.technologies.join(", "),image:((oe=(le=ie.images)==null?void 0:le[0])==null?void 0:oe.replace("github.com","raw.githubusercontent.com").replace("/blob/","/"))||"/images/fallback.png",link:ie.demoLink||ie.githubLink},ie._id||se)})})]})};function App(){const ee=useIsTouchDevice();return jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col min-h-screen bg-appbgcolor cursor-none",style:{backgroundImage:"url('/texture.png')",backgroundRepeat:"repeat",backgroundSize:"auto",backgroundBlendMode:"overlay"},children:[jsxRuntimeExports.jsx("div",{className:"sticky top-0 z-50",children:jsxRuntimeExports.jsx(NavBar,{})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto p-4 flex-grow relative z-10",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/blogs",element:jsxRuntimeExports.jsx(BlogList,{})}),jsxRuntimeExports.jsx(Route,{path:"/about",element:jsxRuntimeExports.jsx(PortfolioViewer,{})}),jsxRuntimeExports.jsx(Route,{path:"/projects",element:jsxRuntimeExports.jsx(Projects,{})})]})}),jsxRuntimeExports.jsx(Footer,{}),!ee&&jsxRuntimeExports.jsx(CustomCursor,{})]})})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
